(()=>{var __webpack_modules__={583:(module,__unused_webpack_exports,__webpack_require__)=>{eval('/*!\n * TOAST UI Calendar\n * @version 1.13.0 | Wed Dec 23 2020\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory(__webpack_require__(738), __webpack_require__(702));\n\telse {}\n})(window, function(__WEBPACK_EXTERNAL_MODULE_tui_code_snippet__, __WEBPACK_EXTERNAL_MODULE_tui_date_picker__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_1037__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_1037__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__nested_webpack_require_1037__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__nested_webpack_require_1037__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__nested_webpack_require_1037__.d = function(exports, name, getter) {\n/******/ \t\tif(!__nested_webpack_require_1037__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__nested_webpack_require_1037__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__nested_webpack_require_1037__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __nested_webpack_require_1037__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === \'object\' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__nested_webpack_require_1037__.r(ns);\n/******/ \t\tObject.defineProperty(ns, \'default\', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != \'string\') for(var key in value) __nested_webpack_require_1037__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__nested_webpack_require_1037__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__nested_webpack_require_1037__.d(getter, \'a\', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__nested_webpack_require_1037__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__nested_webpack_require_1037__.p = "/dist";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __nested_webpack_require_1037__(__nested_webpack_require_1037__.s = "./src/index.js");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ "./node_modules/handlebars-template-loader/runtime/index.js":\n/*!******************************************************************!*\\\n  !*** ./node_modules/handlebars-template-loader/runtime/index.js ***!\n  \\******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_4828__) {\n\nmodule.exports = __nested_webpack_require_4828__(/*! handlebars/runtime */ "./node_modules/handlebars/dist/cjs/handlebars.runtime.js");\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars.runtime.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars.runtime.js ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_5327__) {\n\n"use strict";\n\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\'default\'] = obj; return newObj; } }\n\nvar _handlebarsBase = __nested_webpack_require_5327__(/*! ./handlebars/base */ "./node_modules/handlebars/dist/cjs/handlebars/base.js");\n\nvar base = _interopRequireWildcard(_handlebarsBase);\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\n\nvar _handlebarsSafeString = __nested_webpack_require_5327__(/*! ./handlebars/safe-string */ "./node_modules/handlebars/dist/cjs/handlebars/safe-string.js");\n\nvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\nvar _handlebarsException = __nested_webpack_require_5327__(/*! ./handlebars/exception */ "./node_modules/handlebars/dist/cjs/handlebars/exception.js");\n\nvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\nvar _handlebarsUtils = __nested_webpack_require_5327__(/*! ./handlebars/utils */ "./node_modules/handlebars/dist/cjs/handlebars/utils.js");\n\nvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\nvar _handlebarsRuntime = __nested_webpack_require_5327__(/*! ./handlebars/runtime */ "./node_modules/handlebars/dist/cjs/handlebars/runtime.js");\n\nvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\nvar _handlebarsNoConflict = __nested_webpack_require_5327__(/*! ./handlebars/no-conflict */ "./node_modules/handlebars/dist/cjs/handlebars/no-conflict.js");\n\nvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  var hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = _handlebarsSafeString2[\'default\'];\n  hb.Exception = _handlebarsException2[\'default\'];\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function (spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nvar inst = create();\ninst.create = create;\n\n_handlebarsNoConflict2[\'default\'](inst);\n\ninst[\'default\'] = inst;\n\nexports[\'default\'] = inst;\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9oYW5kbGViYXJzLnJ1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OEJBQXNCLG1CQUFtQjs7SUFBN0IsSUFBSTs7Ozs7b0NBSU8sMEJBQTBCOzs7O21DQUMzQix3QkFBd0I7Ozs7K0JBQ3ZCLG9CQUFvQjs7SUFBL0IsS0FBSzs7aUNBQ1Esc0JBQXNCOztJQUFuQyxPQUFPOztvQ0FFSSwwQkFBMEI7Ozs7O0FBR2pELFNBQVMsTUFBTSxHQUFHO0FBQ2hCLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7O0FBRTFDLE9BQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLElBQUUsQ0FBQyxVQUFVLG9DQUFhLENBQUM7QUFDM0IsSUFBRSxDQUFDLFNBQVMsbUNBQVksQ0FBQztBQUN6QixJQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNqQixJQUFFLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDOztBQUU3QyxJQUFFLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUNoQixJQUFFLENBQUMsUUFBUSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQzNCLFdBQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDbkMsQ0FBQzs7QUFFRixTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELElBQUksSUFBSSxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVyQixrQ0FBVyxJQUFJLENBQUMsQ0FBQzs7QUFFakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7cUJBRVIsSUFBSSIsImZpbGUiOiJoYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBiYXNlIGZyb20gJy4vaGFuZGxlYmFycy9iYXNlJztcblxuLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuLy8gKFRoaXMgaXMgZG9uZSB0byBlYXNpbHkgc2hhcmUgY29kZSBiZXR3ZWVuIGNvbW1vbmpzIGFuZCBicm93c2UgZW52cylcbmltcG9ydCBTYWZlU3RyaW5nIGZyb20gJy4vaGFuZGxlYmFycy9zYWZlLXN0cmluZyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vaGFuZGxlYmFycy9leGNlcHRpb24nO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi9oYW5kbGViYXJzL3V0aWxzJztcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzL3J1bnRpbWUnO1xuXG5pbXBvcnQgbm9Db25mbGljdCBmcm9tICcuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QnO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgbGV0IGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IFNhZmVTdHJpbmc7XG4gIGhiLkV4Y2VwdGlvbiA9IEV4Y2VwdGlvbjtcbiAgaGIuVXRpbHMgPSBVdGlscztcbiAgaGIuZXNjYXBlRXhwcmVzc2lvbiA9IFV0aWxzLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgaGIuVk0gPSBydW50aW1lO1xuICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICByZXR1cm4gcnVudGltZS50ZW1wbGF0ZShzcGVjLCBoYik7XG4gIH07XG5cbiAgcmV0dXJuIGhiO1xufVxuXG5sZXQgaW5zdCA9IGNyZWF0ZSgpO1xuaW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cbm5vQ29uZmxpY3QoaW5zdCk7XG5cbmluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3Q7XG4iXX0=\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/base.js":\n/*!*************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/base.js ***!\n  \\*************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_10759__) {\n\n"use strict";\n\n\nexports.__esModule = true;\nexports.HandlebarsEnvironment = HandlebarsEnvironment;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _utils = __nested_webpack_require_10759__(/*! ./utils */ "./node_modules/handlebars/dist/cjs/handlebars/utils.js");\n\nvar _exception = __nested_webpack_require_10759__(/*! ./exception */ "./node_modules/handlebars/dist/cjs/handlebars/exception.js");\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _helpers = __nested_webpack_require_10759__(/*! ./helpers */ "./node_modules/handlebars/dist/cjs/handlebars/helpers.js");\n\nvar _decorators = __nested_webpack_require_10759__(/*! ./decorators */ "./node_modules/handlebars/dist/cjs/handlebars/decorators.js");\n\nvar _logger = __nested_webpack_require_10759__(/*! ./logger */ "./node_modules/handlebars/dist/cjs/handlebars/logger.js");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _internalProtoAccess = __nested_webpack_require_10759__(/*! ./internal/proto-access */ "./node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js");\n\nvar VERSION = \'4.7.6\';\nexports.VERSION = VERSION;\nvar COMPILER_REVISION = 8;\nexports.COMPILER_REVISION = COMPILER_REVISION;\nvar LAST_COMPATIBLE_COMPILER_REVISION = 7;\n\nexports.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;\nvar REVISION_CHANGES = {\n  1: \'<= 1.0.rc.2\', // 1.0.rc.2 is actually rev2 but doesn\'t report it\n  2: \'== 1.0.0-rc.3\',\n  3: \'== 1.0.0-rc.4\',\n  4: \'== 1.x.x\',\n  5: \'== 2.0.0-alpha.x\',\n  6: \'>= 2.0.0-beta.1\',\n  7: \'>= 4.0.0 <4.3.0\',\n  8: \'>= 4.3.0\'\n};\n\nexports.REVISION_CHANGES = REVISION_CHANGES;\nvar objectType = \'[object Object]\';\n\nfunction HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  _helpers.registerDefaultHelpers(this);\n  _decorators.registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: _logger2[\'default\'],\n  log: _logger2[\'default\'].log,\n\n  registerHelper: function registerHelper(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2[\'default\'](\'Arg not supported with multiple helpers\');\n      }\n      _utils.extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function unregisterHelper(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function registerPartial(name, partial) {\n    if (_utils.toString.call(name) === objectType) {\n      _utils.extend(this.partials, name);\n    } else {\n      if (typeof partial === \'undefined\') {\n        throw new _exception2[\'default\'](\'Attempting to register a partial called "\' + name + \'" as undefined\');\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function unregisterPartial(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function registerDecorator(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2[\'default\'](\'Arg not supported with multiple decorators\');\n      }\n      _utils.extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function unregisterDecorator(name) {\n    delete this.decorators[name];\n  },\n  /**\n   * Reset the memory of illegal property accesses that have already been logged.\n   * @deprecated should only be used in handlebars test-cases\n   */\n  resetLoggedPropertyAccesses: function resetLoggedPropertyAccesses() {\n    _internalProtoAccess.resetLoggedProperties();\n  }\n};\n\nvar log = _logger2[\'default\'].log;\n\nexports.log = log;\nexports.createFrame = _utils.createFrame;\nexports.logger = _logger2[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2Jhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7cUJBQThDLFNBQVM7O3lCQUNqQyxhQUFhOzs7O3VCQUNJLFdBQVc7OzBCQUNSLGNBQWM7O3NCQUNyQyxVQUFVOzs7O21DQUNTLHlCQUF5Qjs7QUFFeEQsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDOztBQUN4QixJQUFNLGlCQUFpQixHQUFHLENBQUMsQ0FBQzs7QUFDNUIsSUFBTSxpQ0FBaUMsR0FBRyxDQUFDLENBQUM7OztBQUU1QyxJQUFNLGdCQUFnQixHQUFHO0FBQzlCLEdBQUMsRUFBRSxhQUFhO0FBQ2hCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxVQUFVO0FBQ2IsR0FBQyxFQUFFLGtCQUFrQjtBQUNyQixHQUFDLEVBQUUsaUJBQWlCO0FBQ3BCLEdBQUMsRUFBRSxpQkFBaUI7QUFDcEIsR0FBQyxFQUFFLFVBQVU7Q0FDZCxDQUFDOzs7QUFFRixJQUFNLFVBQVUsR0FBRyxpQkFBaUIsQ0FBQzs7QUFFOUIsU0FBUyxxQkFBcUIsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRTtBQUNuRSxNQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sSUFBSSxFQUFFLENBQUM7QUFDN0IsTUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLElBQUksRUFBRSxDQUFDO0FBQy9CLE1BQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxJQUFJLEVBQUUsQ0FBQzs7QUFFbkMsa0NBQXVCLElBQUksQ0FBQyxDQUFDO0FBQzdCLHdDQUEwQixJQUFJLENBQUMsQ0FBQztDQUNqQzs7QUFFRCxxQkFBcUIsQ0FBQyxTQUFTLEdBQUc7QUFDaEMsYUFBVyxFQUFFLHFCQUFxQjs7QUFFbEMsUUFBTSxxQkFBUTtBQUNkLEtBQUcsRUFBRSxvQkFBTyxHQUFHOztBQUVmLGdCQUFjLEVBQUUsd0JBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNqQyxRQUFJLGdCQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7QUFDdEMsVUFBSSxFQUFFLEVBQUU7QUFDTixjQUFNLDJCQUFjLHlDQUF5QyxDQUFDLENBQUM7T0FDaEU7QUFDRCxvQkFBTyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzVCLE1BQU07QUFDTCxVQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUN6QjtHQUNGO0FBQ0Qsa0JBQWdCLEVBQUUsMEJBQVMsSUFBSSxFQUFFO0FBQy9CLFdBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUMzQjs7QUFFRCxpQkFBZSxFQUFFLHlCQUFTLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDdkMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLG9CQUFPLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDN0IsTUFBTTtBQUNMLFVBQUksT0FBTyxPQUFPLEtBQUssV0FBVyxFQUFFO0FBQ2xDLGNBQU0seUVBQ3dDLElBQUksb0JBQ2pELENBQUM7T0FDSDtBQUNELFVBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO0tBQy9CO0dBQ0Y7QUFDRCxtQkFBaUIsRUFBRSwyQkFBUyxJQUFJLEVBQUU7QUFDaEMsV0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQzVCOztBQUVELG1CQUFpQixFQUFFLDJCQUFTLElBQUksRUFBRSxFQUFFLEVBQUU7QUFDcEMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLFVBQUksRUFBRSxFQUFFO0FBQ04sY0FBTSwyQkFBYyw0Q0FBNEMsQ0FBQyxDQUFDO09BQ25FO0FBQ0Qsb0JBQU8sSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUMvQixNQUFNO0FBQ0wsVUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDNUI7R0FDRjtBQUNELHFCQUFtQixFQUFFLDZCQUFTLElBQUksRUFBRTtBQUNsQyxXQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDOUI7Ozs7O0FBS0QsNkJBQTJCLEVBQUEsdUNBQUc7QUFDNUIsZ0RBQXVCLENBQUM7R0FDekI7Q0FDRixDQUFDOztBQUVLLElBQUksR0FBRyxHQUFHLG9CQUFPLEdBQUcsQ0FBQzs7O1FBRW5CLFdBQVc7UUFBRSxNQUFNIiwiZmlsZSI6ImJhc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVGcmFtZSwgZXh0ZW5kLCB0b1N0cmluZyB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQgeyByZWdpc3RlckRlZmF1bHRIZWxwZXJzIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnMgfSBmcm9tICcuL2RlY29yYXRvcnMnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyByZXNldExvZ2dlZFByb3BlcnRpZXMgfSBmcm9tICcuL2ludGVybmFsL3Byb3RvLWFjY2Vzcyc7XG5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzQuNy42JztcbmV4cG9ydCBjb25zdCBDT01QSUxFUl9SRVZJU0lPTiA9IDg7XG5leHBvcnQgY29uc3QgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OID0gNztcblxuZXhwb3J0IGNvbnN0IFJFVklTSU9OX0NIQU5HRVMgPSB7XG4gIDE6ICc8PSAxLjAucmMuMicsIC8vIDEuMC5yYy4yIGlzIGFjdHVhbGx5IHJldjIgYnV0IGRvZXNuJ3QgcmVwb3J0IGl0XG4gIDI6ICc9PSAxLjAuMC1yYy4zJyxcbiAgMzogJz09IDEuMC4wLXJjLjQnLFxuICA0OiAnPT0gMS54LngnLFxuICA1OiAnPT0gMi4wLjAtYWxwaGEueCcsXG4gIDY6ICc+PSAyLjAuMC1iZXRhLjEnLFxuICA3OiAnPj0gNC4wLjAgPDQuMy4wJyxcbiAgODogJz49IDQuMy4wJ1xufTtcblxuY29uc3Qgb2JqZWN0VHlwZSA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG5leHBvcnQgZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzLCBkZWNvcmF0b3JzKSB7XG4gIHRoaXMuaGVscGVycyA9IGhlbHBlcnMgfHwge307XG4gIHRoaXMucGFydGlhbHMgPSBwYXJ0aWFscyB8fCB7fTtcbiAgdGhpcy5kZWNvcmF0b3JzID0gZGVjb3JhdG9ycyB8fCB7fTtcblxuICByZWdpc3RlckRlZmF1bHRIZWxwZXJzKHRoaXMpO1xuICByZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKHRoaXMpO1xufVxuXG5IYW5kbGViYXJzRW52aXJvbm1lbnQucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogSGFuZGxlYmFyc0Vudmlyb25tZW50LFxuXG4gIGxvZ2dlcjogbG9nZ2VyLFxuICBsb2c6IGxvZ2dlci5sb2csXG5cbiAgcmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikge1xuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGhlbHBlcnMnKTtcbiAgICAgIH1cbiAgICAgIGV4dGVuZCh0aGlzLmhlbHBlcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhlbHBlcnNbbmFtZV0gPSBmbjtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5oZWxwZXJzW25hbWVdO1xuICB9LFxuXG4gIHJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24obmFtZSwgcGFydGlhbCkge1xuICAgIGlmICh0b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBleHRlbmQodGhpcy5wYXJ0aWFscywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcGFydGlhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgICBgQXR0ZW1wdGluZyB0byByZWdpc3RlciBhIHBhcnRpYWwgY2FsbGVkIFwiJHtuYW1lfVwiIGFzIHVuZGVmaW5lZGBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFydGlhbHNbbmFtZV0gPSBwYXJ0aWFsO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5wYXJ0aWFsc1tuYW1lXTtcbiAgfSxcblxuICByZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgZGVjb3JhdG9ycycpO1xuICAgICAgfVxuICAgICAgZXh0ZW5kKHRoaXMuZGVjb3JhdG9ycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjb3JhdG9yc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmRlY29yYXRvcnNbbmFtZV07XG4gIH0sXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgbWVtb3J5IG9mIGlsbGVnYWwgcHJvcGVydHkgYWNjZXNzZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBsb2dnZWQuXG4gICAqIEBkZXByZWNhdGVkIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gaGFuZGxlYmFycyB0ZXN0LWNhc2VzXG4gICAqL1xuICByZXNldExvZ2dlZFByb3BlcnR5QWNjZXNzZXMoKSB7XG4gICAgcmVzZXRMb2dnZWRQcm9wZXJ0aWVzKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBsZXQgbG9nID0gbG9nZ2VyLmxvZztcblxuZXhwb3J0IHsgY3JlYXRlRnJhbWUsIGxvZ2dlciB9O1xuIl19\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/decorators.js":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/decorators.js ***!\n  \\*******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_21256__) {\n\n"use strict";\n\n\nexports.__esModule = true;\nexports.registerDefaultDecorators = registerDefaultDecorators;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _decoratorsInline = __nested_webpack_require_21256__(/*! ./decorators/inline */ "./node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js");\n\nvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\nfunction registerDefaultDecorators(instance) {\n  _decoratorsInline2[\'default\'](instance);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0NBQTJCLHFCQUFxQjs7OztBQUV6QyxTQUFTLHlCQUF5QixDQUFDLFFBQVEsRUFBRTtBQUNsRCxnQ0FBZSxRQUFRLENBQUMsQ0FBQztDQUMxQiIsImZpbGUiOiJkZWNvcmF0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVySW5saW5lIGZyb20gJy4vZGVjb3JhdG9ycy9pbmxpbmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyhpbnN0YW5jZSkge1xuICByZWdpc3RlcklubGluZShpbnN0YW5jZSk7XG59XG4iXX0=\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js ***!\n  \\**************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_22759__) {\n\n"use strict";\n\n\nexports.__esModule = true;\n\nvar _utils = __nested_webpack_require_22759__(/*! ../utils */ "./node_modules/handlebars/dist/cjs/handlebars/utils.js");\n\nexports[\'default\'] = function (instance) {\n  instance.registerDecorator(\'inline\', function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n};\n\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQXVCLFVBQVU7O3FCQUVsQixVQUFTLFFBQVEsRUFBRTtBQUNoQyxVQUFRLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQzNFLFFBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ25CLFdBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLFNBQUcsR0FBRyxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7O0FBRS9CLFlBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDbEMsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsY0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxRCxZQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLGlCQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUM5QixlQUFPLEdBQUcsQ0FBQztPQUNaLENBQUM7S0FDSDs7QUFFRCxTQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUU3QyxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlubGluZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJEZWNvcmF0b3IoJ2lubGluZScsIGZ1bmN0aW9uKGZuLCBwcm9wcywgY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgbGV0IHJldCA9IGZuO1xuICAgIGlmICghcHJvcHMucGFydGlhbHMpIHtcbiAgICAgIHByb3BzLnBhcnRpYWxzID0ge307XG4gICAgICByZXQgPSBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYXJ0aWFscyBzdGFjayBmcmFtZSBwcmlvciB0byBleGVjLlxuICAgICAgICBsZXQgb3JpZ2luYWwgPSBjb250YWluZXIucGFydGlhbHM7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IGV4dGVuZCh7fSwgb3JpZ2luYWwsIHByb3BzLnBhcnRpYWxzKTtcbiAgICAgICAgbGV0IHJldCA9IGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcmlnaW5hbDtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcHJvcHMucGFydGlhbHNbb3B0aW9ucy5hcmdzWzBdXSA9IG9wdGlvbnMuZm47XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiJdfQ==\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/exception.js":\n/*!******************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/exception.js ***!\n  \\******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n\n\nexports.__esModule = true;\nvar errorProps = [\'description\', \'fileName\', \'lineNumber\', \'endLineNumber\', \'message\', \'name\', \'number\', \'stack\'];\n\nfunction Exception(message, node) {\n  var loc = node && node.loc,\n      line = undefined,\n      endLineNumber = undefined,\n      column = undefined,\n      endColumn = undefined;\n\n  if (loc) {\n    line = loc.start.line;\n    endLineNumber = loc.end.line;\n    column = loc.start.column;\n    endColumn = loc.end.column;\n\n    message += \' - \' + line + \':\' + column;\n  }\n\n  var tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn\'t work.\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n      this.endLineNumber = endLineNumber;\n\n      // Work around issue under safari where we can\'t directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, \'column\', {\n          value: column,\n          enumerable: true\n        });\n        Object.defineProperty(this, \'endColumn\', {\n          value: endColumn,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n        this.endColumn = endColumn;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexports[\'default\'] = Exception;\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFNLFVBQVUsR0FBRyxDQUNqQixhQUFhLEVBQ2IsVUFBVSxFQUNWLFlBQVksRUFDWixlQUFlLEVBQ2YsU0FBUyxFQUNULE1BQU0sRUFDTixRQUFRLEVBQ1IsT0FBTyxDQUNSLENBQUM7O0FBRUYsU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtBQUNoQyxNQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUc7TUFDeEIsSUFBSSxZQUFBO01BQ0osYUFBYSxZQUFBO01BQ2IsTUFBTSxZQUFBO01BQ04sU0FBUyxZQUFBLENBQUM7O0FBRVosTUFBSSxHQUFHLEVBQUU7QUFDUCxRQUFJLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7QUFDdEIsaUJBQWEsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztBQUM3QixVQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7QUFDMUIsYUFBUyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDOztBQUUzQixXQUFPLElBQUksS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDO0dBQ3hDOztBQUVELE1BQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7OztBQUcxRCxPQUFLLElBQUksR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsRUFBRTtBQUNoRCxRQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0dBQzlDOzs7QUFHRCxNQUFJLEtBQUssQ0FBQyxpQkFBaUIsRUFBRTtBQUMzQixTQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0dBQzFDOztBQUVELE1BQUk7QUFDRixRQUFJLEdBQUcsRUFBRTtBQUNQLFVBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLFVBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDOzs7O0FBSW5DLFVBQUksTUFBTSxDQUFDLGNBQWMsRUFBRTtBQUN6QixjQUFNLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUU7QUFDcEMsZUFBSyxFQUFFLE1BQU07QUFDYixvQkFBVSxFQUFFLElBQUk7U0FDakIsQ0FBQyxDQUFDO0FBQ0gsY0FBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO0FBQ3ZDLGVBQUssRUFBRSxTQUFTO0FBQ2hCLG9CQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7T0FDSixNQUFNO0FBQ0wsWUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDckIsWUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7T0FDNUI7S0FDRjtHQUNGLENBQUMsT0FBTyxHQUFHLEVBQUU7O0dBRWI7Q0FDRjs7QUFFRCxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7O3FCQUVuQixTQUFTIiwiZmlsZSI6ImV4Y2VwdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGVycm9yUHJvcHMgPSBbXG4gICdkZXNjcmlwdGlvbicsXG4gICdmaWxlTmFtZScsXG4gICdsaW5lTnVtYmVyJyxcbiAgJ2VuZExpbmVOdW1iZXInLFxuICAnbWVzc2FnZScsXG4gICduYW1lJyxcbiAgJ251bWJlcicsXG4gICdzdGFjaydcbl07XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgIGxpbmUsXG4gICAgZW5kTGluZU51bWJlcixcbiAgICBjb2x1bW4sXG4gICAgZW5kQ29sdW1uO1xuXG4gIGlmIChsb2MpIHtcbiAgICBsaW5lID0gbG9jLnN0YXJ0LmxpbmU7XG4gICAgZW5kTGluZU51bWJlciA9IGxvYy5lbmQubGluZTtcbiAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuICAgIGVuZENvbHVtbiA9IGxvYy5lbmQuY29sdW1uO1xuXG4gICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBjb2x1bW47XG4gIH1cblxuICBsZXQgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgLy8gVW5mb3J0dW5hdGVseSBlcnJvcnMgYXJlIG5vdCBlbnVtZXJhYmxlIGluIENocm9tZSAoYXQgbGVhc3QpLCBzbyBgZm9yIHByb3AgaW4gdG1wYCBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXhjZXB0aW9uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGxvYykge1xuICAgICAgdGhpcy5saW5lTnVtYmVyID0gbGluZTtcbiAgICAgIHRoaXMuZW5kTGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XG5cbiAgICAgIC8vIFdvcmsgYXJvdW5kIGlzc3VlIHVuZGVyIHNhZmFyaSB3aGVyZSB3ZSBjYW4ndCBkaXJlY3RseSBzZXQgdGhlIGNvbHVtbiB2YWx1ZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2x1bW4nLCB7XG4gICAgICAgICAgdmFsdWU6IGNvbHVtbixcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2VuZENvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogZW5kQ29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgdGhpcy5lbmRDb2x1bW4gPSBlbmRDb2x1bW47XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChub3ApIHtcbiAgICAvKiBJZ25vcmUgaWYgdGhlIGJyb3dzZXIgaXMgdmVyeSBwYXJ0aWN1bGFyICovXG4gIH1cbn1cblxuRXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG5leHBvcnQgZGVmYXVsdCBFeGNlcHRpb247XG4iXX0=\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/helpers.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/helpers.js ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_32241__) {\n\n"use strict";\n\n\nexports.__esModule = true;\nexports.registerDefaultHelpers = registerDefaultHelpers;\nexports.moveHelperToHooks = moveHelperToHooks;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _helpersBlockHelperMissing = __nested_webpack_require_32241__(/*! ./helpers/block-helper-missing */ "./node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js");\n\nvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\nvar _helpersEach = __nested_webpack_require_32241__(/*! ./helpers/each */ "./node_modules/handlebars/dist/cjs/handlebars/helpers/each.js");\n\nvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\nvar _helpersHelperMissing = __nested_webpack_require_32241__(/*! ./helpers/helper-missing */ "./node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js");\n\nvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\nvar _helpersIf = __nested_webpack_require_32241__(/*! ./helpers/if */ "./node_modules/handlebars/dist/cjs/handlebars/helpers/if.js");\n\nvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\nvar _helpersLog = __nested_webpack_require_32241__(/*! ./helpers/log */ "./node_modules/handlebars/dist/cjs/handlebars/helpers/log.js");\n\nvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\nvar _helpersLookup = __nested_webpack_require_32241__(/*! ./helpers/lookup */ "./node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js");\n\nvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\nvar _helpersWith = __nested_webpack_require_32241__(/*! ./helpers/with */ "./node_modules/handlebars/dist/cjs/handlebars/helpers/with.js");\n\nvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\nfunction registerDefaultHelpers(instance) {\n  _helpersBlockHelperMissing2[\'default\'](instance);\n  _helpersEach2[\'default\'](instance);\n  _helpersHelperMissing2[\'default\'](instance);\n  _helpersIf2[\'default\'](instance);\n  _helpersLog2[\'default\'](instance);\n  _helpersLookup2[\'default\'](instance);\n  _helpersWith2[\'default\'](instance);\n}\n\nfunction moveHelperToHooks(instance, helperName, keepHelper) {\n  if (instance.helpers[helperName]) {\n    instance.hooks[helperName] = instance.helpers[helperName];\n    if (!keepHelper) {\n      delete instance.helpers[helperName];\n    }\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O3lDQUF1QyxnQ0FBZ0M7Ozs7MkJBQzlDLGdCQUFnQjs7OztvQ0FDUCwwQkFBMEI7Ozs7eUJBQ3JDLGNBQWM7Ozs7MEJBQ2IsZUFBZTs7Ozs2QkFDWixrQkFBa0I7Ozs7MkJBQ3BCLGdCQUFnQjs7OztBQUVsQyxTQUFTLHNCQUFzQixDQUFDLFFBQVEsRUFBRTtBQUMvQyx5Q0FBMkIsUUFBUSxDQUFDLENBQUM7QUFDckMsMkJBQWEsUUFBUSxDQUFDLENBQUM7QUFDdkIsb0NBQXNCLFFBQVEsQ0FBQyxDQUFDO0FBQ2hDLHlCQUFXLFFBQVEsQ0FBQyxDQUFDO0FBQ3JCLDBCQUFZLFFBQVEsQ0FBQyxDQUFDO0FBQ3RCLDZCQUFlLFFBQVEsQ0FBQyxDQUFDO0FBQ3pCLDJCQUFhLFFBQVEsQ0FBQyxDQUFDO0NBQ3hCOztBQUVNLFNBQVMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUU7QUFDbEUsTUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQ2hDLFlBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUMxRCxRQUFJLENBQUMsVUFBVSxFQUFFO0FBQ2YsYUFBTyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0tBQ3JDO0dBQ0Y7Q0FDRiIsImZpbGUiOiJoZWxwZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVyQmxvY2tIZWxwZXJNaXNzaW5nIGZyb20gJy4vaGVscGVycy9ibG9jay1oZWxwZXItbWlzc2luZyc7XG5pbXBvcnQgcmVnaXN0ZXJFYWNoIGZyb20gJy4vaGVscGVycy9lYWNoJztcbmltcG9ydCByZWdpc3RlckhlbHBlck1pc3NpbmcgZnJvbSAnLi9oZWxwZXJzL2hlbHBlci1taXNzaW5nJztcbmltcG9ydCByZWdpc3RlcklmIGZyb20gJy4vaGVscGVycy9pZic7XG5pbXBvcnQgcmVnaXN0ZXJMb2cgZnJvbSAnLi9oZWxwZXJzL2xvZyc7XG5pbXBvcnQgcmVnaXN0ZXJMb29rdXAgZnJvbSAnLi9oZWxwZXJzL2xvb2t1cCc7XG5pbXBvcnQgcmVnaXN0ZXJXaXRoIGZyb20gJy4vaGVscGVycy93aXRoJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMoaW5zdGFuY2UpIHtcbiAgcmVnaXN0ZXJCbG9ja0hlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlckVhY2goaW5zdGFuY2UpO1xuICByZWdpc3RlckhlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlcklmKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJMb2coaW5zdGFuY2UpO1xuICByZWdpc3Rlckxvb2t1cChpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyV2l0aChpbnN0YW5jZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlSGVscGVyVG9Ib29rcyhpbnN0YW5jZSwgaGVscGVyTmFtZSwga2VlcEhlbHBlcikge1xuICBpZiAoaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXSkge1xuICAgIGluc3RhbmNlLmhvb2tzW2hlbHBlck5hbWVdID0gaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXTtcbiAgICBpZiAoIWtlZXBIZWxwZXIpIHtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdO1xuICAgIH1cbiAgfVxufVxuIl19\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js":\n/*!*************************************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js ***!\n  \\*************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_37203__) {\n\n"use strict";\n\n\nexports.__esModule = true;\n\nvar _utils = __nested_webpack_require_37203__(/*! ../utils */ "./node_modules/handlebars/dist/cjs/handlebars/utils.js");\n\nexports[\'default\'] = function (instance) {\n  instance.registerHelper(\'blockHelperMissing\', function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  });\n};\n\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBd0QsVUFBVTs7cUJBRW5ELFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZFLFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPO1FBQzNCLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVsQixRQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7QUFDcEIsYUFBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDakIsTUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtBQUMvQyxhQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0QixNQUFNLElBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUMzQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFlBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLGlCQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlCOztBQUVELGVBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO09BQ2hELE1BQU07QUFDTCxlQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN0QjtLQUNGLE1BQU07QUFDTCxVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLElBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFDakIsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQ3hCLE9BQU8sQ0FBQyxJQUFJLENBQ2IsQ0FBQztBQUNGLGVBQU8sR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztPQUMxQjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDN0I7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJibG9jay1oZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFwcGVuZENvbnRleHRQYXRoLCBjcmVhdGVGcmFtZSwgaXNBcnJheSB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2Jsb2NrSGVscGVyTWlzc2luZycsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBsZXQgaW52ZXJzZSA9IG9wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZm4odGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgaWYgKGNvbnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgICBvcHRpb25zLmlkcyA9IFtvcHRpb25zLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGxldCBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKFxuICAgICAgICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCxcbiAgICAgICAgICBvcHRpb25zLm5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgb3B0aW9ucyA9IHsgZGF0YTogZGF0YSB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/helpers/each.js":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/helpers/each.js ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_41505__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _utils = __nested_webpack_require_41505__(/*! ../utils */ "./node_modules/handlebars/dist/cjs/handlebars/utils.js");\n\nvar _exception = __nested_webpack_require_41505__(/*! ../exception */ "./node_modules/handlebars/dist/cjs/handlebars/exception.js");\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports[\'default\'] = function (instance) {\n  instance.registerHelper(\'each\', function (context, options) {\n    if (!options) {\n      throw new _exception2[\'default\'](\'Must pass iterator to #each\');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = \'\',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + \'.\';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === \'object\') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (global.Symbol && context[global.Symbol.iterator]) {\n        var newContext = [];\n        var iterator = context[global.Symbol.iterator]();\n        for (var it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n        context = newContext;\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        (function () {\n          var priorKey = undefined;\n\n          Object.keys(context).forEach(function (key) {\n            // We\'re running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          });\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1, true);\n          }\n        })();\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n};\n\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQU1PLFVBQVU7O3lCQUNLLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVMsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN6RCxRQUFJLENBQUMsT0FBTyxFQUFFO0FBQ1osWUFBTSwyQkFBYyw2QkFBNkIsQ0FBQyxDQUFDO0tBQ3BEOztBQUVELFFBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFO1FBQ2pCLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTztRQUN6QixDQUFDLEdBQUcsQ0FBQztRQUNMLEdBQUcsR0FBRyxFQUFFO1FBQ1IsSUFBSSxZQUFBO1FBQ0osV0FBVyxZQUFBLENBQUM7O0FBRWQsUUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUU7QUFDL0IsaUJBQVcsR0FDVCx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztLQUNyRTs7QUFFRCxRQUFJLGtCQUFXLE9BQU8sQ0FBQyxFQUFFO0FBQ3ZCLGFBQU8sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCOztBQUVELFFBQUksT0FBTyxDQUFDLElBQUksRUFBRTtBQUNoQixVQUFJLEdBQUcsbUJBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xDOztBQUVELGFBQVMsYUFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ3pDLFVBQUksSUFBSSxFQUFFO0FBQ1IsWUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUM7QUFDakIsWUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkIsWUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLEtBQUssQ0FBQyxDQUFDO0FBQ3pCLFlBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQzs7QUFFbkIsWUFBSSxXQUFXLEVBQUU7QUFDZixjQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsR0FBRyxLQUFLLENBQUM7U0FDeEM7T0FDRjs7QUFFRCxTQUFHLEdBQ0QsR0FBRyxHQUNILEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDakIsWUFBSSxFQUFFLElBQUk7QUFDVixtQkFBVyxFQUFFLG1CQUNYLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUN2QixDQUFDLFdBQVcsR0FBRyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQzVCO09BQ0YsQ0FBQyxDQUFDO0tBQ047O0FBRUQsUUFBSSxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO0FBQzFDLFVBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNwQixhQUFLLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxjQUFJLENBQUMsSUFBSSxPQUFPLEVBQUU7QUFDaEIseUJBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1dBQy9DO1NBQ0Y7T0FDRixNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtBQUMzRCxZQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDdEIsWUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztBQUNuRCxhQUFLLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUM3RCxvQkFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDM0I7QUFDRCxlQUFPLEdBQUcsVUFBVSxDQUFDO0FBQ3JCLGFBQUssSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3ZDLHVCQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMvQztPQUNGLE1BQU07O0FBQ0wsY0FBSSxRQUFRLFlBQUEsQ0FBQzs7QUFFYixnQkFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxHQUFHLEVBQUk7Ozs7QUFJbEMsZ0JBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQiwyQkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDaEM7QUFDRCxvQkFBUSxHQUFHLEdBQUcsQ0FBQztBQUNmLGFBQUMsRUFBRSxDQUFDO1dBQ0wsQ0FBQyxDQUFDO0FBQ0gsY0FBSSxRQUFRLEtBQUssU0FBUyxFQUFFO0FBQzFCLHlCQUFhLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7V0FDdEM7O09BQ0Y7S0FDRjs7QUFFRCxRQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDWCxTQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3JCOztBQUVELFdBQU8sR0FBRyxDQUFDO0dBQ1osQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiZWFjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFwcGVuZENvbnRleHRQYXRoLFxuICBibG9ja1BhcmFtcyxcbiAgY3JlYXRlRnJhbWUsXG4gIGlzQXJyYXksXG4gIGlzRnVuY3Rpb25cbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgaSA9IDAsXG4gICAgICByZXQgPSAnJyxcbiAgICAgIGRhdGEsXG4gICAgICBjb250ZXh0UGF0aDtcblxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgIGNvbnRleHRQYXRoID1cbiAgICAgICAgYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSkgKyAnLic7XG4gICAgfVxuXG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuICAgICAgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhlY0l0ZXJhdGlvbihmaWVsZCwgaW5kZXgsIGxhc3QpIHtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGRhdGEua2V5ID0gZmllbGQ7XG4gICAgICAgIGRhdGEuaW5kZXggPSBpbmRleDtcbiAgICAgICAgZGF0YS5maXJzdCA9IGluZGV4ID09PSAwO1xuICAgICAgICBkYXRhLmxhc3QgPSAhIWxhc3Q7XG5cbiAgICAgICAgaWYgKGNvbnRleHRQYXRoKSB7XG4gICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGNvbnRleHRQYXRoICsgZmllbGQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0ID1cbiAgICAgICAgcmV0ICtcbiAgICAgICAgZm4oY29udGV4dFtmaWVsZF0sIHtcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhcbiAgICAgICAgICAgIFtjb250ZXh0W2ZpZWxkXSwgZmllbGRdLFxuICAgICAgICAgICAgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdXG4gICAgICAgICAgKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dCAmJiB0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBjb250ZXh0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIGlmIChpIGluIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24oaSwgaSwgaSA9PT0gY29udGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ2xvYmFsLlN5bWJvbCAmJiBjb250ZXh0W2dsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbnRleHQgPSBbXTtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBjb250ZXh0W2dsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIGZvciAobGV0IGl0ID0gaXRlcmF0b3IubmV4dCgpOyAhaXQuZG9uZTsgaXQgPSBpdGVyYXRvci5uZXh0KCkpIHtcbiAgICAgICAgICBuZXdDb250ZXh0LnB1c2goaXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBuZXdDb250ZXh0O1xuICAgICAgICBmb3IgKGxldCBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBwcmlvcktleTtcblxuICAgICAgICBPYmplY3Qua2V5cyhjb250ZXh0KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgLy8gV2UncmUgcnVubmluZyB0aGUgaXRlcmF0aW9ucyBvbmUgc3RlcCBvdXQgb2Ygc3luYyBzbyB3ZSBjYW4gZGV0ZWN0XG4gICAgICAgICAgLy8gdGhlIGxhc3QgaXRlcmF0aW9uIHdpdGhvdXQgaGF2ZSB0byBzY2FuIHRoZSBvYmplY3QgdHdpY2UgYW5kIGNyZWF0ZVxuICAgICAgICAgIC8vIGFuIGl0ZXJtZWRpYXRlIGtleXMgYXJyYXkuXG4gICAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24ocHJpb3JLZXksIGkgLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JLZXkgPSBrZXk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiJdfQ==\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_41505__(/*! ./../../../../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js":\n/*!*******************************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js ***!\n  \\*******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_52190__) {\n\n"use strict";\n\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _exception = __nested_webpack_require_52190__(/*! ../exception */ "./node_modules/handlebars/dist/cjs/handlebars/exception.js");\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports[\'default\'] = function (instance) {\n  instance.registerHelper(\'helperMissing\', function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2[\'default\'](\'Missing helper: "\' + arguments[arguments.length - 1].name + \'"\');\n    }\n  });\n};\n\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozt5QkFBc0IsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsaUNBQWdDO0FBQ3ZFLFFBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7O0FBRTFCLGFBQU8sU0FBUyxDQUFDO0tBQ2xCLE1BQU07O0FBRUwsWUFBTSwyQkFDSixtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUNqRSxDQUFDO0tBQ0g7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJoZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbigvKiBbYXJncywgXW9wdGlvbnMgKi8pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAgICdNaXNzaW5nIGhlbHBlcjogXCInICsgYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXS5uYW1lICsgJ1wiJ1xuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufVxuIl19\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/helpers/if.js":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/helpers/if.js ***!\n  \\*******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_54670__) {\n\n"use strict";\n\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _utils = __nested_webpack_require_54670__(/*! ../utils */ "./node_modules/handlebars/dist/cjs/handlebars/utils.js");\n\nvar _exception = __nested_webpack_require_54670__(/*! ../exception */ "./node_modules/handlebars/dist/cjs/handlebars/exception.js");\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports[\'default\'] = function (instance) {\n  instance.registerHelper(\'if\', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2[\'default\'](\'#if requires exactly one argument\');\n    }\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper(\'unless\', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2[\'default\'](\'#unless requires exactly one argument\');\n    }\n    return instance.helpers[\'if\'].call(this, conditional, {\n      fn: options.inverse,\n      inverse: options.fn,\n      hash: options.hash\n    });\n  });\n};\n\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztxQkFBb0MsVUFBVTs7eUJBQ3hCLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQ3pCLFlBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztLQUMxRDtBQUNELFFBQUksa0JBQVcsV0FBVyxDQUFDLEVBQUU7QUFDM0IsaUJBQVcsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3RDOzs7OztBQUtELFFBQUksQUFBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsV0FBVyxJQUFLLGVBQVEsV0FBVyxDQUFDLEVBQUU7QUFDdkUsYUFBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDekI7R0FDRixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxXQUFXLEVBQUUsT0FBTyxFQUFFO0FBQy9ELFFBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7QUFDekIsWUFBTSwyQkFBYyx1Q0FBdUMsQ0FBQyxDQUFDO0tBQzlEO0FBQ0QsV0FBTyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO0FBQ3BELFFBQUUsRUFBRSxPQUFPLENBQUMsT0FBTztBQUNuQixhQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUU7QUFDbkIsVUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO0tBQ25CLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFbXB0eSwgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2lmJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCcjaWYgcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24oY29uZGl0aW9uYWwpKSB7XG4gICAgICBjb25kaXRpb25hbCA9IGNvbmRpdGlvbmFsLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBiZWhhdmlvciBpcyB0byByZW5kZXIgdGhlIHBvc2l0aXZlIHBhdGggaWYgdGhlIHZhbHVlIGlzIHRydXRoeSBhbmQgbm90IGVtcHR5LlxuICAgIC8vIFRoZSBgaW5jbHVkZVplcm9gIG9wdGlvbiBtYXkgYmUgc2V0IHRvIHRyZWF0IHRoZSBjb25kdGlvbmFsIGFzIHB1cmVseSBub3QgZW1wdHkgYmFzZWQgb24gdGhlXG4gICAgLy8gYmVoYXZpb3Igb2YgaXNFbXB0eS4gRWZmZWN0aXZlbHkgdGhpcyBkZXRlcm1pbmVzIGlmIDAgaXMgaGFuZGxlZCBieSB0aGUgcG9zaXRpdmUgcGF0aCBvciBuZWdhdGl2ZS5cbiAgICBpZiAoKCFvcHRpb25zLmhhc2guaW5jbHVkZVplcm8gJiYgIWNvbmRpdGlvbmFsKSB8fCBpc0VtcHR5KGNvbmRpdGlvbmFsKSkge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgfVxuICB9KTtcblxuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcigndW5sZXNzJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCcjdW5sZXNzIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzWydpZiddLmNhbGwodGhpcywgY29uZGl0aW9uYWwsIHtcbiAgICAgIGZuOiBvcHRpb25zLmludmVyc2UsXG4gICAgICBpbnZlcnNlOiBvcHRpb25zLmZuLFxuICAgICAgaGFzaDogb3B0aW9ucy5oYXNoXG4gICAgfSk7XG4gIH0pO1xufVxuIl19\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/helpers/log.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/helpers/log.js ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n\n\nexports.__esModule = true;\n\nexports[\'default\'] = function (instance) {\n  instance.registerHelper(\'log\', function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  });\n};\n\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsa0NBQWlDO0FBQzlELFFBQUksSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ3BCLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM1QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsVUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6Qjs7QUFFRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxRQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtBQUM5QixXQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDNUIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3JELFdBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztLQUM1QjtBQUNELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRWhCLFlBQVEsQ0FBQyxHQUFHLE1BQUEsQ0FBWixRQUFRLEVBQVEsSUFBSSxDQUFDLENBQUM7R0FDdkIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICBsZXQgbGV2ZWwgPSAxO1xuICAgIGlmIChvcHRpb25zLmhhc2gubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmhhc2gubGV2ZWw7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhLmxldmVsICE9IG51bGwpIHtcbiAgICAgIGxldmVsID0gb3B0aW9ucy5kYXRhLmxldmVsO1xuICAgIH1cbiAgICBhcmdzWzBdID0gbGV2ZWw7XG5cbiAgICBpbnN0YW5jZS5sb2coLi4uYXJncyk7XG4gIH0pO1xufVxuIl19\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n\n\nexports.__esModule = true;\n\nexports[\'default\'] = function (instance) {\n  instance.registerHelper(\'lookup\', function (obj, field, options) {\n    if (!obj) {\n      // Note for 5.0: Change to "obj == null" in 5.0\n      return obj;\n    }\n    return options.lookupProperty(obj, field);\n  });\n};\n\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9va3VwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUM5RCxRQUFJLENBQUMsR0FBRyxFQUFFOztBQUVSLGFBQU8sR0FBRyxDQUFDO0tBQ1o7QUFDRCxXQUFPLE9BQU8sQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0dBQzNDLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Imxvb2t1cC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdsb29rdXAnLCBmdW5jdGlvbihvYmosIGZpZWxkLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgIC8vIE5vdGUgZm9yIDUuMDogQ2hhbmdlIHRvIFwib2JqID09IG51bGxcIiBpbiA1LjBcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLmxvb2t1cFByb3BlcnR5KG9iaiwgZmllbGQpO1xuICB9KTtcbn1cbiJdfQ==\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/helpers/with.js":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/helpers/with.js ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_64226__) {\n\n"use strict";\n\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\nvar _utils = __nested_webpack_require_64226__(/*! ../utils */ "./node_modules/handlebars/dist/cjs/handlebars/utils.js");\n\nvar _exception = __nested_webpack_require_64226__(/*! ../exception */ "./node_modules/handlebars/dist/cjs/handlebars/exception.js");\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports[\'default\'] = function (instance) {\n  instance.registerHelper(\'with\', function (context, options) {\n    if (arguments.length != 2) {\n      throw new _exception2[\'default\'](\'#with requires exactly one argument\');\n    }\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n};\n\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQU1PLFVBQVU7O3lCQUNLLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVMsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN6RCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQ3pCLFlBQU0sMkJBQWMscUNBQXFDLENBQUMsQ0FBQztLQUM1RDtBQUNELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFDdkIsYUFBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUI7O0FBRUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQzs7QUFFcEIsUUFBSSxDQUFDLGVBQVEsT0FBTyxDQUFDLEVBQUU7QUFDckIsVUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztBQUN4QixVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLEdBQUcsbUJBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pDLFlBQUksQ0FBQyxXQUFXLEdBQUcseUJBQ2pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUNmLENBQUM7T0FDSDs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUU7QUFDakIsWUFBSSxFQUFFLElBQUk7QUFDVixtQkFBVyxFQUFFLG1CQUFZLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO09BQ2hFLENBQUMsQ0FBQztLQUNKLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUI7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJ3aXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXBwZW5kQ29udGV4dFBhdGgsXG4gIGJsb2NrUGFyYW1zLFxuICBjcmVhdGVGcmFtZSxcbiAgaXNFbXB0eSxcbiAgaXNGdW5jdGlvblxufSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd3aXRoJywgZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJyN3aXRoIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQpKSB7XG4gICAgICBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm47XG5cbiAgICBpZiAoIWlzRW1wdHkoY29udGV4dCkpIHtcbiAgICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuICAgICAgICBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKFxuICAgICAgICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCxcbiAgICAgICAgICBvcHRpb25zLmlkc1swXVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oY29udGV4dCwge1xuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBibG9ja1BhcmFtczogYmxvY2tQYXJhbXMoW2NvbnRleHRdLCBbZGF0YSAmJiBkYXRhLmNvbnRleHRQYXRoXSlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js":\n/*!******************************************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js ***!\n  \\******************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_68618__) {\n\n"use strict";\n\n\nexports.__esModule = true;\nexports.createNewLookupObject = createNewLookupObject;\n\nvar _utils = __nested_webpack_require_68618__(/*! ../utils */ "./node_modules/handlebars/dist/cjs/handlebars/utils.js");\n\n/**\n * Create a new object with "null"-prototype to avoid truthy results on prototype properties.\n * The resulting object can be used with "object[property]" to check if a property exists\n * @param {...object} sources a varargs parameter of source objects that will be merged\n * @returns {object}\n */\n\nfunction createNewLookupObject() {\n  for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n\n  return _utils.extend.apply(undefined, [Object.create(null)].concat(sources));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL2NyZWF0ZS1uZXctbG9va3VwLW9iamVjdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztxQkFBdUIsVUFBVTs7Ozs7Ozs7O0FBUTFCLFNBQVMscUJBQXFCLEdBQWE7b0NBQVQsT0FBTztBQUFQLFdBQU87OztBQUM5QyxTQUFPLGdDQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQUssT0FBTyxFQUFDLENBQUM7Q0FDaEQiLCJmaWxlIjoiY3JlYXRlLW5ldy1sb29rdXAtb2JqZWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBvYmplY3Qgd2l0aCBcIm51bGxcIi1wcm90b3R5cGUgdG8gYXZvaWQgdHJ1dGh5IHJlc3VsdHMgb24gcHJvdG90eXBlIHByb3BlcnRpZXMuXG4gKiBUaGUgcmVzdWx0aW5nIG9iamVjdCBjYW4gYmUgdXNlZCB3aXRoIFwib2JqZWN0W3Byb3BlcnR5XVwiIHRvIGNoZWNrIGlmIGEgcHJvcGVydHkgZXhpc3RzXG4gKiBAcGFyYW0gey4uLm9iamVjdH0gc291cmNlcyBhIHZhcmFyZ3MgcGFyYW1ldGVyIG9mIHNvdXJjZSBvYmplY3RzIHRoYXQgd2lsbCBiZSBtZXJnZWRcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdMb29rdXBPYmplY3QoLi4uc291cmNlcykge1xuICByZXR1cm4gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIC4uLnNvdXJjZXMpO1xufVxuIl19\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js":\n/*!******************************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_70908__) {\n\n"use strict";\n\n\nexports.__esModule = true;\nexports.createProtoAccessControl = createProtoAccessControl;\nexports.resultIsAllowed = resultIsAllowed;\nexports.resetLoggedProperties = resetLoggedProperties;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\'default\'] = obj; return newObj; } }\n\nvar _createNewLookupObject = __nested_webpack_require_70908__(/*! ./create-new-lookup-object */ "./node_modules/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js");\n\nvar _logger = __nested_webpack_require_70908__(/*! ../logger */ "./node_modules/handlebars/dist/cjs/handlebars/logger.js");\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar loggedProperties = Object.create(null);\n\nfunction createProtoAccessControl(runtimeOptions) {\n  var defaultMethodWhiteList = Object.create(null);\n  defaultMethodWhiteList[\'constructor\'] = false;\n  defaultMethodWhiteList[\'__defineGetter__\'] = false;\n  defaultMethodWhiteList[\'__defineSetter__\'] = false;\n  defaultMethodWhiteList[\'__lookupGetter__\'] = false;\n\n  var defaultPropertyWhiteList = Object.create(null);\n  // eslint-disable-next-line no-proto\n  defaultPropertyWhiteList[\'__proto__\'] = false;\n\n  return {\n    properties: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultPropertyWhiteList, runtimeOptions.allowedProtoProperties),\n      defaultValue: runtimeOptions.allowProtoPropertiesByDefault\n    },\n    methods: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultMethodWhiteList, runtimeOptions.allowedProtoMethods),\n      defaultValue: runtimeOptions.allowProtoMethodsByDefault\n    }\n  };\n}\n\nfunction resultIsAllowed(result, protoAccessControl, propertyName) {\n  if (typeof result === \'function\') {\n    return checkWhiteList(protoAccessControl.methods, propertyName);\n  } else {\n    return checkWhiteList(protoAccessControl.properties, propertyName);\n  }\n}\n\nfunction checkWhiteList(protoAccessControlForType, propertyName) {\n  if (protoAccessControlForType.whitelist[propertyName] !== undefined) {\n    return protoAccessControlForType.whitelist[propertyName] === true;\n  }\n  if (protoAccessControlForType.defaultValue !== undefined) {\n    return protoAccessControlForType.defaultValue;\n  }\n  logUnexpecedPropertyAccessOnce(propertyName);\n  return false;\n}\n\nfunction logUnexpecedPropertyAccessOnce(propertyName) {\n  if (loggedProperties[propertyName] !== true) {\n    loggedProperties[propertyName] = true;\n    logger.log(\'error\', \'Handlebars: Access has been denied to resolve the property "\' + propertyName + \'" because it is not an "own property" of its parent.\\n\' + \'You can add a runtime option to disable the check or this warning:\\n\' + \'See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details\');\n  }\n}\n\nfunction resetLoggedProperties() {\n  Object.keys(loggedProperties).forEach(function (propertyName) {\n    delete loggedProperties[propertyName];\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3Byb3RvLWFjY2Vzcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3FDQUFzQyw0QkFBNEI7O3NCQUMxQyxXQUFXOztJQUF2QixNQUFNOztBQUVsQixJQUFNLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRXRDLFNBQVMsd0JBQXdCLENBQUMsY0FBYyxFQUFFO0FBQ3ZELE1BQUksc0JBQXNCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNqRCx3QkFBc0IsQ0FBQyxhQUFhLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDOUMsd0JBQXNCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbkQsd0JBQXNCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbkQsd0JBQXNCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRW5ELE1BQUksd0JBQXdCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFbkQsMEJBQXdCLENBQUMsV0FBVyxDQUFDLEdBQUcsS0FBSyxDQUFDOztBQUU5QyxTQUFPO0FBQ0wsY0FBVSxFQUFFO0FBQ1YsZUFBUyxFQUFFLDZDQUNULHdCQUF3QixFQUN4QixjQUFjLENBQUMsc0JBQXNCLENBQ3RDO0FBQ0Qsa0JBQVksRUFBRSxjQUFjLENBQUMsNkJBQTZCO0tBQzNEO0FBQ0QsV0FBTyxFQUFFO0FBQ1AsZUFBUyxFQUFFLDZDQUNULHNCQUFzQixFQUN0QixjQUFjLENBQUMsbUJBQW1CLENBQ25DO0FBQ0Qsa0JBQVksRUFBRSxjQUFjLENBQUMsMEJBQTBCO0tBQ3hEO0dBQ0YsQ0FBQztDQUNIOztBQUVNLFNBQVMsZUFBZSxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxZQUFZLEVBQUU7QUFDeEUsTUFBSSxPQUFPLE1BQU0sS0FBSyxVQUFVLEVBQUU7QUFDaEMsV0FBTyxjQUFjLENBQUMsa0JBQWtCLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO0dBQ2pFLE1BQU07QUFDTCxXQUFPLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsWUFBWSxDQUFDLENBQUM7R0FDcEU7Q0FDRjs7QUFFRCxTQUFTLGNBQWMsQ0FBQyx5QkFBeUIsRUFBRSxZQUFZLEVBQUU7QUFDL0QsTUFBSSx5QkFBeUIsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEtBQUssU0FBUyxFQUFFO0FBQ25FLFdBQU8seUJBQXlCLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxLQUFLLElBQUksQ0FBQztHQUNuRTtBQUNELE1BQUkseUJBQXlCLENBQUMsWUFBWSxLQUFLLFNBQVMsRUFBRTtBQUN4RCxXQUFPLHlCQUF5QixDQUFDLFlBQVksQ0FBQztHQUMvQztBQUNELGdDQUE4QixDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQzdDLFNBQU8sS0FBSyxDQUFDO0NBQ2Q7O0FBRUQsU0FBUyw4QkFBOEIsQ0FBQyxZQUFZLEVBQUU7QUFDcEQsTUFBSSxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxJQUFJLEVBQUU7QUFDM0Msb0JBQWdCLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQ3RDLFVBQU0sQ0FBQyxHQUFHLENBQ1IsT0FBTyxFQUNQLGlFQUErRCxZQUFZLG9JQUNILG9IQUMyQyxDQUNwSCxDQUFDO0dBQ0g7Q0FDRjs7QUFFTSxTQUFTLHFCQUFxQixHQUFHO0FBQ3RDLFFBQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxZQUFZLEVBQUk7QUFDcEQsV0FBTyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsQ0FBQztHQUN2QyxDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJwcm90by1hY2Nlc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVOZXdMb29rdXBPYmplY3QgfSBmcm9tICcuL2NyZWF0ZS1uZXctbG9va3VwLW9iamVjdCc7XG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnLi4vbG9nZ2VyJztcblxuY29uc3QgbG9nZ2VkUHJvcGVydGllcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm90b0FjY2Vzc0NvbnRyb2wocnVudGltZU9wdGlvbnMpIHtcbiAgbGV0IGRlZmF1bHRNZXRob2RXaGl0ZUxpc3QgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0Wydjb25zdHJ1Y3RvciddID0gZmFsc2U7XG4gIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ19fZGVmaW5lR2V0dGVyX18nXSA9IGZhbHNlO1xuICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0WydfX2RlZmluZVNldHRlcl9fJ10gPSBmYWxzZTtcbiAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdFsnX19sb29rdXBHZXR0ZXJfXyddID0gZmFsc2U7XG5cbiAgbGV0IGRlZmF1bHRQcm9wZXJ0eVdoaXRlTGlzdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b1xuICBkZWZhdWx0UHJvcGVydHlXaGl0ZUxpc3RbJ19fcHJvdG9fXyddID0gZmFsc2U7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICB3aGl0ZWxpc3Q6IGNyZWF0ZU5ld0xvb2t1cE9iamVjdChcbiAgICAgICAgZGVmYXVsdFByb3BlcnR5V2hpdGVMaXN0LFxuICAgICAgICBydW50aW1lT3B0aW9ucy5hbGxvd2VkUHJvdG9Qcm9wZXJ0aWVzXG4gICAgICApLFxuICAgICAgZGVmYXVsdFZhbHVlOiBydW50aW1lT3B0aW9ucy5hbGxvd1Byb3RvUHJvcGVydGllc0J5RGVmYXVsdFxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgd2hpdGVsaXN0OiBjcmVhdGVOZXdMb29rdXBPYmplY3QoXG4gICAgICAgIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3QsXG4gICAgICAgIHJ1bnRpbWVPcHRpb25zLmFsbG93ZWRQcm90b01ldGhvZHNcbiAgICAgICksXG4gICAgICBkZWZhdWx0VmFsdWU6IHJ1bnRpbWVPcHRpb25zLmFsbG93UHJvdG9NZXRob2RzQnlEZWZhdWx0XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzdWx0SXNBbGxvd2VkKHJlc3VsdCwgcHJvdG9BY2Nlc3NDb250cm9sLCBwcm9wZXJ0eU5hbWUpIHtcbiAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gY2hlY2tXaGl0ZUxpc3QocHJvdG9BY2Nlc3NDb250cm9sLm1ldGhvZHMsIHByb3BlcnR5TmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNoZWNrV2hpdGVMaXN0KHByb3RvQWNjZXNzQ29udHJvbC5wcm9wZXJ0aWVzLCBwcm9wZXJ0eU5hbWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrV2hpdGVMaXN0KHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUsIHByb3BlcnR5TmFtZSkge1xuICBpZiAocHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS53aGl0ZWxpc3RbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUud2hpdGVsaXN0W3Byb3BlcnR5TmFtZV0gPT09IHRydWU7XG4gIH1cbiAgaWYgKHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gcHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS5kZWZhdWx0VmFsdWU7XG4gIH1cbiAgbG9nVW5leHBlY2VkUHJvcGVydHlBY2Nlc3NPbmNlKHByb3BlcnR5TmFtZSk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbG9nVW5leHBlY2VkUHJvcGVydHlBY2Nlc3NPbmNlKHByb3BlcnR5TmFtZSkge1xuICBpZiAobG9nZ2VkUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdICE9PSB0cnVlKSB7XG4gICAgbG9nZ2VkUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdID0gdHJ1ZTtcbiAgICBsb2dnZXIubG9nKFxuICAgICAgJ2Vycm9yJyxcbiAgICAgIGBIYW5kbGViYXJzOiBBY2Nlc3MgaGFzIGJlZW4gZGVuaWVkIHRvIHJlc29sdmUgdGhlIHByb3BlcnR5IFwiJHtwcm9wZXJ0eU5hbWV9XCIgYmVjYXVzZSBpdCBpcyBub3QgYW4gXCJvd24gcHJvcGVydHlcIiBvZiBpdHMgcGFyZW50LlxcbmAgK1xuICAgICAgICBgWW91IGNhbiBhZGQgYSBydW50aW1lIG9wdGlvbiB0byBkaXNhYmxlIHRoZSBjaGVjayBvciB0aGlzIHdhcm5pbmc6XFxuYCArXG4gICAgICAgIGBTZWUgaHR0cHM6Ly9oYW5kbGViYXJzanMuY29tL2FwaS1yZWZlcmVuY2UvcnVudGltZS1vcHRpb25zLmh0bWwjb3B0aW9ucy10by1jb250cm9sLXByb3RvdHlwZS1hY2Nlc3MgZm9yIGRldGFpbHNgXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRMb2dnZWRQcm9wZXJ0aWVzKCkge1xuICBPYmplY3Qua2V5cyhsb2dnZWRQcm9wZXJ0aWVzKS5mb3JFYWNoKHByb3BlcnR5TmFtZSA9PiB7XG4gICAgZGVsZXRlIGxvZ2dlZFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcbiAgfSk7XG59XG4iXX0=\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js":\n/*!****************************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n\n\nexports.__esModule = true;\nexports.wrapHelper = wrapHelper;\n\nfunction wrapHelper(helper, transformOptionsFn) {\n  if (typeof helper !== \'function\') {\n    // This should not happen, but apparently it does in https://github.com/wycats/handlebars.js/issues/1639\n    // We try to make the wrapper least-invasive by not wrapping it, if the helper is not a function.\n    return helper;\n  }\n  var wrapper = function wrapper() /* dynamic arguments */{\n    var options = arguments[arguments.length - 1];\n    arguments[arguments.length - 1] = transformOptionsFn(options);\n    return helper.apply(this, arguments);\n  };\n  return wrapper;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3dyYXBIZWxwZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLEVBQUU7QUFDckQsTUFBSSxPQUFPLE1BQU0sS0FBSyxVQUFVLEVBQUU7OztBQUdoQyxXQUFPLE1BQU0sQ0FBQztHQUNmO0FBQ0QsTUFBSSxPQUFPLEdBQUcsU0FBVixPQUFPLDBCQUFxQztBQUM5QyxRQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNoRCxhQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM5RCxXQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0dBQ3RDLENBQUM7QUFDRixTQUFPLE9BQU8sQ0FBQztDQUNoQiIsImZpbGUiOiJ3cmFwSGVscGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHdyYXBIZWxwZXIoaGVscGVyLCB0cmFuc2Zvcm1PcHRpb25zRm4pIHtcbiAgaWYgKHR5cGVvZiBoZWxwZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgYXBwYXJlbnRseSBpdCBkb2VzIGluIGh0dHBzOi8vZ2l0aHViLmNvbS93eWNhdHMvaGFuZGxlYmFycy5qcy9pc3N1ZXMvMTYzOVxuICAgIC8vIFdlIHRyeSB0byBtYWtlIHRoZSB3cmFwcGVyIGxlYXN0LWludmFzaXZlIGJ5IG5vdCB3cmFwcGluZyBpdCwgaWYgdGhlIGhlbHBlciBpcyBub3QgYSBmdW5jdGlvbi5cbiAgICByZXR1cm4gaGVscGVyO1xuICB9XG4gIGxldCB3cmFwcGVyID0gZnVuY3Rpb24oLyogZHluYW1pYyBhcmd1bWVudHMgKi8pIHtcbiAgICBjb25zdCBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdID0gdHJhbnNmb3JtT3B0aW9uc0ZuKG9wdGlvbnMpO1xuICAgIHJldHVybiBoZWxwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbiAgcmV0dXJuIHdyYXBwZXI7XG59XG4iXX0=\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/logger.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/logger.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_82753__) {\n\n"use strict";\n\n\nexports.__esModule = true;\n\nvar _utils = __nested_webpack_require_82753__(/*! ./utils */ "./node_modules/handlebars/dist/cjs/handlebars/utils.js");\n\nvar logger = {\n  methodMap: [\'debug\', \'info\', \'warn\', \'error\'],\n  level: \'info\',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function lookupLevel(level) {\n    if (typeof level === \'string\') {\n      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function log(level) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== \'undefined\' && logger.lookupLevel(logger.level) <= level) {\n      var method = logger.methodMap[level];\n      // eslint-disable-next-line no-console\n      if (!console[method]) {\n        method = \'log\';\n      }\n\n      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        message[_key - 1] = arguments[_key];\n      }\n\n      console[method].apply(console, message); // eslint-disable-line no-console\n    }\n  }\n};\n\nexports[\'default\'] = logger;\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2xvZ2dlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUF3QixTQUFTOztBQUVqQyxJQUFJLE1BQU0sR0FBRztBQUNYLFdBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUM3QyxPQUFLLEVBQUUsTUFBTTs7O0FBR2IsYUFBVyxFQUFFLHFCQUFTLEtBQUssRUFBRTtBQUMzQixRQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUM3QixVQUFJLFFBQVEsR0FBRyxlQUFRLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUQsVUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ2pCLGFBQUssR0FBRyxRQUFRLENBQUM7T0FDbEIsTUFBTTtBQUNMLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7O0FBRUQsV0FBTyxLQUFLLENBQUM7R0FDZDs7O0FBR0QsS0FBRyxFQUFFLGFBQVMsS0FBSyxFQUFjO0FBQy9CLFNBQUssR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUVsQyxRQUNFLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFDOUIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxFQUN6QztBQUNBLFVBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7O0FBRXJDLFVBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDcEIsY0FBTSxHQUFHLEtBQUssQ0FBQztPQUNoQjs7d0NBWG1CLE9BQU87QUFBUCxlQUFPOzs7QUFZM0IsYUFBTyxDQUFDLE1BQU0sT0FBQyxDQUFmLE9BQU8sRUFBWSxPQUFPLENBQUMsQ0FBQztLQUM3QjtHQUNGO0NBQ0YsQ0FBQzs7cUJBRWEsTUFBTSIsImZpbGUiOiJsb2dnZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmRleE9mIH0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbihsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbGV2ZWxNYXAgPSBpbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgLi4ubWVzc2FnZSkge1xuICAgIGxldmVsID0gbG9nZ2VyLmxvb2t1cExldmVsKGxldmVsKTtcblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWxcbiAgICApIHtcbiAgICAgIGxldCBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBpZiAoIWNvbnNvbGVbbWV0aG9kXSkge1xuICAgICAgICBtZXRob2QgPSAnbG9nJztcbiAgICAgIH1cbiAgICAgIGNvbnNvbGVbbWV0aG9kXSguLi5tZXNzYWdlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4iXX0=\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/no-conflict.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/no-conflict.js ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_87103__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nexports.__esModule = true;\n\nexports[\'default\'] = function (Handlebars) {\n  /* istanbul ignore next */\n  var root = typeof global !== \'undefined\' ? global : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n  Handlebars.noConflict = function () {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n};\n\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxVQUFVLEVBQUU7O0FBRWxDLE1BQUksSUFBSSxHQUFHLE9BQU8sTUFBTSxLQUFLLFdBQVcsR0FBRyxNQUFNLEdBQUcsTUFBTTtNQUN4RCxXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQzs7QUFFaEMsWUFBVSxDQUFDLFVBQVUsR0FBRyxZQUFXO0FBQ2pDLFFBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7QUFDbEMsVUFBSSxDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUM7S0FDL0I7QUFDRCxXQUFPLFVBQVUsQ0FBQztHQUNuQixDQUFDO0NBQ0giLCJmaWxlIjoibm8tY29uZmxpY3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihIYW5kbGViYXJzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGxldCByb290ID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3csXG4gICAgJEhhbmRsZWJhcnMgPSByb290LkhhbmRsZWJhcnM7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIEhhbmRsZWJhcnMubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChyb290LkhhbmRsZWJhcnMgPT09IEhhbmRsZWJhcnMpIHtcbiAgICAgIHJvb3QuSGFuZGxlYmFycyA9ICRIYW5kbGViYXJzO1xuICAgIH1cbiAgICByZXR1cm4gSGFuZGxlYmFycztcbiAgfTtcbn1cbiJdfQ==\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_87103__(/*! ./../../../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/runtime.js":\n/*!****************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/runtime.js ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_89211__) {\n\n"use strict";\n\n\nexports.__esModule = true;\nexports.checkRevision = checkRevision;\nexports.template = template;\nexports.wrapProgram = wrapProgram;\nexports.resolvePartial = resolvePartial;\nexports.invokePartial = invokePartial;\nexports.noop = noop;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \'default\': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\'default\'] = obj; return newObj; } }\n\nvar _utils = __nested_webpack_require_89211__(/*! ./utils */ "./node_modules/handlebars/dist/cjs/handlebars/utils.js");\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _exception = __nested_webpack_require_89211__(/*! ./exception */ "./node_modules/handlebars/dist/cjs/handlebars/exception.js");\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _base = __nested_webpack_require_89211__(/*! ./base */ "./node_modules/handlebars/dist/cjs/handlebars/base.js");\n\nvar _helpers = __nested_webpack_require_89211__(/*! ./helpers */ "./node_modules/handlebars/dist/cjs/handlebars/helpers.js");\n\nvar _internalWrapHelper = __nested_webpack_require_89211__(/*! ./internal/wrapHelper */ "./node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js");\n\nvar _internalProtoAccess = __nested_webpack_require_89211__(/*! ./internal/proto-access */ "./node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js");\n\nfunction checkRevision(compilerInfo) {\n  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n      currentRevision = _base.COMPILER_REVISION;\n\n  if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {\n    return;\n  }\n\n  if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {\n    var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n        compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n    throw new _exception2[\'default\'](\'Template was precompiled with an older version of Handlebars than the current runtime. \' + \'Please update your precompiler to a newer version (\' + runtimeVersions + \') or downgrade your runtime to an older version (\' + compilerVersions + \').\');\n  } else {\n    // Use the embedded version info since the runtime doesn\'t know about this revision yet\n    throw new _exception2[\'default\'](\'Template was precompiled with a newer version of Handlebars than the current runtime. \' + \'Please update your runtime to a newer version (\' + compilerInfo[1] + \').\');\n  }\n}\n\nfunction template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new _exception2[\'default\'](\'No environment passed to template\');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new _exception2[\'default\'](\'Unknown template object: \' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as pseudo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)\n  var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\n    var extendedOptions = Utils.extend({}, options, {\n      hooks: this.hooks,\n      protoAccessControl: this.protoAccessControl\n    });\n\n    var result = env.VM.invokePartial.call(this, partial, context, extendedOptions);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, extendedOptions);\n    }\n    if (result != null) {\n      if (options.indent) {\n        var lines = result.split(\'\\n\');\n        for (var i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join(\'\\n\');\n      }\n      return result;\n    } else {\n      throw new _exception2[\'default\'](\'The partial \' + options.name + \' could not be compiled when running in runtime-only mode\');\n    }\n  }\n\n  // Just add water\n  var container = {\n    strict: function strict(obj, name, loc) {\n      if (!obj || !(name in obj)) {\n        throw new _exception2[\'default\'](\'"\' + name + \'" not defined in \' + obj, {\n          loc: loc\n        });\n      }\n      return obj[name];\n    },\n    lookupProperty: function lookupProperty(parent, propertyName) {\n      var result = parent[propertyName];\n      if (result == null) {\n        return result;\n      }\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return result;\n      }\n\n      if (_internalProtoAccess.resultIsAllowed(result, container.protoAccessControl, propertyName)) {\n        return result;\n      }\n      return undefined;\n    },\n    lookup: function lookup(depths, name) {\n      var len = depths.length;\n      for (var i = 0; i < len; i++) {\n        var result = depths[i] && container.lookupProperty(depths[i], name);\n        if (result != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function lambda(current, context) {\n      return typeof current === \'function\' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function fn(i) {\n      var ret = templateSpec[i];\n      ret.decorator = templateSpec[i + \'_d\'];\n      return ret;\n    },\n\n    programs: [],\n    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n      var programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function data(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    mergeIfNeeded: function mergeIfNeeded(param, common) {\n      var obj = param || common;\n\n      if (param && common && param !== common) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    var depths = undefined,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context /*, options*/) {\n      return \'\' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n\n  ret.isTop = true;\n\n  ret._setup = function (options) {\n    if (!options.partial) {\n      var mergedHelpers = Utils.extend({}, env.helpers, options.helpers);\n      wrapHelpersToPassLookupProperty(mergedHelpers, container);\n      container.helpers = mergedHelpers;\n\n      if (templateSpec.usePartial) {\n        // Use mergeIfNeeded here to prevent compiling global partials multiple times\n        container.partials = container.mergeIfNeeded(options.partials, env.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = Utils.extend({}, env.decorators, options.decorators);\n      }\n\n      container.hooks = {};\n      container.protoAccessControl = _internalProtoAccess.createProtoAccessControl(options);\n\n      var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;\n      _helpers.moveHelperToHooks(container, \'helperMissing\', keepHelperInHelpers);\n      _helpers.moveHelperToHooks(container, \'blockHelperMissing\', keepHelperInHelpers);\n    } else {\n      container.protoAccessControl = options.protoAccessControl; // internal option\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n      container.hooks = options.hooks;\n    }\n  };\n\n  ret._child = function (i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new _exception2[\'default\'](\'must pass block params\');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new _exception2[\'default\'](\'must pass parent depths\');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\n/**\n * This is currently part of the official API, therefore implementation details should not be changed.\n */\n\nfunction resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === \'@partial-block\') {\n      partial = options.data[\'partial-block\'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nfunction invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  var currentPartialBlock = options.data && options.data[\'partial-block\'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  var partialBlock = undefined;\n  if (options.fn && options.fn !== noop) {\n    (function () {\n      options.data = _base.createFrame(options.data);\n      // Wrapper function to get access to currentPartialBlock from the closure\n      var fn = options.fn;\n      partialBlock = options.data[\'partial-block\'] = function partialBlockWrapper(context) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        // Restore the partial-block from the closure for the execution of the block\n        // i.e. the part inside the block of the partial call.\n        options.data = _base.createFrame(options.data);\n        options.data[\'partial-block\'] = currentPartialBlock;\n        return fn(context, options);\n      };\n      if (fn.partials) {\n        options.partials = Utils.extend({}, options.partials, fn.partials);\n      }\n    })();\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new _exception2[\'default\'](\'The partial \' + options.name + \' could not be found\');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nfunction noop() {\n  return \'\';\n}\n\nfunction initData(context, data) {\n  if (!data || !(\'root\' in data)) {\n    data = data ? _base.createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    var props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n\nfunction wrapHelpersToPassLookupProperty(mergedHelpers, container) {\n  Object.keys(mergedHelpers).forEach(function (helperName) {\n    var helper = mergedHelpers[helperName];\n    mergedHelpers[helperName] = passLookupPropertyOption(helper, container);\n  });\n}\n\nfunction passLookupPropertyOption(helper, container) {\n  var lookupProperty = container.lookupProperty;\n  return _internalWrapHelper.wrapHelper(helper, function (options) {\n    return Utils.extend({ lookupProperty: lookupProperty }, options);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQXVCLFNBQVM7O0lBQXBCLEtBQUs7O3lCQUNLLGFBQWE7Ozs7b0JBTTVCLFFBQVE7O3VCQUNtQixXQUFXOztrQ0FDbEIsdUJBQXVCOzttQ0FJM0MseUJBQXlCOztBQUV6QixTQUFTLGFBQWEsQ0FBQyxZQUFZLEVBQUU7QUFDMUMsTUFBTSxnQkFBZ0IsR0FBRyxBQUFDLFlBQVksSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUssQ0FBQztNQUM3RCxlQUFlLDBCQUFvQixDQUFDOztBQUV0QyxNQUNFLGdCQUFnQiwyQ0FBcUMsSUFDckQsZ0JBQWdCLDJCQUFxQixFQUNyQztBQUNBLFdBQU87R0FDUjs7QUFFRCxNQUFJLGdCQUFnQiwwQ0FBb0MsRUFBRTtBQUN4RCxRQUFNLGVBQWUsR0FBRyx1QkFBaUIsZUFBZSxDQUFDO1FBQ3ZELGdCQUFnQixHQUFHLHVCQUFpQixnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3hELFVBQU0sMkJBQ0oseUZBQXlGLEdBQ3ZGLHFEQUFxRCxHQUNyRCxlQUFlLEdBQ2YsbURBQW1ELEdBQ25ELGdCQUFnQixHQUNoQixJQUFJLENBQ1AsQ0FBQztHQUNILE1BQU07O0FBRUwsVUFBTSwyQkFDSix3RkFBd0YsR0FDdEYsaURBQWlELEdBQ2pELFlBQVksQ0FBQyxDQUFDLENBQUMsR0FDZixJQUFJLENBQ1AsQ0FBQztHQUNIO0NBQ0Y7O0FBRU0sU0FBUyxRQUFRLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTs7QUFFMUMsTUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNSLFVBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztHQUMxRDtBQUNELE1BQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFO0FBQ3ZDLFVBQU0sMkJBQWMsMkJBQTJCLEdBQUcsT0FBTyxZQUFZLENBQUMsQ0FBQztHQUN4RTs7QUFFRCxjQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDOzs7O0FBSWxELEtBQUcsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQzs7O0FBRzVDLE1BQU0sb0NBQW9DLEdBQ3hDLFlBQVksQ0FBQyxRQUFRLElBQUksWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7O0FBRTFELFdBQVMsb0JBQW9CLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUU7QUFDdkQsUUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFO0FBQ2hCLGFBQU8sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2xELFVBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLGVBQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO09BQ3ZCO0tBQ0Y7QUFDRCxXQUFPLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDOztBQUV0RSxRQUFJLGVBQWUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUU7QUFDOUMsV0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO0FBQ2pCLHdCQUFrQixFQUFFLElBQUksQ0FBQyxrQkFBa0I7S0FDNUMsQ0FBQyxDQUFDOztBQUVILFFBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLElBQUksQ0FDcEMsSUFBSSxFQUNKLE9BQU8sRUFDUCxPQUFPLEVBQ1AsZUFBZSxDQUNoQixDQUFDOztBQUVGLFFBQUksTUFBTSxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsT0FBTyxFQUFFO0FBQ2pDLGFBQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQzFDLE9BQU8sRUFDUCxZQUFZLENBQUMsZUFBZSxFQUM1QixHQUFHLENBQ0osQ0FBQztBQUNGLFlBQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsZUFBZSxDQUFDLENBQUM7S0FDbkU7QUFDRCxRQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7QUFDbEIsVUFBSSxPQUFPLENBQUMsTUFBTSxFQUFFO0FBQ2xCLFlBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDL0IsYUFBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM1QyxjQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzVCLGtCQUFNO1dBQ1A7O0FBRUQsZUFBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3RDO0FBQ0QsY0FBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7T0FDM0I7QUFDRCxhQUFPLE1BQU0sQ0FBQztLQUNmLE1BQU07QUFDTCxZQUFNLDJCQUNKLGNBQWMsR0FDWixPQUFPLENBQUMsSUFBSSxHQUNaLDBEQUEwRCxDQUM3RCxDQUFDO0tBQ0g7R0FDRjs7O0FBR0QsTUFBSSxTQUFTLEdBQUc7QUFDZCxVQUFNLEVBQUUsZ0JBQVMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUU7QUFDL0IsVUFBSSxDQUFDLEdBQUcsSUFBSSxFQUFFLElBQUksSUFBSSxHQUFHLENBQUEsQUFBQyxFQUFFO0FBQzFCLGNBQU0sMkJBQWMsR0FBRyxHQUFHLElBQUksR0FBRyxtQkFBbUIsR0FBRyxHQUFHLEVBQUU7QUFDMUQsYUFBRyxFQUFFLEdBQUc7U0FDVCxDQUFDLENBQUM7T0FDSjtBQUNELGFBQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xCO0FBQ0Qsa0JBQWMsRUFBRSx3QkFBUyxNQUFNLEVBQUUsWUFBWSxFQUFFO0FBQzdDLFVBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNsQyxVQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7QUFDbEIsZUFBTyxNQUFNLENBQUM7T0FDZjtBQUNELFVBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsRUFBRTtBQUM5RCxlQUFPLE1BQU0sQ0FBQztPQUNmOztBQUVELFVBQUkscUNBQWdCLE1BQU0sRUFBRSxTQUFTLENBQUMsa0JBQWtCLEVBQUUsWUFBWSxDQUFDLEVBQUU7QUFDdkUsZUFBTyxNQUFNLENBQUM7T0FDZjtBQUNELGFBQU8sU0FBUyxDQUFDO0tBQ2xCO0FBQ0QsVUFBTSxFQUFFLGdCQUFTLE1BQU0sRUFBRSxJQUFJLEVBQUU7QUFDN0IsVUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUMxQixXQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzVCLFlBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNwRSxZQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7QUFDbEIsaUJBQU8sTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3hCO09BQ0Y7S0FDRjtBQUNELFVBQU0sRUFBRSxnQkFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ2pDLGFBQU8sT0FBTyxPQUFPLEtBQUssVUFBVSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDO0tBQ3hFOztBQUVELG9CQUFnQixFQUFFLEtBQUssQ0FBQyxnQkFBZ0I7QUFDeEMsaUJBQWEsRUFBRSxvQkFBb0I7O0FBRW5DLE1BQUUsRUFBRSxZQUFTLENBQUMsRUFBRTtBQUNkLFVBQUksR0FBRyxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMxQixTQUFHLENBQUMsU0FBUyxHQUFHLFlBQVksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDdkMsYUFBTyxHQUFHLENBQUM7S0FDWjs7QUFFRCxZQUFRLEVBQUUsRUFBRTtBQUNaLFdBQU8sRUFBRSxpQkFBUyxDQUFDLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUU7QUFDbkUsVUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7VUFDbkMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEIsVUFBSSxJQUFJLElBQUksTUFBTSxJQUFJLFdBQVcsSUFBSSxtQkFBbUIsRUFBRTtBQUN4RCxzQkFBYyxHQUFHLFdBQVcsQ0FDMUIsSUFBSSxFQUNKLENBQUMsRUFDRCxFQUFFLEVBQ0YsSUFBSSxFQUNKLG1CQUFtQixFQUNuQixXQUFXLEVBQ1gsTUFBTSxDQUNQLENBQUM7T0FDSCxNQUFNLElBQUksQ0FBQyxjQUFjLEVBQUU7QUFDMUIsc0JBQWMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzlEO0FBQ0QsYUFBTyxjQUFjLENBQUM7S0FDdkI7O0FBRUQsUUFBSSxFQUFFLGNBQVMsS0FBSyxFQUFFLEtBQUssRUFBRTtBQUMzQixhQUFPLEtBQUssSUFBSSxLQUFLLEVBQUUsRUFBRTtBQUN2QixhQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztPQUN2QjtBQUNELGFBQU8sS0FBSyxDQUFDO0tBQ2Q7QUFDRCxpQkFBYSxFQUFFLHVCQUFTLEtBQUssRUFBRSxNQUFNLEVBQUU7QUFDckMsVUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLE1BQU0sQ0FBQzs7QUFFMUIsVUFBSSxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssS0FBSyxNQUFNLEVBQUU7QUFDdkMsV0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztPQUN2Qzs7QUFFRCxhQUFPLEdBQUcsQ0FBQztLQUNaOztBQUVELGVBQVcsRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzs7QUFFNUIsUUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSTtBQUNqQixnQkFBWSxFQUFFLFlBQVksQ0FBQyxRQUFRO0dBQ3BDLENBQUM7O0FBRUYsV0FBUyxHQUFHLENBQUMsT0FBTyxFQUFnQjtRQUFkLE9BQU8seURBQUcsRUFBRTs7QUFDaEMsUUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQzs7QUFFeEIsT0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNwQixRQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sSUFBSSxZQUFZLENBQUMsT0FBTyxFQUFFO0FBQzVDLFVBQUksR0FBRyxRQUFRLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ2hDO0FBQ0QsUUFBSSxNQUFNLFlBQUE7UUFDUixXQUFXLEdBQUcsWUFBWSxDQUFDLGNBQWMsR0FBRyxFQUFFLEdBQUcsU0FBUyxDQUFDO0FBQzdELFFBQUksWUFBWSxDQUFDLFNBQVMsRUFBRTtBQUMxQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUU7QUFDbEIsY0FBTSxHQUNKLE9BQU8sSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUN4QixDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQ2hDLE9BQU8sQ0FBQyxNQUFNLENBQUM7T0FDdEIsTUFBTTtBQUNMLGNBQU0sR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO09BQ3BCO0tBQ0Y7O0FBRUQsYUFBUyxJQUFJLENBQUMsT0FBTyxnQkFBZ0I7QUFDbkMsYUFDRSxFQUFFLEdBQ0YsWUFBWSxDQUFDLElBQUksQ0FDZixTQUFTLEVBQ1QsT0FBTyxFQUNQLFNBQVMsQ0FBQyxPQUFPLEVBQ2pCLFNBQVMsQ0FBQyxRQUFRLEVBQ2xCLElBQUksRUFDSixXQUFXLEVBQ1gsTUFBTSxDQUNQLENBQ0Q7S0FDSDs7QUFFRCxRQUFJLEdBQUcsaUJBQWlCLENBQ3RCLFlBQVksQ0FBQyxJQUFJLEVBQ2pCLElBQUksRUFDSixTQUFTLEVBQ1QsT0FBTyxDQUFDLE1BQU0sSUFBSSxFQUFFLEVBQ3BCLElBQUksRUFDSixXQUFXLENBQ1osQ0FBQztBQUNGLFdBQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztHQUMvQjs7QUFFRCxLQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQzs7QUFFakIsS0FBRyxDQUFDLE1BQU0sR0FBRyxVQUFTLE9BQU8sRUFBRTtBQUM3QixRQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRTtBQUNwQixVQUFJLGFBQWEsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNuRSxxQ0FBK0IsQ0FBQyxhQUFhLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDMUQsZUFBUyxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUM7O0FBRWxDLFVBQUksWUFBWSxDQUFDLFVBQVUsRUFBRTs7QUFFM0IsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FDMUMsT0FBTyxDQUFDLFFBQVEsRUFDaEIsR0FBRyxDQUFDLFFBQVEsQ0FDYixDQUFDO09BQ0g7QUFDRCxVQUFJLFlBQVksQ0FBQyxVQUFVLElBQUksWUFBWSxDQUFDLGFBQWEsRUFBRTtBQUN6RCxpQkFBUyxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUNqQyxFQUFFLEVBQ0YsR0FBRyxDQUFDLFVBQVUsRUFDZCxPQUFPLENBQUMsVUFBVSxDQUNuQixDQUFDO09BQ0g7O0FBRUQsZUFBUyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDckIsZUFBUyxDQUFDLGtCQUFrQixHQUFHLDhDQUF5QixPQUFPLENBQUMsQ0FBQzs7QUFFakUsVUFBSSxtQkFBbUIsR0FDckIsT0FBTyxDQUFDLHlCQUF5QixJQUNqQyxvQ0FBb0MsQ0FBQztBQUN2QyxpQ0FBa0IsU0FBUyxFQUFFLGVBQWUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQ25FLGlDQUFrQixTQUFTLEVBQUUsb0JBQW9CLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztLQUN6RSxNQUFNO0FBQ0wsZUFBUyxDQUFDLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztBQUMxRCxlQUFTLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDcEMsZUFBUyxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ3RDLGVBQVMsQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUMxQyxlQUFTLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7S0FDakM7R0FDRixDQUFDOztBQUVGLEtBQUcsQ0FBQyxNQUFNLEdBQUcsVUFBUyxDQUFDLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUU7QUFDbEQsUUFBSSxZQUFZLENBQUMsY0FBYyxJQUFJLENBQUMsV0FBVyxFQUFFO0FBQy9DLFlBQU0sMkJBQWMsd0JBQXdCLENBQUMsQ0FBQztLQUMvQztBQUNELFFBQUksWUFBWSxDQUFDLFNBQVMsSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNyQyxZQUFNLDJCQUFjLHlCQUF5QixDQUFDLENBQUM7S0FDaEQ7O0FBRUQsV0FBTyxXQUFXLENBQ2hCLFNBQVMsRUFDVCxDQUFDLEVBQ0QsWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUNmLElBQUksRUFDSixDQUFDLEVBQ0QsV0FBVyxFQUNYLE1BQU0sQ0FDUCxDQUFDO0dBQ0gsQ0FBQztBQUNGLFNBQU8sR0FBRyxDQUFDO0NBQ1o7O0FBRU0sU0FBUyxXQUFXLENBQ3pCLFNBQVMsRUFDVCxDQUFDLEVBQ0QsRUFBRSxFQUNGLElBQUksRUFDSixtQkFBbUIsRUFDbkIsV0FBVyxFQUNYLE1BQU0sRUFDTjtBQUNBLFdBQVMsSUFBSSxDQUFDLE9BQU8sRUFBZ0I7UUFBZCxPQUFPLHlEQUFHLEVBQUU7O0FBQ2pDLFFBQUksYUFBYSxHQUFHLE1BQU0sQ0FBQztBQUMzQixRQUNFLE1BQU0sSUFDTixPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUNwQixFQUFFLE9BQU8sS0FBSyxTQUFTLENBQUMsV0FBVyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUEsQUFBQyxFQUMxRDtBQUNBLG1CQUFhLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDMUM7O0FBRUQsV0FBTyxFQUFFLENBQ1AsU0FBUyxFQUNULE9BQU8sRUFDUCxTQUFTLENBQUMsT0FBTyxFQUNqQixTQUFTLENBQUMsUUFBUSxFQUNsQixPQUFPLENBQUMsSUFBSSxJQUFJLElBQUksRUFDcEIsV0FBVyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFDeEQsYUFBYSxDQUNkLENBQUM7R0FDSDs7QUFFRCxNQUFJLEdBQUcsaUJBQWlCLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQzs7QUFFekUsTUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7QUFDakIsTUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDeEMsTUFBSSxDQUFDLFdBQVcsR0FBRyxtQkFBbUIsSUFBSSxDQUFDLENBQUM7QUFDNUMsU0FBTyxJQUFJLENBQUM7Q0FDYjs7Ozs7O0FBS00sU0FBUyxjQUFjLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUU7QUFDeEQsTUFBSSxDQUFDLE9BQU8sRUFBRTtBQUNaLFFBQUksT0FBTyxDQUFDLElBQUksS0FBSyxnQkFBZ0IsRUFBRTtBQUNyQyxhQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztLQUN6QyxNQUFNO0FBQ0wsYUFBTyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzFDO0dBQ0YsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUU7O0FBRXpDLFdBQU8sQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDO0FBQ3ZCLFdBQU8sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0dBQ3JDO0FBQ0QsU0FBTyxPQUFPLENBQUM7Q0FDaEI7O0FBRU0sU0FBUyxhQUFhLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUU7O0FBRXZELE1BQU0sbUJBQW1CLEdBQUcsT0FBTyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQzFFLFNBQU8sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLE1BQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLFdBQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7R0FDdkU7O0FBRUQsTUFBSSxZQUFZLFlBQUEsQ0FBQztBQUNqQixNQUFJLE9BQU8sQ0FBQyxFQUFFLElBQUksT0FBTyxDQUFDLEVBQUUsS0FBSyxJQUFJLEVBQUU7O0FBQ3JDLGFBQU8sQ0FBQyxJQUFJLEdBQUcsa0JBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUV6QyxVQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDO0FBQ3BCLGtCQUFZLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxTQUFTLG1CQUFtQixDQUN6RSxPQUFPLEVBRVA7WUFEQSxPQUFPLHlEQUFHLEVBQUU7Ozs7QUFJWixlQUFPLENBQUMsSUFBSSxHQUFHLGtCQUFZLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN6QyxlQUFPLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLG1CQUFtQixDQUFDO0FBQ3BELGVBQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztPQUM3QixDQUFDO0FBQ0YsVUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFO0FBQ2YsZUFBTyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztPQUNwRTs7R0FDRjs7QUFFRCxNQUFJLE9BQU8sS0FBSyxTQUFTLElBQUksWUFBWSxFQUFFO0FBQ3pDLFdBQU8sR0FBRyxZQUFZLENBQUM7R0FDeEI7O0FBRUQsTUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFO0FBQ3pCLFVBQU0sMkJBQWMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxJQUFJLEdBQUcscUJBQXFCLENBQUMsQ0FBQztHQUM1RSxNQUFNLElBQUksT0FBTyxZQUFZLFFBQVEsRUFBRTtBQUN0QyxXQUFPLE9BQU8sQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7R0FDbEM7Q0FDRjs7QUFFTSxTQUFTLElBQUksR0FBRztBQUNyQixTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELFNBQVMsUUFBUSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUU7QUFDL0IsTUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLE1BQU0sSUFBSSxJQUFJLENBQUEsQUFBQyxFQUFFO0FBQzlCLFFBQUksR0FBRyxJQUFJLEdBQUcsa0JBQVksSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3JDLFFBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDO0dBQ3JCO0FBQ0QsU0FBTyxJQUFJLENBQUM7Q0FDYjs7QUFFRCxTQUFTLGlCQUFpQixDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO0FBQ3pFLE1BQUksRUFBRSxDQUFDLFNBQVMsRUFBRTtBQUNoQixRQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDZixRQUFJLEdBQUcsRUFBRSxDQUFDLFNBQVMsQ0FDakIsSUFBSSxFQUNKLEtBQUssRUFDTCxTQUFTLEVBQ1QsTUFBTSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFDbkIsSUFBSSxFQUNKLFdBQVcsRUFDWCxNQUFNLENBQ1AsQ0FBQztBQUNGLFNBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0dBQzNCO0FBQ0QsU0FBTyxJQUFJLENBQUM7Q0FDYjs7QUFFRCxTQUFTLCtCQUErQixDQUFDLGFBQWEsRUFBRSxTQUFTLEVBQUU7QUFDakUsUUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxVQUFVLEVBQUk7QUFDL0MsUUFBSSxNQUFNLEdBQUcsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3ZDLGlCQUFhLENBQUMsVUFBVSxDQUFDLEdBQUcsd0JBQXdCLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0dBQ3pFLENBQUMsQ0FBQztDQUNKOztBQUVELFNBQVMsd0JBQXdCLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRTtBQUNuRCxNQUFNLGNBQWMsR0FBRyxTQUFTLENBQUMsY0FBYyxDQUFDO0FBQ2hELFNBQU8sK0JBQVcsTUFBTSxFQUFFLFVBQUEsT0FBTyxFQUFJO0FBQ25DLFdBQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLGNBQWMsRUFBZCxjQUFjLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztHQUNsRCxDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJydW50aW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vZXhjZXB0aW9uJztcbmltcG9ydCB7XG4gIENPTVBJTEVSX1JFVklTSU9OLFxuICBjcmVhdGVGcmFtZSxcbiAgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OLFxuICBSRVZJU0lPTl9DSEFOR0VTXG59IGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBtb3ZlSGVscGVyVG9Ib29rcyB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyB3cmFwSGVscGVyIH0gZnJvbSAnLi9pbnRlcm5hbC93cmFwSGVscGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZVByb3RvQWNjZXNzQ29udHJvbCxcbiAgcmVzdWx0SXNBbGxvd2VkXG59IGZyb20gJy4vaW50ZXJuYWwvcHJvdG8tYWNjZXNzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSAoY29tcGlsZXJJbmZvICYmIGNvbXBpbGVySW5mb1swXSkgfHwgMSxcbiAgICBjdXJyZW50UmV2aXNpb24gPSBDT01QSUxFUl9SRVZJU0lPTjtcblxuICBpZiAoXG4gICAgY29tcGlsZXJSZXZpc2lvbiA+PSBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gJiZcbiAgICBjb21waWxlclJldmlzaW9uIDw9IENPTVBJTEVSX1JFVklTSU9OXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb21waWxlclJldmlzaW9uIDwgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OKSB7XG4gICAgY29uc3QgcnVudGltZVZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgJ1BsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCcgK1xuICAgICAgICBydW50aW1lVmVyc2lvbnMgK1xuICAgICAgICAnKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCcgK1xuICAgICAgICBjb21waWxlclZlcnNpb25zICtcbiAgICAgICAgJykuJ1xuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIHRoZSBlbWJlZGRlZCB2ZXJzaW9uIGluZm8gc2luY2UgdGhlIHJ1bnRpbWUgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgcmV2aXNpb24geWV0XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhIG5ld2VyIHZlcnNpb24gb2YgSGFuZGxlYmFycyB0aGFuIHRoZSBjdXJyZW50IHJ1bnRpbWUuICcgK1xuICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICtcbiAgICAgICAgY29tcGlsZXJJbmZvWzFdICtcbiAgICAgICAgJykuJ1xuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlKHRlbXBsYXRlU3BlYywgZW52KSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghZW52KSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignTm8gZW52aXJvbm1lbnQgcGFzc2VkIHRvIHRlbXBsYXRlJyk7XG4gIH1cbiAgaWYgKCF0ZW1wbGF0ZVNwZWMgfHwgIXRlbXBsYXRlU3BlYy5tYWluKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVW5rbm93biB0ZW1wbGF0ZSBvYmplY3Q6ICcgKyB0eXBlb2YgdGVtcGxhdGVTcGVjKTtcbiAgfVxuXG4gIHRlbXBsYXRlU3BlYy5tYWluLmRlY29yYXRvciA9IHRlbXBsYXRlU3BlYy5tYWluX2Q7XG5cbiAgLy8gTm90ZTogVXNpbmcgZW52LlZNIHJlZmVyZW5jZXMgcmF0aGVyIHRoYW4gbG9jYWwgdmFyIHJlZmVyZW5jZXMgdGhyb3VnaG91dCB0aGlzIHNlY3Rpb24gdG8gYWxsb3dcbiAgLy8gZm9yIGV4dGVybmFsIHVzZXJzIHRvIG92ZXJyaWRlIHRoZXNlIGFzIHBzZXVkby1zdXBwb3J0ZWQgQVBJcy5cbiAgZW52LlZNLmNoZWNrUmV2aXNpb24odGVtcGxhdGVTcGVjLmNvbXBpbGVyKTtcblxuICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgcHJlY29tcGlsZWQgdGVtcGxhdGVzIHdpdGggY29tcGlsZXItdmVyc2lvbiA3ICg8NC4zLjApXG4gIGNvbnN0IHRlbXBsYXRlV2FzUHJlY29tcGlsZWRXaXRoQ29tcGlsZXJWNyA9XG4gICAgdGVtcGxhdGVTcGVjLmNvbXBpbGVyICYmIHRlbXBsYXRlU3BlYy5jb21waWxlclswXSA9PT0gNztcblxuICBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsV3JhcHBlcihwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgICAgY29udGV4dCA9IFV0aWxzLmV4dGVuZCh7fSwgY29udGV4dCwgb3B0aW9ucy5oYXNoKTtcbiAgICAgIGlmIChvcHRpb25zLmlkcykge1xuICAgICAgICBvcHRpb25zLmlkc1swXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGxldCBleHRlbmRlZE9wdGlvbnMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMsIHtcbiAgICAgIGhvb2tzOiB0aGlzLmhvb2tzLFxuICAgICAgcHJvdG9BY2Nlc3NDb250cm9sOiB0aGlzLnByb3RvQWNjZXNzQ29udHJvbFxuICAgIH0pO1xuXG4gICAgbGV0IHJlc3VsdCA9IGVudi5WTS5pbnZva2VQYXJ0aWFsLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgcGFydGlhbCxcbiAgICAgIGNvbnRleHQsXG4gICAgICBleHRlbmRlZE9wdGlvbnNcbiAgICApO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBudWxsICYmIGVudi5jb21waWxlKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV0gPSBlbnYuY29tcGlsZShcbiAgICAgICAgcGFydGlhbCxcbiAgICAgICAgdGVtcGxhdGVTcGVjLmNvbXBpbGVyT3B0aW9ucyxcbiAgICAgICAgZW52XG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdKGNvbnRleHQsIGV4dGVuZGVkT3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5kZW50KSB7XG4gICAgICAgIGxldCBsaW5lcyA9IHJlc3VsdC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFsaW5lc1tpXSAmJiBpICsgMSA9PT0gbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGluZXNbaV0gPSBvcHRpb25zLmluZGVudCArIGxpbmVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgJ1RoZSBwYXJ0aWFsICcgK1xuICAgICAgICAgIG9wdGlvbnMubmFtZSArXG4gICAgICAgICAgJyBjb3VsZCBub3QgYmUgY29tcGlsZWQgd2hlbiBydW5uaW5nIGluIHJ1bnRpbWUtb25seSBtb2RlJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBKdXN0IGFkZCB3YXRlclxuICBsZXQgY29udGFpbmVyID0ge1xuICAgIHN0cmljdDogZnVuY3Rpb24ob2JqLCBuYW1lLCBsb2MpIHtcbiAgICAgIGlmICghb2JqIHx8ICEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaiwge1xuICAgICAgICAgIGxvYzogbG9jXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialtuYW1lXTtcbiAgICB9LFxuICAgIGxvb2t1cFByb3BlcnR5OiBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgbGV0IHJlc3VsdCA9IHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0SXNBbGxvd2VkKHJlc3VsdCwgY29udGFpbmVyLnByb3RvQWNjZXNzQ29udHJvbCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGxvb2t1cDogZnVuY3Rpb24oZGVwdGhzLCBuYW1lKSB7XG4gICAgICBjb25zdCBsZW4gPSBkZXB0aHMubGVuZ3RoO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gZGVwdGhzW2ldICYmIGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eShkZXB0aHNbaV0sIG5hbWUpO1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZGVwdGhzW2ldW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsYW1iZGE6IGZ1bmN0aW9uKGN1cnJlbnQsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgY3VycmVudCA9PT0gJ2Z1bmN0aW9uJyA/IGN1cnJlbnQuY2FsbChjb250ZXh0KSA6IGN1cnJlbnQ7XG4gICAgfSxcblxuICAgIGVzY2FwZUV4cHJlc3Npb246IFV0aWxzLmVzY2FwZUV4cHJlc3Npb24sXG4gICAgaW52b2tlUGFydGlhbDogaW52b2tlUGFydGlhbFdyYXBwZXIsXG5cbiAgICBmbjogZnVuY3Rpb24oaSkge1xuICAgICAgbGV0IHJldCA9IHRlbXBsYXRlU3BlY1tpXTtcbiAgICAgIHJldC5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWNbaSArICdfZCddO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgcHJvZ3JhbXM6IFtdLFxuICAgIHByb2dyYW06IGZ1bmN0aW9uKGksIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICAgIGxldCBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0sXG4gICAgICAgIGZuID0gdGhpcy5mbihpKTtcbiAgICAgIGlmIChkYXRhIHx8IGRlcHRocyB8fCBibG9ja1BhcmFtcyB8fCBkZWNsYXJlZEJsb2NrUGFyYW1zKSB7XG4gICAgICAgIHByb2dyYW1XcmFwcGVyID0gd3JhcFByb2dyYW0oXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIGZuLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgZGVjbGFyZWRCbG9ja1BhcmFtcyxcbiAgICAgICAgICBibG9ja1BhcmFtcyxcbiAgICAgICAgICBkZXB0aHNcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoIXByb2dyYW1XcmFwcGVyKSB7XG4gICAgICAgIHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSA9IHdyYXBQcm9ncmFtKHRoaXMsIGksIGZuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9ncmFtV3JhcHBlcjtcbiAgICB9LFxuXG4gICAgZGF0YTogZnVuY3Rpb24odmFsdWUsIGRlcHRoKSB7XG4gICAgICB3aGlsZSAodmFsdWUgJiYgZGVwdGgtLSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLl9wYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBtZXJnZUlmTmVlZGVkOiBmdW5jdGlvbihwYXJhbSwgY29tbW9uKSB7XG4gICAgICBsZXQgb2JqID0gcGFyYW0gfHwgY29tbW9uO1xuXG4gICAgICBpZiAocGFyYW0gJiYgY29tbW9uICYmIHBhcmFtICE9PSBjb21tb24pIHtcbiAgICAgICAgb2JqID0gVXRpbHMuZXh0ZW5kKHt9LCBjb21tb24sIHBhcmFtKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIC8vIEFuIGVtcHR5IG9iamVjdCB0byB1c2UgYXMgcmVwbGFjZW1lbnQgZm9yIG51bGwtY29udGV4dHNcbiAgICBudWxsQ29udGV4dDogT2JqZWN0LnNlYWwoe30pLFxuXG4gICAgbm9vcDogZW52LlZNLm5vb3AsXG4gICAgY29tcGlsZXJJbmZvOiB0ZW1wbGF0ZVNwZWMuY29tcGlsZXJcbiAgfTtcblxuICBmdW5jdGlvbiByZXQoY29udGV4dCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGRhdGEgPSBvcHRpb25zLmRhdGE7XG5cbiAgICByZXQuX3NldHVwKG9wdGlvbnMpO1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsICYmIHRlbXBsYXRlU3BlYy51c2VEYXRhKSB7XG4gICAgICBkYXRhID0gaW5pdERhdGEoY29udGV4dCwgZGF0YSk7XG4gICAgfVxuICAgIGxldCBkZXB0aHMsXG4gICAgICBibG9ja1BhcmFtcyA9IHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzKSB7XG4gICAgICBpZiAob3B0aW9ucy5kZXB0aHMpIHtcbiAgICAgICAgZGVwdGhzID1cbiAgICAgICAgICBjb250ZXh0ICE9IG9wdGlvbnMuZGVwdGhzWzBdXG4gICAgICAgICAgICA/IFtjb250ZXh0XS5jb25jYXQob3B0aW9ucy5kZXB0aHMpXG4gICAgICAgICAgICA6IG9wdGlvbnMuZGVwdGhzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVwdGhzID0gW2NvbnRleHRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1haW4oY29udGV4dCAvKiwgb3B0aW9ucyovKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAnJyArXG4gICAgICAgIHRlbXBsYXRlU3BlYy5tYWluKFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIGNvbnRhaW5lci5oZWxwZXJzLFxuICAgICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGJsb2NrUGFyYW1zLFxuICAgICAgICAgIGRlcHRoc1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIG1haW4gPSBleGVjdXRlRGVjb3JhdG9ycyhcbiAgICAgIHRlbXBsYXRlU3BlYy5tYWluLFxuICAgICAgbWFpbixcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG9wdGlvbnMuZGVwdGhzIHx8IFtdLFxuICAgICAgZGF0YSxcbiAgICAgIGJsb2NrUGFyYW1zXG4gICAgKTtcbiAgICByZXR1cm4gbWFpbihjb250ZXh0LCBvcHRpb25zKTtcbiAgfVxuXG4gIHJldC5pc1RvcCA9IHRydWU7XG5cbiAgcmV0Ll9zZXR1cCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCkge1xuICAgICAgbGV0IG1lcmdlZEhlbHBlcnMgPSBVdGlscy5leHRlbmQoe30sIGVudi5oZWxwZXJzLCBvcHRpb25zLmhlbHBlcnMpO1xuICAgICAgd3JhcEhlbHBlcnNUb1Bhc3NMb29rdXBQcm9wZXJ0eShtZXJnZWRIZWxwZXJzLCBjb250YWluZXIpO1xuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBtZXJnZWRIZWxwZXJzO1xuXG4gICAgICBpZiAodGVtcGxhdGVTcGVjLnVzZVBhcnRpYWwpIHtcbiAgICAgICAgLy8gVXNlIG1lcmdlSWZOZWVkZWQgaGVyZSB0byBwcmV2ZW50IGNvbXBpbGluZyBnbG9iYWwgcGFydGlhbHMgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gY29udGFpbmVyLm1lcmdlSWZOZWVkZWQoXG4gICAgICAgICAgb3B0aW9ucy5wYXJ0aWFscyxcbiAgICAgICAgICBlbnYucGFydGlhbHNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCB8fCB0ZW1wbGF0ZVNwZWMudXNlRGVjb3JhdG9ycykge1xuICAgICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IFV0aWxzLmV4dGVuZChcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBlbnYuZGVjb3JhdG9ycyxcbiAgICAgICAgICBvcHRpb25zLmRlY29yYXRvcnNcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29udGFpbmVyLmhvb2tzID0ge307XG4gICAgICBjb250YWluZXIucHJvdG9BY2Nlc3NDb250cm9sID0gY3JlYXRlUHJvdG9BY2Nlc3NDb250cm9sKG9wdGlvbnMpO1xuXG4gICAgICBsZXQga2VlcEhlbHBlckluSGVscGVycyA9XG4gICAgICAgIG9wdGlvbnMuYWxsb3dDYWxsc1RvSGVscGVyTWlzc2luZyB8fFxuICAgICAgICB0ZW1wbGF0ZVdhc1ByZWNvbXBpbGVkV2l0aENvbXBpbGVyVjc7XG4gICAgICBtb3ZlSGVscGVyVG9Ib29rcyhjb250YWluZXIsICdoZWxwZXJNaXNzaW5nJywga2VlcEhlbHBlckluSGVscGVycyk7XG4gICAgICBtb3ZlSGVscGVyVG9Ib29rcyhjb250YWluZXIsICdibG9ja0hlbHBlck1pc3NpbmcnLCBrZWVwSGVscGVySW5IZWxwZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLnByb3RvQWNjZXNzQ29udHJvbCA9IG9wdGlvbnMucHJvdG9BY2Nlc3NDb250cm9sOyAvLyBpbnRlcm5hbCBvcHRpb25cbiAgICAgIGNvbnRhaW5lci5oZWxwZXJzID0gb3B0aW9ucy5oZWxwZXJzO1xuICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3B0aW9ucy5wYXJ0aWFscztcbiAgICAgIGNvbnRhaW5lci5kZWNvcmF0b3JzID0gb3B0aW9ucy5kZWNvcmF0b3JzO1xuICAgICAgY29udGFpbmVyLmhvb2tzID0gb3B0aW9ucy5ob29rcztcbiAgICB9XG4gIH07XG5cbiAgcmV0Ll9jaGlsZCA9IGZ1bmN0aW9uKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZUJsb2NrUGFyYW1zICYmICFibG9ja1BhcmFtcykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignbXVzdCBwYXNzIGJsb2NrIHBhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocyAmJiAhZGVwdGhzKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdtdXN0IHBhc3MgcGFyZW50IGRlcHRocycpO1xuICAgIH1cblxuICAgIHJldHVybiB3cmFwUHJvZ3JhbShcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGksXG4gICAgICB0ZW1wbGF0ZVNwZWNbaV0sXG4gICAgICBkYXRhLFxuICAgICAgMCxcbiAgICAgIGJsb2NrUGFyYW1zLFxuICAgICAgZGVwdGhzXG4gICAgKTtcbiAgfTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBQcm9ncmFtKFxuICBjb250YWluZXIsXG4gIGksXG4gIGZuLFxuICBkYXRhLFxuICBkZWNsYXJlZEJsb2NrUGFyYW1zLFxuICBibG9ja1BhcmFtcyxcbiAgZGVwdGhzXG4pIHtcbiAgZnVuY3Rpb24gcHJvZyhjb250ZXh0LCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgY3VycmVudERlcHRocyA9IGRlcHRocztcbiAgICBpZiAoXG4gICAgICBkZXB0aHMgJiZcbiAgICAgIGNvbnRleHQgIT0gZGVwdGhzWzBdICYmXG4gICAgICAhKGNvbnRleHQgPT09IGNvbnRhaW5lci5udWxsQ29udGV4dCAmJiBkZXB0aHNbMF0gPT09IG51bGwpXG4gICAgKSB7XG4gICAgICBjdXJyZW50RGVwdGhzID0gW2NvbnRleHRdLmNvbmNhdChkZXB0aHMpO1xuICAgIH1cblxuICAgIHJldHVybiBmbihcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGNvbnRleHQsXG4gICAgICBjb250YWluZXIuaGVscGVycyxcbiAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyxcbiAgICAgIG9wdGlvbnMuZGF0YSB8fCBkYXRhLFxuICAgICAgYmxvY2tQYXJhbXMgJiYgW29wdGlvbnMuYmxvY2tQYXJhbXNdLmNvbmNhdChibG9ja1BhcmFtcyksXG4gICAgICBjdXJyZW50RGVwdGhzXG4gICAgKTtcbiAgfVxuXG4gIHByb2cgPSBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKTtcblxuICBwcm9nLnByb2dyYW0gPSBpO1xuICBwcm9nLmRlcHRoID0gZGVwdGhzID8gZGVwdGhzLmxlbmd0aCA6IDA7XG4gIHByb2cuYmxvY2tQYXJhbXMgPSBkZWNsYXJlZEJsb2NrUGFyYW1zIHx8IDA7XG4gIHJldHVybiBwcm9nO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgY3VycmVudGx5IHBhcnQgb2YgdGhlIG9mZmljaWFsIEFQSSwgdGhlcmVmb3JlIGltcGxlbWVudGF0aW9uIGRldGFpbHMgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVBhcnRpYWwocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICBpZiAoIXBhcnRpYWwpIHtcbiAgICBpZiAob3B0aW9ucy5uYW1lID09PSAnQHBhcnRpYWwtYmxvY2snKSB7XG4gICAgICBwYXJ0aWFsID0gb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ107XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnRpYWwgPSBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV07XG4gICAgfVxuICB9IGVsc2UgaWYgKCFwYXJ0aWFsLmNhbGwgJiYgIW9wdGlvbnMubmFtZSkge1xuICAgIC8vIFRoaXMgaXMgYSBkeW5hbWljIHBhcnRpYWwgdGhhdCByZXR1cm5lZCBhIHN0cmluZ1xuICAgIG9wdGlvbnMubmFtZSA9IHBhcnRpYWw7XG4gICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbcGFydGlhbF07XG4gIH1cbiAgcmV0dXJuIHBhcnRpYWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgLy8gVXNlIHRoZSBjdXJyZW50IGNsb3N1cmUgY29udGV4dCB0byBzYXZlIHRoZSBwYXJ0aWFsLWJsb2NrIGlmIHRoaXMgcGFydGlhbFxuICBjb25zdCBjdXJyZW50UGFydGlhbEJsb2NrID0gb3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuICBvcHRpb25zLnBhcnRpYWwgPSB0cnVlO1xuICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICBvcHRpb25zLmRhdGEuY29udGV4dFBhdGggPSBvcHRpb25zLmlkc1swXSB8fCBvcHRpb25zLmRhdGEuY29udGV4dFBhdGg7XG4gIH1cblxuICBsZXQgcGFydGlhbEJsb2NrO1xuICBpZiAob3B0aW9ucy5mbiAmJiBvcHRpb25zLmZuICE9PSBub29wKSB7XG4gICAgb3B0aW9ucy5kYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAvLyBXcmFwcGVyIGZ1bmN0aW9uIHRvIGdldCBhY2Nlc3MgdG8gY3VycmVudFBhcnRpYWxCbG9jayBmcm9tIHRoZSBjbG9zdXJlXG4gICAgbGV0IGZuID0gb3B0aW9ucy5mbjtcbiAgICBwYXJ0aWFsQmxvY2sgPSBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IGZ1bmN0aW9uIHBhcnRpYWxCbG9ja1dyYXBwZXIoXG4gICAgICBjb250ZXh0LFxuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgKSB7XG4gICAgICAvLyBSZXN0b3JlIHRoZSBwYXJ0aWFsLWJsb2NrIGZyb20gdGhlIGNsb3N1cmUgZm9yIHRoZSBleGVjdXRpb24gb2YgdGhlIGJsb2NrXG4gICAgICAvLyBpLmUuIHRoZSBwYXJ0IGluc2lkZSB0aGUgYmxvY2sgb2YgdGhlIHBhcnRpYWwgY2FsbC5cbiAgICAgIG9wdGlvbnMuZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IGN1cnJlbnRQYXJ0aWFsQmxvY2s7XG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBpZiAoZm4ucGFydGlhbHMpIHtcbiAgICAgIG9wdGlvbnMucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMucGFydGlhbHMsIGZuLnBhcnRpYWxzKTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkICYmIHBhcnRpYWxCbG9jaykge1xuICAgIHBhcnRpYWwgPSBwYXJ0aWFsQmxvY2s7XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGhlIHBhcnRpYWwgJyArIG9wdGlvbnMubmFtZSArICcgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gIH0gZWxzZSBpZiAocGFydGlhbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIHBhcnRpYWwoY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7XG4gIHJldHVybiAnJztcbn1cblxuZnVuY3Rpb24gaW5pdERhdGEoY29udGV4dCwgZGF0YSkge1xuICBpZiAoIWRhdGEgfHwgISgncm9vdCcgaW4gZGF0YSkpIHtcbiAgICBkYXRhID0gZGF0YSA/IGNyZWF0ZUZyYW1lKGRhdGEpIDoge307XG4gICAgZGF0YS5yb290ID0gY29udGV4dDtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcykge1xuICBpZiAoZm4uZGVjb3JhdG9yKSB7XG4gICAgbGV0IHByb3BzID0ge307XG4gICAgcHJvZyA9IGZuLmRlY29yYXRvcihcbiAgICAgIHByb2csXG4gICAgICBwcm9wcyxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGRlcHRocyAmJiBkZXB0aHNbMF0sXG4gICAgICBkYXRhLFxuICAgICAgYmxvY2tQYXJhbXMsXG4gICAgICBkZXB0aHNcbiAgICApO1xuICAgIFV0aWxzLmV4dGVuZChwcm9nLCBwcm9wcyk7XG4gIH1cbiAgcmV0dXJuIHByb2c7XG59XG5cbmZ1bmN0aW9uIHdyYXBIZWxwZXJzVG9QYXNzTG9va3VwUHJvcGVydHkobWVyZ2VkSGVscGVycywgY29udGFpbmVyKSB7XG4gIE9iamVjdC5rZXlzKG1lcmdlZEhlbHBlcnMpLmZvckVhY2goaGVscGVyTmFtZSA9PiB7XG4gICAgbGV0IGhlbHBlciA9IG1lcmdlZEhlbHBlcnNbaGVscGVyTmFtZV07XG4gICAgbWVyZ2VkSGVscGVyc1toZWxwZXJOYW1lXSA9IHBhc3NMb29rdXBQcm9wZXJ0eU9wdGlvbihoZWxwZXIsIGNvbnRhaW5lcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwYXNzTG9va3VwUHJvcGVydHlPcHRpb24oaGVscGVyLCBjb250YWluZXIpIHtcbiAgY29uc3QgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHk7XG4gIHJldHVybiB3cmFwSGVscGVyKGhlbHBlciwgb3B0aW9ucyA9PiB7XG4gICAgcmV0dXJuIFV0aWxzLmV4dGVuZCh7IGxvb2t1cFByb3BlcnR5IH0sIG9wdGlvbnMpO1xuICB9KTtcbn1cbiJdfQ==\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/safe-string.js":\n/*!********************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/safe-string.js ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n// Build out our basic SafeString type\n\n\nexports.__esModule = true;\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n  return \'\' + this.string;\n};\n\nexports[\'default\'] = SafeString;\nmodule.exports = exports[\'default\'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDMUIsTUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Q0FDdEI7O0FBRUQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN2RSxTQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0NBQ3pCLENBQUM7O3FCQUVhLFVBQVUiLCJmaWxlIjoic2FmZS1zdHJpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcbiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG59XG5cblNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2FmZVN0cmluZztcbiJdfQ==\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/dist/cjs/handlebars/utils.js":\n/*!**************************************************************!*\\\n  !*** ./node_modules/handlebars/dist/cjs/handlebars/utils.js ***!\n  \\**************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n\n\nexports.__esModule = true;\nexports.extend = extend;\nexports.indexOf = indexOf;\nexports.escapeExpression = escapeExpression;\nexports.isEmpty = isEmpty;\nexports.createFrame = createFrame;\nexports.blockParams = blockParams;\nexports.appendContextPath = appendContextPath;\nvar escape = {\n  \'&\': \'&amp;\',\n  \'<\': \'&lt;\',\n  \'>\': \'&gt;\',\n  \'"\': \'&quot;\',\n  "\'": \'&#x27;\',\n  \'`\': \'&#x60;\',\n  \'=\': \'&#x3D;\'\n};\n\nvar badChars = /[&<>"\'`=]/g,\n    possible = /[&<>"\'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction extend(obj /* , ...source */) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nvar toString = Object.prototype.toString;\n\nexports.toString = toString;\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nvar isFunction = function isFunction(value) {\n  return typeof value === \'function\';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  exports.isFunction = isFunction = function (value) {\n    return typeof value === \'function\' && toString.call(value) === \'[object Function]\';\n  };\n}\nexports.isFunction = isFunction;\n\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nvar isArray = Array.isArray || function (value) {\n  return value && typeof value === \'object\' ? toString.call(value) === \'[object Array]\' : false;\n};\n\nexports.isArray = isArray;\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\nfunction indexOf(array, value) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== \'string\') {\n    // don\'t escape SafeStrings, since they\'re already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return \'\';\n    } else if (!string) {\n      return string + \'\';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object\'s to string has escaped characters in it.\n    string = \'\' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n  return string.replace(badChars, escapeChar);\n}\n\nfunction isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction createFrame(object) {\n  var frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nfunction blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nfunction appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + \'.\' : \'\') + id;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFNLE1BQU0sR0FBRztBQUNiLEtBQUcsRUFBRSxPQUFPO0FBQ1osS0FBRyxFQUFFLE1BQU07QUFDWCxLQUFHLEVBQUUsTUFBTTtBQUNYLEtBQUcsRUFBRSxRQUFRO0FBQ2IsS0FBRyxFQUFFLFFBQVE7QUFDYixLQUFHLEVBQUUsUUFBUTtBQUNiLEtBQUcsRUFBRSxRQUFRO0NBQ2QsQ0FBQzs7QUFFRixJQUFNLFFBQVEsR0FBRyxZQUFZO0lBQzNCLFFBQVEsR0FBRyxXQUFXLENBQUM7O0FBRXpCLFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRTtBQUN2QixTQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNwQjs7QUFFTSxTQUFTLE1BQU0sQ0FBQyxHQUFHLG9CQUFvQjtBQUM1QyxPQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN6QyxTQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUM1QixVQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDM0QsV0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztPQUM5QjtLQUNGO0dBQ0Y7O0FBRUQsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFTSxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQzs7Ozs7O0FBS2hELElBQUksVUFBVSxHQUFHLG9CQUFTLEtBQUssRUFBRTtBQUMvQixTQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsQ0FBQztDQUNwQyxDQUFDOzs7QUFHRixJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNuQixVQU9PLFVBQVUsR0FQakIsVUFBVSxHQUFHLFVBQVMsS0FBSyxFQUFFO0FBQzNCLFdBQ0UsT0FBTyxLQUFLLEtBQUssVUFBVSxJQUMzQixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLG1CQUFtQixDQUM1QztHQUNILENBQUM7Q0FDSDtRQUNRLFVBQVUsR0FBVixVQUFVOzs7OztBQUlaLElBQU0sT0FBTyxHQUNsQixLQUFLLENBQUMsT0FBTyxJQUNiLFVBQVMsS0FBSyxFQUFFO0FBQ2QsU0FBTyxLQUFLLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxHQUNyQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLGdCQUFnQixHQUN6QyxLQUFLLENBQUM7Q0FDWCxDQUFDOzs7OztBQUdHLFNBQVMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDcEMsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNoRCxRQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUU7QUFDdEIsYUFBTyxDQUFDLENBQUM7S0FDVjtHQUNGO0FBQ0QsU0FBTyxDQUFDLENBQUMsQ0FBQztDQUNYOztBQUVNLFNBQVMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFO0FBQ3ZDLE1BQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFOztBQUU5QixRQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQzNCLGFBQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQ3hCLE1BQU0sSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO0FBQ3pCLGFBQU8sRUFBRSxDQUFDO0tBQ1gsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ2xCLGFBQU8sTUFBTSxHQUFHLEVBQUUsQ0FBQztLQUNwQjs7Ozs7QUFLRCxVQUFNLEdBQUcsRUFBRSxHQUFHLE1BQU0sQ0FBQztHQUN0Qjs7QUFFRCxNQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUMxQixXQUFPLE1BQU0sQ0FBQztHQUNmO0FBQ0QsU0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztDQUM3Qzs7QUFFTSxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUU7QUFDN0IsTUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQ3pCLFdBQU8sSUFBSSxDQUFDO0dBQ2IsTUFBTSxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUMvQyxXQUFPLElBQUksQ0FBQztHQUNiLE1BQU07QUFDTCxXQUFPLEtBQUssQ0FBQztHQUNkO0NBQ0Y7O0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFO0FBQ2xDLE1BQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDL0IsT0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDdkIsU0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFFTSxTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQ3ZDLFFBQU0sQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLFNBQU8sTUFBTSxDQUFDO0NBQ2Y7O0FBRU0sU0FBUyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFO0FBQ2pELFNBQU8sQ0FBQyxXQUFXLEdBQUcsV0FBVyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUEsR0FBSSxFQUFFLENBQUM7Q0FDcEQiLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5jb25zdCBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gIHBvc3NpYmxlID0gL1smPD5cIidgPV0vO1xuXG5mdW5jdGlvbiBlc2NhcGVDaGFyKGNocikge1xuICByZXR1cm4gZXNjYXBlW2Nocl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQob2JqIC8qICwgLi4uc291cmNlICovKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgbGV0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xubGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSdcbiAgICApO1xuICB9O1xufVxuZXhwb3J0IHsgaXNGdW5jdGlvbiB9O1xuLyogZXNsaW50LWVuYWJsZSBmdW5jLXN0eWxlICovXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgaXNBcnJheSA9XG4gIEFycmF5LmlzQXJyYXkgfHxcbiAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xuICAgICAgPyB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuLy8gT2xkZXIgSUUgdmVyc2lvbnMgZG8gbm90IGRpcmVjdGx5IHN1cHBvcnQgaW5kZXhPZiBzbyB3ZSBtdXN0IGltcGxlbWVudCBvdXIgb3duLCBzYWRseS5cbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoYXJyYXlbaV0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGJhZENoYXJzLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJhbWUob2JqZWN0KSB7XG4gIGxldCBmcmFtZSA9IGV4dGVuZCh7fSwgb2JqZWN0KTtcbiAgZnJhbWUuX3BhcmVudCA9IG9iamVjdDtcbiAgcmV0dXJuIGZyYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxvY2tQYXJhbXMocGFyYW1zLCBpZHMpIHtcbiAgcGFyYW1zLnBhdGggPSBpZHM7XG4gIHJldHVybiBwYXJhbXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRDb250ZXh0UGF0aChjb250ZXh0UGF0aCwgaWQpIHtcbiAgcmV0dXJuIChjb250ZXh0UGF0aCA/IGNvbnRleHRQYXRoICsgJy4nIDogJycpICsgaWQ7XG59XG4iXX0=\n\n\n/***/ }),\n\n/***/ "./node_modules/handlebars/runtime.js":\n/*!********************************************!*\\\n  !*** ./node_modules/handlebars/runtime.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_146904__) {\n\n// Create a simple path alias to allow browserify to resolve\n// the runtime on a supported path.\nmodule.exports = __nested_webpack_require_146904__(/*! ./dist/cjs/handlebars.runtime */ "./node_modules/handlebars/dist/cjs/handlebars.runtime.js")[\'default\'];\n\n\n/***/ }),\n\n/***/ "./node_modules/webpack/buildin/global.js":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ "./src/css/main.styl":\n/*!***************************!*\\\n  !*** ./src/css/main.styl ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ "./src/index.js":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_148346__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview The entry file of fullcalendar\n * @author NHN FE Development Lab\n */\n\n\n\nvar util = __nested_webpack_require_148346__(/*! tui-code-snippet */ "tui-code-snippet");\nvar Calendar = __nested_webpack_require_148346__(/*! ./js/factory/calendar */ "./src/js/factory/calendar.js");\n\n__nested_webpack_require_148346__(/*! ./css/main.styl */ "./src/css/main.styl");\n__nested_webpack_require_148346__(/*! ./js/view/template/helper */ "./src/js/view/template/helper.js");\n\n// for jquery\nif (global.jQuery) {\n    global.jQuery.fn.tuiCalendar = function() {\n        var options, instance;\n\n        var el = this.get(0);\n        var args = Array.prototype.slice.apply(arguments);\n\n        if (el) {\n            options = util.pick(args, 0) || {};\n\n            instance = global.jQuery.data(el, \'tuiCalendar\');\n\n            if (instance) {\n                if (typeof options === \'string\' && instance[options]) {\n                    return instance[options].apply(instance, args.slice(1));\n                }\n            } else {\n                instance = new Calendar(el, options);\n                global.jQuery.data(el, \'tuiCalendar\', instance);\n            }\n        }\n\n        return this;\n    };\n}\n\nmodule.exports = Calendar;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_148346__(/*! ./../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/common/array.js":\n/*!********************************!*\\\n  !*** ./src/js/common/array.js ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_149989__) {\n\n"use strict";\n/**\n * @fileoverview Utility module for array sort, binary search.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_149989__(/*! tui-code-snippet */ "tui-code-snippet");\nvar datetime = __nested_webpack_require_149989__(/*! ../common/datetime */ "./src/js/common/datetime.js");\n\n/**\n * A module for sorting array.\n * @module array\n */\n\n/**********\n * Search\n **********/\n\n/**\n * search item index using binary search algorithm.\n *\n * the array must be sorted.\n * @param {array} arr array to search.\n * @param {(string|number|boolean)} search value to search.\n * @param {function} [fn] iteratee for retrieve each element\'s value to search.\n * @param {function} [compare] compare function for specific sort status. default is string ascending.\n * @returns {number} The number of item index searched. return negative number when no exist that item.\n * It can use insert index after Math.abs()\n * @example\n *\n * var arr = [1, 3, 7, 11, 15, 23];\n *\n * function sortNumber(a, b) {\n *     return a - b;\n * }\n *\n * bsearch(arr, 15, null, sortNumber);    // 4\n * bsearch(arr, 21, null, sortNumber);    // -5\n *\n * arr.splice(Math.abs(bsearch(arr, 21, null, sortNumber)), 0, 21);\n * // [1, 2, 7, 11, 15, 21, 23]\n */\nfunction bsearch(arr, search, fn, compare) {\n    var minIndex = 0,\n        maxIndex = arr.length - 1,\n        currentIndex,\n        value,\n        comp;\n\n    compare = compare || stringASC;\n\n    while (minIndex <= maxIndex) {\n        currentIndex = (minIndex + maxIndex) / 2 | 0; // Math.floor\n        value = fn ? fn(arr[currentIndex]) : arr[currentIndex];\n        comp = compare(value, search);\n\n        if (comp < 0) {\n            minIndex = currentIndex + 1;\n        } else if (comp > 0) {\n            maxIndex = currentIndex - 1;\n        } else {\n            return currentIndex;\n        }\n    }\n\n    return ~maxIndex;\n}\n\n/**********\n * Compare Functions\n **********/\n\n/**\n * compare function for array sort.\n *\n * sort array by ascending.\n * @param {boolean} a The boolean to compare\n * @param {boolean} b The boolean to compare.\n * @returns {number} Result of comparison.\n */\nfunction booleanASC(a, b) {\n    if (a !== b) {\n        return a ? -1 : 1;\n    }\n\n    return 0;\n}\n\n/**\n * compare function for array sort.\n *\n * sort array by descending.\n * @param {boolean} a The boolean to compare\n * @param {boolean} b The boolean to compare.\n * @returns {number} Result of comparison.\n */\nfunction booleanDESC(a, b) {\n    if (a !== b) {\n        return a ? 1 : -1;\n    }\n\n    return 0;\n}\n\n/**\n * compare function for array sort.\n *\n * sort array by number ascending.\n * @param {number} _a The number to compare.\n * @param {number} _b The number to compare.\n * @returns {number} Result of comparison.\n */\nfunction numberASC(_a, _b) {\n    var a = Number(_a),\n        b = Number(_b);\n\n    return a - b;\n}\n\n/**\n * compare function for array sort.\n *\n * sort array by number descending.\n * @param {number} _a The number to compare.\n * @param {number} _b The number to compare.\n * @returns {number} Result of comparison.\n */\nfunction numberDESC(_a, _b) {\n    var a = Number(_a),\n        b = Number(_b);\n\n    return b - a;\n}\n\n/**\n * compare function for array sort.\n *\n * sort array by string ascending\n * @param {string} _a The string to compare.\n * @param {string} _b The string to compare.\n * @returns {number} Result of comparison.\n */\nfunction stringASC(_a, _b) {\n    var a = String(_a),\n        b = String(_b);\n\n    if (a > b) {\n        return 1;\n    }\n    if (a < b) {\n        return -1;\n    }\n\n    return 0;\n}\n\n/**\n * compare function for array sort.\n *\n * sort array by string descending\n * @param {string} _a The string to compare.\n * @param {string} _b The string to compare.\n * @returns {number} Result of comparison.\n */\nfunction stringDESC(_a, _b) {\n    var a = String(_a),\n        b = String(_b);\n\n    if (a > b) {\n        return -1;\n    }\n    if (a < b) {\n        return 1;\n    }\n\n    return 0;\n}\n\n/**\n * compare function for array sort.\n *\n * sort array by string ascending with ignore case.\n * @param {string} _a The string to compare.\n * @param {string} _b The string to compare.\n * @returns {number} Result of comparison.\n */\nfunction stringASCIgnoreCase(_a, _b) {\n    var a = String(_a).toLowerCase(),\n        b = String(_b).toLowerCase();\n\n    if (a > b) {\n        return 1;\n    }\n    if (a < b) {\n        return -1;\n    }\n\n    return 0;\n}\n\n/**\n * compare function for array sort.\n *\n * sort array by string descending with ignore case.\n * @param {string} _a The string to compare.\n * @param {string} _b The string to compare.\n * @returns {number} Result of comparison.\n */\nfunction stringDESCIgnoreCase(_a, _b) {\n    var a = String(_a).toLowerCase(),\n        b = String(_b).toLowerCase();\n\n    if (a > b) {\n        return -1;\n    }\n    if (a < b) {\n        return 1;\n    }\n\n    return 0;\n}\n\n/**\n * Compare schedule models for sort.\n *\n * 1. all day schedule first.\n * 2. early start.\n * 3. longest duration.\n * 4. early created.\n * @param {Schedule|ScheduleViewModel} a The object schedule instance.\n * @param {Schedule|ScheduleViewModel} b The object schedule instance.\n * @returns {number} Result of comparison.\n */\nfunction scheduleASC(a, b) {\n    var durationA, durationB;\n    var allDayCompare, startsCompare;\n    var modelA = a.valueOf();\n    var modelB = b.valueOf();\n\n    allDayCompare = booleanASC(modelA.isAllDay || a.hasMultiDates, modelB.isAllDay || b.hasMultiDates);\n\n    if (allDayCompare) {\n        return allDayCompare;\n    }\n\n    startsCompare = datetime.compare(a.getStarts(), b.getStarts());\n\n    if (startsCompare) {\n        return startsCompare;\n    }\n\n    durationA = a.duration();\n    durationB = b.duration();\n\n    if (durationA < durationB) {\n        return 1;\n    }\n    if (durationA > durationB) {\n        return -1;\n    }\n\n    return util.stamp(modelA) - util.stamp(modelB);\n}\n\nmodule.exports = {\n    bsearch: bsearch,\n    compare: {\n        schedule: {\n            asc: scheduleASC\n        },\n        bool: {\n            asc: booleanASC,\n            desc: booleanDESC\n        },\n        num: {\n            asc: numberASC,\n            desc: numberDESC\n        },\n        str: {\n            asc: stringASC,\n            desc: stringDESC,\n            ascIgnoreCase: stringASCIgnoreCase,\n            descIgnoreCase: stringDESCIgnoreCase\n        }\n    }\n};\n\n\n/***/ }),\n\n/***/ "./src/js/common/autoScroll.js":\n/*!*************************************!*\\\n  !*** ./src/js/common/autoScroll.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_156596__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview Add autoscroll feature to elements that prevented text selection.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_156596__(/*! tui-code-snippet */ "tui-code-snippet");\nvar domevent = __nested_webpack_require_156596__(/*! ../common/domevent */ "./src/js/common/domevent.js");\nvar domutil = __nested_webpack_require_156596__(/*! ../common/domutil */ "./src/js/common/domutil.js");\nvar Point = __nested_webpack_require_156596__(/*! ../common/point */ "./src/js/common/point.js");\n\nvar SCROLL_INTERVAL = 30;\nvar SCROLL_MAX = 15;\nvar SCROLL_CLICK_INCREASED = 2; // In IE, the offset of the actual UI pixel when the scroll bar is clicked is offset.\n\n/**\n * Add autoscroll feature to elements that prevented text selection.\n * @constructor\n * @param {HTMLElement} container - HTMLElement to add autoscroll features.\n */\nfunction AutoScroll(container) {\n    /**\n     * @type {HTMLElement}\n     */\n    this.container = container;\n\n    /**\n     * @type {AutoScroll.DIRECTION}\n     */\n    this._direction = AutoScroll.DIRECTION.INSIDE;\n\n    /**\n     * @type {number}\n     */\n    this._offset = 0;\n\n    /**\n     * interval to scrolling\n     * @type {number}\n     */\n    this._intervalID = 0;\n\n    domevent.on(container, {\n        \'mousedown\': this._onMouseDown\n    }, this);\n}\n\n/**\n * @enum\n */\nAutoScroll.DIRECTION = {\n    INSIDE: 0,\n    TOP: 1,\n    RIGHT: 2,\n    BOTTOM: 3,\n    LEFT: 4\n};\n\n/**\n * Instance destroy method.\n */\nAutoScroll.prototype.destroy = function() {\n    domevent.off(this.container, {\n        \'mousedown\': this._onMouseDown,\n        \'mousemove\': this._onMouseMove,\n        \'mouseup\': this._onMouseUp\n    }, this);\n\n    window.clearInterval(this._intervalID);\n    this._intervalID = this._direction = this.container = null;\n};\n\n/**\n * Normalize ClientRect and calculate each position of edges.\n * @param {ClientRect} clientRect - ClientRect object of element.\n * @returns {object} edges.\n */\nAutoScroll.prototype._getEdgePositions = function(clientRect) {\n    return {\n        top: clientRect.top,\n        right: clientRect.left + clientRect.width,\n        bottom: clientRect.bottom,\n        left: clientRect.left\n    };\n};\n\n/**\n * Get element real size ("real size" -> size without scrollbar)\n * @param {HTMLElement} el - element want to know real size ("real size" -> size without scrollbar)\n * @returns {number[]} real size [width, height]\n */\nAutoScroll.prototype.getRealSize = function(el) {\n    var computed = domutil.getComputedStyle(el),\n        border,\n        padding;\n\n    border = parseFloat(computed.getPropertyValue(\'border-top-width\')) +\n        parseFloat(computed.getPropertyValue(\'border-bottom-width\'));\n    padding = parseFloat(computed.getPropertyValue(\'padding-top\')) +\n        parseFloat(computed.getPropertyValue(\'padding-bottom\'));\n\n    return [el.clientWidth + border + padding, el.clientHeight + border + padding];\n};\n\n/**\n * Check supplied element has scrollbar.\n * @param {HTMLElement} el - element want to know has scrollbar.\n * @returns {boolean[]} has scrollbar? [horizontal, vertical]\n */\nAutoScroll.prototype.hasScrollbar = function(el) {\n    var realSize = this.getRealSize(el);\n\n    return [\n        el.offsetWidth > Math.ceil(realSize[0]),\n        el.offsetHeight > Math.ceil(realSize[1])\n    ];\n};\n\n/**\n * @param {HTMLElement} el - element want to know.\n * @param {MouseEvent} mouseEvent - mouse event object.\n * @returns {boolean} mouse pointer is on the scrollbar?\n */\nAutoScroll.prototype.isOnScrollbar = function(el, mouseEvent) {\n    var realSize = this.getRealSize(el),\n        pos = domevent.getMousePosition(mouseEvent, el),\n        mouseInScrollbar = false;\n\n    mouseInScrollbar = (realSize[0] - SCROLL_CLICK_INCREASED < pos[0] ||\n                        realSize[1] - SCROLL_CLICK_INCREASED < pos[1]);\n\n    return mouseInScrollbar;\n};\n\n/**\n * MouseDown event handler\n * @param {MouseEvent} mouseDownEvent - mouse down event\n */\nAutoScroll.prototype._onMouseDown = function(mouseDownEvent) {\n    // only primary button can start drag.\n    if (domevent.getMouseButton(mouseDownEvent) !== 0) {\n        return;\n    }\n\n    // deactivate autoscroll feature when mouse is on the scrollbar. (IE)\n    if (util.browser.msie && this.isOnScrollbar(this.container, mouseDownEvent)) {\n        return;\n    }\n\n    window.clearInterval(this._intervalID);\n    this._intervalID = window.setInterval(this._onTick.bind(this), SCROLL_INTERVAL);\n\n    domevent.on(global, {\n        \'mousemove\': this._onMouseMove,\n        \'mouseup\': this._onMouseUp\n    }, this);\n};\n\n/**\n * MouseMove event handler\n * @param {MouseEvent} mouseEvent - mouse move event object.\n */\nAutoScroll.prototype._onMouseMove = function(mouseEvent) {\n    var edge = this._getEdgePositions(this.container.getBoundingClientRect()),\n        pos = Point.n(domevent.getMousePosition(mouseEvent));\n\n    if (pos.y >= edge.top && pos.y <= edge.bottom &&\n        pos.x >= edge.left && pos.x <= edge.right) {\n        this._direction = AutoScroll.DIRECTION.INSIDE;\n\n        return;\n    }\n\n    if (pos.y < edge.top) {\n        this._direction = AutoScroll.DIRECTION.TOP;\n        this._offset = edge.top - pos.y;\n\n        return;\n    }\n\n    if (pos.y > edge.bottom) {\n        this._direction = AutoScroll.DIRECTION.BOTTOM;\n        this._offset = pos.y - edge.bottom;\n\n        return;\n    }\n\n    if (pos.x < edge.left) {\n        this._direction = AutoScroll.DIRECTION.LEFT;\n        this._offset = edge.left - pos.x;\n\n        return;\n    }\n\n    this._direction = AutoScroll.DIRECTION.RIGHT;\n    this._offset = pos.x - edge.right;\n};\n\n/**\n * MouseUp event handler.\n */\nAutoScroll.prototype._onMouseUp = function() {\n    window.clearInterval(this._intervalID);\n    this._intervalID = 0;\n    this._direction = AutoScroll.DIRECTION.INSIDE;\n    this._offset = 0;\n\n    domevent.off(global, {\n        \'mousemove\': this._onMouseMove,\n        \'mouseup\': this._onMouseUp\n    }, this);\n};\n\n/**\n * Interval tick event handler\n */\nAutoScroll.prototype._onTick = function() {\n    var direction = this._direction,\n        container,\n        factor;\n\n    if (!direction) {\n        return;\n    }\n\n    container = this.container;\n    factor = Math.min(this._offset, SCROLL_MAX);\n\n    switch (direction) {\n        case AutoScroll.DIRECTION.TOP:\n            container.scrollTop -= factor;\n            break;\n        case AutoScroll.DIRECTION.RIGHT:\n            container.scrollLeft += factor;\n            break;\n        case AutoScroll.DIRECTION.BOTTOM:\n            container.scrollTop += factor;\n            break;\n        default:\n            container.scrollLeft -= factor;\n            break;\n    }\n};\n\nmodule.exports = AutoScroll;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_156596__(/*! ./../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/common/collection.js":\n/*!*************************************!*\\\n  !*** ./src/js/common/collection.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_163708__) {\n\n"use strict";\n/**\n * @fileoverview Common collections.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_163708__(/*! tui-code-snippet */ "tui-code-snippet");\nvar forEachProp = util.forEachOwnProperties,\n    forEachArr = util.forEachArray,\n    isFunc = util.isFunction,\n    isObj = util.isObject;\n\nvar aps = Array.prototype.slice;\n\n/**\n * Common collection.\n *\n * It need function for get model\'s unique id.\n *\n * if the function is not supplied then it use default function {@link Collection#getItemID}\n * @constructor\n * @param {function} [getItemIDFn] function for get model\'s id.\n */\nfunction Collection(getItemIDFn) {\n    /**\n     * @type {object.<string, *>}\n     */\n    this.items = {};\n\n    /**\n     * @type {number}\n     */\n    this.length = 0;\n\n    if (isFunc(getItemIDFn)) {\n        /**\n         * @type {function}\n         */\n        this.getItemID = getItemIDFn;\n    }\n}\n\n/**********\n * static props\n **********/\n\n/**\n * Combind supplied function filters and condition.\n * @param {...function} filters - function filters\n * @returns {function} combined filter\n */\nCollection.and = function(filters) {\n    var cnt;\n\n    filters = aps.call(arguments);\n    cnt = filters.length;\n\n    return function(item) {\n        var i = 0;\n\n        for (; i < cnt; i += 1) {\n            if (!filters[i].call(null, item)) {\n                return false;\n            }\n        }\n\n        return true;\n    };\n};\n\n/**********\n * prototype props\n **********/\n\n/**\n * get model\'s unique id.\n * @param {object} item model instance.\n * @returns {number} model unique id.\n */\nCollection.prototype.getItemID = function(item) {\n    return String(item._id);\n};\n\n/**\n * add models.\n * @param {...*} item models to add this collection.\n */\nCollection.prototype.add = function(item) {\n    var self = this,\n        id,\n        ownItems;\n\n    if (arguments.length > 1) {\n        forEachArr(aps.call(arguments), function(o) {\n            self.add(o);\n        });\n\n        return;\n    }\n\n    id = this.getItemID(item);\n    ownItems = this.items;\n\n    if (!ownItems[id]) {\n        this.length += 1;\n    }\n    ownItems[id] = item;\n};\n\n/**\n * remove models.\n * @param {...(object|string|number)} id model instance or unique id to delete.\n * @returns {array} deleted model list.\n */\nCollection.prototype.remove = function(id) {\n    var self = this,\n        removed = [],\n        ownItems,\n        itemToRemove;\n\n    if (!this.length) {\n        return removed;\n    }\n\n    if (arguments.length > 1) {\n        removed = util.map(aps.call(arguments), function(_id) {\n            return self.remove(_id);\n        });\n\n        return removed;\n    }\n\n    ownItems = this.items;\n\n    if (isObj(id)) {\n        id = this.getItemID(id);\n    }\n\n    if (!ownItems[id]) {\n        return removed;\n    }\n\n    this.length -= 1;\n    itemToRemove = ownItems[id];\n    delete ownItems[id];\n\n    return itemToRemove;\n};\n\n/**\n * remove all models in collection.\n */\nCollection.prototype.clear = function() {\n    this.items = {};\n    this.length = 0;\n};\n\n/**\n * check collection has specific model.\n * @param {(object|string|number|function)} id model instance or id or filter function to check\n * @returns {boolean} is has model?\n */\nCollection.prototype.has = function(id) {\n    var isFilter,\n        has;\n\n    if (!this.length) {\n        return false;\n    }\n\n    isFilter = isFunc(id);\n    has = false;\n\n    if (isFilter) {\n        this.each(function(item) {\n            if (id(item) === true) {\n                has = true;\n\n                return false; // returning false can stop this loop\n            }\n\n            return true;\n        });\n    } else {\n        id = isObj(id) ? this.getItemID(id) : id;\n        has = util.isExisty(this.items[id]);\n    }\n\n    return has;\n};\n\n/**\n * invoke callback when model exist in collection.\n * @param {(string|number)} id model unique id.\n * @param {function} fn the callback.\n * @param {*} [context] callback context.\n */\nCollection.prototype.doWhenHas = function(id, fn, context) {\n    var item = this.items[id];\n\n    if (!util.isExisty(item)) {\n        return;\n    }\n\n    fn.call(context || this, item);\n};\n\n/**\n * Search model. and return new collection.\n * @param {function} filter filter function.\n * @returns {Collection} new collection with filtered models.\n * @example\n * collection.find(function(item) {\n *     return item.edited === true;\n * });\n *\n * function filter1(item) {\n *     return item.edited === false;\n * }\n *\n * function filter2(item) {\n *     return item.disabled === false;\n * }\n *\n * collection.find(Collection.and(filter1, filter2));\n */\nCollection.prototype.find = function(filter) {\n    var result = new Collection();\n\n    if (this.hasOwnProperty(\'getItemID\')) {\n        result.getItemID = this.getItemID;\n    }\n\n    this.each(function(item) {\n        if (filter(item) === true) {\n            result.add(item);\n        }\n    });\n\n    return result;\n};\n\n/**\n * Group element by specific key values.\n *\n * if key parameter is function then invoke it and use returned value.\n * @param {(string|number|function|array)} key key property or getter function.\n *  if string[] supplied, create each collection before grouping.\n * @param {function} [groupFunc] - function that return each group\'s key\n * @returns {object.<string, Collection>} grouped object\n * @example\n *\n * // pass `string`, `number`, `boolean` type value then group by property value.\n * collection.groupBy(\'gender\');    // group by \'gender\' property value.\n * collection.groupBy(50);          // group by \'50\' property value.\n *\n * // pass `function` then group by return value. each invocation `function` is called with `(item)`.\n * collection.groupBy(function(item) {\n *     if (item.score > 60) {\n *         return \'pass\';\n *     }\n *     return \'fail\';\n * });\n *\n * // pass `array` with first arguments then create each collection before grouping.\n * collection.groupBy([\'go\', \'ruby\', \'javascript\']);\n * // result: { \'go\': empty Collection, \'ruby\': empty Collection, \'javascript\': empty Collection }\n *\n * // can pass `function` with `array` then group each elements.\n * collection.groupBy([\'go\', \'ruby\', \'javascript\'], function(item) {\n *     if (item.isFast) {\n *         return \'go\';\n *     }\n *\n *     return item.name;\n * });\n */\nCollection.prototype.groupBy = function(key, groupFunc) {\n    var result = {},\n        collection,\n        baseValue,\n        keyIsFunc = isFunc(key),\n        getItemIDFn = this.getItemID;\n\n    if (util.isArray(key)) {\n        util.forEachArray(key, function(k) {\n            result[String(k)] = new Collection(getItemIDFn);\n        });\n\n        if (!groupFunc) {\n            return result;\n        }\n\n        key = groupFunc;\n        keyIsFunc = true;\n    }\n\n    this.each(function(item) {\n        if (keyIsFunc) {\n            baseValue = key(item);\n        } else {\n            baseValue = item[key];\n\n            if (isFunc(baseValue)) {\n                baseValue = baseValue.apply(item);\n            }\n        }\n\n        collection = result[baseValue];\n\n        if (!collection) {\n            collection = result[baseValue] = new Collection(getItemIDFn);\n        }\n\n        collection.add(item);\n    });\n\n    return result;\n};\n\n/**\n * Return single item in collection.\n *\n * Returned item is inserted in this collection firstly.\n * @param {function} [filter] - function filter\n * @returns {object} item.\n */\nCollection.prototype.single = function(filter) {\n    var result,\n        useFilter = util.isFunction(filter);\n\n    this.each(function(item) {\n        if (!useFilter) {\n            result = item;\n\n            return false; // returning false can stop this loop\n        }\n        if (filter(item)) {\n            result = item;\n\n            return false; // returning false can stop this loop\n        }\n\n        return true;\n    }, this);\n\n    return result;\n};\n\n/**\n * sort a basis of supplied compare function.\n * @param {function} compareFunction compareFunction\n * @returns {array} sorted array.\n */\nCollection.prototype.sort = function(compareFunction) {\n    var arr = [];\n\n    this.each(function(item) {\n        arr.push(item);\n    });\n\n    if (isFunc(compareFunction)) {\n        arr = arr.sort(compareFunction);\n    }\n\n    return arr;\n};\n\n/**\n * iterate each model element.\n *\n * when iteratee return false then break the loop.\n * @param {function} iteratee iteratee(item, index, items)\n * @param {*} [context] context\n */\nCollection.prototype.each = function(iteratee, context) {\n    forEachProp(this.items, iteratee, context || this);\n};\n\n/**\n * return new array with collection items.\n * @returns {array} new array.\n */\nCollection.prototype.toArray = function() {\n    if (!this.length) {\n        return [];\n    }\n\n    return util.map(this.items, function(item) {\n        return item;\n    });\n};\n\nmodule.exports = Collection;\n\n\n/***/ }),\n\n/***/ "./src/js/common/common.js":\n/*!*********************************!*\\\n  !*** ./src/js/common/common.js ***!\n  \\*********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_172767__) {\n\n"use strict";\n/**\n * @fileoverview common/general utilities.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_172767__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar domutil = __nested_webpack_require_172767__(/*! ../common/domutil */ "./src/js/common/domutil.js"),\n    Collection = __nested_webpack_require_172767__(/*! ../common/collection */ "./src/js/common/collection.js");\nvar datetime = __nested_webpack_require_172767__(/*! ../common/datetime */ "./src/js/common/datetime.js");\n\n/**\n * Default schedule id getter for collection\n * @param {Schedule} schedule - schedule instance\n * @returns {string} schedule id\n */\nfunction scheduleIDGetter(schedule) {\n    return schedule.cid();\n}\n\nmodule.exports = {\n    /**\n     * @returns {Collection} new collection for schedule models.\n     */\n    createScheduleCollection: function() {\n        return new Collection(scheduleIDGetter);\n    },\n\n    /**\n     * Get ratio value.\n     *\n     * a : b = y : X;\n     *\n     * =\n     *\n     * X = (b * y) / a;\n     * @param {number} a - a\n     * @param {number} b - b\n     * @param {number} y - y\n     * @returns {number} ratio value\n     */\n    ratio: function(a, b, y) {\n        // a : b = y : x;\n        return (b * y) / a;\n    },\n\n    /**\n     * Find nearest value from supplied params.\n     * @param {number} value - value to find.\n     * @param {array} nearest - nearest array.\n     * @returns {number} nearest value\n     */\n    nearest: function(value, nearest) {\n        var diff = util.map(nearest, function(v) {\n                return Math.abs(value - v);\n            }),\n            nearestIndex = util.inArray(Math.min.apply(null, diff), diff);\n\n        return nearest[nearestIndex];\n    },\n\n    /**\n     * Mixin method.\n     *\n     * (extend methods except property name \'mixin\')\n     * @param {object} from - mixin object.\n     * @param {object} to - object to mixin.\n     */\n    mixin: function(from, to) {\n        util.extend(to.prototype, from);\n    },\n\n    /**\n     * Limit supplied value base on `minArr`, `maxArr`\n     * @param {number} value - value\n     * @param {array} minArr - min\n     * @param {array} maxArr - max\n     * @returns {number} limited value\n     */\n    limit: function(value, minArr, maxArr) {\n        var v = Math.max.apply(null, [value].concat(minArr));\n        v = Math.min.apply(null, [v].concat(maxArr));\n\n        return v;\n    },\n\n    /**\n     * Limit supplied date base on `min`, `max`\n     * @param {TZDate} date - date\n     * @param {TZDate} min - min\n     * @param {TZDate} max - max\n     * @returns {TZDate} limited value\n     */\n    limitDate: function(date, min, max) {\n        if (date < min) {\n            return min;\n        }\n        if (date > max) {\n            return max;\n        }\n\n        return date;\n    },\n\n    /**\n     * Max value with TZDate type for timezone calculation\n     * @param {TZDate} d1 - date 1\n     * @param {TZDate} d2 - date 2\n     * @returns {TZDate}\n     */\n    maxDate: function(d1, d2) {\n        if (d1 > d2) {\n            return d1;\n        }\n\n        return d2;\n    },\n\n    stripTags: function(str) {\n        return str.replace(/<([^>]+)>/ig, \'\');\n    },\n\n    /**\n     * Get first value in 2-dimentional array.\n     * @param {Array.<Array>} arr2d - 2-dimentional array\n     * @returns {*} first value in 2d array\n     */\n    firstIn2dArray: function(arr2d) {\n        return util.pick(arr2d, \'0\', \'0\');\n    },\n\n    /**\n     * Get last value in 2-dimentional array.\n     * @param {Array.<Array>} arr2d - 2-dimentional array\n     * @returns {*} last value in 2d array\n     */\n    lastIn2dArray: function(arr2d) {\n        var lastRow = arr2d.length - 1,\n            lastCol = arr2d[lastRow].length - 1;\n\n        return util.pick(arr2d, lastRow, lastCol);\n    },\n\n    /**\n     * Set \'title\' attribute for all elements that have exceeded content in\n     * container\n     * @param {string} selector - CSS selector {@see domutil#find}\n     * @param {HTMLElement} container - container element\n     * @param {boolean} force - force to apply\n     */\n    setAutoEllipsis: function(selector, container, force) {\n        util.forEach(domutil.find(selector, container, true), function(el) {\n            if (force || el.offsetWidth < el.scrollWidth) {\n                el.setAttribute(\'title\', domutil.getData(el, \'title\'));\n            }\n        });\n    },\n\n    /**\n     * Set the value at path of object.\n     * @param {object} object - the object to modify\n     * @param {string} path -the path of property to set\n     * @param {*} value - the value to set\n     */\n    set: function(object, path, value) {\n        var names = path.split(\'.\');\n        var store = object;\n\n        util.forEach(names, function(name, index) {\n            store[name] = store[name] || {};\n\n            if (index === names.length - 1) {\n                store[name] = value;\n            } else {\n                store = store[name];\n            }\n        });\n    },\n\n    /**\n     * shift a array\n     * @param {Array.<any>} array - array\n     * @param {number} shift - positive or negative integer to shift\n     * @returns {Array.<any>} shifted array\n     */\n    shiftArray: function(array, shift) {\n        var length = Math.abs(shift);\n        var i;\n\n        if (shift > 0) {\n            for (i = 0; i < length; i += 1) {\n                array.push(array.shift());\n            }\n        } else if (shift < 0) {\n            for (i = 0; i < length; i += 1) {\n                array.unshift(array.pop());\n            }\n        }\n\n        return array;\n    },\n\n    /**\n     * take elements from array between start and end.\n     * @param {Array.<any>} array - array\n     * @param {number} start - start index\n     * @param {number} end - end index\n     * @returns {Array.<any>}\n     */\n    takeArray: function(array, start, end) {\n        var length = array.length;\n        var rightCount = length - end;\n        var leftCount = start;\n\n        // remove right\n        array.splice(end, rightCount);\n        // remove left\n        array.splice(0, leftCount);\n\n        return array;\n    },\n\n    /**\n     * shift hours\n     * @param {number} hours - hours\n     * @param {number} shift - positive or negative integer to shift\n     * @returns {number} shifted hours\n     */\n    shiftHours: function(hours, shift) {\n        if (shift > 0) {\n            hours = (hours + shift) % 24;\n        } else if (shift < 0) {\n            hours += shift;\n            hours = hours > 0 ? hours : 24 + hours;\n        }\n\n        return hours;\n    },\n\n    /**\n     * Parse css value into number and units\n     * @param {string} cssValue - css value like \'72px\'\n     * @returns {Array} [number, unit]\n     */\n    parseUnit: function(cssValue) {\n        var number = parseFloat(cssValue, 10);\n        var unit = cssValue.match(/[\\d.\\-+]*\\s*(.*)/)[1] || \'\';\n\n        return [number, unit];\n    },\n\n    find: function(array, iteratee, contextopt) {\n        var found;\n\n        util.forEach(array, function(item) {\n            if (iteratee) {\n                found = iteratee(item);\n            }\n\n            if (found) {\n                found = item;\n\n                return false;\n            }\n\n            return true;\n        }, contextopt);\n\n        return found;\n    },\n\n    getScheduleChanges: function(schedule, propNames, data) {\n        var changes = {};\n        var dateProps = [\'start\', \'end\'];\n\n        util.forEach(propNames, function(propName) {\n            if (dateProps.indexOf(propName) > -1) {\n                if (datetime.compare(schedule[propName], data[propName])) {\n                    changes[propName] = data[propName];\n                }\n            } else if (!util.isUndefined(data[propName]) && schedule[propName] !== data[propName]) {\n                changes[propName] = data[propName];\n            }\n        });\n\n        return util.isEmpty(changes) ? null : changes;\n    }\n};\n\n\n/***/ }),\n\n/***/ "./src/js/common/datetime.js":\n/*!***********************************!*\\\n  !*** ./src/js/common/datetime.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_180848__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview datetime utility module\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar TZDate = __nested_webpack_require_180848__(/*! ./timezone */ "./src/js/common/timezone.js").Date,\n    dw = __nested_webpack_require_180848__(/*! ../common/dw */ "./src/js/common/dw.js");\nvar util = __nested_webpack_require_180848__(/*! tui-code-snippet */ "tui-code-snippet");\n/* eslint-disable no-useless-escape */\nvar dateFormatRx = /^(\\d{4}[-|\\/]*\\d{2}[-|\\/]*\\d{2})\\s?(\\d{2}:\\d{2}:\\d{2})?$/;\nvar datetime, tokenFunc;\n\nvar memo = {\n    millisecondsTo: {},\n    millisecondsFrom: {}\n};\n\ntokenFunc = {\n    /**\n     * @param {TZDate} date date object.\n     * @returns {string} YYYYMMDD\n     */\n    \'YYYYMMDD\': function(date) {\n        return [\n            date.getFullYear(),\n            datetime.leadingZero(date.getMonth() + 1, 2),\n            datetime.leadingZero(date.getDate(), 2)\n        ].join(\'\');\n    },\n    /**\n     * @param {TZDate} date date object\n     * @returns {string} four digit year number\n     */\n    \'YYYY\': function(date) {\n        return String(date.getFullYear());\n    },\n\n    /**\n     * @param {TZDate} date date object\n     * @returns {string} two digit month number\n     */\n    \'MM\': function(date) {\n        return datetime.leadingZero(date.getMonth() + 1, 2);\n    },\n\n    /**\n     * @param {TZDate} date date object\n     * @returns {string} two digit date number\n     */\n    \'DD\': function(date) {\n        return datetime.leadingZero(date.getDate(), 2);\n    },\n\n    /**\n     * @param {TZDate} date date object\n     * @returns {string} HH:mm\n     */\n    \'HH:mm\': function(date) {\n        var hour = date.getHours(),\n            minutes = date.getMinutes();\n\n        return datetime.leadingZero(hour, 2) + \':\' +\n            datetime.leadingZero(minutes, 2);\n    },\n\n    /**\n     * @param {TZDate} date date object\n     * @returns {string} hh:mm\n     */\n    \'hh:mm\': function(date) {\n        var hour = date.getHours();\n        var minutes = date.getMinutes();\n\n        if (hour > 12) {\n            hour = hour % 12;\n        }\n\n        return datetime.leadingZero(hour, 2) + \':\' +\n            datetime.leadingZero(minutes, 2);\n    },\n\n    /**\n     * @param {TZDate} date date object\n     * @returns {string} tt\n     */\n    \'tt\': function(date) {\n        var hour = date.getHours();\n\n        return hour < 12 ? \'am\' : \'pm\';\n    }\n};\n\ndatetime = {\n    /**\n     * The number of milliseconds one day.\n     * @type {number}\n     */\n    MILLISECONDS_PER_DAY: 86400000,\n\n    /**\n     * The number of milliseconds one hour.\n     * @type {number}\n     */\n    MILLISECONDS_PER_HOUR: 3600000,\n\n    /**\n     * The number of milliseconds one minutes.\n     * @type {number}\n     */\n    MILLISECONDS_PER_MINUTES: 60000,\n\n    /**\n     * The number of milliseconds 20 minutes for schedule min duration\n     * @type {number}\n     */\n    MILLISECONDS_SCHEDULE_MIN_DURATION: 20 * 60000,\n\n    /**\n     * convert milliseconds\n     * @param {string} type - type of value.\n     * @param {number} value - value to convert.\n     * @param {function} iteratee - iteratee function to use reduce.\n     * @returns {number} converted value.\n     */\n    _convMilliseconds: function(type, value, iteratee) {\n        var conv = [24, 60, 60, 1000],\n            index = {\n                day: 0,\n                hour: 1,\n                minutes: 2,\n                seconds: 3\n            };\n\n        if (!(type in index) || global.isNaN(value)) {\n            return false;\n        }\n\n        return util.reduce([value].concat(conv.slice(index[type])), iteratee);\n    },\n\n    /**\n     * Convert milliseconds value to other type\n     * @param {type} type convert to type want to. support "day", "hour",\n     *  "minutes", "seconds" only.\n     * @param {value} value - value to convert.\n     * @returns {number} converted value.\n     */\n    millisecondsTo: function(type, value) {\n        var cache = memo.millisecondsTo,\n            key = type + value;\n\n        if (cache[key]) {\n            return cache[key];\n        }\n\n        cache[key] = datetime._convMilliseconds(type, value, function(m, v) {\n            return m / v;\n        });\n\n        return cache[key];\n    },\n\n    /**\n     * Convert value to milliseconds\n     * @param {type} type - type of supplied value. support "hour", "minutes", "seconds" only.\n     * @param {value} value - value to convert.\n     * @returns {number} converted value.\n     */\n    millisecondsFrom: function(type, value) {\n        var cache = memo.millisecondsFrom,\n            key = type + value;\n\n        if (cache[key]) {\n            return cache[key];\n        }\n\n        cache[key] = datetime._convMilliseconds(type, value, function(m, v) {\n            return m * v;\n        });\n\n        return cache[key];\n    },\n\n    /**\n     * Convert hours to minutes\n     * @param {number} hours - hours\n     * @returns {number} minutes\n     */\n    minutesFromHours: function(hours) {\n        return hours * 60;\n    },\n\n    /**\n     * Make date array from supplied paramters.\n     * @param {TZDate} start Start date.\n     * @param {TZDate} end End date.\n     * @param {number} step The number of milliseconds to use increment.\n     * @returns {TZDate[]} TZDate array.\n     */\n    range: function(start, end, step) {\n        var startTime = start.getTime();\n        var endTime = end.getTime();\n        var cursor = startTime;\n        var date = dw(new TZDate(start));\n        var result = [];\n\n        while (cursor <= endTime && endTime >= date.d.getTime()) {\n            result.push(datetime.start(date.d));\n            cursor = cursor + step;\n            date.addDate(1);\n        }\n\n        return result;\n    },\n\n    /**\n     * Clone supplied date.\n     * @param {TZDate} date date object to clone.\n     * @returns {TZDate} Cloned date object\n     */\n    clone: function(date) {\n        return new TZDate(date);\n    },\n\n    /**\n     * Compare two dates.\n     *\n     * when first date is latest then seconds then return -1.\n     *\n     * return +1 reverse, and return 0 is same.\n     * @param {TZDate} d1 Date object to compare.\n     * @param {TZDate} d2 Date object to compare.\n     * @returns {number} result of compare\n     */\n    compare: function(d1, d2) {\n        var _d1 = d1.getTime(),\n            _d2 = d2.getTime();\n\n        if (_d1 < _d2) {\n            return -1;\n        }\n        if (_d1 > _d2) {\n            return 1;\n        }\n\n        return 0;\n    },\n\n    /**\n     * @param {TZDate} d1 - date one\n     * @param {TZDate} d2 - date two\n     * @returns {boolean} is two date are same year, month?\n     */\n    isSameMonth: function(d1, d2) {\n        return (d1.getFullYear() === d2.getFullYear() &&\n                d1.getMonth() === d2.getMonth());\n    },\n\n    /**\n     * @param {TZDate} d1 - date one\n     * @param {TZDate} d2 - date two\n     * @returns {boolean} is two date are same year, month, date?\n     */\n    isSameDate: function(d1, d2) {\n        var sameMonth = datetime.isSameMonth(d1, d2);\n\n        return sameMonth && (d1.getDate() === d2.getDate());\n    },\n\n    /**\n     * Check supplied parameter is valid date object.\n     * @param {*} d Object to validate.\n     * @returns {boolean} return true when parameter is valid date object.\n     */\n    isValid: function(d) {\n        if (d instanceof TZDate) {\n            return !window.isNaN(d.getTime());\n        }\n\n        return false;\n    },\n\n    /**\n     * convert non local date to UTC date.\n     * @param {TZDate} d Date to convert UTC.\n     * @returns {TZDate} The UTC Date.\n     */\n    toUTC: function(d) {\n        var l = d.getTime(),\n            offset = datetime.millisecondsFrom(\'minutes\', new Date().getTimezoneOffset());\n\n        return new TZDate(l + offset);\n    },\n\n    /**\n     * pad left zero characters.\n     * @param {number} number number value to pad zero.\n     * @param {number} length pad length to want.\n     * @returns {string} padded string.\n     */\n    leadingZero: function(number, length) {\n        var zero = \'\',\n            i = 0;\n\n        if (String(number).length > length) {\n            return String(number);\n        }\n\n        for (; i < (length - 1); i += 1) {\n            zero += \'0\';\n        }\n\n        return (zero + number).slice(length * -1);\n    },\n\n    /**\n     * Convert date string to date object.\n     *\n     * Only listed below formats avaliable.\n     *\n     * - YYYYMMDD\n     * - YYYY/MM/DD\n     * - YYYY-MM-DD\n     * - YYYY/MM/DD HH:mm:SS\n     * - YYYY-MM-DD HH:mm:SS\n     *\n     * @param {string} str Formatted string.\n     * @param {number} [fixMonth=-1] - number for fix month calculating.\n     * @returns {(TZDate|boolean)} Converted Date object. when supplied str is not available then return false.\n     */\n    parse: function(str, fixMonth) {\n        var separator,\n            matches = str.match(dateFormatRx),\n            ymd,\n            hms;\n\n        if (util.isUndefined(fixMonth)) {\n            fixMonth = -1;\n        }\n\n        if (!matches) {\n            return false;\n        }\n\n        if (str.length > 8) {\n            // YYYY/MM/DD\n            // YYYY-MM-DD\n            // YYYY/MM/DD HH:mm:SS\n            // YYYY-MM-DD HH:mm:SS\n            separator = ~str.indexOf(\'/\') ? \'/\' : \'-\';\n            matches = matches.splice(1);\n\n            ymd = matches[0].split(separator);\n            hms = matches[1] ? matches[1].split(\':\') : [0, 0, 0];\n        } else {\n            // YYYYMMDD\n            matches = matches[0];\n            ymd = [matches.substr(0, 4), matches.substr(4, 2), matches.substr(6, 2)];\n            hms = [0, 0, 0];\n        }\n\n        return new TZDate().setWithRaw(\n            Number(ymd[0]),\n            Number(ymd[1]) + fixMonth,\n            Number(ymd[2]),\n            Number(hms[0]),\n            Number(hms[1]),\n            Number(hms[2]),\n            0\n        );\n    },\n\n    /**\n     * Return date object from Date.\n     * @param {TZDate} date date\n     * @returns {object} Date object.\n     */\n    raw: function(date) {\n        return {\n            y: date.getFullYear(),\n            M: date.getMonth(),\n            d: date.getDate(),\n            h: date.getHours(),\n            m: date.getMinutes(),\n            s: date.getSeconds(),\n            ms: date.getMilliseconds()\n        };\n    },\n\n    /**\n     * Return 00:00:00 supplied date.\n     * @param {TZDate} date date. if undefined, use now.\n     * @returns {TZDate} start date.\n     */\n    start: function(date) {\n        var d = date ? new TZDate(date) : new TZDate();\n        d.setHours(0, 0, 0, 0);\n\n        return d;\n    },\n\n    /**\n     * Return 23:59:59 supplied date.\n     * @param {TZDate} date date. if undefined, use now.\n     * @returns {TZDate} end date.\n     */\n    end: function(date) {\n        var d = date ? new TZDate(date) : new TZDate();\n        d.setHours(23, 59, 59, 0);\n\n        return d;\n    },\n\n    /**\n     * Return formatted string as basis of supplied string.\n     *\n     * Supported Token Lists.\n     *\n     * - YYYY => 1988\n     * - MM => 01 ~ 12\n     * - DD => 01 ~ 31\n     * - YYYYMMDD => 19880925\n     * @param {TZDate} date String want to formatted.\n     * @param {string} format format str.\n     * @returns {string}  Formatted date string.\n     */\n    format: function(date, format) {\n        var result = format;\n        util.forEachOwnProperties(tokenFunc, function(converter, token) {\n            result = result.replace(token, converter(date));\n        });\n\n        return result;\n    },\n\n    /**\n     * Get start date of specific month\n     * @param {TZDate} date - date to get start date\n     * @returns {TZDate} start date of supplied month\n     */\n    startDateOfMonth: function(date) {\n        var startDate = new TZDate(date);\n\n        startDate.setDate(1);\n        startDate.setHours(0, 0, 0, 0);\n\n        return startDate;\n    },\n\n    /**\n     * Get end date of specific month\n     * @param {TZDate} date - date to get end date\n     * @returns {TZDate} end date of supplied month\n     */\n    endDateOfMonth: function(date) {\n        var endDate = datetime.startDateOfMonth(date);\n\n        endDate.setMonth(endDate.getMonth() + 1);\n        endDate.setDate(endDate.getDate() - 1);\n        endDate.setHours(23, 59, 59);\n\n        return endDate;\n    },\n\n    /**\n     * Return 2-dimensional array month calendar\n     *\n     * dates that different month with given date are negative values\n     * @param {TZDate} month - date want to calculate month calendar\n     * @param {object} options - options\n     * @param {number} [options.startDayOfWeek=0] - start day of week\n     * @param {boolean} options.isAlways6Week - whether the number of weeks are always 6\n     * @param {number} options.visibleWeeksCount visible weeks count\n     * @param {boolean} options.workweek - only show work week\n     * @param {function} [iteratee] - iteratee for customizing calendar object\n     * @returns {Array.<TZDate[]>} calendar 2d array\n     */\n    arr2dCalendar: function(month, options, iteratee) {\n        var weekArr,\n            start, end,\n            startIndex, endIndex,\n            totalDate, afterDates,\n            cursor, week,\n            calendar = [],\n            startDayOfWeek = options.startDayOfWeek,\n            isAlways6Week = util.isUndefined(options.isAlways6Week) || options.isAlways6Week,\n            visibleWeeksCount = options.visibleWeeksCount,\n            workweek = options.workweek;\n\n        if (visibleWeeksCount) {\n            start = new TZDate(month);\n            end = dw(new TZDate(month));\n            end.addDate(7 * (visibleWeeksCount - 1));\n            end = end.d;\n        } else {\n            start = datetime.startDateOfMonth(month);\n            end = datetime.endDateOfMonth(month);\n        }\n\n        // create day number array by startDayOfWeek number\n        // 4 -> [4, 5, 6, 0, 1, 2, 3]\n        // 2 -> [2, 3, 4, 5, 6, 0, 1]\n        weekArr = util.range(startDayOfWeek, 7).concat(util.range(7)).slice(0, 7);\n        startIndex = util.inArray(start.getDay(), weekArr);\n        endIndex = util.inArray(end.getDay(), weekArr);\n        // free dates after last date of this month\n        afterDates = 7 - (endIndex + 1);\n\n        if (visibleWeeksCount) {\n            totalDate = 7 * visibleWeeksCount;\n        } else {\n            totalDate = isAlways6Week ? (7 * 6) : (startIndex + end.getDate() + afterDates);\n        }\n        cursor = datetime.start(start).addDate(-startIndex);\n        // iteratee all dates to render\n        util.forEachArray(util.range(totalDate), function(i) {\n            var date;\n\n            if (!(i % 7)) {\n                // group each date by week\n                week = calendar[i / 7] = [];\n            }\n\n            date = datetime.start(cursor);\n            date = iteratee ? iteratee(date) : date;\n            if (!workweek || !datetime.isWeekend(date.getDay())) {\n                week.push(date);\n            }\n\n            // add date\n            cursor.setDate(cursor.getDate() + 1);\n        });\n\n        return calendar;\n    },\n\n    /**\n     * Calculate grid left(%), width(%) by narrowWeekend, startDayOfWeek, workweek\n     *\n     * @param {number} days - day length of week\n     * @param {boolean} narrowWeekend - narrow weekend\n     * @param {number} startDayOfWeek - start day of week\n     * @param {boolean} workweek - only show work week\n     * @returns {Array} day, left, width\n     */\n    getGridLeftAndWidth: function(days, narrowWeekend, startDayOfWeek, workweek) {\n        var limitDaysToApplyNarrowWeekend = 5;\n        var uniformWidth = 100 / days;\n        var wideWidth = days > limitDaysToApplyNarrowWeekend ? 100 / (days - 1) : uniformWidth;\n        var accumulatedWidth = 0;\n        var dates = util.range(startDayOfWeek, 7).concat(util.range(days)).slice(0, 7);\n\n        if (workweek) {\n            dates = util.filter(dates, function(day) {\n                return !datetime.isWeekend(day);\n            });\n        }\n\n        narrowWeekend = workweek ? false : narrowWeekend;\n\n        return util.map(dates, function(day) {\n            var model;\n            var width = narrowWeekend ? wideWidth : uniformWidth;\n            if (days > limitDaysToApplyNarrowWeekend && narrowWeekend && datetime.isWeekend(day)) {\n                width = wideWidth / 2;\n            }\n\n            model = {\n                day: day,\n                width: width,\n                left: accumulatedWidth\n            };\n\n            accumulatedWidth += width;\n\n            return model;\n        });\n    },\n\n    /**\n     * Get that day is weekend\n     * @param {number} day number\n     * @returns {boolean} true if weekend or false\n     */\n    isWeekend: function(day) {\n        return day === 0 || day === 6;\n    },\n\n    /**\n     * Whether date is between supplied dates with date value?\n     * @param {TZDate} d - target date\n     * @param {TZDate} d1 - from date\n     * @param {TZDate} d2 - to date\n     * @returns {boolean} is between?\n     */\n    isBetweenWithDate: function(d, d1, d2) {\n        var format = \'YYYYMMDD\';\n        d = parseInt(datetime.format(d, format), 10);\n        d1 = parseInt(datetime.format(d1, format), 10);\n        d2 = parseInt(datetime.format(d2, format), 10);\n\n        return d1 <= d && d <= d2;\n    },\n\n    isStartOfDay: function(d) {\n        return !datetime.compare(datetime.start(d), d);\n    },\n\n    convertStartDayToLastDay: function(d) {\n        var date = new TZDate(d);\n        if (datetime.isStartOfDay(d)) {\n            date.setDate(date.getDate() - 1);\n            date.setHours(23, 59, 59);\n        }\n\n        return date;\n    },\n\n    getStartOfNextDay: function(d) {\n        var date = datetime.start(d);\n        date.setHours(24);\n\n        return date;\n    },\n\n    getDateDifference: function(d1, d2) {\n        var time1 = new TZDate(d1.getFullYear(), d1.getMonth(), d1.getDate()).getTime();\n        var time2 = new TZDate(d2.getFullYear(), d2.getMonth(), d2.getDate()).getTime();\n\n        return Math.round((time1 - time2) / datetime.MILLISECONDS_PER_DAY);\n    },\n\n    getHourDifference: function(d1, d2) {\n        var time1 = new TZDate(d1).getTime();\n        var time2 = new TZDate(d2).getTime();\n\n        return Math.round((time1 - time2) / datetime.MILLISECONDS_PER_HOUR);\n    },\n\n    hasMultiDates: function(start, end) {\n        var diffDays = datetime.getDateDifference(start, end);\n        var diffHours = Math.abs(datetime.getHourDifference(start, end));\n        var withinDay = Math.abs(diffDays) === 1 && diffHours < 24 && datetime.isStartOfDay(end);\n\n        return !datetime.isSameDate(start, end) && !withinDay;\n    },\n\n    renderEnd: function(start, end) {\n        var diffDays = datetime.getDateDifference(start, end);\n\n        return Math.abs(diffDays) >= 1 && datetime.isStartOfDay(end) ?\n            datetime.convertStartDayToLastDay(end) :\n            datetime.end(end);\n    }\n};\n\nmodule.exports = datetime;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_180848__(/*! ./../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/common/dirty.js":\n/*!********************************!*\\\n  !*** ./src/js/common/dirty.js ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_200013__) {\n\n"use strict";\n/**\n * @fileoverview Dirty flagging module for objects.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar common = __nested_webpack_require_200013__(/*! tui-code-snippet */ "tui-code-snippet");\nvar existy = common.isExisty,\n    pick = common.pick,\n    isFunc = common.isFunction;\n\n/**\n * Mixin module for dirty flagging on specific objects.\n * @mixin\n * @example\n * var obj = { hello: \'good\', test: \'123\' };\n * dirty.mixin(obj);\n *\n * obj.set(\'hello\', \'world\');\n * obj.isDirty();    // true\n * obj.isPropChanged(\'hello\');    // true\n * obj.isPropChanged(\'test\');    // false\n * obj.dirty(false);\n *\n * obj.isDirty();    // false\n * obj.isPropChanged(\'hello\');    // false\n */\nvar dirty = {\n    /**\n     * Set property value with dirty flagging.\n     * @param {string} propName Property name.\n     * @param {*} value Proprty value.\n     */\n    set: function(propName, value) {\n        var originValue = this[propName];\n\n        if (originValue === value) {\n            return;\n        }\n\n        this[propName] = value;\n\n        if (!this._changed) {\n            /**\n             * Save changed properties.\n             * @memberof dirty\n             * @name _changed\n             * @type {Object}\n             */\n            this._changed = {};\n        }\n\n        this._changed[propName] = true;\n\n        /**\n         * Dirty flag\n         * @type {Boolean}\n         * @name _dirty\n         * @memberof dirty\n         */\n        this._dirty = true;\n    },\n\n    /**\n     * Check dirty flag.\n     * @returns {boolean} Property is changed.\n     */\n    isDirty: function() {\n        return !!this._dirty;\n    },\n\n    /**\n     * Set dirty flag manually.\n     * @param {Boolean} [toDirty=true] This will set dirty flag directly.\n     */\n    dirty: function(toDirty) {\n        toDirty = existy(toDirty) ? toDirty : true;\n\n        /* istanbul ignore else */\n        if (!toDirty) {\n            this._changed = {};\n        }\n\n        this._dirty = toDirty;\n    },\n\n    /**\n     * Delete property safety.\n     * @param {String} propName The name of property.\n     */\n    deleteProp: function(propName) {\n        delete this[propName];\n\n        if (this._changed) {\n            delete this._changed[propName];\n        }\n    },\n\n    /**\n     * Check the changes with specific property.\n     * @param {String} propName The name of property you want.\n     * @returns {boolean} Is property changed?\n     */\n    isPropChanged: function(propName) {\n        if (!this._changed) {\n            return false;\n        }\n\n        return this._changed[propName] === true;\n    },\n\n    /**\n     * Mixin to specific objects.\n     * @param {Object} target The object to mix this module.\n     * @memberof module:util/dirty\n     * @example\n     * function Animal() {}\n     * dirty.mixin(Animal.prototype);\n     */\n    mixin: function(target) {\n        var methodFilterR = /(^_|mixin|wrap)/;\n\n        common.forEachOwnProperties(dirty, function(o, k) {\n            if (!methodFilterR.test(k)) {\n                target[k] = dirty[k];\n            }\n        });\n    },\n\n    /**\n     * Wrapper method for dirty flagging.\n     *\n     * This method invoke after invoked specific method that added by you.\n     *\n     * The method want to add are must exist before add.\n     * @param {object} target Target object to method wrap.\n     * @param {(string|object)} methodName\n     *  Method name to wrap or methodName: flag objects.\n     * @param {boolean} [flag=true]\n     *  this will used to flagging by dirty flagger after invoke the methods added by you.\n     * @memberof module:util/dirty\n     * @example\n     * function Animal(name) {\n     *     this.name = name;\n     * }\n     * Animal.prototype.growl = jasmine.createSpy(\'growl\');\n     * Animal.prototype.test = function() {\n     *     return this.name;\n     * };\n     *\n     * dirty.mixin(Animal.prototype);\n     * // single\n     * dirty.wrap(Animal.prototype, \'growl\', true);\n     * // multiple\n     * dirty.wrap(Animap.prototype, {\n     *     growl: true,\n     *     test: false\n     * });\n     *\n     */\n    wrap: function(target, methodName, flag) {\n        var wrap = dirty.wrap,\n            fn;\n\n        if (common.isObject(methodName)) {\n            common.forEachOwnProperties(methodName, function(_flag, _name) {\n                wrap(target, _name, _flag);\n            });\n\n            return;\n        }\n\n        flag = existy(flag) ? flag : true;\n\n        if (!target._wrapper) {\n            /**\n             * @param {function} _fn Original method to wrap.\n             * @param {boolean} flagToSet The boolean value to using dirty flagging.\n             * @returns {*} The result value of original method.\n             * @name _wrapper\n             * @memberof dirty\n             */\n            target._wrapper = function(_fn, flagToSet) {\n                return function() {\n                    var args = Array.prototype.slice.call(arguments);\n                    var result = _fn.apply(this, args); // eslint-disable-line\n                    this._dirty = flagToSet; // eslint-disable-line\n\n                    return result;\n                };\n            };\n        }\n\n        if (existy(pick(target, methodName)) &&\n            isFunc(target[methodName]) &&\n            !existy(pick(target, methodName, \'_wrapped\'))) {\n            fn = target[methodName];\n            target[methodName] = target._wrapper(fn, flag);\n            target[methodName]._wrapped = true;\n        }\n    }\n};\n\nmodule.exports = dirty;\n\n\n/***/ }),\n\n/***/ "./src/js/common/domevent.js":\n/*!***********************************!*\\\n  !*** ./src/js/common/domevent.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_205736__) {\n\n"use strict";\n/* eslint complexity: 0 */\n/**\n * @fileoverview Utility module for handling DOM events.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_205736__(/*! tui-code-snippet */ "tui-code-snippet");\nvar eventKey = \'_evt\',\n    DRAG_START = [\'touchstart\', \'mousedown\'];\n\nvar domevent = {\n    /**\n     * Bind dom events.\n     * @param {HTMLElement} obj HTMLElement to bind events.\n     * @param {(string|object)} types Space splitted events names or eventName:handler object.\n     * @param {*} fn handler function or context for handler method.\n     * @param {*} [context] context object for handler method.\n     */\n    on: function(obj, types, fn, context) {\n        if (util.isString(types)) {\n            util.forEach(types.split(\' \'), function(type) {\n                domevent._on(obj, type, fn, context);\n            });\n\n            return;\n        }\n\n        util.forEachOwnProperties(types, function(handler, type) {\n            domevent._on(obj, type, handler, fn);\n        });\n    },\n\n    /**\n     * DOM event binding.\n     * @param {HTMLElement} obj HTMLElement to bind events.\n     * @param {String} type The name of events.\n     * @param {*} fn handler function\n     * @param {*} [context] context object for handler method.\n     * @private\n     */\n    _on: function(obj, type, fn, context) {\n        var id,\n            handler,\n            originHandler;\n\n        id = type + util.stamp(fn) + (context ? \'_\' + util.stamp(context) : \'\');\n\n        if (obj[eventKey] && obj[eventKey][id]) {\n            return;\n        }\n\n        handler = function(e) {\n            fn.call(context || obj, e || window.event);\n        };\n\n        originHandler = handler;\n\n        if (\'addEventListener\' in obj) {\n            if (type === \'mouseenter\' || type === \'mouseleave\') {\n                handler = function(e) {\n                    e = e || window.event;\n                    if (!domevent._checkMouse(obj, e)) {\n                        return;\n                    }\n                    originHandler(e);\n                };\n                obj.addEventListener((type === \'mouseenter\') ?\n                    \'mouseover\' : \'mouseout\', handler, false);\n            } else {\n                if (type === \'mousewheel\') {\n                    obj.addEventListener(\'DOMMouseScroll\', handler, false);\n                }\n\n                obj.addEventListener(type, handler, false);\n            }\n        } else if (\'attachEvent\' in obj) {\n            obj.attachEvent(\'on\' + type, handler);\n        }\n\n        obj[eventKey] = obj[eventKey] || {};\n        obj[eventKey][id] = handler;\n    },\n\n    /**\n     * Unbind DOM Event handler.\n     * @param {HTMLElement} obj HTMLElement to unbind.\n     * @param {(string|object)} types Space splitted events names or eventName:handler object.\n     * @param {*} fn handler function or context for handler method.\n     * @param {*} [context] context object for handler method.\n     */\n    off: function(obj, types, fn, context) {\n        if (util.isString(types)) {\n            util.forEach(types.split(\' \'), function(type) {\n                domevent._off(obj, type, fn, context);\n            });\n\n            return;\n        }\n\n        util.forEachOwnProperties(types, function(handler, type) {\n            domevent._off(obj, type, handler, fn);\n        });\n    },\n\n    /**\n     * Unbind DOM event handler.\n     * @param {HTMLElement} obj HTMLElement to unbind.\n     * @param {String} type The name of event to unbind.\n     * @param {function()} fn Event handler that supplied when binding.\n     * @param {*} context context object that supplied when binding.\n     * @private\n     */\n    _off: function(obj, type, fn, context) {\n        var id = type + util.stamp(fn) + (context ? \'_\' + util.stamp(context) : \'\'),\n            handler = obj[eventKey] && obj[eventKey][id];\n\n        if (!handler) {\n            return;\n        }\n\n        if (\'removeEventListener\' in obj) {\n            if (type === \'mouseenter\' || type === \'mouseleave\') {\n                obj.removeEventListener((type === \'mouseenter\') ?\n                    \'mouseover\' : \'mouseout\', handler, false);\n            } else {\n                if (type === \'mousewheel\') {\n                    obj.removeEventListener(\'DOMMouseScroll\', handler, false);\n                }\n\n                obj.removeEventListener(type, handler, false);\n            }\n        } else if (\'detachEvent\' in obj) {\n            try {\n                obj.detachEvent(\'on\' + type, handler);\n            } catch (e) {}    //eslint-disable-line\n        }\n\n        delete obj[eventKey][id];\n\n        if (util.keys(obj[eventKey]).length) {\n            return;\n        }\n\n        delete obj[eventKey];\n    },\n\n    /**\n     * Bind DOM event. this event will unbind after invokes.\n     * @param {HTMLElement} obj HTMLElement to bind events.\n     * @param {(string|object)} types Space splitted events names or eventName:handler object.\n     * @param {*} fn handler function or context for handler method.\n     * @param {*} [context] context object for handler method.\n     */\n    once: function(obj, types, fn, context) {\n        var self = this;\n\n        if (util.isObject(types)) {\n            util.forEachOwnProperties(types, function(handler, type) {\n                domevent.once(obj, type, handler, fn);\n            });\n\n            return;\n        }\n\n        /**\n         * Handler for temporary usage for once implementation\n         */\n        function onceHandler() {\n            fn.apply(context || obj, arguments);\n            self._off(obj, types, onceHandler, context);\n        }\n\n        domevent.on(obj, types, onceHandler, context);\n    },\n\n    /**\n     * Cancel event bubbling.\n     * @param {Event} e Event object.\n     */\n    stopPropagation: function(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n        } else {\n            e.cancelBubble = true;\n        }\n    },\n\n    /**\n     * Cancel browser default actions.\n     * @param {Event} e Event object.\n     */\n    preventDefault: function(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n        } else {\n            e.returnValue = false;\n        }\n    },\n\n    /**\n     * Syntatic sugar of stopPropagation and preventDefault\n     * @param {Event} e Event object.\n     */\n    stop: function(e) {\n        domevent.preventDefault(e);\n        domevent.stopPropagation(e);\n    },\n\n    /**\n     * Stop scroll events.\n     * @param {HTMLElement} el HTML element to prevent scroll.\n     */\n    disableScrollPropagation: function(el) {\n        domevent.on(el, \'mousewheel MozMousePixelScroll\', domevent.stopPropagation);\n    },\n\n    /**\n     * Stop all events related with click.\n     * @param {HTMLElement} el HTML element to prevent all event related with click.\n     */\n    disableClickPropagation: function(el) {\n        domevent.on(el, DRAG_START.join(\' \') + \' click dblclick\', domevent.stopPropagation);\n    },\n\n    /**\n     * Get mouse position from mouse event.\n     *\n     * If supplied relatveElement parameter then return relative position based on element.\n     * @param {Event} mouseEvent Mouse event object\n     * @param {HTMLElement} relativeElement HTML element that calculate relative position.\n     * @returns {number[]} mouse position.\n     */\n    getMousePosition: function(mouseEvent, relativeElement) {\n        var rect;\n\n        if (!relativeElement) {\n            return [mouseEvent.clientX, mouseEvent.clientY];\n        }\n\n        rect = relativeElement.getBoundingClientRect();\n\n        return [\n            mouseEvent.clientX - rect.left - relativeElement.clientLeft,\n            mouseEvent.clientY - rect.top - relativeElement.clientTop\n        ];\n    },\n\n    /**\n     * Normalize mouse wheel event that different each browsers.\n     * @param {MouseEvent} e Mouse wheel event.\n     * @returns {Number} delta\n     */\n    getWheelDelta: function(e) {\n        var delta = 0;\n\n        if (e.wheelDelta) {\n            delta = e.wheelDelta / 120;\n        }\n\n        if (e.detail) {\n            delta = -e.detail / 3;\n        }\n\n        return delta;\n    },\n\n    /**\n     * prevent firing mouseleave event when mouse entered child elements.\n     * @param {HTMLElement} el HTML element\n     * @param {MouseEvent} e Mouse event\n     * @returns {Boolean} leave?\n     * @private\n     */\n    _checkMouse: function(el, e) {\n        var related = e.relatedTarget;\n\n        if (!related) {\n            return true;\n        }\n\n        try {\n            while (related && (related !== el)) {\n                related = related.parentNode;\n            }\n        } catch (err) {\n            return false;\n        }\n\n        return (related !== el);\n    },\n\n    /**\n     * Trigger specific events to html element.\n     * @param {HTMLElement} obj HTMLElement\n     * @param {string} type Event type name\n     * @param {object} [eventData] Event data\n     */\n    trigger: function(obj, type, eventData) {\n        var rMouseEvent = /(mouse|click)/;\n        if (util.isUndefined(eventData) && rMouseEvent.exec(type)) {\n            eventData = domevent.mouseEvent(type);\n        }\n\n        if (obj.dispatchEvent) {\n            obj.dispatchEvent(eventData);\n        } else if (obj.fireEvent) {\n            obj.fireEvent(\'on\' + type, eventData);\n        }\n    },\n\n    /**\n     * Create virtual mouse event.\n     *\n     * Tested at\n     *\n     * - IE7 ~ IE11\n     * - Chrome\n     * - Firefox\n     * - Safari\n     * @param {string} type Event type\n     * @param {object} [eventObj] Event data\n     * @returns {MouseEvent} Virtual mouse event.\n     */\n    mouseEvent: function(type, eventObj) {\n        var evt,\n            e;\n\n        e = util.extend({\n            bubbles: true,\n            cancelable: (type !== \'mousemove\'),\n            view: window,\n            wheelDelta: 0,\n            detail: 0,\n            screenX: 0,\n            screenY: 0,\n            clientX: 0,\n            clientY: 0,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            button: 0,\n            relatedTarget: undefined  // eslint-disable-line\n        }, eventObj);\n\n        if (typeof document.createEvent === \'function\') {\n            evt = document.createEvent(\'MouseEvents\');\n            evt.initMouseEvent(type,\n                e.bubbles, e.cancelable, e.view, e.detail,\n                e.screenX, e.screenY, e.clientX, e.clientY,\n                e.ctrlKey, e.altKey, e.shiftKey, e.metaKey,\n                e.button, document.body.parentNode\n            );\n        } else if (document.createEventObject) {\n            evt = document.createEventObject();\n\n            util.forEach(e, function(value, propName) {\n                evt[propName] = value;\n            }, this);\n            evt.button = {0: 1,\n                1: 4,\n                2: 2}[evt.button] || evt.button;\n        }\n\n        return evt;\n    },\n\n    /**\n     * Normalize mouse event\'s button attributes.\n     *\n     * Can detect which button is clicked by this method.\n     *\n     * Meaning of return numbers\n     *\n     * - 0: primary mouse button\n     * - 1: wheel button or center button\n     * - 2: secondary mouse button\n     * @param {MouseEvent} mouseEvent - The mouse event object want to know.\n     * @returns {number} - The value of meaning which button is clicked?\n     */\n    getMouseButton: function(mouseEvent) {\n        var button,\n            primary = \'0,1,3,5,7\',\n            secondary = \'2,6\',\n            wheel = \'4\';\n\n        /* istanbul ignore else */\n        if (document.implementation.hasFeature(\'MouseEvents\', \'2.0\')) {\n            return mouseEvent.button;\n        }\n\n        button = String(mouseEvent.button);\n        if (primary.indexOf(button) > -1) {\n            return 0;\n        }\n        if (secondary.indexOf(button) > -1) {\n            return 2;\n        }\n        if (~wheel.indexOf(button)) {\n            return 1;\n        }\n\n        return -1;\n    },\n\n    /**\n     * Get target from event object\n     *\n     * @param {Event} event - The event object\n     * @returns {object} - The event target object\n     */\n    getEventTarget: function(event) {\n        return event.target || event.srcElement;\n    }\n};\n\nmodule.exports = domevent;\n\n\n/***/ }),\n\n/***/ "./src/js/common/domutil.js":\n/*!**********************************!*\\\n  !*** ./src/js/common/domutil.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_218189__) {\n\n"use strict";\n/* eslint complexity: 0, no-shadow: 0, max-nested-callbacks: 0  */\n/**\n * @fileoverview Utility modules for manipulate DOM elements.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar domevent = __nested_webpack_require_218189__(/*! ./domevent */ "./src/js/common/domevent.js");\nvar Collection = __nested_webpack_require_218189__(/*! ./collection */ "./src/js/common/collection.js");\nvar util = __nested_webpack_require_218189__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar posKey = \'_pos\',\n    domutil;\n\nvar CSS_AUTO_REGEX = /^auto$|^$|%/;\n\n/**\n * Trim leading, trailing whitespace\n * @param {string} str - string to trim\n * @returns {string} trimmed string\n */\nfunction trim(str) {\n    return str.replace(/^\\s\\s*/, \'\').replace(/\\s\\s*$/, \'\');\n}\n\ndomutil = {\n    /**\n     * Create DOM element and return it.\n     * @param {string} tagName Tag name to append.\n     * @param {HTMLElement} [container] HTML element will be parent to created element.\n     * if not supplied, will use **document.body**\n     * @param {string} [className] Design class names to appling created element.\n     * @returns {HTMLElement} HTML element created.\n     */\n    appendHTMLElement: function(tagName, container, className) {\n        var el;\n\n        className = className || \'\';\n\n        el = document.createElement(tagName);\n        el.className = className;\n\n        if (container) {\n            container.appendChild(el);\n        } else {\n            document.body.appendChild(el);\n        }\n\n        return el;\n    },\n\n    /**\n     * Remove element from parent node.\n     * @param {HTMLElement} el - element to remove.\n     */\n    remove: function(el) {\n        if (el && el.parentNode) {\n            el.parentNode.removeChild(el);\n        }\n    },\n\n    /**\n     * Get element by id\n     * @param {string} id element id attribute\n     * @returns {HTMLElement} element\n     */\n    get: function(id) {\n        return document.getElementById(id);\n    },\n\n    /**\n     * Check supplied element is matched selector.\n     * @param {HTMLElement} el - element to check\n     * @param {string} selector - selector string to check\n     * @returns {boolean} match?\n     */\n    _matcher: function(el, selector) {\n        var cssClassSelector = /^\\./,\n            idSelector = /^#/;\n\n        if (cssClassSelector.test(selector)) {\n            return domutil.hasClass(el, selector.replace(\'.\', \'\'));\n        }\n        if (idSelector.test(selector)) {\n            return el.id === selector.replace(\'#\', \'\');\n        }\n\n        return el.nodeName.toLowerCase() === selector.toLowerCase();\n    },\n\n    /**\n     * Find DOM element by specific selectors.\n     * below three selector only supported.\n     *\n     * 1. css selector\n     * 2. id selector\n     * 3. nodeName selector\n     * @param {string} selector selector\n     * @param {(HTMLElement|string)} [root] You can assign root element to find\n     *  if not supplied, document.body will use.\n     * @param {boolean|function} [multiple=false] - set true then return all\n     *  elements that meet condition, if set function then use it filter function.\n     * @returns {HTMLElement} HTML element finded.\n     */\n    find: function(selector, root, multiple) {\n        var result = [],\n            found = false,\n            isFirst = util.isUndefined(multiple) || multiple === false,\n            isFilter = util.isFunction(multiple);\n\n        if (util.isString(root)) {\n            root = domutil.get(root);\n        }\n\n        root = root || window.document.body;\n\n        /**\n         * Function for recursive find specific node\n         * @param {HTMLElement} el - element to search\n         * @param {string} selector - selector\n         */\n        function recurse(el, selector) {\n            var childNodes = el.childNodes,\n                i = 0,\n                len = childNodes.length,\n                cursor;\n\n            for (; i < len; i += 1) {\n                cursor = childNodes[i];\n\n                if (cursor.nodeName === \'#text\') {\n                    continue;\n                }\n\n                if (domutil._matcher(cursor, selector)) {\n                    if ((isFilter && multiple(cursor)) || !isFilter) {\n                        result.push(cursor);\n                    }\n\n                    if (isFirst) {\n                        found = true;\n                        break;\n                    }\n                } else if (cursor.childNodes.length > 0) {\n                    recurse(cursor, selector);\n                    if (found) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        recurse(root, selector);\n\n        return isFirst ? (result[0] || null) : result;\n    },\n\n    /**\n     * Find parent element recursively.\n     * @param {HTMLElement} el - base element to start find.\n     * @param {string} selector - selector string for find\n     * @param {boolean} excludeEl - exclude the base element to find\n     * @returns {HTMLElement} - element finded or null.\n     */\n    closest: function(el, selector, excludeEl) {\n        var parent;\n\n        if (!el) {\n            return null;\n        }\n\n        parent = el.parentNode;\n\n        if (!excludeEl && domutil._matcher(el, selector)) {\n            return el;\n        }\n\n        while (parent && parent !== window.document.body) {\n            if (domutil._matcher(parent, selector)) {\n                return parent;\n            }\n\n            parent = parent.parentNode;\n        }\n\n        return null;\n    },\n\n    /**\n     * Return texts inside element.\n     * @param {HTMLElement} el target element\n     * @returns {string} text inside node\n     */\n    text: function(el) {\n        var ret = \'\',\n            i = 0,\n            nodeType = el.nodeType;\n\n        if (nodeType) {\n            if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n                // nodes that available contain other nodes\n                if (typeof el.textContent === \'string\') {\n                    return el.textContent;\n                }\n\n                for (el = el.firstChild; el; el = el.nextSibling) {\n                    ret += domutil.text(el);\n                }\n            } else if (nodeType === 3 || nodeType === 4) {\n                // TEXT, CDATA SECTION\n                return el.nodeValue;\n            }\n        } else {\n            for (; el[i]; i += 1) {\n                ret += domutil.text(el[i]);\n            }\n        }\n\n        return ret;\n    },\n\n    /**\n     * Set data attribute to target element\n     * @param {HTMLElement} el - element to set data attribute\n     * @param {string} key - key\n     * @param {string|number} data - data value\n     */\n    setData: function(el, key, data) {\n        if (\'dataset\' in el) {\n            el.dataset[key] = data;\n\n            return;\n        }\n\n        el.setAttribute(\'data-\' + key, data);\n    },\n\n    /**\n     * Get data value from data-attribute\n     * @param {HTMLElement} el - target element\n     * @param {string} key - key\n     * @returns {string} value\n     */\n    getData: function(el, key) {\n        if (\'dataset\' in el) {\n            return el.dataset[key];\n        }\n\n        return el.getAttribute(\'data-\' + key);\n    },\n\n    /**\n     * Check element has specific design class name.\n     * @param {HTMLElement} el target element\n     * @param {string} name css class\n     * @returns {boolean} return true when element has that css class name\n     */\n    hasClass: function(el, name) {\n        var className;\n\n        if (!util.isUndefined(el.classList)) {\n            return el.classList.contains(name);\n        }\n\n        className = domutil.getClass(el);\n\n        return className.length > 0 && new RegExp(\'(^|\\\\s)\' + name + \'(\\\\s|$)\').test(className);\n    },\n\n    /**\n     * Add design class to HTML element.\n     * @param {HTMLElement} el target element\n     * @param {string} name css class name\n     */\n    addClass: function(el, name) {\n        var className;\n\n        if (!util.isUndefined(el.classList)) {\n            util.forEachArray(name.split(\' \'), function(value) {\n                el.classList.add(value);\n            });\n        } else if (!domutil.hasClass(el, name)) {\n            className = domutil.getClass(el);\n            domutil.setClass(el, (className ? className + \' \' : \'\') + name);\n        }\n    },\n\n    /**\n     *\n     * Overwrite design class to HTML element.\n     * @param {HTMLElement} el target element\n     * @param {string} name css class name\n     */\n    setClass: function(el, name) {\n        if (util.isUndefined(el.className.baseVal)) {\n            el.className = name;\n        } else {\n            el.className.baseVal = name;\n        }\n    },\n\n    /**\n     * Element에 cssClass속성을 제거하는 메서드\n     * Remove specific design class from HTML element.\n     * @param {HTMLElement} el target element\n     * @param {string} name class name to remove\n     */\n    removeClass: function(el, name) {\n        var removed = \'\';\n\n        if (!util.isUndefined(el.classList)) {\n            el.classList.remove(name);\n        } else {\n            removed = (\' \' + domutil.getClass(el) + \' \').replace(\' \' + name + \' \', \' \');\n            domutil.setClass(el, trim(removed));\n        }\n    },\n\n    /**\n     * Get HTML element\'s design classes.\n     * @param {HTMLElement} el target element\n     * @returns {string} element css class name\n     */\n    getClass: function(el) {\n        if (!el || !el.className) {\n            return \'\';\n        }\n\n        return util.isUndefined(el.className.baseVal) ? el.className : el.className.baseVal;\n    },\n\n    /**\n     * Get specific CSS style value from HTML element.\n     * @param {HTMLElement} el target element\n     * @param {string} style css attribute name\n     * @returns {(string|null)} css style value\n     */\n    getStyle: function(el, style) {\n        var value = el.style[style] || (el.currentStyle && el.currentStyle[style]),\n            css;\n\n        if ((!value || value === \'auto\') && document.defaultView) {\n            css = document.defaultView.getComputedStyle(el, null);\n            value = css ? css[style] : null;\n        }\n\n        return value === \'auto\' ? null : value;\n    },\n\n    /**\n     * get element\'s computed style values.\n     *\n     * in lower IE8. use polyfill function that return object. it has only one function \'getPropertyValue\'\n     * @param {HTMLElement} el - element want to get style.\n     * @returns {object} virtual CSSStyleDeclaration object.\n     */\n    getComputedStyle: function(el) {\n        var defaultView = document.defaultView;\n\n        if (!defaultView || !defaultView.getComputedStyle) {\n            return {\n                getPropertyValue: function(prop) {\n                    /* eslint-disable no-useless-escape */\n                    var re = /(\\-([a-z]){1})/g;\n                    if (prop === \'float\') {\n                        prop = \'styleFloat\';\n                    }\n\n                    if (re.test(prop)) {\n                        prop = prop.replace(re, function() {\n                            return arguments[2].toUpperCase();\n                        });\n                    }\n\n                    return el.currentStyle[prop] || null;\n                }\n            };\n        }\n\n        return document.defaultView.getComputedStyle(el);\n    },\n\n    /**\n     * Set position CSS style.\n     * @param {HTMLElement} el target element\n     * @param {number} [x=0] left pixel value.\n     * @param {number} [y=0] top pixel value.\n     */\n    setPosition: function(el, x, y) {\n        x = util.isUndefined(x) ? 0 : x;\n        y = util.isUndefined(y) ? 0 : y;\n\n        el[posKey] = [x, y];\n\n        el.style.left = util.isNumber(x) ? (x + \'px\') : x;\n        el.style.top = util.isNumber(y) ? (y + \'px\') : y;\n    },\n\n    /**\n     * Set position CSS style with left, top, right, bottom\n     * @param {HTMLElement} el target element\n     * @param {object} ltrb object of left, top, right, bottom\n     * @param {number} [ltrb.left] left pixel value.\n     * @param {number} [ltrb.top] top pixel value.\n     * @param {number} [ltrb.right] right pixel value.\n     * @param {number} [ltrb.bottom] bottom pixel value.\n     */\n    setLTRB: function(el, ltrb) {\n        var props = [\'left\', \'top\', \'right\', \'bottom\'];\n        var value;\n        props.forEach(function(prop) {\n            value = util.isUndefined(ltrb[prop]) ? \'\' : ltrb[prop];\n            el.style[prop] = util.isNumber(value) ? (value + \'px\') : value;\n        });\n    },\n\n    /**\n     * Get position from HTML element.\n     * @param {HTMLElement} el target element\n     * @param {boolean} [clear=false] clear cache before calculating position.\n     * @returns {number[]} point\n     */\n    getPosition: function(el, clear) {\n        var left,\n            top,\n            bound;\n\n        if (clear) {\n            el[posKey] = null;\n        }\n\n        if (el[posKey]) {\n            return el[posKey];\n        }\n\n        left = 0;\n        top = 0;\n\n        if ((CSS_AUTO_REGEX.test(el.style.left) || CSS_AUTO_REGEX.test(el.style.top)) &&\n            \'getBoundingClientRect\' in el) {\n            // When the element\'s left or top is \'auto\'\n            bound = el.getBoundingClientRect();\n\n            left = bound.left;\n            top = bound.top;\n        } else {\n            left = parseFloat(el.style.left || 0);\n            top = parseFloat(el.style.top || 0);\n        }\n\n        return [left, top];\n    },\n\n    /**\n     * Return element\'s size\n     * @param {HTMLElement} el target element\n     * @returns {number[]} width, height\n     */\n    getSize: function(el) {\n        var bound,\n            width = domutil.getStyle(el, \'width\'),\n            height = domutil.getStyle(el, \'height\');\n\n        if ((CSS_AUTO_REGEX.test(width) || CSS_AUTO_REGEX.test(height) ||\n             util.isNull(width) || util.isNull(height)) &&\n            \'getBoundingClientRect\' in el) {\n            bound = el.getBoundingClientRect();\n            width = bound.width || el.offsetWidth;\n            height = bound.height || el.offsetHeight;\n        } else {\n            width = parseFloat(width || 0);\n            height = parseFloat(height || 0);\n        }\n\n        return [width, height];\n    },\n\n    /**\n     * Fallback of getBoundingClientRect\n     * @param {HTMLElement} el - element\n     * @returns {object} rect\n     */\n    getBCRect: function(el) {\n        var rect = el.getBoundingClientRect();\n\n        rect = util.extend({\n            width: el.offsetWidth,\n            height: el.offsetHeight\n        }, rect);\n\n        return rect;\n    },\n\n    /**\n     * Check specific CSS style is available.\n     * @param {array} props property name to testing\n     * @returns {(string|boolean)} return true when property is available\n     * @example\n     * var props = [\'transform\', \'-webkit-transform\'];\n     * domutil.testProp(props);    // \'transform\'\n     */\n    testProp: function(props) {\n        var style = document.documentElement.style,\n            i = 0,\n            len = props.length;\n\n        for (; i < len; i += 1) {\n            if (props[i] in style) {\n                return props[i];\n            }\n        }\n\n        return false;\n    },\n\n    /**\n     * Get form data\n     * @param {HTMLFormElement} formElement - form element to extract data\n     * @returns {object} form data\n     */\n    getFormData: function(formElement) {\n        var groupedByName = new Collection(function() {\n                return this.length;\n            }),\n            noDisabledFilter = function(el) {\n                return !el.disabled;\n            },\n            output = {};\n\n        groupedByName.add.apply(\n            groupedByName,\n            domutil.find(\'input\', formElement, noDisabledFilter)\n                .concat(domutil.find(\'select\', formElement, noDisabledFilter))\n                .concat(domutil.find(\'textarea\', formElement, noDisabledFilter))\n        );\n\n        groupedByName = groupedByName.groupBy(function(el) {\n            return (el && el.getAttribute(\'name\')) || \'_other\';\n        });\n\n        util.forEach(groupedByName, function(elements, name) {\n            if (name === \'_other\') {\n                return;\n            }\n\n            elements.each(function(el) {\n                var nodeName = el.nodeName.toLowerCase(),\n                    type = el.type,\n                    result = [];\n\n                if (type === \'radio\') {\n                    result = [elements.find(function(el) {\n                        return el.checked;\n                    }).toArray().pop()];\n                } else if (type === \'checkbox\') {\n                    result = elements.find(function(el) {\n                        return el.checked;\n                    }).toArray();\n                } else if (nodeName === \'select\') {\n                    elements.find(function(el) {\n                        return !!el.childNodes.length;\n                    }).each(function(el) {\n                        result = result.concat(\n                            domutil.find(\'option\', el, function(opt) {\n                                return opt.selected;\n                            })\n                        );\n                    });\n                } else {\n                    result = elements.find(function(el) {\n                        return el.value !== \'\';\n                    }).toArray();\n                }\n\n                result = util.map(result, function(el) {\n                    return el.value;\n                });\n\n                if (!result.length) {\n                    result = \'\';\n                } else if (result.length === 1) {\n                    result = result[0];\n                }\n\n                output[name] = result;\n            });\n        });\n\n        return output;\n    }\n};\n\n/* eslint-disable */\nvar userSelectProperty = domutil.testProp([\n    \'userSelect\',\n    \'WebkitUserSelect\',\n    \'OUserSelect\',\n    \'MozUserSelect\',\n    \'msUserSelect\'\n]);\nvar supportSelectStart = \'onselectstart\' in document;\nvar prevSelectStyle = \'\';\n\n/* eslint-enable */\n\n/**\n * Disable browser\'s text selection behaviors.\n * @method\n */\ndomutil.disableTextSelection = (function() {\n    if (supportSelectStart) {\n        return function(dom, onSelectstartHandler) {\n            domevent.on(dom, \'selectstart\', onSelectstartHandler || domevent.preventDefault);\n        };\n    }\n\n    return function(dom) {\n        var style = dom.style;\n        prevSelectStyle = style[userSelectProperty];\n        style[userSelectProperty] = \'none\';\n    };\n})();\n\n/**\n * Enable browser\'s text selection behaviors.\n * @method\n */\ndomutil.enableTextSelection = (function() {\n    if (supportSelectStart) {\n        return function(dom, onSelectstartHandler) {\n            domevent.off(window, \'selectstart\', onSelectstartHandler || domevent.preventDefault);\n        };\n    }\n\n    return function() {\n        document.documentElement.style[userSelectProperty] = prevSelectStyle;\n    };\n})();\n\n/**\n * Disable browser\'s image drag behaviors.\n */\ndomutil.disableImageDrag = function() {\n    domevent.on(window, \'dragstart\', domevent.preventDefault);\n};\n\n/**\n * Enable browser\'s image drag behaviors.\n */\ndomutil.enableImageDrag = function() {\n    domevent.off(window, \'dragstart\', domevent.preventDefault);\n};\n\nmodule.exports = domutil;\n\n\n/***/ }),\n\n/***/ "./src/js/common/dw.js":\n/*!*****************************!*\\\n  !*** ./src/js/common/dw.js ***!\n  \\*****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_237540__) {\n\n"use strict";\n/**\n * @fileoverview Wrapper module for easy calc date object\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar TZDate = __nested_webpack_require_237540__(/*! ./timezone */ "./src/js/common/timezone.js").Date;\n\n/**\n * @constructor\n * @param {TZDate} date to wrapping DW class\n */\nfunction DW(date) {\n    if (!(this instanceof DW)) {\n        return new DW(date);\n    }\n\n    if (!(date instanceof TZDate)) {\n        date = new TZDate(date);\n    }\n\n    /**\n     * @type {TZDate}\n     */\n    this.d = date;\n}\n\n/**\n * Return d property when supplied object is DW. else return itself\n * @param {*} obj - object\n * @returns {TZDate} date\n */\nDW.prototype.safe = function(obj) {\n    if (obj.constructor === DW) {\n        return obj.d;\n    }\n\n    return obj;\n};\n\n/**\n * Clone DW object\n * @returns {DW} cloned dwrap object\n */\nDW.prototype.clone = function() {\n    return new DW(new TZDate(this.d));\n};\n\n/**\n * Add days\n * @param {number} day - day to add\n * @returns {DW} wrapper object\n */\nDW.prototype.addDate = function(day) {\n    this.d.setDate(this.d.getDate() + day);\n\n    return this;\n};\n\n/**\n * Add month.\n * @param {number} m - month to add\n * @returns {DW} wrapper object\n */\nDW.prototype.addMonth = function(m) {\n    var currentMonth = this.d.getMonth();\n    var currentDay = this.d.getDate();\n    var leapYear = this._isLeapYear();\n    var targetMonth = currentMonth + m;\n    var clone = this.clone();\n    var targetDaysOfMonth = currentDay;\n\n    if (m) {\n        if (targetMonth === 1) {\n            targetDaysOfMonth = leapYear ? 29 : 28;\n        } else {\n            if (m > 0) {\n                clone.d.setMonth(targetMonth + 1, 0);\n            } else {\n                clone.d.setMonth(currentMonth, 0);\n            }\n            targetDaysOfMonth = clone.d.getDate();\n        }\n    }\n\n    this.d.setMonth(targetMonth, Math.min(currentDay, targetDaysOfMonth));\n\n    return this;\n};\n\n/**\n * Is leap year or not\n * @returns {boolean}\n */\nDW.prototype._isLeapYear = function() {\n    var year = this.d.getFullYear();\n\n    return ((year % 4 === 0) && (year % 100 !== 0)) || !(year % 400);\n};\n\n/**\n * Set hour, minutes, seconds, milliseconds\n * @param {number} h - hours\n * @param {number} m - minutes\n * @param {number} s - seconds\n * @param {number} ms - milliseconds\n * @returns {DW} wrapper object\n */\nDW.prototype.setHours = function(h, m, s, ms) {\n    this.d.setHours(h, m, s, ms);\n\n    return this;\n};\n\n/**\n * Whether date is between supplied dates?\n * @param {TZDate|DW} d1 - from date\n * @param {TZDate|DW} d2 - to date\n * @returns {boolean} is between?\n */\nDW.prototype.isBetween = function(d1, d2) {\n    var safe = this.safe;\n\n    return safe(d1) <= this.d && this.d <= safe(d2);\n};\n\nmodule.exports = DW;\n\n\n/***/ }),\n\n/***/ "./src/js/common/floatingLayer.js":\n/*!****************************************!*\\\n  !*** ./src/js/common/floatingLayer.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_240557__) {\n\n"use strict";\n/**\n * @fileoverview Floating layer module\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_240557__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_240557__(/*! ../config */ "./src/js/config.js"),\n    domutil = __nested_webpack_require_240557__(/*! ../common/domutil */ "./src/js/common/domutil.js"),\n    View = __nested_webpack_require_240557__(/*! ../view/view */ "./src/js/view/view.js");\n\n/**\n * @constructor\n * @extends {View}\n * @param {object} options - options for floating layer module\n * @param {HTMLElement} container - parent continer for floating layer\n */\nfunction FloatingLayer(options, container) {\n    var sibling = container[FloatingLayer.PROP_KEY],\n        layerContainer;\n\n    if (!sibling) {\n        sibling = container[FloatingLayer.PROP_KEY] = [];\n    }\n\n    sibling.push(this);\n\n    /**\n     * @type {Collection}\n     */\n    this.sibling = sibling;\n\n    /**\n     * @type {number}\n     */\n    this.zIndex = this.getLargestZIndex() || FloatingLayer.INIT_ZINDEX;\n\n    layerContainer = document.createElement(\'div\');\n    layerContainer.style.display = \'none\';\n    layerContainer.style.position = \'absolute\';\n    domutil.addClass(layerContainer, config.classname(\'floating-layer\'));\n    container.appendChild(layerContainer);\n\n    View.call(this, layerContainer);\n\n    /**\n     * @type {HTMLElement}\n     */\n    this.parent = container;\n}\n\nutil.inherit(FloatingLayer, View);\n\n/**\n * @const\n */\nFloatingLayer.PROP_KEY = \'__fe_floating_layer\';\n\n/**\n * @const\n */\nFloatingLayer.INIT_ZINDEX = 999;\n\n/**\n * Destroy floating layer instance. if there no instnace in parent container\n *\n * remove instance cache property in container element\n */\nFloatingLayer.prototype.destroy = function() {\n    var parent = this.parent,\n        sibling = this.sibling,\n        i = 0, cnt = sibling.length;\n\n    for (; i < cnt; i += 1) {\n        if (sibling[i] === this) {\n            sibling.splice(i, 1);\n            break;\n        }\n    }\n\n    if (!sibling.length) {\n        try {\n            delete parent[FloatingLayer.PROP_KEY];\n        } catch (e) {\n            parent[FloatingLayer.PROP_KEY] = null;\n        }\n\n        parent.style.position = \'\';\n    }\n\n    domutil.remove(this.container);\n\n    this.sibling = null;\n\n    View.prototype.destroy.call(this);\n};\n\n/**\n * @returns {boolean} whether layer is visible?\n */\nFloatingLayer.prototype.isVisible = function() {\n    return this.container.style.display !== \'none\';\n};\n\n/**\n * Set layer position\n * @param {number} x - x coordinate of layer\n * @param {number} y - y coordinate of layer\n */\nFloatingLayer.prototype.setPosition = function(x, y) {\n    domutil.setPosition(this.container, x, y);\n};\n\n/**\n * Set layer left, top, right, bottom position\n * @param {object} ltrb object of left, top, right, bottom\n * @param {number} [ltrb.left] left pixel value.\n * @param {number} [ltrb.top] top pixel value.\n * @param {number} [ltrb.right] right pixel value.\n * @param {number} [ltrb.bottom] bottom pixel value.\n */\nFloatingLayer.prototype.setLTRB = function(ltrb) {\n    domutil.setLTRB(this.container, ltrb);\n};\n\n/**\n * Set layer size\n * @param {number|string} w - layer width\n * @param {number|string} h - layer height\n */\nFloatingLayer.prototype.setSize = function(w, h) {\n    var container = this.container;\n\n    w = util.isNumber(w) ? w + \'px\' : w;\n    h = util.isNumber(h) ? h + \'px\' : h;\n\n    container.style.width = w;\n    container.style.height = h;\n};\n\n/**\n * Set layer content\n * @param {string} html - html string\n */\nFloatingLayer.prototype.setContent = function(html) {\n    this.container.innerHTML = html;\n};\n\n/**\n * Get largest z-index from sibling layers\n * @returns {number} largest z-index value\n */\nFloatingLayer.prototype.getLargestZIndex = function() {\n    var zIndexes = util.map(this.sibling, function(layer) {\n        return layer.zIndex;\n    });\n\n    return Math.max.apply(null, zIndexes);\n};\n\n/**\n * Set focus to layer\n */\nFloatingLayer.prototype.focus = function() {\n    var zIndexForShow = this.getLargestZIndex() + 1;\n    this.container.style.zIndex = this.zIndex = zIndexForShow;\n};\n\n/**\n * Show layer\n */\nFloatingLayer.prototype.show = function() {\n    this.focus();\n    this.container.style.display = \'block\';\n};\n\n/**\n * Hide layer\n */\nFloatingLayer.prototype.hide = function() {\n    this.container.style.display = \'none\';\n};\n\nmodule.exports = FloatingLayer;\n\n\n/***/ }),\n\n/***/ "./src/js/common/intlUtil.js":\n/*!***********************************!*\\\n  !*** ./src/js/common/intlUtil.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_245203__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar util = __nested_webpack_require_245203__(/*! tui-code-snippet */ "tui-code-snippet");\nvar intlFormatter = {};\nvar intlUtil;\n\nvar typeToPos = {\n    year: 0,\n    month: 1,\n    day: 2,\n    hour: 3,\n    minute: 4,\n    second: 5\n};\n\n/**\n * Extract date tokens (y, M, d, h, m, s) using the formatToParts() method.\n * @param {Intl.DateTimeFormat} dtf - Intl.DateTimeFormat instance\n * @param {Date} date - date object\n * @returns {Array.<number>} An array of objects only containing the formatted date\n */\nfunction parseOffset(dtf, date) {\n    var formatted = dtf.formatToParts(date);\n    var filled = [];\n    var formattedLength = formatted.length;\n    var i, pos;\n\n    for (i = 0; i < formattedLength; i += 1) {\n        pos = typeToPos[formatted[i].type];\n\n        if (!util.isUndefined(pos)) {\n            filled[pos] = parseInt(formatted[i].value, 10);\n        }\n    }\n\n    return filled;\n}\n\n/**\n * The time zone offset is calculated from the difference between the current time and the time in a specific time zone.\n * @param {Array.<number>} parts - An array of objects only containing the formatted date (e.g. [2020, 12, 14, 10, 15, 19])\n * @param {Date} date - date object\n * @returns {number} offset\n */\nfunction calculateOffset(parts, date) {\n    var y = parts[0];\n    var M = parts[1];\n    var d = parts[2];\n    var h = parts[3];\n    var m = parts[4];\n    var s = parts[5];\n\n    var utc = new Date(Date.UTC(y, M - 1, d, h, m, s));\n    var offset = (utc - date) / 60 / 1000;\n\n    return Math.round(offset);\n}\n\n/**\n * Check if browser supports Intl.DateTimeFormat.prototype.formatToParts API\n * @returns {boolean} supported\n */\nfunction supportIntl() {\n    /**\n     * IE9 and IE10 do not support Intl.DateTimeFormat\n     * IE11 does not support IANA timezone names\n     * http://kangax.github.io/compat-table/esintl/#test-DateTimeFormat_accepts_IANA_timezone_names\n     */\n    return global.Intl && global.Intl.DateTimeFormat &&\n        util.isFunction(Intl.DateTimeFormat.prototype.formatToParts);\n}\n\n/**\n * Return DateTimeFormat instance by timezone\n * @param {string} timezoneName - timezone\n * @returns {DateTimeFormat} Intl.DateTimeFormat instance\n */\nfunction getIntlFormatter(timezoneName) {\n    if (!intlFormatter[timezoneName]) {\n        intlFormatter[timezoneName] = new Intl.DateTimeFormat(\'en-US\', {\n            hourCycle: \'h23\',\n            year: \'numeric\',\n            month: \'numeric\',\n            day: \'numeric\',\n            hour: \'numeric\',\n            minute: \'numeric\',\n            second: \'numeric\',\n            timeZone: timezoneName\n        });\n    }\n\n    return intlFormatter[timezoneName];\n}\n\n/**\n * Get offset of the time by timezone\n * @param {string} timezoneName - recognize the time zone names of the IANA time zone database, such as \'Asia/Seoul\', \'America/New_York\'\n * @param {number} timestamp - timestamp\n * @returns {number} offset\n */\nfunction offsetCalculator(timezoneName, timestamp) {\n    var formatter = getIntlFormatter(timezoneName);\n    var date = new Date(timestamp);\n\n    return -calculateOffset(parseOffset(formatter, date), date);\n}\n\nintlUtil = {\n    supportIntl: supportIntl,\n    offsetCalculator: offsetCalculator\n};\n\nmodule.exports = intlUtil;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_245203__(/*! ./../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/common/model.js":\n/*!********************************!*\\\n  !*** ./src/js/common/model.js ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_248860__) {\n\n"use strict";\n/**\n * @fileoverview Mixin module for models.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar TZDate = __nested_webpack_require_248860__(/*! ../common/timezone */ "./src/js/common/timezone.js").Date;\nvar util = __nested_webpack_require_248860__(/*! tui-code-snippet */ "tui-code-snippet");\nvar spaceRx = /^\\s*|\\s*$/g,\n    model;\n\nvar datetime = __nested_webpack_require_248860__(/*! ../common/datetime */ "./src/js/common/datetime.js");\n\n/**\n * Mixin module for models.\n * @mixin\n */\nmodel = {\n    /**\n     * string trim\n     * @param {string} str string to trim\n     * @returns {string} trimed string\n     */\n    trim: function(str) {\n        return str.replace(spaceRx, \'\');\n    },\n    /**\n     * The collections of validator functions.\n     */\n    validators: {\n        /**\n         * check all of supplied fields(property) is not undefined or empty string.\n         * @param {object} instance model instance.\n         * @param {string[]} fields property names to check.\n         * @returns {boolean} return true when supplied fields are not undefined or empty string.\n         */\n        required: function(instance, fields) {\n            var valid = true,\n                isValid = function(obj) {\n                    return !util.isUndefined(obj) && model.trim(obj) !== \'\';\n                };\n\n            util.forEach(fields, function(fieldName) {\n                valid = isValid(instance[fieldName]);\n\n                return valid;\n            });\n\n            return valid;\n        },\n\n        /**\n         * check supplied fields are valid dates and valid date ranges.\n         * @param {object} instance model instance.\n         * @param {Date[]} fields array of date range (start, end)\n         * @returns {boolean} is valid date range?\n         */\n        dateRange: function(instance, fields) {\n            var start, end;\n\n            if (!util.isExisty(instance) || fields.length !== 2) {\n                return true;\n            }\n\n            start = new TZDate(instance[fields[0]]);\n            end = new TZDate(instance[fields[1]]);\n\n            if (!datetime.isValid(start) || !datetime.isValid(end)) {\n                return false;\n            }\n\n            if (datetime.compare(start, end) === 1) {\n                return false;\n            }\n\n            return true;\n        }\n    },\n\n    /**\n     * Check validate for model instance.\n     *\n     * The validate are works on a basis of constructor\'s "schema" property.\n     *\n     * You can customize validators add some method to model#validators.\n     * @returns {Boolean} model is valid?\n     */\n    isValid: function() {\n        var self = this,\n            schema = this.constructor.schema,\n            validators = model.validators,\n            validator,\n            valid = true;\n\n        if (!schema) {\n            return true;\n        }\n\n        util.forEach(schema, function(values, validatorName) {\n            validator = validators[validatorName];\n\n            if (validator) {\n                valid = validator(self, values);\n\n                return valid; // returning false can stop this loop\n            }\n\n            return true;\n        });\n\n        return valid;\n    },\n\n    /**\n     * Make data object form instance.\n     *\n     * It return object fill with all owned properties but exclude functions.\n     * @returns {object} Data object\n     */\n    parameterize: function() {\n        var param = {},\n            isFunc = util.isFunction;\n\n        util.forEach(this, function(value, propName) {\n            if (!isFunc(value)) {\n                param[propName] = value;\n            }\n        });\n\n        return param;\n    },\n\n    /**\n     * Mixin model module to supplied target.\n     * @param {Object} target The object of want to mixed.\n     * @example\n     * function Man() {\n     *     this.name = \'john\';\n     * }\n     * model.mixin(Man.prototype);\n     */\n    mixin: function(target) {\n        util.forEach(model, function(method, name) {\n            if (name !== \'mixin\') {\n                target[name] = method;\n            }\n        });\n    }\n};\n\nmodule.exports = model;\n\n\n/***/ }),\n\n/***/ "./src/js/common/point.js":\n/*!********************************!*\\\n  !*** ./src/js/common/point.js ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_253181__) {\n\n"use strict";\n/**\n * @fileoverview\n * Class for represent two dimensional x, y coordinates.\n *\n * It suppliy a group of functions for manipulate coordinates.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n * @example\n * var p = point(10, 10);\n * var r1 = p.add(Point(5, 5));\n * console.log(p.toString())    // "Point(10, 10)"\n * console.log(r1.toString())    // "Point(15, 15)"\n *\n * var p2 = new Point(10, 10);\n * p2._add(point(5, 5));\n * console.log(p2.toString())   // "Point(15, 15)"\n */\n\n\nvar util = __nested_webpack_require_253181__(/*! tui-code-snippet */ "tui-code-snippet");\n\n/**\n * Class for represent two dimentional x, y coordinates.\n * @constructor\n * @param {number} x The number of X coordinates.\n * @param {number} y The number of Y coordinates.\n * @param {boolean} [useRound=false] set true when each coordinates are rounded before initialize.\n * @example\n * var t = new Point(13, 5);\n */\nfunction Point(x, y, useRound) {\n    /**\n     * @type {number}\n     */\n    this.x = (useRound ? Math.round(x) : x);\n\n    /**\n     * @type {number}\n     */\n    this.y = (useRound ? Math.round(y) : y);\n}\n\n/**********\n * static props\n **********/\n\n/**\n * Calculate point ratio.\n * @param {Point} point The instance of point.\n * @param {number} factor From factor\n * @param {number} toFactor To factor\n * @returns {Point} Point instance calculated.\n */\nPoint.getRatio = function(point, factor, toFactor) {\n    if (factor === toFactor) {\n        return point.clone();\n    }\n\n    return point.multiplyBy(toFactor)._divideBy(factor);\n};\n\n/**\n * Syntatic sugar of new Point()\n * @param {(Point|number|number[])} x X coordinate value.\n * @param {(number|boolean)} [y] Y coordinate value or boolean value for coordinates round.\n * @param {boolean} [useRound] Set true then round initial coordinate values.\n * @returns {Point} The instance of point.\n * @example\n * var p1 = point(10, 15);\n * var p2 = point([10, 15]);\n */\nPoint.n = function(x, y, useRound) {\n    if (x instanceof Point) {\n        return x;\n    }\n\n    if (util.isArray(x)) {\n        return new Point(x[0], x[1], y);\n    }\n\n    return new Point(x, y, useRound);\n};\n\n/**********\n * prototype props\n **********/\n\n/**\n * Clone points\n * @returns {Point} The point instance cloned.\n */\nPoint.prototype.clone = function() {\n    return new Point(this.x, this.y);\n};\n\n/**\n * Add points.\n * @param {Point} point The point instance to add.\n * @returns {Point} Point calculated.\n */\nPoint.prototype.add = function(point) {\n    return this.clone()._add(Point.n(point));\n};\n\n/**\n * Add self points.\n * @param {Point} point The point instance to add.\n * @returns {Point} Point calculated.\n */\nPoint.prototype._add = function(point) {\n    this.x += point.x;\n    this.y += point.y;\n\n    return this;\n};\n\n/**\n * Subtract points.\n * @param {Point} point The point instance to subtract.\n * @returns {Point} Point calculated.\n */\nPoint.prototype.subtract = function(point) {\n    return this.clone()._subtract(Point.n(point));\n};\n\n/**\n * Subtract points. (manipulate self)\n * @param {Point} point The point instance to subtract.\n * @returns {Point} Point calculated.\n */\nPoint.prototype._subtract = function(point) {\n    this.x -= point.x;\n    this.y -= point.y;\n\n    return this;\n};\n\n/**\n * Divide points.\n * @param {number} num The number to divide.\n * @returns {Point} Point calculated.\n */\nPoint.prototype.divideBy = function(num) {\n    return this.clone()._divideBy(num);\n};\n\n/**\n * Divide points. (manipulate self)\n * @param {number} num The number to divide.\n * @returns {Point} Point calculated.\n */\nPoint.prototype._divideBy = function(num) {\n    this.x /= num;\n    this.y /= num;\n\n    return this;\n};\n\n/**\n * Multiply coordinates.\n * @param {number} num Thyen number to multiply\n * @returns {Point} Point calculated.\n */\nPoint.prototype.multiplyBy = function(num) {\n    return this.clone()._multiplyBy(num);\n};\n\n/**\n * Multiply self coordinates.\n * @param {number} num The number to multiply.\n * @returns {Point} Point calculated.\n */\nPoint.prototype._multiplyBy = function(num) {\n    this.x *= num;\n    this.y *= num;\n\n    return this;\n};\n\n/**\n * Round coordinates.\n * @returns {Point} Point calculated.\n */\nPoint.prototype.round = function() {\n    return this.clone()._round();\n};\n\n/**\n * Round self coordinates.\n * @returns {Point} Point calculated.\n */\nPoint.prototype._round = function() {\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n\n    return this;\n};\n\n/**\n * Reverse values between positive and negative.\n * @returns {Point} Point calculated.\n */\nPoint.prototype.reverse = function() {\n    return this.clone()._reverse();\n};\n\n/**\n * Reverse self values between positive and negative.\n * @returns {Point} Point calculated.\n */\nPoint.prototype._reverse = function() {\n    this.x *= -1;\n    this.y *= -1;\n\n    return this;\n};\n\n/**\n * Floor coordinates.\n * @returns {Point} Point calculated.\n */\nPoint.prototype.floor = function() {\n    return this.clone()._floor();\n};\n\n/**\n * Floor self coordinates.\n * @returns {Point} Point calculated.\n */\nPoint.prototype._floor = function() {\n    this.x = Math.floor(this.x);\n    this.y = Math.floor(this.y);\n\n    return this;\n};\n\n/**\n * Ceil coordinates.\n * @returns {Point} Point calculated.\n */\nPoint.prototype.ceil = function() {\n    return this.clone()._ceil();\n};\n\n/**\n * Ceil self coodinates.\n * @returns {Point} Point calculated.\n */\nPoint.prototype._ceil = function() {\n    this.x = Math.ceil(this.x);\n    this.y = Math.ceil(this.y);\n\n    return this;\n};\n\n/**\n * Rotate point.\n * @param {number} deg The number of rotate degree.\n * @param {Point} [center=this] Center point instance to use rotate center. use own when not supplied.\n * @param {number} [cos] Cosine values for rotate. it useful when multi point rotate.\n * @param {number} [sin] Sine values for rotate. it useful when multi point rotate.\n * @returns {Point} The point instance rotated.\n */\nPoint.prototype.rotate = function(deg, center, cos, sin) {\n    return this.clone()._rotate(deg, center, cos, sin);\n};\n\n/**\n * Rotate self.\n * @param {number} deg The number of rotate degree.\n * @param {Point} [center=this] Center point instance to use rotate center. use own when not supplied.\n * @param {number} [cos] Cosine values for rotate. it useful when multi point rotate.\n * @param {number} [sin] Sine values for rotate. it useful when multi point rotate.\n * @returns {Point} The point instance rotated.\n */\nPoint.prototype._rotate = function(deg, center, cos, sin) {\n    var rad = deg * (Math.PI / 180),\n        x,\n        y;\n\n    cos = cos || parseFloat(Math.cos(rad).toFixed(8));\n    sin = sin || parseFloat(Math.sin(rad).toFixed(8));\n\n    this._subtract(center);\n\n    x = this.x;\n    y = this.y;\n\n    this.x = (x * cos) - (y * sin);\n    this.y = (x * sin) + (y * cos);\n\n    this._add(center);\n\n    return this;\n};\n\n/**\n * Calculate distance between two points.\n * @param {Point} point Point instance.\n * @returns {number} The number of distance between two points.\n */\nPoint.prototype.distanceTo = function(point) {\n    var x,\n        y;\n\n    point = Point.n(point);\n\n    x = point.x - this.x;\n    y = point.y - this.y;\n\n    return Math.sqrt((x * x) + (y * y));\n};\n\n/**\n * Check point equals.\n * @param {Point} point Point instance to compare\n * @returns {boolean} equality\n */\nPoint.prototype.equals = function(point) {\n    point = Point.n(point);\n\n    return point.x === this.x && point.y === this.y;\n};\n\n/**\n * Return formatted string. \'Point(x, y)\'\n * @returns {string} string\n */\nPoint.prototype.toString = function() {\n    return \'Point(\' + this.x + \', \' + this.y + \')\';\n};\n\n/**\n * Return coodinates to array. [x, y]\n * @returns {number[]} coordinate array.\n */\nPoint.prototype.toArray = function() {\n    return [this.x, this.y];\n};\n\nmodule.exports = Point;\n\n\n/***/ }),\n\n/***/ "./src/js/common/reqAnimFrame.js":\n/*!***************************************!*\\\n  !*** ./src/js/common/reqAnimFrame.js ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_261209__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview RequestAnimFrame\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar requestFn,\n    cancelFn;\n\n/**\n * Get name with vendor prefix\n * @param {string} name - name to prepend prefix\n * @returns {string} vendor prefixed name\n */\nfunction getPrefixed(name) {\n    return global[\'webkit\' + name] || global[\'moz\' + name] || global[\'ms\' + name];\n}\n\nrequestFn = global.requestAnimationFrame ||\n    getPrefixed(\'RequestAnimationFrame\') ||\n    function(fn, context) {\n        fn.call(context);\n    };\n\ncancelFn = global.cancelAnimationFrame ||\n    getPrefixed(\'CancelAnimationFrame\') ||\n    getPrefixed(\'CancelRequestAnimationFrame\') ||\n    function() {};\n\n/**\n * @module module:reqAnimFrame\n */\n\nmodule.exports = {\n    /**\n     * Shim of requestAnimationFrame\n     * @param {function} fn callback function\n     * @param {*} context context for callback\n     * @returns {number} Unique id\n     */\n    requestAnimFrame: function(fn, context) {\n        return requestFn.call(global, fn.bind(context));\n    },\n\n    /**\n     * Shim of cancelAnimationFrame\n     * @param {number} id requestAnimationFrame id\n     */\n    cancelAnimFrame: function(id) {\n        if (!id) {\n            return;\n        }\n\n        cancelFn.call(global, id);\n    }\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_261209__(/*! ./../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/common/timezone.js":\n/*!***********************************!*\\\n  !*** ./src/js/common/timezone.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_262958__) {\n\n"use strict";\n/**\n * @fileoverview timezone\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_262958__(/*! tui-code-snippet */ "tui-code-snippet");\nvar intlUtil = __nested_webpack_require_262958__(/*! ./intlUtil */ "./src/js/common/intlUtil.js");\n\nvar MIN_TO_MS = 60 * 1000;\nvar nativeOffsetMs = getTimezoneOffset();\nvar customOffsetMs = nativeOffsetMs;\nvar timezoneOffsetCallback = null;\nvar setByTimezoneOption = false;\nvar offsetCalculator = null;\nvar primaryOffset, primaryTimezoneName;\n\nvar getterMethods = [\n    \'getDate\',\n    \'getDay\',\n    \'getFullYear\',\n    \'getHours\',\n    \'getMilliseconds\',\n    \'getMinutes\',\n    \'getMonth\',\n    \'getSeconds\'\n];\n\nvar setterMethods = [\n    \'setDate\',\n    \'setFullYear\',\n    \'setHours\',\n    \'setMilliseconds\',\n    \'setMinutes\',\n    \'setMonth\',\n    \'setSeconds\'\n];\n\nvar STANDARD_TO_DST = 1;\nvar DST_TO_STANDARD = -1;\n\n/**\n * Get the timezone offset by timestampe\n * @param {number} timestamp - timestamp\n * @returns {number} timezone offset\n * @private\n */\nfunction getTimezoneOffset(timestamp) {\n    timestamp = !util.isUndefined(timestamp) ? timestamp : Date.now();\n\n    return new Date(timestamp).getTimezoneOffset() * MIN_TO_MS;\n}\n\n/**\n * Get the custome timezone offset by timestampe\n * @param {number} timestamp - timestamp\n * @returns {number} timezone offset\n * @private\n */\nfunction getCustomTimezoneOffset(timestamp) {\n    if (!setByTimezoneOption && timezoneOffsetCallback) {\n        return timezoneOffsetCallback(timestamp) * MIN_TO_MS;\n    }\n\n    return customOffsetMs;\n}\n\n/**\n * Convert to local time\n * @param {number} time - time\n * @returns {number} local time\n */\nfunction getLocalTime(time) {\n    var customTimezoneOffset, localTime;\n\n    if (!setByTimezoneOption) {\n        return time;\n    }\n\n    customTimezoneOffset = getCustomTimezoneOffset(time);\n    localTime = time - customTimezoneOffset + nativeOffsetMs;\n\n    return localTime;\n}\n\n/**\n * Create a Date instance with multiple arguments\n * @param {Array} args - arguments\n * @returns {Date}\n * @private\n */\nfunction createDateWithMultipleArgs(args) {\n    var utc = Date.UTC.apply(null, args);\n\n    return new Date(utc + getTimezoneOffset(utc));\n}\n\n/**\n * To convert a Date to TZDate as it is.\n * @param {TZDate|number|null} arg - date\n * @returns {Date}\n */\nfunction createDateWithUTCTime(arg) {\n    var time;\n\n    if (arg instanceof TZDate) {\n        time = arg.getUTCTime();\n    } else if (typeof arg === \'number\') {\n        time = arg;\n    } else if (arg === null) {\n        time = 0;\n    } else {\n        throw new Error(\'Invalid Type\');\n    }\n\n    return new Date(time);\n}\n\n/**\n * Convert time to local time. Those times are only from API and not from inner source code.\n * @param {Date|string} arg - date\n * @returns {Date}\n */\nfunction createDateAsLocalTime(arg) {\n    var time;\n\n    if (arg instanceof Date) {\n        time = arg.getTime();\n    } else if (typeof arg === \'string\') {\n        time = Date.parse(arg);\n    } else {\n        throw new Error(\'Invalid Type\');\n    }\n\n    time = getLocalTime(time);\n\n    return new Date(time);\n}\n\n/**\n * is it for local time? These type can be used from Calendar API.\n * @param {Date|string} arg - date\n * @returns {boolean}\n */\nfunction useLocalTimeConverter(arg) {\n    return arg instanceof Date || typeof arg === \'string\';\n}\n\n/**\n * Timezone Date Class\n * @param {number|TZDate|Date|string} date - date to be converted\n * @constructor\n */\nfunction TZDate(date) {\n    var nativeDate;\n\n    if (util.isUndefined(date)) {\n        date = Date.now();\n    }\n\n    if (arguments.length > 1) {\n        nativeDate = createDateWithMultipleArgs(arguments);\n    } else if (useLocalTimeConverter(date)) {\n        nativeDate = createDateAsLocalTime(date);\n    } else {\n        nativeDate = createDateWithUTCTime(date);\n    }\n\n    this._date = nativeDate;\n}\n\n/**\n * Get milliseconds which is converted by timezone\n * @returns {number} milliseconds\n */\nTZDate.prototype.getTime = function() {\n    var time = this._date.getTime();\n\n    return time + getCustomTimezoneOffset(time) - getTimezoneOffset(time);\n};\n\n/**\n * Get UTC milliseconds\n * @returns {number} milliseconds\n */\nTZDate.prototype.getUTCTime = function() {\n    return this._date.getTime();\n};\n\n/**\n * toUTCString\n * @returns {string}\n */\nTZDate.prototype.toUTCString = function() {\n    return this._date.toUTCString();\n};\n\n/**\n * to Date\n * @returns {Date}\n */\nTZDate.prototype.toDate = function() {\n    return this._date;\n};\n\nTZDate.prototype.valueOf = function() {\n    return this.getTime();\n};\n\nTZDate.prototype.addDate = function(day) {\n    this.setDate(this.getDate() + day);\n\n    return this;\n};\n\nTZDate.prototype.addMinutes = function(minutes) {\n    this.setMinutes(this.getMinutes() + minutes);\n\n    return this;\n};\n\nTZDate.prototype.addMilliseconds = function(milliseconds) {\n    this.setMilliseconds(this.getMilliseconds() + milliseconds);\n\n    return this;\n};\n\n/* eslint-disable max-params*/\nTZDate.prototype.setWithRaw = function(y, M, d, h, m, s, ms) {\n    this.setFullYear(y, M, d);\n    this.setHours(h, m, s, ms);\n\n    return this;\n};\n\n/**\n * @returns {TZDate} local time\n */\nTZDate.prototype.toLocalTime = function() {\n    var time = this.getTime();\n    var utcTime = this.getUTCTime();\n    var diff = time - utcTime;\n\n    return new TZDate(utcTime - diff);\n};\n\ngetterMethods.forEach(function(methodName) {\n    TZDate.prototype[methodName] = function() {\n        return this._date[methodName].apply(this._date, arguments);\n    };\n});\n\nsetterMethods.forEach(function(methodName) {\n    TZDate.prototype[methodName] = function() {\n        this._date[methodName].apply(this._date, arguments);\n\n        return this.getTime();\n    };\n});\n\n/**\n * Set offset\n * @param {number} offset - timezone offset based on minutes\n */\nfunction setOffset(offset) {\n    customOffsetMs = offset * MIN_TO_MS;\n}\n\n/**\n * Set primary offset\n * @param {number} offset - offset\n */\nfunction setPrimaryOffset(offset) {\n    primaryOffset = offset;\n    setOffset(offset);\n}\n\n/**\n * Return primary offset\n * @returns {number} offset\n */\nfunction getPrimaryOffset() {\n    return util.isNumber(primaryOffset) ? primaryOffset : new Date().getTimezoneOffset();\n}\n\n/**\n * Set primary timezone name\n * @param {string} timezoneName - timezone name (time zone names of the IANA time zone database, such as \'Asia/Seoul\', \'America/New_York\')\n */\nfunction setPrimaryTimezoneCode(timezoneName) {\n    primaryTimezoneName = timezoneName;\n}\n\n/**\n * Get offset by timezoneName\n * @param {string} timezoneName - timezone name (time zone names of the IANA time zone database, such as \'Asia/Seoul\', \'America/New_York\')\n * @param {number} timestamp - timestamp\n * @returns {number} timezone offset\n */\nfunction getOffsetByTimezoneName(timezoneName, timestamp) {\n    var offset = getPrimaryOffset();\n    var calculator;\n\n    if (!timezoneName) {\n        return offset;\n    }\n\n    calculator = getOffsetCalculator(timezoneName);\n\n    return calculator ? calculator(timezoneName, timestamp) : offset;\n}\n\n/**\n * Set a calculator function to get timezone offset by timestamp\n * @param {function} calculator - offset calculator\n */\nfunction setOffsetCalculator(calculator) {\n    offsetCalculator = calculator;\n}\n\n/**\n * Return a function to calculate timezone offset by timestamp\n * @param {string} timezoneName - timezone name\n * @returns {function | null} offset calculator\n */\nfunction getOffsetCalculator(timezoneName) {\n    if (util.isFunction(offsetCalculator)) {\n        return offsetCalculator;\n    }\n\n    if (intlUtil.supportIntl(timezoneName)) {\n        return intlUtil.offsetCalculator;\n    }\n\n    return null;\n}\n\n/**\n * Set timezone and offset by timezone option\n * @param {Timezone} timezoneObj - {@link Timezone}\n */\nfunction setPrimaryTimezoneByOption(timezoneObj) {\n    var timezoneName, offset;\n\n    if (!(timezoneObj && timezoneObj.timezoneName)) {\n        return;\n    }\n\n    timezoneName = timezoneObj.timezoneName;\n    setByTimezoneOption = true;\n    setPrimaryTimezoneCode(timezoneName);\n\n    offset = getOffsetByTimezoneName(timezoneName, Date.now());\n\n    if (offset === nativeOffsetMs / MIN_TO_MS) {\n        setByTimezoneOption = false;\n    }\n\n    setPrimaryOffset(offset);\n}\n\n/**\n * Get primary timezone name\n * @returns {string} primary timezone name (time zone names of the IANA time zone database, such as \'Asia/Seoul\', \'America/New_York\')\n */\nfunction getPrimaryTimezoneName() {\n    return primaryTimezoneName;\n}\n\n/**\n * Compare the start and end times to see if the time zone is changing.\n * @param {number} startTime - start timestamp\n * @param {number} endTime - end timestamp\n * @returns {object} whether to change the offset and offset difference value\n */\nfunction isDifferentOffsetStartAndEndTime(startTime, endTime) {\n    var offset1 = getOffsetByTimezoneName(primaryTimezoneName, startTime);\n    var offset2 = getOffsetByTimezoneName(primaryTimezoneName, endTime);\n    var result = 0;\n\n    if (offset1 > offset2) {\n        result = STANDARD_TO_DST;\n    } else if (offset1 < offset2) {\n        result = DST_TO_STANDARD;\n    }\n\n    return {\n        isOffsetChanged: result,\n        offsetDiff: offset1 - offset2\n    };\n}\n\nmodule.exports = {\n    Date: TZDate,\n\n    setOffset: setOffset,\n\n    /**\n     * Set offset\n     * @param {number} offset - timezone offset based on minutes\n     */\n    setOffsetByTimezoneOption: function(offset) {\n        this.setOffset(-offset);\n        primaryOffset = -offset;\n        setByTimezoneOption = true;\n    },\n\n    /**\n     * Get offset in case of `setByTimezoneOption`. Or return 0.\n     * @returns {number} timezone offset offset minutes\n     */\n    getOffset: function() {\n        if (setByTimezoneOption) {\n            return customOffsetMs / MIN_TO_MS;\n        }\n\n        return 0;\n    },\n\n    /**\n     * Set a callback function to get timezone offset by timestamp\n     * @param {function} callback - callback function\n     */\n    setOffsetCallback: function(callback) {\n        timezoneOffsetCallback = callback;\n    },\n\n    /**\n     * (Use this method only for testing)\n     * Reset system timezone and custom timezone\n     */\n    restoreOffset: function() {\n        customOffsetMs = getTimezoneOffset();\n    },\n\n    getNativeOffsetMs: function() {\n        return nativeOffsetMs;\n    },\n\n    /**\n     * Check to use custom timezone option\n     * @returns {boolean} use custom timezone option\n     */\n    hasPrimaryTimezoneCustomSetting: function() {\n        return setByTimezoneOption;\n    },\n\n    resetCustomSetting: function() {\n        setByTimezoneOption = false;\n    },\n\n    setOffsetCalculator: setOffsetCalculator,\n\n    setPrimaryTimezoneByOption: setPrimaryTimezoneByOption,\n\n    getPrimaryOffset: getPrimaryOffset,\n\n    getOffsetByTimezoneName: getOffsetByTimezoneName,\n\n    getPrimaryTimezoneName: getPrimaryTimezoneName,\n\n    isNativeOsUsingDSTTimezone: function() {\n        var year = new Date().getFullYear();\n        var jan = new Date(year, 0, 1).getTimezoneOffset();\n        var jul = new Date(year, 6, 1).getTimezoneOffset();\n\n        return jan !== jul;\n    },\n\n    isPrimaryUsingDSTTimezone: function() {\n        var year = new Date().getFullYear();\n        var jan = new Date(year, 0, 1);\n        var jul = new Date(year, 6, 1);\n\n        return (\n            getOffsetByTimezoneName(primaryTimezoneName, jan) !==\n            getOffsetByTimezoneName(primaryTimezoneName, jul)\n        );\n    },\n\n    isDifferentOffsetStartAndEndTime: isDifferentOffsetStartAndEndTime,\n    setPrimaryTimezoneCode: setPrimaryTimezoneCode\n};\n\n\n/***/ }),\n\n/***/ "./src/js/common/vlayout.js":\n/*!**********************************!*\\\n  !*** ./src/js/common/vlayout.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_274724__) {\n\n"use strict";\n/**\n * @fileoverview Layout module that supplied split height, resize height features.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_274724__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_274724__(/*! ../config */ "./src/js/config.js"),\n    common = __nested_webpack_require_274724__(/*! ./common */ "./src/js/common/common.js"),\n    domutil = __nested_webpack_require_274724__(/*! ./domutil */ "./src/js/common/domutil.js"),\n    domevent = __nested_webpack_require_274724__(/*! ./domevent */ "./src/js/common/domevent.js"),\n    View = __nested_webpack_require_274724__(/*! ../view/view */ "./src/js/view/view.js"),\n    VPanel = __nested_webpack_require_274724__(/*! ./vpanel */ "./src/js/common/vpanel.js"),\n    Drag = __nested_webpack_require_274724__(/*! ../handler/drag */ "./src/js/handler/drag.js");\n\nvar mAbs = Math.abs;\n\n/**\n * @typedef PanelOptions\n * @type {object}\n * @property {number} [minHeight=0] - minimum height of panel\n * @property {number} [height=0] - current panel height\n * @property {boolean} [splitter=false] - is this panel uses splitter?\n * @property {boolean} [autoHeight=false] - is this panel uses remain height of container?\n * @property {string} [className=\'\'] - className string for add created element\n */\n\n/**\n * @constructor\n * @extends {View}\n * @param {object} options - options for VLayout module\n *  @param {PanelOptions[]} [options.panels] - panels to add layout when initialize\n *  @param {number[]} [options.panelHeights] - panel height list\n * @param {HTMLElement} container - container element\n * @param {Theme} theme - theme instance\n */\nfunction VLayout(options, container, theme) {\n    var opt, tempHeights;\n\n    if (!(this instanceof VLayout)) {\n        return new VLayout(options, container);\n    }\n\n    View.call(this, container);\n\n    domutil.addClass(container, config.classname(\'vlayout-container\'));\n\n    /**\n     * @type {object}\n     */\n    opt = this.options = util.extend({\n        panels: [],\n        panelHeights: []\n    }, options);\n\n    /**\n     * @type {VPanel[]}\n     */\n    this.panels = [];\n\n    /**\n     * @type {Drag}\n     */\n    this._drag = new Drag({\n        distance: 10,\n        exclude: function(target) {\n            return !domutil.hasClass(target, config.classname(\'splitter\'));\n        }\n    }, container);\n\n    this._drag.on({\n        dragStart: this._onDragStart,\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    /**\n     * @type {object}\n     */\n    this._dragData = null;\n\n    /**\n     * @type {Theme}\n     */\n    this.theme = theme;\n\n    if (opt.panels.length) {\n        if (opt.panelHeights.length) {\n            tempHeights = opt.panelHeights.slice();\n            util.forEach(opt.panels, function(panelOpt) {\n                if (!panelOpt.isSplitter && !panelOpt.autoHeight) {\n                    panelOpt.height = tempHeights.shift();\n                }\n            });\n        }\n\n        this.addPanels(opt.panels, this.container);\n    }\n\n    this.refresh();\n}\n\nutil.inherit(VLayout, View);\n\n/**\n * Get current panels height in layout\n * @returns {number[]} height of panels with `autoHeight` false\n */\nVLayout.prototype.getLayoutData = function() {\n    var heightList = [];\n\n    util.forEach(this.panels, function(panel) {\n        if (panel.isSplitter() || panel.options.autoHeight) {\n            return;\n        }\n\n        heightList.push(panel.getHeight());\n    });\n\n    return heightList;\n};\n\n/**\n * Set panels height in layout\n * @param {number[]} heightList of panels with `autoHeight` false\n */\nVLayout.prototype.setLayoutData = function(heightList) {\n    if (!heightList.length) {\n        return;\n    }\n\n    util.forEach(this.panels, function(panel) {\n        if (panel.isSplitter() || panel.options.autoHeight) {\n            return;\n        }\n\n        panel.setHeight(null, heightList.shift());\n    });\n\n    this.refresh();\n};\n\n/**\n * Get next panel instance by specific panel\n * @param {VPanel} panel - panel instance\n * @returns {VPanel} next panel\n */\nVLayout.prototype.nextPanel = function(panel) {\n    return this.panels[panel.index + 1];\n};\n\n/**\n * Get previous panel instance by specific panel\n * @param {VPanel} panel - panel instance\n * @returns {VPanel} previous panel\n */\nVLayout.prototype.prevPanel = function(panel) {\n    return this.panels[panel.index - 1];\n};\n\n/**\n * Initialize resizing guide element\n * @param {HTMLElement} element - element to use guide element after cloned\n * @param {number} top - top pixel value for guide element\n * @returns {HTMLElement} cloned element == guide element\n */\nVLayout.prototype._initializeGuideElement = function(element, top) {\n    var cloned = element.cloneNode(true);\n\n    domutil.addClass(cloned, config.classname(\'splitter-guide\'));\n    this._refreshGuideElement(cloned, top);\n    this.container.appendChild(cloned);\n\n    return cloned;\n};\n\n/**\n * Refresh guide element position\n * @param {HTMLElement} element - guide element\n * @param {number} top - top pixel value for guide element\n */\nVLayout.prototype._refreshGuideElement = function(element, top) {\n    element.style.top = top + \'px\';\n};\n\n/**\n * Clear guide element position\n * @param {HTMLElement} element - guide element\n */\nVLayout.prototype._clearGuideElement = function(element) {\n    domutil.remove(element);\n};\n\n/**\n * Resize overall panels size\n * @param {VPanel} splPanel - splitter panel instance\n * @param {number} startY - dragstart Y position\n * @param {number} mouseY - dragend Y position\n */\nVLayout.prototype._resize = function(splPanel, startY, mouseY) {\n    var diffY = startY - mouseY,\n        resizedHeight = mAbs(diffY),\n        resizeMap = [],\n        toDown = mouseY > startY,\n        backwardMethod = toDown ? \'prevPanel\' : \'nextPanel\',\n        forwardMethod = toDown ? \'nextPanel\' : \'prevPanel\',\n        cursor, resizeInfo;\n\n    cursor = this[backwardMethod](splPanel);\n    resizeInfo = cursor.getResizeInfoByGrowth(resizedHeight);\n    resizeMap.push([cursor, resizeInfo[0]]);\n\n    for (cursor = this[forwardMethod](cursor);\n        util.isExisty(cursor);\n        cursor = this[forwardMethod](cursor)) {\n        if (cursor.isSplitter()) {\n            continue;\n        }\n\n        resizeInfo = cursor.getResizeInfoByGrowth(-resizedHeight);\n        resizeMap.push([cursor, resizeInfo[0]]);\n        resizedHeight -= resizeInfo[1];\n    }\n\n    util.forEach(resizeMap, function(pair) {\n        pair[0].setHeight(null, pair[1], true);\n        pair[0].fire(\'resize\');\n    });\n};\n\n/**\n * Get summation of splitter and panel\'s minimum height upper and below of supplied splitter\n * @param {VPanel} splPanel - splitter panel instance\n * @returns {number[]} upper and below splitter\'s height and panel minimum height summation.\n */\nVLayout.prototype._getMouseYAdditionalLimit = function(splPanel) {\n    var upper = 0,\n        below = 0,\n        cursor,\n        func = function(panel) {\n            if (panel.isSplitter()) {\n                return panel.getHeight();\n            }\n\n            return panel.options.minHeight;\n        };\n\n    for (cursor = this.prevPanel(splPanel);\n        util.isExisty(cursor);\n        cursor = this.prevPanel(cursor)) {\n        upper += func(cursor);\n    }\n\n    for (cursor = this.nextPanel(splPanel);\n        util.isExisty(cursor);\n        cursor = this.nextPanel(cursor)) {\n        below += func(cursor);\n    }\n\n    return [upper, below];\n};\n\n/**********\n * Drag Handlers\n **********/\n\n/**\n * Drag start schedule handler\n * @param {object} e - drag start schedule data\n */\nVLayout.prototype._onDragStart = function(e) {\n    var oEvent = e.originEvent,\n        target = e.target,\n        splIndex = domutil.getData(target, \'panelIndex\'),\n        splPanel = this.panels[splIndex],\n        splHeight = splPanel.getHeight(),\n        splOffsetY = domevent.getMousePosition(oEvent, target)[1],\n        mouseY = domevent.getMousePosition(oEvent, this.container)[1],\n        guideElement = this._initializeGuideElement(target, mouseY);\n\n    splPanel.addClass(config.classname(\'splitter-focused\'));\n\n    this._dragData = {\n        splPanel: splPanel,\n        splOffsetY: splOffsetY,\n        guideElement: guideElement,\n        startY: mouseY - splOffsetY,\n        minY: 0,\n        maxY: this.getViewBound().height - splHeight\n    };\n\n    if (!util.browser.msie) {\n        domutil.addClass(document.body, config.classname(\'resizing\'));\n    }\n};\n\n/**\n * Drag schedule handler\n * @param {object} e - drag schedule data\n */\nVLayout.prototype._onDrag = function(e) {\n    var dragData = this._dragData,\n        mouseY = domevent.getMousePosition(e.originEvent, this.container)[1];\n\n    mouseY = common.limit(mouseY - dragData.splOffsetY, [dragData.minY], [dragData.maxY]);\n\n    this._refreshGuideElement(dragData.guideElement, mouseY);\n};\n\n/**\n * Drag end schedule handler\n * @fires VLayout#resize\n * @param {object} e - dragend schedule data\n */\nVLayout.prototype._onDragEnd = function(e) {\n    var dragData = this._dragData,\n        asideMinMax = this._getMouseYAdditionalLimit(dragData.splPanel),\n        mouseY = domevent.getMousePosition(e.originEvent, this.container)[1];\n\n    // mouseY value can\'t exceed summation of splitter height and panel\'s minimum height based on target splitter.\n    mouseY = common.limit(\n        mouseY - dragData.splOffsetY,\n        [dragData.minY + asideMinMax[0]],\n        [dragData.maxY - asideMinMax[1]]\n    );\n\n    this._resize(dragData.splPanel, dragData.startY, mouseY);\n\n    /**\n     * @event VLayout#resize\n     * @type {object}\n     * @property {number[]} layoutData - layout data after resized\n     */\n    this.fire(\'resize\', {\n        layoutData: this.getLayoutData()\n    });\n\n    this._dragData = null;\n    this._clearGuideElement(dragData.guideElement);\n    dragData.splPanel.removeClass(config.classname(\'splitter-focused\'));\n    domutil.removeClass(document.body, config.classname(\'resizing\'));\n};\n\n/**********\n * Methods\n **********/\n\n/**\n * refresh each panels\n */\nVLayout.prototype.refresh = function() {\n    var panelToFillHeight = [];\n    var layoutHeight = this.getViewBound().height;\n    var usedHeight = 0;\n    var remainHeight;\n\n    if (!layoutHeight) {\n        return;\n    }\n\n    util.forEach(this.panels, function(panel) {\n        if (panel.options.autoHeight) {\n            panelToFillHeight.push(panel);\n        } else {\n            usedHeight += panel.getHeight();\n        }\n    });\n\n    remainHeight = (layoutHeight - usedHeight) / panelToFillHeight.length;\n\n    util.forEach(panelToFillHeight, function(panel) {\n        panel.setHeight(null, remainHeight);\n    });\n};\n\n/**\n * add panel\n * @param {PanelOptions} options - options for panel\n * @param {container} [container] - container element\n */\nVLayout.prototype.addPanel = function(options, container) {\n    var element = document.createElement(\'div\'),\n        panels = this.panels,\n        index = panels.length;\n\n    options = util.extend({\n        index: index\n    }, options);\n\n    panels.push(new VPanel(options, element, this.theme));\n\n    container.appendChild(element);\n};\n\n/**\n * Add multiple panel\n * @param {PanelOptions[]} options - panel options list\n * @param {HTMLElement} container - container element\n */\nVLayout.prototype.addPanels = function(options, container) {\n    var self = this,\n        frag = document.createDocumentFragment();\n\n    util.forEach(options, function(option) {\n        self.addPanel(option, frag);\n    });\n\n    container.appendChild(frag);\n};\n\n/**\n * Get a panel by name\n * @param {string} name - panel\'s name\n * @returns {VPanel}\n */\nVLayout.prototype.getPanelByName = function(name) {\n    var found;\n    util.forEach(this.panels, function(panel) {\n        if (panel.name === name) {\n            found = panel;\n        }\n    });\n\n    return found;\n};\n\nmodule.exports = VLayout;\n\n\n/***/ }),\n\n/***/ "./src/js/common/vpanel.js":\n/*!*********************************!*\\\n  !*** ./src/js/common/vpanel.js ***!\n  \\*********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_286685__) {\n\n"use strict";\n/**\n * @fileoverview Panel class for VLayout module\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_286685__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_286685__(/*! ../config */ "./src/js/config.js"),\n    common = __nested_webpack_require_286685__(/*! ./common */ "./src/js/common/common.js"),\n    domutil = __nested_webpack_require_286685__(/*! ./domutil */ "./src/js/common/domutil.js"),\n    View = __nested_webpack_require_286685__(/*! ../view/view */ "./src/js/view/view.js");\n\n/**\n * @constructor\n * @extends {View}\n * @param {object} options - options for VPanel\n *  @param {number} options.index - index of panel in vlayout\n *  @param {number} [options.minHeight=0] - minimum height of panel\n *  @param {number} [options.height] - initial height of panel\n *  @param {boolean} [options.isSplitter=false] - set true then this panel works splitter\n *  @param {boolean} [options.autoHeight=false] - set true then this panel use remain height after other panel resized.\n *  @param {string} [options.className] - additional class name to add element\n * @param {HTMLElement} container - container element\n * @param {Theme} theme - theme instance\n */\nfunction VPanel(options, container, theme) {\n    View.call(this, container);\n\n    /**\n     * @type {object}\n     */\n    this.options = util.extend({\n        index: 0,\n        name: \'0\',\n        minHeight: 0,\n        maxHeight: null,\n        height: null,\n        isSplitter: false,\n        autoHeight: false,\n        className: \'\'\n    }, options);\n\n    /**\n     * @type {number}\n     */\n    this.index = this.options.index;\n\n    /**\n     * @type {string}\n     */\n    this.name = this.options.name || String(this.index);\n\n    this.isHeightForcedSet = false;\n\n    /**\n     * @type {Theme}\n     */\n    this.theme = theme;\n\n    this._initPanel(this.options, container);\n}\n\nutil.inherit(VPanel, View);\n\n/**\n * whether this panel is splitter?\n * @returns {boolean} panel is splitter?\n */\nVPanel.prototype.isSplitter = function() {\n    return this.options.isSplitter;\n};\n\n/**\n * set max height of panel\n * @param {number} maxHeight - maxHeight\n */\nVPanel.prototype.setMaxHeight = function(maxHeight) {\n    if (!this.options.autoHeight) {\n        this.options.maxHeight = maxHeight;\n    }\n};\n\n/**\n * set forced height flag\n * @param {boolean} set - enable or not\n */\nVPanel.prototype.setHeightForcedSet = function(set) {\n    this.isHeightForcedSet = set;\n};\n\n/**\n * get forced height flag\n * @returns {boolean} set - enable or not\n */\nVPanel.prototype.getHeightForcedSet = function() {\n    return this.isHeightForcedSet;\n};\n\n/**\n * set height of html element\n * @param {HTMLElement} [container] - container element\n * @param {number} newHeight - height\n * @param {boolean} force - whether ignore max-length\n */\nVPanel.prototype.setHeight = function(container, newHeight, force) {\n    var maxHeight = this.options.maxHeight;\n    var minHeight = this.options.minHeight;\n    var autoHeight = this.options.autoHeight;\n    container = container || this.container;\n\n    // 한번 force 호출이 일어난 이후에는 force 호출만 허용한다\n    if (!force && this.isHeightForcedSet && !autoHeight) {\n        return;\n    }\n\n    if (force) {\n        this.isHeightForcedSet = true;\n    } else if (maxHeight) {\n        newHeight = Math.min(newHeight, maxHeight);\n    }\n    newHeight = Math.max(minHeight, newHeight);\n\n    container.style.height = newHeight + \'px\';\n};\n\n/**\n * Calculate new height of panel and remains by supplied height growth\n * @param {number} growth - growth value\n * @returns {number[]} newHeight, remainHeight\n */\nVPanel.prototype.getResizeInfoByGrowth = function(growth) {\n    var height = this.getHeight(),\n        newHeight = height + growth,\n        resizeTo = Math.max(0, newHeight, this.options.minHeight);\n\n    return [resizeTo, height - resizeTo];\n};\n\n/**\n * get outer height of panel element\n * @returns {number} outer height of panel element\n */\nVPanel.prototype.getHeight = function() {\n    return domutil.getSize(this.container)[1];\n};\n\n/**\n * add design class to panel element\n * @param {string} className - classname string\n */\nVPanel.prototype.addClass = function(className) {\n    domutil.addClass(this.container, className);\n};\n\n/**\n * remove design class to panel element\n * @param {string} className - classname string\n */\nVPanel.prototype.removeClass = function(className) {\n    domutil.removeClass(this.container, className);\n};\n\n/**\n * initialize panel element\n * @param {PanelOptions} options - options for panel\n * @param {HTMLDivElement} container - panel element\n */\nVPanel.prototype._initPanel = function(options, container) {\n    var height;\n\n    domutil.setData(container, \'panelIndex\', options.index);\n\n    if (options.isSplitter) {\n        domutil.addClass(container, config.classname(\'splitter\'));\n        this.applyTheme();\n\n        return;\n    }\n\n    if (options.className) {\n        domutil.addClass(container, options.className);\n    }\n\n    if (options.autoHeight) {\n        domutil.setData(container, \'autoHeight\', true);\n    } else {\n        height = common.limit(options.height || 0,\n            [options.minHeight],\n            [options.maxHeight || options.height]\n        );\n\n        options.height = height;\n        this.setHeight(container, height);\n    }\n};\n\nVPanel.prototype.applyTheme = function() {\n    var style = this.container.style;\n    var theme = this.theme;\n\n    if (!theme) {\n        return;\n    }\n\n    style.borderTop = theme.week.vpanelSplitter.border || theme.common.border;\n    style.borderBottom = theme.week.vpanelSplitter.border || theme.common.border;\n    style.height = theme.week.vpanelSplitter.height;\n};\n\nmodule.exports = VPanel;\n\n\n/***/ }),\n\n/***/ "./src/js/config.js":\n/*!**************************!*\\\n  !*** ./src/js/config.js ***!\n  \\**************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n/**\n * @fileoverview Global configuration object module. This @echo syntax will change preprocess context. See gulpfile.js\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar cssPrefix = \'tui-full-calendar-\',\n    alldayGetViewID = new RegExp(\'^\' + cssPrefix + \'weekday[\\\\s]tui-view-(\\\\d+)\'),\n    alldayCheckPermission = new RegExp(\'^\' + cssPrefix + \'schedule(-title)?$\'),\n    timeGetViewID = new RegExp(\'^\' + cssPrefix + \'time-date[\\\\s]tui-view-(\\\\d+)\');\n\nvar config = {\n    throwError: function(msg) {\n        throw new Error(msg);\n    },\n\n    cssPrefix: cssPrefix,\n\n    classname: function(str) {\n        str = str || \'\';\n\n        if (str.charAt(0) === \'.\') {\n            return \'.\' + config.cssPrefix + str.slice(1);\n        }\n\n        return config.cssPrefix + str;\n    },\n\n    allday: {\n        getViewIDRegExp: alldayGetViewID,\n        checkCondRegExp: alldayCheckPermission\n    },\n\n    daygrid: {\n        getViewIDRegExp: alldayGetViewID,\n        checkCondRegExp: alldayCheckPermission\n    },\n\n    time: {\n        getViewIDRegExp: timeGetViewID\n    }\n};\n\nmodule.exports = config;\n\n\n/***/ }),\n\n/***/ "./src/js/controller/base.js":\n/*!***********************************!*\\\n  !*** ./src/js/controller/base.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_293942__) {\n\n"use strict";\n/**\n * @fileoverview Base calendar controller\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_293942__(/*! tui-code-snippet */ "tui-code-snippet");\nvar Schedule = __nested_webpack_require_293942__(/*! ../model/schedule */ "./src/js/model/schedule.js");\nvar ScheduleViewModel = __nested_webpack_require_293942__(/*! ../model/viewModel/scheduleViewModel */ "./src/js/model/viewModel/scheduleViewModel.js");\nvar datetime = __nested_webpack_require_293942__(/*! ../common/datetime */ "./src/js/common/datetime.js");\nvar common = __nested_webpack_require_293942__(/*! ../common/common */ "./src/js/common/common.js");\nvar Theme = __nested_webpack_require_293942__(/*! ../theme/theme */ "./src/js/theme/theme.js");\nvar tz = __nested_webpack_require_293942__(/*! ../common/timezone */ "./src/js/common/timezone.js");\nvar TZDate = tz.Date;\n\n/**\n * Get range date by custom timezone or native timezone\n * @param {Schedule} schedule The instance of schedule.\n * @returns {RangeDate} start and end date\n */\nfunction getRangeDateByOffset(schedule) {\n    var scheduleStart = schedule.getStarts();\n    var scheduleEnd = schedule.getEnds();\n    var start = datetime.start(scheduleStart);\n    var equalStartEnd = datetime.compare(scheduleStart, scheduleEnd) === 0;\n    var endDate = equalStartEnd ? scheduleEnd : datetime.convertStartDayToLastDay(scheduleEnd);\n    var end = datetime.end(endDate);\n\n    var nativeOffsetMs = tz.getNativeOffsetMs();\n    var startOffset = scheduleStart.toDate().getTimezoneOffset();\n    var MIN_TO_MS = 60 * 1000;\n    var offsetDiffMs = 0;\n\n    var primaryTimezoneName = tz.getPrimaryTimezoneName();\n    var primaryOffset = tz.getPrimaryOffset();\n    var timezoneOffset = tz.getOffsetByTimezoneName(primaryTimezoneName, scheduleStart.getTime());\n\n    if (tz.isNativeOsUsingDSTTimezone() && nativeOffsetMs !== startOffset) {\n        // When using a custom time zone, the native time zone offset is fixed and rendered.\n        // So, The fixed and rendered time should be recalculated as the original time zone offset.\n        offsetDiffMs = (startOffset * MIN_TO_MS) - nativeOffsetMs;\n    }\n\n    if (tz.isPrimaryUsingDSTTimezone() && primaryOffset !== timezoneOffset) {\n        // The custom time zone is a time zone where two offsets including DST are applied.\n        // The first rendered schedule is calculated and drawn with the offset calculated at the access time(system OS local time).\n        // It should be recalculated with the original time zone offset.\n        offsetDiffMs = (primaryOffset - timezoneOffset) * MIN_TO_MS;\n    }\n\n    start = datetime.start(scheduleStart.getUTCTime() + offsetDiffMs);\n    end = datetime.end(\n        datetime.convertStartDayToLastDay(new TZDate(scheduleEnd.getUTCTime() + offsetDiffMs))\n    );\n\n    return {\n        start: start,\n        end: end\n    };\n}\n\n/**\n * @constructor\n * @param {object} options - options for base controller\n * @param {function} [options.groupFunc] - function for group each models {@see Collection#groupBy}\n * @param {themeConfig} [options.theme] - theme object\n * @mixes util.CustomEvents\n */\nfunction Base(options) {\n    options = options || {};\n\n    /**\n     * function for group each schedule models.\n     * @type {function}\n     * @param {ScheduleViewModel} viewModel - view model instance\n     * @returns {string} group key\n     */\n    this.groupFunc =\n        options.groupFunc ||\n        function(viewModel) {\n            var model = viewModel.model;\n\n            if (viewModel.model.isAllDay) {\n                return \'allday\';\n            }\n\n            if (\n                model.category === \'time\' &&\n                model.end - model.start > datetime.MILLISECONDS_PER_DAY\n            ) {\n                return \'allday\';\n            }\n\n            return model.category;\n        };\n\n    /**\n     * schedules collection.\n     * @type {Collection}\n     */\n    this.schedules = common.createScheduleCollection();\n\n    /**\n     * Matrix for multidate schedules.\n     * @type {object.<string, array>}\n     */\n    this.dateMatrix = {};\n\n    /**\n     * Theme\n     * @type {Theme}\n     */\n    this.theme = new Theme(options.theme);\n\n    /**\n     * Calendar list\n     * @type {Array.<Calendar>}\n     */\n    this.calendars = [];\n}\n\n/**\n * Calculate contain dates in schedule.\n * @private\n * @param {Schedule} schedule The instance of schedule.\n * @returns {array} contain dates.\n */\nBase.prototype._getContainDatesInSchedule = function(schedule) {\n    var scheduleStart = schedule.getStarts();\n    var scheduleEnd = schedule.getEnds();\n    var start = datetime.start(scheduleStart);\n    var equalStartEnd = datetime.compare(scheduleStart, scheduleEnd) === 0;\n    var endDate = equalStartEnd ? scheduleEnd : datetime.convertStartDayToLastDay(scheduleEnd);\n    var end = datetime.end(endDate);\n    var rangeDateByOffset;\n\n    if (tz.hasPrimaryTimezoneCustomSetting()) {\n        rangeDateByOffset = getRangeDateByOffset(schedule);\n        start = rangeDateByOffset.start;\n        end = rangeDateByOffset.end;\n    }\n\n    return datetime.range(start, end, datetime.MILLISECONDS_PER_DAY);\n};\n\n/****************\n * CRUD Schedule\n ****************/\n\n/**\n * Create a schedule instance from raw data.\n * @emits Base#beforeCreateSchedule\n * @emits Base#createdSchedule\n * @param {object} options Data object to create schedule.\n * @param {boolean} silent - set true then don\'t fire events.\n * @returns {Schedule} The instance of Schedule that created.\n */\nBase.prototype.createSchedule = function(options, silent) {\n    var schedule,\n        scheduleData = {\n            data: options\n        };\n\n    /**\n     * @event Base#beforeCreateSchedule\n     * @type {Calendar~Schedule[]}\n     */\n    if (!this.invoke(\'beforeCreateSchedule\', scheduleData)) {\n        return null;\n    }\n\n    schedule = this.addSchedule(Schedule.create(options));\n\n    if (!silent) {\n        /**\n         * @event Base#createdSchedule\n         * @type {Schedule}\n         */\n        this.fire(\'createdSchedule\', schedule);\n    }\n\n    return schedule;\n};\n\n/**\n * @emits Base#beforeCreateSchedule\n * @emits Base#createdSchedule\n * @param {Calendar~Schedule[]} dataList - dataObject list to create schedule.\n * @param {boolean} [silent=false] - set true then don\'t fire events.\n * @returns {Schedule[]} The instance list of Schedule that created.\n */\nBase.prototype.createSchedules = function(dataList, silent) {\n    var self = this;\n\n    return util.map(dataList, function(data) {\n        return self.createSchedule(data, silent);\n    });\n};\n\n/**\n * Update a schedule.\n * @emits Base#updateSchedule\n * @param {Schedule} schedule - schedule instance to update\n * @param {object} options updated object data.\n * @returns {Schedule} updated schedule instance\n */\n// eslint-disable-next-line complexity\nBase.prototype.updateSchedule = function(schedule, options) {\n    var start = options.start || schedule.start;\n    var end = options.end || schedule.end;\n\n    options = options || {};\n\n    if ([\'milestone\', \'task\', \'allday\', \'time\'].indexOf(options.category) > -1) {\n        schedule.set(\'category\', options.category);\n    }\n\n    if (options.category === \'allday\') {\n        options.isAllDay = true;\n    }\n\n    if (!util.isUndefined(options.isAllDay)) {\n        schedule.set(\'isAllDay\', options.isAllDay);\n    }\n\n    if (!util.isUndefined(options.calendarId)) {\n        schedule.set(\'calendarId\', options.calendarId);\n    }\n\n    if (options.title) {\n        schedule.set(\'title\', options.title);\n    }\n\n    if (options.body) {\n        schedule.set(\'body\', options.body);\n    }\n\n    if (options.start || options.end) {\n        if (schedule.isAllDay) {\n            schedule.setAllDayPeriod(start, end);\n        } else {\n            schedule.setTimePeriod(start, end);\n        }\n    }\n\n    if (options.color) {\n        schedule.set(\'color\', options.color);\n    }\n\n    if (options.bgColor) {\n        schedule.set(\'bgColor\', options.bgColor);\n    }\n\n    if (options.borderColor) {\n        schedule.set(\'borderColor\', options.borderColor);\n    }\n\n    if (options.origin) {\n        schedule.set(\'origin\', options.origin);\n    }\n\n    if (!util.isUndefined(options.isPending)) {\n        schedule.set(\'isPending\', options.isPending);\n    }\n\n    if (!util.isUndefined(options.isFocused)) {\n        schedule.set(\'isFocused\', options.isFocused);\n    }\n\n    if (!util.isUndefined(options.isReadOnly)) {\n        schedule.set(\'isReadOnly\', options.isReadOnly);\n    }\n\n    if (options.location) {\n        schedule.set(\'location\', options.location);\n    }\n\n    if (options.state) {\n        schedule.set(\'state\', options.state);\n    }\n\n    if (options.raw) {\n        schedule.set(\'raw\', options.raw);\n    }\n\n    if (options.attendees) {\n        schedule.set(\'attendees\', options.attendees);\n    }\n\n    this._removeFromMatrix(schedule);\n    this._addToMatrix(schedule);\n\n    /**\n     * @event Base#updateSchedule\n     */\n    this.fire(\'updateSchedule\');\n\n    return schedule;\n};\n\n/**\n * Delete schedule instance from controller.\n * @param {Schedule} schedule - schedule instance to delete\n * @returns {Schedule} deleted model instance.\n */\nBase.prototype.deleteSchedule = function(schedule) {\n    this._removeFromMatrix(schedule);\n    this.schedules.remove(schedule);\n\n    return schedule;\n};\n\n/**\n * Set date matrix to supplied schedule instance.\n * @param {Schedule} schedule - instance of schedule.\n */\nBase.prototype._addToMatrix = function(schedule) {\n    var ownMatrix = this.dateMatrix;\n    var containDates = this._getContainDatesInSchedule(schedule);\n\n    util.forEach(containDates, function(date) {\n        var ymd = datetime.format(date, \'YYYYMMDD\'),\n            matrix = (ownMatrix[ymd] = ownMatrix[ymd] || []);\n\n        matrix.push(util.stamp(schedule));\n    });\n};\n\n/**\n * Remove schedule\'s id from matrix.\n * @param {Schedule} schedule - instance of schedule\n */\nBase.prototype._removeFromMatrix = function(schedule) {\n    var modelID = util.stamp(schedule);\n\n    util.forEach(\n        this.dateMatrix,\n        function(matrix) {\n            var index = util.inArray(modelID, matrix);\n\n            if (~index) {\n                matrix.splice(index, 1);\n            }\n        },\n        this\n    );\n};\n\n/**\n * Add a schedule instance.\n * @emits Base#addedSchedule\n * @param {Schedule} schedule The instance of Schedule.\n * @param {boolean} silent - set true then don\'t fire events.\n * @returns {Schedule} The instance of Schedule that added.\n */\nBase.prototype.addSchedule = function(schedule, silent) {\n    this.schedules.add(schedule);\n    this._addToMatrix(schedule);\n\n    if (!silent) {\n        /**\n         * @event Base#addedSchedule\n         * @type {object}\n         */\n        this.fire(\'addedSchedule\', schedule);\n    }\n\n    return schedule;\n};\n\n/**\n * split schedule model by ymd.\n * @param {Date} start - start date\n * @param {Date} end - end date\n * @param {Collection} scheduleCollection - collection of schedule model.\n * @returns {object.<string, Collection>} splitted schedule model collections.\n */\nBase.prototype.splitScheduleByDateRange = function(start, end, scheduleCollection) {\n    var range = datetime.range(\n            datetime.start(start),\n            datetime.end(end),\n            datetime.MILLISECONDS_PER_DAY\n        ),\n        ownMatrix = this.dateMatrix,\n        result = {};\n\n    util.forEachArray(range, function(date) {\n        var ymd = datetime.format(date, \'YYYYMMDD\'),\n            matrix = ownMatrix[ymd],\n            collection;\n\n        collection = result[ymd] = common.createScheduleCollection();\n\n        if (matrix && matrix.length) {\n            util.forEachArray(matrix, function(id) {\n                scheduleCollection.doWhenHas(id, function(schedule) {\n                    collection.add(schedule);\n                });\n            });\n        }\n    });\n\n    return result;\n};\n\n/**\n * Return schedules in supplied date range.\n *\n * available only YMD.\n * @param {TZDate} start start date.\n * @param {TZDate} end end date.\n * @returns {object.<string, Collection>} schedule collection grouped by dates.\n */\nBase.prototype.findByDateRange = function(start, end) {\n    var range = datetime.range(\n            datetime.start(start),\n            datetime.end(end),\n            datetime.MILLISECONDS_PER_DAY\n        ),\n        ownSchedules = this.schedules.items,\n        ownMatrix = this.dateMatrix,\n        dformat = datetime.format,\n        result = {},\n        matrix,\n        ymd,\n        viewModels;\n\n    util.forEachArray(range, function(date) {\n        ymd = dformat(date, \'YYYYMMDD\');\n        matrix = ownMatrix[ymd];\n        viewModels = result[ymd] = common.createScheduleCollection();\n\n        if (matrix && matrix.length) {\n            viewModels.add.apply(\n                viewModels,\n                util.map(matrix, function(id) {\n                    return ScheduleViewModel.create(ownSchedules[id]);\n                })\n            );\n        }\n    });\n\n    return result;\n};\n\nBase.prototype.clearSchedules = function() {\n    this.dateMatrix = {};\n    this.schedules.clear();\n    /**\n     * for inner view when clear schedules\n     * @event Base#clearSchedules\n     * @type {Schedule}\n     */\n    this.fire(\'clearSchedules\');\n};\n\n/**\n * Set a theme.\n * @param {themeConfig} theme - theme keys, styles\n * @returns {Array.<string>} keys - error keys not predefined.\n */\nBase.prototype.setTheme = function(theme) {\n    return this.theme.setStyles(theme);\n};\n\n/**\n * Set calendar list\n * @param {Array.<Calendar>} calendars - calendar list\n */\nBase.prototype.setCalendars = function(calendars) {\n    this.calendars = calendars;\n};\n\n// mixin\nutil.CustomEvents.mixin(Base);\n\nmodule.exports = Base;\n\n\n/***/ }),\n\n/***/ "./src/js/controller/viewMixin/core.js":\n/*!*********************************************!*\\\n  !*** ./src/js/controller/viewMixin/core.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_307809__) {\n\n"use strict";\n/**\n * @fileoverview Core methods for schedule block placing\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_307809__(/*! tui-code-snippet */ "tui-code-snippet");\nvar forEachArr = util.forEachArray,\n    aps = Array.prototype.slice;\n\nvar datetime = __nested_webpack_require_307809__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar tz = __nested_webpack_require_307809__(/*! ../../common/timezone */ "./src/js/common/timezone.js");\nvar TZDate = tz.Date;\nvar Collection = __nested_webpack_require_307809__(/*! ../../common/collection */ "./src/js/common/collection.js");\nvar ScheduleViewModel = __nested_webpack_require_307809__(/*! ../../model/viewModel/scheduleViewModel */ "./src/js/model/viewModel/scheduleViewModel.js");\n\nvar Core = {\n    /**\n     * Calculate collision group.\n     * @param {array} viewModels List of viewmodels.\n     * @returns {array} Collision Group.\n     */\n    getCollisionGroup: function(viewModels) {\n        var collisionGroups = [],\n            foundPrevCollisionSchedule = false,\n            previousScheduleList;\n\n        if (!viewModels.length) {\n            return collisionGroups;\n        }\n\n        collisionGroups[0] = [util.stamp(viewModels[0].valueOf())];\n        forEachArr(viewModels.slice(1), function(schedule, index) {\n            foundPrevCollisionSchedule = false;\n            previousScheduleList = aps.apply(viewModels, [0, index + 1]).reverse();\n\n            forEachArr(previousScheduleList, function(previous) {\n                if (schedule.collidesWith(previous)) {\n                    // If overlapping previous schedules, find a Collision Group of overlapping schedules and add this schedules\n                    foundPrevCollisionSchedule = true;\n\n                    forEachArr(collisionGroups.slice(0).reverse(), function(group) {\n                        if (~util.inArray(util.stamp(previous.valueOf()), group)) {\n                            // If you find a previous schedule that overlaps, include it in the Collision Group to which it belongs.\n                            group.push(util.stamp(schedule.valueOf()));\n\n                            return false; // returning false can stop this loop\n                        }\n\n                        return true;\n                    });\n\n                    return false; // returning false can stop this loop\n                }\n\n                return true;\n            });\n\n            if (!foundPrevCollisionSchedule) {\n                // This schedule is a schedule that does not overlap with the previous schedule, so a new Collision Group is constructed.\n                collisionGroups.push([util.stamp(schedule.valueOf())]);\n            }\n        });\n\n        return collisionGroups;\n    },\n\n    /**\n     * Get row length by column index in 2d matrix.\n     * @param {array[]} arr2d Matrix\n     * @param {number} col Column index.\n     * @returns {number} Last row number in column.\n     */\n    getLastRowInColumn: function(arr2d, col) {\n        var row = arr2d.length;\n\n        while (row > 0) {\n            row -= 1;\n            if (!util.isUndefined(arr2d[row][col])) {\n                return row;\n            }\n        }\n\n        return false;\n    },\n\n    /**\n     * Calculate matrix for appointment block element placing.\n     * @param {Collection} collection model collection.\n     * @param {array[]} collisionGroups Collision groups for schedule set.\n     * @returns {array} matrices\n     */\n    getMatrices: function(collection, collisionGroups) {\n        var result = [],\n            getLastRowInColumn = Core.getLastRowInColumn;\n\n        forEachArr(collisionGroups, function(group) {\n            var matrix = [[]];\n\n            forEachArr(group, function(scheduleID) {\n                var schedule = collection.items[scheduleID],\n                    col = 0,\n                    found = false,\n                    nextRow,\n                    lastRowInColumn;\n\n                while (!found) {\n                    lastRowInColumn = getLastRowInColumn(matrix, col);\n\n                    if (lastRowInColumn === false) {\n                        matrix[0].push(schedule);\n                        found = true;\n                    } else if (!schedule.collidesWith(matrix[lastRowInColumn][col])) {\n                        nextRow = lastRowInColumn + 1;\n                        if (util.isUndefined(matrix[nextRow])) {\n                            matrix[nextRow] = [];\n                        }\n                        matrix[nextRow][col] = schedule;\n                        found = true;\n                    }\n\n                    col += 1;\n                }\n            });\n\n            result.push(matrix);\n        });\n\n        return result;\n    },\n\n    /**\n     * Filter that get schedule model in supplied date ranges.\n     * @param {Date} start - start date\n     * @param {Date} end - end date\n     * @returns {function} schedule filter function\n     */\n    getScheduleInDateRangeFilter: function(start, end) {\n        return function(model) {\n            var ownStarts = model.getStarts(),\n                ownEnds = model.getEnds();\n            var dateByOffset;\n\n            if (tz.hasPrimaryTimezoneCustomSetting()) {\n                dateByOffset = recalculateDateByOffset(ownStarts, ownEnds);\n                ownStarts = dateByOffset.start;\n                ownEnds = dateByOffset.end;\n            }\n\n            // shorthand condition of\n            //\n            // (ownStarts >= start && ownEnds <= end) ||\n            // (ownStarts < start && ownEnds >= start) ||\n            // (ownEnds > end && ownStarts <= end)\n            return !(ownEnds < start || ownStarts > end);\n        };\n    },\n\n    /**\n     * Position each view model for placing into container\n     * @param {Date} start - start date to render\n     * @param {Date} end - end date to render\n     * @param {array} matrices - matrices from controller\n     * @param {function} [iteratee] - iteratee function invoke each view models\n     */\n    positionViewModels: function(start, end, matrices, iteratee) {\n        var ymdListToRender;\n\n        ymdListToRender = util.map(\n            datetime.range(start, end, datetime.MILLISECONDS_PER_DAY),\n            function(date) {\n                return datetime.format(date, \'YYYYMMDD\');\n            }\n        );\n\n        forEachArr(matrices, function(matrix) {\n            forEachArr(matrix, function(column) {\n                forEachArr(column, function(viewModel, index) {\n                    var ymd, dateLength, startDate, endDate;\n\n                    if (!viewModel) {\n                        return;\n                    }\n\n                    startDate = viewModel.getStarts();\n                    endDate = viewModel.getEnds();\n                    dateLength = datetime.range(\n                        datetime.start(startDate),\n                        datetime.renderEnd(startDate, endDate),\n                        datetime.MILLISECONDS_PER_DAY\n                    ).length;\n\n                    ymd = datetime.format(startDate, \'YYYYMMDD\');\n                    viewModel.top = index;\n                    viewModel.left = util.inArray(ymd, ymdListToRender);\n                    viewModel.width = dateLength;\n\n                    if (iteratee) {\n                        iteratee(viewModel);\n                    }\n                });\n            });\n        });\n    },\n\n    /**\n     * Limit start, end date each view model for render properly\n     * @param {TZDate} start - start date to render\n     * @param {TZDate} end - end date to render\n     * @param {Collection|ScheduleViewModel} viewModelColl - schedule view\n     *  model collection or ScheduleViewModel\n     * @returns {ScheduleViewModel} return view model when third parameter is\n     *  view model\n     */\n    limitRenderRange: function(start, end, viewModelColl) {\n        /**\n         * Limit render range for view models\n         * @param {ScheduleViewModel} viewModel - view model instance\n         * @returns {ScheduleViewModel} view model that limited render range\n         */\n        function limit(viewModel) {\n            if (viewModel.getStarts() < start) {\n                viewModel.exceedLeft = true;\n                viewModel.renderStarts = new TZDate(start);\n            }\n\n            if (viewModel.getEnds() > end) {\n                viewModel.exceedRight = true;\n                viewModel.renderEnds = new TZDate(end);\n            }\n\n            return viewModel;\n        }\n\n        if (viewModelColl.constructor === Collection) {\n            viewModelColl.each(limit);\n\n            return null;\n        }\n\n        return limit(viewModelColl);\n    },\n\n    /**\n     * Convert schedule model collection to view model collection.\n     * @param {Collection} modelColl - collection of schedule model\n     * @returns {Collection} collection of schedule view model\n     */\n    convertToViewModel: function(modelColl) {\n        var viewModelColl;\n\n        viewModelColl = new Collection(function(viewModel) {\n            return viewModel.cid();\n        });\n\n        modelColl.each(function(model) {\n            viewModelColl.add(ScheduleViewModel.create(model));\n        });\n\n        return viewModelColl;\n    }\n};\n\n/**\n * Get range date by custom timezone or native timezone\n * @param {TZDate} ownStarts start date.\n * @param {TZDate} ownEnds end date.\n * @returns {RangeDate} recalculated start and end date\n */\nfunction recalculateDateByOffset(ownStarts, ownEnds) {\n    var nativeOffsetMs = tz.getNativeOffsetMs();\n    var startOffset = ownStarts.toDate().getTimezoneOffset();\n    var MIN_TO_MS = 60 * 1000;\n    var offsetDiffMs = 0;\n\n    var primaryTimezoneName = tz.getPrimaryTimezoneName();\n    var primaryOffset = tz.getPrimaryOffset();\n    var timezoneOffset = tz.getOffsetByTimezoneName(primaryTimezoneName, ownStarts.getTime());\n\n    if (tz.isNativeOsUsingDSTTimezone() && nativeOffsetMs !== startOffset) {\n        // When using a custom time zone, the native time zone offset is fixed and rendered.\n        // So, The fixed and rendered time should be recalculated as the original time zone offset.\n        offsetDiffMs = (startOffset * MIN_TO_MS) - nativeOffsetMs;\n    }\n\n    if (tz.isPrimaryUsingDSTTimezone() && primaryOffset !== timezoneOffset) {\n        // The custom time zone is a time zone where two offsets including DST are applied.\n        // The first rendered schedule is calculated and drawn with the offset calculated at the access time(system OS local time).\n        // It should be recalculated with the original time zone offset.\n        offsetDiffMs = (primaryOffset - timezoneOffset) * MIN_TO_MS;\n    }\n\n    return {\n        start: new TZDate(ownStarts.getUTCTime() + offsetDiffMs),\n        end: new TZDate(ownEnds.getUTCTime() + offsetDiffMs)\n    };\n}\n\nmodule.exports = Core;\n\n\n/***/ }),\n\n/***/ "./src/js/controller/viewMixin/month.js":\n/*!**********************************************!*\\\n  !*** ./src/js/controller/viewMixin/month.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_318850__) {\n\n"use strict";\n/**\n * @fileoverview Controller mixin for Month View\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_318850__(/*! tui-code-snippet */ "tui-code-snippet");\nvar array = __nested_webpack_require_318850__(/*! ../../common/array */ "./src/js/common/array.js"),\n    datetime = __nested_webpack_require_318850__(/*! ../../common/datetime */ "./src/js/common/datetime.js"),\n    Collection = __nested_webpack_require_318850__(/*! ../../common/collection */ "./src/js/common/collection.js");\nvar mmax = Math.max;\n\nvar Month = {\n    /**\n     * Filter function for find time schedule\n     * @param {ScheduleViewModel} viewModel - schedule view model\n     * @returns {boolean} whether model is time schedule?\n     */\n    _onlyTimeFilter: function(viewModel) {\n        return !viewModel.model.isAllDay && !viewModel.hasMultiDates;\n    },\n\n    /**\n     * Filter function for find allday schedule\n     * @param {ScheduleViewModel} viewModel - schedule view model\n     * @returns {boolean} whether model is allday schedule?\n     */\n    _onlyAlldayFilter: function(viewModel) {\n        return viewModel.model.isAllDay || viewModel.hasMultiDates;\n    },\n\n    /**\n     * Weight top value +1 for month view render\n     * @param {ScheduleViewModel} viewModel - schedule view model\n     */\n    _weightTopValue: function(viewModel) {\n        viewModel.top = viewModel.top || 0;\n        viewModel.top += 1;\n    },\n\n    /**\n     * Adjust render range to render properly.\n     *\n     * Limit start, end for each allday schedules and expand start, end for\n     * each time schedules\n     * @this Base\n     * @param {TZDate} start - render start date\n     * @param {TZDate} end - render end date\n     * @param {Collection} vColl - view model collection\n     * property.\n     */\n    _adjustRenderRange: function(start, end, vColl) {\n        var ctrlCore = this.Core;\n\n        vColl.each(function(viewModel) {\n            if (viewModel.model.isAllDay || viewModel.hasMultiDates) {\n                ctrlCore.limitRenderRange(start, end, viewModel);\n            }\n        });\n    },\n\n    /**\n     * Get max top index value for allday schedules in specific date (YMD)\n     * @this Base\n     * @param {string} ymd - yyyymmdd formatted value\n     * @param {Collection} vAlldayColl - collection of allday schedules\n     * @returns {number} max top index value in date\n     */\n    _getAlldayMaxTopIndexAtYMD: function(ymd, vAlldayColl) {\n        var dateMatrix = this.dateMatrix,\n            topIndexesInDate = [];\n        util.forEach(dateMatrix[ymd], function(cid) {\n            vAlldayColl.doWhenHas(cid, function(viewModel) {\n                topIndexesInDate.push(viewModel.top);\n            });\n        });\n\n        if (topIndexesInDate.length > 0) {\n            return mmax.apply(null, topIndexesInDate);\n        }\n\n        return 0;\n    },\n\n    /**\n     * Adjust time view model\'s top index value\n     * @this Base\n     * @param {Collection} vColl - collection of schedules\n     */\n    _adjustTimeTopIndex: function(vColl) {\n        var ctrlMonth = this.Month;\n        var getAlldayMaxTopIndexAtYMD = ctrlMonth._getAlldayMaxTopIndexAtYMD;\n        var vAlldayColl = vColl.find(ctrlMonth._onlyAlldayFilter);\n        var sortedTimeSchedules = vColl.find(ctrlMonth._onlyTimeFilter).sort(array.compare.schedule.asc);\n        var maxIndexInYMD = {};\n\n        sortedTimeSchedules.forEach(function(timeViewModel) {\n            var scheduleYMD = datetime.format(timeViewModel.getStarts(), \'YYYYMMDD\');\n            var alldayMaxTopInYMD = maxIndexInYMD[scheduleYMD];\n\n            if (util.isUndefined(alldayMaxTopInYMD)) {\n                alldayMaxTopInYMD = maxIndexInYMD[scheduleYMD] =\n                    getAlldayMaxTopIndexAtYMD(scheduleYMD, vAlldayColl);\n            }\n            maxIndexInYMD[scheduleYMD] = timeViewModel.top =\n                (alldayMaxTopInYMD + 1);\n        });\n    },\n\n    /**\n     * Adjust time view model\'s top index value\n     * @this Base\n     * @param {Collection} vColl - collection of schedules\n     */\n    _stackTimeFromTop: function(vColl) {\n        var ctrlMonth = this.Month;\n        var vAlldayColl = vColl.find(ctrlMonth._onlyAlldayFilter);\n        var sortedTimeSchedules = vColl.find(ctrlMonth._onlyTimeFilter).sort(array.compare.schedule.asc);\n        var indiceInYMD = {};\n        var dateMatrix = this.dateMatrix;\n\n        sortedTimeSchedules.forEach(function(timeViewModel) {\n            var scheduleYMD = datetime.format(timeViewModel.getStarts(), \'YYYYMMDD\');\n            var topArrayInYMD = indiceInYMD[scheduleYMD];\n            var maxTopInYMD;\n            var i;\n\n            if (util.isUndefined(topArrayInYMD)) {\n                topArrayInYMD = indiceInYMD[scheduleYMD] = [];\n                util.forEach(dateMatrix[scheduleYMD], function(cid) {\n                    vAlldayColl.doWhenHas(cid, function(viewModel) {\n                        topArrayInYMD.push(viewModel.top);\n                    });\n                });\n            }\n\n            if (util.inArray(timeViewModel.top, topArrayInYMD) >= 0) {\n                maxTopInYMD = mmax.apply(null, topArrayInYMD) + 1;\n                for (i = 1; i <= maxTopInYMD; i += 1) {\n                    timeViewModel.top = i;\n                    if (util.inArray(timeViewModel.top, topArrayInYMD) < 0) {\n                        break;\n                    }\n                }\n            }\n            topArrayInYMD.push(timeViewModel.top);\n        });\n    },\n\n    /**\n     * Convert multi-date time schedule to all-day schedule\n     * @this Base\n     * @param {Collection} vColl - view model collection\n     * property.\n     */\n    _addMultiDatesInfo: function(vColl) {\n        vColl.each(function(viewModel) {\n            var model = viewModel.model;\n            var start = model.getStarts();\n            var end = model.getEnds();\n\n            viewModel.hasMultiDates = datetime.hasMultiDates(start, end);\n\n            if (!model.isAllDay && viewModel.hasMultiDates) {\n                viewModel.renderStarts = datetime.start(start);\n                viewModel.renderEnds = datetime.renderEnd(start, end);\n            }\n        });\n    },\n\n    /**\n     * Find schedule and get view model for specific month\n     * @this Base\n     * @param {TZDate} start - start date to find schedules\n     * @param {TZDate} end - end date to find schedules\n     * @param {function[]} [andFilters] - optional filters to applying search query\n     * @param {boolean} [alldayFirstMode=false] if true, time schedule is lower than all-day schedule. Or stack schedules from the top.\n     * @returns {object} view model data\n     */\n    findByDateRange: function(start, end, andFilters, alldayFirstMode) {\n        var ctrlCore = this.Core,\n            ctrlMonth = this.Month,\n            filter = ctrlCore.getScheduleInDateRangeFilter(start, end),\n            coll, vColl, vList,\n            collisionGroup,\n            matrices;\n\n        alldayFirstMode = alldayFirstMode || false;\n        andFilters = andFilters || [];\n        filter = Collection.and.apply(null, [filter].concat(andFilters));\n\n        coll = this.schedules.find(filter);\n        vColl = ctrlCore.convertToViewModel(coll);\n        ctrlMonth._addMultiDatesInfo(vColl);\n        ctrlMonth._adjustRenderRange(start, end, vColl);\n        vList = vColl.sort(array.compare.schedule.asc);\n\n        collisionGroup = ctrlCore.getCollisionGroup(vList);\n        matrices = ctrlCore.getMatrices(vColl, collisionGroup);\n        ctrlCore.positionViewModels(start, end, matrices, ctrlMonth._weightTopValue);\n        if (alldayFirstMode) {\n            ctrlMonth._adjustTimeTopIndex(vColl);\n        } else {\n            ctrlMonth._stackTimeFromTop(vColl);\n        }\n\n        return matrices;\n    }\n};\n\nmodule.exports = Month;\n\n\n/***/ }),\n\n/***/ "./src/js/controller/viewMixin/week.js":\n/*!*********************************************!*\\\n  !*** ./src/js/controller/viewMixin/week.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_326871__) {\n\n"use strict";\n/* eslint no-shadow: 0 */\n/**\n * @fileoverview Controller mixin modules for day views.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_326871__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar Collection = __nested_webpack_require_326871__(/*! ../../common/collection */ "./src/js/common/collection.js");\nvar array = __nested_webpack_require_326871__(/*! ../../common/array */ "./src/js/common/array.js");\nvar datetime = __nested_webpack_require_326871__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar TZDate = __nested_webpack_require_326871__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\n\nvar SCHEDULE_MIN_DURATION = datetime.MILLISECONDS_SCHEDULE_MIN_DURATION;\n\n/**\n * @mixin Base.Week\n */\nvar Week = {\n    /**********\n     * TIME GRID VIEW\n     **********/\n\n    /**\n     * Make array with start and end times on schedules.\n     * @this Base.Week\n     * @param {array[]} matrix - matrix from controller.\n     * @returns {array[]} starttime, endtime array (exclude first row\'s schedules)\n     */\n    generateTimeArrayInRow: function(matrix) {\n        var row,\n            col,\n            schedule,\n            start,\n            end,\n            map = [],\n            cursor = [],\n            maxColLen = Math.max.apply(null, util.map(matrix, function(col) {\n                return col.length;\n            }));\n\n        for (col = 1; col < maxColLen; col += 1) {\n            row = 0;\n            schedule = util.pick(matrix, row, col);\n\n            while (schedule) {\n                start = schedule.getStarts().getTime() - datetime.millisecondsFrom(\'minutes\', schedule.valueOf().goingDuration);\n                end = schedule.getEnds().getTime() + datetime.millisecondsFrom(\'minutes\', schedule.valueOf().comingDuration);\n\n                if (Math.abs(end - start) < SCHEDULE_MIN_DURATION) {\n                    end += SCHEDULE_MIN_DURATION;\n                }\n\n                cursor.push([start, end]);\n\n                row += 1;\n                schedule = util.pick(matrix, row, col);\n            }\n\n            map.push(cursor);\n            cursor = [];\n        }\n\n        return map;\n    },\n\n    /**\n     * Get collision information from list\n     * @this Base\n     * @param {array.<number[]>} arr - list to detecting collision. [[start, end], [start, end]]\n     * @param {number} start - schedule start time that want to detect collisions.\n     * @param {number} end - schedule end time that want to detect collisions.\n     * @returns {boolean} target has collide in supplied array?\n     */\n    hasCollide: function(arr, start, end) {\n        var startStart,\n            startEnd,\n            endStart,\n            endEnd,\n            getFunc = function(index) {\n                return function(block) {\n                    return block[index];\n                };\n            },\n            abs = Math.abs,\n            compare = array.compare.num.asc,\n            hasCollide;\n\n        if (!arr.length) {\n            return false;\n        }\n\n        startStart = abs(array.bsearch(arr, start, getFunc(0), compare));\n        startEnd = abs(array.bsearch(arr, start, getFunc(1), compare));\n        endStart = abs(array.bsearch(arr, end, getFunc(0), compare));\n        endEnd = abs(array.bsearch(arr, end, getFunc(1), compare));\n        hasCollide = !(startStart === startEnd && startEnd === endStart && endStart === endEnd);\n\n        return hasCollide;\n    },\n\n    /**\n     * Initialize values to viewmodels for detect real collision at rendering phase.\n     * @this Base\n     * @param {array[]} matrices - Matrix data.\n     */\n    getCollides: function(matrices) {\n        util.forEachArray(matrices, function(matrix) {\n            var binaryMap,\n                maxRowLength;\n\n            binaryMap = Week.generateTimeArrayInRow(matrix);\n            maxRowLength = Math.max.apply(null, util.map(matrix, function(row) {\n                return row.length;\n            }));\n\n            util.forEachArray(matrix, function(row) {\n                util.forEachArray(row, function(viewModel, col) {\n                    var startTime,\n                        endTime,\n                        hasCollide,\n                        i;\n\n                    if (!viewModel) {\n                        return;\n                    }\n\n                    startTime = viewModel.getStarts().getTime();\n                    endTime = viewModel.getEnds().getTime();\n\n                    if (Math.abs(endTime - startTime) < SCHEDULE_MIN_DURATION) {\n                        endTime += SCHEDULE_MIN_DURATION;\n                    }\n\n                    startTime -= datetime.millisecondsFrom(\'minutes\', viewModel.valueOf().goingDuration);\n                    endTime += datetime.millisecondsFrom(\'minutes\', viewModel.valueOf().comingDuration);\n\n                    endTime -= 1;\n\n                    for (i = (col + 1); i < maxRowLength; i += 1) {\n                        hasCollide = Week.hasCollide(binaryMap[i - 1], startTime, endTime);\n\n                        if (hasCollide) {\n                            viewModel.hasCollide = true;\n                            break;\n                        }\n\n                        viewModel.extraSpace += 1;\n                    }\n                });\n            });\n        });\n    },\n\n    /**\n     * create view model for time view part\n     * @this Base\n     * @param {Date} start - start date.\n     * @param {Date} end - end date.\n     * @param {Collection} time - view model collection.\n     * @param {number} hourStart - start hour to be shown\n     * @param {number} hourEnd - end hour to be shown\n     * @returns {object} view model for time part.\n     */\n    getViewModelForTimeView: function(start, end, time, hourStart, hourEnd) {\n        var self = this,\n            ymdSplitted = this.splitScheduleByDateRange(start, end, time),\n            result = {};\n\n        var _getViewModel = Week._makeGetViewModelFuncForTimeView(hourStart, hourEnd);\n\n        util.forEach(ymdSplitted, function(collection, ymd) {\n            var viewModels = _getViewModel(collection);\n            var collisionGroups, matrices;\n\n            collisionGroups = self.Core.getCollisionGroup(viewModels);\n            matrices = self.Core.getMatrices(collection, collisionGroups);\n            self.Week.getCollides(matrices);\n\n            result[ymd] = matrices;\n        });\n\n        return result;\n    },\n\n    /**\n     * make view model function depending on start and end hour\n     * if time view option has start or end hour condition\n     * it add filter\n     * @param {number} hourStart - start hour to be shown\n     * @param {number} hourEnd - end hour to be shown\n     * @returns {function} function\n     */\n    _makeGetViewModelFuncForTimeView: function(hourStart, hourEnd) {\n        if (hourStart === 0 && hourEnd === 24) {\n            return function(collection) {\n                return collection.sort(array.compare.schedule.asc);\n            };\n        }\n\n        return function(collection) {\n            return collection.find(Week._makeHourRangeFilter(hourStart, hourEnd))\n                .sort(array.compare.schedule.asc);\n        };\n    },\n\n    /**\n     * make a filter function that is not included range of start, end hour\n     * @param {number} hStart - hour start\n     * @param {number} hEnd - hour end\n     * @returns {function} - filtering function\n     */\n    _makeHourRangeFilter: function(hStart, hEnd) {\n        // eslint-disable-next-line complexity\n        return function(schedule) {\n            var ownHourStart = schedule.model.start;\n            var ownHourEnd = schedule.model.end;\n            var yyyy = ownHourStart.getFullYear();\n            var mm = ownHourStart.getMonth();\n            var dd = ownHourStart.getDate();\n\n            var hourStart = new TZDate(yyyy, mm, dd).setHours(hStart);\n            var hourEnd = new TZDate(yyyy, mm, dd).setHours(hEnd);\n\n            return (ownHourStart >= hourStart && ownHourStart < hourEnd) ||\n                (ownHourEnd > hourStart && ownHourEnd <= hourEnd) ||\n                (ownHourStart < hourStart && ownHourEnd > hourStart) ||\n                (ownHourEnd > hourEnd && ownHourStart < hourEnd);\n        };\n    },\n\n    /**********\n     * ALLDAY VIEW\n     **********/\n\n    /**\n     * Set hasMultiDates flag to true and set date ranges for rendering\n     * @this Base\n     * @param {Collection} vColl - view model collection\n     */\n    _addMultiDatesInfo: function(vColl) {\n        vColl.each(function(viewModel) {\n            var model = viewModel.model;\n            var start = model.getStarts();\n            var end = model.getEnds();\n\n            viewModel.hasMultiDates = true;\n            viewModel.renderStarts = datetime.start(start);\n            viewModel.renderEnds = datetime.renderEnd(start, end);\n        });\n    },\n\n    /**\n     * create view model for allday view part\n     * @this Base\n     * @param {Date} start start date.\n     * @param {Date} end end date.\n     * @param {Collection} viewModelColl - allday schedule viewModel viewModels.\n     * @returns {object} allday viewModel.\n     */\n    getViewModelForAlldayView: function(start, end, viewModelColl) {\n        var ctrlCore = this.Core,\n            ctrlWeek = this.Week,\n            viewModels,\n            collisionGroups,\n            matrices;\n\n        if (!viewModelColl || !viewModelColl.length) {\n            return [];\n        }\n\n        ctrlWeek._addMultiDatesInfo(viewModelColl);\n        ctrlCore.limitRenderRange(start, end, viewModelColl);\n\n        viewModels = viewModelColl.sort(array.compare.schedule.asc);\n        collisionGroups = ctrlCore.getCollisionGroup(viewModels);\n\n        matrices = ctrlCore.getMatrices(viewModelColl, collisionGroups);\n        ctrlCore.positionViewModels(start, end, matrices);\n\n        return matrices;\n    },\n\n    /**********\n     * READ\n     **********/\n\n    /**\n     * Populate schedules in date range.\n     * @this Base\n     * @param {Date} start start date.\n     * @param {Date} end end date.\n     * @param {Array.<object>} panels - schedule panels like \'milestone\', \'task\', \'allday\', \'time\'\n     * @param {function[]} [andFilters] - optional filters to applying search query\n     * @param {Object} options - week view options\n     * @returns {object} schedules grouped by dates.\n     */\n    findByDateRange: function(start, end, panels, andFilters, options) {\n        var ctrlCore = this.Core,\n            ctrlWeek = this.Week,\n            filter = ctrlCore.getScheduleInDateRangeFilter(start, end),\n            scheduleTypes = util.pluck(panels, \'name\'),\n            hourStart = util.pick(options, \'hourStart\'),\n            hourEnd = util.pick(options, \'hourEnd\'),\n            modelColl,\n            group;\n\n        andFilters = andFilters || [];\n        filter = Collection.and.apply(null, [filter].concat(andFilters));\n\n        modelColl = this.schedules.find(filter);\n        modelColl = ctrlCore.convertToViewModel(modelColl);\n\n        group = modelColl.groupBy(scheduleTypes, this.groupFunc);\n        util.forEach(panels, function(panel) {\n            var name = panel.name;\n            if (panel.type === \'daygrid\') {\n                group[name] = ctrlWeek.getViewModelForAlldayView(start, end, group[name]);\n            } else if (panel.type === \'timegrid\') {\n                group[name] = ctrlWeek.getViewModelForTimeView(start, end, group[name], hourStart, hourEnd);\n            }\n        });\n\n        return group;\n    },\n\n    /* eslint max-nested-callbacks: 0 */\n    /**\n     * Make exceed date information\n     * @param {number} maxCount - exceed schedule count\n     * @param {Array} eventsInDateRange  - matrix of ScheduleViewModel\n     * @param {Array.<TZDate>} range - date range of one week\n     * @returns {object} exceedDate\n     */\n    getExceedDate: function(maxCount, eventsInDateRange, range) {\n        var exceedDate = {};\n\n        util.forEach(range, function(date) {\n            var ymd = datetime.format(date, \'YYYYMMDD\');\n            exceedDate[ymd] = 0;\n        });\n\n        util.forEach(eventsInDateRange, function(matrix) {\n            util.forEach(matrix, function(column) {\n                util.forEach(column, function(viewModel) {\n                    var period;\n                    if (!viewModel || viewModel.top < maxCount) {\n                        return;\n                    }\n\n                    period = datetime.range(\n                        viewModel.getStarts(),\n                        viewModel.getEnds(),\n                        datetime.MILLISECONDS_PER_DAY\n                    );\n\n                    util.forEach(period, function(date) {\n                        var ymd = datetime.format(date, \'YYYYMMDD\');\n                        exceedDate[ymd] += 1;\n                    });\n                });\n            });\n        });\n\n        return exceedDate;\n    },\n\n    /**\n     * Exclude overflow schedules from matrices\n     * @param {array} matrices - The matrices for schedule placing.\n     * @param {number} visibleScheduleCount - maximum visible count on panel\n     * @returns {array} - The matrices for schedule placing except overflowed schedules.\n     */\n    excludeExceedSchedules: function(matrices, visibleScheduleCount) {\n        return matrices.map(function(matrix) {\n            return matrix.map(function(row) {\n                if (row.length > visibleScheduleCount) {\n                    return row.filter(function(item) {\n                        return item.top < visibleScheduleCount;\n                    }, this);\n                }\n\n                return row;\n            }, this);\n        }, this);\n    }\n};\n\nmodule.exports = Week;\n\n\n/***/ }),\n\n/***/ "./src/js/factory/calendar.js":\n/*!************************************!*\\\n  !*** ./src/js/factory/calendar.js ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_340688__) {\n\n"use strict";\n/**\n * @fileoverview Factory module for control all other factory.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar GA_TRACKING_ID = \'UA-129951699-1\';\n\nvar util = __nested_webpack_require_340688__(/*! tui-code-snippet */ "tui-code-snippet"),\n    Handlebars = __nested_webpack_require_340688__(/*! handlebars-template-loader/runtime */ "./node_modules/handlebars-template-loader/runtime/index.js");\nvar dw = __nested_webpack_require_340688__(/*! ../common/dw */ "./src/js/common/dw.js");\nvar datetime = __nested_webpack_require_340688__(/*! ../common/datetime */ "./src/js/common/datetime.js");\nvar Layout = __nested_webpack_require_340688__(/*! ../view/layout */ "./src/js/view/layout.js");\nvar Drag = __nested_webpack_require_340688__(/*! ../handler/drag */ "./src/js/handler/drag.js");\nvar controllerFactory = __nested_webpack_require_340688__(/*! ./controller */ "./src/js/factory/controller.js");\nvar weekViewFactory = __nested_webpack_require_340688__(/*! ./weekView */ "./src/js/factory/weekView.js");\nvar monthViewFactory = __nested_webpack_require_340688__(/*! ./monthView */ "./src/js/factory/monthView.js");\nvar tz = __nested_webpack_require_340688__(/*! ../common/timezone */ "./src/js/common/timezone.js");\nvar TZDate = tz.Date;\nvar config = __nested_webpack_require_340688__(/*! ../config */ "./src/js/config.js");\nvar reqAnimFrame = __nested_webpack_require_340688__(/*! ../common/reqAnimFrame */ "./src/js/common/reqAnimFrame.js");\n\nvar mmin = Math.min;\n\n/**\n * Schedule information\n * @typedef {object} Schedule\n * @property {string} [id] - The unique schedule id depends on calendar id\n * @property {string} calendarId - The unique calendar id\n * @property {string} [title] - The schedule title\n * @property {string} [body] - The schedule body text which is text/plain\n * @property {string|TZDate} [start] - The start time. It\'s \'string\' for input. It\'s \'TZDate\' for output like event handler.\n * @property {string|TZDate} [end] - The end time. It\'s \'string\' for input. It\'s \'TZDate\' for output like event handler.\n * @property {number} [goingDuration] - The travel time: Going duration minutes\n * @property {number} [comingDuration] - The travel time: Coming duration minutes\n * @property {boolean} [isAllDay] - The all day schedule\n * @property {string} [category] - The schedule type(\'milestone\', \'task\', allday\', \'time\')\n * @property {string} [dueDateClass] - The task schedule type string\n *                                   (any string value is ok and mandatory if category is \'task\')\n * @property {string} [location] - The location\n * @property {Array.<string>} [attendees] - The attendees\n * @property {string} [recurrenceRule] - The recurrence rule\n * @property {boolean} [isPending] - The in progress flag to do something like network job(The schedule will be transparent.)\n * @property {boolean} [isFocused] - The focused schedule flag\n * @property {boolean} [isVisible] - The schedule visibility flag\n * @property {boolean} [isReadOnly] - The schedule read-only flag\n * @property {boolean} [isPrivate] - The private schedule\n * @property {string} [color] - The schedule text color\n * @property {string} [bgColor] - The schedule background color\n * @property {string} [dragBgColor] - The schedule background color when dragging it\n * @property {string} [borderColor] - The schedule left border color\n * @property {string} [customStyle] - The schedule\'s custom css class\n * @property {any} [raw] - The user data\n * @property {string} [state] - The schedule\'s state (\'busy\', \'free\')\n */\n\n/**\n * Template functions to support customer renderer\n * @typedef {object} Template\n * @property {function} [milestoneTitle] - The milestone title(at left column) template function\n * @property {function} [milestone] - The milestone template function\n * @property {function} [taskTitle] - The task title(at left column) template function\n * @property {function} [task] - The task template function\n * @property {function} [alldayTitle] - The allday title(at left column) template function\n * @property {function} [allday] - The allday template function\n * @property {function} [time] - The time template function\n * @property {function} [goingDuration] - The travel time(going duration) template function\n * @property {function} [comingDuration] - The travel time(coming duration) template function\n * @property {function} [monthMoreTitleDate] - The month more layer title template function\n * @property {function} [monthMoreClose] - The month more layer close button template function\n * @property {function} [monthGridHeader] - The month grid header(date, decorator, title) template function\n * @property {function} [monthGridHeaderExceed] - The month grid header(exceed schedule count) template function\n * @property {function} [monthGridFooter] - The month grid footer(date, decorator, title) template function\n * @property {function} [monthGridFooterExceed] - The month grid footer(exceed schedule count) template function\n * @property {function} [monthDayname] - The monthly dayname template function\n * @property {function} [weekDayname] - The weekly dayname template function\n * @property {function} [weekGridFooterExceed] - The week/day grid footer(exceed schedule count) template function\n * @property {function} [dayGridTitle] - The week/day grid title template function(e.g. milestone, task, allday)\n * @property {function} [schedule] - The week/day schedule template function(When the schedule category attribute is milestone, task, or all day)\n * @property {function} [collapseBtnTitle] - The week/day (exceed schedule more view) collapse button title template function\n * @property {function} [timezoneDisplayLabel] - The timezone display label template function in time grid\n * @property {function} [timegridDisplayPrimayTime] - Deprecated: use \'timegridDisplayPrimaryTime\'\n * @property {function} [timegridDisplayPrimaryTime] - The display label template function of primary timezone in time grid\n * @property {function} [timegridDisplayTime] - The display time template function in time grid\n * @property {function} [timegridCurrentTime] - The current time template function in time grid\n * @property {function} [popupIsAllDay] - The all day checkbox label text template function in the default creation popup\n * @property {function} [popupStateFree] - The free option template function in the state select box of the default creation popup\n * @property {function} [popupStateBusy] - The busy option template function in the state select box of the default creation popup\n * @property {function} [titlePlaceholder] - The title input placeholder text template function in the default creation popup\n * @property {function} [locationPlaceholder] - The location input placeholder text template function in the default creation popup\n * @property {function} [startDatePlaceholder] - The start date input placeholder text template function in the default creation popup\n * @property {function} [endDatePlaceholder] - The end date input placeholder text template function in the default creation popup\n * @property {function} [popupSave] - The \'Save\' button text template function in the default creation popup\n * @property {function} [popupUpdate] - The \'Update\' button text template function in the default creation popup when in edit mode\n * @property {function} [popupDetailDate] - The schedule date information\'s template function on the default detail popup\n * @property {function} [popupDetailLocation] - The schedule location text information\'s template function on the default detail popup\n * @property {function} [popupDetailUser] - The schedule user text information\'s template function on the default detail popup\n * @property {function} [popupDetailState] - The schedule state(busy or free) text information\'s template function on the default detail popup\n * @property {function} [popupDetailRepeat] - The schedule repeat information\'s template function on the default detail popup\n * @property {function} [popupDetailBody] - The schedule body text information\'s template function on the default detail popup\n * @property {function} [popupEdit] - The \'Edit\' button text template function on the default detail popup\n * @property {function} [popupDelete] - The \'Delete\' button text template function on the default detail popup\n * @example\n * var calendar = new tui.Calendar(document.getElementById(\'calendar\'), {\n *     ...\n *     template: {\n *         milestone: function(schedule) {\n *             return \'<span class="calendar-font-icon ic-milestone-b"></span> <span style="background-color: \' + schedule.bgColor + \'">\' + schedule.title + \'</span>\';\n *         },\n *         milestoneTitle: function() {\n *             return \'<span class="tui-full-calendar-left-content">MILESTONE</span>\';\n *         },\n *         task: function(schedule) {\n *             return \'#\' + schedule.title;\n *         },\n *         taskTitle: function() {\n *             return \'<span class="tui-full-calendar-left-content">TASK</span>\';\n *         },\n *         allday: function(schedule) {\n *             return getTimeTemplate(schedule, true);\n *         },\n *         alldayTitle: function() {\n *             return \'<span class="tui-full-calendar-left-content">ALL DAY</span>\';\n *         },\n *         time: function(schedule) {\n *             return \'<strong>\' + moment(schedule.start.getTime()).format(\'HH:mm\') + \'</strong> \' + schedule.title;\n *         },\n *         goingDuration: function(schedule) {\n *             return \'<span class="calendar-icon ic-travel-time"></span>\' + schedule.goingDuration + \'min.\';\n *         },\n *         comingDuration: function(schedule) {\n *             return \'<span class="calendar-icon ic-travel-time"></span>\' + schedule.comingDuration + \'min.\';\n *         },\n *         monthMoreTitleDate: function(date, dayname) {\n *             var day = date.split(\'.\')[2];\n *\n *             return \'<span class="tui-full-calendar-month-more-title-day">\' + day + \'</span> <span class="tui-full-calendar-month-more-title-day-label">\' + dayname + \'</span>\';\n *         },\n *         monthMoreClose: function() {\n *             return \'<span class="tui-full-calendar-icon tui-full-calendar-ic-close"></span>\';\n *         },\n *         monthGridHeader: function(dayModel) {\n *             var date = parseInt(dayModel.date.split(\'-\')[2], 10);\n *             var classNames = [\'tui-full-calendar-weekday-grid-date \'];\n *\n *             if (dayModel.isToday) {\n *                 classNames.push(\'tui-full-calendar-weekday-grid-date-decorator\');\n *             }\n *\n *             return \'<span class="\' + classNames.join(\' \') + \'">\' + date + \'</span>\';\n *         },\n *         monthGridHeaderExceed: function(hiddenSchedules) {\n *             return \'<span class="weekday-grid-more-schedules">+\' + hiddenSchedules + \'</span>\';\n *         },\n *         monthGridFooter: function() {\n *             return \'\';\n *         },\n *         monthGridFooterExceed: function(hiddenSchedules) {\n *             return \'\';\n *         },\n *         monthDayname: function(model) {\n *             return (model.label).toString().toLocaleUpperCase();\n *         },\n *         weekDayname: function(model) {\n *             return \'<span class="tui-full-calendar-dayname-date">\' + model.date + \'</span>&nbsp;&nbsp;<span class="tui-full-calendar-dayname-name">\' + model.dayName + \'</span>\';\n *         },\n *         weekGridFooterExceed: function(hiddenSchedules) {\n *             return \'+\' + hiddenSchedules;\n *         },\n *         dayGridTitle: function(viewName) {\n *\n *             // use another functions instead of \'dayGridTitle\'\n *             // milestoneTitle: function() {...}\n *             // taskTitle: function() {...}\n *             // alldayTitle: function() {...}\n *\n *             var title = \'\';\n *             switch(viewName) {\n *                 case \'milestone\':\n *                     title = \'<span class="tui-full-calendar-left-content">MILESTONE</span>\';\n *                     break;\n *                 case \'task\':\n *                     title = \'<span class="tui-full-calendar-left-content">TASK</span>\';\n *                     break;\n *                 case \'allday\':\n *                     title = \'<span class="tui-full-calendar-left-content">ALL DAY</span>\';\n *                     break;\n *             }\n *\n *             return title;\n *         },\n *         schedule: function(schedule) {\n *\n *             // use another functions instead of \'schedule\'\n *             // milestone: function() {...}\n *             // task: function() {...}\n *             // allday: function() {...}\n *\n *             var tpl;\n *\n *             switch(category) {\n *                 case \'milestone\':\n *                     tpl = \'<span class="calendar-font-icon ic-milestone-b"></span> <span style="background-color: \' + schedule.bgColor + \'">\' + schedule.title + \'</span>\';\n *                     break;\n *                 case \'task\':\n *                     tpl = \'#\' + schedule.title;\n *                     break;\n *                 case \'allday\':\n *                     tpl = getTimeTemplate(schedule, true);\n *                     break;\n *             }\n *\n *             return tpl;\n *         },\n *         collapseBtnTitle: function() {\n *             return \'<span class="tui-full-calendar-icon tui-full-calendar-ic-arrow-solid-top"></span>\';\n *         },\n *         timezoneDisplayLabel: function(timezoneOffset, displayLabel) {\n *             var gmt, hour, minutes;\n *\n *             if (!displayLabel) {\n *                 gmt = timezoneOffset < 0 ? \'-\' : \'+\';\n *                 hour = Math.abs(parseInt(timezoneOffset / 60, 10));\n *                 minutes = Math.abs(timezoneOffset % 60);\n *                 displayLabel = gmt + getPadStart(hour) + \':\' + getPadStart(minutes);\n *             }\n *\n *             return displayLabel;\n *         },\n *         timegridDisplayPrimayTime: function(time) {\n *             // will be deprecated. use \'timegridDisplayPrimaryTime\'\n *             var meridiem = \'am\';\n *             var hour = time.hour;\n *\n *             if (time.hour > 12) {\n *                 meridiem = \'pm\';\n *                 hour = time.hour - 12;\n *             }\n *\n *             return hour + \' \' + meridiem;\n *         },\n *         timegridDisplayPrimaryTime: function(time) {\n *             var meridiem = \'am\';\n *             var hour = time.hour;\n *\n *             if (time.hour > 12) {\n *                 meridiem = \'pm\';\n *                 hour = time.hour - 12;\n *             }\n *\n *             return hour + \' \' + meridiem;\n *         },\n *         timegridDisplayTime: function(time) {\n *             return getPadStart(time.hour) + \':\' + getPadStart(time.hour);\n *         },\n *         timegridCurrentTime: function(timezone) {\n *             var templates = [];\n *\n *             if (timezone.dateDifference) {\n *                 templates.push(\'[\' + timezone.dateDifferenceSign + timezone.dateDifference + \']<br>\');\n *             }\n *\n *             templates.push(moment(timezone.hourmarker).format(\'HH:mm a\'));\n *\n *             return templates.join(\'\');\n *         },\n *         popupIsAllDay: function() {\n *             return \'All Day\';\n *         },\n *         popupStateFree: function() {\n *             return \'Free\';\n *         },\n *         popupStateBusy: function() {\n *             return \'Busy\';\n *         },\n *         titlePlaceholder: function() {\n *             return \'Subject\';\n *         },\n *         locationPlaceholder: function() {\n *             return \'Location\';\n *         },\n *         startDatePlaceholder: function() {\n *             return \'Start date\';\n *         },\n *         endDatePlaceholder: function() {\n *             return \'End date\';\n *         },\n *         popupSave: function() {\n *             return \'Save\';\n *         },\n *         popupUpdate: function() {\n *             return \'Update\';\n *         },\n *         popupDetailDate: function(isAllDay, start, end) {\n *             var isSameDate = moment(start).isSame(end);\n *             var endFormat = (isSameDate ? \'\' : \'YYYY.MM.DD \') + \'hh:mm a\';\n *\n *             if (isAllDay) {\n *                 return moment(start).format(\'YYYY.MM.DD\') + (isSameDate ? \'\' : \' - \' + moment(end).format(\'YYYY.MM.DD\'));\n *             }\n *\n *             return (moment(start).format(\'YYYY.MM.DD hh:mm a\') + \' - \' + moment(end).format(endFormat));\n *         },\n *         popupDetailLocation: function(schedule) {\n *             return \'Location : \' + schedule.location;\n *         },\n *         popupDetailUser: function(schedule) {\n *             return \'User : \' + (schedule.attendees || []).join(\', \');\n *         },\n *         popupDetailState: function(schedule) {\n *             return \'State : \' + schedule.state || \'Busy\';\n *         },\n *         popupDetailRepeat: function(schedule) {\n *             return \'Repeat : \' + schedule.recurrenceRule;\n *         },\n *         popupDetailBody: function(schedule) {\n *             return \'Body : \' + schedule.body;\n *         },\n *         popupEdit: function() {\n *             return \'Edit\';\n *         },\n *         popupDelete: function() {\n *             return \'Delete\';\n *         }\n *     }\n * }\n */\n\n/**\n * Options for daily, weekly view.\n * @typedef {object} WeekOptions\n * @property {number} [startDayOfWeek=0] - The start day of week,\n * @property {Array.<string>} [daynames] - The day names in weekly and daily. Default values are [\'Sun\', \'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\', \'Sat\']\n * @property {boolean} [narrowWeekend=false] - Make weekend column narrow(1/2 width)\n * @property {boolean} [workweek=false] - Show only 5 days except for weekend\n * @property {boolean} [showTimezoneCollapseButton=false] - Show a collapse button to close multiple timezones\n * @property {boolean} [timezonesCollapsed=false] - An initial multiple timezones collapsed state\n * @property {number} [hourStart=0] - Can limit of render hour start.\n * @property {number} [hourEnd=24] - Can limit of render hour end.\n */\n\n/**\n * Options for monthly view.\n * @typedef {object} MonthOptions\n * @property {Array.<string>} [daynames] - The day names in monthly. Default values are [\'Sun\', \'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\', \'Sat\']\n * @property {number} [startDayOfWeek=0] - The start day of week\n * @property {boolean} [narrowWeekend=false] - Make weekend column narrow(1/2 width)\n * @property {number} [visibleWeeksCount=6] - The visible week count in monthly(0 or null are same with 6)\n * @property {boolean} [isAlways6Week=true] - Always show 6 weeks. If false, show 5 weeks or 6 weeks based on the month.\n * @property {boolean} [workweek=false] - Show only 5 days except for weekend\n * @property {number} [visibleScheduleCount] - The visible schedule count in monthly grid\n * @property {object} [moreLayerSize] - The more layer size\n * @property {object} [moreLayerSize.width=null] - The css width value(px, \'auto\').\n *                                                  The default value \'null\' is to fit a grid cell.\n * @property {object} [moreLayerSize.height=null] - The css height value(px, \'auto\').\n *                                                   The default value \'null\' is to fit a grid cell.\n * @property {object} [grid] - The grid\'s header and footer information\n *  @property {object} [grid.header] - The grid\'s header informatioin\n *   @property {number} [grid.header.height=34] - The grid\'s header height\n *  @property {object} [grid.footer] - The grid\'s footer informatioin\n *   @property {number} [grid.footer.height=34] - The grid\'s footer height\n * @property {function} [scheduleFilter=null] - The filter schedules on month view. A parameter is {Schedule} object.\n */\n\n/**\n * @typedef {object} CalendarColor\n * @property {string} [color] - The calendar color\n * @property {string} [bgColor] - The calendar background color\n * @property {string} [borderColor] - The calendar left border color\n * @property {string} [dragBgColor] - The Background color displayed when you drag a calendar\'s schedule\n */\n\n/**\n * @typedef {object} Timezone\n * @property {Array.<Zone>} [zones] - {@link Zone} array. Set the list of time zones.\n *  The first zone element is primary\n *  The rest zone elements are shown in left timegrid of weekly/daily view\n * @property {function} [offsetCalculator = null] - If you define the \'offsetCalculator\' property, the offset calculation is done with this function.\n * The offsetCalculator option allows you to set up a function that returns the timezone offset for that time using date libraries like [\'js-joda\'](https://js-joda.github.io/js-joda/) and [\'moment-timezone\'](https://momentjs.com/timezone/).\n * The \'offsetCalculator\' option is useful when your browser does not support \'Intl.DateTimeFormat\' and \'formatToPart\', or you want to use the date library you are familiar with.\n *\n * @example\n * var cal = new Calendar(\'#calendar\', {\n *   timezone: {\n *     zones: [\n *       {\n *         timezoneName: \'Asia/Seoul\',\n *         displayLabel: \'GMT+09:00\',\n *         tooltip: \'Seoul\'\n *       },\n *       {\n *         timezoneName: \'America/New_York\',\n *         displayLabel: \'GMT-05:00\',\n *         tooltip: \'New York\',\n *       }\n *     ],\n *     offsetCalculator: function(timezoneName, timestamp){\n *       // matches \'getTimezoneOffset()\' of Date API\n *       // e.g. +09:00 => -540, -04:00 => 240\n *       return moment.tz.zone(timezoneName).utcOffset(timestamp);\n *     },\n *   }\n * });\n */\n\n/**\n * @typedef {object} Zone\n * @property {string} [timezoneName] - timezone name (time zone names of the IANA time zone database, such as \'Asia/Seoul\', \'America/New_York\').\n *  Basically, it will calculate the offset using \'Intl.DateTimeFormat\' with the value of the this property entered.\n *  This property is required.\n * @property {string} [displayLabel] -  The display label of your timezone at weekly/daily view(e.g. \'GMT+09:00\')\n * @property {string} [tooltip] -  The tooltip(e.g. \'Seoul\')\n * @property {number} [timezoneOffset] - The minutes for your timezone offset. If null, use the browser\'s timezone. Refer to Date.prototype.getTimezoneOffset().\n *  This property will be deprecated. (since version 1.13)\n *\n * @example\n * var cal = new Calendar(\'#calendar\', {\n *   timezone: {\n *     zones: [\n *       {\n *         timezoneName: \'Asia/Seoul\',\n *         displayLabel: \'GMT+09:00\',\n *         tooltip: \'Seoul\'\n *       },\n *       {\n *         timezoneName: \'America/New_York\',\n *         displayLabel: \'GMT-05:00\',\n *         tooltip: \'New York\',\n *       }\n *     ],\n *   }\n * });\n */\n\n/**\n * @typedef {object} CalendarProps\n * @property {string|number} id - The calendar id\n * @property {string} name - The calendar name\n * @property {string} color - The text color when schedule is displayed\n * @property {string} bgColor - The background color schedule is displayed\n * @property {string} borderColor - The color of left border or bullet point when schedule is displayed\n * @property {string} dragBgColor - The background color when schedule dragging\n * @example\n * var cal = new Calendar(\'#calendar\', {\n *   ...\n *   calendars: [\n *     {\n *       id: \'1\',\n *       name: \'My Calendar\',\n *       color: \'#ffffff\',\n *       bgColor: \'#9e5fff\',\n *       dragBgColor: \'#9e5fff\',\n *       borderColor: \'#9e5fff\'\n *     },\n *     {\n *       id: \'2\',\n *       name: \'Company\',\n *       color: \'#00a9ff\',\n *       bgColor: \'#00a9ff\',\n *       dragBgColor: \'#00a9ff\',\n *       borderColor: \'#00a9ff\'\n *     },\n *   ]\n * });\n */\n\n/**\n * @typedef {object} Options - Calendar option object\n * @property {string} [defaultView=\'week\'] - Default view of calendar. The default value is \'week\'.\n * @property {boolean|Array.<string>} [taskView=true] - Show the milestone and task in weekly, daily view. The default value is true. If the value is array, it can be &#91;\'milestone\', \'task\'&#93;.\n * @property {boolean|Array.<string>} [scheduleView=true] - Show the all day and time grid in weekly, daily view. The default value is false. If the value is array, it can be &#91;\'allday\', \'time\'&#93;.\n * @property {themeConfig} [theme=themeConfig] - {@link themeConfig} for custom style.\n * @property {Template} [template={}] - {@link Template} for further information\n * @property {WeekOptions} [week={}] - {@link WeekOptions} for week view\n * @property {MonthOptions} [month={}] - {@link MonthOptions} for month view\n * @property {Array.<CalendarProps>} [calendars=[]] - {@link CalendarProps} List that can be used to add new schedule. The default value is [].\n * @property {boolean} [useCreationPopup=false] - Whether use default creation popup or not. The default value is false.\n * @property {boolean} [useDetailPopup=false] - Whether use default detail popup or not. The default value is false.\n * @property {Timezone} [timezone] - {@link Timezone} - Set a custom time zone. You can add secondary timezone in the weekly/daily view.\n * @property {boolean} [disableDblClick=false] - Disable double click to create a schedule. The default value is false.\n * @property {boolean} [disableClick=false] - Disable click to create a schedule. The default value is false.\n * @property {boolean} [isReadOnly=false] - {@link Calendar} is read-only mode and a user can\'t create and modify any schedule. The default value is false.\n * @property {boolean} [usageStatistics=true] - Let us know the hostname. If you don\'t want to send the hostname, please set to false.\n * @property {Array.<Timezone>} [timezones] - This property will be deprecated. (since version 1.13) Please use timezone property.\n */\n\n/**\n * {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents CustomEvents} document at {@link https://github.com/nhn/tui.code-snippet tui-code-snippet}\n * @typedef {class} CustomEvents\n */\n\n/**\n * @typedef {object} TimeCreationGuide - Time creation guide instance to present selected time period\n * @property {HTMLElement} guideElement - Guide element\n * @property {Object.<string, HTMLElement>} guideElements - Map by key. It can be used in monthly view\n * @property {function} clearGuideElement - Hide the creation guide\n * @example\n * calendar.on(\'beforeCreateSchedule\', function(event) {\n *     var guide = event.guide;\n *     // Use guideEl$\'s left, top to locate your schedule creation popup\n *     var guideEl$ = guide.guideElement ?\n *          guide.guideElement : guide.guideElements[Object.keys(guide.guideElements)[0]];\n *\n *     // After that call this to hide the creation guide\n *     guide.clearGuideElement();\n * });\n */\n\n/**\n * Calendar class\n * @constructor\n * @mixes CustomEvents\n * @param {HTMLElement|string} container - The container element or selector id\n * @param {Options} options - The calendar {@link Options} object\n * @example\n * var calendar = new tui.Calendar(document.getElementById(\'calendar\'), {\n *     defaultView: \'week\',\n *     taskView: true,    // Can be also [\'milestone\', \'task\']\n *     scheduleView: true,  // Can be also [\'allday\', \'time\']\n *     template: {\n *         milestone: function(schedule) {\n *             return \'<span style="color:red;"><i class="fa fa-flag"></i> \' + schedule.title + \'</span>\';\n *         },\n *         milestoneTitle: function() {\n *             return \'Milestone\';\n *         },\n *         task: function(schedule) {\n *             return \'&nbsp;&nbsp;#\' + schedule.title;\n *         },\n *         taskTitle: function() {\n *             return \'<label><input type="checkbox" />Task</label>\';\n *         },\n *         allday: function(schedule) {\n *             return schedule.title + \' <i class="fa fa-refresh"></i>\';\n *         },\n *         alldayTitle: function() {\n *             return \'All Day\';\n *         },\n *         time: function(schedule) {\n *             return schedule.title + \' <i class="fa fa-refresh"></i>\' + schedule.start;\n *         }\n *     },\n *     month: {\n *         daynames: [\'Sun\', \'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\', \'Sat\'],\n *         startDayOfWeek: 0,\n *         narrowWeekend: true\n *     },\n *     week: {\n *         daynames: [\'Sun\', \'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\', \'Sat\'],\n *         startDayOfWeek: 0,\n *         narrowWeekend: true\n *     }\n * });\n */\nfunction Calendar(container, options) {\n    options = util.extend(\n        {\n            usageStatistics: true\n        },\n        options\n    );\n\n    if (options.usageStatistics === true && util.sendHostname) {\n        util.sendHostname(\'calendar\', GA_TRACKING_ID);\n    }\n\n    if (util.isString(container)) {\n        container = document.querySelector(container);\n    }\n\n    /**\n     * Calendar color map\n     * @type {object}\n     * @private\n     */\n    this._calendarColor = {};\n\n    /**\n     * Current rendered date\n     * @type {TZDate}\n     * @private\n     */\n    this._renderDate = datetime.start();\n\n    /**\n     * start and end date of weekly, monthly\n     * @type {object}\n     * @private\n     */\n    this._renderRange = {\n        start: null,\n        end: null\n    };\n\n    /**\n     * base controller\n     * @type {Base}\n     * @private\n     */\n    this._controller = _createController(options);\n    this._controller.setCalendars(options.calendars);\n\n    /**\n     * layout view (layout manager)\n     * @type {Layout}\n     * @private\n     */\n    this._layout = new Layout(container, this._controller.theme);\n\n    /**\n     * global drag handler\n     * @type {Drag}\n     * @private\n     */\n    this._dragHandler = new Drag({distance: 10}, this._layout.container);\n\n    /**\n     * current rendered view name. (\'day\', \'week\', \'month\')\n     * @type {string}\n     * @default \'week\'\n     * @private\n     */\n    this._viewName = options.defaultView || \'week\';\n\n    /**\n     * Refresh method. it can be ref different functions for each view modes.\n     * @type {function}\n     * @private\n     */\n    this._refreshMethod = null;\n\n    /**\n     * Scroll to now. It can be called for \'week\', \'day\' view modes.\n     * @type {function}\n     * @private\n     */\n    this._scrollToNowMethod = null;\n\n    /**\n     * It\'s true if Calendar.prototype.scrollToNow() is called.\n     * @type {boolean}\n     * @private\n     */\n    this._requestScrollToNow = false;\n\n    /**\n     * Open schedule creation popup\n     * @type {function}\n     * @private\n     */\n    this._openCreationPopup = null;\n\n    /**\n     * Hide the more view\n     * @type {function}\n     * @private\n     */\n    this._hideMoreView = null;\n\n    /**\n     * Unique id for requestAnimFrame()\n     * @type {number}\n     * @private\n     */\n    this._requestRender = 0;\n\n    /**\n     * calendar options\n     * @type {Options}\n     * @private\n     */\n    this._options = {};\n\n    this._initialize(options);\n}\n\n/**\n * destroy calendar instance.\n */\nCalendar.prototype.destroy = function() {\n    this._dragHandler.destroy();\n    this._controller.off();\n    this._layout.clear();\n    this._layout.destroy();\n\n    util.forEach(this._options.template, function(func, name) {\n        if (func) {\n            Handlebars.unregisterHelper(name + \'-tmpl\');\n        }\n    });\n\n    this._options = this._renderDate = this._controller\n        = this._layout = this._dragHandler = this._viewName = this._refreshMethod\n        = this._scrollToNowMethod = null;\n};\n\n/**\n * Initialize calendar\n * @param {Options} options - calendar options\n * @private\n */\n// eslint-disable-next-line complexity\nCalendar.prototype._initialize = function(options) {\n    var controller = this._controller,\n        viewName = this._viewName;\n\n    this._options = util.extend(\n        {\n            defaultView: viewName,\n            taskView: true,\n            scheduleView: true,\n            template: util.extend(\n                {\n                    allday: null,\n                    time: null\n                },\n                util.pick(options, \'template\') || {}\n            ),\n            week: util.extend({}, util.pick(options, \'week\') || {}),\n            month: util.extend({}, util.pick(options, \'month\') || {}),\n            calendars: [],\n            useCreationPopup: false,\n            useDetailPopup: false,\n            timezones: options.timezone && options.timezone.zones ? options.timezone.zones : [],\n            disableDblClick: false,\n            disableClick: false,\n            isReadOnly: false\n        },\n        options\n    );\n\n    this._options.week = util.extend(\n        {\n            startDayOfWeek: 0,\n            workweek: false\n        },\n        util.pick(this._options, \'week\') || {}\n    );\n\n    this._options.timezone = util.extend({zones: []}, util.pick(options, \'timezone\') || {});\n\n    this._options.month = util.extend(\n        {\n            startDayOfWeek: 0,\n            workweek: false,\n            scheduleFilter: function(schedule) {\n                return (\n                    Boolean(schedule.isVisible) &&\n                    (schedule.category === \'allday\' || schedule.category === \'time\')\n                );\n            }\n        },\n        util.pick(options, \'month\') || {}\n    );\n\n    if (this._options.isReadOnly) {\n        this._options.useCreationPopup = false;\n    }\n\n    this._layout.controller = controller;\n\n    this._setAdditionalInternalOptions(this._options);\n\n    this.changeView(viewName, true);\n};\n\n/**\n * Set additional internal options\n * 1. Register to the template handlebar\n * 2. Update the calendar list and set the color of the calendar.\n * 3. Change the primary timezone offset of the timezones.\n * @param {Options} options - calendar options\n * @private\n */\nCalendar.prototype._setAdditionalInternalOptions = function(options) {\n    var timezone = options.timezone;\n    var zones, offsetCalculator;\n\n    util.forEach(options.template, function(func, name) {\n        if (func) {\n            Handlebars.registerHelper(name + \'-tmpl\', func);\n        }\n    });\n\n    util.forEach(\n        options.calendars || [],\n        function(calendar) {\n            this.setCalendarColor(calendar.id, calendar, true);\n        },\n        this\n    );\n\n    if (timezone) {\n        offsetCalculator = timezone.offsetCalculator;\n\n        if (util.isFunction(offsetCalculator)) {\n            tz.setOffsetCalculator(offsetCalculator);\n        }\n\n        zones = timezone.zones;\n\n        if (zones.length) {\n            tz.setPrimaryTimezoneByOption(zones[0]);\n\n            if (util.isNumber(zones[0].timezoneOffset)) {\n                // @deprecated timezoneOffset property will be deprecated. use timezone property\n                tz.setOffsetByTimezoneOption(zones[0].timezoneOffset);\n            }\n        }\n    }\n};\n\n/**********\n * CRUD Methods\n **********/\n\n/**\n * Create schedules and render calendar.\n * @param {Array.<Schedule>} schedules - {@link Schedule} data list\n * @param {boolean} [silent=false] - no auto render after creation when set true\n * @example\n * calendar.createSchedules([\n *     {\n *         id: \'1\',\n *         calendarId: \'1\',\n *         title: \'my schedule\',\n *         category: \'time\',\n *         dueDateClass: \'\',\n *         start: \'2018-01-18T22:30:00+09:00\',\n *         end: \'2018-01-19T02:30:00+09:00\'\n *     },\n *     {\n *         id: \'2\',\n *         calendarId: \'1\',\n *         title: \'second schedule\',\n *         category: \'time\',\n *         dueDateClass: \'\',\n *         start: \'2018-01-18T17:30:00+09:00\',\n *         end: \'2018-01-19T17:31:00+09:00\'\n *     }\n * ]);\n */\nCalendar.prototype.createSchedules = function(schedules, silent) {\n    util.forEach(\n        schedules,\n        function(obj) {\n            this._setScheduleColor(obj.calendarId, obj);\n        },\n        this\n    );\n\n    this._controller.createSchedules(schedules, silent);\n\n    if (!silent) {\n        this.render();\n    }\n};\n\n/**\n * Get a {@link Schedule} object by schedule id and calendar id.\n * @param {string} scheduleId - ID of schedule\n * @param {string} calendarId - calendarId of the schedule\n * @returns {Schedule} schedule object\n * @example\n * var schedule = calendar.getSchedule(scheduleId, calendarId);\n * console.log(schedule.title);\n */\nCalendar.prototype.getSchedule = function(scheduleId, calendarId) {\n    return this._controller.schedules.single(function(model) {\n        return model.id === scheduleId && model.calendarId === calendarId;\n    });\n};\n\n/**\n * Update the schedule\n * @param {string} scheduleId - ID of the original schedule to update\n * @param {string} calendarId - The calendarId of the original schedule to update\n * @param {object} changes - The {@link Schedule} properties and values with changes to update\n * @param {boolean} [silent=false] - No auto render after creation when set true\n * @example\n * calendar.updateSchedule(schedule.id, schedule.calendarId, {\n *     title: \'Changed schedule\',\n *     start: new Date(\'2019-11-05T09:00:00\'),\n *     end: new Date(\'2019-11-05T10:00:00\'),\n *     category: \'time\'\n * });\n */\nCalendar.prototype.updateSchedule = function(scheduleId, calendarId, changes, silent) {\n    var ctrl = this._controller,\n        ownSchedules = ctrl.schedules,\n        schedule = ownSchedules.single(function(model) {\n            return model.id === scheduleId && model.calendarId === calendarId;\n        });\n    var hasChangedCalendar = false;\n\n    if (!changes || !schedule) {\n        return;\n    }\n\n    hasChangedCalendar = this._hasChangedCalendar(schedule, changes);\n    changes = hasChangedCalendar ? this._setScheduleColor(changes.calendarId, changes) : changes;\n\n    ctrl.updateSchedule(schedule, changes);\n\n    if (!silent) {\n        this.render();\n    }\n};\n\nCalendar.prototype._hasChangedCalendar = function(schedule, changes) {\n    return schedule && changes.calendarId && schedule.calendarId !== changes.calendarId;\n};\n\nCalendar.prototype._setScheduleColor = function(calendarId, schedule) {\n    var calColor = this._calendarColor;\n    var color = calColor[calendarId];\n\n    if (color) {\n        schedule.color = schedule.color || color.color;\n        schedule.bgColor = schedule.bgColor || color.bgColor;\n        schedule.borderColor = schedule.borderColor || color.borderColor;\n        schedule.dragBgColor = schedule.dragBgColor || color.dragBgColor;\n    }\n\n    return schedule;\n};\n\n/**\n * Delete a schedule.\n * @param {string} scheduleId - ID of schedule to delete\n * @param {string} calendarId - The CalendarId of the schedule to delete\n * @param {boolean} [silent=false] - No auto render after creation when set true\n */\nCalendar.prototype.deleteSchedule = function(scheduleId, calendarId, silent) {\n    var ctrl = this._controller,\n        ownSchedules = ctrl.schedules,\n        schedule = ownSchedules.single(function(model) {\n            return model.id === scheduleId && model.calendarId === calendarId;\n        });\n\n    if (!schedule) {\n        return;\n    }\n\n    ctrl.deleteSchedule(schedule);\n    if (!silent) {\n        this.render();\n    }\n};\n\n/**********\n * Private Methods\n **********/\n\n/**\n * @param {string|Date} date - The Date to show in calendar\n * @param {number} [startDayOfWeek=0] - The Start day of week\n * @param {boolean} [workweek=false] - The only show work week\n * @returns {array} render range\n * @private\n */\nCalendar.prototype._getWeekDayRange = function(date, startDayOfWeek, workweek) {\n    var day;\n    var start;\n    var end;\n    var range;\n\n    startDayOfWeek = (startDayOfWeek || 0); // eslint-disable-line\n    date = util.isDate(date) ? date : new TZDate(date);\n    day = date.getDay();\n\n    // calculate default render range first.\n    start = new TZDate(date).addDate(-day + startDayOfWeek);\n\n    end = new TZDate(start).addDate(6);\n\n    if (day < startDayOfWeek) {\n        start = new TZDate(start).addDate(-7);\n        end = new TZDate(end).addDate(-7);\n    }\n\n    if (workweek) {\n        range = datetime.range(\n            datetime.start(start),\n            datetime.end(end),\n            datetime.MILLISECONDS_PER_DAY\n        );\n\n        range = util.filter(range, function(weekday) {\n            return !datetime.isWeekend(weekday.getDay());\n        });\n\n        start = range[0];\n        end = range[range.length - 1];\n    }\n\n    start = datetime.start(start);\n    end = datetime.start(end);\n\n    return [start, end];\n};\n\n/**\n * Toggle schedules\' visibility by calendar ID\n * @param {string} calendarId - The calendar id value\n * @param {boolean} toHide - Set true to hide schedules\n * @param {boolean} [render=true] - set true then render after change visible property each models\n */\nCalendar.prototype.toggleSchedules = function(calendarId, toHide, render) {\n    var ownSchedules = this._controller.schedules;\n\n    render = util.isExisty(render) ? render : true;\n    calendarId = util.isArray(calendarId) ? calendarId : [calendarId];\n\n    ownSchedules.each(function(schedule) {\n        if (~util.inArray(schedule.calendarId, calendarId)) {\n            schedule.set(\'isVisible\', !toHide);\n        }\n    });\n\n    if (render) {\n        this.render();\n    }\n};\n\n/**********\n * General Methods\n **********/\n\n/**\n * Render the calendar. The real rendering occurs after requestAnimationFrame.\n * If you have to render immediately, use the \'immediately\' parameter as true.\n * @param {boolean} [immediately=false] - Render it immediately\n * @example\n * var silent = true;\n * calendar.clear();\n * calendar.createSchedules(schedules, silent);\n * calendar.render();\n * @example\n * // Render a calendar when resizing a window.\n * window.addEventListener(\'resize\', function() {\n *     calendar.render();\n * });\n */\nCalendar.prototype.render = function(immediately) {\n    if (this._requestRender) {\n        reqAnimFrame.cancelAnimFrame(this._requestRender);\n    }\n\n    if (immediately) {\n        this._renderFunc();\n    } else {\n        this._requestRender = reqAnimFrame.requestAnimFrame(this._renderFunc, this);\n    }\n};\n\n/**\n * Render and refresh all layout and process requests.\n * @private\n */\nCalendar.prototype._renderFunc = function() {\n    if (this._refreshMethod) {\n        this._refreshMethod();\n    }\n    if (this._layout) {\n        this._layout.render();\n    }\n    if (this._scrollToNowMethod && this._requestScrollToNow) {\n        this._scrollToNowMethod();\n    }\n\n    this._requestScrollToNow = false;\n    this._requestRender = null;\n};\n\n/**\n * Delete all schedules and clear view. The real rendering occurs after requestAnimationFrame.\n * If you have to render immediately, use the \'immediately\' parameter as true.\n * @param {boolean} [immediately=false] - Render it immediately\n * @example\n * calendar.clear();\n * calendar.createSchedules(schedules, true);\n * calendar.render();\n */\nCalendar.prototype.clear = function(immediately) {\n    this._controller.clearSchedules();\n    this.render(immediately);\n};\n\n/**\n * Scroll to current time on today in case of daily, weekly view\n * @example\n * function onNewSchedules(schedules) {\n *     calendar.createSchedules(schedules);\n *     if (calendar.getViewName() !== \'month\') {\n *         calendar.scrollToNow();\n *     }\n * }\n */\nCalendar.prototype.scrollToNow = function() {\n    if (this._scrollToNowMethod) {\n        this._requestScrollToNow = true;\n        // this._scrollToNowMethod() will be called at next frame rendering.\n    }\n};\n\n/**\n * Move to today.\n * @example\n * function onClickTodayBtn() {\n *     calendar.today();\n * }\n */\nCalendar.prototype.today = function() {\n    this._renderDate = datetime.start();\n\n    this._setViewName(this._viewName);\n    this.move();\n    this.render();\n};\n\n/**\n * Move the calendar amount of offset value\n * @param {number} offset - The offset value.\n * @private\n * @example\n * // move previous week when "week" view.\n * // move previous month when "month" view.\n * calendar.move(-1);\n */\n// eslint-disable-next-line complexity\nCalendar.prototype.move = function(offset) {\n    var renderDate = dw(datetime.start(this._renderDate)),\n        viewName = this._viewName,\n        view = this._getCurrentView(),\n        recursiveSet = _setOptionRecurseively,\n        startDate,\n        endDate,\n        tempDate,\n        startDayOfWeek,\n        visibleWeeksCount,\n        workweek,\n        isAlways6Week,\n        datetimeOptions;\n\n    offset = util.isExisty(offset) ? offset : 0;\n\n    if (viewName === \'month\') {\n        startDayOfWeek = util.pick(this._options, \'month\', \'startDayOfWeek\') || 0;\n        visibleWeeksCount = mmin(util.pick(this._options, \'month\', \'visibleWeeksCount\') || 0, 6);\n        workweek = util.pick(this._options, \'month\', \'workweek\') || false;\n        isAlways6Week = util.pick(this._options, \'month\', \'isAlways6Week\');\n\n        if (visibleWeeksCount) {\n            datetimeOptions = {\n                startDayOfWeek: startDayOfWeek,\n                isAlways6Week: false,\n                visibleWeeksCount: visibleWeeksCount,\n                workweek: workweek\n            };\n\n            renderDate.addDate(offset * 7 * datetimeOptions.visibleWeeksCount);\n            tempDate = datetime.arr2dCalendar(renderDate.d, datetimeOptions);\n\n            recursiveSet(view, function(childView, opt) {\n                opt.renderMonth = new TZDate(renderDate.d);\n            });\n        } else {\n            datetimeOptions = {\n                startDayOfWeek: startDayOfWeek,\n                isAlways6Week: isAlways6Week,\n                workweek: workweek\n            };\n\n            renderDate.addMonth(offset);\n            tempDate = datetime.arr2dCalendar(renderDate.d, datetimeOptions);\n\n            recursiveSet(view, function(childView, opt) {\n                opt.renderMonth = new TZDate(renderDate.d);\n            });\n        }\n\n        startDate = tempDate[0][0];\n        endDate = tempDate[tempDate.length - 1][tempDate[tempDate.length - 1].length - 1];\n    } else if (viewName === \'week\') {\n        renderDate.addDate(offset * 7);\n        startDayOfWeek = util.pick(this._options, \'week\', \'startDayOfWeek\') || 0;\n        workweek = util.pick(this._options, \'week\', \'workweek\') || false;\n        tempDate = this._getWeekDayRange(renderDate.d, startDayOfWeek, workweek);\n\n        startDate = tempDate[0];\n        endDate = tempDate[1];\n\n        recursiveSet(view, function(childView, opt) {\n            opt.renderStartDate = new TZDate(startDate);\n            opt.renderEndDate = new TZDate(endDate);\n\n            childView.setState({\n                collapsed: true\n            });\n        });\n    } else if (viewName === \'day\') {\n        renderDate.addDate(offset);\n        startDate = datetime.start(renderDate.d);\n        endDate = datetime.end(renderDate.d);\n\n        recursiveSet(view, function(childView, opt) {\n            opt.renderStartDate = new TZDate(startDate);\n            opt.renderEndDate = new TZDate(endDate);\n\n            childView.setState({\n                collapsed: true\n            });\n        });\n    }\n\n    this._renderDate = renderDate.d;\n    this._renderRange = {\n        start: startDate,\n        end: endDate\n    };\n};\n\n/**\n * Move to specific date\n * @param {(Date|string)} date - The date to move\n * @example\n * calendar.on(\'clickDayname\', function(event) {\n *     if (calendar.getViewName() === \'week\') {\n *         calendar.setDate(new Date(event.date));\n *         calendar.changeView(\'day\', true);\n *     }\n * });\n */\nCalendar.prototype.setDate = function(date) {\n    if (util.isString(date)) {\n        date = datetime.parse(date);\n    }\n\n    this._renderDate = new TZDate(date);\n    this._setViewName(this._viewName);\n    this.move(0);\n    this.render();\n};\n\n/**\n * Move the calendar forward a day, a week, a month, 2 weeks, 3 weeks.\n * @example\n * function moveToNextOrPrevRange(val) {\n    if (val === -1) {\n        calendar.prev();\n    } else if (val === 1) {\n        calendar.next();\n    }\n}\n */\nCalendar.prototype.next = function() {\n    this.move(1);\n    this.render();\n};\n\n/**\n * Move the calendar backward a day, a week, a month, 2 weeks, 3 weeks.\n * @example\n * function moveToNextOrPrevRange(val) {\n    if (val === -1) {\n        calendar.prev();\n    } else if (val === 1) {\n        calendar.next();\n    }\n}\n */\nCalendar.prototype.prev = function() {\n    this.move(-1);\n    this.render();\n};\n\n/**\n * Return current rendered view.\n * @returns {View} current view instance\n * @private\n */\nCalendar.prototype._getCurrentView = function() {\n    var viewName = this._viewName;\n\n    if (viewName === \'day\') {\n        viewName = \'week\';\n    }\n\n    return util.pick(this._layout.children.items, viewName);\n};\n\n/**\n * Change calendar\'s schedule color with option\n * @param {string} calendarId - The calendar ID\n * @param {CalendarColor} option - The {@link CalendarColor} object\n * @param {boolean} [silent=false] - No auto render after creation when set true\n * @example\n * calendar.setCalendarColor(\'1\', {\n *     color: \'#e8e8e8\',\n *     bgColor: \'#585858\',\n *     borderColor: \'#a1b56c\'\n *     dragBgColor: \'#585858\',\n * });\n * calendar.setCalendarColor(\'2\', {\n *     color: \'#282828\',\n *     bgColor: \'#dc9656\',\n *     borderColor: \'#a1b56c\',\n *     dragBgColor: \'#dc9656\',\n * });\n * calendar.setCalendarColor(\'3\', {\n *     color: \'#a16946\',\n *     bgColor: \'#ab4642\',\n *     borderColor: \'#a1b56c\',\n *     dragBgColor: \'#ab4642\',\n * });\n */\nCalendar.prototype.setCalendarColor = function(calendarId, option, silent) {\n    var calColor = this._calendarColor,\n        ownSchedules = this._controller.schedules,\n        ownColor = calColor[calendarId];\n\n    if (!util.isObject(option)) {\n        config.throwError(\n            "Calendar#changeCalendarColor(): color 는 {color: \'\', bgColor: \'\'} 형태여야 합니다."\n        );\n    }\n\n    ownColor = calColor[calendarId] = util.extend(\n        {\n            color: \'#000\',\n            bgColor: \'#a1b56c\',\n            borderColor: \'#a1b56c\',\n            dragBgColor: \'#a1b56c\'\n        },\n        option\n    );\n\n    ownSchedules.each(function(model) {\n        if (model.calendarId !== calendarId) {\n            return;\n        }\n\n        model.color = ownColor.color;\n        model.bgColor = ownColor.bgColor;\n        model.borderColor = ownColor.borderColor;\n        model.dragBgColor = ownColor.dragBgColor;\n    });\n\n    if (!silent) {\n        this.render();\n    }\n};\n\n/**********\n * Custom Events\n **********/\n\n/**\n * A bridge-based event handler for connecting a click handler to a user click event handler for each view\n * @fires Calendar#clickSchedule\n * @param {object} clickScheduleData - The event data of \'clickSchedule\' handler\n * @private\n */\nCalendar.prototype._onClick = function(clickScheduleData) {\n    /**\n     * Fire this event when click a schedule.\n     * @event Calendar#clickSchedule\n     * @type {object}\n     * @property {Schedule} schedule - The {@link Schedule} instance\n     * @property {MouseEvent} event - MouseEvent\n     * @example\n     * calendar.on(\'clickSchedule\', function(event) {\n     *     var schedule = event.schedule;\n     *\n     *     if (lastClickSchedule) {\n     *         calendar.updateSchedule(lastClickSchedule.id, lastClickSchedule.calendarId, {\n     *             isFocused: false\n     *         });\n     *     }\n     *     calendar.updateSchedule(schedule.id, schedule.calendarId, {\n     *         isFocused: true\n     *     });\n     *\n     *     lastClickSchedule = schedule;\n     *     // open detail view\n     * });\n     */\n    this.fire(\'clickSchedule\', clickScheduleData);\n};\n\n/**\n * A bridge-based event handler for connecting a click handler to a user click event handler for each view\n * @fires Calendar#clickMore\n * @param {object} clickMoreSchedule - The event data of \'clickMore\' handler\n * @private\n */\nCalendar.prototype._onClickMore = function(clickMoreSchedule) {\n    /**\n     * Fire this event when click a schedule.\n     * @event Calendar#clickMore\n     * @type {object}\n     * @property {Date} date - The Clicked date\n     * @property {HTMLElement} target - The more element\n     * @example\n     * calendar.on(\'clickMore\', function(event) {\n     *     console.log(\'clickMore\', event.date, event.target);\n     * });\n     */\n    this.fire(\'clickMore\', clickMoreSchedule);\n};\n\n/**\n * dayname click event handler\n * @fires Calendar#clickDayname\n * @param {object} clickScheduleData - The event data of \'clickDayname\' handler\n * @private\n */\nCalendar.prototype._onClickDayname = function(clickScheduleData) {\n    /**\n     * Fire this event when click a day name in weekly.\n     * @event Calendar#clickDayname\n     * @type {object}\n     * @property {string} date - The date string by format \'YYYY-MM-DD\'\n     * @example\n     * calendar.on(\'clickDayname\', function(event) {\n     *     if (calendar.getViewName() === \'week\') {\n     *         calendar.setDate(new Date(event.date));\n     *         calendar.changeView(\'day\', true);\n     *     }\n     * });\n     */\n    this.fire(\'clickDayname\', clickScheduleData);\n};\n\n/**\n * @fires {Calendar#n(\'beforeCreateSchedule\', function}\n * @param {object} createScheduleData - select schedule data from allday, time\n * @private\n */\nCalendar.prototype._onBeforeCreate = function(createScheduleData) {\n    if (this._options.useCreationPopup && !createScheduleData.useCreationPopup) {\n        if (this._showCreationPopup) {\n            this._showCreationPopup(createScheduleData);\n\n            return;\n        }\n    }\n    /**\n     * Fire this event when select time period in daily, weekly, monthly.\n     * @event Calendar#beforeCreateSchedule\n     * @type {object}\n     * @property {boolean} isAllDay - The allday schedule\n     * @property {Date} start - The selected start time\n     * @property {Date} end - The selected end time\n     * @property {TimeCreationGuide} guide - {@link TimeCreationGuide} instance\n     * @property {string} triggerEventName - The event name like \'click\', \'dblclick\'\n     * @example\n     * calendar.on(\'beforeCreateSchedule\', function(event) {\n     *     var startTime = event.start;\n     *     var endTime = event.end;\n     *     var isAllDay = event.isAllDay;\n     *     var guide = event.guide;\n     *     var triggerEventName = event.triggerEventName;\n     *     var schedule;\n     *\n     *     if (triggerEventName === \'click\') {\n     *         // open writing simple schedule popup\n     *         schedule = {...};\n     *     } else if (triggerEventName === \'dblclick\') {\n     *         // open writing detail schedule popup\n     *         schedule = {...};\n     *     }\n     *\n     *     calendar.createSchedules([schedule]);\n     * });\n     */\n    this.fire(\'beforeCreateSchedule\', createScheduleData);\n};\n\n/**\n * @fires Calendar#beforeUpdateSchedule\n * @param {object} updateScheduleData - update {@link Schedule} data\n * @private\n */\nCalendar.prototype._onBeforeUpdate = function(updateScheduleData) {\n    /**\n     * Fire this event when drag a schedule to change time in daily, weekly, monthly.\n     * @event Calendar#beforeUpdateSchedule\n     * @type {object}\n     * @property {Schedule} schedule - The original {@link Schedule} instance\n     * @property {object} changes - The {@link Schedule} properties and values with changes to update\n     * @property {Date} start - Deprecated: start time to update\n     * @property {Date} end - Deprecated: end time to update\n     * @example\n     * calendar.on(\'beforeUpdateSchedule\', function(event) {\n     *     var schedule = event.schedule;\n     *     var changes = event.changes;\n     *\n     *     calendar.updateSchedule(schedule.id, schedule.calendarId, changes);\n     * });\n     */\n    this.fire(\'beforeUpdateSchedule\', updateScheduleData);\n};\n\n/**\n * @fires Calendar#beforeDeleteSchedule\n * @param {object} deleteScheduleData - delete schedule data\n * @private\n */\nCalendar.prototype._onBeforeDelete = function(deleteScheduleData) {\n    /**\n     * Fire this event when delete a schedule.\n     * @event Calendar#beforeDeleteSchedule\n     * @type {object}\n     * @property {Schedule} schedule - The {@link Schedule} instance to delete\n     * @example\n     * calendar.on(\'beforeDeleteSchedule\', function(event) {\n     *     var schedule = event.schedule;\n     *     alert(\'The schedule is removed.\', schedule);\n     * });\n     */\n    this.fire(\'beforeDeleteSchedule\', deleteScheduleData);\n};\n\n/**\n * @fires Calendar#afterRenderSchedule\n * @param {Schedule} scheduleData - The schedule data\n * @private\n */\nCalendar.prototype._onAfterRenderSchedule = function(scheduleData) {\n    /**\n     * Fire this event by every single schedule after rendering whole calendar.\n     * @event Calendar#afterRenderSchedule\n     * @type {object}\n     * @property {Schedule} schedule - A rendered {@link Schedule} instance\n     * @example\n     * calendar.on(\'afterRenderSchedule\', function(event) {\n     *     var schedule = event.schedule;\n     *     var element = calendar.getElement(schedule.id, schedule.calendarId);\n     *     // use the element\n     *     console.log(element);\n     * });\n     */\n    this.fire(\'afterRenderSchedule\', scheduleData);\n};\n\n/**\n * @fires Calendar#clickTimezonesCollapseBtn\n * @param {boolean} timezonesCollapsed - timezones collapsed flag\n * @private\n */\nCalendar.prototype._onClickTimezonesCollapseBtn = function(timezonesCollapsed) {\n    /**\n     * Fire this event by clicking timezones collapse button\n     * @event Calendar#clickTimezonesCollapseBtn\n     * @type {object}\n     * @property {boolean} timezonesCollapsed - The timezones collapes flag\n     * @example\n     * calendar.on(\'clickTimezonesCollapseBtn\', function(timezonesCollapsed) {\n     *     console.log(timezonesCollapsed);\n     * });\n     */\n    this.fire(\'clickTimezonesCollapseBtn\', timezonesCollapsed);\n};\n\n/**\n * Toggle calendar factory class, main view, wallview event connection\n * @param {boolean} isAttach - attach events if true.\n * @param {Week|Month} view - Weekly view or Monthly view\n * @private\n */\nCalendar.prototype._toggleViewSchedule = function(isAttach, view) {\n    var self = this,\n        handler = view.handler,\n        method = isAttach ? \'on\' : \'off\';\n\n    util.forEach(handler.click, function(clickHandler) {\n        clickHandler[method](\'clickSchedule\', self._onClick, self);\n    });\n\n    util.forEach(handler.dayname, function(clickHandler) {\n        clickHandler[method](\'clickDayname\', self._onClickDayname, self);\n    });\n\n    util.forEach(handler.creation, function(creationHandler) {\n        creationHandler[method](\'beforeCreateSchedule\', self._onBeforeCreate, self);\n        creationHandler[method](\'beforeDeleteSchedule\', self._onBeforeDelete, self);\n    });\n\n    util.forEach(handler.move, function(moveHandler) {\n        moveHandler[method](\'beforeUpdateSchedule\', self._onBeforeUpdate, self);\n    });\n\n    util.forEach(handler.resize, function(resizeHandler) {\n        resizeHandler[method](\'beforeUpdateSchedule\', self._onBeforeUpdate, self);\n    });\n\n    // bypass events from view\n    view[method](\'afterRenderSchedule\', self._onAfterRenderSchedule, self);\n    view[method](\'clickTimezonesCollapseBtn\', self._onClickTimezonesCollapseBtn, self);\n    view[method](\'clickMore\', self._onClickMore, self);\n};\n\n/**\n * Change current view with view name(\'day\', \'week\', \'month\')\n * @param {string} newViewName - The New view name to render\n * @param {boolean} force - Force render despite of current view and new view are equal\n * @example\n * // daily view\n * calendar.changeView(\'day\', true);\n *\n * // weekly view\n * calendar.changeView(\'week\', true);\n *\n * // monthly view(default 6 weeks view)\n * calendar.setOptions({month: {visibleWeeksCount: 6}}, true); // or null\n * calendar.changeView(\'month\', true);\n *\n * // 2 weeks monthly view\n * calendar.setOptions({month: {visibleWeeksCount: 2}}, true);\n * calendar.changeView(\'month\', true);\n *\n * // 3 weeks monthly view\n * calendar.setOptions({month: {visibleWeeksCount: 3}}, true);\n * calendar.changeView(\'month\', true);\n *\n * // narrow weekend\n * calendar.setOptions({month: {narrowWeekend: true}}, true);\n * calendar.setOptions({week: {narrowWeekend: true}}, true);\n * calendar.changeView(calendar.getViewName(), true);\n *\n * // change start day of week(from monday)\n * calendar.setOptions({week: {startDayOfWeek: 1}}, true);\n * calendar.setOptions({month: {startDayOfWeek: 1}}, true);\n * calendar.changeView(calendar.getViewName(), true);\n *\n * // work week\n * calendar.setOptions({week: {workweek: true}}, true);\n * calendar.setOptions({month: {workweek: true}}, true);\n * calendar.changeView(calendar.getViewName(), true);\n */\n// eslint-disable-next-line complexity\nCalendar.prototype.changeView = function(newViewName, force) {\n    var self = this,\n        layout = this._layout,\n        controller = this._controller,\n        dragHandler = this._dragHandler,\n        options = this._options,\n        viewName = this._viewName,\n        created;\n\n    if (!force && viewName === newViewName) {\n        return;\n    }\n\n    this._setViewName(newViewName);\n\n    // convert day to week\n    if (viewName === \'day\') {\n        viewName = \'week\';\n    }\n\n    if (newViewName === \'day\') {\n        newViewName = \'week\';\n    }\n    layout.children.doWhenHas(viewName, function(view) {\n        self._toggleViewSchedule(false, view);\n    });\n\n    layout.clear();\n\n    if (newViewName === \'month\') {\n        created = _createMonthView(controller, layout.container, dragHandler, options);\n    } else if (newViewName === \'week\') {\n        created = _createWeekView(\n            controller,\n            layout.container,\n            dragHandler,\n            options,\n            this.getViewName()\n        );\n    }\n\n    layout.addChild(created.view);\n\n    layout.children.doWhenHas(newViewName, function(view) {\n        self._toggleViewSchedule(true, view);\n    });\n\n    this._refreshMethod = created.refresh;\n    this._scrollToNowMethod = created.scrollToNow;\n    this._openCreationPopup = created.openCreationPopup;\n    this._showCreationPopup = created.showCreationPopup;\n    this._hideMoreView = created.hideMoreView;\n\n    this.move();\n    this.render();\n};\n\n/**\n * @deprecated\n * Toggle task view(\'Milestone\', \'Task\') panel\n * @param {boolean} enabled - use task view\n * @example\n * // There is no milestone, task, so hide those view panel\n * calendar.toggleTaskView(false);\n *\n * // There are some milestone, task, so show those view panel.\n * calendar.toggleTaskView(true);\n */\nCalendar.prototype.toggleTaskView = function(enabled) {\n    var viewName = this._viewName,\n        options = this._options;\n\n    options.taskView = enabled;\n\n    this.changeView(viewName, true);\n};\n\n/**\n * @deprecated\n * Toggle schedule view(\'AllDay\', TimeGrid\') panel\n * @param {boolean} enabled - use task view\n * @example\n * // hide those view panel to show only \'Milestone\', \'Task\'\n * calendar.toggleScheduleView(false);\n *\n * // show those view panel.\n * calendar.toggleScheduleView(true);\n */\nCalendar.prototype.toggleScheduleView = function(enabled) {\n    var viewName = this._viewName,\n        options = this._options;\n\n    options.scheduleView = enabled;\n\n    this.changeView(viewName, true);\n};\n\n/**\n * Set current view name\n * @param {string} viewName - new view name to render\n * @private\n */\nCalendar.prototype._setViewName = function(viewName) {\n    this._viewName = viewName;\n};\n\n/**\n * Get a schedule element by schedule id and calendar id.\n * @param {string} scheduleId - ID of schedule\n * @param {string} calendarId - calendarId of schedule\n * @returns {HTMLElement} schedule element if found or null\n * @example\n * var element = calendar.getElement(scheduleId, calendarId);\n * console.log(element);\n */\nCalendar.prototype.getElement = function(scheduleId, calendarId) {\n    var schedule = this.getSchedule(scheduleId, calendarId);\n    if (schedule) {\n        return document.querySelector(\n            \'[data-schedule-id="\' + scheduleId + \'"][data-calendar-id="\' + calendarId + \'"]\'\n        );\n    }\n\n    return null;\n};\n\n/**\n * Set a theme. If some keys are not defined in the preset, will be return.\n * @param {object} theme - multiple styles map\n * @returns {Array.<string>} keys - error keys not predefined.\n * @example\n * cal.setTheme({\n    \'month.dayname.height\': \'31px\',\n    \'common.dayname.color\': \'#333\',\n    \'month.dayname.borderBottom\': \'1px solid #e5e5e5\' // Not valid key  will be return.\n * });\n */\nCalendar.prototype.setTheme = function(theme) {\n    var result = this._controller.setTheme(theme);\n    this.render(true);\n\n    return result;\n};\n\n/**\n * Set options of calendar\n * @param {Options} options - set {@link Options}\n * @param {boolean} [silent=false] - no auto render after creation when set true\n */\nCalendar.prototype.setOptions = function(options, silent) {\n    util.forEach(\n        options,\n        function(value, name) {\n            if (util.isObject(value) && !util.isArray(value)) {\n                util.forEach(\n                    value,\n                    function(innerValue, innerName) {\n                        this._options[name][innerName] = innerValue;\n                    },\n                    this\n                );\n            } else {\n                this._options[name] = value;\n            }\n        },\n        this\n    );\n\n    this._setAdditionalInternalOptions(options);\n\n    if (!silent) {\n        this.changeView(this._viewName, true);\n    }\n};\n\n/**\n * Get current {@link Options}.\n * @returns {Options} options\n */\nCalendar.prototype.getOptions = function() {\n    return this._options;\n};\n\n/**\n * Current rendered date ({@link TZDate} for further information)\n * @returns {TZDate}\n */\nCalendar.prototype.getDate = function() {\n    return this._renderDate;\n};\n\n/**\n * Start time of rendered date range ({@link TZDate} for further information)\n * @returns {TZDate}\n */\nCalendar.prototype.getDateRangeStart = function() {\n    return this._renderRange.start;\n};\n\n/**\n * End time of rendered date range ({@link TZDate} for further information)\n * @returns {TZDate}\n */\nCalendar.prototype.getDateRangeEnd = function() {\n    return this._renderRange.end;\n};\n\n/**\n * Get current view name(\'day\', \'week\', \'month\')\n * @returns {string} view name\n */\nCalendar.prototype.getViewName = function() {\n    return this._viewName;\n};\n\n/**\n * Set calendar list\n * @param {Array.<CalendarProps>} calendars - {@link CalendarProps} List\n */\nCalendar.prototype.setCalendars = function(calendars) {\n    util.forEach(\n        calendars || [],\n        function(calendar) {\n            this.setCalendarColor(calendar.id, calendar, true);\n        },\n        this\n    );\n\n    this._controller.setCalendars(calendars);\n\n    this.render();\n};\n\n/**\n * Open schedule creation popup\n * @param {Schedule} schedule - The preset {@link Schedule} data\n */\nCalendar.prototype.openCreationPopup = function(schedule) {\n    if (this._openCreationPopup) {\n        this._openCreationPopup(schedule);\n    }\n};\n\n/**\n * Hide the more view\n */\nCalendar.prototype.hideMoreView = function() {\n    if (this._hideMoreView) {\n        this._hideMoreView();\n    }\n};\n\n/**\n * Set timezone offset\n * @param {number} offset - The offset (min)\n * @static\n * @deprecated\n * @example\n * var timezoneName = moment.tz.guess();\n * tui.Calendar.setTimezoneOffset(moment.tz.zone(timezoneName).utcOffset(moment()));\n */\nCalendar.setTimezoneOffset = function(offset) {\n    tz.setOffset(offset);\n};\n\n/**\n * Set a callback function to get timezone offset by timestamp\n * @param {function} callback - The callback function\n * @static\n * @deprecated\n * @example\n * var timezoneName = moment.tz.guess();\n * tui.Calendar.setTimezoneOffsetCallback(function(timestamp) {\n *      return moment.tz.zone(timezoneName).utcOffset(timestamp));\n * });\n */\nCalendar.setTimezoneOffsetCallback = function(callback) {\n    tz.setOffsetCallback(callback);\n};\n\n/**\n * Create controller instance\n * @returns {Base} controller instance\n * @param {Options} options - calendar options\n * @private\n */\nfunction _createController(options) {\n    return controllerFactory(options);\n}\n\n/**\n * Create week view instance by dependent module instances\n * @param {Base} controller - controller\n * @param {HTMLElement} container - container element\n * @param {Drag} dragHandler - global drag handler\n * @param {object} options - options for week view\n * @param {string} viewName - \'week\', \'day\'\n * @returns {Week} week view instance\n * @private\n */\nfunction _createWeekView(controller, container, dragHandler, options, viewName) {\n    return weekViewFactory(controller, container, dragHandler, options, viewName);\n}\n\n/**\n * Create week view instance by dependent module instances\n * @param {Base} controller - controller\n * @param {HTMLElement} container - container element\n * @param {Drag} dragHandler - global drag handler\n * @param {object} options - options for week view\n * @returns {Month} month view instance\n * @private\n */\nfunction _createMonthView(controller, container, dragHandler, options) {\n    return monthViewFactory(controller, container, dragHandler, options);\n}\n\n/**\n * Set child view\'s options recursively\n * @param {View} view - parent view\n * @param {function} func - option manipulate function\n * @private\n */\nfunction _setOptionRecurseively(view, func) {\n    view.recursive(function(childView) {\n        var opt = childView.options;\n\n        if (!opt) {\n            return;\n        }\n\n        func(childView, opt);\n    });\n}\n\nutil.CustomEvents.mixin(Calendar);\n\nmodule.exports = Calendar;\n\n\n/***/ }),\n\n/***/ "./src/js/factory/controller.js":\n/*!**************************************!*\\\n  !*** ./src/js/factory/controller.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_409498__) {\n\n"use strict";\n/**\n * @fileoverview Controller factory module.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_409498__(/*! tui-code-snippet */ "tui-code-snippet");\nvar Base = __nested_webpack_require_409498__(/*! ../controller/base */ "./src/js/controller/base.js"),\n    Core = __nested_webpack_require_409498__(/*! ../controller/viewMixin/core */ "./src/js/controller/viewMixin/core.js"),\n    Week = __nested_webpack_require_409498__(/*! ../controller/viewMixin/week */ "./src/js/controller/viewMixin/week.js"),\n    Month = __nested_webpack_require_409498__(/*! ../controller/viewMixin/month */ "./src/js/controller/viewMixin/month.js");\n\n/**\n * Mixin object. create object property to target and mix to that\n * @param {object} from - source object\n * @param {object} to - target object\n * @param {string} propertyName - property name\n */\nfunction mixin(from, to, propertyName) {\n    var obj = to[propertyName] = {};\n\n    util.forEach(from, function(method, methodName) {\n        obj[methodName] = method.bind(to);\n    });\n}\n\n/**\n * @param {object} options - options for base controller\n * @param {function} [options.groupFunc] - function for group each models {@see Collection#groupBy}\n * @returns {Base} The controller instance.\n */\nmodule.exports = function(options) {\n    var controller = new Base(options);\n\n    mixin(Core, controller, \'Core\');\n    mixin(Week, controller, \'Week\');\n    mixin(Month, controller, \'Month\');\n\n    // for Theme\n    controller.Core.theme = controller.theme;\n    controller.Week.theme = controller.theme;\n    controller.Month.theme = controller.theme;\n\n    return controller;\n};\n\n\n/***/ }),\n\n/***/ "./src/js/factory/monthView.js":\n/*!*************************************!*\\\n  !*** ./src/js/factory/monthView.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_411359__) {\n\n"use strict";\n/**\n * @fileoverview Month view factory module\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_411359__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_411359__(/*! ../config */ "./src/js/config.js"),\n    array = __nested_webpack_require_411359__(/*! ../common/array */ "./src/js/common/array.js"),\n    datetime = __nested_webpack_require_411359__(/*! ../common/datetime */ "./src/js/common/datetime.js"),\n    domutil = __nested_webpack_require_411359__(/*! ../common/domutil */ "./src/js/common/domutil.js"),\n    common = __nested_webpack_require_411359__(/*! ../common/common */ "./src/js/common/common.js"),\n    Month = __nested_webpack_require_411359__(/*! ../view/month/month */ "./src/js/view/month/month.js"),\n    MonthClick = __nested_webpack_require_411359__(/*! ../handler/month/click */ "./src/js/handler/month/click.js"),\n    MonthCreation = __nested_webpack_require_411359__(/*! ../handler/month/creation */ "./src/js/handler/month/creation.js"),\n    MonthResize = __nested_webpack_require_411359__(/*! ../handler/month/resize */ "./src/js/handler/month/resize.js"),\n    MonthMove = __nested_webpack_require_411359__(/*! ../handler/month/move */ "./src/js/handler/month/move.js"),\n    More = __nested_webpack_require_411359__(/*! ../view/month/more */ "./src/js/view/month/more.js"),\n    ScheduleCreationPopup = __nested_webpack_require_411359__(/*! ../view/popup/scheduleCreationPopup */ "./src/js/view/popup/scheduleCreationPopup.js"),\n    ScheduleDetailPopup = __nested_webpack_require_411359__(/*! ../view/popup/scheduleDetailPopup */ "./src/js/view/popup/scheduleDetailPopup.js"),\n    Schedule = __nested_webpack_require_411359__(/*! ../model/schedule */ "./src/js/model/schedule.js");\n\n/**\n * Get the view model for more layer\n * @param {TZDate} date - date has more schedules\n * @param {HTMLElement} target - target element\n * @param {Collection} schedules - schedule collection\n * @param {string[]} daynames - daynames to use upside of month more view\n * @returns {object} view model\n */\nfunction getViewModelForMoreLayer(date, target, schedules, daynames) {\n    schedules.each(function(schedule) {\n        var model = schedule.model;\n        schedule.hasMultiDates = datetime.hasMultiDates(model.start, model.end);\n    });\n\n    return {\n        target: target,\n        date: datetime.format(date, \'YYYY.MM.DD\'),\n        dayname: daynames[date.getDay()],\n        schedules: schedules.sort(array.compare.schedule.asc)\n    };\n}\n\n/**\n * @param {Base} baseController - controller instance\n * @param {HTMLElement} layoutContainer - container element for month view\n * @param {Drag} dragHandler - drag handler instance\n * @param {object} options - options\n * @returns {object} view instance and refresh method\n */\nfunction createMonthView(baseController, layoutContainer, dragHandler, options) {\n    var monthViewContainer, monthView, moreView, createView;\n    var clickHandler, creationHandler, resizeHandler, moveHandler, clearSchedulesHandler, onUpdateSchedule;\n    var onShowCreationPopup, onSaveNewSchedule, onShowEditPopup;\n    var detailView, onShowDetailPopup, onDeleteSchedule, onEditSchedule;\n\n    monthViewContainer = domutil.appendHTMLElement(\n        \'div\', layoutContainer, config.classname(\'month\'));\n\n    monthView = new Month(options, monthViewContainer, baseController.Month);\n    moreView = new More(options.month, layoutContainer, baseController.theme);\n\n    // handlers\n    clickHandler = new MonthClick(dragHandler, monthView, baseController);\n    if (!options.isReadOnly) {\n        creationHandler = new MonthCreation(dragHandler, monthView, baseController, options);\n        resizeHandler = new MonthResize(dragHandler, monthView, baseController);\n        moveHandler = new MonthMove(dragHandler, monthView, baseController);\n    }\n\n    clearSchedulesHandler = function() {\n        if (moreView) {\n            moreView.hide();\n        }\n    };\n\n    onUpdateSchedule = function() {\n        if (moreView) {\n            moreView.refresh();\n        }\n    };\n\n    // binding +n click schedule\n    clickHandler.on(\'clickMore\', function(clickMoreSchedule) {\n        var date = clickMoreSchedule.date,\n            target = clickMoreSchedule.target,\n            schedules = util.pick(baseController.findByDateRange(\n                datetime.start(date),\n                datetime.end(date)\n            ), clickMoreSchedule.ymd);\n\n        schedules.items = util.filter(schedules.items, function(item) {\n            return options.month.scheduleFilter(item.model);\n        });\n\n        if (schedules && schedules.length) {\n            moreView.render(getViewModelForMoreLayer(date, target, schedules, monthView.options.daynames));\n\n            schedules.each(function(scheduleViewModel) {\n                if (scheduleViewModel) {\n                    /**\n                     * @event More#afterRenderSchedule\n                     */\n                    monthView.fire(\'afterRenderSchedule\', {schedule: scheduleViewModel.model});\n                }\n            });\n\n            monthView.fire(\'clickMore\', {\n                date: clickMoreSchedule.date,\n                target: moreView.getMoreViewElement()\n            });\n        }\n    });\n\n    // binding popup for schedules creation\n    if (options.useCreationPopup) {\n        createView = new ScheduleCreationPopup(layoutContainer, baseController.calendars, options.usageStatistics);\n\n        onSaveNewSchedule = function(scheduleData) {\n            creationHandler.fire(\'beforeCreateSchedule\', util.extend(scheduleData, {\n                useCreationPopup: true\n            }));\n        };\n        createView.on(\'beforeCreateSchedule\', onSaveNewSchedule);\n    }\n\n    // binding popup for schedule detail\n    if (options.useDetailPopup) {\n        detailView = new ScheduleDetailPopup(layoutContainer, baseController.calendars);\n        onShowDetailPopup = function(eventData) {\n            var scheduleId = eventData.schedule.calendarId;\n            eventData.calendar = common.find(baseController.calendars, function(calendar) {\n                return calendar.id === scheduleId;\n            });\n\n            if (options.isReadOnly) {\n                eventData.schedule = util.extend({}, eventData.schedule, {isReadOnly: true});\n            }\n\n            detailView.render(eventData);\n        };\n        onDeleteSchedule = function(eventData) {\n            if (creationHandler) {\n                creationHandler.fire(\'beforeDeleteSchedule\', eventData);\n            }\n        };\n        onEditSchedule = function(eventData) {\n            moveHandler.fire(\'beforeUpdateSchedule\', eventData);\n        };\n\n        clickHandler.on(\'clickSchedule\', onShowDetailPopup);\n\n        detailView.on(\'beforeDeleteSchedule\', onDeleteSchedule);\n\n        if (options.useCreationPopup) {\n            onShowEditPopup = function(eventData) {\n                createView.setCalendars(baseController.calendars);\n                createView.render(eventData);\n            };\n            createView.on(\'beforeUpdateSchedule\', onEditSchedule);\n            detailView.on(\'beforeUpdateSchedule\', onShowEditPopup);\n        } else {\n            detailView.on(\'beforeUpdateSchedule\', onEditSchedule);\n        }\n    }\n\n    // binding clear schedules\n    baseController.on(\'clearSchedules\', clearSchedulesHandler);\n\n    // bind update schedule event\n    baseController.on(\'updateSchedule\', onUpdateSchedule);\n\n    if (moveHandler) {\n        moveHandler.on(\'monthMoveStart_from_morelayer\', function() {\n            moreView.hide();\n        });\n    }\n\n    monthView.handler = {\n        click: {\n            \'default\': clickHandler\n        }\n    };\n\n    if (!options.isReadOnly) {\n        monthView.handler = util.extend(monthView.handler, {\n            creation: {\n                \'default\': creationHandler\n            },\n            resize: {\n                \'default\': resizeHandler\n            },\n            move: {\n                \'default\': moveHandler\n            }\n        });\n    }\n\n    monthView._beforeDestroy = function() {\n        moreView.destroy();\n        baseController.off(\'clearSchedules\', clearSchedulesHandler);\n        baseController.off(\'updateSchedule\', onUpdateSchedule);\n\n        util.forEach(monthView.handler, function(type) {\n            util.forEach(type, function(handler) {\n                handler.off();\n                handler.destroy();\n            });\n        });\n\n        if (options.useCreationPopup && options.useDetailPopup) {\n            createView.off(\'beforeUpdateSchedule\', onUpdateSchedule);\n        }\n\n        if (options.useCreationPopup) {\n            if (creationHandler) {\n                creationHandler.off(\'beforeCreateSchedule\', onShowCreationPopup);\n            }\n            createView.off(\'saveSchedule\', onSaveNewSchedule);\n            createView.destroy();\n        }\n\n        if (options.useDetailPopup) {\n            clickHandler.off(\'clickSchedule\', onShowDetailPopup);\n            detailView.off(\'beforeUpdateSchedule\', onUpdateSchedule);\n            detailView.off(\'beforeDeleteSchedule\', onDeleteSchedule);\n            detailView.destroy();\n        }\n    };\n\n    // add controller\n    monthView.controller = baseController.Month;\n\n    return {\n        view: monthView,\n        refresh: function() {\n            monthView.vLayout.refresh();\n        },\n        openCreationPopup: function(schedule) {\n            if (createView && creationHandler) {\n                creationHandler.invokeCreationClick(Schedule.create(schedule));\n            }\n        },\n        showCreationPopup: function(eventData) {\n            if (createView) {\n                createView.setCalendars(baseController.calendars);\n                createView.render(eventData);\n            }\n        },\n        hideMoreView: function() {\n            if (moreView) {\n                moreView.hide();\n            }\n        }\n    };\n}\n\nmodule.exports = createMonthView;\n\n\n/***/ }),\n\n/***/ "./src/js/factory/weekView.js":\n/*!************************************!*\\\n  !*** ./src/js/factory/weekView.js ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_421357__) {\n\n"use strict";\n/**\n * @fileoverview Factory module for WeekView\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_421357__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_421357__(/*! ../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_421357__(/*! ../common/domutil */ "./src/js/common/domutil.js");\nvar common = __nested_webpack_require_421357__(/*! ../common/common */ "./src/js/common/common.js");\nvar VLayout = __nested_webpack_require_421357__(/*! ../common/vlayout */ "./src/js/common/vlayout.js");\nvar reqAnimFrame = __nested_webpack_require_421357__(/*! ../common/reqAnimFrame */ "./src/js/common/reqAnimFrame.js");\nvar Schedule = __nested_webpack_require_421357__(/*! ../model/schedule */ "./src/js/model/schedule.js");\n// Parent views\nvar Week = __nested_webpack_require_421357__(/*! ../view/week/week */ "./src/js/view/week/week.js");\n\n// Sub views\nvar DayName = __nested_webpack_require_421357__(/*! ../view/week/dayname */ "./src/js/view/week/dayname.js");\nvar DayGrid = __nested_webpack_require_421357__(/*! ../view/week/dayGrid */ "./src/js/view/week/dayGrid.js");\nvar TimeGrid = __nested_webpack_require_421357__(/*! ../view/week/timeGrid */ "./src/js/view/week/timeGrid.js");\nvar ScheduleCreationPopup = __nested_webpack_require_421357__(/*! ../view/popup/scheduleCreationPopup */ "./src/js/view/popup/scheduleCreationPopup.js");\nvar ScheduleDetailPopup = __nested_webpack_require_421357__(/*! ../view/popup/scheduleDetailPopup */ "./src/js/view/popup/scheduleDetailPopup.js");\n\n// Handlers\nvar DayNameClick = __nested_webpack_require_421357__(/*! ../handler/time/clickDayname */ "./src/js/handler/time/clickDayname.js");\nvar DayGridClick = __nested_webpack_require_421357__(/*! ../handler/daygrid/click */ "./src/js/handler/daygrid/click.js");\nvar DayGridCreation = __nested_webpack_require_421357__(/*! ../handler/daygrid/creation */ "./src/js/handler/daygrid/creation.js");\nvar DayGridMove = __nested_webpack_require_421357__(/*! ../handler/daygrid/move */ "./src/js/handler/daygrid/move.js");\nvar DayGridResize = __nested_webpack_require_421357__(/*! ../handler/daygrid/resize */ "./src/js/handler/daygrid/resize.js");\nvar TimeClick = __nested_webpack_require_421357__(/*! ../handler/time/click */ "./src/js/handler/time/click.js");\nvar TimeCreation = __nested_webpack_require_421357__(/*! ../handler/time/creation */ "./src/js/handler/time/creation.js");\nvar TimeMove = __nested_webpack_require_421357__(/*! ../handler/time/move */ "./src/js/handler/time/move.js");\nvar TimeResize = __nested_webpack_require_421357__(/*! ../handler/time/resize */ "./src/js/handler/time/resize.js");\n\nvar DAYGRID_HANDLDERS = {\n    \'click\': DayGridClick,\n    \'creation\': DayGridCreation,\n    \'move\': DayGridMove,\n    \'resize\': DayGridResize\n};\nvar TIMEGRID_HANDLERS = {\n    \'click\': TimeClick,\n    \'creation\': TimeCreation,\n    \'move\': TimeMove,\n    \'resize\': TimeResize\n};\nvar DEFAULT_PANELS = [\n    {\n        name: \'milestone\',\n        type: \'daygrid\',\n        minHeight: 20,\n        maxHeight: 80,\n        showExpandableButton: true,\n        maxExpandableHeight: 210,\n        handlers: [\'click\'],\n        show: true\n    },\n    {\n        name: \'task\',\n        type: \'daygrid\',\n        minHeight: 40,\n        maxHeight: 120,\n        showExpandableButton: true,\n        maxExpandableHeight: 210,\n        handlers: [\'click\', \'move\'],\n        show: true\n    },\n    {\n        name: \'allday\',\n        type: \'daygrid\',\n        minHeight: 30,\n        maxHeight: 80,\n        showExpandableButton: true,\n        maxExpandableHeight: 210,\n        handlers: [\'click\', \'creation\', \'move\', \'resize\'],\n        show: true\n    },\n    {\n        name: \'time\',\n        type: \'timegrid\',\n        autoHeight: true,\n        handlers: [\'click\', \'creation\', \'move\', \'resize\'],\n        show: true\n    }\n];\n\n/* eslint-disable complexity*/\nmodule.exports = function(baseController, layoutContainer, dragHandler, options, viewName) {\n    var panels = [],\n        vpanels = [];\n    var weekView, dayNameContainer, dayNameView, vLayoutContainer, vLayout;\n    var createView, onSaveNewSchedule, onSetCalendars, lastVPanel;\n    var detailView, onShowDetailPopup, onDeleteSchedule, onShowEditPopup, onEditSchedule;\n    var taskView = options.taskView;\n    var scheduleView = options.scheduleView;\n    var viewVisibilities = {\n        \'milestone\': util.isArray(taskView) ? util.inArray(\'milestone\', taskView) >= 0 : taskView,\n        \'task\': util.isArray(taskView) ? util.inArray(\'task\', taskView) >= 0 : taskView,\n        \'allday\': util.isArray(scheduleView) ? util.inArray(\'allday\', scheduleView) >= 0 : scheduleView,\n        \'time\': util.isArray(scheduleView) ? util.inArray(\'time\', scheduleView) >= 0 : scheduleView\n    };\n\n    // Make panels by view sequence and visibilities\n    util.forEach(DEFAULT_PANELS, function(panel) {\n        var name = panel.name;\n\n        panel = util.extend({}, panel);\n        panels.push(panel);\n\n        // Change visibilities\n        panel.show = viewVisibilities[name];\n\n        if (panel.show) {\n            if (vpanels.length) {\n                vpanels.push({\n                    isSplitter: true\n                });\n            }\n            vpanels.push(util.extend({}, panel));\n        }\n    });\n\n    if (vpanels.length) {\n        lastVPanel = vpanels[vpanels.length - 1];\n        lastVPanel.autoHeight = true;\n        lastVPanel.maxHeight = null;\n        lastVPanel.showExpandableButton = false;\n\n        util.forEach(panels, function(panel) {\n            if (panel.name === lastVPanel.name) {\n                panel.showExpandableButton = false;\n\n                return false;\n            }\n\n            return true;\n        });\n    }\n\n    util.extend(options.week, {panels: panels});\n\n    weekView = new Week(null, options.week, layoutContainer, panels, viewName);\n    weekView.handler = {\n        click: {},\n        dayname: {},\n        creation: {},\n        move: {},\n        resize: {}\n    };\n\n    dayNameContainer = domutil.appendHTMLElement(\'div\', weekView.container, config.classname(\'dayname-layout\'));\n\n    /**********\n     * Day name (top row(Mon, Tue, Wed...))\n     **********/\n    dayNameView = new DayName(options, dayNameContainer, baseController.theme);\n    weekView.handler.dayname.date = new DayNameClick(dragHandler, dayNameView, baseController);\n    weekView.addChild(dayNameView);\n\n    /**********\n     * Initialize vertical layout module\n     **********/\n    vLayoutContainer = domutil.appendHTMLElement(\'div\', weekView.container, config.classname(\'vlayout-area\'));\n    vLayoutContainer.style.height = (domutil.getSize(weekView.container)[1] - dayNameView.container.offsetHeight) + \'px\';\n\n    vLayout = new VLayout({\n        panels: vpanels,\n        panelHeights: options.week.panelHeights || []\n    }, vLayoutContainer, baseController.theme);\n\n    weekView.vLayout = vLayout;\n\n    util.forEach(panels, function(panel) {\n        var name = panel.name;\n        var handlers = panel.handlers;\n        var view;\n\n        if (!panel.show) {\n            return;\n        }\n\n        if (panel.type === \'daygrid\') {\n            /**********\n             * Schedule panel by Grid\n             **********/\n            view = new DayGrid(name, options, vLayout.getPanelByName(panel.name).container, baseController.theme);\n            view.on(\'afterRender\', function(viewModel) {\n                vLayout.getPanelByName(name).setHeight(null, viewModel.height);\n            });\n\n            weekView.addChild(view);\n\n            util.forEach(handlers, function(type) {\n                if (!options.isReadOnly || type === \'click\') {\n                    weekView.handler[type][name] =\n                        new DAYGRID_HANDLDERS[type](dragHandler, view, baseController, options);\n                    view.addHandler(type, weekView.handler[type][name], vLayout.getPanelByName(name));\n                }\n            });\n        } else if (panel.type === \'timegrid\') {\n            /**********\n             * Schedule panel by TimeGrid\n             **********/\n            view = new TimeGrid(name, options, vLayout.getPanelByName(name).container);\n            weekView.addChild(view);\n            util.forEach(handlers, function(type) {\n                if (!options.isReadOnly || type === \'click\') {\n                    weekView.handler[type][name] =\n                        new TIMEGRID_HANDLERS[type](dragHandler, view, baseController, options);\n                }\n            });\n\n            view.on(\'clickTimezonesCollapsedBtn\', function() {\n                var timezonesCollapsed = !weekView.state.timezonesCollapsed;\n\n                weekView.setState({\n                    timezonesCollapsed: timezonesCollapsed\n                });\n                reqAnimFrame.requestAnimFrame(function() {\n                    if (!weekView.invoke(\'clickTimezonesCollapseBtn\', timezonesCollapsed)) {\n                        weekView.render();\n                    }\n                });\n            });\n        }\n    });\n\n    vLayout.on(\'resize\', function() {\n        reqAnimFrame.requestAnimFrame(function() {\n            weekView.render();\n        });\n    });\n\n    // binding create schedules event\n    if (options.useCreationPopup) {\n        createView = new ScheduleCreationPopup(layoutContainer, baseController.calendars, options.usageStatistics);\n\n        onSaveNewSchedule = function(scheduleData) {\n            util.extend(scheduleData, {\n                useCreationPopup: true\n            });\n            if (scheduleData.isAllDay) {\n                weekView.handler.creation.allday.fire(\'beforeCreateSchedule\', scheduleData);\n            } else {\n                weekView.handler.creation.time.fire(\'beforeCreateSchedule\', scheduleData);\n            }\n        };\n        createView.on(\'beforeCreateSchedule\', onSaveNewSchedule);\n    }\n\n    onSetCalendars = function(calendars) {\n        if (createView) {\n            createView.setCalendars(calendars);\n        }\n    };\n\n    baseController.on(\'setCalendars\', onSetCalendars);\n\n    // binding popup for schedule detail\n    if (options.useDetailPopup) {\n        detailView = new ScheduleDetailPopup(layoutContainer, baseController.calendars);\n        onShowDetailPopup = function(eventData) {\n            var scheduleId = eventData.schedule.calendarId;\n            eventData.calendar = common.find(baseController.calendars, function(calendar) {\n                return calendar.id === scheduleId;\n            });\n\n            if (options.isReadOnly) {\n                eventData.schedule = util.extend({}, eventData.schedule, {isReadOnly: true});\n            }\n\n            detailView.render(eventData);\n        };\n        onDeleteSchedule = function(eventData) {\n            if (eventData.isAllDay) {\n                weekView.handler.creation.allday.fire(\'beforeDeleteSchedule\', eventData);\n            } else {\n                weekView.handler.creation.time.fire(\'beforeDeleteSchedule\', eventData);\n            }\n        };\n        onEditSchedule = function(eventData) {\n            if (eventData.isAllDay) {\n                weekView.handler.move.allday.fire(\'beforeUpdateSchedule\', eventData);\n            } else {\n                weekView.handler.move.time.fire(\'beforeUpdateSchedule\', eventData);\n            }\n        };\n\n        util.forEach(weekView.handler.click, function(panel) {\n            panel.on(\'clickSchedule\', onShowDetailPopup);\n        });\n        if (options.useCreationPopup) {\n            onShowEditPopup = function(eventData) {\n                var calendars = baseController.calendars;\n                eventData.isEditMode = true;\n                createView.setCalendars(calendars);\n                createView.render(eventData);\n            };\n            createView.on(\'beforeUpdateSchedule\', onEditSchedule);\n            detailView.on(\'beforeUpdateSchedule\', onShowEditPopup);\n        } else {\n            detailView.on(\'beforeUpdateSchedule\', onEditSchedule);\n        }\n        detailView.on(\'beforeDeleteSchedule\', onDeleteSchedule);\n    }\n\n    weekView.on(\'afterRender\', function() {\n        vLayout.refresh();\n    });\n\n    // add controller\n    weekView.controller = baseController.Week;\n\n    // add destroy\n    weekView._beforeDestroy = function() {\n        util.forEach(weekView.handler, function(type) {\n            util.forEach(type, function(handler) {\n                handler.off();\n                handler.destroy();\n            });\n        });\n\n        if (options.useCreationPopup) {\n            createView.off(\'beforeCreateSchedule\', onSaveNewSchedule);\n            createView.destroy();\n        }\n\n        if (options.useDetailPopup) {\n            detailView.off(\'beforeDeleteSchedule\', onDeleteSchedule);\n            detailView.destroy();\n        }\n\n        weekView.off();\n    };\n\n    return {\n        view: weekView,\n        refresh: function() {\n            var weekViewHeight = weekView.getViewBound().height,\n                daynameViewHeight = domutil.getBCRect(\n                    dayNameView.container\n                ).height;\n\n            vLayout.container.style.height =\n                weekViewHeight - daynameViewHeight + \'px\';\n            vLayout.refresh();\n        },\n        scrollToNow: function() {\n            weekView.children.each(function(childView) {\n                if (childView.scrollToNow) {\n                    childView.scrollToNow();\n                }\n            });\n        },\n        openCreationPopup: function(schedule) {\n            if (createView) {\n                if (schedule.isAllDay) {\n                    weekView.handler.creation.allday.invokeCreationClick(Schedule.create(schedule));\n                } else {\n                    weekView.handler.creation.time.invokeCreationClick(Schedule.create(schedule));\n                }\n            }\n        },\n        showCreationPopup: function(eventData) {\n            if (createView) {\n                createView.setCalendars(baseController.calendars);\n                createView.render(eventData);\n            }\n        }\n    };\n};\n\n\n/***/ }),\n\n/***/ "./src/js/handler/daygrid/click.js":\n/*!*****************************************!*\\\n  !*** ./src/js/handler/daygrid/click.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_435370__) {\n\n"use strict";\n/**\n * @fileoverview Click handle module for daygrid schedules\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_435370__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_435370__(/*! ../../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_435370__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar DayGridMove = __nested_webpack_require_435370__(/*! ./move */ "./src/js/handler/daygrid/move.js");\n\n/**\n * @constructor\n * @implements {Handler}\n * @mixes CustomEvents\n * @param {Drag} [dragHandler] - Drag handler instance.\n * @param {DayGrid} [view] - daygrid view instance.\n * @param {Base} [controller] - Base controller instance.\n */\nfunction DayGridClick(dragHandler, view, controller) {\n    /**\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * @type {DayGrid}\n     */\n    this.view = view;\n\n    /**\n     * @type {Base}\n     */\n    this.controller = controller;\n\n    dragHandler.on({\n        \'click\': this._onClick\n    }, this);\n}\n\n/**\n * Destroy handler module\n */\nDayGridClick.prototype.destroy = function() {\n    this.dragHandler.off(this);\n    this.view = this.controller = this.dragHandler = null;\n};\n\n/**\n * Check target element is expected condition for activate this plugins.\n * @param {HTMLElement} target - The element to check\n * @returns {string} - model id\n */\nDayGridClick.prototype.checkExpectCondition = DayGridMove.prototype.checkExpectedCondition;\n\n/**\n * Click event handler\n * @param {object} clickEvent - click event data\n * @emits DayGridClick#clickSchedule\n * @emits DayGridClick#collapse\n * @emits DayGridClick#expand\n */\nDayGridClick.prototype._onClick = function(clickEvent) {\n    var self = this,\n        target = clickEvent.target,\n        dayGridScheduleView = this.checkExpectCondition(target),\n        scheduleCollection = this.controller.schedules,\n        collapseBtnElement = domutil.closest(\n            target,\n            config.classname(\'.weekday-collapse-btn\')\n        ),\n        expandBtnElement = domutil.closest(\n            target,\n            config.classname(\'.weekday-exceed-in-week\')\n        ),\n        containsTarget = this.view.container.contains(target);\n    var blockElement, scheduleElement;\n\n    if (!containsTarget) {\n        return;\n    }\n\n    if (collapseBtnElement) {\n        /**\n         * click collpase btn event\n         * @events DayGridClick#collapse\n         */\n        self.fire(\'collapse\');\n\n        return;\n    }\n\n    if (expandBtnElement) {\n        this.view.setState({\n            clickedExpandBtnIndex: parseInt(domutil.getData(expandBtnElement, \'index\'), 10)\n        });\n\n        /**\n         * click expand btn event\n         * @events DayGridClick#expand\n         */\n        self.fire(\'expand\');\n\n        return;\n    }\n\n    if (!dayGridScheduleView) {\n        return;\n    }\n\n    scheduleElement = domutil.closest(target, config.classname(\'.weekday-schedule\'));\n    if (scheduleElement) {\n        blockElement = domutil.closest(target, config.classname(\'.weekday-schedule-block\'));\n        scheduleCollection.doWhenHas(domutil.getData(blockElement, \'id\'), function(schedule) {\n            /**\n             * @events DayGridClick#clickSchedule\n             * @type {object}\n             * @property {Schedule} schedule - schedule instance\n             * @property {MouseEvent} event - MouseEvent object\n             */\n            self.fire(\'clickSchedule\', {\n                schedule: schedule,\n                event: clickEvent.originEvent\n            });\n        });\n    }\n};\n\nutil.CustomEvents.mixin(DayGridClick);\n\nmodule.exports = DayGridClick;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/daygrid/core.js":\n/*!****************************************!*\\\n  !*** ./src/js/handler/daygrid/core.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_439285__) {\n\n"use strict";\n/* eslint no-shadow: 0 */\n/**\n * @fileoverview Base mixin object for handler/daygrid\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_439285__(/*! tui-code-snippet */ "tui-code-snippet");\nvar domutil = __nested_webpack_require_439285__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar domevent = __nested_webpack_require_439285__(/*! ../../common/domevent */ "./src/js/common/domevent.js");\nvar common = __nested_webpack_require_439285__(/*! ../../common/common */ "./src/js/common/common.js");\nvar datetime = __nested_webpack_require_439285__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\n\nvar mmax = Math.max,\n    mmin = Math.min;\n\n/**\n * @mixin dayGridCore\n */\nvar dayGridCore = {\n    /**\n     * @param {view} view - view instance.\n     * @param {MouseEvent} mouseEvent - mouse schedule object.\n     * @returns {function|boolean} function that return schedule data by mouse events.\n     */\n    _retriveScheduleData: function(view, mouseEvent) {\n        var weekdayView = view.children.single(),\n            container,\n            datesInRange,\n            containerWidth,\n            mousePos,\n            dragStartXIndex,\n            grids,\n            range;\n\n        if (!weekdayView) {\n            return false;\n        }\n\n        container = weekdayView.container;\n        range = weekdayView.getRenderDateRange();\n        datesInRange = range.length;\n        grids = weekdayView.getRenderDateGrids();\n\n        containerWidth = domutil.getSize(container)[0];\n        mousePos = domevent.getMousePosition(mouseEvent, container);\n        dragStartXIndex = getX(grids, common.ratio(containerWidth, 100, mousePos[0]));\n\n        /**\n         * @param {MouseEvent} mouseEvent - mouse schedule in drag actions.\n         * @returns {object} schedule data.\n         */\n        return function(mouseEvent) {\n            var pos = domevent.getMousePosition(mouseEvent, container),\n                mouseX = pos[0],\n                xIndex = getX(grids, common.ratio(containerWidth, 100, mouseX));\n\n            // apply limitation of creation schedule X index.\n            xIndex = mmax(xIndex, 0);\n            xIndex = mmin(xIndex, datesInRange - 1);\n\n            return {\n                relatedView: view,\n                dragStartXIndex: dragStartXIndex,\n                datesInRange: datesInRange,\n                xIndex: xIndex,\n                triggerEvent: mouseEvent.type,\n                grids: grids,\n                range: range\n            };\n        };\n    },\n\n    /**\n     * @param {view} view - view instance.\n     * @param {TZDate} startDate - start date\n     * @returns {object} schedule data by mouse events.\n     */\n    _retriveScheduleDataFromDate: function(view, startDate) {\n        var weekdayView = view.children.single(),\n            xIndex = 0,\n            datesInRange,\n            dragStartXIndex = 0,\n            grids,\n            range;\n\n        if (!weekdayView) {\n            return false;\n        }\n\n        range = weekdayView.getRenderDateRange();\n        datesInRange = range.length;\n        grids = weekdayView.getRenderDateGrids();\n\n        util.forEach(range, function(date, index) {\n            if (datetime.isSameDate(date, startDate)) {\n                xIndex = dragStartXIndex = index;\n            }\n        });\n\n        // apply limitation of creation schedule X index.\n        xIndex = mmax(xIndex, 0);\n        xIndex = mmin(xIndex, datesInRange - 1);\n\n        return {\n            relatedView: view,\n            dragStartXIndex: dragStartXIndex,\n            datesInRange: datesInRange,\n            xIndex: xIndex,\n            triggerEvent: \'manual\',\n            grids: grids,\n            range: range\n        };\n    }\n};\n\n/**\n * Get the left index\n * @param {Array} grids - grid size information\n * @param {number} left - left position(percent)\n * @returns {number} grid left index\n */\nfunction getX(grids, left) {\n    var i = 0;\n    var length = grids.length;\n    var grid;\n    if (left < 0) {\n        left = 0;\n    }\n\n    for (; i < length; i += 1) {\n        grid = grids[i];\n        if (grid.left <= left && left <= (grid.left + grid.width)) {\n            return i;\n        }\n    }\n\n    return i;\n}\n\nmodule.exports = dayGridCore;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/daygrid/creation.js":\n/*!********************************************!*\\\n  !*** ./src/js/handler/daygrid/creation.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_443780__) {\n\n"use strict";\n/**\n * @fileoverview Handler module for WeekdayInWeek view\'s creation actions.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_443780__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_443780__(/*! ../../config */ "./src/js/config.js");\nvar datetime = __nested_webpack_require_443780__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar common = __nested_webpack_require_443780__(/*! ../../common/common */ "./src/js/common/common.js");\nvar domutil = __nested_webpack_require_443780__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar domevent = __nested_webpack_require_443780__(/*! ../../common/domevent */ "./src/js/common/domevent.js");\nvar dayGridCore = __nested_webpack_require_443780__(/*! ./core */ "./src/js/handler/daygrid/core.js");\nvar DayGridCreationGuide = __nested_webpack_require_443780__(/*! ./creationGuide */ "./src/js/handler/daygrid/creationGuide.js");\nvar TZDate = __nested_webpack_require_443780__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\n\nvar CLICK_DELAY = 300;\n\n/**\n * @constructor\n * @implements {Handler}\n * @mixes dayGridCore\n * @mixes CutomEvents\n * @param {Drag} [dragHandler] - Drag handler instance.\n * @param {DayGrid} [view] - DayGrid view instance.\n * @param {Base} [controller] - Base controller instance.\n * @param {Options} [options] - calendar Options\n */\nfunction DayGridCreation(dragHandler, view, controller, options) {\n    /**\n     * Drag handler instance.\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * view instance.\n     * @type {DayGrid}\n     */\n    this.view = view;\n\n    /**\n     * Base controller instance.\n     * @type {Base}\n     */\n    this.controller = controller;\n\n    /**\n     * @type {function}\n     */\n    this.getScheduleDataFunc = null;\n\n    /**\n     * @type {DayGridCreationGuide}\n     */\n    this.guide = new DayGridCreationGuide(this);\n\n    /**\n     * @type {boolean}\n     */\n    this._requestOnClick = false;\n\n    /**\n     * @type {boolean}\n     */\n    this._disableDblClick = options.disableDblClick;\n\n    /**\n     * @type {boolean}\n     */\n    this._disableClick = options.disableClick;\n\n    dragHandler.on(\'dragStart\', this._onDragStart, this);\n    dragHandler.on(\'click\', this._onClick, this);\n\n    if (this._disableDblClick) {\n        CLICK_DELAY = 0;\n    } else {\n        domevent.on(view.container, \'dblclick\', this._onDblClick, this);\n    }\n}\n\n/**\n * Destroy method\n */\nDayGridCreation.prototype.destroy = function() {\n    this.guide.destroy();\n    this.dragHandler.off(this);\n\n    if (this.view && this.view.container) {\n        domevent.off(this.view.container, \'dblclick\', this._onDblClick, this);\n    }\n\n    this.dragHandler = this.view = this.controller = this.getScheduleDataFunc = null;\n};\n\n/**\n * Check dragstart target is expected conditions for this handler.\n * @param {HTMLElement} target - dragstart event handler\'s target element.\n * @returns {boolean|WeekdayInWeek} return WeekdayInWeek view instance when satiate condition.\n */\nDayGridCreation.prototype.checkExpectedCondition = function(target) {\n    var cssClass = domutil.getClass(target).trim();\n    var excludeTarget = true;\n    var matches, schedulesElement;\n\n    if (domutil.closest(target, config.classname(\'.weekday-exceed-in-week\'))\n        || domutil.closest(target, config.classname(\'.weekday-collapse-btn\'))\n    ) {\n        return false;\n    }\n\n    if (domutil.closest(target, config.classname(\'.weekday-schedule-block\'), excludeTarget)) {\n        return false;\n    }\n\n    schedulesElement = domutil.closest(target, config.classname(\'.weekday-schedules\'));\n    if (!schedulesElement && cssClass !== config.classname(\'weekday-schedules\')) {\n        return false;\n    }\n\n    target = schedulesElement ? schedulesElement.parentNode : target.parentNode;\n    cssClass = domutil.getClass(target);\n    matches = cssClass.match(config.daygrid.getViewIDRegExp);\n\n    if (!matches || matches.length < 2) {\n        return false;\n    }\n\n    return util.pick(this.view.children.items, matches[1]);\n};\n\n/**\n * Request schedule model creation to controller by custom schedules.\n * @fires {DayGridCreation#beforeCreateSchedule}\n * @param {object} scheduleData - schedule data from DayGridCreation module.\n */\nDayGridCreation.prototype._createSchedule = function(scheduleData) {\n    var dateRange = scheduleData.range,\n        startXIndex = scheduleData.dragStartXIndex,\n        xIndex = scheduleData.xIndex,\n        start, end;\n\n    // when inverse start, end then change it.\n    if (xIndex < startXIndex) {\n        startXIndex = xIndex + startXIndex;\n        xIndex = startXIndex - xIndex;\n        startXIndex = startXIndex - xIndex;\n    }\n\n    start = new TZDate(dateRange[startXIndex]);\n    end = datetime.end(dateRange[xIndex]);\n\n    /**\n     * @event {DayGridCreation#beforeCreateSchedule}\n     * @type {object}\n     * @property {string} category - schedule category\n     * @property {boolean} isAllDay - whether schedule is fired in view area?\n     * @property {Date} start - select start time\n     * @property {Date} end - select end time\n     * @property {DayGridCreationGuide} guide - DayGridCreationGuide instance\n     * @property {string} triggerEventName - event name\n     */\n    this.fire(\'beforeCreateSchedule\', {\n        category: this.view.options.viewName,\n        isAllDay: true,\n        start: start,\n        end: end,\n        guide: this.guide,\n        triggerEventName: scheduleData.triggerEvent\n    });\n};\n\n/**\n * DragStart event handler method.\n * @emits DayGridCreation#dragstart\n * @param {object} dragStartEventData - Drag#dragStart event handler schedule data.\n */\nDayGridCreation.prototype._onDragStart = function(dragStartEventData) {\n    var target = dragStartEventData.target,\n        result = this.checkExpectedCondition(target),\n        getScheduleDataFunc,\n        scheduleData;\n\n    if (!result) {\n        return;\n    }\n\n    this.dragHandler.on({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    getScheduleDataFunc = this._retriveScheduleData(this.view, dragStartEventData.originEvent);\n    this.getScheduleDataFunc = getScheduleDataFunc;\n\n    scheduleData = getScheduleDataFunc(dragStartEventData.originEvent);\n\n    /**\n     * @event DayGridCreation#dragstart\n     * @type {object}\n     * @property {DayGridView} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     */\n    this.fire(\'dragstart\', scheduleData);\n};\n\n/**\n * Drag event handler method.\n * @emits DayGridCreation#drag\n * @param {object} dragEventData - Drag#drag event handler scheduledata.\n */\nDayGridCreation.prototype._onDrag = function(dragEventData) {\n    var getScheduleDataFunc = this.getScheduleDataFunc,\n        scheduleData;\n\n    if (!getScheduleDataFunc) {\n        return;\n    }\n\n    scheduleData = getScheduleDataFunc(dragEventData.originEvent);\n\n    /**\n     * @event DayGridCreation#drag\n     * @type {object}\n     * @property {DayGridView} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     */\n    this.fire(\'drag\', scheduleData);\n};\n\n/**\n * DragEnd event hander method.\n * @emits DayGridCreation#dragend\n * @param {object} dragEndEventData - Drag#dragEnd event handler data.\n * @param {string} [overrideEventName] - override emitted event name when supplied.\n */\nDayGridCreation.prototype._onDragEnd = function(dragEndEventData, overrideEventName) {\n    var getScheduleDataFunc = this.getScheduleDataFunc;\n    var scheduleData;\n\n    if (!getScheduleDataFunc) {\n        return;\n    }\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    scheduleData = getScheduleDataFunc(dragEndEventData.originEvent);\n\n    this._createSchedule(scheduleData);\n\n    /**\n     * @event DayGridCreation#dragend\n     * @type {object}\n     * @property {DayGridView} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     */\n    this.fire(overrideEventName || \'dragend\', scheduleData);\n\n    this.getScheduleDataFunc = null;\n};\n\n/**\n * Click event handler method.\n * @emits DayGridCreation#click\n * @param {object} clickEventData - Drag#click event handler data.\n */\nDayGridCreation.prototype._onClick = function(clickEventData) {\n    var self = this;\n    var getScheduleDataFunc, scheduleData;\n\n    if (!this.checkExpectedCondition(clickEventData.target) || this._disableClick) {\n        return;\n    }\n\n    getScheduleDataFunc = this._retriveScheduleData(this.view, clickEventData.originEvent);\n    scheduleData = getScheduleDataFunc(clickEventData.originEvent);\n\n    this._requestOnClick = true;\n    setTimeout(function() {\n        if (self._requestOnClick) {\n            self.fire(\'click\', scheduleData);\n            self._createSchedule(scheduleData);\n        }\n        self._requestOnClick = false;\n    }, CLICK_DELAY);\n};\n\n/**\n * Dblclick event handler method.\n * @emits DayGridCreation#click\n * @param {object} clickEventData - Drag#Click event handler data.\n */\nDayGridCreation.prototype._onDblClick = function(clickEventData) {\n    var getScheduleDataFunc, scheduleData;\n\n    if (!this.checkExpectedCondition(clickEventData.target)) {\n        return;\n    }\n\n    getScheduleDataFunc = this._retriveScheduleData(this.view, clickEventData);\n    scheduleData = getScheduleDataFunc(clickEventData);\n\n    this.fire(\'click\', scheduleData);\n\n    this._createSchedule(scheduleData);\n\n    this._requestOnClick = false;\n};\n\n/**\n * Invoke creation click\n * @param {Schedule} schedule - schedule instance\n */\nDayGridCreation.prototype.invokeCreationClick = function(schedule) {\n    var scheduleData = this._retriveScheduleDataFromDate(this.view, schedule.start);\n\n    this.fire(\'click\', scheduleData);\n\n    this._createSchedule(scheduleData);\n};\n\ncommon.mixin(dayGridCore, DayGridCreation);\nutil.CustomEvents.mixin(DayGridCreation);\n\nmodule.exports = DayGridCreation;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/daygrid/creationGuide.js":\n/*!*************************************************!*\\\n  !*** ./src/js/handler/daygrid/creationGuide.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_454420__) {\n\n"use strict";\n/**\n * @fileoverview Guide element for DayGrid.Creation\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar config = __nested_webpack_require_454420__(/*! ../../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_454420__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar reqAnimFrame = __nested_webpack_require_454420__(/*! ../../common/reqAnimFrame */ "./src/js/common/reqAnimFrame.js");\n\n/**\n * Class for DayGrid.Creation dragging effect.\n * @constructor\n * @param {DayGridCreation} creation - instance of DayGridCreation.\n */\nfunction DayGridCreationGuide(creation) {\n    /**\n     * @type {DayGridCreation}\n     */\n    this.creation = creation;\n\n    /**\n     * @type {HTMLDIVElement}\n     */\n    this.scheduleContainer = null;\n\n    /**\n     * @type {HTMLDIVElement}\n     */\n    this.guideElement = document.createElement(\'div\');\n\n    this.initializeGuideElement();\n    this.applyTheme(creation.controller.theme);\n\n    creation.on({\n        dragstart: this._createGuideElement,\n        drag: this._onDrag,\n        click: this._createGuideElement\n    }, this);\n}\n\n/**\n * Destroy method\n */\nDayGridCreationGuide.prototype.destroy = function() {\n    this.clearGuideElement();\n    this.creation.off(this);\n    this.creation = this.scheduleContainer = this.guideElement = null;\n};\n\n/**\n * initialize guide element\'s default style.\n */\nDayGridCreationGuide.prototype.initializeGuideElement = function() {\n    domutil.addClass(this.guideElement, config.classname(\'daygrid-guide-creation-block\'));\n};\n\n/**\n * Drag event handler\n * @param {object} scheduleData - schedule data from DayGrid.Creation handler.\n */\nDayGridCreationGuide.prototype._onDrag = function(scheduleData) {\n    this._refreshGuideElement(scheduleData, true);\n};\n\n/**\n * Get element width based on narrowWeekend\n * @param {number} dragStartIndex - grid start index\n * @param {number} dragEndIndex - grid end index\n * @param {Array} grids - dates information\n * @returns {number} element width\n */\nDayGridCreationGuide.prototype._getGuideWidth = function(dragStartIndex, dragEndIndex, grids) {\n    var width = 0;\n    var i = dragStartIndex;\n    for (; i <= dragEndIndex; i += 1) {\n        width += grids[i] ? grids[i].width : 0;\n    }\n\n    return width;\n};\n\n/**\n * Refresh guide element.\n * @param {object} scheduleData - schedule data from DayGrid.Creation handler.\n * @param {boolean} defer - If set to true, set style in the next frame\n */\nDayGridCreationGuide.prototype._refreshGuideElement = function(scheduleData, defer) {\n    var guideElement = this.guideElement,\n        data = scheduleData,\n        dragStartXIndex = data.dragStartXIndex < data.xIndex ? data.dragStartXIndex : data.xIndex,\n        dragEndXIndex = data.dragStartXIndex < data.xIndex ? data.xIndex : data.dragStartXIndex,\n        leftPercent,\n        widthPercent;\n\n    leftPercent = data.grids[dragStartXIndex] ? data.grids[dragStartXIndex].left : 0;\n    widthPercent = this._getGuideWidth(dragStartXIndex, dragEndXIndex, data.grids);\n\n    /** eslint-disable require-jsdoc */\n    function setStyle() {\n        guideElement.style.display = \'block\';\n        guideElement.style.left = leftPercent + \'%\';\n        guideElement.style.width = widthPercent + \'%\';\n    }\n\n    if (defer) {\n        reqAnimFrame.requestAnimFrame(setStyle);\n    } else {\n        setStyle();\n    }\n};\n\n/**\n * Clear guide element.\n */\nDayGridCreationGuide.prototype.clearGuideElement = function() {\n    var guideElement = this.guideElement;\n\n    domutil.remove(guideElement);\n\n    guideElement.style.display = \'none\';\n    guideElement.style.left = \'\';\n    guideElement.style.width = \'\';\n};\n\n/**\n * Create guide element\n * @param {object} dragStartEventData - schedule data object of DayGrid.Creation.\n */\nDayGridCreationGuide.prototype._createGuideElement = function(dragStartEventData) {\n    var creation = this.creation,\n        view = creation.view,\n        container = view.container,\n        scheduleContainer = domutil.find(config.classname(\'.weekday-grid\'), container);\n\n    scheduleContainer.appendChild(this.guideElement);\n    this._refreshGuideElement(dragStartEventData);\n};\n\n/**\n * Drag event handler.\n * @param {object} dragEventData - event data object of DayGrid.Creation.\n */\nDayGridCreationGuide.prototype._onDrag = function(dragEventData) {\n    this._refreshGuideElement(dragEventData);\n};\n\nDayGridCreationGuide.prototype.applyTheme = function(theme) {\n    var style = this.guideElement.style;\n\n    style.backgroundColor = theme.common.creationGuide.backgroundColor;\n    style.border = theme.common.creationGuide.border;\n};\n\nmodule.exports = DayGridCreationGuide;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/daygrid/move.js":\n/*!****************************************!*\\\n  !*** ./src/js/handler/daygrid/move.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_459309__) {\n\n"use strict";\n/**\n * @fileoverview Move handler for DayGrid view.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_459309__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_459309__(/*! ../../config */ "./src/js/config.js");\nvar common = __nested_webpack_require_459309__(/*! ../../common/common */ "./src/js/common/common.js");\nvar domutil = __nested_webpack_require_459309__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar dayGridCore = __nested_webpack_require_459309__(/*! ./core */ "./src/js/handler/daygrid/core.js");\nvar DayGridMoveGuide = __nested_webpack_require_459309__(/*! ./moveGuide */ "./src/js/handler/daygrid/moveGuide.js");\nvar TZDate = __nested_webpack_require_459309__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\n\n/**\n * @constructor\n * @implements {Handler}\n * @mixes dayGridCore\n * @mixes CustomEvents\n * @param {Drag} dragHandler - Drag handler instance.\n * @param {DayGrid} view - view instance.\n * @param {Base} controller - Base controller instance.\n */\nfunction DayGridMove(dragHandler, view, controller) {\n    /**\n     * Drag handler instance.\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * view instance.\n     * @type {DayGrid}\n     */\n    this.view = view;\n\n    /**\n     * Base controller instance.\n     * @type {Base}\n     */\n    this.controller = controller;\n\n    /**\n     * Temporary variable for dragstart event data.\n     * @type {object}\n     */\n    this._dragStart = null;\n\n    dragHandler.on({\n        dragStart: this._onDragStart\n    }, this);\n\n    /**\n     * @type {DayGridMoveGuide}\n     */\n    this.guide = new DayGridMoveGuide(this);\n}\n\nDayGridMove.prototype.destroy = function() {\n    this.guide.destroy();\n    this.dragHandler.off(this);\n    this.dragHandler = this.view = this.controller =\n        this.guide = this._dragStart = null;\n};\n\n/**\n * Check dragstart target is expected conditions for this handler.\n * @param {HTMLElement} target - dragstart event handler\'s target element.\n * @returns {boolean|DayGridSchedule} return DayGridSchedule view instance when satiate condition.\n */\nDayGridMove.prototype.checkExpectedCondition = function(target) {\n    var cssClass = domutil.getClass(target),\n        parentView,\n        matches;\n\n    if (~cssClass.indexOf(config.classname(\'weekday-resize-handle\'))) {\n        return false;\n    }\n\n    parentView = domutil.closest(target, config.classname(\'.weekday\'));\n\n    if (!parentView) {\n        return false;\n    }\n\n    cssClass = domutil.getClass(parentView);\n    matches = cssClass.match(config.daygrid.getViewIDRegExp);\n\n    if (!matches || matches.length < 2) {\n        return false;\n    }\n\n    return util.pick(this.view.children.items, matches[1]);\n};\n\n/**\n * DragStart event handler method.\n * @emits DayGridMove#dragstart\n * @param {object} dragStartEventData - Drag#dragStart event handler event data.\n */\nDayGridMove.prototype._onDragStart = function(dragStartEventData) {\n    var target = dragStartEventData.target,\n        result = this.checkExpectedCondition(target),\n        controller = this.controller,\n        excludeTarget = true,\n        scheduleBlockElement,\n        modelID,\n        targetModel,\n        getScheduleDataFunc,\n        scheduleData;\n\n    if (!result) {\n        return;\n    }\n\n    scheduleBlockElement = domutil.closest(target, config.classname(\'.weekday-schedule-block\'), excludeTarget);\n    if (!scheduleBlockElement) {\n        return;\n    }\n\n    modelID = domutil.getData(scheduleBlockElement, \'id\');\n    targetModel = controller.schedules.items[modelID];\n\n    if (!targetModel) {\n        return;\n    }\n\n    if (targetModel.isReadOnly) {\n        return;\n    }\n\n    getScheduleDataFunc = this._retriveScheduleData(this.view, dragStartEventData.originEvent);\n    this.getScheduleDataFunc = getScheduleDataFunc;\n    scheduleData = this._dragStart = getScheduleDataFunc(dragStartEventData.originEvent);\n\n    util.extend(scheduleData, {\n        scheduleBlockElement: scheduleBlockElement,\n        model: targetModel\n    });\n\n    this.dragHandler.on({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd,\n        click: this._onClick\n    }, this);\n\n    /**\n     * @event DayGridMove#dragstart\n     * @type {object}\n     * @property {DayGrid} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     * @property {Schedule} model - data object of model isntance.\n     * @property {HTMLDivElement} scheduleBlockElement - target schedule block element.\n     */\n    this.fire(\'dragstart\', scheduleData);\n};\n\n/**\n * Drag event handler method.\n * @emits DayGridMove#drag\n * @param {object} dragEventData - Drag#drag event handler eventdata.\n */\nDayGridMove.prototype._onDrag = function(dragEventData) {\n    var getScheduleDataFunc = this.getScheduleDataFunc;\n\n    if (!getScheduleDataFunc) {\n        return;\n    }\n\n    /**\n     * @schedule DayGridMove#drag\n     * @type {object}\n     * @property {DayGrid} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     */\n    this.fire(\'drag\', getScheduleDataFunc(dragEventData.originEvent));\n};\n\n/**\n * Request update schedule model to base controller.\n * @fires DayGridMove#beforeUpdateSchedule\n * @param {object} scheduleData - schedule data from DayGridMove handler module.\n */\nDayGridMove.prototype._updateSchedule = function(scheduleData) {\n    var schedule = scheduleData.targetModel,\n        dateOffset = scheduleData.xIndex - scheduleData.dragStartXIndex,\n        newStarts = new TZDate(schedule.start),\n        newEnds = new TZDate(schedule.end);\n\n    newStarts = newStarts.addDate(dateOffset);\n    newEnds = newEnds.addDate(dateOffset);\n\n    /**\n     * @event DayGridMove#beforeUpdateSchedule\n     * @type {object}\n     * @property {Schedule} schedule - The original schedule instance\n     * @property {Date} start - Deprecated: start time to update\n     * @property {Date} end - Deprecated: end time to update\n     * @property {object} changes - start and end time to update\n     *  @property {Date} start - start time to update\n     *  @property {Date} end - end time to update\n     */\n    this.fire(\'beforeUpdateSchedule\', {\n        schedule: schedule,\n        changes: {\n            start: newStarts,\n            end: newEnds\n        },\n        start: newStarts,\n        end: newEnds\n    });\n};\n\n/**\n * DragEnd event hander method.\n * @emits DayGridMove#dragend\n * @param {object} dragEndEventData - Drag#DragEnd event handler data.\n * @param {string} [overrideEventName] - override emitted event name when supplied.\n * @param {?boolean} skipUpdate - true then skip update schedule model.\n */\nDayGridMove.prototype._onDragEnd = function(dragEndEventData, overrideEventName, skipUpdate) {\n    var getScheduleDataFunc = this.getScheduleDataFunc,\n        dragStart = this._dragStart,\n        scheduleData;\n\n    if (!getScheduleDataFunc || !dragStart) {\n        return;\n    }\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd,\n        click: this._onClick\n    }, this);\n\n    scheduleData = getScheduleDataFunc(dragEndEventData.originEvent);\n    util.extend(scheduleData, {\n        targetModel: dragStart.model\n    });\n\n    if (!skipUpdate) {\n        this._updateSchedule(scheduleData);\n    }\n\n    /**\n     * @event DayGridMove#dragend\n     * @type {object}\n     * @property {DayGrid} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     */\n    this.fire(overrideEventName || \'dragend\', scheduleData);\n\n    this.getScheduleDataFunc = this._dragStart = null;\n};\n\n/**\n * Click event handler method.\n * @emits DayGridMove#click\n * @param {object} clickEventData - Drag#Click event handler data.\n */\nDayGridMove.prototype._onClick = function(clickEventData) {\n    /**\n     * @event DayGridMove#click\n     * @type {object}\n     * @property {DayGrid} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     */\n    this._onDragEnd(clickEventData, \'click\', true);\n};\n\ncommon.mixin(dayGridCore, DayGridMove);\nutil.CustomEvents.mixin(DayGridMove);\n\nmodule.exports = DayGridMove;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/daygrid/moveGuide.js":\n/*!*********************************************!*\\\n  !*** ./src/js/handler/daygrid/moveGuide.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_468331__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview Effect module for DayGrid.Move\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_468331__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_468331__(/*! ../../config */ "./src/js/config.js");\nvar datetime = __nested_webpack_require_468331__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar domutil = __nested_webpack_require_468331__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar reqAnimFrame = __nested_webpack_require_468331__(/*! ../../common/reqAnimFrame */ "./src/js/common/reqAnimFrame.js");\n\n/**\n * Class for DayGrid.Move dragging effect.\n * @constructor\n * @param {DayGridMove} daygridMove - instance of DayGridMove.\n */\nfunction DayGridMoveGuide(daygridMove) {\n    /**\n     * @type {DayGridMove}\n     */\n    this.daygridMove = daygridMove;\n\n    /**\n     * The element that actually contains the event element\n     * @type {HTMLDIVElement}\n     */\n    this.scheduleContainer = null;\n\n    /**\n     * @type {number}\n     */\n    this._dragStartXIndex = null;\n\n    /**\n     * @type {HTMLDIVElement}\n     */\n    this.guideElement = null;\n\n    /**\n     * @type {HTMLElement[]}\n     */\n    this.elements = null;\n\n    daygridMove.on({\n        \'dragstart\': this._onDragStart,\n        \'drag\': this._onDrag,\n        \'dragend\': this._clearGuideElement,\n        \'click\': this._clearGuideElement\n    }, this);\n}\n\n/**\n * Destroy method\n */\nDayGridMoveGuide.prototype.destroy = function() {\n    this._clearGuideElement();\n    this.daygridMove.off(this);\n    this.daygridMove = this.scheduleContainer = this._dragStartXIndex =\n        this.elements = this.guideElement = null;\n};\n\n/**\n * Clear guide element.\n */\nDayGridMoveGuide.prototype._clearGuideElement = function() {\n    this._showOriginScheduleBlocks();\n\n    domutil.remove(this.guideElement);\n\n    if (!util.browser.msie) {\n        domutil.removeClass(global.document.body, config.classname(\'dragging\'));\n    }\n\n    this._dragStartXIndex = this.getScheduleDataFunc = this.guideElement = null;\n};\n\n/**\n * Dim element blocks\n * @param {number} modelID - Schedule model instance ID\n */\nDayGridMoveGuide.prototype._hideOriginScheduleBlocks = function(modelID) {\n    var className = config.classname(\'weekday-schedule-block-dragging-dim\');\n    var scheduleBlocks = domutil.find(\n        config.classname(\'.weekday-schedule-block\'),\n        this.daygridMove.view.container,\n        true\n    );\n\n    this.elements = util.filter(scheduleBlocks, function(schedule) {\n        return domutil.getData(schedule, \'id\') === modelID;\n    });\n\n    util.forEach(this.elements, function(el) {\n        domutil.addClass(el, className);\n    });\n};\n\n/**\n * Show element blocks\n */\nDayGridMoveGuide.prototype._showOriginScheduleBlocks = function() {\n    var className = config.classname(\'weekday-schedule-block-dragging-dim\');\n\n    util.forEach(this.elements, function(el) {\n        domutil.removeClass(el, className);\n    });\n};\n\n/**\n * Highlight element blocks\n * @param {Schedule} model - model\n * @param {HTMLElement} parent - parent element\n */\nDayGridMoveGuide.prototype._highlightScheduleBlocks = function(model, parent) {\n    var elements = domutil.find(config.classname(\'.weekday-schedule\'), parent, true);\n\n    util.forEach(elements, function(el) {\n        el.style.margin = \'0\';\n\n        if (!model.isFocused) {\n            el.style.backgroundColor = model.dragBgColor;\n            el.style.borderLeftColor = model.borderColor;\n            el.style.color = \'#ffffff\';\n        }\n    });\n};\n\n/**\n * Refresh guide element.\n * @param {number} leftPercent - left percent of guide element.\n * @param {number} widthPercent - width percent of guide element.\n * @param {boolean} isExceededLeft - schedule start is faster then render start date?\n * @param {boolean} isExceededRight - schedule end is later then render end date?\n */\nDayGridMoveGuide.prototype.refreshGuideElement = function(leftPercent, widthPercent, isExceededLeft, isExceededRight) {\n    var guideElement = this.guideElement;\n\n    reqAnimFrame.requestAnimFrame(function() {\n        guideElement.style.left = leftPercent + \'%\';\n        guideElement.style.width = widthPercent + \'%\';\n\n        if (isExceededLeft) {\n            domutil.addClass(guideElement, config.classname(\'weekday-exceed-left\'));\n        } else {\n            domutil.removeClass(guideElement, config.classname(\'weekday-exceed-left\'));\n        }\n\n        if (isExceededRight) {\n            domutil.addClass(guideElement, config.classname(\'weekday-exceed-right\'));\n        } else {\n            domutil.removeClass(guideElement, config.classname(\'weekday-exceed-right\'));\n        }\n    });\n};\n\n/**\n * Get schedule block information from schedule data.\n *\n * For example, there is single schedule has 10 length. but render range in view is 5 then\n * rendered block must be cut out to render properly. in this case, this method return\n * how many block are cut before rendering.\n *\n * @param {object} dragStartEventData - schedule data from DayGrid.Move handler.\n * @returns {function} function that return schedule block information.\n */\nDayGridMoveGuide.prototype._getScheduleBlockDataFunc = function(dragStartEventData) {\n    var model = dragStartEventData.model,\n        datesInRange = dragStartEventData.datesInRange,\n        range = dragStartEventData.range,\n        baseWidthPercent = (100 / datesInRange),\n        originScheduleStarts = datetime.start(model.start),\n        originScheduleEnds = datetime.end(model.end),\n        renderStartDate = datetime.start(range[0]),\n        renderEndDate = datetime.end(range[range.length - 1]),\n        fromLeft = Math.ceil((originScheduleStarts.getTime() -\n            renderStartDate.getTime()) / datetime.MILLISECONDS_PER_DAY) || 0,\n        fromRight = Math.ceil((originScheduleEnds.getTime() -\n            renderEndDate.getTime()) / datetime.MILLISECONDS_PER_DAY) || 0;\n\n    return function(indexOffset) {\n        return {\n            baseWidthPercent: baseWidthPercent,\n            fromLeft: fromLeft + indexOffset,\n            fromRight: fromRight + indexOffset\n        };\n    };\n};\n\n/**\n * DragStart event handler.\n * @param {object} dragStartEventData - schedule data.\n */\nDayGridMoveGuide.prototype._onDragStart = function(dragStartEventData) {\n    var container = this.daygridMove.view.container,\n        guideElement = this.guideElement = dragStartEventData.scheduleBlockElement.cloneNode(true),\n        scheduleContainer;\n\n    if (!util.browser.msie) {\n        domutil.addClass(global.document.body, config.classname(\'dragging\'));\n    }\n\n    this._hideOriginScheduleBlocks(String(dragStartEventData.model.cid()));\n\n    scheduleContainer = domutil.find(config.classname(\'.weekday-schedules\'), container);\n    domutil.appendHTMLElement(\'div\', guideElement, config.classname(\'weekday-schedule-cover\'));\n    scheduleContainer.appendChild(guideElement);\n\n    this._dragStartXIndex = dragStartEventData.xIndex;\n    this.getScheduleDataFunc = this._getScheduleBlockDataFunc(dragStartEventData);\n\n    this._highlightScheduleBlocks(dragStartEventData.model, guideElement);\n};\n\n/**\n * Drag event handler.\n * @param {object} dragEventData - schedule data.\n */\nDayGridMoveGuide.prototype._onDrag = function(dragEventData) {\n    var getScheduleDataFunc = this.getScheduleDataFunc,\n        dragStartXIndex = this._dragStartXIndex,\n        datesInRange = dragEventData.datesInRange,\n        grids = dragEventData.grids,\n        scheduleData,\n        isExceededLeft,\n        isExceededRight,\n        originLength,\n        leftIndex,\n        size,\n        newLeft,\n        newWidth;\n\n    if (!getScheduleDataFunc) {\n        return;\n    }\n\n    scheduleData = getScheduleDataFunc(dragEventData.xIndex - dragStartXIndex);\n    isExceededLeft = scheduleData.fromLeft < 0;\n    isExceededRight = scheduleData.fromRight > 0;\n\n    leftIndex = Math.max(0, scheduleData.fromLeft);\n    originLength = (scheduleData.fromLeft * -1) + (datesInRange + scheduleData.fromRight);\n    size = isExceededLeft ? (originLength + scheduleData.fromLeft) : originLength;\n    size = isExceededRight ? (size - scheduleData.fromRight) : size;\n\n    newLeft = grids[leftIndex] ? grids[leftIndex].left : 0;\n    newWidth = getScheduleBlockWidth(leftIndex, size, grids);\n\n    this.refreshGuideElement(newLeft, newWidth, isExceededLeft, isExceededRight);\n};\n\n/**\n * Get schedule width based on grids\n * @param {number} left - left index\n * @param {number} size - schedule width\n * @param {Array} grids - dates information\n * @returns {number} element width\n */\nfunction getScheduleBlockWidth(left, size, grids) {\n    var width = 0;\n    var i = 0;\n    var length = grids.length;\n    for (; i < size; i += 1) {\n        left = (left + i) % length;\n        if (left < length) {\n            width += grids[left] ? grids[left].width : 0;\n        }\n    }\n\n    return width;\n}\n\nmodule.exports = DayGridMoveGuide;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_468331__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/handler/daygrid/resize.js":\n/*!******************************************!*\\\n  !*** ./src/js/handler/daygrid/resize.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_477682__) {\n\n"use strict";\n/**\n * @fileoverview Resize handler module for DayGrid view.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_477682__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_477682__(/*! ../../config */ "./src/js/config.js");\nvar datetime = __nested_webpack_require_477682__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar domutil = __nested_webpack_require_477682__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar common = __nested_webpack_require_477682__(/*! ../../common/common */ "./src/js/common/common.js");\nvar dayGridCore = __nested_webpack_require_477682__(/*! ./core */ "./src/js/handler/daygrid/core.js");\nvar DayGridResizeGuide = __nested_webpack_require_477682__(/*! ./resizeGuide */ "./src/js/handler/daygrid/resizeGuide.js");\nvar TZDate = __nested_webpack_require_477682__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\n\n/**\n * @constructor\n * @implements {Handler}\n * @mixes dayGridCore\n * @mixes CustomEvents\n * @param {Drag} [dragHandler] - Drag handler instance.\n * @param {DayGrid} [view] - view instance.\n * @param {Base} [controller] - Base controller instance.\n */\nfunction DayGridResize(dragHandler, view, controller) {\n    /**\n     * Drag handler instance.\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * view instance.\n     * @type {DayGrid}\n     */\n    this.view = view;\n\n    /**\n     * Base controller instance.\n     * @type {Base}\n     */\n    this.controller = controller;\n\n    /**\n     * Temporary variable for dragStart event data.\n     * @type {object}\n     */\n    this._dragStart = null;\n\n    dragHandler.on({\n        dragStart: this._onDragStart\n    }, this);\n\n    /**\n     * @type {DayGridResizeGuide}\n     */\n    this.guide = new DayGridResizeGuide(this);\n}\n\n/**\n * Destroy method\n */\nDayGridResize.prototype.destroy = function() {\n    this.guide.destroy();\n    this.dragHandler.off(this);\n    this.dragHandler = this.view = this.controller =\n        this.guide = this._dragStart = null;\n};\n\n/**\n * Check dragstart target is expected conditions for this handler.\n * @param {HTMLElement} target - dragstart event handler\'s target element.\n * @returns {boolean|WeekdayInWeek} return WeekdayInWeek view instance when satiate condition.\n */\nDayGridResize.prototype.checkExpectedCondition = function(target) {\n    var cssClass = domutil.getClass(target),\n        matches;\n\n    if (!~cssClass.indexOf(config.classname(\'weekday-resize-handle\'))) {\n        return false;\n    }\n\n    target = domutil.closest(target, config.classname(\'.weekday\'));\n\n    if (!target) {\n        return false;\n    }\n\n    cssClass = domutil.getClass(target);\n    matches = cssClass.match(config.daygrid.getViewIDRegExp);\n\n    if (!matches || matches.length < 2) {\n        return false;\n    }\n\n    return util.pick(this.view.children.items, matches[1]);\n};\n\n/**\n * DragStart event handler.\n * @emits DayGridResize#dragstart\n * @param {object} dragStartEventData - schedule data.\n */\nDayGridResize.prototype._onDragStart = function(dragStartEventData) {\n    var target = dragStartEventData.target,\n        result = this.checkExpectedCondition(target),\n        controller = this.controller,\n        scheduleBlockElement,\n        modelID,\n        targetModel,\n        getScheduleDataFunc,\n        scheduleData;\n\n    if (!result) {\n        return;\n    }\n\n    scheduleBlockElement = domutil.closest(target, config.classname(\'.weekday-schedule-block\'));\n    modelID = domutil.getData(scheduleBlockElement, \'id\');\n    targetModel = controller.schedules.items[modelID];\n\n    if (!targetModel) {\n        return;\n    }\n\n    getScheduleDataFunc = this._retriveScheduleData(this.view, dragStartEventData.originEvent);\n    this.getScheduleDataFunc = getScheduleDataFunc;\n    scheduleData = this._dragStart = getScheduleDataFunc(dragStartEventData.originEvent);\n\n    util.extend(scheduleData, {\n        scheduleBlockElement: scheduleBlockElement,\n        model: targetModel\n    });\n\n    this.dragHandler.on({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd,\n        click: this._onClick\n    }, this);\n\n    /**\n     * @event DayGridResize#dragstart\n     * @type {object}\n     * @property {View} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     * @property {Schedule} model - data object of model isntance.\n     * @property {HTMLDivElement} scheduleBlockElement - target schedule block element.\n     */\n    this.fire(\'dragstart\', scheduleData);\n};\n\n/**\n * Drag event handler method.\n * @emits DayGridResize#drag\n * @param {object} dragEventData - Drag#drag event handler scheduledata.\n */\nDayGridResize.prototype._onDrag = function(dragEventData) {\n    var getScheduleDataFunc = this.getScheduleDataFunc;\n\n    if (!getScheduleDataFunc) {\n        return;\n    }\n\n    /**\n     * @event DayGridResize#drag\n     * @type {object}\n     * @property {View} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     */\n    this.fire(\'drag\', getScheduleDataFunc(dragEventData.originEvent));\n};\n\n/**\n * Request update schedule instance to base controller.\n * @fires DayGridResize#beforeUpdateSchedule\n * @param {object} scheduleData - schedule data from DayGridResize handler.\n */\nDayGridResize.prototype._updateSchedule = function(scheduleData) {\n    var schedule = scheduleData.targetModel,\n        dateOffset = scheduleData.xIndex - scheduleData.dragStartXIndex,\n        newEnds = new TZDate(schedule.end);\n    var changes;\n\n    newEnds = newEnds.addDate(dateOffset);\n    newEnds = new TZDate(common.maxDate(datetime.end(schedule.start), newEnds));\n\n    changes = common.getScheduleChanges(\n        schedule,\n        [\'end\'],\n        {end: newEnds}\n    );\n\n    /**\n     * @event DayGridResize#beforeUpdateSchedule\n     * @type {object}\n     * @property {Schedule} schedule - The original schedule instance\n     * @property {Date} start - Deprecated: start time to update\n     * @property {Date} end - Deprecated: end time to update\n     * @property {object} changes - end time to update\n     *  @property {date} end - end time to update\n     */\n    this.fire(\'beforeUpdateSchedule\', {\n        schedule: schedule,\n        changes: changes,\n        start: schedule.getStarts(),\n        end: newEnds\n    });\n};\n\n/**\n * DragEnd event hander method.\n * @emits DayGridResize#dragend\n * @param {object} dragEndEventData - Drag#DragEnd event handler data.\n * @param {string} [overrideEventName] - override emitted event name when supplied.\n * @param {?boolean} skipUpdate - true then skip update schedule model.\n */\nDayGridResize.prototype._onDragEnd = function(dragEndEventData, overrideEventName, skipUpdate) {\n    var getScheduleDataFunc = this.getScheduleDataFunc,\n        dragStart = this._dragStart,\n        scheduleData;\n\n    if (!getScheduleDataFunc || !dragStart) {\n        return;\n    }\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd,\n        click: this._onClick\n    }, this);\n\n    scheduleData = getScheduleDataFunc(dragEndEventData.originEvent);\n    util.extend(scheduleData, {\n        targetModel: dragStart.model\n    });\n\n    if (!skipUpdate) {\n        this._updateSchedule(scheduleData);\n    }\n\n    /**\n     * @event DayGridResize#dragend\n     * @type {object}\n     * @property {View} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     */\n    this.fire(overrideEventName || \'dragend\', scheduleData);\n\n    this.getScheduleDataFunc = this._dragStart = null;\n};\n\n/**\n * Click event handler method.\n * @emits DayGridResize#click\n * @param {object} clickEventData - Drag#Click event handler data.\n */\nDayGridResize.prototype._onClick = function(clickEventData) {\n    /**\n     * @event DayGridResize#click\n     * @type {object}\n     * @property {View} relatedView - view instance.\n     * @property {number} datesInRange - date count of this view.\n     * @property {number} dragStartXIndex - index number of dragstart grid index.\n     * @property {number} xIndex - index number of mouse positions.\n     */\n    this._onDragEnd(clickEventData, \'click\', true);\n};\n\ncommon.mixin(dayGridCore, DayGridResize);\nutil.CustomEvents.mixin(DayGridResize);\n\nmodule.exports = DayGridResize;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/daygrid/resizeGuide.js":\n/*!***********************************************!*\\\n  !*** ./src/js/handler/daygrid/resizeGuide.js ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_486659__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview Resize Guide module.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_486659__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_486659__(/*! ../../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_486659__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar datetime = __nested_webpack_require_486659__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar reqAnimFrame = __nested_webpack_require_486659__(/*! ../../common/reqAnimFrame */ "./src/js/common/reqAnimFrame.js");\n\n/**\n * @constructor\n * @param {DayGridResize} resizeHandler - instance of DayGridResize\n */\nfunction DayGridResizeGuide(resizeHandler) {\n    /**\n     * @type {DayGridResize}\n     */\n    this.resizeHandler = resizeHandler;\n\n    /**\n     * The element that actually contains the event element\n     * @type {HTMLDIVElement}\n     */\n    this.scheduleContainer = null;\n\n    /**\n     * @type {function}\n     */\n    this.getScheduleDataFunc = null;\n\n    /**\n     * @type {HTMLDIVElement}\n     */\n    this.guideElement = null;\n\n    /**\n     * @type {HTMLDIVElement}\n     */\n    this.scheduleBlockElement = null;\n\n    resizeHandler.on({\n        \'dragstart\': this._onDragStart,\n        \'drag\': this._onDrag,\n        \'dragend\': this._clearGuideElement,\n        \'click\': this._clearGuideElement\n    }, this);\n}\n\n/**\n * Destroy method\n */\nDayGridResizeGuide.prototype.destroy = function() {\n    this._clearGuideElement();\n    this.resizeHandler.off(this);\n    this.resizeHandler = this.scheduleContainer = this.getScheduleDataFunc =\n        this.guideElement = this.scheduleBlockElement = null;\n};\n\n/**\n * Clear guide element.\n */\nDayGridResizeGuide.prototype._clearGuideElement = function() {\n    domutil.remove(this.guideElement);\n\n    if (!util.browser.msie) {\n        domutil.removeClass(global.document.body, config.classname(\'resizing-x\'));\n    }\n\n    if (this.scheduleBlockElement) {\n        domutil.removeClass(this.scheduleBlockElement, config.classname(\'weekday-schedule-block-dragging-dim\'));\n    }\n\n    this.getScheduleDataFunc = null;\n};\n\n/**\n * Refresh guide element\n * @param {number} newWidth - new width percentage value to resize guide element.\n */\nDayGridResizeGuide.prototype.refreshGuideElement = function(newWidth) {\n    var guideElement = this.guideElement;\n\n    reqAnimFrame.requestAnimFrame(function() {\n        guideElement.style.width = newWidth + \'%\';\n    });\n};\n\n/**\n * Return function that calculate guide element\'s new width percentage value.\n * @param {object} dragStartEventData - dragstart schedule data.\n * @returns {function} return function that calculate guide element new width percentage.\n */\nDayGridResizeGuide.prototype.getGuideElementWidthFunc = function(dragStartEventData) {\n    var model = dragStartEventData.model,\n        viewOptions = this.resizeHandler.view.options,\n        fromLeft = Math.ceil(\n            (model.start - viewOptions.renderStartDate) / datetime.MILLISECONDS_PER_DAY\n        ) || 0,\n        grids = dragStartEventData.grids;\n\n    return function(xIndex) {\n        var width = 0;\n        var i = 0;\n        var length = grids.length;\n        width += grids[fromLeft] ? grids[fromLeft].width : 0;\n\n        for (; i < length; i += 1) {\n            if (i > fromLeft && i <= xIndex) {\n                width += grids[i] ? grids[i].width : 0;\n            }\n        }\n\n        return width;\n    };\n};\n\n/**\n * DragStart event handler.\n * @param {object} dragStartEventData - schedule data.\n */\nDayGridResizeGuide.prototype._onDragStart = function(dragStartEventData) {\n    var container = this.resizeHandler.view.container,\n        scheduleBlockElement = this.scheduleBlockElement = dragStartEventData.scheduleBlockElement,\n        guideElement = this.guideElement = scheduleBlockElement.cloneNode(true),\n        scheduleContainer;\n\n    if (!util.browser.msie) {\n        domutil.addClass(global.document.body, config.classname(\'resizing-x\'));\n    }\n\n    scheduleContainer = domutil.find(config.classname(\'.weekday-schedules\'), container);\n    domutil.addClass(guideElement, config.classname(\'daygrid-guide-move\'));\n    domutil.addClass(scheduleBlockElement, config.classname(\'weekday-schedule-block-dragging-dim\'));\n\n    scheduleContainer.appendChild(guideElement);\n\n    this.getScheduleDataFunc = this.getGuideElementWidthFunc(dragStartEventData);\n};\n\n/**\n * Drag event handler.\n * @param {object} dragEventData - schedule data.\n */\nDayGridResizeGuide.prototype._onDrag = function(dragEventData) {\n    var func = this.getScheduleDataFunc;\n\n    if (!func) {\n        return;\n    }\n\n    this.refreshGuideElement(func(dragEventData.xIndex));\n};\n\nmodule.exports = DayGridResizeGuide;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_486659__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/handler/drag.js":\n/*!********************************!*\\\n  !*** ./src/js/handler/drag.js ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_491815__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview Drag handler for calendar.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_491815__(/*! tui-code-snippet */ "tui-code-snippet");\nvar domutil = __nested_webpack_require_491815__(/*! ../common/domutil */ "./src/js/common/domutil.js");\nvar domevent = __nested_webpack_require_491815__(/*! ../common/domevent */ "./src/js/common/domevent.js");\nvar config = __nested_webpack_require_491815__(/*! ../config */ "./src/js/config.js");\n\n/**\n * @constructor\n * @mixes CustomEvents\n * @param {object} options - options for drag handler\n * @param {number} [options.distance=10] - distance in pixels after mouse must move before dragging should start\n * @param {function} [options.exclude] - filter function for don\'t fire drag events that specific conditions.\n * @param {HTMLElement} container element to watching drag interaction.\n */\nfunction Drag(options, container) {\n    domevent.on(container, \'mousedown\', this._onMouseDown, this);\n\n    this.options = util.extend({\n        distance: 10,\n        exclude: null\n    }, options);\n\n    /**\n     * @type {HTMLElement}\n     */\n    this.container = container;\n\n    /**\n     * Flag for represent current dragging session has been cancelled for exclude option.\n     * @type {boolean}\n     */\n    this._cancelled = false;\n\n    /**\n     * @type {boolean}\n     */\n    this._isMoved = false;\n\n    /**\n     * dragging distance in pixel between mousedown and firing dragStart events\n     * @type {number}\n     */\n    this._distance = 0;\n\n    /**\n     * @type {boolean}\n     */\n    this._dragStartFired = false;\n\n    /**\n     * @type {object}\n     */\n    this._dragStartEventData = null;\n}\n\n/**\n * Destroy method.\n */\nDrag.prototype.destroy = function() {\n    domevent.off(this.container, \'mousedown\', this._onMouseDown, this);\n    this._isMoved = null;\n    this.container = null;\n};\n\n/**\n * Clear cache data for single dragging session.\n */\nDrag.prototype._clearData = function() {\n    this._cancelled = false;\n    this._distance = 0;\n    this._isMoved = false;\n    this._dragStartFired = false;\n    this._dragStartEventData = null;\n};\n\n/**\n * Toggle events for mouse dragging.\n * @param {boolean} toBind - bind events related with dragging when supplied "true"\n */\nDrag.prototype._toggleDragEvent = function(toBind) {\n    var container = this.container,\n        domMethod,\n        method;\n\n    if (toBind) {\n        domMethod = \'on\';\n        method = \'disable\';\n    } else {\n        domMethod = \'off\';\n        method = \'enable\';\n    }\n\n    domutil[method + \'TextSelection\'](container, preventDefaultWhenNotPopup);\n    domutil[method + \'ImageDrag\'](container, preventDefaultWhenNotPopup);\n    domevent[domMethod](global.document, {\n        mousemove: this._onMouseMove,\n        mouseup: this._onMouseUp\n    }, this);\n};\n\n/**\n * Normalize mouse event object.\n * @param {MouseEvent} mouseEvent - mouse event object.\n * @returns {object} normalized mouse event data.\n */\nDrag.prototype._getEventData = function(mouseEvent) {\n    return {\n        target: domevent.getEventTarget(mouseEvent),\n        originEvent: mouseEvent\n    };\n};\n\n/**\n * MouseDown DOM event handler.\n * @param {MouseEvent} mouseDownEvent MouseDown event object.\n */\nDrag.prototype._onMouseDown = function(mouseDownEvent) {\n    var opt = this.options,\n        target = domevent.getEventTarget(mouseDownEvent);\n\n    // only primary button can start drag.\n    if (domevent.getMouseButton(mouseDownEvent) !== 0) {\n        return;\n    }\n\n    if (opt.exclude && opt.exclude(target)) {\n        this._cancelled = true;\n\n        return;\n    }\n\n    this._clearData();\n    this._dragStartEventData = this._getEventData(mouseDownEvent);\n\n    this._toggleDragEvent(true);\n\n    /**\n     * mousedown event for firefox bug. cancelable.\n     * @event Drag#mouseDown\n     * @type {object}\n     * @property {HTMLElement} target - target element in this event.\n     * @property {MouseEvent} originEvent - original mouse event object.\n     */\n    this.fire(\'mousedown\', this._dragStartEventData);\n};\n\n/**\n * MouseMove DOM event handler.\n * @emits Drag#drag\n * @emits Drag#dragStart\n * @param {MouseEvent} mouseMoveEvent MouseMove event object.\n */\nDrag.prototype._onMouseMove = function(mouseMoveEvent) {\n    var distance;\n\n    if (this._cancelled) {\n        this._clearData();\n\n        return;\n    }\n\n    distance = this.options.distance;\n    // prevent automatic scrolling.\n    preventDefaultWhenNotPopup(mouseMoveEvent);\n\n    if (this._distance < distance) {\n        this._distance += 1;\n\n        return;\n    }\n    this._isMoved = true;\n\n    if (!this._dragStartFired) {\n        this._dragStartFired = true;\n\n        /**\n         * Drag start events. cancelable.\n         * @event Drag#dragStart\n         * @type {object}\n         * @property {HTMLElement} target - target element in this event.\n         * @property {MouseEvent} originEvent - original mouse event object.\n         */\n        if (!this.invoke(\'dragStart\', this._dragStartEventData)) {\n            this._toggleDragEvent(false);\n            this._clearData();\n\n            return;\n        }\n    }\n\n    /**\n     * CalEvents while dragging.\n     * @event Drag#drag\n     * @type {object}\n     * @property {HTMLElement} target - target element in this event.\n     * @property {MouseEvent} originEvent - original mouse event object.\n     */\n    this.fire(\'drag\', this._getEventData(mouseMoveEvent));\n};\n\n/**\n * MouseUp DOM event handler.\n * @param {MouseEvent} mouseUpEvent MouseUp event object.\n * @emits Drag#dragEnd\n * @emits Drag#click\n */\nDrag.prototype._onMouseUp = function(mouseUpEvent) {\n    if (this._cancelled) {\n        return;\n    }\n\n    this._toggleDragEvent(false);\n\n    // emit "click" event when not emitted drag event between mousedown and mouseup.\n    if (this._isMoved) {\n        this._isMoved = false;\n        /**\n         * Drag end events.\n         * @event Drag#dragEnd\n         * @type {MouseEvent}\n         * @property {HTMLElement} target - target element in this event.\n         * @property {MouseEvent} originEvent - original mouse event object.\n         */\n        this.fire(\'dragEnd\', this._getEventData(mouseUpEvent));\n    } else {\n        /**\n         * Click events.\n         * @event Drag#click\n         * @type {MouseEvent}\n         * @property {HTMLElement} target - target element in this event.\n         * @property {MouseEvent} originEvent - original mouse event object.\n         */\n        this.fire(\'click\', this._getEventData(mouseUpEvent));\n    }\n\n    this._clearData();\n};\n\n/**\n * If the target is not a popup, it prevents the default.\n * @method\n * @param {MouseEvent} event - Mouse event object\n */\nfunction preventDefaultWhenNotPopup(event) {\n    var popup = domutil.closest(event.target, config.classname(\'.popup\'));\n\n    if (!popup) {\n        domevent.preventDefault(event);\n    }\n}\n\nutil.CustomEvents.mixin(Drag);\n\nmodule.exports = Drag;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_491815__(/*! ./../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/handler/month/click.js":\n/*!***************************************!*\\\n  !*** ./src/js/handler/month/click.js ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_499158__) {\n\n"use strict";\n/**\n * @fileoverview Click handler for month view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_499158__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_499158__(/*! ../../config */ "./src/js/config.js"),\n    datetime = __nested_webpack_require_499158__(/*! ../../common/datetime */ "./src/js/common/datetime.js"),\n    domutil = __nested_webpack_require_499158__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\n\n/**\n * @constructor\n * @implements {Handler}\n * @mixes util.CustomEvents\n * @param {Drag} [dragHandler] - Drag handler instance.\n * @param {Month} [monthView] - Month view instance.\n * @param {Base} [baseController] - Base controller instance.\n */\nfunction MonthClick(dragHandler, monthView, baseController) {\n    /**\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * @type {Month}\n     */\n    this.monthView = monthView;\n\n    /**\n     * @type {Base}\n     */\n    this.baseController = baseController;\n\n    dragHandler.on({\n        \'click\': this._onClick\n    }, this);\n}\n\n/**\n * Destructor\n */\nMonthClick.prototype.destroy = function() {\n    this.dragHandler.off(this);\n    this.monthView = this.baseController = this.dragHandler = null;\n};\n\n/**\n * @fires MonthClick#clickMore\n * @param {object} clickEvent - click event object\n */\nMonthClick.prototype._onClick = function(clickEvent) {\n    var self = this,\n        moreElement,\n        scheduleCollection = this.baseController.schedules,\n        blockElement = domutil.closest(clickEvent.target, config.classname(\'.weekday-schedule-block\'))\n                    || domutil.closest(clickEvent.target, config.classname(\'.month-more-schedule\'));\n\n    moreElement = domutil.closest(\n        clickEvent.target,\n        config.classname(\'.weekday-exceed-in-month\')\n    );\n\n    if (moreElement) {\n        self.fire(\'clickMore\', {\n            date: datetime.parse(domutil.getData(moreElement, \'ymd\')),\n            target: moreElement,\n            ymd: domutil.getData(moreElement, \'ymd\')\n        });\n    }\n\n    if (blockElement) {\n        scheduleCollection.doWhenHas(domutil.getData(blockElement, \'id\'), function(schedule) {\n            /**\n             * @events AlldayClick#clickSchedule\n             * @type {object}\n             * @property {Schedule} schedule - schedule instance\n             * @property {MouseEvent} event - MouseEvent object\n             */\n            self.fire(\'clickSchedule\', {\n                schedule: schedule,\n                event: clickEvent.originEvent\n            });\n        });\n    }\n};\n\nutil.CustomEvents.mixin(MonthClick);\n\nmodule.exports = MonthClick;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/month/core.js":\n/*!**************************************!*\\\n  !*** ./src/js/handler/month/core.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_502065__) {\n\n"use strict";\n/* eslint-disable complexity */\n/**\n * @fileoverview Module for calculate date by month view and mouse event object\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_502065__(/*! tui-code-snippet */ "tui-code-snippet");\nvar common = __nested_webpack_require_502065__(/*! ../../common/common */ "./src/js/common/common.js"),\n    domutil = __nested_webpack_require_502065__(/*! ../../common/domutil */ "./src/js/common/domutil.js"),\n    domevent = __nested_webpack_require_502065__(/*! ../../common/domevent */ "./src/js/common/domevent.js"),\n    datetime = __nested_webpack_require_502065__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar mfloor = Math.floor;\n\n/**\n * Get high order function that can calc date in mouse point\n * @param {Month} monthView - month view\n * @returns {function} function return event data by mouse event object\n */\nfunction getMousePosDate(monthView) {\n    var weekColl = monthView.children,\n        weeks = weekColl.sort(function(a, b) {\n            return util.stamp(a) - util.stamp(b);\n        }),\n        weekCount = weekColl.length,\n        days = weekColl.single().getRenderDateRange(),\n        dayCount = days.length,\n        relativeContainer = util.pick(monthView.vLayout.panels[1], \'container\'),\n        size = domutil.getSize(relativeContainer),\n        grids = monthView.grids;\n\n    /**\n     * Get the left index\n     * @param {number} left - left position(percent)\n     * @returns {number} grid left index\n     */\n    function getX(left) {\n        var i = 0;\n        var length = grids.length;\n        var grid;\n        for (; i < length; i += 1) {\n            grid = grids[i];\n            if (grid.left <= left && left <= (grid.left + grid.width)) {\n                return i;\n            }\n        }\n\n        return left < 0 ? -1 : i;\n    }\n\n    /**\n     * Get date related with mouse event object\n     * @param {object} mouseEvent - click event data\n     * @returns {object} data related with mouse event\n     */\n    function getDate(mouseEvent) {\n        var pos = domevent.getMousePosition(mouseEvent, relativeContainer),\n            x = getX(common.ratio(size[0], 100, pos[0])),\n            y = mfloor(common.ratio(size[1], weekCount, pos[1])),\n            weekdayView,\n            date,\n            dateRange;\n\n        if (y < 0) {\n            y = 0;\n        }\n        if (y >= weeks.length) {\n            y = weeks.length - 1;\n        }\n\n        weekdayView = util.pick(weeks, y);\n\n        if (!weekdayView) {\n            return null;\n        }\n\n        dateRange = weekdayView.getRenderDateRange();\n        if (x < 0) {\n            x = 0;\n        }\n        if (x >= dateRange.length) {\n            x = dateRange.length - 1;\n        }\n\n        date = util.pick(dateRange, x);\n\n        if (!date) {\n            return null;\n        }\n\n        return {\n            x: x,\n            y: y,\n            sizeX: dayCount,\n            sizeY: weekCount,\n            date: datetime.end(date),\n            weekdayView: weekdayView,\n            triggerEvent: mouseEvent.type\n        };\n    }\n\n    return getDate;\n}\n\nmodule.exports = getMousePosDate;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/month/creation.js":\n/*!******************************************!*\\\n  !*** ./src/js/handler/month/creation.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_505450__) {\n\n"use strict";\n/**\n * @fileoverview Creation handler for month view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_505450__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar config = __nested_webpack_require_505450__(/*! ../../config */ "./src/js/config.js");\nvar datetime = __nested_webpack_require_505450__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar array = __nested_webpack_require_505450__(/*! ../../common/array */ "./src/js/common/array.js");\nvar domutil = __nested_webpack_require_505450__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar domevent = __nested_webpack_require_505450__(/*! ../../common/domevent */ "./src/js/common/domevent.js");\nvar getMousePosDate = __nested_webpack_require_505450__(/*! ./core */ "./src/js/handler/month/core.js");\nvar Guide = __nested_webpack_require_505450__(/*! ./creationGuide */ "./src/js/handler/month/creationGuide.js");\nvar TZDate = __nested_webpack_require_505450__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\n\nvar CLICK_DELAY = 300;\n\n/**\n * @constructor\n * @param {Drag} dragHandler - Drag handler instance.\n * @param {Month} monthView - Month view instance.\n * @param {Base} baseController - Base controller instance.\n * @param {Options} [options] - calendar Options\n */\nfunction MonthCreation(dragHandler, monthView, baseController, options) {\n    /**\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * @type {Month}\n     */\n    this.monthView = monthView;\n\n    /**\n     * @type {Base}\n     */\n    this.baseController = baseController;\n\n    /**\n     * @type {function}\n     */\n    this.getScheduleData = null;\n\n    /**\n     * Cache for dragging session\n     * @type {object}\n     */\n    this._cache = null;\n\n    /**\n     * @type {MonthCreationGuide}\n     */\n    this.guide = new Guide(this);\n\n    /**\n     * @type {boolean}\n     */\n    this._requestOnClick = false;\n\n    /**\n     * @type {boolean}\n     */\n    this._disableDblClick = options.disableDblClick;\n\n    /**\n     * @type {boolean}\n     */\n    this._disableClick = options.disableClick;\n\n    dragHandler.on(\'dragStart\', this._onDragStart, this);\n    dragHandler.on(\'click\', this._onClick, this);\n\n    if (this._disableDblClick) {\n        CLICK_DELAY = 0;\n    } else {\n        domevent.on(monthView.container, \'dblclick\', this._onDblClick, this);\n    }\n}\n\n/**\n * Destructor\n */\nMonthCreation.prototype.destroy = function() {\n    this.dragHandler.off(this);\n    this.guide.destroy();\n\n    if (this.monthView && this.monthView.container) {\n        domevent.off(this.monthView.container, \'dblclick\', this._onDblClick, this);\n    }\n\n    this.dragHandler = this.monthView = this.baseController =\n        this.getScheduleData = this._cache = this.guide = null;\n};\n\n/**\n * Fire before create schedule\n * @fires {MonthCreation#beforeCreateSchedule}\n * @param {object} eventData - cache data from single dragging session\n */\nMonthCreation.prototype._createSchedule = function(eventData) {\n    /**\n     * @event {MonthCreation#beforeCreateSchedule}\n     * @type {object}\n     * @property {boolean} isAllDay - whether schedule is fired in allday view area?\n     * @property {Date} start - select start time\n     * @property {Date} end - select end time\n     * @property {TimeCreationGuide} guide - TimeCreationGuide instance\n     * @property {string} triggerEventName - event name\n     */\n    this.fire(\'beforeCreateSchedule\', {\n        isAllDay: eventData.isAllDay,\n        start: eventData.start,\n        end: eventData.end,\n        guide: this.guide.guide,\n        triggerEventName: eventData.triggerEvent\n    });\n};\n\n/**\n * DragStart event handler\n * @fires {MonthCreation#monthCreationDragstart}\n * @param {object} dragStartEvent - dragStart event data\n */\nMonthCreation.prototype._onDragStart = function(dragStartEvent) {\n    var eventData;\n\n    if (!isElementWeekdayGrid(dragStartEvent.target)) {\n        return;\n    }\n\n    this.dragHandler.on({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    this.getScheduleData = getMousePosDate(this.monthView);\n\n    eventData = this.getScheduleData(dragStartEvent.originEvent);\n\n    this._cache = {\n        start: new TZDate(eventData.date)\n    };\n\n    /**\n     * @event {MonthCreation#monthCreationDragstart}\n     * @type {object}\n     * @property {number} x - x index\n     * @property {number} y - y index\n     * @property {Date} date - drag date\n     */\n    this.fire(\'monthCreationDragstart\', eventData);\n};\n\n/**\n * Drag event handler\n * @fires {MonthCreation#monthCreationDrag}\n * @param {object} dragEvent - drag event data\n */\nMonthCreation.prototype._onDrag = function(dragEvent) {\n    var eventData;\n\n    if (!this.getScheduleData) {\n        return;\n    }\n\n    eventData = this.getScheduleData(dragEvent.originEvent);\n\n    if (!eventData) {\n        return;\n    }\n\n    /**\n     * @event {MonthCreation#monthCreationDrag}\n     * @type {object}\n     * @property {number} x - x index\n     * @property {number} y - y index\n     * @property {Date} date - drag date\n     */\n    this.fire(\'monthCreationDrag\', eventData);\n};\n\n/**\n * DragEnd event handler\n * @fires {MonthCreation#monthCreationDragend}\n * @param {object} dragEndEvent - drag end event data\n */\nMonthCreation.prototype._onDragEnd = function(dragEndEvent) {\n    var cache = this._cache;\n    var eventData;\n    var times;\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    if (!this.getScheduleData) {\n        return;\n    }\n\n    eventData = this.getScheduleData(dragEndEvent.originEvent);\n\n    if (eventData) {\n        cache.end = new TZDate(eventData.date);\n        cache.isAllDay = true;\n\n        times = [\n            cache.start,\n            cache.end\n        ].sort(array.compare.num.asc);\n\n        cache.start = new TZDate(times[0]);\n        cache.end = datetime.end(times[1]);\n\n        this._createSchedule(cache);\n    }\n\n    /**\n     * @event {MonthCreation#monthCreationDragend}\n     * @type {object}\n     * @property {number} x - x index\n     * @property {number} y - y index\n     * @property {Date} date - drag date\n     */\n    this.fire(\'monthCreationDragend\', eventData);\n\n    this.getScheduleData = this._cache = null;\n};\n\n/**\n * Dblclick event handler\n * @fires {MonthCreation#monthCreationDragstart}\n * @param {MouseEvent} e - Native MouseEvent\n */\nMonthCreation.prototype._onDblClick = function(e) {\n    var eventData, range;\n\n    if (!isElementWeekdayGrid(e.target)) {\n        return;\n    }\n\n    eventData = getMousePosDate(this.monthView)(e);\n\n    this.fire(\'monthCreationClick\', eventData);\n\n    range = this._adjustStartAndEndTime(new TZDate(eventData.date), new TZDate(eventData.date));\n\n    this._createSchedule({\n        start: range.start,\n        end: range.end,\n        isAllDay: false,\n        triggerEvent: eventData.triggerEvent\n    });\n\n    this._requestOnClick = false;\n};\n\n/**\n * Click event handler\n * @fires {MonthCreation#monthCreationDragstart}\n * @param {MouseEvent} e - Native MouseEvent\n */\nMonthCreation.prototype._onClick = function(e) {\n    var self = this;\n    var eventData, range;\n\n    if (!isElementWeekdayGrid(e.target) || this._disableClick) {\n        return;\n    }\n\n    eventData = getMousePosDate(this.monthView)(e.originEvent);\n\n    this._requestOnClick = true;\n    setTimeout(function() {\n        if (self._requestOnClick) {\n            self.fire(\'monthCreationClick\', eventData);\n\n            range = self._adjustStartAndEndTime(new TZDate(eventData.date), new TZDate(eventData.date));\n\n            self._createSchedule({\n                start: range.start,\n                end: range.end,\n                isAllDay: false,\n                triggerEvent: eventData.triggerEvent\n            });\n        }\n        self._requestOnClick = false;\n    }, CLICK_DELAY);\n};\n\n/**\n * Adjust time to our o\'clock\n * @param {TZDate} start - start time\n * @param {TZDate} end - end time\n * @returns {Object} start and end\n */\nMonthCreation.prototype._adjustStartAndEndTime = function(start, end) {\n    var now = new TZDate();\n    var hours = now.getHours();\n    var minutes = now.getMinutes();\n\n    // adjust start to less time. Adjusting had been greater time in monthly view when clicking grid\n    if (minutes <= 30) {\n        minutes = 0;\n    } else {\n        minutes = 30;\n    }\n    start.setHours(hours, minutes, 0, 0);\n    end.setHours(hours + 1, minutes, 0, 0);\n\n    return {\n        start: start,\n        end: end\n    };\n};\n\n/**\n * Invoke creation click\n * @param {Schedule} schedule - schedule instance\n */\nMonthCreation.prototype.invokeCreationClick = function(schedule) {\n    var eventData = {\n        model: schedule\n    };\n\n    this.fire(\'monthCreationClick\', eventData);\n\n    this._createSchedule({\n        start: schedule.start,\n        end: schedule.end,\n        isAllDay: schedule.isAllDay,\n        triggerEvent: \'manual\'\n    });\n};\n\n/**\n * Returns whether the given element is Weekday-Schedule.\n * @param {HTMLElement} el - target element\n * @returns {boolean}\n */\nfunction isElementWeekdayGrid(el) {\n    return domutil.closest(el, config.classname(\'.weekday-grid\'))\n        && !domutil.closest(el, config.classname(\'.weekday-exceed-in-month\'));\n}\n\nutil.CustomEvents.mixin(MonthCreation);\n\nmodule.exports = MonthCreation;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/month/creationGuide.js":\n/*!***********************************************!*\\\n  !*** ./src/js/handler/month/creationGuide.js ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_514949__) {\n\n"use strict";\n/**\n * @fileoverview Creation guide module for month view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar MonthGuide = __nested_webpack_require_514949__(/*! ./guide */ "./src/js/handler/month/guide.js");\n\n/**\n * @constructor\n * @param {MonthCreation} monthCreation - instance of MonthCreation\n */\nfunction MonthCreationGuide(monthCreation) {\n    /**\n     * @type {MonthCreation}\n     */\n    this.monthCreation = monthCreation;\n\n    /**\n     * @type {MonthGuide}\n     */\n    this.guide = null;\n\n    monthCreation.on({\n        monthCreationDragstart: this._createGuideElement,\n        monthCreationDrag: this._onDrag,\n        monthCreationDragend: this._onDragEnd,\n        monthCreationClick: this._createGuideElement\n    }, this);\n}\n\n/**\n * Destructor\n */\nMonthCreationGuide.prototype.destroy = function() {\n    this.monthCreation.off(this);\n\n    if (this.guide) {\n        this.guide.destroy();\n    }\n\n    this.guide = this.monthCreation = null;\n};\n\n/**\n * Drag start event handler\n * @param {object} dragStartEvent - schedule data from MonthCreation\n */\nMonthCreationGuide.prototype._createGuideElement = function(dragStartEvent) {\n    var options = {\n        isCreationMode: true,\n        height: \'100%\',\n        top: 0\n    };\n\n    this.guide = new MonthGuide(options, this.monthCreation.monthView);\n    this.guide.start(dragStartEvent);\n};\n\n/**\n * Drag event handler\n * @param {object} dragEvent - schedule data from MonthCreation\n */\nMonthCreationGuide.prototype._onDrag = function(dragEvent) {\n    this.guide.update(dragEvent.x, dragEvent.y);\n};\n\n/**\n * Drag end event handler\n */\nMonthCreationGuide.prototype._onDragEnd = function() {\n    // Do nothing. User calls destroy directly.\n    this.guide = null;\n};\n\nmodule.exports = MonthCreationGuide;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/month/guide.hbs":\n/*!****************************************!*\\\n  !*** ./src/js/handler/month/guide.hbs ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_517001__) {\n\nvar Handlebars = __nested_webpack_require_517001__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias1(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":16},"end":{"line":3,"column":30}}}) : helper)))\n    + "month-creation-guide\\" style=\\"border: "\n    + alias1(alias2(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"border") : stack1), depth0))\n    + "; background-color: "\n    + alias1(alias2(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"backgroundColor") : stack1), depth0))\n    + ";\\"></div>\\n";\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":30}}}) : helper)))\n    + "weekday-schedule\\"\\n        style=\\"height: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"scheduleHeight") : stack1), depth0))\n    + "; line-height: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"scheduleHeight") : stack1), depth0))\n    + "; margin-top: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"scheduleGutter") : stack1), depth0))\n    + "; border-radius:"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"borderRadius") : stack1), depth0))\n    + "; margin-left: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"marginLeft") : stack1), depth0))\n    + "; margin-right: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"marginRight") : stack1), depth0))\n    + ";\\n            color:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"color") || (depth0 != null ? lookupProperty(depth0,"color") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"color","hash":{},"data":data,"loc":{"start":{"line":7,"column":18},"end":{"line":7,"column":27}}}) : helper)))\n    + ";border-color:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"borderColor") || (depth0 != null ? lookupProperty(depth0,"borderColor") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"borderColor","hash":{},"data":data,"loc":{"start":{"line":7,"column":41},"end":{"line":7,"column":56}}}) : helper)))\n    + ";background-color:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"bgColor") || (depth0 != null ? lookupProperty(depth0,"bgColor") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"bgColor","hash":{},"data":data,"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":85}}}) : helper)))\n    + "\\">\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":34}}}) : helper)))\n    + "weekday-schedule-title\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"isAllDay") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.program(6, data, 0),"data":data,"loc":{"start":{"line":9,"column":12},"end":{"line":13,"column":19}}})) != null ? stack1 : "")\n    + "        </div>\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":15,"column":20},"end":{"line":15,"column":34}}}) : helper)))\n    + "weekday-resize-handle handle-y\\" style=\\"line-height: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"scheduleHeight") : stack1), depth0))\n    + ";\\">&nbsp;</div>\\n    </div>\\n";\n},"4":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                "\n    + ((stack1 = (lookupProperty(helpers,"allday-tmpl")||(depth0 && lookupProperty(depth0,"allday-tmpl"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"allday-tmpl","hash":{},"data":data,"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":38}}})) != null ? stack1 : "")\n    + "\\n";\n},"6":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                "\n    + ((stack1 = (lookupProperty(helpers,"time-tmpl")||(depth0 && lookupProperty(depth0,"time-tmpl"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"time-tmpl","hash":{},"data":data,"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":36}}})) != null ? stack1 : "")\n    + "\\n";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "month-guide-block\\" style=\\"top:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"top") || (depth0 != null ? lookupProperty(depth0,"top") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"top","hash":{},"data":data,"loc":{"start":{"line":1,"column":56},"end":{"line":1,"column":63}}}) : helper)))\n    + ";height:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"height") || (depth0 != null ? lookupProperty(depth0,"height") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"height","hash":{},"data":data,"loc":{"start":{"line":1,"column":71},"end":{"line":1,"column":81}}}) : helper)))\n    + ";display:none\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"isCreationMode") : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.program(3, data, 0),"data":data,"loc":{"start":{"line":2,"column":4},"end":{"line":17,"column":11}}})) != null ? stack1 : "")\n    + "</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/handler/month/guide.js":\n/*!***************************************!*\\\n  !*** ./src/js/handler/month/guide.js ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_526484__) {\n\n"use strict";\n/**\n * @fileoverview Guide element controller for creation, resize in month view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_526484__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_526484__(/*! ../../config */ "./src/js/config.js"),\n    domutil = __nested_webpack_require_526484__(/*! ../../common/domutil */ "./src/js/common/domutil.js"),\n    datetime = __nested_webpack_require_526484__(/*! ../../common/datetime */ "./src/js/common/datetime.js"),\n    TZDate = __nested_webpack_require_526484__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date,\n    tmpl = __nested_webpack_require_526484__(/*! ./guide.hbs */ "./src/js/handler/month/guide.hbs");\nvar mmax = Math.max,\n    mmin = Math.min,\n    mabs = Math.abs,\n    mfloor = Math.floor;\n\n/**\n * @constructor\n * @param {object} [options] - options\n * @param {boolean} [options.useHandle=false] - whether displaying resize handle on\n *  guide element?\n * @param {boolean} [options.isResizeMode=false] - whether resize mode?\n * @param {Month} monthView - Month view instance\n */\nfunction MonthGuide(options, monthView) {\n    /**\n     * @type {object}\n     */\n    this.options = util.extend({\n        top: 0,\n        height: \'20px\',\n        bgColor: \'#f7ca88\',\n        label: \'New event\',\n        isResizeMode: false,\n        isCreationMode: false,\n        styles: this._getStyles(monthView.controller.theme)\n    }, options);\n\n    /**\n     * @type {Month}\n     */\n    this.view = monthView;\n\n    /**\n     * @type {WeekdayInMonth[]}\n     */\n    this.weeks = monthView.children.sort(function(a, b) {\n        return util.stamp(a) - util.stamp(b);\n    });\n\n    /**\n     * @type {number}\n     */\n    this.days = monthView.children.single().getRenderDateRange().length;\n\n    /**\n     * start coordinate of guide effect. (x, y) (days, weeks) effect can\'t\n     *  start lower than this coordinate.\n     * @type {number[]}\n     */\n    this.startCoord = [0, 0];\n\n    /**\n     * @type {Object.<string, HTMLElement>}\n     */\n    this.guideElements = {};\n\n    /**\n     * horizontal grid information\n     * @type {Object}\n     */\n    this.grids = monthView.grids;\n}\n\n/**\n * Destructor\n */\nMonthGuide.prototype.destroy = function() {\n    this.clear();\n\n    this.options = this.view = this.weeks = this.days =\n        this.startCoord = this.guideElements = null;\n};\n\nMonthGuide.prototype.clearGuideElement = function() {\n    this.destroy();\n};\n\n/**\n * Get ratio value in week.\n * @param {number} value - value for calc ratio in week\n * @returns {number} percent value\n */\nMonthGuide.prototype._getRatioValueInWeek = function(value) {\n    var grid = this.grids[value] || {left: 100};\n\n    return grid.left;\n};\n\n/**\n * Create guide element\n * @returns {HTMLElement} guide element\n */\nMonthGuide.prototype._createGuideElement = function() {\n    var guide = document.createElement(\'div\');\n\n    guide.innerHTML = tmpl(this.options);\n\n    return guide.firstChild;\n};\n\n/**\n * Get guide element. if not exist then create one\n * @param {number} y - y coordinate\n * @returns {?HTMLElement} guide element\n */\nMonthGuide.prototype._getGuideElement = function(y) {\n    var guideElements = this.guideElements,\n        guide = guideElements[y],\n        weekdayView = this.weeks[y],\n        container;\n\n    if (!weekdayView) {\n        return null;\n    }\n\n    if (!guide) {\n        guide = this._createGuideElement();\n        container = weekdayView.container;\n        container.appendChild(guide);\n        guideElements[y] = guide;\n    }\n\n    return guide;\n};\n\n/**\n * Get coordinate by supplied date in month\n * @param {TZDate} date - date to find coordinate\n * @returns {number[]} coordinate (x, y)\n */\nMonthGuide.prototype._getCoordByDate = function(date) {\n    var WEEKEND_DAYS = 2;\n    var weeks = this.weeks;\n    var isWorkWeek = util.pick(this.view, \'options\', \'workweek\');\n    var days = isWorkWeek ? this.days + WEEKEND_DAYS : this.days;\n\n    var getIdxFromDiff = function(d1, d2) {\n            return mfloor(datetime.millisecondsTo(\'day\', mabs(d2 - d1)));\n        },\n        monthStart = datetime.start(weeks[0].options.renderStartDate),\n        isBefore = date < monthStart,\n        start = new TZDate(monthStart),\n        end = new TZDate(monthStart).addDate(isBefore ? -days : days).addDate(-1),\n        x = getIdxFromDiff(date, start),\n        y = 0;\n\n    while (!datetime.isBetweenWithDate(date, start, end)) {\n        start.addDate(isBefore ? -days : days);\n        end = new TZDate(start).addDate(days - 1);\n        x = getIdxFromDiff(date, start);\n        y += (isBefore ? -1 : 1);\n    }\n\n    return [x, y];\n};\n\n/**\n * Get limited coordinate by supplied coodinates\n * @param {number[]} coord - coordinate need to limit\n * @param {number[]} [min] - minimum limitaion of coordinate\n * @param {number[]} [max] - maximum limitation of coordinate\n * @returns {number[]} limited coordiate\n */\nMonthGuide.prototype._getLimitedCoord = function(coord, min, max) {\n    var toIndex = 1,\n        x = coord[0],\n        y = coord[1],\n        result;\n\n    min = min || [0, 0];\n    max = max || [this.days - toIndex, this.weeks.length - toIndex];\n\n    if (y < min[1]) {\n        result = min.slice(0);\n    } else if (y > max[1]) {\n        result = max.slice(0);\n    } else {\n        x = mmax(min[0], x);\n        x = mmin(max[0], x);\n        result = [x, y];\n    }\n\n    return result;\n};\n\n/**\n * Prepare guide element modification\n * @param {object} dragStartEvent - dragStart schedule data from *guide\n */\nMonthGuide.prototype.start = function(dragStartEvent) {\n    var opt = this.options,\n        target = dragStartEvent.target,\n        model = dragStartEvent.model,\n        x = dragStartEvent.x,\n        y = dragStartEvent.y,\n        renderMonth = new TZDate(this.view.options.renderMonth),\n        temp;\n\n    if (opt.isCreationMode) {\n        if (model && !datetime.isSameMonth(renderMonth, model.start)) {\n            model.start.setMonth(renderMonth.getMonth());\n            model.start.setDate(1);\n            model.end.setMonth(renderMonth.getMonth());\n            model.end.setDate(1);\n        }\n    } else {\n        temp = this._getCoordByDate(model.getStarts());\n        x = temp[0];\n        y = temp[1];\n\n        util.extend(this.options, {\n            top: parseInt(target.style.top, 10) + \'px\',\n            height: parseInt(target.style.height, 10) + \'px\',\n            label: model.title\n        }, model);\n    }\n\n    if (util.isUndefined(x) || util.isUndefined(y)) {\n        temp = this._getCoordByDate(model.getStarts());\n        x = temp[0];\n        y = temp[1];\n    }\n\n    this.startCoord = [x, y];\n    this.update(x, y);\n};\n\n/**\n * Data for update several guide elements\n * @typedef UpdateIndication\n * @type {object}\n * @property {HTMLElement} guide - guide element\n * @property {number} left - left style value\n * @property {number} width - width style value\n * @property {boolean} [exceedL=false] - whether schedule is exceeded past weeks?\n * @property {boolean} [exceedR=false] - whether schedule is exceeded future weeks?\n */\n\n/**\n * Modify HTML element that uses for guide element\n * @param {UpdateIndication[]} inds - indication of update severel guide element\n */\nMonthGuide.prototype._updateGuides = function(inds) {\n    util.forEach(inds, function(ind) {\n        var guide = ind.guide,\n            exceedLClass = config.classname(\'month-exceed-left\'),\n            exceedRClass = config.classname(\'month-exceed-right\');\n\n        guide.style.display = \'block\';\n        guide.style.left = ind.left + \'%\';\n        guide.style.width = ind.width + \'%\';\n\n        if (ind.exceedL) {\n            domutil.addClass(guide, exceedLClass);\n        } else {\n            domutil.removeClass(guide, exceedLClass);\n        }\n\n        if (ind.exceedR) {\n            domutil.addClass(guide, exceedRClass);\n        } else {\n            domutil.removeClass(guide, exceedRClass);\n        }\n    });\n};\n\n/**\n * Get guide element indicate for origin week\n * @param {number[]} startCoord - drag start coordinate\n * @param {number[]} mouseCoord - mouse coordinate\n * @returns {object} indicate\n */\nMonthGuide.prototype._getOriginIndicate = function(startCoord, mouseCoord) {\n    var left = mmin(startCoord[0], mouseCoord[0]),\n        right = mmax(startCoord[0], mouseCoord[0]) + 1,\n        exceedL, exceedR;\n\n    if (mouseCoord[1] > startCoord[1]) {\n        left = startCoord[0];\n        right = this.days;\n        exceedR = true;\n    } else if (mouseCoord[1] < startCoord[1]) {\n        left = 0;\n        right = startCoord[0] + 1;\n        exceedL = true;\n    }\n\n    return {\n        left: this._getRatioValueInWeek(left),\n        width: this._getRatioValueInWeek(right) -\n            this._getRatioValueInWeek(left),\n        exceedL: exceedL,\n        exceedR: exceedR\n    };\n};\n\n/**\n * Get guide element indicate for week related with mouse position\n * @param {number[]} startCoord - drag start coordinate\n * @param {number[]} mouseCoord - mouse coordinate\n * @returns {object} indicate\n */\nMonthGuide.prototype._getMouseIndicate = function(startCoord, mouseCoord) {\n    var left = mouseCoord[0],\n        right = mouseCoord[0] + 1,\n        exceedL, exceedR;\n\n    if (mouseCoord[1] > startCoord[1]) {\n        left = 0;\n        exceedL = true;\n    } else if (mouseCoord[1] < startCoord[1]) {\n        right = this.days;\n        exceedR = true;\n    }\n\n    return {\n        left: this._getRatioValueInWeek(left),\n        width: this._getRatioValueInWeek(right) -\n            this._getRatioValueInWeek(left),\n        exceedL: exceedL,\n        exceedR: exceedR\n    };\n};\n\n/**\n * Get guide element indicate for contained weeks\n * @returns {object} indicate\n */\nMonthGuide.prototype._getContainIndicate = function() {\n    return {\n        left: 0,\n        width: 100,\n        exceedL: true,\n        exceedR: true\n    };\n};\n\n/**\n * Remove several guide element that supplied by parameter\n * @param {number[]} yCoords - array of y coordinate to remove guide element\n */\nMonthGuide.prototype._removeGuideElements = function(yCoords) {\n    var guides = this.guideElements;\n\n    util.forEach(yCoords, function(y) {\n        domutil.remove(guides[y]);\n        delete guides[y];\n    });\n};\n\n/**\n * Get excluded numbers in range\n * @param {number[]} range - the range. value must be sequencial.\n * @param {number[]} numbers - numbers to check\n * @returns {number[]} excluded numbers\n */\nMonthGuide.prototype._getExcludesInRange = function(range, numbers) {\n    var min = mmin.apply(null, range),\n        max = mmax.apply(null, range),\n        excludes = [];\n\n    util.forEach(numbers, function(num) {\n        num = parseInt(num, 10);\n        if (num < min || num > max) {\n            excludes.push(num);\n        }\n    });\n\n    return excludes;\n};\n\n/**\n * Update guide elements by coordinate in month grid from mousemove event\n * @param {number} x - x coordinate\n * @param {number} y - y coordinate\n */\nMonthGuide.prototype.update = function(x, y) {\n    var self = this,\n        startCoord = this.startCoord,\n        mouseCoord = [x, y],\n        limitedCoord = this.options.isResizeMode ?\n            this._getLimitedCoord(mouseCoord, startCoord) : mouseCoord,\n        renderedYIndex = util.keys(this.guideElements),\n        yCoordsToUpdate = util.range(\n            mmin(startCoord[1], limitedCoord[1]),\n            mmax(startCoord[1], limitedCoord[1]) + 1\n        ),\n        yCoordsToRemove = this._getExcludesInRange(\n            yCoordsToUpdate,\n            renderedYIndex\n        ),\n        renderIndication = {};\n\n    this._removeGuideElements(yCoordsToRemove);\n\n    util.forEach(yCoordsToUpdate, function(guideYCoord) {\n        var guide = self._getGuideElement(guideYCoord),\n            indicate;\n\n        if (!guide) {\n            return;\n        }\n\n        if (guideYCoord === startCoord[1]) {\n            indicate = self._getOriginIndicate(startCoord, limitedCoord);\n        } else if (guideYCoord === mouseCoord[1]) {\n            indicate = self._getMouseIndicate(startCoord, mouseCoord);\n        } else {\n            indicate = self._getContainIndicate();\n        }\n\n        renderIndication[guideYCoord] = util.extend({\n            guide: guide\n        }, indicate);\n    });\n\n    this._updateGuides(renderIndication);\n};\n\n/**\n * Clear all guide elements\n */\nMonthGuide.prototype.clear = function() {\n    util.forEach(this.guideElements, function(element) {\n        domutil.remove(element);\n    });\n\n    this.guideElements = {};\n};\n\n/**\n * Get the styles from theme\n * @param {Theme} theme - theme instance\n * @returns {object} styles - styles object\n */\nMonthGuide.prototype._getStyles = function(theme) {\n    var styles = {};\n\n    if (theme) {\n        styles.border = theme.common.creationGuide.border;\n        styles.backgroundColor = theme.common.creationGuide.backgroundColor;\n        styles.scheduleHeight = theme.month.schedule.height;\n        styles.scheduleGutter = theme.month.schedule.marginTop;\n        styles.marginLeft = theme.month.schedule.marginLeft;\n        styles.marginRight = theme.month.schedule.marginRight;\n        styles.borderRadius = theme.month.schedule.borderRadius;\n    }\n\n    return styles;\n};\n\nmodule.exports = MonthGuide;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/month/move.js":\n/*!**************************************!*\\\n  !*** ./src/js/handler/month/move.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_539857__) {\n\n"use strict";\n/**\n * @fileoverview Move handler for month view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_539857__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar config = __nested_webpack_require_539857__(/*! ../../config */ "./src/js/config.js"),\n    domutil = __nested_webpack_require_539857__(/*! ../../common/domutil */ "./src/js/common/domutil.js"),\n    datetime = __nested_webpack_require_539857__(/*! ../../common/datetime */ "./src/js/common/datetime.js"),\n    getMousePosData = __nested_webpack_require_539857__(/*! ./core */ "./src/js/handler/month/core.js"),\n    MonthMoveGuide = __nested_webpack_require_539857__(/*! ./moveGuide */ "./src/js/handler/month/moveGuide.js"),\n    TZDate = __nested_webpack_require_539857__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\n\n/**\n * @constructor\n * @mixes CustomEvents\n * @param {Drag} dragHandler - Drag handler instance.\n * @param {Month} monthView - Month view instance.\n * @param {Base} baseController - Base controller instance.\n */\nfunction MonthMove(dragHandler, monthView, baseController) {\n    /**\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * @type {Month}\n     */\n    this.monthView = monthView;\n\n    /**\n     * @type {Base}\n     */\n    this.baseController = baseController;\n\n    /**\n     * @type {function}\n     */\n    this.getScheduleData = null;\n\n    /**\n     * @type {object}\n     */\n    this._cache = null;\n\n    /**\n     * @type {MonthMoveGuide}\n     */\n    this.guide = new MonthMoveGuide(this);\n\n    dragHandler.on(\'dragStart\', this._onDragStart, this);\n}\n\n/**\n * Destructor\n */\nMonthMove.prototype.destroy = function() {\n    this.dragHandler.off(this);\n\n    this.dragHandler = this.monthView = this.baseController = null;\n};\n\n/**\n * Update target schedule\n * @fires {MonthMove#beforeUpdateSchedule}\n * @param {object} scheduleCache - cache object that result of single dragging\n *  session.\n */\nMonthMove.prototype.updateSchedule = function(scheduleCache) {\n    var schedule = scheduleCache.model;\n    var duration = schedule.duration();\n    var startDateRaw = datetime.raw(schedule.start);\n    var dragEndTime = new TZDate(scheduleCache.end);\n    var newStartDate = new TZDate(dragEndTime);\n\n    newStartDate.setHours(startDateRaw.h, startDateRaw.m, startDateRaw.s, startDateRaw.ms);\n\n    /**\n     * @event MonthMove#beforeUpdateSchedule\n     * @type {object}\n     * @property {Schedule} schedule - The original schedule instance\n     * @property {Date} start - Deprecated: start time to update\n     * @property {Date} end - Deprecated: end time to update\n     * @property {object} changes - start and end time to update\n     *  @property {Date} start - start time to update\n     *  @property {Date} end - end time to update\n     */\n    this.fire(\'beforeUpdateSchedule\', {\n        schedule: schedule,\n        changes: {\n            start: newStartDate,\n            end: new TZDate(newStartDate).addMilliseconds(duration)\n        },\n        start: newStartDate,\n        end: new TZDate(newStartDate).addMilliseconds(duration)\n    });\n};\n\n/**\n * Get schedule block to clone for month guide effect\n * @param {HTMLElement} target - target element that related with drag schedule\n * @returns {HTMLElement} element to create guide effect\n */\nMonthMove.prototype.getMonthScheduleBlock = function(target) {\n    var blockSelector = config.classname(\'.weekday-schedule-block\');\n\n    return domutil.closest(target, blockSelector);\n};\n\n/**\n * Get schedule block from more layer\n * @param {HTMLElement} target - element to check\n * @returns {HTMLElement} schedule element\n */\nMonthMove.prototype.getMoreLayerScheduleBlock = function(target) {\n    var className = config.classname(\'.month-more-schedule\');\n\n    return domutil.closest(target, className);\n};\n\n/**\n * Check handler has permission to handle fired schedule\n * @fires {MonthMove#monthMoveStart_from_morelayer}\n * @param {HTMLElement} target - target element of fired schedule\n * @returns {(string|null)} model instance ID related with schedule. if handle\n *  has not permission to handle the schedule then return null.\n */\nMonthMove.prototype.hasPermissionToHandle = function(target) {\n    var modelID = null;\n    var blockElement;\n\n    if (domutil.hasClass(target, config.classname(\'weekday-resize-handle\'))) {\n        return null;\n    }\n\n    blockElement = this.getMonthScheduleBlock(target);\n\n    if (blockElement) {\n        modelID = domutil.getData(blockElement, \'id\');\n    } else {\n        blockElement = this.getMoreLayerScheduleBlock(target);\n\n        if (blockElement) {\n            modelID = domutil.getData(blockElement, \'id\');\n            /**\n             * Fire for notificate that the drag schedule start at more layer view.\n             * @event {MonthMove#monthMoveStart_from_morelayer}\n             */\n            this.fire(\'monthMoveStart_from_morelayer\');\n        }\n    }\n\n    return modelID;\n};\n\n/**\n * Event handler for Drag#dragStart\n * @fires {MonthMove#monthMoveDragstart}\n * @param {object} dragStartEvent - drag start schedule data\n */\nMonthMove.prototype._onDragStart = function(dragStartEvent) {\n    var target = dragStartEvent.target,\n        modelID = this.hasPermissionToHandle(target),\n        model = this.baseController.schedules.items[modelID],\n        scheduleData;\n\n    if (!modelID || !model || model.isReadOnly || model.isPending) {\n        return;\n    }\n\n    this.dragHandler.on({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    this.getScheduleData = getMousePosData(this.monthView);\n\n    scheduleData = this.getScheduleData(dragStartEvent.originEvent);\n    scheduleData.originEvent = dragStartEvent.originEvent;\n    scheduleData.target = this.getMonthScheduleBlock(target);\n    scheduleData.model = model;\n\n    this._cache = {\n        model: model,\n        target: target,\n        start: new TZDate(Number(scheduleData.date))\n    };\n\n    /**\n     * @event {MonthMove#monthMoveDragstart}\n     * @type {object}\n     * @property {number} x - x index\n     * @property {number} y - y index\n     * @property {Date} date - drag date\n     * @property {HTMLElement} target - schedule block element\n     * @property {Schedule} model - model instance\n     */\n    this.fire(\'monthMoveDragstart\', scheduleData);\n};\n\n/**\n * @fires {MonthMove#monthMoveDrag}\n * @param {object} dragEvent - drag event data\n */\nMonthMove.prototype._onDrag = function(dragEvent) {\n    var scheduleData;\n\n    if (!this.getScheduleData) {\n        return;\n    }\n\n    scheduleData = util.extend({\n        originEvent: dragEvent.originEvent\n    }, this.getScheduleData(dragEvent.originEvent));\n\n    if (!scheduleData) {\n        return;\n    }\n\n    /**\n     * @event {MonthMove#monthMoveDrag}\n     * @type {object}\n     * @property {number} x - x index\n     * @property {number} y - y index\n     * @property {Date} date - drag date\n     */\n    this.fire(\'monthMoveDrag\', scheduleData);\n};\n\n/**\n * Event handler for Drag#dragEnd\n * @fires {MonthMove#monthMoveDragend}\n * @param {object} dragEndEvent - dragend event data\n */\nMonthMove.prototype._onDragEnd = function(dragEndEvent) {\n    var cache = this._cache;\n    var scheduleData;\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    if (!this.getScheduleData) {\n        return;\n    }\n\n    scheduleData = this.getScheduleData(dragEndEvent.originEvent);\n\n    if (scheduleData) {\n        cache.end = new TZDate(scheduleData.date);\n        this.updateSchedule(cache);\n    }\n\n    /**\n     * @event {MonthResize#monthMoveDragend}\n     * @type {object}\n     * @property {number} x - x index\n     * @property {number} y - y index\n     * @property {Date} date - drag date\n     */\n    this.fire(\'monthMoveDragend\', scheduleData);\n\n    this.getScheduleData = this._cache = null;\n};\n\nutil.CustomEvents.mixin(MonthMove);\n\nmodule.exports = MonthMove;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/month/moveGuide.hbs":\n/*!********************************************!*\\\n  !*** ./src/js/handler/month/moveGuide.hbs ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_547965__) {\n\nvar Handlebars = __nested_webpack_require_547965__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "            border-left:3px solid "\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\n            ";\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "    <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":14,"column":17},"end":{"line":14,"column":31}}}) : helper)))\n    + "weekday-schedule-bullet "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":14,"column":55},"end":{"line":14,"column":69}}}) : helper)))\n    + "weekday-schedule-bullet-focused\\" style=\\"top: "\n    + alias4(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"scheduleBulletTop") : stack1), depth0))\n    + "px;\\"></span>\\n";\n},"5":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":16,"column":110},"end":{"line":16,"column":124}}}) : helper)))\n    + "weekday-schedule-title-focused";\n},"7":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "            "\n    + ((stack1 = (lookupProperty(helpers,"allday-tmpl")||(depth0 && lookupProperty(depth0,"allday-tmpl"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"allday-tmpl","hash":{},"data":data,"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":35}}})) != null ? stack1 : "")\n    + "\\n";\n},"9":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "            "\n    + ((stack1 = (lookupProperty(helpers,"time-tmpl")||(depth0 && lookupProperty(depth0,"time-tmpl"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"time-tmpl","hash":{},"data":data,"loc":{"start":{"line":20,"column":12},"end":{"line":20,"column":33}}})) != null ? stack1 : "")\n    + "\\n";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "month-guide "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":38},"end":{"line":1,"column":52}}}) : helper)))\n    + "month-guide-focused\\"\\n     style=\\"top: -50%;\\n            left: -50%;\\n            width: 100%;\\n            color: #ffffff;\\n            background-color:"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"dragBgColor") : stack1), depth0))\n    + ";\\n            height:"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"scheduleHeight") : stack1), depth0))\n    + "px;\\n            line-height:"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"scheduleHeight") : stack1), depth0))\n    + "px;\\n            border-radius: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"borderRadius") : stack1), depth0))\n    + ";\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isAllDay") : stack1),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":10,"column":12},"end":{"line":12,"column":19}}})) != null ? stack1 : "")\n    + "\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isAllDay") : stack1),{"name":"unless","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":13,"column":4},"end":{"line":15,"column":15}}})) != null ? stack1 : "")\n    + "    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":30}}}) : helper)))\n    + "month-move-guide "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":16,"column":47},"end":{"line":16,"column":61}}}) : helper)))\n    + "weekday-schedule-title "\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isAllDay") : stack1),{"name":"unless","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":16,"column":84},"end":{"line":16,"column":165}}})) != null ? stack1 : "")\n    + "\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isAllDay") : stack1),{"name":"if","hash":{},"fn":container.program(7, data, 0),"inverse":container.program(9, data, 0),"data":data,"loc":{"start":{"line":17,"column":8},"end":{"line":21,"column":15}}})) != null ? stack1 : "")\n    + "    </div>\\n</div>\\n<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":24,"column":12},"end":{"line":24,"column":26}}}) : helper)))\n    + "month-guide-cover\\" style=\\"height:"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"scheduleHeight") : stack1), depth0))\n    + "px; border-radius: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"borderRadius") : stack1), depth0))\n    + ";\\"></div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/handler/month/moveGuide.js":\n/*!*******************************************!*\\\n  !*** ./src/js/handler/month/moveGuide.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_558054__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview Module for modification of guide element for move in month view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_558054__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar config = __nested_webpack_require_558054__(/*! ../../config */ "./src/js/config.js"),\n    domutil = __nested_webpack_require_558054__(/*! ../../common/domutil */ "./src/js/common/domutil.js"),\n    domevent = __nested_webpack_require_558054__(/*! ../../common/domevent */ "./src/js/common/domevent.js"),\n    FloatingLayer = __nested_webpack_require_558054__(/*! ../../common/floatingLayer */ "./src/js/common/floatingLayer.js"),\n    tmpl = __nested_webpack_require_558054__(/*! ./moveGuide.hbs */ "./src/js/handler/month/moveGuide.hbs"),\n    Schedule = __nested_webpack_require_558054__(/*! ../../model/schedule */ "./src/js/model/schedule.js");\n\n/**\n * @constructor\n * @param {MonthMove} monthMove - month/move module instance\n */\nfunction MonthMoveGuide(monthMove) {\n    /**\n     * @type {MonthMove}\n     */\n    this.monthMove = monthMove;\n\n    /**\n     * @type {HTMLElement[]}\n     */\n    this.elements = null;\n\n    /**\n     * @type {FloatingLayer}\n     */\n    this.layer = null;\n\n    monthMove.on({\n        monthMoveDragstart: this._onDragStart,\n        monthMoveDrag: this._onDrag,\n        monthMoveDragend: this._onDragEnd\n    }, this);\n}\n\n/**\n * Destructor\n */\nMonthMoveGuide.prototype.destroy = function() {\n    this.monthMove.off(this);\n    this._clearGridBgColor();\n\n    if (this.layer) {\n        this.layer.destroy();\n    }\n\n    if (this.element) {\n        domutil.remove(this.element);\n    }\n\n    this.monthMove = this.elements = this.layer = null;\n};\n\n/**\n * Hide element blocks for resize effect\n * @param {number} modelID - Schedule model instance ID\n */\nMonthMoveGuide.prototype._hideOriginScheduleBlocks = function(modelID) {\n    var className = config.classname(\'weekday-schedule-block-dragging-dim\');\n\n    this.elements = domutil.find(\n        config.classname(\'.weekday-schedule-block-\' + modelID),\n        this.monthMove.monthView.container,\n        true\n    );\n\n    util.forEach(this.elements, function(el) {\n        domutil.addClass(el, className);\n    });\n};\n\n/**\n * Show element blocks\n */\nMonthMoveGuide.prototype._showOriginScheduleBlocks = function() {\n    var className = config.classname(\'weekday-schedule-block-dragging-dim\');\n\n    util.forEach(this.elements, function(el) {\n        domutil.removeClass(el, className);\n    });\n};\n\n/**\n * Clear background color for filled grid element.\n */\nMonthMoveGuide.prototype._clearGridBgColor = function() {\n    var selector = config.classname(\'.weekday-filled\'),\n        className = config.classname(\'weekday-filled\'),\n        beforeGridElement = domutil.find(selector,\n            this.monthMove.monthView.container);\n\n    if (beforeGridElement) {\n        domutil.removeClass(beforeGridElement, className);\n    }\n};\n\n/**\n * Fill background color of date grids relatied with model updates.\n * @param {object} dragEvent - drag event data from MonthMoveGuide#_onDrag\n */\nMonthMoveGuide.prototype._updateGridBgColor = function(dragEvent) {\n    var gridElements = domutil.find(config.classname(\'.weekday-grid-line\'), this.monthMove.monthView.container, true),\n        className = config.classname(\'weekday-filled\'),\n        targetIndex = (dragEvent.x + (dragEvent.sizeX * dragEvent.y));\n\n    this._clearGridBgColor();\n\n    if (!gridElements || !gridElements[targetIndex]) {\n        return;\n    }\n\n    domutil.addClass(gridElements[targetIndex], className);\n};\n\n/**\n * Handler for MonthMove#dragStart\n * @param {object} dragStartEvent - dragStart schedule data object\n */\nMonthMoveGuide.prototype._onDragStart = function(dragStartEvent) {\n    var monthView = this.monthMove.monthView,\n        firstWeekdayView = monthView.children.single(),\n        weekdayOptions = firstWeekdayView.options,\n        widthPercent = 100 / firstWeekdayView.getRenderDateRange().length,\n        height = weekdayOptions.scheduleGutter + weekdayOptions.scheduleHeight,\n        container = monthView.container,\n        mousePos = domevent.getMousePosition(dragStartEvent.originEvent, container),\n        model = dragStartEvent.model,\n        layer = new FloatingLayer(null, container);\n\n    this._hideOriginScheduleBlocks(model.cid());\n\n    this.layer = layer;\n    layer.setSize(widthPercent + \'%\', height);\n    layer.setPosition(mousePos[0], mousePos[1]);\n    layer.setContent(tmpl({\n        model: util.extend(\n            Schedule.create(model),\n            model\n        ),\n        styles: {\n            scheduleHeight: weekdayOptions.scheduleHeight,\n            scheduleBulletTop: weekdayOptions.scheduleHeight / 3,\n            borderRadius: monthView.controller.theme.month.schedule.borderRadius\n        }\n    }));\n    layer.show();\n\n    if (!util.browser.msie) {\n        domutil.addClass(global.document.body, config.classname(\'dragging\'));\n    }\n};\n\n/**\n * Handler for MonthMove#drag\n * @param {object} dragEvent - drag event data object\n */\nMonthMoveGuide.prototype._onDrag = function(dragEvent) {\n    var container = this.monthMove.monthView.container,\n        mousePos = domevent.getMousePosition(\n            dragEvent.originEvent,\n            container\n        );\n\n    this._updateGridBgColor(dragEvent);\n\n    if (!this.layer) {\n        return;\n    }\n\n    this.layer.setPosition(mousePos[0], mousePos[1]);\n};\n\n/**\n * Handler for MonthMove#dragEnd\n */\nMonthMoveGuide.prototype._onDragEnd = function() {\n    this._showOriginScheduleBlocks();\n\n    if (!util.browser.msie) {\n        domutil.removeClass(global.document.body, config.classname(\'dragging\'));\n    }\n\n    this._clearGridBgColor();\n    this.layer.destroy();\n    this.layer = null;\n};\n\nmodule.exports = MonthMoveGuide;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_558054__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/handler/month/resize.js":\n/*!****************************************!*\\\n  !*** ./src/js/handler/month/resize.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_564237__) {\n\n"use strict";\n/**\n * @fileoverview Module for resize schedule in month view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_564237__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar config = __nested_webpack_require_564237__(/*! ../../config */ "./src/js/config.js"),\n    datetime = __nested_webpack_require_564237__(/*! ../../common/datetime */ "./src/js/common/datetime.js"),\n    domutil = __nested_webpack_require_564237__(/*! ../../common/domutil */ "./src/js/common/domutil.js"),\n    getMousePosData = __nested_webpack_require_564237__(/*! ./core */ "./src/js/handler/month/core.js"),\n    MonthResizeGuide = __nested_webpack_require_564237__(/*! ./resizeGuide */ "./src/js/handler/month/resizeGuide.js"),\n    TZDate = __nested_webpack_require_564237__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\n\nvar common = __nested_webpack_require_564237__(/*! ../../common/common */ "./src/js/common/common.js");\n\n/**\n * @constructor\n * @param {Drag} dragHandler - Drag handler instance.\n * @param {Month} monthView - Month view instance.\n * @param {Base} baseController - Base controller instance.\n */\nfunction MonthResize(dragHandler, monthView, baseController) {\n    /**\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * @type {Month}\n     */\n    this.monthView = monthView;\n\n    /**\n     * @type {Base}\n     */\n    this.baseController = baseController;\n\n    /**\n     * @type {function}\n     */\n    this.getScheduleData = null;\n\n    /**\n     * @type {object}\n     */\n    this._cache = null;\n\n    /**\n     * @type {MonthResizeGuide}\n     */\n    this.guide = new MonthResizeGuide(this);\n\n    dragHandler.on(\'dragStart\', this._onDragStart, this);\n}\n\n/**\n * Destructor\n */\nMonthResize.prototype.destroy = function() {\n    this.dragHandler.off(this);\n\n    this.dragHandler = this.monthView = this.baseController = null;\n};\n\n/**\n * Fire event for update model\n * @fires {MonthResize#beforeUpdateSchedule}\n * @param {object} scheduleCache - cache object that result of single dragging\n *  session.\n */\nMonthResize.prototype._updateSchedule = function(scheduleCache) {\n    // You can not change the start date of the event. Only the end time can be changed.\n    var newEnd = datetime.end(new TZDate(scheduleCache.end)),\n        schedule = scheduleCache.schedule;\n    var changes = common.getScheduleChanges(\n        schedule,\n        [\'end\'],\n        {end: newEnd}\n    );\n\n    /**\n     * @event MonthResize#beforeUpdateSchedule\n     * @type {object}\n     * @property {Schedule} schedule - The original schedule instance\n     * @property {Date} start - Deprecated: start time to update\n     * @property {Date} end - Deprecated: end time to update\n     * @property {object} changes - end time to update\n     *  @property {date} end - end time to update\n     */\n    this.fire(\'beforeUpdateSchedule\', {\n        schedule: schedule,\n        changes: changes,\n        start: new TZDate(schedule.getStarts()),\n        end: newEnd\n    });\n};\n\n/**\n * Event handler for Drag#dragStart\n * @fires {MonthResize#monthResizeDragstart}\n * @param {object} dragStartEvent - drag start event data\n */\nMonthResize.prototype._onDragStart = function(dragStartEvent) {\n    var target = dragStartEvent.target,\n        modelID, schedule,\n        scheduleData;\n\n    if (!domutil.hasClass(target, config.classname(\'weekday-resize-handle\'))) {\n        return;\n    }\n\n    target = domutil.closest(target, config.classname(\'.weekday-schedule-block\'));\n\n    if (!target) {\n        return;\n    }\n\n    modelID = domutil.getData(target, \'id\');\n    schedule = this.baseController.schedules.items[modelID];\n\n    this.dragHandler.on({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    this.getScheduleData = getMousePosData(this.monthView);\n    scheduleData = this.getScheduleData(dragStartEvent.originEvent);\n    scheduleData.target = target;\n    scheduleData.model = schedule;\n\n    this._cache = {\n        schedule: schedule,\n        target: target,\n        start: new TZDate(scheduleData.date)\n    };\n\n    /**\n     * @event {MonthCreation#monthResizeDragstart}\n     * @type {object}\n     * @property {number} x - x index\n     * @property {number} y - y index\n     * @property {Date} date - drag date\n     * @property {HTMLElement} target - schedule block element\n     * @property {Schedule} model - model instance\n     */\n    this.fire(\'monthResizeDragstart\', scheduleData);\n};\n\n/**\n * @fires {MonthResize#monthResizeDrag}\n * @param {object} dragEvent - drag event data\n */\nMonthResize.prototype._onDrag = function(dragEvent) {\n    var scheduleData;\n\n    if (!this.getScheduleData) {\n        return;\n    }\n\n    scheduleData = this.getScheduleData(dragEvent.originEvent);\n\n    if (!scheduleData) {\n        return;\n    }\n\n    /**\n     * @event {MonthResize#monthResizeDrag}\n     * @type {object}\n     * @property {number} x - x index\n     * @property {number} y - y index\n     * @property {Date} date - drag date\n     */\n    this.fire(\'monthResizeDrag\', scheduleData);\n};\n\n/**\n * @fires {MonthResize#monthResizeDragend}\n * @param {object} dragEndEvent - drag end event data\n */\nMonthResize.prototype._onDragEnd = function(dragEndEvent) {\n    var cache = this._cache;\n    var scheduleData;\n    var start, end;\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    if (!this.getScheduleData) {\n        return;\n    }\n\n    scheduleData = this.getScheduleData(dragEndEvent.originEvent);\n\n    if (scheduleData) {\n        start = new TZDate(cache.schedule.getStarts());\n        end = new TZDate(scheduleData.date);\n        cache.end = end;\n\n        if (start <= cache.end) {\n            this._updateSchedule(cache);\n        }\n    }\n\n    /**\n     * @event {MonthResize#monthResizeDragend}\n     * @type {object}\n     * @property {number} x - x index\n     * @property {number} y - y index\n     * @property {Date} date - drag date\n     */\n    this.fire(\'monthResizeDragend\', scheduleData);\n\n    this.getScheduleData = this._cache = null;\n};\n\nutil.CustomEvents.mixin(MonthResize);\n\nmodule.exports = MonthResize;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/month/resizeGuide.js":\n/*!*********************************************!*\\\n  !*** ./src/js/handler/month/resizeGuide.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_570565__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview Module for modification of guide element in schedule resize\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_570565__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar config = __nested_webpack_require_570565__(/*! ../../config */ "./src/js/config.js"),\n    domutil = __nested_webpack_require_570565__(/*! ../../common/domutil */ "./src/js/common/domutil.js"),\n    MonthGuide = __nested_webpack_require_570565__(/*! ./guide */ "./src/js/handler/month/guide.js");\n\n/**\n * @constructor\n * @param {MonthResize} monthResize - month/resize module instance\n */\nfunction MonthResizeGuide(monthResize) {\n    /**\n     * @type {MonthResize}\n     */\n    this.monthResize = monthResize;\n\n    /**\n     * @type {HTMLElement[]}\n     */\n    this.elements = null;\n\n    /**\n     * @type {MonthGuide}\n     */\n    this.guide = null;\n\n    monthResize.on({\n        monthResizeDragstart: this._onDragStart,\n        monthResizeDrag: this._onDrag,\n        monthResizeDragend: this._onDragEnd\n    }, this);\n}\n\n/**\n * Destructor\n */\nMonthResizeGuide.prototype.destroy = function() {\n    this.monthResize.off(this);\n    this.guide.destroy();\n\n    this.guide = this.monthResize = null;\n};\n\n/**\n * Hide element blocks for resize effect\n * @param {number} modelID - Schedule model instance ID\n */\nMonthResizeGuide.prototype._hideScheduleBlocks = function(modelID) {\n    this.elements = domutil.find(\n        config.classname(\'.weekday-schedule-block-\' + modelID),\n        this.monthResize.monthView.container,\n        true\n    );\n\n    util.forEach(this.elements, function(el) {\n        el.style.display = \'none\';\n    });\n};\n\n/**\n * Show element blocks\n */\nMonthResizeGuide.prototype._showScheduleBlocks = function() {\n    util.forEach(this.elements, function(el) {\n        el.style.display = \'block\';\n    });\n};\n\n/**\n * Drag start event handler\n * @param {object} dragStartEvent - schedule data from MonthResize\n */\nMonthResizeGuide.prototype._onDragStart = function(dragStartEvent) {\n    this.guide = new MonthGuide({\n        isResizeMode: true\n    }, this.monthResize.monthView);\n\n    this.guide.start(dragStartEvent);\n\n    this._hideScheduleBlocks(dragStartEvent.model.cid());\n\n    if (!util.browser.msie) {\n        domutil.addClass(global.document.body, config.classname(\'resizing-x\'));\n    }\n};\n\n/**\n * Drag event handler\n * @param {object} dragEvent - event data from MonthCreation\n */\nMonthResizeGuide.prototype._onDrag = function(dragEvent) {\n    this.guide.update(dragEvent.x, dragEvent.y);\n};\n\n/**\n * Drag end event handler\n */\nMonthResizeGuide.prototype._onDragEnd = function() {\n    this._showScheduleBlocks();\n\n    this.guide.destroy();\n    this.elements = this.guide = null;\n\n    if (!util.browser.msie) {\n        domutil.removeClass(global.document.body, config.classname(\'resizing-x\'));\n    }\n};\n\nmodule.exports = MonthResizeGuide;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_570565__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/handler/time/click.js":\n/*!**************************************!*\\\n  !*** ./src/js/handler/time/click.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_573896__) {\n\n"use strict";\n/**\n * @fileoverview Allday event click event hander module\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_573896__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_573896__(/*! ../../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_573896__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\n\n/**\n * @constructor\n * @implements {Handler}\n * @mixes util.CustomEvents\n * @param {Drag} [dragHandler] - Drag handler instance.\n * @param {TimeGrid} [timeGridView] - TimeGrid view instance.\n * @param {Base} [baseController] - Base controller instance.\n */\nfunction TimeClick(dragHandler, timeGridView, baseController) {\n    /**\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * @type {TimeGrid}\n     */\n    this.timeGridView = timeGridView;\n\n    /**\n     * @type {Base}\n     */\n    this.baseController = baseController;\n\n    dragHandler.on({\n        \'click\': this._onClick\n    }, this);\n}\n\n/**\n * Destroy method\n */\nTimeClick.prototype.destroy = function() {\n    this.dragHandler.off(this);\n    this.timeGridView = this.baseController = this.dragHandler = null;\n};\n\n/**\n * Check target element is expected condition for activate this plugins.\n * @param {HTMLElement} target - The element to check\n * @returns {string} - model id\n */\nTimeClick.prototype.checkExpectCondition = function(target) {\n    var container,\n        matches;\n\n    container = domutil.closest(target, config.classname(\'.time-date\'));\n\n    if (!container) {\n        return false;\n    }\n\n    matches = domutil.getClass(container).match(config.time.getViewIDRegExp);\n\n    if (!matches || matches.length < 2) {\n        return false;\n    }\n\n    return util.pick(this.timeGridView.children.items, Number(matches[1]));\n};\n\n/**\n * Click event hander\n * @param {object} clickEvent - click event from {@link Drag}\n * @emits TimeClick#clickEvent\n */\nTimeClick.prototype._onClick = function(clickEvent) {\n    var self = this,\n        target = clickEvent.target,\n        timeView = this.checkExpectCondition(target),\n        blockElement = domutil.closest(target, config.classname(\'.time-date-schedule-block\')),\n        schedulesCollection = this.baseController.schedules;\n\n    if (!timeView || !blockElement) {\n        return;\n    }\n\n    schedulesCollection.doWhenHas(domutil.getData(blockElement, \'id\'), function(schedule) {\n        /**\n         * @events TimeClick#clickSchedule\n         * @type {object}\n         * @property {Schedule} schedule - schedule instance\n         * @property {MouseEvent} event - MouseEvent object\n         */\n        self.fire(\'clickSchedule\', {\n            schedule: schedule,\n            event: clickEvent.originEvent\n        });\n    });\n};\n\nutil.CustomEvents.mixin(TimeClick);\n\nmodule.exports = TimeClick;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/time/clickDayname.js":\n/*!*********************************************!*\\\n  !*** ./src/js/handler/time/clickDayname.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_577010__) {\n\n"use strict";\n/**\n * @fileoverview Dayname click event hander module\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_577010__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_577010__(/*! ../../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_577010__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\n\n/**\n * @constructor\n * @implements {Handler}\n * @mixes util.CustomEvents\n * @param {Drag} [dragHandler] - Drag handler instance.\n * @param {DayName} [dayNameView] - DayName view instance.\n * @param {Base} [baseController] - Base controller instance.\n */\nfunction DayNameClick(dragHandler, dayNameView, baseController) {\n    /**\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * @type {DayName}\n     */\n    this.dayNameView = dayNameView;\n\n    /**\n     * @type {Base}\n     */\n    this.baseController = baseController;\n\n    dragHandler.on({\n        \'click\': this._onClick\n    }, this);\n}\n\n/**\n * Destroy method\n */\nDayNameClick.prototype.destroy = function() {\n    this.dragHandler.off(this);\n    this.dayNameView = this.baseController = this.dragHandler = null;\n};\n\n/**\n * Check target element is expected condition for activate this plugins.\n * @param {HTMLElement} target - The element to check\n * @returns {string} - model id\n */\nDayNameClick.prototype.checkExpectCondition = function(target) {\n    var container = domutil.closest(target, config.classname(\'.dayname-date-area\'));\n\n    if (!container) {\n        return false;\n    }\n\n    return true;\n};\n\n/**\n * Click event hander\n * @param {object} clickEvent - click event from {@link Drag}\n * @emits DayNameClick#clickDayname\n */\nDayNameClick.prototype._onClick = function(clickEvent) {\n    var self = this,\n        target = clickEvent.target,\n        daynameView = this.checkExpectCondition(target),\n        blockElement = domutil.closest(target, config.classname(\'.dayname\'));\n\n    if (!daynameView || !blockElement) {\n        return;\n    }\n\n    /**\n     * @events DayNameClick#clickDayname\n     * @type {object}\n     * @property {string} date - click date\n     */\n    self.fire(\'clickDayname\', {\n        date: domutil.getData(blockElement, \'date\')\n    });\n};\n\nutil.CustomEvents.mixin(DayNameClick);\n\nmodule.exports = DayNameClick;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/time/core.js":\n/*!*************************************!*\\\n  !*** ./src/js/handler/time/core.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_579574__) {\n\n"use strict";\n/**\n * @fileoverview Core methods for dragging actions\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_579574__(/*! tui-code-snippet */ "tui-code-snippet");\nvar common = __nested_webpack_require_579574__(/*! ../../common/common */ "./src/js/common/common.js");\nvar datetime = __nested_webpack_require_579574__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar domevent = __nested_webpack_require_579574__(/*! ../../common/domevent */ "./src/js/common/domevent.js");\nvar Point = __nested_webpack_require_579574__(/*! ../../common/point */ "./src/js/common/point.js");\nvar TZDate = __nested_webpack_require_579574__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\n\n/**\n * @mixin Time.Core\n */\nvar timeCore = {\n    /**\n     * Get Y index ratio(hour) in time grids by supplied parameters.\n     * @param {number} baseMil - base milliseconds number for supplied height.\n     * @param {number} height - container element height.\n     * @param {number} y - Y coordinate to calculate hour ratio.\n     * @returns {number} hour index ratio value.\n     */\n    _calcGridYIndex: function(baseMil, height, y) {\n        // get ratio from right expression > point.y : x = session.height : baseMil\n        // and convert milliseconds value to hours.\n        var result = datetime.millisecondsTo(\'hour\', (y * baseMil) / height),\n            floored = result | 0,\n            nearest = common.nearest(result - floored, [0, 1]);\n\n        return floored + (nearest ? 0.5 : 0);\n    },\n\n    /**\n     * Get function to makes event data from Time and mouseEvent\n     * @param {Time} timeView - Instance of time view.\n     * @returns {function} - Function that return event data from mouse event.\n     */\n    _retriveScheduleData: function(timeView) {\n        var self = this,\n            container = timeView.container,\n            options = timeView.options,\n            viewHeight = timeView.getViewBound().height,\n            viewTime = timeView.getDate(),\n            hourLength = options.hourEnd - options.hourStart,\n            baseMil = datetime.millisecondsFrom(\'hour\', hourLength);\n\n        /**\n         * @param {MouseEvent} mouseEvent - mouse event object to get common event data.\n         * @param {object} [extend] - object to extend event data before return.\n         * @returns {object} - common event data for time\n         */\n        return function(mouseEvent, extend) {\n            var mouseY = Point.n(domevent.getMousePosition(mouseEvent, container)).y,\n                gridY = common.ratio(viewHeight, hourLength, mouseY),\n                timeY = new TZDate(viewTime).addMinutes(datetime.minutesFromHours(gridY)),\n                nearestGridY = self._calcGridYIndex(baseMil, viewHeight, mouseY),\n                nearestGridTimeY = new TZDate(viewTime).addMinutes(\n                    datetime.minutesFromHours(nearestGridY + options.hourStart)\n                );\n\n            return util.extend({\n                target: domevent.getEventTarget(mouseEvent),\n                relatedView: timeView,\n                originEvent: mouseEvent,\n                mouseY: mouseY,\n                gridY: gridY,\n                timeY: timeY,\n                nearestGridY: nearestGridY,\n                nearestGridTimeY: nearestGridTimeY,\n                triggerEvent: mouseEvent.type\n            }, extend);\n        };\n    },\n\n    /**\n     * Get function to makes event data from Time and mouseEvent\n     * @param {Time} timeView - Instance of time view.\n     * @param {TZDate} startDate - start date\n     * @param {TZDate} endDate - end date\n     * @param {number} hourStart Can limit of render hour start.\n     * @returns {object} - common event data for time from mouse event.\n     */\n    _retriveScheduleDataFromDate: function(timeView, startDate, endDate, hourStart) {\n        var viewTime = timeView.getDate();\n        var gridY, timeY, nearestGridY, nearestGridTimeY, nearestGridEndY, nearestGridEndTimeY;\n\n        gridY = startDate.getHours() - hourStart + getNearestHour(startDate.getMinutes());\n        timeY = new TZDate(viewTime).addMinutes(datetime.minutesFromHours(gridY));\n        nearestGridY = gridY;\n        nearestGridTimeY = new TZDate(viewTime).addMinutes(datetime.minutesFromHours(nearestGridY));\n        nearestGridEndY = endDate.getHours() - hourStart + getNearestHour(endDate.getMinutes());\n        nearestGridEndTimeY = new TZDate(viewTime).addMinutes(datetime.minutesFromHours(nearestGridEndY));\n\n        return {\n            target: timeView,\n            relatedView: timeView,\n            gridY: gridY,\n            timeY: timeY,\n            nearestGridY: nearestGridY,\n            nearestGridTimeY: nearestGridTimeY,\n            nearestGridEndY: nearestGridEndY,\n            nearestGridEndTimeY: nearestGridEndTimeY,\n            triggerEvent: \'manual\',\n            hourStart: hourStart\n        };\n    },\n\n    /**\n     * Mixin method.\n     * @param {(TimeCreation|TimeMove)} obj - Constructor functions\n     */\n    mixin: function(obj) {\n        var proto = obj.prototype;\n        util.forEach(timeCore, function(method, methodName) {\n            if (methodName === \'mixin\') {\n                return;\n            }\n\n            proto[methodName] = method;\n        });\n    }\n};\n\n/**\n * Get the nearest hour\n * @param {number} minutes - minutes\n * @returns {number} hour\n */\nfunction getNearestHour(minutes) {\n    var nearestHour;\n    if (minutes === 0) {\n        nearestHour = 0;\n    } else if (minutes > 30) {\n        nearestHour = 1;\n    } else if (minutes <= 30) {\n        nearestHour = 0.5;\n    }\n\n    return nearestHour;\n}\n\nmodule.exports = timeCore;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/time/creation.js":\n/*!*****************************************!*\\\n  !*** ./src/js/handler/time/creation.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_585441__) {\n\n"use strict";\n/**\n * @fileoverview Handling creation events from drag handler and time grid view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_585441__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_585441__(/*! ../../config */ "./src/js/config.js");\nvar array = __nested_webpack_require_585441__(/*! ../../common/array */ "./src/js/common/array.js");\nvar datetime = __nested_webpack_require_585441__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar domutil = __nested_webpack_require_585441__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar domevent = __nested_webpack_require_585441__(/*! ../../common/domevent */ "./src/js/common/domevent.js");\nvar common = __nested_webpack_require_585441__(/*! ../../common/common */ "./src/js/common/common.js");\nvar TimeCreationGuide = __nested_webpack_require_585441__(/*! ./creationGuide */ "./src/js/handler/time/creationGuide.js");\nvar TZDate = __nested_webpack_require_585441__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\nvar timeCore = __nested_webpack_require_585441__(/*! ./core */ "./src/js/handler/time/core.js");\n\nvar CLICK_DELAY = 300;\n\n/**\n * @constructor\n * @implements {Handler}\n * @mixes timeCore\n * @mixes CustomEvents\n * @param {Drag} [dragHandler] - Drag handler instance.\n * @param {TimeGrid} [timeGridView] - TimeGrid view instance.\n * @param {Base} [baseController] - Base controller instance.\n * @param {Options} [options] - calendar Options\n */\nfunction TimeCreation(dragHandler, timeGridView, baseController, options) {\n    /**\n     * Drag handler instance.\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * TimeGrid view instance.\n     * @type {TimeGrid}\n     */\n    this.timeGridView = timeGridView;\n\n    /**\n     * Base controller instance.\n     * @type {Base}\n     */\n    this.baseController = baseController;\n\n    /**\n     * @type {TimeCreationGuide}\n     */\n    this.guide = new TimeCreationGuide(this);\n\n    /**\n     * Temporary function for single drag session\'s calc.\n     * @type {function}\n     */\n    this._getScheduleDataFunc = null;\n\n    /**\n     * Temporary function for drag start data cache.\n     * @type {object}\n     */\n    this._dragStart = null;\n\n    /**\n     * @type {boolean}\n     */\n    this._requestOnClick = false;\n\n    /**\n     * @type {boolean}\n     */\n    this._disableDblClick = options.disableDblClick;\n\n    /**\n     * @type {boolean}\n     */\n    this._disableClick = options.disableClick;\n\n    dragHandler.on(\'dragStart\', this._onDragStart, this);\n    dragHandler.on(\'click\', this._onClick, this);\n\n    if (this._disableDblClick) {\n        CLICK_DELAY = 0;\n    } else {\n        domevent.on(timeGridView.container, \'dblclick\', this._onDblClick, this);\n    }\n}\n\n/**\n * Destroy method\n */\nTimeCreation.prototype.destroy = function() {\n    var timeGridView = this.timeGridView;\n\n    this.guide.destroy();\n    this.dragHandler.off(this);\n\n    if (timeGridView && timeGridView.container) {\n        domevent.off(timeGridView.container, \'dblclick\', this._onDblClick, this);\n    }\n\n    this.dragHandler = this.timeGridView = this.baseController =\n        this._getScheduleDataFunc = this._dragStart = this.guide = null;\n};\n\n/**\n * Check target element is expected condition for activate this plugins.\n * @param {HTMLElement} target - The element to check\n * @returns {(boolean|Time)} - return Time view instance when satiate condition.\n */\nTimeCreation.prototype.checkExpectedCondition = function(target) {\n    var cssClass = domutil.getClass(target),\n        matches;\n\n    if (cssClass === config.classname(\'time-date-schedule-block-wrap\')) {\n        target = target.parentNode;\n        cssClass = domutil.getClass(target);\n    }\n\n    matches = cssClass.match(config.time.getViewIDRegExp);\n\n    if (!matches || matches.length < 2) {\n        return false;\n    }\n\n    return util.pick(this.timeGridView.children.items, matches[1]);\n};\n\n/**\n * Drag#dragStart event handler.\n * @emits TimeCreation#timeCreationDragstart\n * @param {object} dragStartEventData - Drag#dragStart event data.\n * @param {string} [overrideEventName] - override emitted event name when supplied.\n * @param {function} [revise] - supply function for revise event data before emit.\n */\nTimeCreation.prototype._onDragStart = function(dragStartEventData, overrideEventName, revise) {\n    var target = dragStartEventData.target,\n        result = this.checkExpectedCondition(target),\n        getScheduleDataFunc,\n        eventData;\n\n    if (!result) {\n        return;\n    }\n\n    getScheduleDataFunc = this._getScheduleDataFunc = this._retriveScheduleData(result);\n    eventData = this._dragStart = getScheduleDataFunc(dragStartEventData.originEvent);\n\n    if (revise) {\n        revise(eventData);\n    }\n\n    this.dragHandler.on({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    /**\n     * @event TimeCreation#timeCreationDragstart\n     * @type {object}\n     * @property {Time} relatedView - time view instance related with mouse position.\n     * @property {MouseEvent} originEvent - mouse event object.\n     * @property {number} mouseY - mouse Y px mouse event.\n     * @property {number} gridY - grid Y index value related with mouseY value.\n     * @property {number} timeY - milliseconds value of mouseY points.\n     * @property {number} nearestGridY - nearest grid index related with mouseY value.\n     * @property {number} nearestGridTimeY - time value for nearestGridY.\n     */\n    this.fire(overrideEventName || \'timeCreationDragstart\', eventData);\n};\n\n/**\n * Drag#drag event handler\n * @emits TimeCreation#timeCreationDrag\n * @param {object} dragEventData - event data from Drag#drag.\n * @param {string} [overrideEventName] - override emitted event name when supplied.\n * @param {function} [revise] - supply function for revise event data before emit.\n */\nTimeCreation.prototype._onDrag = function(dragEventData, overrideEventName, revise) {\n    var getScheduleDataFunc = this._getScheduleDataFunc,\n        eventData;\n\n    if (!getScheduleDataFunc) {\n        return;\n    }\n\n    eventData = getScheduleDataFunc(dragEventData.originEvent);\n\n    if (revise) {\n        revise(eventData);\n    }\n\n    /**\n     * @event TimeCreation#timeCreationDrag\n     * @type {object}\n     * @property {Time} relatedView - time view instance related with mouse position.\n     * @property {MouseEvent} originEvent - mouse event object.\n     * @property {number} mouseY - mouse Y px mouse event.\n     * @property {number} gridY - grid Y index value related with mouseY value.\n     * @property {number} timeY - milliseconds value of mouseY points.\n     * @property {number} nearestGridY - nearest grid index related with mouseY value.\n     * @property {number} nearestGridTimeY - time value for nearestGridY.\n     */\n    this.fire(overrideEventName || \'timeCreationDrag\', eventData);\n};\n\n/**\n * @fires TimeCreation#beforeCreateSchedule\n * @param {object} eventData - event data object from TimeCreation#timeCreationDragend\n * or TimeCreation#timeCreationClick\n */\nTimeCreation.prototype._createSchedule = function(eventData) {\n    var relatedView = eventData.relatedView,\n        createRange = eventData.createRange,\n        nearestGridTimeY = eventData.nearestGridTimeY,\n        nearestGridEndTimeY = eventData.nearestGridEndTimeY\n            ? eventData.nearestGridEndTimeY\n            : new TZDate(nearestGridTimeY).addMinutes(30),\n        baseDate,\n        dateStart,\n        dateEnd,\n        start,\n        end;\n\n    if (!createRange) {\n        createRange = [\n            nearestGridTimeY,\n            nearestGridEndTimeY\n        ];\n    }\n\n    baseDate = new TZDate(relatedView.getDate());\n    dateStart = datetime.start(baseDate);\n    dateEnd = datetime.getStartOfNextDay(baseDate);\n    start = common.limitDate(createRange[0], dateStart, dateEnd);\n    end = common.limitDate(createRange[1], dateStart, dateEnd);\n\n    /**\n     * @event TimeCreation#beforeCreateSchedule\n     * @type {object}\n     * @property {boolean} isAllDay - whether schedule is fired in allday view area?\n     * @property {Date} start - select start time\n     * @property {Date} end - select end time\n     * @property {TimeCreationGuide} guide - TimeCreationGuide instance\n     * @property {string} triggerEventName - event name\n     */\n    this.fire(\'beforeCreateSchedule\', {\n        isAllDay: false,\n        start: new TZDate(start),\n        end: new TZDate(end),\n        guide: this.guide,\n        triggerEventName: eventData.triggerEvent\n    });\n};\n\n/**\n * Drag#dragEnd event handler\n * @emits TimeCreation#timeCreationDragend\n * @param {object} dragEndEventData - event data from Drag#dragend\n */\nTimeCreation.prototype._onDragEnd = function(dragEndEventData) {\n    var self = this,\n        dragStart = this._dragStart;\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    /**\n     * Function for manipulate event data before firing event\n     * @param {object} eventData - event data\n     */\n    function reviseFunc(eventData) {\n        var range = [\n            dragStart.nearestGridTimeY,\n            eventData.nearestGridTimeY\n        ].sort(array.compare.num.asc);\n        range[1].addMinutes(30);\n\n        eventData.createRange = range;\n\n        self._createSchedule(eventData);\n    }\n\n    /**\n     * @event TimeCreation#timeCreationDragend\n     * @type {object}\n     * @property {Time} relatedView - time view instance related with mouse position.\n     * @property {MouseEvent} originEvent - mouse event object.\n     * @property {number} mouseY - mouse Y px mouse event.\n     * @property {number} gridY - grid Y index value related with mouseY value.\n     * @property {number} timeY - milliseconds value of mouseY points.\n     * @property {number} nearestGridY - nearest grid index related with mouseY value.\n     * @property {number} nearestGridTimeY - time value for nearestGridY.\n     * @property {number[]} createRange - milliseconds range between drag start and end to create.\n     */\n    this._onDrag(dragEndEventData, \'timeCreationDragend\', reviseFunc);\n\n    this._dragStart = this._getScheduleDataFunc = null;\n};\n\n/**\n * Drag#click event handler\n * @emits TimeCreation#timeCreationClick\n * @param {object} clickEventData - event data from Drag#click.\n */\nTimeCreation.prototype._onClick = function(clickEventData) {\n    var self = this;\n    var condResult, getScheduleDataFunc, eventData;\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd\n    }, this);\n\n    condResult = this.checkExpectedCondition(clickEventData.target);\n    if (!condResult || this._disableClick) {\n        return;\n    }\n\n    getScheduleDataFunc = this._retriveScheduleData(condResult);\n    eventData = getScheduleDataFunc(clickEventData.originEvent);\n\n    this._requestOnClick = true;\n    setTimeout(function() {\n        if (self._requestOnClick) {\n            self.fire(\'timeCreationClick\', eventData);\n            self._createSchedule(eventData);\n        }\n        self._requestOnClick = false;\n    }, CLICK_DELAY);\n    this._dragStart = this._getScheduleDataFunc = null;\n};\n\n/**\n * Dblclick event handler\n * @param {MouseEvent} e - Native MouseEvent\n */\nTimeCreation.prototype._onDblClick = function(e) {\n    var condResult, getScheduleDataFunc, eventData;\n\n    condResult = this.checkExpectedCondition(e.target);\n    if (!condResult) {\n        return;\n    }\n\n    getScheduleDataFunc = this._retriveScheduleData(condResult);\n    eventData = getScheduleDataFunc(e);\n\n    this.fire(\'timeCreationClick\', eventData);\n\n    this._createSchedule(eventData);\n\n    this._requestOnClick = false;\n};\n\n/**\n * Invoke creation click\n * @param {Schedule} schedule - schedule instance\n */\nTimeCreation.prototype.invokeCreationClick = function(schedule) {\n    var opt = this.timeGridView.options,\n        range = datetime.range(\n            opt.renderStartDate,\n            opt.renderEndDate,\n            datetime.MILLISECONDS_PER_DAY),\n        hourStart = opt.hourStart,\n        targetDate = schedule.start;\n    var eventData, timeView;\n\n    util.forEach(range, function(date, index) {\n        if (datetime.isSameDate(date, targetDate)) {\n            timeView = this.timeGridView.children.toArray()[index];\n        }\n    }, this);\n\n    // If start date is not in current date, set start date as first date.\n    if (!timeView) {\n        timeView = this.timeGridView.children.toArray()[0];\n    }\n\n    eventData = this._retriveScheduleDataFromDate(timeView, schedule.start, schedule.end, hourStart);\n\n    this.fire(\'timeCreationClick\', eventData);\n\n    this._createSchedule(eventData);\n};\n\ntimeCore.mixin(TimeCreation);\nutil.CustomEvents.mixin(TimeCreation);\n\nmodule.exports = TimeCreation;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/time/creationGuide.js":\n/*!**********************************************!*\\\n  !*** ./src/js/handler/time/creationGuide.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_598384__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview Module for Time.Creation effect while dragging.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar common = __nested_webpack_require_598384__(/*! ../../common/common */ "./src/js/common/common.js");\nvar datetime = __nested_webpack_require_598384__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar config = __nested_webpack_require_598384__(/*! ../../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_598384__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar reqAnimFrame = __nested_webpack_require_598384__(/*! ../../common/reqAnimFrame */ "./src/js/common/reqAnimFrame.js");\nvar ratio = __nested_webpack_require_598384__(/*! ../../common/common */ "./src/js/common/common.js").ratio;\nvar TZDate = __nested_webpack_require_598384__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\nvar MIN60 = (datetime.MILLISECONDS_PER_MINUTES * 60);\n\n/**\n * Class for Time.Creation dragging effect.\n * @constructor\n * @param {TimeCreation} timeCreation - instance of TimeCreation.\n */\nfunction TimeCreationGuide(timeCreation) {\n    /**\n     * Guide element for creation effect.\n     * @type {HTMLElement}\n     */\n    this.guideElement = global.document.createElement(\'div\');\n\n    /**\n     * @type {HTMLDivElement}\n     */\n    this.guideTimeElement = domutil.appendHTMLElement(\n        \'span\',\n        this.guideElement,\n        config.classname(\'time-guide-creation-label\')\n    );\n\n    domutil.addClass(this.guideElement, config.classname(\'time-guide-creation\'));\n\n    /**\n     * @type {TimeCreation}\n     */\n    this.timeCreation = timeCreation;\n\n    /**\n     * @type {array}\n     */\n    this._styleUnit = null;\n\n    /**\n     * @type {array}\n     */\n    this._styleStart = null;\n\n    /**\n     * @type {function}\n     */\n    this._styleFunc = null;\n\n    timeCreation.on({\n        timeCreationDragstart: this._createGuideElement,\n        timeCreationDrag: this._onDrag,\n        timeCreationClick: this._createGuideElement\n    }, this);\n\n    this.applyTheme(timeCreation.baseController.theme);\n}\n\n/**\n * Destroy method.\n */\nTimeCreationGuide.prototype.destroy = function() {\n    this.clearGuideElement();\n    this.timeCreation.off(this);\n    this.timeCreation = this._styleUnit = this._styleStart =\n        this._styleFunc = this.guideElement = this.guideTimeElement = null;\n};\n\n/**\n * Clear guide element.\n */\nTimeCreationGuide.prototype.clearGuideElement = function() {\n    var guideElement = this.guideElement,\n        timeElement = this.guideTimeElement;\n\n    domutil.remove(guideElement);\n\n    reqAnimFrame.requestAnimFrame(function() {\n        guideElement.style.display = \'none\';\n        guideElement.style.top = \'\';\n        guideElement.style.height = \'\';\n        timeElement.innerHTML = \'\';\n    });\n};\n\n/**\n * Refresh guide element\n * @param {number} top - The number of guide element\'s style top\n * @param {number} height - The number of guide element\'s style height\n * @param {TZDate} start - start time of schedule to create\n * @param {TZDate} end - end time of schedule to create\n * @param {boolean} bottomLabel - is label need to render bottom of guide element?\n */\nTimeCreationGuide.prototype._refreshGuideElement = function(top, height, start, end, bottomLabel) {\n    var guideElement = this.guideElement;\n    var timeElement = this.guideTimeElement;\n\n    guideElement.style.top = top + \'px\';\n    guideElement.style.height = height + \'px\';\n    guideElement.style.display = \'block\';\n\n    timeElement.innerHTML = datetime.format(start, \'HH:mm\') +\n        \' - \' + datetime.format(end, \'HH:mm\');\n\n    if (bottomLabel) {\n        domutil.removeClass(timeElement, config.classname(\'time-guide-bottom\'));\n    } else {\n        domutil.addClass(timeElement, config.classname(\'time-guide-bottom\'));\n    }\n};\n\n/**\n * Get unit data of calculating new style of guide element by user interaction\n * @param {Time} relatedView - time view instance related with schedule\n * @returns {array} unit data.\n */\nTimeCreationGuide.prototype._getUnitData = function(relatedView) {\n    var viewOpt = relatedView.options,\n        viewHeight = relatedView.getViewBound().height,\n        hourLength = viewOpt.hourEnd - viewOpt.hourStart,\n        todayStart = datetime.parse(viewOpt.ymd),\n        todayEnd = datetime.getStartOfNextDay(todayStart);\n\n    todayStart.setHours(0, 0, 0, 0);\n    todayStart.setHours(viewOpt.hourStart);\n\n    // [0] height of view\n    // [1] hour length of view\n    // [2] start time of view\n    // [3] end time of view\n    // [4] height of view for one hour\n    return [\n        viewHeight,\n        hourLength,\n        todayStart,\n        todayEnd,\n        viewHeight / hourLength\n    ];\n};\n\n/**\n * Applying limitation to supplied data and return it.\n * @param {number} top - top pixel of guide element\n * @param {number} height - height pixel of guide element\n * @param {TZDate} start - relative time value of dragstart point\n * @param {TZDate} end - relative time value of dragend point\n * @returns {array} limited style data\n */\nTimeCreationGuide.prototype._limitStyleData = function(top, height, start, end) {\n    var unitData = this._styleUnit;\n\n    top = common.limit(top, [0], [unitData[0]]);\n    height = common.limit(top + height, [0], [unitData[0]]) - top;\n    start = common.limitDate(start, unitData[2], unitData[3]);\n    end = common.limitDate(end, unitData[2], unitData[3]);\n\n    return [top, height, start, end];\n};\n\n/**\n * Get function to calculate guide element UI data from supplied units\n * @param {number} viewHeight - total height of view\'s container element\n * @param {number} hourLength - hour length that rendered in time view\n * @param {TZDate} todayStart - time for view\'s start date\n * @returns {function} UI data calculator function\n */\nTimeCreationGuide.prototype._getStyleDataFunc = function(viewHeight, hourLength, todayStart) {\n    var todayStartTime = todayStart;\n    var todayEndTime = datetime.end(todayStart);\n\n    /**\n     * Get top, time value from schedule data\n     * @param {object} scheduleData - schedule data object\n     * @returns {number[]} top, time\n     */\n    function getStyleData(scheduleData) {\n        var minMinutes = 30;\n        var gridY = scheduleData.nearestGridY,\n            gridTimeY = scheduleData.nearestGridTimeY,\n            gridEndTimeY = scheduleData.nearestGridEndTimeY || new TZDate(gridTimeY).addMinutes(minMinutes),\n            top, startTime, endTime;\n\n        top = common.limit(ratio(hourLength, viewHeight, gridY), [0], [viewHeight]);\n        startTime = common.limitDate(gridTimeY, todayStartTime, todayEndTime);\n        endTime = common.limitDate(gridEndTimeY, todayStartTime, todayEndTime);\n\n        return [top, startTime, endTime];\n    }\n\n    return getStyleData;\n};\n\n/**\n * DragStart event handler\n * @param {object} dragStartEventData - dragStart schedule data.\n */\nTimeCreationGuide.prototype._createGuideElement = function(dragStartEventData) {\n    var relatedView = dragStartEventData.relatedView,\n        hourStart = datetime.millisecondsFrom(\'hour\', dragStartEventData.hourStart) || 0,\n        unitData, styleFunc, styleData, result, top, height, start, end;\n\n    unitData = this._styleUnit = this._getUnitData(relatedView);\n    styleFunc = this._styleFunc = this._getStyleDataFunc.apply(this, unitData);\n    styleData = this._styleStart = styleFunc(dragStartEventData);\n\n    start = new TZDate(styleData[1]).addMinutes(datetime.minutesFromHours(hourStart));\n    end = new TZDate(styleData[2]).addMinutes(datetime.minutesFromHours(hourStart));\n    top = styleData[0];\n    height = (unitData[4] * (end - start) / MIN60);\n\n    result = this._limitStyleData(\n        top,\n        height,\n        start,\n        end\n    );\n\n    this._refreshGuideElement.apply(this, result);\n\n    relatedView.container.appendChild(this.guideElement);\n};\n\n/**\n * Drag event handler\n * @param {object} dragEventData - drag schedule data.\n */\nTimeCreationGuide.prototype._onDrag = function(dragEventData) {\n    var minutes30 = 30;\n    var styleFunc = this._styleFunc,\n        unitData = this._styleUnit,\n        startStyle = this._styleStart,\n        refreshGuideElement = this._refreshGuideElement.bind(this),\n        heightOfHalfHour,\n        endStyle,\n        result;\n\n    if (!styleFunc || !unitData || !startStyle) {\n        return;\n    }\n\n    heightOfHalfHour = (unitData[4] / 2);\n    endStyle = styleFunc(dragEventData);\n\n    if (endStyle[0] > startStyle[0]) {\n        result = this._limitStyleData(\n            startStyle[0],\n            (endStyle[0] - startStyle[0]) + heightOfHalfHour,\n            startStyle[1],\n            new TZDate(endStyle[1]).addMinutes(minutes30)\n        );\n    } else {\n        result = this._limitStyleData(\n            endStyle[0],\n            (startStyle[0] - endStyle[0]) + heightOfHalfHour,\n            endStyle[1],\n            new TZDate(startStyle[1]).addMinutes(minutes30)\n        );\n        result.push(true);\n    }\n\n    reqAnimFrame.requestAnimFrame(function() {\n        refreshGuideElement.apply(null, result);\n    });\n};\n\nTimeCreationGuide.prototype.applyTheme = function(theme) {\n    var style = this.guideElement.style;\n    var timeStyle = this.guideTimeElement.style;\n\n    // block\n    style.backgroundColor = theme.common.creationGuide.backgroundColor;\n    style.border = theme.common.creationGuide.border;\n\n    // label\n    timeStyle.color = theme.week.creationGuide.color;\n    timeStyle.fontSize = theme.week.creationGuide.fontSize;\n    timeStyle.fontWeight = theme.week.creationGuide.fontWeight;\n};\n\nmodule.exports = TimeCreationGuide;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_598384__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/handler/time/move.js":\n/*!*************************************!*\\\n  !*** ./src/js/handler/time/move.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_608335__) {\n\n"use strict";\n/**\n * @fileoverview Handling move schedules from drag handler and time grid view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_608335__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_608335__(/*! ../../config */ "./src/js/config.js");\nvar datetime = __nested_webpack_require_608335__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar domutil = __nested_webpack_require_608335__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar domevent = __nested_webpack_require_608335__(/*! ../../common/domevent */ "./src/js/common/domevent.js");\nvar TZDate = __nested_webpack_require_608335__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\nvar timeCore = __nested_webpack_require_608335__(/*! ./core */ "./src/js/handler/time/core.js");\nvar TimeMoveGuide = __nested_webpack_require_608335__(/*! ./moveGuide */ "./src/js/handler/time/moveGuide.js");\n\n/**\n * @constructor\n * @implements {Handler}\n * @mixes timeCore\n * @mixes util.CustomEvents\n * @param {Drag} [dragHandler] - Drag handler instance.\n * @param {TimeGrid} [timeGridView] - TimeGrid view instance.\n * @param {Base} [baseController] - Base controller instance.\n */\nfunction TimeMove(dragHandler, timeGridView, baseController) {\n    /**\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * @type {TimeGrid}\n     */\n    this.timeGridView = timeGridView;\n\n    /**\n     * @type {Base}\n     */\n    this.baseController = baseController;\n\n    /**\n     * @type {function}\n     */\n    this._getScheduleDataFunc = null;\n\n    /**\n     * @type {object}\n     */\n    this._dragStart = null;\n\n    /**\n     * @type {TimeMoveGuide}\n     */\n    this._guide = new TimeMoveGuide(this);\n\n    dragHandler.on(\'dragStart\', this._onDragStart, this);\n    dragHandler.on(\'mousedown\', this._onMouseDown, this);\n}\n\n/**\n * Destroy method.\n */\nTimeMove.prototype.destroy = function() {\n    this._guide.destroy();\n    this.dragHandler.off(this);\n    this.dragHandler = this.timeGridView = this.baseController =\n        this._getScheduleDataFunc = this._dragStart = this._guide = null;\n};\n\n/**\n * Check target element is expected condition for activate this plugins.\n * @param {HTMLElement} target - The element to check\n * @returns {boolean|object} - return object when satiate condition.\n */\nTimeMove.prototype.checkExpectCondition = function(target) {\n    if (!domutil.closest(target, config.classname(\'.time-schedule\'))) {\n        return false;\n    }\n\n    return this._getTimeView(target);\n};\n\n/**\n * Get Time view container from supplied element.\n * @param {HTMLElement} target - element to find time view container.\n * @returns {object|boolean} - return time view instance when finded.\n */\nTimeMove.prototype._getTimeView = function(target) {\n    var container = domutil.closest(target, config.classname(\'.time-date\')),\n        matches;\n\n    if (!container) {\n        return false;\n    }\n\n    matches = domutil.getClass(container).match(config.time.getViewIDRegExp);\n\n    if (!matches || matches.length < 2) {\n        return false;\n    }\n\n    return util.pick(this.timeGridView.children.items, Number(matches[1]));\n};\n\n/**\n * @emits TimeMove#mousedown\n * @param {object} mouseDownEventData - Drag#mousedown schedule data.\n */\nTimeMove.prototype._onMouseDown = function(mouseDownEventData) {\n    var target = mouseDownEventData.target,\n        timeView = this.checkExpectCondition(target),\n        blockElement = domutil.closest(target, config.classname(\'.time-date-schedule-block\'));\n\n    if (!timeView || !blockElement) {\n        return;\n    }\n\n    // EventTarget.target is not changed in mousemove event even if mouse is over the other element.\n    // It\'s different with other browsers(IE, Chrome, Safari)\n    if (util.browser.firefox) {\n        domevent.preventDefault(mouseDownEventData.originEvent);\n    }\n};\n\n/**\n * @emits TimeMove#timeMoveDragstart\n * @param {object} dragStartEventData - Drag#dragStart schedule data.\n */\nTimeMove.prototype._onDragStart = function(dragStartEventData) {\n    var target = dragStartEventData.target,\n        timeView = this.checkExpectCondition(target),\n        blockElement = domutil.closest(target, config.classname(\'.time-date-schedule-block\')),\n        getScheduleDataFunc,\n        scheduleData,\n        ctrl = this.baseController,\n        targetModelID,\n        targetModel;\n\n    if (!timeView || !blockElement) {\n        return;\n    }\n\n    targetModelID = domutil.getData(blockElement, \'id\');\n    targetModel = ctrl.schedules.items[targetModelID];\n\n    if (targetModel.isReadOnly) {\n        return;\n    }\n\n    getScheduleDataFunc = this._getScheduleDataFunc = this._retriveScheduleData(timeView);\n    scheduleData = this._dragStart = getScheduleDataFunc(\n        dragStartEventData.originEvent, {\n            targetModelID: targetModelID,\n            model: targetModel\n        }\n    );\n\n    this.dragHandler.on({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd,\n        click: this._onClick\n    }, this);\n\n    /**\n     * @event TimeMove#timeMoveDragstart\n     * @type {object}\n     * @property {HTMLElement} target - current target in mouse event object.\n     * @property {Time} relatedView - time view instance related with mouse position.\n     * @property {MouseEvent} originEvent - mouse event object.\n     * @property {number} mouseY - mouse Y px mouse event.\n     * @property {number} gridY - grid Y index value related with mouseY value.\n     * @property {number} timeY - milliseconds value of mouseY points.\n     * @property {number} nearestGridY - nearest grid index related with mouseY value.\n     * @property {number} nearestGridTimeY - time value for nearestGridY.\n     * @property {string} targetModelID - The model unique id emitted move schedule.\n     * @property {Schedule} model - model instance\n     */\n    this.fire(\'timeMoveDragstart\', scheduleData);\n};\n\n/**\n * @emits TimeMove#timeMoveDrag\n * @param {MouseEvent} dragEventData - mousemove event object\n * @param {string} [overrideEventName] - name of emitting event to override.\n * @param {function} [revise] - supply function for revise schedule data before emit.\n */\nTimeMove.prototype._onDrag = function(dragEventData, overrideEventName, revise) {\n    var getScheduleDataFunc = this._getScheduleDataFunc,\n        timeView = this._getTimeView(dragEventData.target),\n        dragStart = this._dragStart,\n        scheduleData;\n\n    if (!timeView || !getScheduleDataFunc || !dragStart) {\n        return;\n    }\n\n    scheduleData = getScheduleDataFunc(dragEventData.originEvent, {\n        currentView: timeView,\n        targetModelID: dragStart.targetModelID\n    });\n\n    if (revise) {\n        revise(scheduleData);\n    }\n\n    /**\n     * @event TimeMove#timeMoveDrag\n     * @type {object}\n     * @property {HTMLElement} target - current target in mouse event object.\n     * @property {Time} relatedView - time view instance related with drag start position.\n     * @property {MouseEvent} originEvent - mouse event object.\n     * @property {number} mouseY - mouse Y px mouse event.\n     * @property {number} gridY - grid Y index value related with mouseY value.\n     * @property {number} timeY - milliseconds value of mouseY points.\n     * @property {number} nearestGridY - nearest grid index related with mouseY value.\n     * @property {number} nearestGridTimeY - time value for nearestGridY.\n     * @property {Time} currentView - time view instance related with current mouse position.\n     * @property {string} targetModelID - The model unique id emitted move schedule.\n     */\n    this.fire(overrideEventName || \'timeMoveDrag\', scheduleData);\n};\n\n/**\n * Update model instance by dragend event results.\n * @fires TimeMove#beforeUpdateSchedule\n * @param {object} scheduleData - schedule data from TimeMove#timeMoveDragend\n */\nTimeMove.prototype._updateSchedule = function(scheduleData) {\n    var ctrl = this.baseController,\n        modelID = scheduleData.targetModelID,\n        range = scheduleData.nearestRange,\n        timeDiff = range[1] - range[0],\n        dateDiff = 0,\n        schedule = ctrl.schedules.items[modelID],\n        relatedView = scheduleData.relatedView,\n        currentView = scheduleData.currentView,\n        newStarts,\n        newEnds;\n\n    if (!schedule || !currentView) {\n        return;\n    }\n\n    timeDiff -= datetime.millisecondsFrom(\'minutes\', 30);\n    newStarts = new TZDate(schedule.getStarts()).addMilliseconds(timeDiff);\n    newEnds = new TZDate(schedule.getEnds()).addMilliseconds(timeDiff);\n\n    if (currentView) {\n        dateDiff = currentView.getDate() - relatedView.getDate();\n    }\n\n    newStarts.addMilliseconds(dateDiff);\n    newEnds.addMilliseconds(dateDiff);\n\n    /**\n     * @event TimeMove#beforeUpdateSchedule\n     * @type {object}\n     * @property {Schedule} schedule - The original schedule instance\n     * @property {Date} start - Deprecated: start time to update\n     * @property {Date} end - Deprecated: end time to update\n     * @property {object} changes - start and end time to update\n     *  @property {Date} start - start time to update\n     *  @property {Date} end - end time to update\n     */\n    this.fire(\'beforeUpdateSchedule\', {\n        schedule: schedule,\n        changes: {\n            start: newStarts,\n            end: newEnds\n        },\n        start: newStarts,\n        end: newEnds\n    });\n};\n\n/**\n * @emits TimeMove#timeMoveDragend\n * @param {MouseEvent} dragEndEventData - mouseup mouse event object.\n */\nTimeMove.prototype._onDragEnd = function(dragEndEventData) {\n    var getScheduleDataFunc = this._getScheduleDataFunc,\n        currentView = this._getTimeView(dragEndEventData.target),\n        dragStart = this._dragStart,\n        scheduleData;\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd,\n        click: this._onClick\n    }, this);\n\n    if (!getScheduleDataFunc || !dragStart) {\n        return;\n    }\n\n    scheduleData = getScheduleDataFunc(dragEndEventData.originEvent, {\n        currentView: currentView,\n        targetModelID: dragStart.targetModelID\n    });\n\n    scheduleData.range = [\n        dragStart.timeY,\n        new TZDate(scheduleData.timeY).addMinutes(30)\n    ];\n\n    scheduleData.nearestRange = [\n        dragStart.nearestGridTimeY,\n        new TZDate(scheduleData.nearestGridTimeY).addMinutes(30)\n    ];\n\n    this._updateSchedule(scheduleData);\n\n    /**\n     * @event TimeMove#timeMoveDragend\n     * @type {object}\n     * @property {HTMLElement} target - current target in mouse event object.\n     * @property {Time} relatedView - time view instance related with drag start position.\n     * @property {Time} currentView - time view instance related with current mouse position.\n     * @property {MouseEvent} originEvent - mouse event object.\n     * @property {number} mouseY - mouse Y px mouse event.\n     * @property {number} gridY - grid Y index value related with mouseY value.\n     * @property {number} timeY - milliseconds value of mouseY points.\n     * @property {number} nearestGridY - nearest grid index related with mouseY value.\n     * @property {number} nearestGridTimeY - time value for nearestGridY.\n     * @property {string} targetModelID - The model unique id emitted move schedule.\n     * @property {number[]} range - milliseconds range between drag start and end.\n     * @property {number[]} nearestRange - milliseconds range related with nearestGridY between start and end.\n     */\n    this.fire(\'timeMoveDragend\', scheduleData);\n};\n\n/**\n * @emits TimeMove#timeMoveClick\n * @param {MouseEvent} clickEventData - click mouse event object.\n */\nTimeMove.prototype._onClick = function(clickEventData) {\n    var getScheduleDataFunc = this._getScheduleDataFunc,\n        dragStart = this._dragStart,\n        scheduleData;\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd,\n        click: this._onClick\n    }, this);\n\n    if (!getScheduleDataFunc || !dragStart) {\n        return;\n    }\n\n    scheduleData = getScheduleDataFunc(clickEventData.originEvent, {\n        targetModelID: dragStart.targetModelID\n    });\n\n    /**\n     * @event TimeMove#timeMoveClick\n     * @type {object}\n     * @property {HTMLElement} target - current target in mouse event object.\n     * @property {Time} relatedView - time view instance related with drag start position.\n     * @property {MouseEvent} originEvent - mouse event object.\n     * @property {number} mouseY - mouse Y px mouse event.\n     * @property {number} gridY - grid Y index value related with mouseY value.\n     * @property {number} timeY - milliseconds value of mouseY points.\n     * @property {number} nearestGridY - nearest grid index related with mouseY value.\n     * @property {number} nearestGridTimeY - time value for nearestGridY.\n     * @property {string} targetModelID - The model unique id emitted move schedule.\n     */\n    this.fire(\'timeMoveClick\', scheduleData);\n};\n\ntimeCore.mixin(TimeMove);\nutil.CustomEvents.mixin(TimeMove);\n\nmodule.exports = TimeMove;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/time/moveGuide.js":\n/*!******************************************!*\\\n  !*** ./src/js/handler/time/moveGuide.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_621536__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview Module for Time.Move effect while dragging.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_621536__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_621536__(/*! ../../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_621536__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar reqAnimFrame = __nested_webpack_require_621536__(/*! ../../common/reqAnimFrame */ "./src/js/common/reqAnimFrame.js");\nvar ratio = __nested_webpack_require_621536__(/*! ../../common/common */ "./src/js/common/common.js").ratio;\nvar FloatingLayer = __nested_webpack_require_621536__(/*! ../../common/floatingLayer */ "./src/js/common/floatingLayer.js");\nvar tmpl = __nested_webpack_require_621536__(/*! ../../view/template/week/timeMoveGuide.hbs */ "./src/js/view/template/week/timeMoveGuide.hbs");\nvar TZDate = __nested_webpack_require_621536__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\nvar Schedule = __nested_webpack_require_621536__(/*! ../../model/schedule */ "./src/js/model/schedule.js");\nvar datetime = __nested_webpack_require_621536__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar common = __nested_webpack_require_621536__(/*! ../../common/common */ "./src/js/common/common.js");\n\nvar SCHEDULE_MIN_DURATION = datetime.MILLISECONDS_SCHEDULE_MIN_DURATION;\n\n/**\n * Class for Time.Move effect.\n * @constructor\n * @param {TimeMove} timeMove - The instance of TimeMove.\n */\nfunction TimeMoveGuide(timeMove) {\n    /**\n     * @type {FloatingLayer}\n     */\n    this._guideLayer = null;\n\n    /**\n     * @Type {Schedule}\n     */\n    this._model = null;\n\n    /**\n     * @type {object}\n     */\n    this._viewModel = null;\n\n    /**\n     * @type {object}\n     */\n    this._lastDrag = null;\n\n    /**\n     * @type {HTMLElement}\n     */\n    this.guideElement = null;\n\n    /**\n     * @type {TimeMove}\n     */\n    this.timeMove = timeMove;\n\n    /**\n     * @type {HTMLElement}\n     */\n    this._container = null;\n\n    /**\n     * @type {function}\n     */\n    this._getTopFunc = null;\n\n    /**\n     * @type {number}\n     */\n    this._startGridY = 0;\n\n    /**\n     * @type {number}\n     */\n    this._startTopPixel = 0;\n\n    timeMove.on({\n        \'timeMoveDragstart\': this._onDragStart,\n        \'timeMoveDrag\': this._onDrag,\n        \'timeMoveDragend\': this._clearGuideElement,\n        \'timeMoveClick\': this._clearGuideElement\n    }, this);\n}\n\n/**\n * Destroy method\n */\nTimeMoveGuide.prototype.destroy = function() {\n    this._clearGuideElement();\n    this.timeMove.off(this);\n    if (this._guideLayer) {\n        this._guideLayer.destroy();\n    }\n    this.guideElement = this.timeMove = this._container = this._guideLayer = this._lastDrag =\n        this._getTopFunc = this._startGridY = this._startTopPixel = this._viewModel = null;\n};\n\n/**\n * Clear guide element.\n */\nTimeMoveGuide.prototype._clearGuideElement = function() {\n    if (!util.browser.msie) {\n        domutil.removeClass(global.document.body, config.classname(\'dragging\'));\n    }\n    if (this._guideLayer) {\n        this._guideLayer.destroy();\n    }\n\n    this._showOriginScheduleBlocks();\n\n    this.guideElement = this._getTopFunc = this._guideLayer = this._model = this._lastDrag =\n        this._startGridY = this._startTopPixel = this._viewModel = null;\n};\n\n/**\n * Dim element blocks\n * @param {number} modelID - Schedule model instance ID\n */\nTimeMoveGuide.prototype._hideOriginScheduleBlocks = function() {\n    var className = config.classname(\'time-date-schedule-block-dragging-dim\');\n    if (this.guideElement) {\n        domutil.addClass(this.guideElement, className);\n    }\n};\n\n/**\n * Show element blocks\n */\nTimeMoveGuide.prototype._showOriginScheduleBlocks = function() {\n    var className = config.classname(\'time-date-schedule-block-dragging-dim\');\n    if (this.guideElement) {\n        domutil.removeClass(this.guideElement, className);\n    }\n};\n\n/**\n * Refresh guide element\n * @param {string} top - guide element\'s style top.\n * @param {Schedule} model - updated model\n * @param {object} viewModel - view model\n */\nTimeMoveGuide.prototype._refreshGuideElement = function(top, model, viewModel) {\n    var self = this;\n\n    reqAnimFrame.requestAnimFrame(function() {\n        if (!self._guideLayer) {\n            return;\n        }\n        self._guideLayer.setPosition(0, top);\n        self._guideLayer.setContent(tmpl(util.extend({model: model}, viewModel)));\n    });\n};\n\n/**\n * TimeMove#timeMoveDragstart event handler\n * @param {object} dragStartEventData - dragstart event data\n */\nTimeMoveGuide.prototype._onDragStart = function(dragStartEventData) {\n    var guideElement = domutil.closest(\n        dragStartEventData.target,\n        config.classname(\'.time-date-schedule-block\')\n    );\n    var duration, modelDuration, goingDuration, comingDuration;\n\n    if (!guideElement) {\n        return;\n    }\n\n    this._startTopPixel = parseFloat(guideElement.style.top);\n    this._startGridY = dragStartEventData.nearestGridY;\n    this.guideElement = guideElement;\n    this._container = dragStartEventData.relatedView.container;\n\n    this._model = util.extend(\n        Schedule.create(dragStartEventData.model),\n        dragStartEventData.model\n    );\n\n    modelDuration = this._model.duration();\n    modelDuration = modelDuration > SCHEDULE_MIN_DURATION ? modelDuration : SCHEDULE_MIN_DURATION;\n    goingDuration = datetime.millisecondsFrom(\'minutes\', this._model.goingDuration);\n    comingDuration = datetime.millisecondsFrom(\'minutes\', this._model.comingDuration);\n    duration = goingDuration + modelDuration + comingDuration;\n\n    this._lastDrag = dragStartEventData;\n    this._viewModel = {\n        hasGoingDuration: goingDuration > 0,\n        hasComingDuration: comingDuration > 0,\n        goingDurationHeight: common.ratio(duration, goingDuration, 100),\n        modelDurationHeight: common.ratio(duration, modelDuration, 100),\n        comingDurationHeight: common.ratio(duration, comingDuration, 100)\n    };\n\n    this._resetGuideLayer();\n    this._hideOriginScheduleBlocks();\n};\n\n/**\n * TimeMove#timeMoveDrag event handler\n * @param {object} dragEventData - drag event data\n */\nTimeMoveGuide.prototype._onDrag = function(dragEventData) {\n    var timeView = dragEventData.currentView,\n        viewOptions = timeView.options,\n        viewHeight = timeView.getViewBound().height,\n        guideHeight = parseFloat(this.guideElement.style.height),\n        hourLength = viewOptions.hourEnd - viewOptions.hourStart,\n        gridYOffset = dragEventData.nearestGridY - this._startGridY,\n        gridYOffsetPixel = ratio(hourLength, viewHeight, gridYOffset),\n        gridDiff = dragEventData.nearestGridY - this._lastDrag.nearestGridY,\n        bottomLimit,\n        top;\n\n    if (!util.browser.msie) {\n        domutil.addClass(global.document.body, config.classname(\'dragging\'));\n    }\n\n    if (this._container !== timeView.container) {\n        this._container = timeView.container;\n        this._resetGuideLayer();\n    }\n\n    top = this._startTopPixel + gridYOffsetPixel;\n    bottomLimit = viewHeight - guideHeight;\n\n    top = Math.max(top, 0);\n    top = Math.min(top, bottomLimit);\n\n    // update time\n    this._model.start = new TZDate(this._model.getStarts()).addMinutes(datetime.minutesFromHours(gridDiff));\n    this._model.end = new TZDate(this._model.getEnds()).addMinutes(datetime.minutesFromHours(gridDiff));\n    this._lastDrag = dragEventData;\n\n    this._refreshGuideElement(top, this._model, this._viewModel);\n};\n\nTimeMoveGuide.prototype._resetGuideLayer = function() {\n    if (this._guideLayer) {\n        this._guideLayer.destroy();\n        this._guideLayer = null;\n    }\n    this._guideLayer = new FloatingLayer(null, this._container);\n    this._guideLayer.setSize(this._container.getBoundingClientRect().width, this.guideElement.style.height);\n    this._guideLayer.setPosition(0, this.guideElement.style.top);\n    this._guideLayer.setContent(tmpl(util.extend({model: this._model}, this._viewModel)));\n    this._guideLayer.show();\n};\n\nmodule.exports = TimeMoveGuide;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_621536__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/handler/time/resize.js":\n/*!***************************************!*\\\n  !*** ./src/js/handler/time/resize.js ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_629976__) {\n\n"use strict";\n/**\n * @fileoverview Handling resize schedules from drag handler and time grid view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_629976__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_629976__(/*! ../../config */ "./src/js/config.js");\nvar datetime = __nested_webpack_require_629976__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar domutil = __nested_webpack_require_629976__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar TZDate = __nested_webpack_require_629976__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\nvar common = __nested_webpack_require_629976__(/*! ../../common/common */ "./src/js/common/common.js");\nvar timeCore = __nested_webpack_require_629976__(/*! ./core */ "./src/js/handler/time/core.js");\nvar TimeResizeGuide = __nested_webpack_require_629976__(/*! ./resizeGuide */ "./src/js/handler/time/resizeGuide.js");\n\n/**\n * @constructor\n * @implements {Handler}\n * @mixes timeCore\n * @mixes util.CustomEvents\n * @param {Drag} [dragHandler] - Drag handler instance.\n * @param {TimeGrid} [timeGridView] - TimeGrid view instance.\n * @param {Base} [baseController] - Base controller instance.\n */\nfunction TimeResize(dragHandler, timeGridView, baseController) {\n    /**\n     * @type {Drag}\n     */\n    this.dragHandler = dragHandler;\n\n    /**\n     * @type {TimeGrid}\n     */\n    this.timeGridView = timeGridView;\n\n    /**\n     * @type {Base}\n     */\n    this.baseController = baseController;\n\n    /**\n     * @type {function}\n     */\n    this._getScheduleDataFunc = null;\n\n    /**\n     * @type {object}\n     */\n    this._dragStart = null;\n\n    /**\n     * @type {TimeResizeGuide}\n     */\n    this._guide = new TimeResizeGuide(this);\n\n    dragHandler.on(\'dragStart\', this._onDragStart, this);\n}\n\n/**\n * Destroy method\n */\nTimeResize.prototype.destroy = function() {\n    this._guide.destroy();\n    this.dragHandler.off(this);\n    this.dragHandler = this.timeGridView = this.baseController =\n        this._getScheduleDataFunc = this._dragStart = this._guide = null;\n};\n\n/**\n * @param {HTMLElement} target - element to check condition.\n * @returns {object|boolean} - return time view instance or false\n */\nTimeResize.prototype.checkExpectCondition = function(target) {\n    var container,\n        matches;\n\n    if (!domutil.hasClass(target, config.classname(\'time-resize-handle\'))) {\n        return false;\n    }\n\n    container = domutil.closest(target, config.classname(\'.time-date\'));\n\n    if (!container) {\n        return false;\n    }\n\n    matches = domutil.getClass(container).match(config.time.getViewIDRegExp);\n\n    if (!matches || matches.length < 2) {\n        return false;\n    }\n\n    return util.pick(this.timeGridView.children.items, Number(matches[1]));\n};\n\n/**\n * @emits TimeResize#timeResizeDragstart\n * @param {object} dragStartEventData - event data of Drag#dragstart\n */\nTimeResize.prototype._onDragStart = function(dragStartEventData) {\n    var target = dragStartEventData.target,\n        timeView = this.checkExpectCondition(target),\n        blockElement = domutil.closest(target, config.classname(\'.time-date-schedule-block\')),\n        ctrl = this.baseController,\n        targetModelID,\n        getScheduleDataFunc,\n        scheduleData;\n\n    if (!timeView || !blockElement) {\n        return;\n    }\n\n    targetModelID = domutil.getData(blockElement, \'id\');\n    getScheduleDataFunc = this._getScheduleDataFunc = this._retriveScheduleData(timeView);\n    scheduleData = this._dragStart = getScheduleDataFunc(\n        dragStartEventData.originEvent, {\n            targetModelID: targetModelID,\n            schedule: ctrl.schedules.items[targetModelID]\n        }\n    );\n\n    this.dragHandler.on({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd,\n        click: this._onClick\n    }, this);\n\n    /**\n     * @event TimeResize#timeResizeDragstart\n     * @type {object}\n     * @property {HTMLElement} target - current target in mouse event object.\n     * @property {Time} relatedView - time view instance related with mouse position.\n     * @property {MouseEvent} originEvent - mouse event object.\n     * @property {number} mouseY - mouse Y px mouse event.\n     * @property {number} gridY - grid Y index value related with mouseY value.\n     * @property {number} timeY - milliseconds value of mouseY points.\n     * @property {number} nearestGridY - nearest grid index related with mouseY value.\n     * @property {number} nearestGridTimeY - time value for nearestGridY.\n     * @property {string} targetModelID - The model unique id emitted move schedule.\n     * @property {Schedule} schedule - schedule data\n     */\n    this.fire(\'timeResizeDragstart\', scheduleData);\n};\n\n/**\n * Drag#drag event handler\n * @emits TimeResize#timeResizeDrag\n * @param {object} dragEventData - event data of Drag#drag custom event.\n * @param {string} [overrideEventName] - override emitted event name when supplied.\n * @param {function} [revise] - supply function for revise schedule data before emit.\n */\nTimeResize.prototype._onDrag = function(dragEventData, overrideEventName, revise) {\n    var getScheduleDataFunc = this._getScheduleDataFunc,\n        startScheduleData = this._dragStart,\n        scheduleData;\n\n    if (!getScheduleDataFunc || !startScheduleData) {\n        return;\n    }\n\n    scheduleData = getScheduleDataFunc(dragEventData.originEvent, {\n        targetModelID: startScheduleData.targetModelID\n    });\n\n    if (revise) {\n        revise(scheduleData);\n    }\n\n    /**\n     * @event TimeResize#timeResizeDrag\n     * @type {object}\n     * @property {HTMLElement} target - current target in mouse event object.\n     * @property {Time} relatedView - time view instance related with drag start position.\n     * @property {MouseEvent} originEvent - mouse event object.\n     * @property {number} mouseY - mouse Y px mouse event.\n     * @property {number} gridY - grid Y index value related with mouseY value.\n     * @property {number} timeY - milliseconds value of mouseY points.\n     * @property {number} nearestGridY - nearest grid index related with mouseY value.\n     * @property {number} nearestGridTimeY - time value for nearestGridY.\n     * @property {string} targetModelID - The model unique id emitted move schedule.\n     */\n    this.fire(overrideEventName || \'timeResizeDrag\', scheduleData);\n};\n\n/**\n * Update model instance by dragend event results.\n * @fires TimeResize#beforeUpdateSchedule\n * @param {object} scheduleData - schedule data from TimeResize#timeResizeDragend\n */\nTimeResize.prototype._updateSchedule = function(scheduleData) {\n    var ctrl = this.baseController,\n        modelID = scheduleData.targetModelID,\n        range = scheduleData.nearestRange,\n        timeDiff = range[1] - range[0],\n        schedule = ctrl.schedules.items[modelID],\n        relatedView = scheduleData.relatedView,\n        dateEnd,\n        newEnds,\n        baseDate;\n    var changes;\n\n    if (!schedule) {\n        return;\n    }\n\n    timeDiff -= datetime.millisecondsFrom(\'minutes\', 30);\n\n    baseDate = new TZDate(relatedView.getDate());\n    dateEnd = datetime.end(baseDate);\n    newEnds = new TZDate(schedule.getEnds()).addMilliseconds(timeDiff);\n\n    if (newEnds > dateEnd) {\n        newEnds = new TZDate(dateEnd);\n    }\n\n    if (newEnds.getTime() - schedule.getStarts().getTime() < datetime.millisecondsFrom(\'minutes\', 30)) {\n        newEnds = new TZDate(schedule.getStarts()).addMinutes(30);\n    }\n\n    changes = common.getScheduleChanges(\n        schedule,\n        [\'end\'],\n        {end: newEnds}\n    );\n\n    /**\n     * @event TimeResize#beforeUpdateSchedule\n     * @type {object}\n     * @property {Schedule} schedule - The original schedule instance\n     * @property {Date} start - Deprecated: start time to update\n     * @property {Date} end - Deprecated: end time to update\n     * @property {object} changes - end time to update\n     *  @property {date} end - end time to update\n     */\n    this.fire(\'beforeUpdateSchedule\', {\n        schedule: schedule,\n        changes: changes,\n        start: schedule.getStarts(),\n        end: newEnds\n    });\n};\n\n/**\n * Drag#dragEnd event handler\n * @emits TimeResize#timeResizeDragend\n * @param {MouseEvent} dragEndEventData - Mouse event of Drag#dragEnd custom event.\n */\nTimeResize.prototype._onDragEnd = function(dragEndEventData) {\n    var getScheduleDataFunc = this._getScheduleDataFunc,\n        dragStart = this._dragStart,\n        scheduleData;\n\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd,\n        click: this._onClick\n    }, this);\n\n    if (!getScheduleDataFunc || !dragStart) {\n        return;\n    }\n\n    scheduleData = getScheduleDataFunc(dragEndEventData.originEvent, {\n        targetModelID: dragStart.targetModelID\n    });\n\n    scheduleData.range = [\n        dragStart.timeY,\n        new TZDate(scheduleData.timeY).addMinutes(30)\n    ];\n\n    scheduleData.nearestRange = [\n        dragStart.nearestGridTimeY,\n        scheduleData.nearestGridTimeY.addMinutes(30)\n    ];\n\n    this._updateSchedule(scheduleData);\n\n    /**\n     * @event TimeResize#timeResizeDragend\n     * @type {object}\n     * @property {HTMLElement} target - current target in mouse event object.\n     * @property {Time} relatedView - time view instance related with drag start position.\n     * @property {MouseEvent} originEvent - mouse event object.\n     * @property {number} mouseY - mouse Y px mouse event.\n     * @property {number} gridY - grid Y index value related with mouseY value.\n     * @property {number} timeY - milliseconds value of mouseY points.\n     * @property {number} nearestGridY - nearest grid index related with mouseY value.\n     * @property {number} nearestGridTimeY - time value for nearestGridY.\n     * @property {string} targetModelID - The model unique id emitted move schedule.\n     * @property {number[]} range - milliseconds range between drag start and end.\n     * @property {number[]} nearestRange - milliseconds range related with nearestGridY between start and end.\n     */\n    this.fire(\'timeResizeDragend\', scheduleData);\n\n    this._getScheduleDataFunc = this._dragStart = null;\n};\n\n/**\n * @emits TimeResize#timeResizeClick\n */\nTimeResize.prototype._onClick = function() {\n    this.dragHandler.off({\n        drag: this._onDrag,\n        dragEnd: this._onDragEnd,\n        click: this._onClick\n    }, this);\n\n    /**\n     * @event TimeResize#timeResizeClick\n     */\n    this.fire(\'timeResizeClick\');\n};\n\ntimeCore.mixin(TimeResize);\nutil.CustomEvents.mixin(TimeResize);\n\nmodule.exports = TimeResize;\n\n\n/***/ }),\n\n/***/ "./src/js/handler/time/resizeGuide.js":\n/*!********************************************!*\\\n  !*** ./src/js/handler/time/resizeGuide.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_640740__) {\n\n"use strict";\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * @fileoverview Module for Time.Resize effect while dragging.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_640740__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_640740__(/*! ../../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_640740__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar reqAnimFrame = __nested_webpack_require_640740__(/*! ../../common/reqAnimFrame */ "./src/js/common/reqAnimFrame.js");\nvar ratio = __nested_webpack_require_640740__(/*! ../../common/common */ "./src/js/common/common.js").ratio;\nvar datetime = __nested_webpack_require_640740__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\n\n/**\n * Class for Time.Resize effect.\n * @constructor\n * @param {TimeResize} timeResize - the instance of TimeResize handler.\n */\nfunction TimeResizeGuide(timeResize) {\n    /**\n     * @type {HTMLElement}\n     */\n    this.guideElement = null;\n\n    /**\n     * @type {TimeResize}\n     */\n    this.timeResize = timeResize;\n\n    /**\n     * @type {function}\n     */\n    this._getTopFunc = null;\n\n    /**\n     * @type {HTMLElement}\n     */\n    this._originScheduleElement = null;\n\n    /**\n     * @type {number}\n     */\n    this._startTopPixel = 0;\n\n    /**\n     * @type {number}\n     */\n    this._startHeightPixel = 0;\n\n    /**\n     * @type {number}\n     */\n    this._startGridY = 0;\n\n    /**\n     * @type {Schedule}\n     */\n    this._schedule = null;\n\n    timeResize.on({\n        \'timeResizeDragstart\': this._onDragStart,\n        \'timeResizeDrag\': this._onDrag,\n        \'timeResizeDragend\': this._clearGuideElement,\n        \'timeResizeClick\': this._clearGuideElement\n    }, this);\n}\n\n/**\n * Destroy method\n */\nTimeResizeGuide.prototype.destroy = function() {\n    this._clearGuideElement();\n    this.timeResize.off(this);\n    this.guideElement = this.timeResize = this._getTopFunc =\n        this._originScheduleElement = this._startHeightPixel =\n        this._startGridY = this._startTopPixel = null;\n};\n\n/**\n * Clear guide element.\n */\nTimeResizeGuide.prototype._clearGuideElement = function() {\n    var guideElement = this.guideElement,\n        originElement = this._originScheduleElement;\n\n    if (!util.browser.msie) {\n        domutil.removeClass(global.document.body, config.classname(\'resizing\'));\n    }\n\n    if (originElement) {\n        originElement.style.display = \'block\';\n    }\n\n    domutil.remove(guideElement);\n\n    this.guideElement = this._getTopFunc = this._originScheduleElement =\n        this._startHeightPixel = this._startGridY = this._startTopPixel = null;\n};\n\n/**\n * Refresh guide element\n * @param {number} guideHeight - guide element\'s style height.\n * @param {number} minTimeHeight - time element\'s min height\n * @param {number} timeHeight - time element\'s height.\n */\nTimeResizeGuide.prototype._refreshGuideElement = function(guideHeight, minTimeHeight, timeHeight) {\n    var guideElement = this.guideElement;\n    var timeElement;\n\n    if (!guideElement) {\n        return;\n    }\n\n    timeElement = domutil.find(config.classname(\'.time-schedule-content-time\'), guideElement);\n\n    reqAnimFrame.requestAnimFrame(function() {\n        guideElement.style.height = guideHeight + \'px\';\n        guideElement.style.display = \'block\';\n\n        if (timeElement) {\n            timeElement.style.height = timeHeight + \'px\';\n            timeElement.style.minHeight = minTimeHeight + \'px\';\n        }\n    });\n};\n\n/**\n * TimeMove#timeMoveDragstart event handler\n * @param {object} dragStartEventData - dragstart event data\n */\nTimeResizeGuide.prototype._onDragStart = function(dragStartEventData) {\n    var originElement = domutil.closest(\n            dragStartEventData.target,\n            config.classname(\'.time-date-schedule-block\')\n        ),\n        schedule = dragStartEventData.schedule,\n        guideElement;\n\n    if (!util.browser.msie) {\n        domutil.addClass(global.document.body, config.classname(\'resizing\'));\n    }\n\n    if (!originElement || !schedule) {\n        return;\n    }\n\n    this._startGridY = dragStartEventData.nearestGridY;\n    this._startHeightPixel = parseFloat(originElement.style.height);\n    this._startTopPixel = parseFloat(originElement.style.top);\n\n    this._originScheduleElement = originElement;\n    this._schedule = schedule;\n\n    guideElement = this.guideElement = originElement.cloneNode(true);\n    domutil.addClass(guideElement, config.classname(\'time-guide-resize\'));\n\n    originElement.style.display = \'none\';\n    dragStartEventData.relatedView.container.appendChild(guideElement);\n};\n\n/**\n * @param {object} dragEventData - event data from Drag#drag.\n */\nTimeResizeGuide.prototype._onDrag = function(dragEventData) {\n    var timeView = dragEventData.relatedView,\n        viewOptions = timeView.options,\n        viewHeight = timeView.getViewBound().height,\n        hourLength = viewOptions.hourEnd - viewOptions.hourStart,\n        guideElement = this.guideElement,\n        guideTop = parseFloat(guideElement.style.top),\n        gridYOffset = dragEventData.nearestGridY - this._startGridY,\n        // hourLength : viewHeight = gridYOffset : X;\n        gridYOffsetPixel = ratio(hourLength, viewHeight, gridYOffset),\n        goingDuration = this._schedule.goingDuration,\n        modelDuration = this._schedule.duration() / datetime.MILLISECONDS_PER_MINUTES,\n        comingDuration = this._schedule.comingDuration,\n        minutesLength = hourLength * 60,\n        timeHeight,\n        timeMinHeight,\n        minHeight,\n        maxHeight,\n        height;\n\n    height = (this._startHeightPixel + gridYOffsetPixel);\n    // at least large than 30min from schedule start time.\n    minHeight = guideTop + ratio(hourLength, viewHeight, 0.5);\n    minHeight -= this._startTopPixel;\n    timeMinHeight = minHeight;\n    minHeight += ratio(minutesLength, viewHeight, goingDuration) + ratio(minutesLength, viewHeight, comingDuration);\n    // smaller than 24h\n    maxHeight = viewHeight - guideTop;\n\n    height = Math.max(height, minHeight);\n    height = Math.min(height, maxHeight);\n\n    timeHeight = ratio(minutesLength, viewHeight, modelDuration) + gridYOffsetPixel;\n\n    this._refreshGuideElement(height, timeMinHeight, timeHeight);\n};\n\nmodule.exports = TimeResizeGuide;\n\n/* WEBPACK VAR INJECTION */}.call(this, __nested_webpack_require_640740__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./src/js/model/schedule.js":\n/*!**********************************!*\\\n  !*** ./src/js/model/schedule.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_647398__) {\n\n"use strict";\n/* eslint complexity: 0 */\n/**\n * @fileoverview Model of schedule.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_647398__(/*! tui-code-snippet */ "tui-code-snippet");\nvar tz = __nested_webpack_require_647398__(/*! ../common/timezone */ "./src/js/common/timezone.js");\nvar datetime = __nested_webpack_require_647398__(/*! ../common/datetime */ "./src/js/common/datetime.js");\nvar dirty = __nested_webpack_require_647398__(/*! ../common/dirty */ "./src/js/common/dirty.js");\nvar model = __nested_webpack_require_647398__(/*! ../common/model */ "./src/js/common/model.js");\nvar TZDate = tz.Date;\nvar MIN_TO_MS = 60 * 1000;\n\nvar SCHEDULE_MIN_DURATION = datetime.MILLISECONDS_SCHEDULE_MIN_DURATION;\n\n/**\n * Schedule category\n * @readonly\n * @enum {string}\n */\nvar SCHEDULE_CATEGORY = {\n    /** milestone */\n    MILESTONE: \'milestone\',\n\n    /** task */\n    TASK: \'task\',\n\n    /** all-day schedule */\n    ALLDAY: \'allday\',\n\n    /** normal schedule */\n    TIME: \'time\'\n};\n\n/**\n * Get duration by primary timezone\n * @param {Date} start render start date\n * @param {Date} end render end date\n * @returns {number} duration\n */\nfunction getDurationByPrimaryTimezone(start, end) {\n    var checkOffset = tz.isDifferentOffsetStartAndEndTime(start.getTime(), end.getTime());\n    var isOffsetChanged = checkOffset.isOffsetChanged;\n    var duration = end - start;\n\n    if (isOffsetChanged !== 0) {\n        duration += checkOffset.offsetDiff * MIN_TO_MS;\n    }\n\n    return duration;\n}\n\n/**\n * Get duration by native timezone\n * @param {TZDate} start render start date\n * @param {TZDate} end render end date\n * @returns {number} duration\n */\nfunction getDurationByNativeTimezone(start, end) {\n    var startOffset = start.toDate().getTimezoneOffset();\n    var endOffset = end.toDate().getTimezoneOffset();\n\n    return (end - start) + ((endOffset - startOffset) * MIN_TO_MS);\n}\n\n/**\n * The model of calendar schedules.\n * @constructor\n * @mixes dirty\n * @mixes model\n */\nfunction Schedule() {\n    /**\n     * `Optional` unique id for various use.\n     * @type {string}\n     */\n    this.id = \'\';\n\n    /**\n     * title for schedule.\n     * @type {string}\n     */\n    this.title = \'\';\n\n    /**\n     * body for schedule.\n     * @type {string}\n     */\n    this.body = \'\';\n\n    /**\n     * is schedule is all day schedule?\n     * @type {boolean}\n     */\n    this.isAllDay = false;\n\n    /**\n     * schedule start\n     * @type {TZDate}\n     */\n    this.start = null;\n\n    /**\n     * schedule end\n     * @type {TZDate}\n     */\n    this.end = null;\n\n    /**\n     * schedule text color\n     * @type {string}\n     */\n    this.color = \'#000\';\n\n    /**\n     * schedule block visibility\n     * @type {boolean}\n     */\n    this.isVisible = true;\n\n    /**\n     * schedule background color\n     * @type {string}\n     */\n    this.bgColor = \'#a1b56c\';\n\n    /**\n     * schedule background color when dragging it\n     * @type {string}\n     */\n    this.dragBgColor = \'#a1b56c\';\n\n    /**\n     * schedule left border color\n     * @type {string}\n     */\n    this.borderColor = \'#000\';\n\n    /**\n     * calendar ID\n     * @type {string}\n     */\n    this.calendarId = \'\';\n\n    /**\n     * Schedule category(milestone, task, allday, time)\n     * @type {string}\n     */\n    this.category = \'\';\n\n    /**\n     * Classification of work schedules (before work, before lunch, before work)\n     * @type {string}\n     */\n    this.dueDateClass = \'\';\n\n    /**\n     * Custom style for schedule element\n     * @type {string}\n     */\n    this.customStyle = \'\';\n\n    /**\n     * in progress flag to do something\n     * @type {boolean}\n     */\n    this.isPending = false;\n\n    /**\n     * focused schedule flag\n     * @type {boolean}\n     */\n    this.isFocused = false;\n\n    /**\n     * read-only schedule flag\n     * @type {boolean}\n     */\n    this.isReadOnly = false;\n\n    /**\n     * private schedule\n     * @type {boolean}\n     */\n    this.isPrivate = false;\n\n    /**\n     * location\n     * @type {string}\n     */\n    this.location = \'\';\n\n    /**\n     * attendees\n     * @type {Array.<string>}\n     */\n    this.attendees = [];\n\n    /**\n     * recurrence rule\n     * @type {any}\n     */\n    this.recurrenceRule = \'\';\n\n    /**\n     * state. \'Busy\' is default.\n     * @type {string}\n     */\n    this.state = \'\';\n\n    /**\n     * travelTime: going-Duration minutes\n     * @type {number}\n     */\n    this.goingDuration = 0;\n\n    /**\n     * travelTime: coming-Duration minutes\n     * @type {number}\n     */\n    this.comingDuration = 0;\n\n    /**\n     * Separate data storage space independent of rendering.\n     * @type {object}\n     */\n    this.raw = null;\n\n    // initialize model id\n    util.stamp(this);\n}\n\n/**********\n * static props\n **********/\n\nSchedule.schema = {\n    required: [\'title\'],\n    dateRange: [\'start\', \'end\']\n};\n\n/**\n * create schedule model from json(object) data.\n * @param {object} data object for model.\n * @returns {Schedule} Schedule model instance.\n */\nSchedule.create = function(data) {\n    var inst = new Schedule();\n    inst.init(data);\n\n    return inst;\n};\n\n/**********\n * prototype props\n **********/\n\n/**\n * Initialize schedule instance.\n * @param {object} options options.\n */\nSchedule.prototype.init = function(options) {\n    options = util.extend({}, options);\n    if (options.category === SCHEDULE_CATEGORY.ALLDAY) {\n        options.isAllDay = true;\n    }\n\n    this.id = options.id || \'\';\n    this.title = options.title || \'\';\n    this.body = options.body || \'\';\n    this.isAllDay = util.isExisty(options.isAllDay) ? options.isAllDay : false;\n    this.isVisible = util.isExisty(options.isVisible) ? options.isVisible : true;\n\n    this.color = options.color || this.color;\n    this.bgColor = options.bgColor || this.bgColor;\n    this.dragBgColor = options.dragBgColor || this.dragBgColor;\n    this.borderColor = options.borderColor || this.borderColor;\n    this.calendarId = options.calendarId || \'\';\n    this.category = options.category || \'\';\n    this.dueDateClass = options.dueDateClass || \'\';\n    this.customStyle = options.customStyle || \'\';\n    this.location = options.location || \'\';\n    this.attendees = options.attendees || [];\n    this.recurrenceRule = options.recurrenceRule || \'\';\n    this.isPrivate = options.isPrivate || false;\n    this.isPending = options.isPending || false;\n    this.isFocused = options.isFocused || false;\n    this.isReadOnly = options.isReadOnly || false;\n    this.goingDuration = options.goingDuration || 0;\n    this.comingDuration = options.comingDuration || 0;\n    this.state = options.state || \'\';\n\n    if (this.isAllDay) {\n        this.setAllDayPeriod(options.start, options.end);\n    } else {\n        this.setTimePeriod(options.start, options.end);\n    }\n\n    this.raw = options.raw || null;\n};\n\nSchedule.prototype.setAllDayPeriod = function(start, end) {\n    // If it is an all-day schedule, only the date information of the string is used.\n    if (util.isString(start) && start.length === 10) {\n        start = datetime.parse(start);\n    } else {\n        start = new TZDate(start || Date.now());\n    }\n\n    if (util.isString(end) && end.length === 10) {\n        end = datetime.parse(end);\n        end.setHours(23, 59, 59);\n    } else {\n        end = new TZDate(end || start);\n    }\n\n    this.start = datetime.start(start);\n    this.end = datetime.renderEnd(start, end);\n};\n\nSchedule.prototype.setTimePeriod = function(start, end) {\n    this.start = new TZDate(start || Date.now());\n    this.end = new TZDate(end || this.start);\n\n    if (!end) {\n        this.end.setMinutes(this.end.getMinutes() + 30);\n    }\n};\n\n/**\n * @returns {Date} render start date.\n */\nSchedule.prototype.getStarts = function() {\n    return this.start;\n};\n\n/**\n * @returns {Date} render end date.\n */\nSchedule.prototype.getEnds = function() {\n    return this.end;\n};\n\n/**\n * @returns {number} instance unique id.\n */\nSchedule.prototype.cid = function() {\n    return util.stamp(this);\n};\n\n/**\n * Check two schedule are equals (means title, isAllDay, start, end are same)\n * @param {Schedule} schedule Schedule model instance to compare.\n * @returns {boolean} Return false when not same.\n */\nSchedule.prototype.equals = function(schedule) {\n    if (this.id !== schedule.id) {\n        return false;\n    }\n\n    if (this.title !== schedule.title) {\n        return false;\n    }\n\n    if (this.body !== schedule.body) {\n        return false;\n    }\n\n    if (this.isAllDay !== schedule.isAllDay) {\n        return false;\n    }\n\n    if (datetime.compare(this.getStarts(), schedule.getStarts()) !== 0) {\n        return false;\n    }\n\n    if (datetime.compare(this.getEnds(), schedule.getEnds()) !== 0) {\n        return false;\n    }\n\n    if (this.color !== schedule.color) {\n        return false;\n    }\n\n    if (this.bgColor !== schedule.bgColor) {\n        return false;\n    }\n\n    if (this.dragBgColor !== schedule.dragBgColor) {\n        return false;\n    }\n\n    if (this.borderColor !== schedule.borderColor) {\n        return false;\n    }\n\n    return true;\n};\n\n/**\n * return duration between start and end.\n * @returns {Date} duration (UTC)\n */\nSchedule.prototype.duration = function() {\n    var start = this.getStarts(),\n        end = this.getEnds(),\n        duration;\n    var hasPrimaryTimezoneCustomSetting = tz.hasPrimaryTimezoneCustomSetting();\n\n    if (this.isAllDay) {\n        duration = datetime.end(end) - datetime.start(start);\n    } else if (hasPrimaryTimezoneCustomSetting && tz.isPrimaryUsingDSTTimezone()) {\n        duration = getDurationByPrimaryTimezone(start, end);\n    } else if (hasPrimaryTimezoneCustomSetting && tz.isNativeOsUsingDSTTimezone()) {\n        duration = getDurationByNativeTimezone(start, end);\n    } else {\n        duration = end - start;\n    }\n\n    return duration;\n};\n\n/**\n * Returns true if the given Schedule coincides with the same time as the\n * calling Schedule.\n * @param {Schedule} schedule The other schedule to compare with this Schedule.\n * @returns {boolean} If the other schedule occurs within the same time as the first object.\n */\nSchedule.prototype.collidesWith = function(schedule) {\n    var ownStarts = this.getStarts(),\n        ownEnds = this.getEnds(),\n        start = schedule.getStarts(),\n        end = schedule.getEnds();\n    var ownGoingDuration = datetime.millisecondsFrom(\'minutes\', this.goingDuration),\n        ownComingDuration = datetime.millisecondsFrom(\'minutes\', this.comingDuration),\n        goingDuration = datetime.millisecondsFrom(\'minutes\', schedule.goingDuration),\n        comingDuration = datetime.millisecondsFrom(\'minutes\', schedule.comingDuration);\n\n    if (Math.abs(ownEnds - ownStarts) < SCHEDULE_MIN_DURATION) {\n        ownEnds += SCHEDULE_MIN_DURATION;\n    }\n\n    if (Math.abs(end - start) < SCHEDULE_MIN_DURATION) {\n        end += SCHEDULE_MIN_DURATION;\n    }\n\n    ownStarts -= ownGoingDuration;\n    ownEnds += ownComingDuration;\n    start -= goingDuration;\n    end += comingDuration;\n\n    if (\n        (start > ownStarts && start < ownEnds) ||\n        (end > ownStarts && end < ownEnds) ||\n        (start <= ownStarts && end >= ownEnds)\n    ) {\n        return true;\n    }\n\n    return false;\n};\n\nmodel.mixin(Schedule.prototype);\ndirty.mixin(Schedule.prototype);\n\nmodule.exports = Schedule;\n\n\n/***/ }),\n\n/***/ "./src/js/model/viewModel/scheduleViewModel.js":\n/*!*****************************************************!*\\\n  !*** ./src/js/model/viewModel/scheduleViewModel.js ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_658863__) {\n\n"use strict";\n/**\n * @fileoverview Model for views\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_658863__(/*! tui-code-snippet */ "tui-code-snippet");\nvar datetime = __nested_webpack_require_658863__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\n\nvar SCHEDULE_MIN_DURATION = datetime.MILLISECONDS_SCHEDULE_MIN_DURATION;\n\n/**\n * Schedule ViewModel\n * @constructor\n * @param {Schedule} schedule Schedule instance.\n */\nfunction ScheduleViewModel(schedule) {\n    /**\n     * The model of schedule.\n     * @type {Schedule}\n     */\n    this.model = schedule;\n\n    /**\n     * @type {number}\n     */\n    this.top = 0;\n\n    /**\n     * @type {number}\n     */\n    this.left = 0;\n\n    /**\n     * @type {number}\n     */\n    this.width = 0;\n\n    /**\n     * @type {number}\n     */\n    this.height = 0;\n\n    /**\n     * Represent schedule has collide with other schedules when rendering.\n     * @type {boolean}\n     */\n    this.hasCollide = false;\n\n    /**\n     * Extra space at rigth side of this schedule.\n     * @type {number}\n     */\n    this.extraSpace = 0;\n\n    /**\n     * represent this schedule block is not visible after rendered.\n     *\n     * in month view, some viewmodel in date need to hide when already rendered before dates.\n     *\n     * set true then it just shows empty space.\n     * @type {boolean}\n     */\n    this.hidden = false;\n\n    /**\n     * whether the schedule includes multiple dates\n     */\n    this.hasMultiDates = false;\n\n    /**\n     * represent render start date used at rendering.\n     *\n     * if set null then use model\'s \'start\' property.\n     * @type {TZDate}\n     */\n    this.renderStarts = null;\n\n    /**\n     * whether the actual start-date is before the render-start-date\n     * @type {boolean}\n     */\n    this.exceedLeft = false;\n\n    /**\n     * represent render end date used at rendering.\n     *\n     * if set null then use model\'s \'end\' property.\n     * @type {TZDate}\n     */\n    this.renderEnds = null;\n\n    /**\n     * whether the actual end-date is after the render-end-date\n     * @type {boolean}\n     */\n    this.exceedRight = false;\n}\n\n/**********\n * static props\n **********/\n\n/**\n * ScheduleViewModel factory method.\n * @param {Schedule} schedule Schedule instance.\n * @returns {ScheduleViewModel} ScheduleViewModel instance.\n */\nScheduleViewModel.create = function(schedule) {\n    return new ScheduleViewModel(schedule);\n};\n\n/**********\n * prototype props\n **********/\n\n/**\n * return renderStarts property to render properly when specific schedule that exceed rendering date range.\n *\n * if renderStarts is not set. return model\'s start property.\n * @override\n * @returns {Date} render start date.\n */\nScheduleViewModel.prototype.getStarts = function() {\n    if (this.renderStarts) {\n        return this.renderStarts;\n    }\n\n    return this.model.start;\n};\n\n/**\n * return renderStarts property to render properly when specific schedule that exceed rendering date range.\n *\n * if renderEnds is not set. return model\'s end property.\n * @override\n * @returns {Date} render end date.\n */\nScheduleViewModel.prototype.getEnds = function() {\n    if (this.renderEnds) {\n        return this.renderEnds;\n    }\n\n    return this.model.end;\n};\n\n/**\n * @returns {number} unique number for model.\n */\nScheduleViewModel.prototype.cid = function() {\n    return util.stamp(this.model);\n};\n\n/**\n * Shadowing valueOf method for schedule sorting.\n * @returns {Schedule} The model of schedule.\n */\nScheduleViewModel.prototype.valueOf = function() {\n    return this.model;\n};\n\n/**\n * Link duration method\n * @returns {number} Schedule#duration result.\n */\nScheduleViewModel.prototype.duration = function() {\n    return this.model.duration();\n};\n\n/**\n * Link collidesWith method\n * @param {Schedule|ScheduleViewModel} viewModel - Model or viewmodel instance of Schedule.\n * @returns {boolean} Schedule#collidesWith result.\n */\nScheduleViewModel.prototype.collidesWith = function(viewModel) {\n    var ownStarts = this.getStarts(),\n        ownEnds = this.getEnds(),\n        start = viewModel.getStarts(),\n        end = viewModel.getEnds();\n    var ownGoingDuration = datetime.millisecondsFrom(\'minutes\', this.valueOf().goingDuration),\n        ownComingDuration = datetime.millisecondsFrom(\'minutes\', this.valueOf().comingDuration),\n        goingDuration = datetime.millisecondsFrom(\'minutes\', viewModel.valueOf().goingDuration),\n        comingDuration = datetime.millisecondsFrom(\'minutes\', viewModel.valueOf().comingDuration);\n\n    if (Math.abs(ownEnds - ownStarts) < SCHEDULE_MIN_DURATION) {\n        ownEnds += SCHEDULE_MIN_DURATION;\n    }\n\n    if (Math.abs(end - start) < SCHEDULE_MIN_DURATION) {\n        end += SCHEDULE_MIN_DURATION;\n    }\n\n    ownStarts -= ownGoingDuration;\n    ownEnds += ownComingDuration;\n    start -= goingDuration;\n    end += comingDuration;\n\n    if ((start > ownStarts && start < ownEnds) ||\n        (end > ownStarts && end < ownEnds) ||\n        (start <= ownStarts && end >= ownEnds)) {\n        return true;\n    }\n\n    return false;\n};\n\nmodule.exports = ScheduleViewModel;\n\n\n/***/ }),\n\n/***/ "./src/js/theme/standard.js":\n/*!**********************************!*\\\n  !*** ./src/js/theme/standard.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n/**\n * @fileoverview The standard theme\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n/**\n * "common" prefix is for entire calendar. "common" properties can be overriden by "week", "month".\n * "week" prefix is for weekly and daily view.\n * "month" prefix is for monthly view.\n */\nvar theme = {\n    \'common.border\': \'1px solid #e5e5e5\',\n    \'common.backgroundColor\': \'white\',\n    \'common.holiday.color\': \'#ff4040\',\n    \'common.saturday.color\': \'#333\',\n    \'common.dayname.color\': \'#333\',\n    \'common.today.color\': \'#333\',\n\n    // creation guide style\n    \'common.creationGuide.backgroundColor\': \'rgba(81, 92, 230, 0.05)\',\n    \'common.creationGuide.border\': \'1px solid #515ce6\',\n\n    // month header \'dayname\'\n    \'month.dayname.height\': \'31px\',\n    \'month.dayname.borderLeft\': \'none\',\n    \'month.dayname.paddingLeft\': \'10px\',\n    \'month.dayname.paddingRight\': \'0\',\n    \'month.dayname.backgroundColor\': \'inherit\',\n    \'month.dayname.fontSize\': \'12px\',\n    \'month.dayname.fontWeight\': \'normal\',\n    \'month.dayname.textAlign\': \'left\',\n\n    // month day grid cell \'day\'\n    \'month.holidayExceptThisMonth.color\': \'rgba(255, 64, 64, 0.4)\',\n    \'month.dayExceptThisMonth.color\': \'rgba(51, 51, 51, 0.4)\',\n    \'month.weekend.backgroundColor\': \'inherit\',\n    \'month.day.fontSize\': \'14px\',\n\n    // month schedule style\n    \'month.schedule.borderRadius\': \'2px\',\n    \'month.schedule.height\': \'24px\',\n    \'month.schedule.marginTop\': \'2px\',\n    \'month.schedule.marginLeft\': \'8px\',\n    \'month.schedule.marginRight\': \'8px\',\n\n    // month more view\n    \'month.moreView.border\': \'1px solid #d5d5d5\',\n    \'month.moreView.boxShadow\': \'0 2px 6px 0 rgba(0, 0, 0, 0.1)\',\n    \'month.moreView.backgroundColor\': \'white\',\n    \'month.moreView.paddingBottom\': \'17px\',\n    \'month.moreViewTitle.height\': \'44px\',\n    \'month.moreViewTitle.marginBottom\': \'12px\',\n    \'month.moreViewTitle.borderBottom\': \'none\',\n    \'month.moreViewTitle.padding\': \'12px 17px 0 17px\',\n    \'month.moreViewList.padding\': \'0 17px\',\n\n    // week header \'dayname\'\n    \'week.dayname.height\': \'42px\',\n    \'week.dayname.borderTop\': \'1px solid #e5e5e5\',\n    \'week.dayname.borderBottom\': \'1px solid #e5e5e5\',\n    \'week.dayname.borderLeft\': \'none\',\n    \'week.dayname.paddingLeft\': \'0\',\n    \'week.dayname.backgroundColor\': \'inherit\',\n    \'week.dayname.textAlign\': \'left\',\n    \'week.today.color\': \'inherit\',\n    \'week.pastDay.color\': \'#bbb\',\n\n    // week vertical panel \'vpanel\'\n    \'week.vpanelSplitter.border\': \'1px solid #e5e5e5\',\n    \'week.vpanelSplitter.height\': \'3px\',\n\n    // week daygrid \'daygrid\'\n    \'week.daygrid.borderRight\': \'1px solid #e5e5e5\',\n    \'week.daygrid.backgroundColor\': \'inherit\',\n\n    \'week.daygridLeft.width\': \'72px\',\n    \'week.daygridLeft.backgroundColor\': \'inherit\',\n    \'week.daygridLeft.paddingRight\': \'8px\',\n    \'week.daygridLeft.borderRight\': \'1px solid #e5e5e5\',\n\n    \'week.today.backgroundColor\': \'rgba(81, 92, 230, 0.05)\',\n    \'week.weekend.backgroundColor\': \'inherit\',\n\n    // week timegrid \'timegrid\'\n    \'week.timegridLeft.width\': \'72px\',\n    \'week.timegridLeft.backgroundColor\': \'inherit\',\n    \'week.timegridLeft.borderRight\': \'1px solid #e5e5e5\',\n    \'week.timegridLeft.fontSize\': \'11px\',\n\n    \'week.timegridOneHour.height\': \'52px\',\n    \'week.timegridHalfHour.height\': \'26px\',\n    \'week.timegridHalfHour.borderBottom\': \'none\',\n    \'week.timegridHorizontalLine.borderBottom\': \'1px solid #e5e5e5\',\n\n    \'week.timegrid.paddingRight\': \'8px\',\n    \'week.timegrid.borderRight\': \'1px solid #e5e5e5\',\n    \'week.timegridSchedule.borderRadius\': \'2px\',\n    \'week.timegridSchedule.paddingLeft\': \'2px\',\n\n    \'week.currentTime.color\': \'#515ce6\',\n    \'week.currentTime.fontSize\': \'11px\',\n    \'week.currentTime.fontWeight\': \'normal\',\n\n    \'week.currentTimeLinePast.border\': \'1px dashed #515ce6\',\n    \'week.currentTimeLineBullet.backgroundColor\': \'#515ce6\',\n    \'week.currentTimeLineToday.border\': \'1px solid #515ce6\',\n    \'week.currentTimeLineFuture.border\': \'none\',\n\n    // week creation guide style\n    \'week.creationGuide.color\': \'#515ce6\',\n    \'week.creationGuide.fontSize\': \'11px\',\n    \'week.creationGuide.fontWeight\': \'bold\',\n\n    // week daygrid schedule style\n    \'week.dayGridSchedule.borderRadius\': \'2px\',\n    \'week.dayGridSchedule.height\': \'24px\',\n    \'week.dayGridSchedule.marginTop\': \'2px\',\n    \'week.dayGridSchedule.marginLeft\': \'8px\',\n    \'week.dayGridSchedule.marginRight\': \'8px\'\n};\n\nmodule.exports = theme;\n\n\n/***/ }),\n\n/***/ "./src/js/theme/theme.js":\n/*!*******************************!*\\\n  !*** ./src/js/theme/theme.js ***!\n  \\*******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_668831__) {\n\n"use strict";\n/**\n * @fileoverview The all configuration of a theme\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_668831__(/*! tui-code-snippet */ "tui-code-snippet");\nvar themeStandard = __nested_webpack_require_668831__(/*! ./standard */ "./src/js/theme/standard.js");\nvar themeConfig = __nested_webpack_require_668831__(/*! ./themeConfig */ "./src/js/theme/themeConfig.js");\nvar common = __nested_webpack_require_668831__(/*! ../common/common */ "./src/js/common/common.js");\n\n/**\n * Theme manager\n * @param {object} customTheme - custom theme\n */\nfunction Theme(customTheme) {\n    var theme = customTheme || themeStandard;\n\n    /**\n     * @type {util.HashMap}\n     */\n    this._map = new util.HashMap();\n\n    this.setStyles(theme);\n}\n\n/**\n * Get a style with key\n * @param {string} key - key for getting a style\n * @returns {string|undefined} style\n */\nTheme.prototype.getStyle = function(key) {\n    return this._map.get(key);\n};\n\n/**\n * Set a style\n * @param {string} key - key for setting a style\n * @param {string} style - style value\n * @returns {boolean} true if the give key is valid or false\n */\nTheme.prototype.setStyle = function(key, style) {\n    var styles = {};\n    styles[key] = style;\n\n    return this.setStyles(styles).length === 0;\n};\n\n/**\n * Set styles\n * @param {object} styles - multiple styles map\n * @returns {Array.<string>} error keys\n */\nTheme.prototype.setStyles = function(styles) {\n    var errors = [];\n\n    util.forEach(styles, function(style, key) {\n        if (util.isUndefined(themeConfig[key])) {\n            errors.push(key);\n        } else {\n            this._map.set(key, style);\n            common.set(this, key, style);\n        }\n    }, this);\n\n    // apply missing styles which have to be default\n    util.forEach(themeConfig, function(style, key) {\n        if (!this.getStyle(key)) {\n            this._map.set(key, style);\n            common.set(this, key, style);\n        }\n    }, this);\n\n    return errors;\n};\n\n/**\n * Delete all styles\n */\nTheme.prototype.clear = function() {\n    var keys = this._map.keys();\n    var categories = {};\n    util.forEach(keys, function(key) {\n        var category = key.split(\'.\')[0];\n        if (!categories[category]) {\n            categories[category] = category;\n        }\n    });\n\n    util.forEach(categories, function(child) {\n        delete this[child];\n    }, this);\n\n    this._map.removeAll();\n};\n\nmodule.exports = Theme;\n\n\n/***/ }),\n\n/***/ "./src/js/theme/themeConfig.js":\n/*!*************************************!*\\\n  !*** ./src/js/theme/themeConfig.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n"use strict";\n/**\n * @fileoverview The all configuration of a theme\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n/**\n * Full configuration for theme.\n * "common" prefix is for entire calendar. "common" properties can be overriden by "week", "month".\n * "week" prefix is for weekly and daily view.\n * "month" prefix is for monthly view.\n * @typedef {object} themeConfig\n * @example\n // default keys and styles\n var themeConfig = {\n    \'common.border\': \'1px solid #e5e5e5\',\n    \'common.backgroundColor\': \'white\',\n    \'common.holiday.color\': \'#ff4040\',\n    \'common.saturday.color\': \'#333\',\n    \'common.dayname.color\': \'#333\',\n    \'common.today.color\': \'#333\',\n\n    // creation guide style\n    \'common.creationGuide.backgroundColor\': \'rgba(81, 92, 230, 0.05)\',\n    \'common.creationGuide.border\': \'1px solid #515ce6\',\n\n    // month header \'dayname\'\n    \'month.dayname.height\': \'31px\',\n    \'month.dayname.borderLeft\': \'1px solid #e5e5e5\',\n    \'month.dayname.paddingLeft\': \'10px\',\n    \'month.dayname.paddingRight\': \'10px\',\n    \'month.dayname.backgroundColor\': \'inherit\',\n    \'month.dayname.fontSize\': \'12px\',\n    \'month.dayname.fontWeight\': \'normal\',\n    \'month.dayname.textAlign\': \'left\',\n\n    // month day grid cell \'day\'\n    \'month.holidayExceptThisMonth.color\': \'rgba(255, 64, 64, 0.4)\',\n    \'month.dayExceptThisMonth.color\': \'rgba(51, 51, 51, 0.4)\',\n    \'month.weekend.backgroundColor\': \'inherit\',\n    \'month.day.fontSize\': \'14px\',\n\n    // month schedule style\n    \'month.schedule.borderRadius\': \'2px\',\n    \'month.schedule.height\': \'24px\',\n    \'month.schedule.marginTop\': \'2px\',\n    \'month.schedule.marginLeft\': \'8px\',\n    \'month.schedule.marginRight\': \'8px\',\n\n    // month more view\n    \'month.moreView.border\': \'1px solid #d5d5d5\',\n    \'month.moreView.boxShadow\': \'0 2px 6px 0 rgba(0, 0, 0, 0.1)\',\n    \'month.moreView.backgroundColor\': \'white\',\n    \'month.moreView.paddingBottom\': \'17px\',\n    \'month.moreViewTitle.height\': \'44px\',\n    \'month.moreViewTitle.marginBottom\': \'12px\',\n    \'month.moreViewTitle.backgroundColor\': \'inherit\',\n    \'month.moreViewTitle.borderBottom\': \'none\',\n    \'month.moreViewTitle.padding\': \'12px 17px 0 17px\',\n    \'month.moreViewList.padding\': \'0 17px\',\n\n    // week header \'dayname\'\n    \'week.dayname.height\': \'42px\',\n    \'week.dayname.borderTop\': \'1px solid #e5e5e5\',\n    \'week.dayname.borderBottom\': \'1px solid #e5e5e5\',\n    \'week.dayname.borderLeft\': \'inherit\',\n    \'week.dayname.paddingLeft\': \'0\',\n    \'week.dayname.backgroundColor\': \'inherit\',\n    \'week.dayname.textAlign\': \'left\',\n    \'week.today.color\': \'#333\',\n    \'week.pastDay.color\': \'#bbb\',\n\n    // week vertical panel \'vpanel\'\n    \'week.vpanelSplitter.border\': \'1px solid #e5e5e5\',\n    \'week.vpanelSplitter.height\': \'3px\',\n\n    // week daygrid \'daygrid\'\n    \'week.daygrid.borderRight\': \'1px solid #e5e5e5\',\n    \'week.daygrid.backgroundColor\': \'inherit\',\n\n    \'week.daygridLeft.width\': \'72px\',\n    \'week.daygridLeft.backgroundColor\': \'inherit\',\n    \'week.daygridLeft.paddingRight\': \'8px\',\n    \'week.daygridLeft.borderRight\': \'1px solid #e5e5e5\',\n\n    \'week.today.backgroundColor\': \'rgba(81, 92, 230, 0.05)\',\n    \'week.weekend.backgroundColor\': \'inherit\',\n\n    // week timegrid \'timegrid\'\n    \'week.timegridLeft.width\': \'72px\',\n    \'week.timegridLeft.backgroundColor\': \'inherit\',\n    \'week.timegridLeft.borderRight\': \'1px solid #e5e5e5\',\n    \'week.timegridLeft.fontSize\': \'11px\',\n    \'week.timegridLeftTimezoneLabel.height\': \'40px\',\n    \'week.timegridLeftAdditionalTimezone.backgroundColor\': \'white\',\n\n    \'week.timegridOneHour.height\': \'52px\',\n    \'week.timegridHalfHour.height\': \'26px\',\n    \'week.timegridHalfHour.borderBottom\': \'none\',\n    \'week.timegridHorizontalLine.borderBottom\': \'1px solid #e5e5e5\',\n\n    \'week.timegrid.paddingRight\': \'8px\',\n    \'week.timegrid.borderRight\': \'1px solid #e5e5e5\',\n    \'week.timegridSchedule.borderRadius\': \'2px\',\n    \'week.timegridSchedule.paddingLeft\': \'2px\',\n\n    \'week.currentTime.color\': \'#515ce6\',\n    \'week.currentTime.fontSize\': \'11px\',\n    \'week.currentTime.fontWeight\': \'normal\',\n\n    \'week.pastTime.color\': \'#bbb\',\n    \'week.pastTime.fontWeight\': \'normal\',\n\n    \'week.futureTime.color\': \'#333\',\n    \'week.futureTime.fontWeight\': \'normal\',\n\n    \'week.currentTimeLinePast.border\': \'1px dashed #515ce6\',\n    \'week.currentTimeLineBullet.backgroundColor\': \'#515ce6\',\n    \'week.currentTimeLineToday.border\': \'1px solid #515ce6\',\n    \'week.currentTimeLineFuture.border\': \'none\',\n\n    // week creation guide style\n    \'week.creationGuide.color\': \'#515ce6\',\n    \'week.creationGuide.fontSize\': \'11px\',\n    \'week.creationGuide.fontWeight\': \'bold\',\n\n    // week daygrid schedule style\n    \'week.dayGridSchedule.borderRadius\': \'2px\',\n    \'week.dayGridSchedule.height\': \'24px\',\n    \'week.dayGridSchedule.marginTop\': \'2px\',\n    \'week.dayGridSchedule.marginLeft\': \'8px\',\n    \'week.dayGridSchedule.marginRight\': \'8px\'\n};\n */\nvar themeConfig = {\n    \'common.border\': \'1px solid #e5e5e5\',\n    \'common.backgroundColor\': \'white\',\n    \'common.holiday.color\': \'#ff4040\',\n    \'common.saturday.color\': \'#333\',\n    \'common.dayname.color\': \'#333\',\n    \'common.today.color\': \'#333\',\n\n    // creation guide style\n    \'common.creationGuide.backgroundColor\': \'rgba(81, 92, 230, 0.05)\',\n    \'common.creationGuide.border\': \'1px solid #515ce6\',\n\n    // month header \'dayname\'\n    \'month.dayname.height\': \'31px\',\n    \'month.dayname.borderLeft\': \'1px solid #e5e5e5\',\n    \'month.dayname.paddingLeft\': \'10px\',\n    \'month.dayname.paddingRight\': \'10px\',\n    \'month.dayname.backgroundColor\': \'inherit\',\n    \'month.dayname.fontSize\': \'12px\',\n    \'month.dayname.fontWeight\': \'normal\',\n    \'month.dayname.textAlign\': \'left\',\n\n    // month day grid cell \'day\'\n    \'month.holidayExceptThisMonth.color\': \'rgba(255, 64, 64, 0.4)\',\n    \'month.dayExceptThisMonth.color\': \'rgba(51, 51, 51, 0.4)\',\n    \'month.weekend.backgroundColor\': \'inherit\',\n    \'month.day.fontSize\': \'14px\',\n\n    // month schedule style\n    \'month.schedule.borderRadius\': \'2px\',\n    \'month.schedule.height\': \'24px\',\n    \'month.schedule.marginTop\': \'2px\',\n    \'month.schedule.marginLeft\': \'8px\',\n    \'month.schedule.marginRight\': \'8px\',\n\n    // month more view\n    \'month.moreView.border\': \'1px solid #d5d5d5\',\n    \'month.moreView.boxShadow\': \'0 2px 6px 0 rgba(0, 0, 0, 0.1)\',\n    \'month.moreView.backgroundColor\': \'white\',\n    \'month.moreView.paddingBottom\': \'17px\',\n    \'month.moreViewTitle.height\': \'44px\',\n    \'month.moreViewTitle.marginBottom\': \'12px\',\n    \'month.moreViewTitle.backgroundColor\': \'inherit\',\n    \'month.moreViewTitle.borderBottom\': \'none\',\n    \'month.moreViewTitle.padding\': \'12px 17px 0 17px\',\n    \'month.moreViewList.padding\': \'0 17px\',\n\n    // week header \'dayname\'\n    \'week.dayname.height\': \'42px\',\n    \'week.dayname.borderTop\': \'1px solid #e5e5e5\',\n    \'week.dayname.borderBottom\': \'1px solid #e5e5e5\',\n    \'week.dayname.borderLeft\': \'inherit\',\n    \'week.dayname.paddingLeft\': \'0\',\n    \'week.dayname.backgroundColor\': \'inherit\',\n    \'week.dayname.textAlign\': \'left\',\n    \'week.today.color\': \'#333\',\n    \'week.pastDay.color\': \'#bbb\',\n\n    // week vertical panel \'vpanel\'\n    \'week.vpanelSplitter.border\': \'1px solid #e5e5e5\',\n    \'week.vpanelSplitter.height\': \'3px\',\n\n    // week daygrid \'daygrid\'\n    \'week.daygrid.borderRight\': \'1px solid #e5e5e5\',\n    \'week.daygrid.backgroundColor\': \'inherit\',\n\n    \'week.daygridLeft.width\': \'72px\',\n    \'week.daygridLeft.backgroundColor\': \'inherit\',\n    \'week.daygridLeft.paddingRight\': \'8px\',\n    \'week.daygridLeft.borderRight\': \'1px solid #e5e5e5\',\n\n    \'week.today.backgroundColor\': \'rgba(81, 92, 230, 0.05)\',\n    \'week.weekend.backgroundColor\': \'inherit\',\n\n    // week timegrid \'timegrid\'\n    \'week.timegridLeft.width\': \'72px\',\n    \'week.timegridLeft.backgroundColor\': \'inherit\',\n    \'week.timegridLeft.borderRight\': \'1px solid #e5e5e5\',\n    \'week.timegridLeft.fontSize\': \'11px\',\n    \'week.timegridLeftTimezoneLabel.height\': \'40px\',\n    \'week.timegridLeftAdditionalTimezone.backgroundColor\': \'white\',\n\n    \'week.timegridOneHour.height\': \'52px\',\n    \'week.timegridHalfHour.height\': \'26px\',\n    \'week.timegridHalfHour.borderBottom\': \'none\',\n    \'week.timegridHorizontalLine.borderBottom\': \'1px solid #e5e5e5\',\n\n    \'week.timegrid.paddingRight\': \'8px\',\n    \'week.timegrid.borderRight\': \'1px solid #e5e5e5\',\n    \'week.timegridSchedule.borderRadius\': \'2px\',\n    \'week.timegridSchedule.paddingLeft\': \'2px\',\n\n    \'week.currentTime.color\': \'#515ce6\',\n    \'week.currentTime.fontSize\': \'11px\',\n    \'week.currentTime.fontWeight\': \'normal\',\n\n    \'week.pastTime.color\': \'#bbb\',\n    \'week.pastTime.fontWeight\': \'normal\',\n\n    \'week.futureTime.color\': \'#333\',\n    \'week.futureTime.fontWeight\': \'normal\',\n\n    \'week.currentTimeLinePast.border\': \'1px dashed #515ce6\',\n    \'week.currentTimeLineBullet.backgroundColor\': \'#515ce6\',\n    \'week.currentTimeLineToday.border\': \'1px solid #515ce6\',\n    \'week.currentTimeLineFuture.border\': \'none\',\n\n    // week creation guide style\n    \'week.creationGuide.color\': \'#515ce6\',\n    \'week.creationGuide.fontSize\': \'11px\',\n    \'week.creationGuide.fontWeight\': \'bold\',\n\n    // week daygrid schedule style\n    \'week.dayGridSchedule.borderRadius\': \'2px\',\n    \'week.dayGridSchedule.height\': \'24px\',\n    \'week.dayGridSchedule.marginTop\': \'2px\',\n    \'week.dayGridSchedule.marginLeft\': \'8px\',\n    \'week.dayGridSchedule.marginRight\': \'8px\'\n};\n\nmodule.exports = themeConfig;\n\n\n/***/ }),\n\n/***/ "./src/js/view/layout.js":\n/*!*******************************!*\\\n  !*** ./src/js/view/layout.js ***!\n  \\*******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_681076__) {\n\n"use strict";\n/**\n * @fileoverview Layout view. wrap all view containers at outside.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_681076__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_681076__(/*! ../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_681076__(/*! ../common/domutil */ "./src/js/common/domutil.js");\nvar Collection = __nested_webpack_require_681076__(/*! ../common/collection */ "./src/js/common/collection.js");\nvar View = __nested_webpack_require_681076__(/*! ./view */ "./src/js/view/view.js");\n\n/**\n * Layout view for toggle each child view. It will controlled via navigation UI.\n * @constructor\n * @extends {View}\n * @param {HTMLElement} container Container element to use layout view.\n * @param {Theme} theme - theme instance\n */\nfunction Layout(container, theme) {\n    container = domutil.appendHTMLElement(\'div\', container, config.classname(\'layout\'));\n\n    /**\n     * @type {HTMLElement}\n     */\n    this.container = container;\n\n    /*eslint-disable*/\n    /**\n     * @type {Collection} Child view collection.\n     */\n    this.children = new Collection(function(childView) {\n        return childView.viewName;\n    });\n    /* eslint-enable*/\n\n    /**\n     * @type {Theme}\n     */\n    this.theme = theme;\n\n    this.applyTheme();\n}\n\nutil.inherit(Layout, View);\n\n/**\n * Clear child views.\n */\nLayout.prototype.clear = function() {\n    this.children.each(function(childView) {\n        childView.destroy();\n    });\n\n    this.children.clear();\n    this.container.innerHTML = \'\';\n};\n\n/**\n * Remove child view.\n * @override\n * @param {(string|View)} viewName - name of view or instance.\n */\nLayout.prototype.removeChild = function(viewName) {\n    this.children.remove(viewName);\n};\n\n/**\n * Toggle child views.\n * @param {string} viewName - Name of view.\n */\nLayout.prototype.toggleChildView = function(viewName) {\n    var container,\n        prefix = [\'add\', \'remove\'],\n        flag;\n\n    this.children.each(function(childView) {\n        container = childView.container;\n        flag = Number(childView.viewName === viewName);\n        domutil[prefix[flag] + \'Class\'](container, config.classname(\'hidden\'));\n    });\n};\n\nLayout.prototype.applyTheme = function() {\n    var style = this.container.style;\n    var theme = this.theme.common;\n\n    // background color\n    style.backgroundColor = theme.backgroundColor;\n};\n\nmodule.exports = Layout;\n\n\n/***/ }),\n\n/***/ "./src/js/view/month/month.js":\n/*!************************************!*\\\n  !*** ./src/js/view/month/month.js ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_683738__) {\n\n"use strict";\n/**\n * @fileoverview Month view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_683738__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_683738__(/*! ../../config */ "./src/js/config.js"),\n    datetime = __nested_webpack_require_683738__(/*! ../../common/datetime */ "./src/js/common/datetime.js"),\n    domutil = __nested_webpack_require_683738__(/*! ../../common/domutil */ "./src/js/common/domutil.js"),\n    TZDate = __nested_webpack_require_683738__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date,\n    tmpl = __nested_webpack_require_683738__(/*! ../template/month/month.hbs */ "./src/js/view/template/month/month.hbs"),\n    View = __nested_webpack_require_683738__(/*! ../view */ "./src/js/view/view.js"),\n    VLayout = __nested_webpack_require_683738__(/*! ../..//common/vlayout */ "./src/js/common/vlayout.js"),\n    WeekdayInMonth = __nested_webpack_require_683738__(/*! ./weekdayInMonth */ "./src/js/view/month/weekdayInMonth.js");\nvar mmin = Math.min;\n\n/**\n * @constructor\n * @extends {View}\n * @param {object} options - options\n * @param {function} [options.scheduleFilter] - schedule filter\n * @param {number} [options.startDayOfWeek=0] - start day of week\n * @param {string} [options.renderMonth=\'2015-12\'] - render month\n * @param {string[]} [options.daynames] - daynames to use upside of month view\n * @param {HTMLElement} container - container element\n * @param {Base.Month} controller - controller instance\n */\nfunction Month(options, container, controller) {\n    var theme = controller ? controller.theme : null;\n    var monthOption;\n\n    options = options || {};\n    monthOption = options ? options.month : {};\n\n    View.call(this, container);\n\n    /**\n     * @type {Base.Month}\n     */\n    this.controller = controller;\n\n    /**\n     * @type {VLayout}\n     */\n    this.vLayout = new VLayout({\n        panels: [\n            {height: parseInt(controller.theme.month.dayname.height, 10) || 42},\n            {autoHeight: true}\n        ]\n    }, container, theme);\n\n    /**\n     * @type {string}\n     */\n    this.options = util.extend({\n        scheduleFilter: function(schedule) {\n            return Boolean(schedule.isVisible);\n        },\n        startDayOfWeek: 0,\n        renderMonth: \'2018-01\',\n        daynames: [\'Sun\', \'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\', \'Sat\'],\n        narrowWeekend: false,\n        visibleWeeksCount: null,\n        isAlways6Week: true,\n        isReadOnly: options.isReadOnly,\n        grid: {\n            header: {\n                height: 34\n            },\n            footer: {\n                height: 3\n            }\n        }\n    }, monthOption);\n\n    this.options.grid.header = util.extend({\n        height: 34\n    }, util.pick(monthOption, \'grid\', \'header\'));\n    this.options.grid.footer = util.extend({\n        height: 3\n    }, util.pick(monthOption, \'grid\', \'footer\'));\n\n    /**\n     * horizontal grid information\n     * @type {Object}\n     */\n    this.grids = datetime.getGridLeftAndWidth(\n        this.options.daynames.length,\n        this.options.narrowWeekend,\n        this.options.startDayOfWeek);\n}\n\nutil.inherit(Month, View);\n\n/**\n * Name of view. for managing subview at layout view\n * @type {string}\n */\nMonth.prototype.viewName = \'month\';\n\n/**\n * Get calendar array by supplied date\n * @param {string} renderMonth - month to render YYYY-MM, weeks2/3 to render YYYY-MM-DD\n * @returns {array.<Date[]>} calendar array\n */\nMonth.prototype._getMonthCalendar = function(renderMonth) {\n    var date = new TZDate(renderMonth);\n    var startDayOfWeek = this.options.startDayOfWeek || 0;\n    var visibleWeeksCount = mmin(this.options.visibleWeeksCount || 0, 6);\n    var workweek = this.options.workweek || false;\n    var datetimeOptions, calendar;\n\n    if (this.options.visibleWeeksCount) {\n        datetimeOptions = {\n            startDayOfWeek: startDayOfWeek,\n            isAlways6Week: false,\n            visibleWeeksCount: visibleWeeksCount,\n            workweek: workweek\n        };\n    } else {\n        datetimeOptions = {\n            startDayOfWeek: startDayOfWeek,\n            isAlways6Week: this.options.isAlways6Week,\n            workweek: workweek\n        };\n    }\n\n    calendar = datetime.arr2dCalendar(date, datetimeOptions);\n\n    return calendar;\n};\n\n/**\n * Create children view (week) and add children\n * @param {HTMLElement} container - container element to render weeks\n * @param {array.<Date[]>} calendar - calendar array from datetime#arr2dCalendar\n * @param {Theme} theme - theme instance\n */\nMonth.prototype._renderChildren = function(container, calendar, theme) {\n    var self = this;\n    var weekCount = calendar.length;\n    var heightPercent = 100 / weekCount;\n    var opt = this.options;\n    var renderMonth = opt.renderMonth;\n    var narrowWeekend = opt.narrowWeekend;\n    var startDayOfWeek = opt.startDayOfWeek;\n    var visibleWeeksCount = opt.visibleWeeksCount;\n    var visibleScheduleCount = opt.visibleScheduleCount;\n    var gridOption = opt.grid;\n    var isReadOnly = opt.isReadOnly;\n\n    container.innerHTML = \'\';\n    this.children.clear();\n\n    util.forEach(calendar, function(weekArr) {\n        var start = new TZDate(weekArr[0]),\n            end = new TZDate(weekArr[weekArr.length - 1]),\n            weekdayViewContainer,\n            weekdayView;\n\n        weekdayViewContainer = domutil.appendHTMLElement(\n            \'div\', container, config.classname(\'month-week-item\'));\n\n        weekdayView = new WeekdayInMonth({\n            renderMonth: renderMonth,\n            heightPercent: heightPercent,\n            renderStartDate: start,\n            renderEndDate: end,\n            narrowWeekend: narrowWeekend,\n            startDayOfWeek: startDayOfWeek,\n            visibleWeeksCount: visibleWeeksCount,\n            visibleScheduleCount: visibleScheduleCount,\n            grid: gridOption,\n            scheduleHeight: parseInt(theme.month.schedule.height, 10),\n            scheduleGutter: parseInt(theme.month.schedule.marginTop, 10),\n            isReadOnly: isReadOnly\n        }, weekdayViewContainer);\n\n        self.addChild(weekdayView);\n    });\n};\n\n/**\n * Render month view\n * @override\n */\nMonth.prototype.render = function() {\n    var self = this,\n        opt = this.options,\n        vLayout = this.vLayout,\n        controller = this.controller,\n        daynames = opt.daynames,\n        workweek = opt.workweek,\n        calendar = this._getMonthCalendar(opt.renderMonth),\n        scheduleFilter = opt.scheduleFilter,\n        theme = controller ? controller.theme : null,\n        styles = this._getStyles(theme),\n        grids,\n        daynameViewModel,\n        baseViewModel;\n\n    grids = this.grids = datetime.getGridLeftAndWidth(\n        opt.daynames.length,\n        opt.narrowWeekend,\n        opt.startDayOfWeek\n    );\n\n    daynameViewModel = util.map(\n        util.range(opt.startDayOfWeek, 7).concat(util.range(7)).slice(0, 7),\n        function(day, index) {\n            return {\n                day: day,\n                label: daynames[day],\n                width: grids[index] ? grids[index].width : 0,\n                left: grids[index] ? grids[index].left : 0,\n                color: this._getDayNameColor(theme, day)\n            };\n        },\n        this\n    );\n\n    if (workweek) {\n        grids = this.grids = datetime.getGridLeftAndWidth(5, opt.narrowWeekend, opt.startDayOfWeek, workweek);\n\n        daynameViewModel = util.filter(daynameViewModel, function(daynameModel) {\n            return !datetime.isWeekend(daynameModel.day);\n        });\n\n        util.forEach(daynameViewModel, function(daynameModel, index) {\n            daynameModel.width = grids[index] ? grids[index].width : 0;\n            daynameModel.left = grids[index] ? grids[index].left : 0;\n        });\n    }\n\n    baseViewModel = {\n        daynames: daynameViewModel,\n        styles: styles\n    };\n\n    vLayout.panels[0].container.innerHTML = tmpl(baseViewModel);\n\n    this._renderChildren(vLayout.panels[1].container, calendar, theme);\n\n    baseViewModel.panelHeight = vLayout.panels[1].getHeight();\n\n    this.children.each(function(childView) {\n        var start = datetime.start(childView.options.renderStartDate);\n        var end = datetime.start(childView.options.renderEndDate);\n        var eventsInDateRange = controller.findByDateRange(\n            datetime.start(start),\n            datetime.end(end),\n            scheduleFilter\n        );\n        var dateRange = datetime.range(\n            datetime.start(start),\n            datetime.end(end),\n            datetime.MILLISECONDS_PER_DAY);\n        var viewModel = {\n            eventsInDateRange: eventsInDateRange,\n            range: dateRange.slice(0, grids.length),\n            grids: grids,\n            panelHeight: baseViewModel.panelHeight,\n            theme: theme\n        };\n\n        childView.render(viewModel);\n\n        self._invokeAfterRenderSchedule(eventsInDateRange);\n    });\n};\n\n/**\n * Fire \'afterRenderSchedule\' event\n * @param {Array} matrices - schedule matrices from view model\n * @fires Month#afterRenderSchedule\n */\nMonth.prototype._invokeAfterRenderSchedule = function(matrices) {\n    var self = this;\n    util.forEachArray(matrices, function(matrix) {\n        util.forEachArray(matrix, function(column) {\n            util.forEachArray(column, function(scheduleViewModel) {\n                if (scheduleViewModel && !scheduleViewModel.hidden) {\n                    /**\n                     * @event Month#afterRenderSchedule\n                     */\n                    self.fire(\'afterRenderSchedule\', {schedule: scheduleViewModel.model});\n                }\n            });\n        });\n    });\n};\n\n/**\n * Get the styles from theme\n * @param {Theme} theme - theme instance\n * @returns {object} styles - styles object\n */\nMonth.prototype._getStyles = function(theme) {\n    var styles = {};\n    var dayname;\n\n    if (theme) {\n        dayname = theme.month.dayname;\n\n        styles.borderTop = dayname.borderTop || theme.common.border;\n        styles.borderLeft = dayname.borderLeft || theme.common.border;\n        styles.height = dayname.height;\n        styles.paddingLeft = dayname.paddingLeft;\n        styles.paddingRight = dayname.paddingRight;\n        styles.fontSize = dayname.fontSize;\n        styles.backgroundColor = dayname.backgroundColor;\n        styles.fontWeight = dayname.fontWeight;\n        styles.textAlign = dayname.textAlign;\n    }\n\n    return styles;\n};\n\n/**\n * Get a day name color\n * @param {Theme} theme - theme instance\n * @param {number} day - day number\n * @returns {string} style - color style\n */\nMonth.prototype._getDayNameColor = function(theme, day) {\n    var color = \'\';\n\n    if (theme) {\n        if (day === 0) {\n            color = theme.common.holiday.color;\n        } else if (day === 6) {\n            color = theme.common.saturday.color;\n        } else {\n            color = theme.common.dayname.color;\n        }\n    }\n\n    return color;\n};\n\nmodule.exports = Month;\n\n\n/***/ }),\n\n/***/ "./src/js/view/month/more.js":\n/*!***********************************!*\\\n  !*** ./src/js/view/month/more.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_694838__) {\n\n"use strict";\n/**\n * @fileoverview Floating layer for displaying schedule in specific date\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar OUT_PADDING = 5;\nvar VIEW_MIN_WIDTH = 280;\nvar util = __nested_webpack_require_694838__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_694838__(/*! ../../config */ "./src/js/config.js"),\n    domevent = __nested_webpack_require_694838__(/*! ../../common/domevent */ "./src/js/common/domevent.js"),\n    domutil = __nested_webpack_require_694838__(/*! ../../common/domutil */ "./src/js/common/domutil.js"),\n    View = __nested_webpack_require_694838__(/*! ../../view/view */ "./src/js/view/view.js"),\n    FloatingLayer = __nested_webpack_require_694838__(/*! ../../common/floatingLayer */ "./src/js/common/floatingLayer.js"),\n    common = __nested_webpack_require_694838__(/*! ../../common/common */ "./src/js/common/common.js"),\n    tmpl = __nested_webpack_require_694838__(/*! ../template/month/more.hbs */ "./src/js/view/template/month/more.hbs");\n\n/**\n * @constructor\n * @extends {View}\n * @param {object} options - options\n * @param {object} [options.moreLayerSize] - more layer size\n * @param {object} [options.moreLayerSize.width=null] - css width value(px, auto).\n *                                                           The default value \'null\' is to fit a grid cell.\n * @param {object} [options.moreLayerSize.height=null] - css height value(px, auto).\n *                                                            The default value \'null\' is to fit a grid cell.\n * @param {HTMLElement} container = container element\n * @param {Theme} theme - theme instance\n */\nfunction More(options, container, theme) {\n    View.call(this, container);\n\n    /**\n     * @type {FloatingLayer}\n     */\n    this.layer = new FloatingLayer(null, container);\n\n    /**\n     * cached view model\n     * @type {object}\n     */\n    this._viewModel = null;\n\n    /**\n     * @type {object}\n     */\n    this.options = util.extend({\n        moreLayerSize: {\n            width: null,\n            height: null\n        },\n        scheduleHeight: parseInt(theme.month.schedule.height, 10) || 18,\n        scheduleGutter: parseInt(theme.month.schedule.marginTop, 10) || 2,\n        scheduleBulletTop: (parseInt(theme.month.schedule.height, 10) || 18) / 3,\n        borderRadius: theme.month.schedule.borderRadius\n    }, options);\n\n    /**\n     * @type {Theme}\n     */\n    this.theme = theme;\n\n    domevent.on(container, \'click\', this._onClick, this);\n}\n\nutil.inherit(More, View);\n\n/**\n * Click event handler for close button\n * @param {MouseEvent} clickEvent - mouse event object\n */\nMore.prototype._onClick = function(clickEvent) {\n    var target = domevent.getEventTarget(clickEvent);\n    var className = config.classname(\'month-more-close\');\n\n    if (!domutil.hasClass(target, className) && !domutil.closest(target, \'.\' + className)) {\n        return;\n    }\n\n    this.hide();\n};\n\n/**\n * Mousedown event handler for hiding more layer when user mousedown outside of\n * layer\n * @param {MouseEvent} mouseDownEvent - mouse event object\n */\nMore.prototype._onMouseDown = function(mouseDownEvent) {\n    var target = domevent.getEventTarget(mouseDownEvent),\n        moreLayer = domutil.closest(target, config.classname(\'.month-more\'));\n\n    if (moreLayer) {\n        return;\n    }\n\n    this.hide();\n};\n\n/**\n * Get new position for more layer by +n element itself\n * @param {HTMLElement} target - parent grid-line element of +n element\n * @param {HTMLElement} weekItem - weekItem container element\n * @returns {number[]} new position of more layer\n */\nMore.prototype._getRenderPosition = function(target, weekItem) {\n    var pos = domevent.getMousePosition({\n        clientX: domutil.getPosition(target)[0],\n        clientY: domutil.getPosition(weekItem)[1]\n    }, this.container);\n    var containerSize = domutil.getSize(this.container);\n    var left = pos[0] - OUT_PADDING;\n    var top = pos[1] - OUT_PADDING;\n\n    left = common.ratio(containerSize[0], 100, left);\n    top = common.ratio(containerSize[1], 100, top);\n\n    return [left, top];\n};\n\n/**\n * @override\n */\nMore.prototype.destroy = function() {\n    this.layer.destroy();\n    this.layer = null;\n    domevent.off(this.container, \'click\', this._onClick, this);\n    domevent.off(document.body, \'mousedown\', this._onMouseDown, this);\n    View.prototype.destroy.call(this);\n};\n\n/**\n * @override\n * @param {object} viewModel - view model from factory/monthView\n */\nMore.prototype.render = function(viewModel) {\n    var target = domutil.closest(viewModel.target, config.classname(\'.weekday-grid-line\'));\n    var weekItem = domutil.closest(target, config.classname(\'.month-week-item\'));\n    var layer = this.layer;\n    var self = this;\n    var pos = this._getRenderPosition(target, weekItem);\n    var minHeight = domutil.getSize(weekItem)[1] + (OUT_PADDING * 2);\n    var width = target.offsetWidth + (OUT_PADDING * 2);\n    var opt = this.options;\n    var optMoreLayerSize = opt.moreLayerSize;\n    var styles = this._getStyles(this.theme);\n    var maxVisibleSchedulesInLayer = 10;\n    var height = \'\';\n    var containerSize = domutil.getSize(this.container);\n    var calWidth = 0;\n    var calHeight = 0;\n    var isOverWidth = false;\n    var isOverHeight = false;\n    var leftPos = pos[0];\n    var topPos = pos[1];\n\n    this._viewModel = util.extend(viewModel, {\n        scheduleGutter: opt.scheduleGutter,\n        scheduleHeight: opt.scheduleHeight,\n        scheduleBulletTop: opt.scheduleBulletTop,\n        borderRadius: opt.borderRadius,\n        styles: styles\n    });\n\n    width = Math.max(width, VIEW_MIN_WIDTH);\n    height = parseInt(styles.titleHeight, 10);\n    height += parseInt(styles.titleMarginBottom, 10);\n    if (viewModel.schedules.length <= maxVisibleSchedulesInLayer) {\n        height += (opt.scheduleGutter + opt.scheduleHeight) * viewModel.schedules.length;\n    } else {\n        height += (opt.scheduleGutter + opt.scheduleHeight) * maxVisibleSchedulesInLayer;\n    }\n    height += parseInt(styles.paddingBottom, 10);\n    height += OUT_PADDING; // for border\n\n    if (optMoreLayerSize.width) {\n        width = optMoreLayerSize.width;\n    }\n\n    if (optMoreLayerSize.height) {\n        height = optMoreLayerSize.height;\n    }\n\n    if (isNaN(height) || height < minHeight) {\n        height = minHeight;\n    }\n\n    layer.setContent(tmpl(viewModel));\n\n    calWidth = leftPos * containerSize[0] / 100;\n    calHeight = topPos * containerSize[1] / 100;\n    isOverWidth = calWidth + width >= containerSize[0];\n    isOverHeight = calHeight + height >= containerSize[1];\n    leftPos = leftPos + \'%\';\n    topPos = topPos + \'%\';\n\n    if (isOverWidth && isOverHeight) {\n        layer.setLTRB({\n            right: 0,\n            bottom: 0\n        });\n    } else if (!isOverWidth && isOverHeight) {\n        layer.setLTRB({\n            left: leftPos,\n            bottom: 0\n        });\n    } else if (isOverWidth && !isOverHeight) {\n        layer.setLTRB({\n            right: 0,\n            top: topPos\n        });\n    } else {\n        layer.setPosition(leftPos, topPos);\n    }\n\n    layer.setSize(width, height);\n\n    layer.show();\n\n    util.debounce(function() {\n        domevent.on(document.body, \'mousedown\', self._onMouseDown, self);\n    })();\n};\n\n/**\n * Hide layer\n */\nMore.prototype.hide = function() {\n    this.layer.hide();\n    domevent.off(document.body, \'mousedown\', this._onMouseDown, this);\n};\n\n/**\n * refresh layer\n */\nMore.prototype.refresh = function() {\n    if (this._viewModel) {\n        this.layer.setContent(tmpl(this._viewModel));\n    }\n};\n\n/**\n * Return more layer root element\n * @returns {HTMLElement} root element\n */\nMore.prototype.getMoreViewElement = function() {\n    return domutil.find(config.classname(\'.month-more\'), this.layer.container);\n};\n\n/**\n * Get the styles from theme\n * @param {Theme} theme - theme instance\n * @returns {object} styles - styles object\n */\nMore.prototype._getStyles = function(theme) {\n    var styles = {};\n    var listHeight = \'\';\n\n    if (theme) {\n        styles.border = theme.month.moreView.border || theme.common.border;\n        styles.boxShadow = theme.month.moreView.boxShadow;\n        styles.backgroundColor = theme.month.moreView.backgroundColor || theme.common.backgroundColor;\n        styles.paddingBottom = theme.month.moreView.paddingBottom;\n        styles.titleHeight = theme.month.moreViewTitle.height;\n        styles.titleMarginBottom = theme.month.moreViewTitle.marginBottom;\n        styles.titleBackgroundColor = theme.month.moreViewTitle.backgroundColor;\n        styles.titleBorderBottom = theme.month.moreViewTitle.borderBottom;\n        styles.titlePadding = theme.month.moreViewTitle.padding;\n        styles.listPadding = theme.month.moreViewList.padding;\n        listHeight = \'calc(100%\';\n\n        if (parseInt(styles.titleHeight, 10)) {\n            listHeight += \' - \' + styles.titleHeight;\n        }\n        if (parseInt(styles.titleMarginBottom, 10)) {\n            listHeight += \' - \' + styles.titleMarginBottom;\n        }\n        listHeight += \')\';\n\n        styles.listHeight = listHeight;\n    }\n\n    return styles;\n};\n\nmodule.exports = More;\n\n\n/***/ }),\n\n/***/ "./src/js/view/month/weekdayInMonth.js":\n/*!*********************************************!*\\\n  !*** ./src/js/view/month/weekdayInMonth.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_704161__) {\n\n"use strict";\n/**\n * @fileoverview Monthday in month view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_704161__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_704161__(/*! ../../config */ "./src/js/config.js"),\n    common = __nested_webpack_require_704161__(/*! ../../common/common.js */ "./src/js/common/common.js"),\n    domutil = __nested_webpack_require_704161__(/*! ../../common/domutil */ "./src/js/common/domutil.js"),\n    View = __nested_webpack_require_704161__(/*! ../../view/view */ "./src/js/view/view.js"),\n    Weekday = __nested_webpack_require_704161__(/*! ../weekday */ "./src/js/view/weekday.js"),\n    baseTmpl = __nested_webpack_require_704161__(/*! ../template/month/weekdayInMonth.hbs */ "./src/js/view/template/month/weekdayInMonth.hbs"),\n    scheduleTmpl = __nested_webpack_require_704161__(/*! ../template/month/weekdayInMonthSchedule.hbs */ "./src/js/view/template/month/weekdayInMonthSchedule.hbs");\nvar mfloor = Math.floor,\n    mmin = Math.min;\n\n/**\n * @constructor\n * @extends {Weekday}\n * @param {object} options - options for WeekdayInWeek view\n * @param {number} [options.heightPercent] - height percent of view\n * @param {number} [options.containerButtonGutter=8] - free space at bottom to\n *  make create easy.\n * @param {number} [options.scheduleHeight=18] - height of each schedule block.\n * @param {number} [options.scheduleGutter=2] - gutter height of each schedule block.\n * @param {HTMLDIVElement} container - DOM element to use container for this\n *  view.\n */\nfunction WeekdayInMonth(options, container) {\n    Weekday.call(this, options, container);\n    container.style.height = options.heightPercent + \'%\';\n}\n\nutil.inherit(WeekdayInMonth, Weekday);\n\n/**\n * Get schedule container element\'s bound properly by override\n *\n * View#getViewBound.\n * @override\n */\nWeekdayInMonth.prototype.getViewBound = function() {\n    var bound = View.prototype.getViewBound.call(this);\n\n    return bound;\n};\n\n/**\n * Get limit index of schedule block in current view\n * @param {number} panelHeight - panel\'s height for pre-calculation\n * @returns {number} limit index\n */\nWeekdayInMonth.prototype._getRenderLimitIndex = function(panelHeight) {\n    var opt = this.options;\n    var containerHeight = panelHeight || this.getViewBound().height;\n    var gridHeaderHeight = util.pick(opt, \'grid\', \'header\', \'height\') || 0;\n    var gridFooterHeight = util.pick(opt, \'grid\', \'footer\', \'height\') || 0;\n    var visibleScheduleCount = opt.visibleScheduleCount || 0;\n    var count;\n\n    containerHeight -= (gridHeaderHeight + gridFooterHeight);\n\n    count = mfloor(containerHeight / (opt.scheduleHeight + opt.scheduleGutter));\n\n    if (!visibleScheduleCount) {\n        visibleScheduleCount = count;\n    }\n\n    return mmin(count, visibleScheduleCount); // subtraction for \'+n\' label block\n};\n\n/**\n * @override\n * @param {object} viewModel - schedules view models\n */\nWeekdayInMonth.prototype.getBaseViewModel = function(viewModel) {\n    var opt = this.options,\n        gridHeaderHeight = util.pick(opt, \'grid\', \'header\', \'height\') || 0,\n        gridFooterHeight = util.pick(opt, \'grid\', \'footer\', \'height\') || 0,\n        renderLimitIdx = this._getRenderLimitIndex() + 1,\n        exceedDate = this.getExceedDate(renderLimitIdx, viewModel.eventsInDateRange, viewModel.range),\n        styles = this._getStyles(viewModel.theme);\n    var baseViewModel;\n\n    viewModel = util.extend({\n        exceedDate: exceedDate\n    }, viewModel);\n\n    baseViewModel = Weekday.prototype.getBaseViewModel.call(this, viewModel);\n\n    baseViewModel = util.extend({\n        matrices: viewModel.eventsInDateRange,\n        gridHeaderHeight: gridHeaderHeight,\n        gridFooterHeight: gridFooterHeight,\n        renderLimitIdx: renderLimitIdx,\n        isReadOnly: opt.isReadOnly,\n        styles: styles\n    }, baseViewModel);\n\n    return baseViewModel;\n};\n\n/**\n * @override\n * @param {object} viewModel - schedules view models\n */\nWeekdayInMonth.prototype.render = function(viewModel) {\n    var container = this.container,\n        baseViewModel = this.getBaseViewModel(viewModel),\n        scheduleContainer;\n\n    if (!this.options.visibleWeeksCount) {\n        setIsOtherMonthFlag(baseViewModel.dates, this.options.renderMonth, viewModel.theme);\n    }\n\n    container.innerHTML = baseTmpl(baseViewModel);\n\n    scheduleContainer = domutil.find(\n        config.classname(\'.weekday-schedules\'),\n        container\n    );\n\n    if (!scheduleContainer) {\n        return;\n    }\n\n    scheduleContainer.innerHTML = scheduleTmpl(baseViewModel);\n\n    common.setAutoEllipsis(\n        config.classname(\'.weekday-schedule-title\'),\n        container,\n        true\n    );\n};\n\nWeekdayInMonth.prototype._beforeDestroy = function() {\n};\n\n/**\n * Get the styles from theme\n * @param {Theme} theme - theme instance\n * @returns {object} styles - styles object\n */\nWeekdayInMonth.prototype._getStyles = function(theme) {\n    var styles = {};\n\n    if (theme) {\n        styles.borderTop = theme.common.border;\n        styles.borderLeft = theme.common.border;\n        styles.fontSize = theme.month.day.fontSize;\n        styles.borderRadius = theme.month.schedule.borderRadius;\n        styles.marginLeft = theme.month.schedule.marginLeft;\n        styles.marginRight = theme.month.schedule.marginRight;\n        styles.scheduleBulletTop = this.options.scheduleHeight / 3;\n    }\n\n    return styles;\n};\n\n/**\n * 현재 달이 아닌 날짜에 대해 isOtherMonth = true 플래그를 추가한다.\n * @param {Array} dates - 날짜정보 배열\n * @param {TZDate} renderMonth - 현재 렌더링중인 월 (YYYYMM)\n * @param {Theme} theme - theme instance\n */\nfunction setIsOtherMonthFlag(dates, renderMonth, theme) {\n    var month = renderMonth.getMonth() + 1;\n\n    util.forEach(dates, function(dateObj) {\n        var isOtherMonth = dateObj.month !== month;\n        dateObj.isOtherMonth = isOtherMonth;\n\n        if (isOtherMonth) {\n            dateObj.color = Weekday.prototype._getDayNameColor(theme, dateObj.day, dateObj.isToday, isOtherMonth);\n        }\n    });\n}\n\nmodule.exports = WeekdayInMonth;\n\n\n/***/ }),\n\n/***/ "./src/js/view/popup/scheduleCreationPopup.js":\n/*!****************************************************!*\\\n  !*** ./src/js/view/popup/scheduleCreationPopup.js ***!\n  \\****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_710447__) {\n\n"use strict";\n/**\n * @fileoverview Floating layer for writing new schedules\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar View = __nested_webpack_require_710447__(/*! ../../view/view */ "./src/js/view/view.js");\nvar FloatingLayer = __nested_webpack_require_710447__(/*! ../../common/floatingLayer */ "./src/js/common/floatingLayer.js");\nvar util = __nested_webpack_require_710447__(/*! tui-code-snippet */ "tui-code-snippet");\nvar DatePicker = __nested_webpack_require_710447__(/*! tui-date-picker */ "tui-date-picker");\nvar timezone = __nested_webpack_require_710447__(/*! ../../common/timezone */ "./src/js/common/timezone.js");\nvar config = __nested_webpack_require_710447__(/*! ../../config */ "./src/js/config.js");\nvar domevent = __nested_webpack_require_710447__(/*! ../../common/domevent */ "./src/js/common/domevent.js");\nvar domutil = __nested_webpack_require_710447__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar common = __nested_webpack_require_710447__(/*! ../../common/common */ "./src/js/common/common.js");\nvar datetime = __nested_webpack_require_710447__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar tmpl = __nested_webpack_require_710447__(/*! ../template/popup/scheduleCreationPopup.hbs */ "./src/js/view/template/popup/scheduleCreationPopup.hbs");\nvar TZDate = timezone.Date;\nvar MAX_WEEK_OF_MONTH = 6;\n\n/**\n * @constructor\n * @extends {View}\n * @param {HTMLElement} container - container element\n * @param {Array.<Calendar>} calendars - calendar list used to create new schedule\n * @param {boolean} usageStatistics - GA tracking options in Calendar\n */\nfunction ScheduleCreationPopup(container, calendars, usageStatistics) {\n    View.call(this, container);\n    /**\n     * @type {FloatingLayer}\n     */\n    this.layer = new FloatingLayer(null, container);\n\n    /**\n     * cached view model\n     * @type {object}\n     */\n    this._viewModel = null;\n    this._selectedCal = null;\n    this._schedule = null;\n    this.calendars = calendars;\n    this._focusedDropdown = null;\n    this._usageStatistics = usageStatistics;\n    this._onClickListeners = [\n        this._selectDropdownMenuItem.bind(this),\n        this._toggleDropdownMenuView.bind(this),\n        this._closeDropdownMenuView.bind(this, null),\n        this._closePopup.bind(this),\n        this._toggleIsAllday.bind(this),\n        this._toggleIsPrivate.bind(this),\n        this._onClickSaveSchedule.bind(this)\n    ];\n\n    domevent.on(container, \'click\', this._onClick, this);\n}\n\nutil.inherit(ScheduleCreationPopup, View);\n\n/**\n * Mousedown event handler for hiding popup layer when user mousedown outside of\n * layer\n * @param {MouseEvent} mouseDownEvent - mouse event object\n */\nScheduleCreationPopup.prototype._onMouseDown = function(mouseDownEvent) {\n    var target = domevent.getEventTarget(mouseDownEvent),\n        popupLayer = domutil.closest(target, config.classname(\'.floating-layer\'));\n\n    if (popupLayer) {\n        return;\n    }\n\n    this.hide();\n};\n\n/**\n * @override\n */\nScheduleCreationPopup.prototype.destroy = function() {\n    this.layer.destroy();\n    this.layer = null;\n    domevent.off(this.container, \'click\', this._onClick, this);\n    domevent.off(document.body, \'mousedown\', this._onMouseDown, this);\n    View.prototype.destroy.call(this);\n};\n\n/**\n * @override\n * Click event handler for close button\n * @param {MouseEvent} clickEvent - mouse event object\n */\nScheduleCreationPopup.prototype._onClick = function(clickEvent) {\n    var target = domevent.getEventTarget(clickEvent);\n\n    util.forEach(this._onClickListeners, function(listener) {\n        return !listener(target);\n    });\n};\n\n/**\n * Test click event target is close button, and return layer is closed(hidden)\n * @param {HTMLElement} target click event target\n * @returns {boolean} whether popup layer is closed or not\n */\nScheduleCreationPopup.prototype._closePopup = function(target) {\n    var className = config.classname(\'popup-close\');\n\n    if (domutil.hasClass(target, className) || domutil.closest(target, \'.\' + className)) {\n        this.hide();\n\n        return true;\n    }\n\n    return false;\n};\n\n/**\n * Toggle dropdown menu view, when user clicks dropdown button\n * @param {HTMLElement} target click event target\n * @returns {boolean} whether user clicked dropdown button or not\n */\nScheduleCreationPopup.prototype._toggleDropdownMenuView = function(target) {\n    var className = config.classname(\'dropdown-button\');\n    var dropdownBtn = domutil.hasClass(target, className) ? target : domutil.closest(target, \'.\' + className);\n\n    if (!dropdownBtn) {\n        return false;\n    }\n\n    if (domutil.hasClass(dropdownBtn.parentNode, config.classname(\'open\'))) {\n        this._closeDropdownMenuView(dropdownBtn.parentNode);\n    } else {\n        this._openDropdownMenuView(dropdownBtn.parentNode);\n    }\n\n    return true;\n};\n\n/**\n * Close drop down menu\n * @param {HTMLElement} dropdown - dropdown element that has a opened dropdown menu\n */\nScheduleCreationPopup.prototype._closeDropdownMenuView = function(dropdown) {\n    dropdown = dropdown || this._focusedDropdown;\n    if (dropdown) {\n        domutil.removeClass(dropdown, config.classname(\'open\'));\n        this._focusedDropdown = null;\n    }\n};\n\n/**\n * Open drop down menu\n * @param {HTMLElement} dropdown - dropdown element that has a closed dropdown menu\n */\nScheduleCreationPopup.prototype._openDropdownMenuView = function(dropdown) {\n    domutil.addClass(dropdown, config.classname(\'open\'));\n    this._focusedDropdown = dropdown;\n};\n\n/**\n * If click dropdown menu item, close dropdown menu\n * @param {HTMLElement} target click event target\n * @returns {boolean} whether\n */\nScheduleCreationPopup.prototype._selectDropdownMenuItem = function(target) {\n    var itemClassName = config.classname(\'dropdown-menu-item\');\n    var iconClassName = config.classname(\'icon\');\n    var contentClassName = config.classname(\'content\');\n    var selectedItem = domutil.hasClass(target, itemClassName) ? target : domutil.closest(target, \'.\' + itemClassName);\n    var bgColor, title, dropdown, dropdownBtn;\n\n    if (!selectedItem) {\n        return false;\n    }\n\n    bgColor = domutil.find(\'.\' + iconClassName, selectedItem).style.backgroundColor || \'transparent\';\n    title = domutil.find(\'.\' + contentClassName, selectedItem).innerHTML;\n\n    dropdown = domutil.closest(selectedItem, config.classname(\'.dropdown\'));\n    dropdownBtn = domutil.find(config.classname(\'.dropdown-button\'), dropdown);\n    domutil.find(\'.\' + contentClassName, dropdownBtn).innerText = title;\n\n    if (domutil.hasClass(dropdown, config.classname(\'section-calendar\'))) {\n        domutil.find(\'.\' + iconClassName, dropdownBtn).style.backgroundColor = bgColor;\n        this._selectedCal = common.find(this.calendars, function(cal) {\n            return cal.id === domutil.getData(selectedItem, \'calendarId\');\n        });\n    }\n\n    domutil.removeClass(dropdown, config.classname(\'open\'));\n\n    return true;\n};\n\n/**\n * Toggle allday checkbox state\n * @param {HTMLElement} target click event target\n * @returns {boolean} whether event target is allday section or not\n */\nScheduleCreationPopup.prototype._toggleIsAllday = function(target) {\n    var className = config.classname(\'section-allday\');\n    var alldaySection = domutil.hasClass(target, className) ? target : domutil.closest(target, \'.\' + className);\n    var checkbox;\n\n    if (alldaySection) {\n        checkbox = domutil.find(config.classname(\'.checkbox-square\'), alldaySection);\n        checkbox.checked = !checkbox.checked;\n\n        return true;\n    }\n\n    return false;\n};\n\n/**\n * Toggle private button\n * @param {HTMLElement} target click event target\n * @returns {boolean} whether event target is private section or not\n */\nScheduleCreationPopup.prototype._toggleIsPrivate = function(target) {\n    var className = config.classname(\'section-private\');\n    var privateSection = domutil.hasClass(target, className) ? target : domutil.closest(target, \'.\' + className);\n\n    if (privateSection) {\n        if (domutil.hasClass(privateSection, config.classname(\'public\'))) {\n            domutil.removeClass(privateSection, config.classname(\'public\'));\n        } else {\n            domutil.addClass(privateSection, config.classname(\'public\'));\n        }\n\n        return true;\n    }\n\n    return false;\n};\n\n/**\n * Save new schedule if user clicked save button\n * @emits ScheduleCreationPopup#saveSchedule\n * @param {HTMLElement} target click event target\n * @returns {boolean} whether save button is clicked or not\n */\n// eslint-disable-next-line complexity\nScheduleCreationPopup.prototype._onClickSaveSchedule = function(target) {\n    var className = config.classname(\'popup-save\');\n    var cssPrefix = config.cssPrefix;\n    var title;\n    var startDate;\n    var endDate;\n    var rangeDate;\n    var form;\n    var isAllDay;\n\n    if (!domutil.hasClass(target, className) && !domutil.closest(target, \'.\' + className)) {\n        return false;\n    }\n\n    title = domutil.get(cssPrefix + \'schedule-title\');\n\n    startDate = new TZDate(this.rangePicker.getStartDate());\n    endDate = new TZDate(this.rangePicker.getEndDate());\n\n    if (!this._validateForm(title, startDate, endDate)) {\n        if (!title.value) {\n            title.focus();\n        }\n\n        return false;\n    }\n\n    isAllDay = !!domutil.get(cssPrefix + \'schedule-allday\').checked;\n    rangeDate = this._getRangeDate(startDate, endDate, isAllDay);\n\n    form = {\n        calendarId: this._selectedCal ? this._selectedCal.id : null,\n        title: title,\n        location: domutil.get(cssPrefix + \'schedule-location\'),\n        start: rangeDate.start,\n        end: rangeDate.end,\n        isAllDay: isAllDay,\n        state: domutil.get(cssPrefix + \'schedule-state\').innerText,\n        isPrivate: !domutil.hasClass(domutil.get(cssPrefix + \'schedule-private\'), config.classname(\'public\'))\n    };\n\n    if (this._isEditMode) {\n        this._onClickUpdateSchedule(form);\n    } else {\n        this._onClickCreateSchedule(form);\n    }\n\n    this.hide();\n\n    return true;\n};\n\n/**\n * @override\n * @param {object} viewModel - view model from factory/monthView\n */\nScheduleCreationPopup.prototype.render = function(viewModel) {\n    var calendars = this.calendars;\n    var layer = this.layer;\n    var self = this;\n    var boxElement, guideElements;\n\n    viewModel.zIndex = this.layer.zIndex + 5;\n    viewModel.calendars = calendars;\n    if (calendars.length) {\n        viewModel.selectedCal = this._selectedCal = calendars[0];\n    }\n\n    this._isEditMode = viewModel.schedule && viewModel.schedule.id;\n    if (this._isEditMode) {\n        boxElement = viewModel.target;\n        viewModel = this._makeEditModeData(viewModel);\n    } else {\n        this.guide = viewModel.guide;\n        guideElements = this._getGuideElements(this.guide);\n        boxElement = guideElements.length ? guideElements[0] : null;\n    }\n    layer.setContent(tmpl(viewModel));\n    this._createDatepicker(viewModel.start, viewModel.end, viewModel.isAllDay);\n    layer.show();\n\n    if (boxElement) {\n        this._setPopupPositionAndArrowDirection(boxElement.getBoundingClientRect());\n    }\n\n    util.debounce(function() {\n        domevent.on(document.body, \'mousedown\', self._onMouseDown, self);\n    })();\n};\n\n/**\n * Make view model for edit mode\n * @param {object} viewModel - original view model from \'beforeCreateEditPopup\'\n * @returns {object} - edit mode view model\n */\nScheduleCreationPopup.prototype._makeEditModeData = function(viewModel) {\n    var schedule = viewModel.schedule;\n    var title, isPrivate, location, startDate, endDate, isAllDay, state;\n    var raw = schedule.raw || {};\n    var calendars = this.calendars;\n\n    var id = schedule.id;\n    title = schedule.title;\n    isPrivate = raw[\'class\'] === \'private\';\n    location = schedule.location;\n    startDate = schedule.start;\n    endDate = schedule.end;\n    isAllDay = schedule.isAllDay;\n    state = schedule.state;\n\n    viewModel.selectedCal = this._selectedCal = common.find(this.calendars, function(cal) {\n        return cal.id === viewModel.schedule.calendarId;\n    });\n\n    this._schedule = schedule;\n\n    return {\n        id: id,\n        selectedCal: this._selectedCal,\n        calendars: calendars,\n        title: title,\n        isPrivate: isPrivate,\n        location: location,\n        isAllDay: isAllDay,\n        state: state,\n        start: startDate,\n        end: endDate,\n        raw: {\n            class: isPrivate ? \'private\' : \'public\'\n        },\n        zIndex: this.layer.zIndex + 5,\n        isEditMode: this._isEditMode\n    };\n};\n\n/**\n * Set popup position and arrow direction to apear near guide element\n * @param {MonthCreationGuide|TimeCreationGuide|DayGridCreationGuide} guideBound - creation guide element\n */\nScheduleCreationPopup.prototype._setPopupPositionAndArrowDirection = function(guideBound) {\n    var layer = domutil.find(config.classname(\'.popup\'), this.layer.container);\n    var layerSize = {\n        width: layer.offsetWidth,\n        height: layer.offsetHeight\n    };\n    var containerBound = this.container.getBoundingClientRect();\n    var pos = this._calcRenderingData(layerSize, containerBound, guideBound);\n\n    this.layer.setPosition(pos.x, pos.y);\n    this._setArrowDirection(pos.arrow);\n};\n\n/**\n * Get guide elements from creation guide object\n * It is used to calculate rendering position of popup\n * It will be disappeared when hiding popup\n * @param {MonthCreationGuide|TimeCreationGuide|AlldayCreationGuide} guide - creation guide\n * @returns {Array.<HTMLElement>} creation guide element\n */\nScheduleCreationPopup.prototype._getGuideElements = function(guide) {\n    var guideElements = [];\n    var i = 0;\n\n    if (guide.guideElement) {\n        guideElements.push(guide.guideElement);\n    } else if (guide.guideElements) {\n        for (; i < MAX_WEEK_OF_MONTH; i += 1) {\n            if (guide.guideElements[i]) {\n                guideElements.push(guide.guideElements[i]);\n            }\n        }\n    }\n\n    return guideElements;\n};\n\n/**\n * Get guide element\'s bound data which only includes top, right, bottom, left\n * @param {Array.<HTMLElement>} guideElements - creation guide elements\n * @returns {Object} - popup bound data\n */\nScheduleCreationPopup.prototype._getBoundOfFirstRowGuideElement = function(guideElements) {\n    var bound;\n\n    if (!guideElements.length) {\n        return null;\n    }\n\n    bound = guideElements[0].getBoundingClientRect();\n\n    return {\n        top: bound.top,\n        left: bound.left,\n        bottom: bound.bottom,\n        right: bound.right\n    };\n};\n\n/**\n * Get calculate rendering positions of y and arrow direction by guide block elements\n * @param {number} guideBoundTop - guide block\'s top\n * @param {number} guideBoundBottom - guide block\'s bottom\n * @param {number} layerHeight - popup layer\'s height\n * @param {number} containerTop - container\'s top\n * @param {number} containerBottom - container\'s bottom\n * @returns {YAndArrowDirection} y and arrowDirection\n */\nScheduleCreationPopup.prototype._getYAndArrowDirection = function(\n    guideBoundTop,\n    guideBoundBottom,\n    layerHeight,\n    containerTop,\n    containerBottom\n) {\n    var arrowDirection = \'arrow-bottom\';\n    var MARGIN = 3;\n    var y = guideBoundTop - layerHeight;\n\n    if (y < containerTop) {\n        y = guideBoundBottom - containerTop + MARGIN;\n        arrowDirection = \'arrow-top\';\n    } else {\n        y = y - containerTop - MARGIN;\n    }\n\n    if (y + layerHeight > containerBottom) {\n        y = containerBottom - layerHeight - containerTop - MARGIN;\n    }\n\n    /**\n     * @typedef {Object} YAndArrowDirection\n     * @property {number} y - top position of popup layer\n     * @property {string} [arrowDirection] - direction of popup arrow\n     */\n    return {\n        y: y,\n        arrowDirection: arrowDirection\n    };\n};\n\n/**\n* Get calculate rendering x position and arrow left by guide block elements\n* @param {number} guideBoundLeft - guide block\'s left\n* @param {number} guideBoundRight - guide block\'s right\n* @param {number} layerWidth - popup layer\'s width\n* @param {number} containerLeft - container\'s left\n* @param {number} containerRight - container\'s right\n* @returns {XAndArrowLeft} x and arrowLeft\n*/\nScheduleCreationPopup.prototype._getXAndArrowLeft = function(\n    guideBoundLeft,\n    guideBoundRight,\n    layerWidth,\n    containerLeft,\n    containerRight\n) {\n    var guideHorizontalCenter = (guideBoundLeft + guideBoundRight) / 2;\n    var x = guideHorizontalCenter - (layerWidth / 2);\n    var ARROW_WIDTH_HALF = 8;\n    var arrowLeft;\n\n    if (x + layerWidth > containerRight) {\n        x = guideBoundRight - layerWidth + ARROW_WIDTH_HALF;\n        arrowLeft = guideHorizontalCenter - x;\n    } else {\n        x += ARROW_WIDTH_HALF;\n    }\n\n    if (x < containerLeft) {\n        x = 0;\n        arrowLeft = guideHorizontalCenter - containerLeft - ARROW_WIDTH_HALF;\n    } else {\n        x = x - containerLeft - ARROW_WIDTH_HALF;\n    }\n\n    /**\n     * @typedef {Object} XAndArrowLeft\n     * @property {number} x - left position of popup layer\n     * @property {numbe3er} arrowLeft - relative position of popup arrow, if it is not set, arrow appears on the middle of popup\n     */\n    return {\n        x: x,\n        arrowLeft: arrowLeft\n    };\n};\n\n/**\n * Calculate rendering position usering guide elements\n * @param {{width: {number}, height: {number}}} layerSize - popup layer\'s width and height\n * @param {{top: {number}, left: {number}, right: {number}, bottom: {number}}} containerBound - width and height of the upper layer, that acts as a border of popup\n * @param {{top: {number}, left: {number}, right: {number}, bottom: {number}}} guideBound - guide element bound data\n * @returns {PopupRenderingData} rendering position of popup and popup arrow\n */\nScheduleCreationPopup.prototype._calcRenderingData = function(layerSize, containerBound, guideBound) {\n    var yPosInfo = this._getYAndArrowDirection(\n        guideBound.top,\n        guideBound.bottom,\n        layerSize.height,\n        containerBound.top,\n        containerBound.bottom\n    );\n    var xPosInfo = this._getXAndArrowLeft(\n        guideBound.left,\n        guideBound.right,\n        layerSize.width,\n        containerBound.left,\n        containerBound.right\n    );\n\n    /**\n     * @typedef {Object} PopupRenderingData\n     * @property {number} x - left position\n     * @property {number} y - top position\n     * @property {string} arrow.direction - direction of popup arrow\n     * @property {number} [arrow.position] - relative position of popup arrow, if it is not set, arrow appears on the middle of popup\n     */\n    return {\n        x: xPosInfo.x,\n        y: yPosInfo.y,\n        arrow: {\n            direction: yPosInfo.arrowDirection,\n            position: xPosInfo.arrowLeft\n        }\n    };\n};\n\n/**\n * Set arrow\'s direction and position\n * @param {Object} arrow rendering data for popup arrow\n */\nScheduleCreationPopup.prototype._setArrowDirection = function(arrow) {\n    var direction = arrow.direction || \'arrow-bottom\';\n    var arrowEl = domutil.get(config.classname(\'popup-arrow\'));\n    var borderElement = domutil.find(config.classname(\'.popup-arrow-border\', arrowEl));\n\n    if (direction !== config.classname(\'arrow-bottom\')) {\n        domutil.removeClass(arrowEl, config.classname(\'arrow-bottom\'));\n        domutil.addClass(arrowEl, config.classname(direction));\n    }\n\n    if (arrow.position) {\n        borderElement.style.left = arrow.position + \'px\';\n    }\n};\n\n/**\n * Create date range picker using start date and end date\n * @param {TZDate} start - start date\n * @param {TZDate} end - end date\n * @param {boolean} isAllDay - isAllDay\n */\nScheduleCreationPopup.prototype._createDatepicker = function(start, end, isAllDay) {\n    var cssPrefix = config.cssPrefix;\n\n    this.rangePicker = DatePicker.createRangePicker({\n        startpicker: {\n            date: new TZDate(start).toDate(),\n            input: \'#\' + cssPrefix + \'schedule-start-date\',\n            container: \'#\' + cssPrefix + \'startpicker-container\'\n        },\n        endpicker: {\n            date: new TZDate(end).toDate(),\n            input: \'#\' + cssPrefix + \'schedule-end-date\',\n            container: \'#\' + cssPrefix + \'endpicker-container\'\n        },\n        format: isAllDay ? \'yyyy-MM-dd\' : \'yyyy-MM-dd HH:mm\',\n        timepicker: isAllDay ? null : {\n            showMeridiem: false,\n            usageStatistics: this._usageStatistics\n        },\n        usageStatistics: this._usageStatistics\n    });\n};\n\n/**\n * Hide layer\n */\nScheduleCreationPopup.prototype.hide = function() {\n    this.layer.hide();\n\n    if (this.guide) {\n        this.guide.clearGuideElement();\n        this.guide = null;\n    }\n\n    domevent.off(document.body, \'mousedown\', this._onMouseDown, this);\n};\n\n/**\n * refresh layer\n */\nScheduleCreationPopup.prototype.refresh = function() {\n    if (this._viewModel) {\n        this.layer.setContent(this.tmpl(this._viewModel));\n    }\n};\n\n/**\n * Set calendar list\n * @param {Array.<Calendar>} calendars - calendar list\n */\nScheduleCreationPopup.prototype.setCalendars = function(calendars) {\n    this.calendars = calendars || [];\n};\n\n/**\n * Validate the form\n * @param {string} title title of then entered schedule\n * @param {TZDate} startDate start date time from range picker\n * @param {TZDate} endDate end date time from range picker\n * @returns {boolean} Returns false if the form is not valid for submission.\n */\nScheduleCreationPopup.prototype._validateForm = function(title, startDate, endDate) {\n    if (!title.value) {\n        return false;\n    }\n\n    if (!startDate && !endDate) {\n        return false;\n    }\n\n    if (datetime.compare(startDate, endDate) === 1) {\n        return false;\n    }\n\n    return true;\n};\n\n/**\n * Get range date from range picker\n * @param {TZDate} startDate start date time from range picker\n * @param {TZDate} endDate end date time from range picker\n * @param {boolean} isAllDay whether it is an all-day schedule\n * @returns {RangeDate} Returns the start and end time data that is the range date\n */\nScheduleCreationPopup.prototype._getRangeDate = function(startDate, endDate, isAllDay) {\n    var start = isAllDay ? datetime.start(startDate) : startDate;\n    var end = isAllDay ? datetime.renderEnd(startDate, endDate) : endDate;\n\n    /**\n     * @typedef {object} RangeDate\n     * @property {TZDate} start start time\n     * @property {TZDate} end end time\n     */\n    return {\n        start: new TZDate(start),\n        end: new TZDate(end)\n    };\n};\n\n/**\n * Request schedule model creation to controller by custom schedules.\n * @fires {ScheduleCreationPopup#beforeUpdateSchedule}\n * @param {{\n    calendarId: {string},\n    title: {string},\n    location: {string},\n    start: {TZDate},\n    end: {TZDate},\n    isAllDay: {boolean},\n    state: {string},\n    isPrivate: {boolean}\n  }} form schedule input form data\n*/\nScheduleCreationPopup.prototype._onClickUpdateSchedule = function(form) {\n    var changes = common.getScheduleChanges(\n        this._schedule,\n        [\'calendarId\', \'title\', \'location\', \'start\', \'end\', \'isAllDay\', \'state\'],\n        {\n            calendarId: form.calendarId,\n            title: form.title.value,\n            location: form.location.value,\n            start: form.start,\n            end: form.end,\n            isAllDay: form.isAllDay,\n            state: form.state\n        }\n    );\n\n    /**\n     * @event ScheduleCreationPopup#beforeUpdateSchedule\n     * @type {object}\n     * @property {Schedule} schedule - schedule object to be updated\n     */\n    this.fire(\'beforeUpdateSchedule\', {\n        schedule: util.extend({\n            raw: {\n                class: form.isPrivate ? \'private\' : \'public\'\n            }\n        }, this._schedule),\n        changes: changes,\n        start: form.start,\n        end: form.end,\n        calendar: this._selectedCal,\n        triggerEventName: \'click\'\n    });\n};\n\n/**\n * Request the controller to update the schedule model according to the custom schedule.\n * @fires {ScheduleCreationPopup#beforeCreateSchedule}\n * @param {{\n    calendarId: {string},\n    title: {string},\n    location: {string},\n    start: {TZDate},\n    end: {TZDate},\n    isAllDay: {boolean},\n    state: {string}\n  }} form schedule input form data\n */\nScheduleCreationPopup.prototype._onClickCreateSchedule = function(form) {\n    /**\n     * @event ScheduleCreationPopup#beforeCreateSchedule\n     * @type {object}\n     * @property {Schedule} schedule - new schedule instance to be added\n     */\n    this.fire(\'beforeCreateSchedule\', {\n        calendarId: form.calendarId,\n        title: form.title.value,\n        location: form.location.value,\n        raw: {\n            class: form.isPrivate ? \'private\' : \'public\'\n        },\n        start: form.start,\n        end: form.end,\n        isAllDay: form.isAllDay,\n        state: form.state\n    });\n};\n\nmodule.exports = ScheduleCreationPopup;\n\n\n/***/ }),\n\n/***/ "./src/js/view/popup/scheduleDetailPopup.js":\n/*!**************************************************!*\\\n  !*** ./src/js/view/popup/scheduleDetailPopup.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_735385__) {\n\n"use strict";\n/* eslint-disable vars-on-top */\n/**\n * @fileoverview Floating layer for showing detail schedule\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar View = __nested_webpack_require_735385__(/*! ../../view/view */ "./src/js/view/view.js");\nvar FloatingLayer = __nested_webpack_require_735385__(/*! ../../common/floatingLayer */ "./src/js/common/floatingLayer.js");\nvar util = __nested_webpack_require_735385__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_735385__(/*! ../../config */ "./src/js/config.js"),\n    domevent = __nested_webpack_require_735385__(/*! ../../common/domevent */ "./src/js/common/domevent.js"),\n    domutil = __nested_webpack_require_735385__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar tmpl = __nested_webpack_require_735385__(/*! ../template/popup/scheduleDetailPopup.hbs */ "./src/js/view/template/popup/scheduleDetailPopup.hbs");\nvar tz = __nested_webpack_require_735385__(/*! ../../common/timezone */ "./src/js/common/timezone.js");\nvar TZDate = tz.Date;\nvar datetime = __nested_webpack_require_735385__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\n\n/**\n * @constructor\n * @extends {View}\n * @param {HTMLElement} container - container element\n */\nfunction ScheduleDetailPopup(container) {\n    View.call(this, container);\n    /**\n     * @type {FloatingLayer}\n     */\n    this.layer = new FloatingLayer(null, container);\n\n    /**\n     * cached view model\n     * @type {object}\n     */\n    this._viewModel = null;\n    this._schedule = null;\n    this._calendar = null;\n\n    domevent.on(container, \'click\', this._onClick, this);\n}\n\nutil.inherit(ScheduleDetailPopup, View);\n\n/**\n * Mousedown event handler for hiding popup layer when user mousedown outside of\n * layer\n * @param {MouseEvent} mouseDownEvent - mouse event object\n */\nScheduleDetailPopup.prototype._onMouseDown = function(mouseDownEvent) {\n    var target = domevent.getEventTarget(mouseDownEvent),\n        popupLayer = domutil.closest(target, config.classname(\'.floating-layer\'));\n\n    if (popupLayer) {\n        return;\n    }\n\n    this.hide();\n};\n\n/**\n * @override\n */\nScheduleDetailPopup.prototype.destroy = function() {\n    this.layer.destroy();\n    this.layer = null;\n    domevent.off(this.container, \'click\', this._onClick, this);\n    domevent.off(document.body, \'mousedown\', this._onMouseDown, this);\n    View.prototype.destroy.call(this);\n};\n\n/**\n * @override\n * Click event handler for close button\n * @param {MouseEvent} clickEvent - mouse event object\n */\nScheduleDetailPopup.prototype._onClick = function(clickEvent) {\n    var target = domevent.getEventTarget(clickEvent);\n\n    this._onClickEditSchedule(target);\n\n    this._onClickDeleteSchedule(target);\n};\n\n/**\n * @fires ScheduleDetailPopup#clickEditSchedule\n * @param {HTMLElement} target - event target\n */\nScheduleDetailPopup.prototype._onClickEditSchedule = function(target) {\n    var className = config.classname(\'popup-edit\');\n\n    if (domutil.hasClass(target, className) || domutil.closest(target, \'.\' + className)) {\n        this.fire(\'beforeUpdateSchedule\', {\n            schedule: this._schedule,\n            triggerEventName: \'click\',\n            target: this._scheduleEl\n        });\n\n        this.hide();\n    }\n};\n\n/**\n * @fires ScheduleDetailPopup#clickEditSchedule\n * @param {HTMLElement} target - event target\n */\nScheduleDetailPopup.prototype._onClickDeleteSchedule = function(target) {\n    var className = config.classname(\'popup-delete\');\n\n    if (domutil.hasClass(target, className) || domutil.closest(target, \'.\' + className)) {\n        this.fire(\'beforeDeleteSchedule\', {\n            schedule: this._schedule\n        });\n\n        this.hide();\n    }\n};\n\n/**\n * @override\n * @param {object} viewModel - view model from factory/monthView\n */\nScheduleDetailPopup.prototype.render = function(viewModel) {\n    var layer = this.layer;\n    var self = this;\n\n    layer.setContent(tmpl({\n        schedule: this._getScheduleModel(viewModel.schedule),\n        calendar: viewModel.calendar\n    }));\n    layer.show();\n    this._setPopupPositionAndArrowDirection(viewModel.event);\n\n    this._schedule = viewModel.schedule;\n    this._calendar = viewModel.calendar;\n\n    util.debounce(function() {\n        domevent.on(document.body, \'mousedown\', self._onMouseDown, self);\n    })();\n};\n\n// eslint-disable-next-line complexity\nScheduleDetailPopup.prototype._getScheduleModel = function(scheduleViewModel) {\n    var viewModel = util.extend({}, scheduleViewModel);\n    var dayStart = datetime.start(scheduleViewModel.start);\n    var startDayOffset = dayStart.toDate().getTimezoneOffset();\n    var nativeOffsetMs = tz.getNativeOffsetMs();\n    var hasPrimaryTimezoneCustomSetting = tz.hasPrimaryTimezoneCustomSetting();\n    var startOffset = viewModel.start.toDate().getTimezoneOffset();\n    var endOffset = viewModel.end.toDate().getTimezoneOffset();\n    var primaryTimezoneCode = tz.getPrimaryTimezoneName();\n    var primaryOffset = tz.getPrimaryOffset();\n    var startTimezoneOffset = tz.getOffsetByTimezoneName(\n        primaryTimezoneCode,\n        viewModel.start.getTime()\n    );\n    var endTimezoneOffset = tz.getOffsetByTimezoneName(\n        primaryTimezoneCode,\n        viewModel.end.getTime()\n    );\n    var MIN_TO_MS = 60 * 1000;\n    var offsetDiffMs = 0;\n    var start, end;\n\n    if (\n        hasPrimaryTimezoneCustomSetting &&\n        tz.isNativeOsUsingDSTTimezone() &&\n        nativeOffsetMs !== startDayOffset\n    ) {\n        // When using a custom time zone, the native time zone offset is fixed and rendered.\n        // So, The fixed and rendered time should be recalculated as the original time zone offset.\n        // The current system OS local time is not affected by summer/standard time and the schedule should always be displayed in the same location.\n        offsetDiffMs = (startOffset * MIN_TO_MS) - nativeOffsetMs;\n        start = new TZDate(viewModel.start);\n        start.addMilliseconds(offsetDiffMs);\n\n        viewModel.start = start;\n\n        offsetDiffMs = (endOffset * MIN_TO_MS) - nativeOffsetMs;\n        end = new TZDate(viewModel.end);\n        end.addMilliseconds(offsetDiffMs);\n\n        viewModel.end = end;\n    }\n\n    if (\n        hasPrimaryTimezoneCustomSetting &&\n        tz.isPrimaryUsingDSTTimezone() &&\n        (primaryOffset !== startTimezoneOffset || primaryOffset !== endTimezoneOffset)\n    ) {\n        // The custom time zone is a time zone where two offsets including DST are applied.\n        // The first rendered schedule is calculated and drawn with the offset calculated at the access time(system OS local time).\n        // It should be recalculated with the original time zone offset.\n        offsetDiffMs = (primaryOffset - startTimezoneOffset) * MIN_TO_MS;\n\n        start = new TZDate(viewModel.start);\n        start.addMilliseconds(offsetDiffMs);\n\n        viewModel.start = start;\n\n        offsetDiffMs = (primaryOffset - endTimezoneOffset) * MIN_TO_MS;\n\n        end = new TZDate(viewModel.end);\n        end.addMilliseconds(offsetDiffMs);\n\n        viewModel.end = end;\n    }\n\n    return viewModel;\n};\n\n/**\n * Set popup position and arrow direction to apear near guide element\n * @param {Event} event - creation guide element\n */\nScheduleDetailPopup.prototype._setPopupPositionAndArrowDirection = function(event) {\n    var layer = domutil.find(config.classname(\'.popup\'), this.layer.container);\n    var layerSize = {\n        width: layer.offsetWidth,\n        height: layer.offsetHeight\n    };\n\n    var containerBound = this.container.getBoundingClientRect();\n    var scheduleEl = domevent.getEventTarget(event);\n    var blockEl = domutil.closest(scheduleEl, config.classname(\'.time-date-schedule-block\'))\n        || domutil.closest(scheduleEl, config.classname(\'.weekday-schedule\'))\n        || scheduleEl;\n    var scheduleBound = blockEl.getBoundingClientRect();\n    var pos;\n\n    this._scheduleEl = blockEl;\n\n    pos = this._calcRenderingData(layerSize, containerBound, scheduleBound);\n    this.layer.setPosition(pos.x, pos.y);\n    this._setArrowDirection(pos.arrow);\n};\n\n/**\n * Get calculate rendering positions of y and arrow top by schedule block elements\n * @param {number} scheduleBoundTop - schedule block\'s top\n * @param {number} scheduleBoundBottom - schedule block\'s bottom\n * @param {number} layerHeight - popup layer\'s height\n * @param {number} containerTop - container\'s top\n * @param {number} containerBottom - container\'s bottom\n * @returns {YAndArrowTop} y and arrowTop\n */\nScheduleDetailPopup.prototype._getYAndArrowTop = function(\n    scheduleBoundTop,\n    scheduleBoundBottom,\n    layerHeight,\n    containerTop,\n    containerBottom\n) {\n    var ARROW_WIDTH_HALF = 8;\n    var scheduleVerticalCenter, y, arrowTop;\n\n    scheduleBoundTop = scheduleBoundTop < 0 ? 0 : scheduleBoundTop;\n    scheduleVerticalCenter = (scheduleBoundTop + scheduleBoundBottom) / 2;\n    y = scheduleVerticalCenter - (layerHeight / 2);\n\n    if (y < containerTop) {\n        y = 0;\n        arrowTop = scheduleVerticalCenter - containerTop - ARROW_WIDTH_HALF;\n    } else if (y + layerHeight > containerBottom) {\n        y = Math.max(containerBottom - layerHeight - containerTop, 0);\n        arrowTop = scheduleVerticalCenter - y - containerTop - ARROW_WIDTH_HALF;\n    } else {\n        y -= containerTop;\n    }\n\n    if (arrowTop < 0 || arrowTop > layerHeight) {\n        arrowTop = null;\n    }\n\n    /**\n     * @typedef {Object} YAndArrowTop\n     * @property {number} y - top position of popup layer\n     * @property {number} [arrowTop] - relative position of popup arrow, if it is not set, arrow appears on the middle of popup\n     */\n    return {\n        y: y,\n        arrowTop: arrowTop\n    };\n};\n\n/**\n * Get calculate rendering x position and arrow direction by schedule block elements\n * @param {number} scheduleBoundLeft - schedule block\'s left\n * @param {number} scheduleBoundRight - schedule block\'s right\n * @param {number} layerWidth - popup layer\'s width\n * @param {number} containerLeft - container\'s left\n * @param {number} containerRight - container\'s right\n * @returns {XAndArrowDirection} x and arrowDirection\n */\nScheduleDetailPopup.prototype._getXAndArrowDirection = function(\n    scheduleBoundLeft,\n    scheduleBoundRight,\n    layerWidth,\n    containerLeft,\n    containerRight\n) {\n    var arrowDirection = \'arrow-left\';\n    var x = scheduleBoundRight;\n    var MARGIN = 4;\n\n    if (x + layerWidth > containerRight) {\n        arrowDirection = \'arrow-right\';\n        x = scheduleBoundLeft - layerWidth - MARGIN;\n    } else {\n        x += MARGIN;\n    }\n\n    if (x < containerLeft) {\n        x = 0;\n    } else {\n        x -= containerLeft;\n    }\n\n    /**\n     * @typedef {Object} XAndArrowDirection\n     * @property {number} x - left position of popup layer\n     * @property {string} arrowDirection - direction of popup arrow\n     */\n    return {\n        x: x,\n        arrowDirection: arrowDirection\n    };\n};\n\n/**\n * Calculate rendering position usering guide elements\n * @param {{width: {number}, height: {number}}} layerSize - popup layer\'s width and height\n * @param {{top: {number}, left: {number}, right: {number}, bottom: {number}}} containerBound - width and height of the upper layer, that acts as a border of popup\n * @param {{top: {number}, left: {number}, right: {number}, bottom: {number}}} scheduleBound - guide element bound data\n * @returns {PopupRenderingData} rendering position of popup and popup arrow\n */\nScheduleDetailPopup.prototype._calcRenderingData = function(layerSize, containerBound, scheduleBound) {\n    var yPosInfo = this._getYAndArrowTop(\n        scheduleBound.top,\n        scheduleBound.bottom,\n        layerSize.height,\n        containerBound.top,\n        containerBound.bottom\n    );\n    var xPosInfo = this._getXAndArrowDirection(\n        scheduleBound.left,\n        scheduleBound.right,\n        layerSize.width,\n        containerBound.left,\n        containerBound.right\n    );\n\n    /**\n     * @typedef {Object} PopupRenderingData\n     * @property {number} x - left position\n     * @property {number} y - top position\n     * @property {string} arrow.direction - direction of popup arrow\n     * @property {number} [arrow.position] - relative position of popup arrow, if it is not set, arrow appears on the middle of popup\n     */\n    return {\n        x: xPosInfo.x,\n        y: yPosInfo.y,\n        arrow: {\n            direction: xPosInfo.arrowDirection,\n            position: yPosInfo.arrowTop\n        }\n    };\n};\n\n/**\n * Set arrow\'s direction and position\n * @param {Object} arrow rendering data for popup arrow\n */\nScheduleDetailPopup.prototype._setArrowDirection = function(arrow) {\n    var direction = arrow.direction || \'arrow-left\';\n    var arrowEl = domutil.find(config.classname(\'.popup-arrow\'), this.layer.container);\n    var borderElement = domutil.find(config.classname(\'.popup-arrow-border\'), arrowEl);\n\n    if (direction !== config.classname(\'arrow-left\')) {\n        domutil.removeClass(arrowEl, config.classname(\'arrow-left\'));\n        domutil.addClass(arrowEl, config.classname(direction));\n    }\n\n    if (arrow.position) {\n        borderElement.style.top = arrow.position + \'px\';\n    }\n};\n\n/**\n * Hide layer\n */\nScheduleDetailPopup.prototype.hide = function() {\n    this.layer.hide();\n\n    if (this.guide) {\n        this.guide.clearGuideElement();\n        this.guide = null;\n    }\n\n    domevent.off(document.body, \'mousedown\', this._onMouseDown, this);\n};\n\n/**\n * refresh layer\n */\nScheduleDetailPopup.prototype.refresh = function() {\n    if (this._viewModel) {\n        this.layer.setContent(this.tmpl(this._viewModel));\n    }\n};\n\nmodule.exports = ScheduleDetailPopup;\n\n\n/***/ }),\n\n/***/ "./src/js/view/template/helper.js":\n/*!****************************************!*\\\n  !*** ./src/js/view/template/helper.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_749162__) {\n\n"use strict";\n/* eslint complexity: 0 */\n/**\n * @fileoverview Helpers for handlebar templates.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_749162__(/*! tui-code-snippet */ "tui-code-snippet");\nvar Handlebars = __nested_webpack_require_749162__(/*! handlebars-template-loader/runtime */ "./node_modules/handlebars-template-loader/runtime/index.js");\nvar datetime = __nested_webpack_require_749162__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar common = __nested_webpack_require_749162__(/*! ../../common/common */ "./src/js/common/common.js");\nvar config = __nested_webpack_require_749162__(/*! ../../config */ "./src/js/config.js");\nvar mmax = Math.max;\nvar SIXTY_MINUTES = 60;\nvar helpers = {\n    /**\n     * Stamp supplied object\n     *\n     * Commonly use for rendering object\'s unique ID to rendered view\n     * @param {object} obj - object to stamp\n     * @returns {number} stamp value\n     */\n    \'stamp\': function(obj) {\n        return util.stamp(obj);\n    },\n\n    /**\n     * Whether supplied object are equal?\n     * @param {*} a - a\n     * @param {*} b - b\n     * @returns {boolean} result of operation\n     */\n    \'equal\': function(a, b) {\n        return a === b;\n    },\n\n    /**\n     * OR\n     * @param {*} a - a\n     * @param {*} b - b\n     * @returns {boolean} or\n     */\n    \'or\': function(a, b) {\n        return a || b;\n    },\n\n    /**\n     * AND\n     * @param {*} a - a\n     * @param {*} b - b\n     * @returns {boolean} or\n     */\n    \'and\': function(a, b) {\n        return a && b;\n    },\n\n    /**\n     * Compare object or apply logical operation by customizable oper parameter\n     * @param {*} a - a\n     * @param {string} oper - operator ex) \'==\', \'<\'\n     * @param {*} b - b\n     * @param {Handlebars} options - handlebar options\n     * @returns {boolean} result of operation\n     */\n    \'fi\': function(a, oper, b, options) {\n        switch (oper) {\n            case \'==\':\n                return (a == b) ? options.fn(this) : options.inverse(this);  // eslint-disable-line\n            case \'===\':\n                return (a === b) ? options.fn(this) : options.inverse(this);\n            case \'!==\':\n                return (a !== b) ? options.fn(this) : options.inverse(this);\n            case \'<\':\n                return (a < b) ? options.fn(this) : options.inverse(this);\n            case \'||\':\n                return (a || b) ? options.fn(this) : options.inverse(this);\n            default:\n                throw new Error(\'Not match operation\');\n        }\n    },\n\n    /**\n     * Get hhmm formatted time str\n     * @param {Date} date - date object\n     * @returns {string} formatted value\n     */\n    \'hhmm\': function(date) {\n        return datetime.format(date, \'HH:mm\');\n    },\n\n    /**\n     * Get `width` stylesheet string\n     * @param {number} width - width percentage\n     * @returns {string} css style part\n     */\n    \'common-width\': function(width) {\n        return getElSize(width, \'%\', \'width\');\n    },\n\n    /**\n     * Get element left based on narrowWeekend\n     * @param {object} viewModel - view model\n     * @param {Array} grids - dates information\n     * @returns {number} element left\n     */\n    \'grid-left\': function(viewModel, grids) {\n        return getElLeft(viewModel, grids);\n    },\n\n    /**\n     * Get element width based on narrowWeekend\n     * @param {object} viewModel - view model\n     * @param {Array} grids - dates information\n     * @returns {number} element width\n     */\n    \'grid-width\': function(viewModel, grids) {\n        return getElWidth(viewModel, grids);\n    },\n\n    /**\n     * Use in time.hbs\n     * @param {ScheduleViewModel} viewModel viewModel\n     * @returns {string} element size css class\n     */\n    \'time-scheduleBlock\': function(viewModel) {\n        var top = getElSize(viewModel.top, \'px\', \'top\'),\n            left = getElSize(viewModel.left, \'%\', \'left\'),\n            width = getElSize(viewModel.width, \'%\', \'width\'),\n            height = getElSize(viewModel.height, \'px\', \'height\');\n\n        return [top, left, width, height].join(\';\');\n    },\n\n    \'month-scheduleBlock\': function(viewModel, grids, blockHeight, paddingTop) {\n        var top = getElSize(((viewModel.top - 1) * blockHeight) + paddingTop, \'px\', \'top\');\n        var left = getElSize(grids[viewModel.left] ? grids[viewModel.left].left : 0, \'%\', \'left\');\n        var width = getElSize(getElWidth(viewModel, grids), \'%\', \'width\');\n        var height = getElSize(viewModel.height, \'px\', \'height\');\n\n        return [top, left, width, height].join(\';\');\n    },\n\n    \'holiday\': function(day) {\n        var cssClass = \'\';\n\n        if (day === 0) {\n            cssClass = config.classname(\'holiday-sun\');\n        }\n\n        if (day === 6) {\n            cssClass = config.classname(\'holiday-sat\');\n        }\n\n        return cssClass;\n    },\n\n    /**\n     * Add supplied two parameter\n     * @param {*} a - a\n     * @param {*} b - b\n     * @returns {number} result of operation\n     */\n    \'add\': function(a, b) {\n        return a + b;\n    },\n\n    /**\n     * Multiply supplied two parameter\n     * @param {*} a - a\n     * @param {*} b - b\n     * @returns {number} result of operation\n     */\n    \'multiply\': function(a, b) {\n        return a * b;\n    },\n\n    /**\n     * Divide supplied two parameter\n     * @param {*} a - a\n     * @param {*} b - b\n     * @returns {number} result of operation\n     */\n    \'divide\': function(a, b) {\n        return a / b;\n    },\n\n    /**\n     * Subtract supplied two parameter\n     * @param {*} a - a\n     * @param {*} b - b\n     * @returns {number} result of operation\n     */\n    \'subtract\': function(a, b) {\n        return a - b;\n    },\n\n    \'getRight\': function(a, b) {\n        return mmax(0, 100 - (a + b));\n    },\n\n    /**\n     * Get css prefix in global configuration\n     * @returns {string} css prefix\n     */\n    \'CSS_PREFIX\': function() {\n        return config.cssPrefix;\n    },\n\n    \'reverse\': function(array) {\n        return array.slice().reverse();\n    },\n\n    /**********\n     * Default schedule template\n     **********/\n\n    \'milestone-tmpl\': function(model) {\n        var icon = config.classname(\'icon\');\n        var iconName = config.classname(\'ic-milestone\');\n\n        return \'<span class="\' + icon + \' \' + iconName + \'"></span><span style="background-color: \' + model.bgColor + \'">\' + common.stripTags(model.title) + \'</span>\';\n    },\n\n    \'milestoneTitle-tmpl\': function() {\n        var className = config.classname(\'left-content\');\n\n        return \'<span class="\' + className + \'">Milestone</span>\';\n    },\n\n    \'task-tmpl\': function(model) {\n        return \'#\' + model.title;\n    },\n\n    \'taskTitle-tmpl\': function() {\n        var className = config.classname(\'left-content\');\n\n        return \'<span class="\' + className + \'">Task</span>\';\n    },\n\n    \'alldayTitle-tmpl\': function() {\n        var className = config.classname(\'left-content\');\n\n        return \'<span class="\' + className + \'">All Day</span>\';\n    },\n\n    \'allday-tmpl\': function(model) {\n        return common.stripTags(model.title);\n    },\n\n    \'time-tmpl\': function(model) {\n        return common.stripTags(model.title);\n    },\n\n    \'goingDuration-tmpl\': function(model) {\n        var goingDuration = model.goingDuration;\n        var hour = parseInt(goingDuration / SIXTY_MINUTES, 10);\n        var minutes = goingDuration % SIXTY_MINUTES;\n\n        return \'GoingTime \' + datetime.leadingZero(hour, 2) + \':\' + datetime.leadingZero(minutes, 2);\n    },\n\n    \'comingDuration-tmpl\': function(model) {\n        var goingDuration = model.goingDuration;\n        var hour = parseInt(goingDuration / SIXTY_MINUTES, 10);\n        var minutes = goingDuration % SIXTY_MINUTES;\n\n        return \'ComingTime \' + datetime.leadingZero(hour, 2) + \':\' + datetime.leadingZero(minutes, 2);\n    },\n\n    \'monthMoreTitleDate-tmpl\': function(date, dayname) {\n        var classDay = config.classname(\'month-more-title-day\');\n        var classDayLabel = config.classname(\'month-more-title-day-label\');\n        var day = util.pick(date.split(\'.\'), 2);\n\n        return \'<span class="\' + classDay + \'">\' + day + \'</span> <span class="\' + classDayLabel + \'">\' + dayname + \'</span>\';\n    },\n\n    \'monthMoreClose-tmpl\': function() {\n        return \'\';\n    },\n\n    \'monthGridHeader-tmpl\': function(model) {\n        var date = parseInt(model.date.split(\'-\')[2], 10);\n        var classNames = [];\n\n        classNames.push(config.classname(\'weekday-grid-date\'));\n        if (model.isToday) {\n            classNames.push(config.classname(\'weekday-grid-date-decorator\'));\n        }\n\n        return \'<span class="\' + classNames.join(\' \') + \'">\' + date + \'</span>\';\n    },\n\n    \'monthGridHeaderExceed-tmpl\': function(hiddenSchedules) {\n        var className = config.classname(\'weekday-grid-more-schedules\');\n\n        return \'<span class="\' + className + \'">\' + hiddenSchedules + \' more</span>\';\n    },\n\n    \'monthGridFooter-tmpl\': function() {\n        return \'\';\n    },\n\n    /* eslint no-unused-vars: 0 */\n    \'monthGridFooterExceed-tmpl\': function(hiddenSchedules) {\n        return \'\';\n    },\n\n    \'monthDayname-tmpl\': function(model) {\n        return model.label;\n    },\n\n    \'weekDayname-tmpl\': function(model) {\n        var classDate = config.classname(\'dayname-date\');\n        var className = config.classname(\'dayname-name\');\n\n        return \'<span class="\' + classDate + \'">\' + model.date + \'</span>&nbsp;&nbsp;<span class="\' + className + \'">\' + model.dayName + \'</span>\';\n    },\n\n    \'weekGridFooterExceed-tmpl\': function(hiddenSchedules) {\n        return \'+\' + hiddenSchedules;\n    },\n\n    \'dayGridTitle-tmpl\': function(viewName) {\n        var tmpl = Handlebars.helpers[viewName + \'Title-tmpl\'];\n        if (tmpl) {\n            return tmpl(viewName);\n        }\n\n        return viewName;\n    },\n\n    \'schedule-tmpl\': function(model) {\n        var tmpl = Handlebars.helpers[model.category + \'-tmpl\'];\n        if (tmpl) {\n            return tmpl(model);\n        }\n\n        return \'\';\n    },\n\n    \'collapseBtnTitle-tmpl\': function() {\n        var iconName = config.classname(\'icon\');\n        var closeIconName = config.classname(\'ic-arrow-solid-top\');\n\n        return \'<span class="\' + iconName + \' \' + closeIconName + \'"></span>\';\n    },\n\n    \'timezoneDisplayLabel-tmpl\': function(timezoneOffset, displayLabel) {\n        var gmt, hour, minutes;\n\n        if (util.isUndefined(displayLabel)) {\n            gmt = timezoneOffset < 0 ? \'-\' : \'+\';\n            hour = Math.abs(parseInt(timezoneOffset / SIXTY_MINUTES, 10));\n            minutes = Math.abs(timezoneOffset % SIXTY_MINUTES);\n            displayLabel = gmt + datetime.leadingZero(hour, 2) + \':\' + datetime.leadingZero(minutes, 2);\n        }\n\n        return displayLabel;\n    },\n\n    \'timegridDisplayPrimayTime-tmpl\': function(time) {\n        /* TODO: 삭제 필요 (will be deprecated) */\n        return Handlebars.helpers[\'timegridDisplayPrimaryTime-tmpl\'](time);\n    },\n\n    \'timegridDisplayPrimaryTime-tmpl\': function(time) {\n        var hour = time.hour;\n        var meridiem = hour >= 12 ? \'pm\' : \'am\';\n\n        if (hour > 12) {\n            hour = hour - 12;\n        }\n\n        return hour + \' \' + meridiem;\n    },\n\n    \'timegridDisplayTime-tmpl\': function(time) {\n        return datetime.leadingZero(time.hour, 2) + \':\' + datetime.leadingZero(time.minutes, 2);\n    },\n\n    \'timegridCurrentTime-tmpl\': function(timezone) {\n        var templates = [];\n\n        if (timezone.dateDifference) {\n            templates.push(\'[\' + timezone.dateDifferenceSign + timezone.dateDifference + \']<br>\');\n        }\n\n        templates.push(datetime.format(timezone.hourmarker, \'HH:mm\'));\n\n        return templates.join(\'\');\n    },\n\n    \'popupIsAllDay-tmpl\': function() {\n        return \'All day\';\n    },\n\n    \'popupStateFree-tmpl\': function() {\n        return \'Free\';\n    },\n\n    \'popupStateBusy-tmpl\': function() {\n        return \'Busy\';\n    },\n\n    \'titlePlaceholder-tmpl\': function() {\n        return \'Subject\';\n    },\n\n    \'locationPlaceholder-tmpl\': function() {\n        return \'Location\';\n    },\n\n    \'startDatePlaceholder-tmpl\': function() {\n        return \'Start date\';\n    },\n\n    \'endDatePlaceholder-tmpl\': function() {\n        return \'End date\';\n    },\n    \'popupSave-tmpl\': function() {\n        return \'Save\';\n    },\n    \'popupUpdate-tmpl\': function() {\n        return \'Update\';\n    },\n    \'popupDetailDate-tmpl\': function(isAllDay, start, end) {\n        var isSameDate = datetime.isSameDate(start, end);\n        var endFormat = (isSameDate ? \'\' : \'YYYY.MM.DD \') + \'hh:mm tt\';\n\n        if (isAllDay) {\n            return datetime.format(start, \'YYYY.MM.DD\') + (isSameDate ? \'\' : \' - \' + datetime.format(end, \'YYYY.MM.DD\'));\n        }\n\n        return (datetime.format(start, \'YYYY.MM.DD hh:mm tt\') + \' - \' + datetime.format(end, endFormat));\n    },\n    \'popupDetailLocation-tmpl\': function(schedule) {\n        return schedule.location;\n    },\n    \'popupDetailUser-tmpl\': function(schedule) {\n        return (schedule.attendees || []).join(\', \');\n    },\n    \'popupDetailState-tmpl\': function(schedule) {\n        return schedule.state || \'Busy\';\n    },\n    \'popupDetailRepeat-tmpl\': function(schedule) {\n        return schedule.recurrenceRule;\n    },\n    \'popupDetailBody-tmpl\': function(schedule) {\n        return schedule.body;\n    },\n    \'popupEdit-tmpl\': function() {\n        return \'Edit\';\n    },\n    \'popupDelete-tmpl\': function() {\n        return \'Delete\';\n    }\n};\n\n/**\n * Get CSS syntax for element size\n * @param {number} value - size value to apply element\n * @param {string} postfix - postfix string ex) px, em, %\n * @param {string} prefix - property name ex) width, height\n * @returns {string} CSS syntax\n */\nfunction getElSize(value, postfix, prefix) {\n    prefix = prefix || \'\';\n    if (util.isNumber(value)) {\n        return prefix + \':\' + value + postfix;\n    }\n\n    return prefix + \':auto\';\n}\n\n/**\n * Get element left based on narrowWeekend\n * @param {object} viewModel - view model\n * @param {Array} grids - dates information\n * @returns {number} element left\n */\nfunction getElLeft(viewModel, grids) {\n    return grids[viewModel.left] ? grids[viewModel.left].left : 0;\n}\n\n/**\n * Get element width based on narrowWeekend\n * @param {object} viewModel - view model\n * @param {Array} grids - dates information\n * @returns {number} element width\n */\nfunction getElWidth(viewModel, grids) {\n    var width = 0;\n    var i = 0;\n    var length = grids.length;\n    var left;\n    for (; i < viewModel.width; i += 1) {\n        left = (viewModel.left + i) % length;\n        left += parseInt((viewModel.left + i) / length, 10);\n        if (left < length) {\n            width += grids[left] ? grids[left].width : 0;\n        }\n    }\n\n    return width;\n}\n\nHandlebars.registerHelper(helpers);\n\n\n/***/ }),\n\n/***/ "./src/js/view/template/month/month.hbs":\n/*!**********************************************!*\\\n  !*** ./src/js/view/template/month/month.hbs ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_764127__) {\n\nvar Handlebars = __nested_webpack_require_764127__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":30}}}) : helper)))\n    + "month-dayname-item\\"\\n         style=\\"position: absolute;\\n                width: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"width") || (depth0 != null ? lookupProperty(depth0,"width") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"width","hash":{},"data":data,"loc":{"start":{"line":6,"column":23},"end":{"line":6,"column":32}}}) : helper)))\n    + "%;\\n                left: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"left") || (depth0 != null ? lookupProperty(depth0,"left") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"left","hash":{},"data":data,"loc":{"start":{"line":7,"column":22},"end":{"line":7,"column":30}}}) : helper)))\n    + "%;\\n                padding-left: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"paddingLeft")), depth0))\n    + ";\\n                padding-right: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"paddingRight")), depth0))\n    + ";\\n                line-height: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"height")), depth0))\n    + ";\\n"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(data && lookupProperty(data,"last")),{"name":"unless","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":11,"column":16},"end":{"line":13,"column":27}}})) != null ? stack1 : "")\n    + "                \\">\\n        <span class=\\""\n    + alias4((lookupProperty(helpers,"holiday")||(depth0 && lookupProperty(depth0,"holiday"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"day") : depth0),{"name":"holiday","hash":{},"data":data,"loc":{"start":{"line":15,"column":21},"end":{"line":15,"column":36}}}))\n    + "\\" style=\\"color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"color") || (depth0 != null ? lookupProperty(depth0,"color") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"color","hash":{},"data":data,"loc":{"start":{"line":15,"column":52},"end":{"line":15,"column":61}}}) : helper)))\n    + ";\\">\\n            "\n    + ((stack1 = (lookupProperty(helpers,"monthDayname-tmpl")||(depth0 && lookupProperty(depth0,"monthDayname-tmpl"))||alias2).call(alias1,depth0,{"name":"monthDayname-tmpl","hash":{},"data":data,"loc":{"start":{"line":16,"column":12},"end":{"line":16,"column":40}}})) != null ? stack1 : "")\n    + "\\n        </span>\\n    </div>\\n";\n},"2":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                border-right: "\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderLeft")), depth0))\n    + ";\\n";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.escapeExpression, alias3=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "month-dayname\\"\\n    style=\\"border-top: "\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"borderTop") : stack1), depth0))\n    + "; height: "\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"height") : stack1), depth0))\n    + "; font-size: "\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"fontSize") : stack1), depth0))\n    + "; background-color: "\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"backgroundColor") : stack1), depth0))\n    + "; text-align: "\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"textAlign") : stack1), depth0))\n    + "; font-weight: "\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"fontWeight") : stack1), depth0))\n    + ";\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"daynames") : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":3,"column":0},"end":{"line":19,"column":9}}})) != null ? stack1 : "")\n    + "</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/month/more.hbs":\n/*!*********************************************!*\\\n  !*** ./src/js/view/template/month/more.hbs ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_771125__) {\n\nvar Handlebars = __nested_webpack_require_771125__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = (lookupProperty(helpers,"fi")||(depth0 && lookupProperty(depth0,"fi"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isAllDay") : stack1),"||",(depth0 != null ? lookupProperty(depth0,"hasMultiDates") : depth0),{"name":"fi","hash":{},"fn":container.program(2, data, 0),"inverse":container.program(7, data, 0),"data":data,"loc":{"start":{"line":9,"column":8},"end":{"line":65,"column":15}}})) != null ? stack1 : "");\n},"2":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, alias5="function", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div data-id=\\""\n    + alias3((lookupProperty(helpers,"stamp")||(depth0 && lookupProperty(depth0,"stamp"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"stamp","hash":{},"data":data,"loc":{"start":{"line":10,"column":26},"end":{"line":10,"column":41}}}))\n    + "\\"\\n                data-schedule-id=\\""\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"id") : stack1), depth0))\n    + "\\" data-calendar-id=\\""\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"calendarId") : stack1), depth0))\n    + "\\"\\n                class=\\""\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":23},"end":{"line":12,"column":37}}}) : helper)))\n    + "month-more-schedule "\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":57},"end":{"line":12,"column":71}}}) : helper)))\n    + "month-more-allday "\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":89},"end":{"line":12,"column":103}}}) : helper)))\n    + "weekday-schedule-title\\"\\n                style=\\"height: "\n    + alias3(alias4(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; line-height: "\n    + alias3(alias4(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; margin-top: "\n    + alias3(alias4(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleGutter")), depth0))\n    + "px; border-radius: "\n    + alias3(alias4(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"borderRadius")), depth0))\n    + ";\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(3, data, 0),"inverse":container.program(5, data, 0),"data":data,"loc":{"start":{"line":14,"column":20},"end":{"line":18,"column":27}}})) != null ? stack1 : "")\n    + "                    "\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"customStyle") : stack1), depth0))\n    + "\\">\\n                    "\n    + ((stack1 = (lookupProperty(helpers,"allday-tmpl")||(depth0 && lookupProperty(depth0,"allday-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"allday-tmpl","hash":{},"data":data,"loc":{"start":{"line":20,"column":20},"end":{"line":20,"column":43}}})) != null ? stack1 : "")\n    + "\\n            </div>\\n";\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                        color: #ffffff; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; border-left:3px solid "\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\n";\n},"5":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                        color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"bgColor") : stack1), depth0))\n    + "; border-left:3px solid "\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\n";\n},"7":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = (lookupProperty(helpers,"fi")||(depth0 && lookupProperty(depth0,"fi"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"category") : stack1),"===","time",{"name":"fi","hash":{},"fn":container.program(8, data, 0),"inverse":container.program(17, data, 0),"data":data,"loc":{"start":{"line":23,"column":12},"end":{"line":64,"column":19}}})) != null ? stack1 : "");\n},"8":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, alias5="function", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                <div data-id=\\""\n    + alias3((lookupProperty(helpers,"stamp")||(depth0 && lookupProperty(depth0,"stamp"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"stamp","hash":{},"data":data,"loc":{"start":{"line":24,"column":30},"end":{"line":24,"column":45}}}))\n    + "\\"\\n                    data-schedule-id=\\""\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"id") : stack1), depth0))\n    + "\\" data-calendar-id=\\""\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"calendarId") : stack1), depth0))\n    + "\\"\\n                    class=\\""\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":26,"column":27},"end":{"line":26,"column":41}}}) : helper)))\n    + "month-more-schedule "\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":26,"column":61},"end":{"line":26,"column":75}}}) : helper)))\n    + "weekday-schedule "\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":26,"column":92},"end":{"line":26,"column":106}}}) : helper)))\n    + "weekday-schedule-time\\"\\n                    style=\\"height: "\n    + alias3(alias4(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; line-height: "\n    + alias3(alias4(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; margin-top: "\n    + alias3(alias4(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleGutter")), depth0))\n    + "px;"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"customStyle") : stack1), depth0))\n    + "\\">\\n                    <span class=\\""\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":28,"column":33},"end":{"line":28,"column":47}}}) : helper)))\n    + "weekday-schedule-bullet\\"\\n                        style=\\"top: "\n    + alias3(alias4(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleBulletTop")), depth0))\n    + "px;\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(9, data, 0),"inverse":container.program(11, data, 0),"data":data,"loc":{"start":{"line":30,"column":28},"end":{"line":34,"column":35}}})) != null ? stack1 : "")\n    + "\\"></span>\\n                    <span class=\\""\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":35,"column":33},"end":{"line":35,"column":47}}}) : helper)))\n    + "weekday-schedule-title\\"\\n                        style=\\""\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(13, data, 0),"inverse":container.program(15, data, 0),"data":data,"loc":{"start":{"line":36,"column":31},"end":{"line":41,"column":35}}})) != null ? stack1 : "")\n    + "\\"\\n                        data-title=\\""\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"title") : stack1), depth0))\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"time-tmpl")||(depth0 && lookupProperty(depth0,"time-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"time-tmpl","hash":{},"data":data,"loc":{"start":{"line":42,"column":53},"end":{"line":42,"column":74}}})) != null ? stack1 : "")\n    + "</span>\\n                </div>\\n";\n},"9":function(container,depth0,helpers,partials,data) {\n    return "                                background: #ffffff\\n";\n},"11":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                                background:"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + "\\n                            ";\n},"13":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "\\n                                color: #ffffff;\\n                                background-color: "\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "\\n";\n},"15":function(container,depth0,helpers,partials,data) {\n    return "                                color:#333;\\n                            ";\n},"17":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, alias5="function", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div data-id=\\""\n    + alias3((lookupProperty(helpers,"stamp")||(depth0 && lookupProperty(depth0,"stamp"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"stamp","hash":{},"data":data,"loc":{"start":{"line":45,"column":30},"end":{"line":45,"column":45}}}))\n    + "\\"\\n                    data-schedule-id=\\""\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"id") : stack1), depth0))\n    + "\\" data-calendar-id=\\""\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"calendarId") : stack1), depth0))\n    + "\\"\\n                    class=\\""\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":47,"column":27},"end":{"line":47,"column":41}}}) : helper)))\n    + "month-more-schedule "\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":47,"column":61},"end":{"line":47,"column":75}}}) : helper)))\n    + "weekday-schedule "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(18, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":47,"column":92},"end":{"line":47,"column":161}}})) != null ? stack1 : "")\n    + "\\"\\n                    style=\\"height:"\n    + alias3(alias4(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; line-height:"\n    + alias3(alias4(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; border-radius: "\n    + alias3(alias4(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderRadius")), depth0))\n    + ";\\n"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(depth0 != null ? lookupProperty(depth0,"exceedLeft") : depth0),{"name":"unless","hash":{},"fn":container.program(20, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":49,"column":20},"end":{"line":51,"column":31}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(depth0 != null ? lookupProperty(depth0,"exceedRight") : depth0),{"name":"unless","hash":{},"fn":container.program(22, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":52,"column":20},"end":{"line":54,"column":31}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(24, data, 0),"inverse":container.program(26, data, 0),"data":data,"loc":{"start":{"line":55,"column":20},"end":{"line":59,"column":27}}})) != null ? stack1 : "")\n    + "                        "\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"customStyle") : stack1), depth0))\n    + "\\">\\n                    <span class=\\""\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":61,"column":33},"end":{"line":61,"column":47}}}) : helper)))\n    + "weekday-schedule-title\\"\\n                                    data-title=\\""\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"title") : stack1), depth0))\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"schedule-tmpl")||(depth0 && lookupProperty(depth0,"schedule-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"schedule-tmpl","hash":{},"data":data,"loc":{"start":{"line":62,"column":65},"end":{"line":62,"column":90}}})) != null ? stack1 : "")\n    + "</span>\\n                </div>\\n";\n},"18":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":47,"column":115},"end":{"line":47,"column":129}}}) : helper)))\n    + "weekday-schedule-focused ";\n},"20":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                        margin-left: "\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"marginLeft")), depth0))\n    + ";\\n";\n},"22":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                        margin-right: "\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"marginRight")), depth0))\n    + ";\\n";\n},"24":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                        color: #ffffff; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; border-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + ";\\n";\n},"26":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                        color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"bgColor") : stack1), depth0))\n    + "; border-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\n";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "month-more\\" style=\\"padding-bottom: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"paddingBottom") : stack1), depth0))\n    + "; border: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"border") : stack1), depth0))\n    + "; box-shadow: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"boxShadow") : stack1), depth0))\n    + "; background-color: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"backgroundColor") : stack1), depth0))\n    + ";\\">\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":30}}}) : helper)))\n    + "month-more-title\\"\\n        style=\\"height: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"titleHeight") : stack1), depth0))\n    + "; margin-bottom: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"titleMarginBottom") : stack1), depth0))\n    + "; background-color: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"titleBackgroundColor") : stack1), depth0))\n    + "; border-bottom: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"titleBorderBottom") : stack1), depth0))\n    + "; padding: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"titlePadding") : stack1), depth0))\n    + ";\\">\\n        <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":4,"column":21},"end":{"line":4,"column":35}}}) : helper)))\n    + "month-more-title-date\\">"\n    + ((stack1 = (lookupProperty(helpers,"monthMoreTitleDate-tmpl")||(depth0 && lookupProperty(depth0,"monthMoreTitleDate-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"date") : depth0),(depth0 != null ? lookupProperty(depth0,"dayname") : depth0),{"name":"monthMoreTitleDate-tmpl","hash":{},"data":data,"loc":{"start":{"line":4,"column":58},"end":{"line":4,"column":100}}})) != null ? stack1 : "")\n    + "</span>\\n        <button type=\\"button\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":5,"column":37},"end":{"line":5,"column":51}}}) : helper)))\n    + "month-more-close\\">"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,"monthMoreClose-tmpl") || (depth0 != null ? lookupProperty(depth0,"monthMoreClose-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"monthMoreClose-tmpl","hash":{},"data":data,"loc":{"start":{"line":5,"column":69},"end":{"line":5,"column":94}}}) : helper))) != null ? stack1 : "")\n    + "</button>\\n    </div>\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":30}}}) : helper)))\n    + "month-more-list\\" style=\\"padding: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"listPadding") : stack1), depth0))\n    + "; height: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"listHeight") : stack1), depth0))\n    + ";\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"schedules") : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":8,"column":8},"end":{"line":66,"column":17}}})) != null ? stack1 : "")\n    + "    </div>\\n</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/month/weekdayInMonth.hbs":\n/*!*******************************************************!*\\\n  !*** ./src/js/view/template/month/weekdayInMonth.hbs ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_800460__) {\n\nvar Handlebars = __nested_webpack_require_800460__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":30}}}) : helper)))\n    + "weekday-grid-line "\n    + alias4((lookupProperty(helpers,"holiday")||(depth0 && lookupProperty(depth0,"holiday"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"day") : depth0),{"name":"holiday","hash":{},"data":data,"loc":{"start":{"line":7,"column":48},"end":{"line":7,"column":63}}}))\n    + ((stack1 = (lookupProperty(helpers,"fi")||(depth0 && lookupProperty(depth0,"fi"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"date") : depth0),"!==",1,{"name":"fi","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":7,"column":63},"end":{"line":7,"column":119}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"isToday") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":7,"column":119},"end":{"line":7,"column":161}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"isOtherMonth") : depth0),{"name":"if","hash":{},"fn":container.program(6, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":7,"column":161},"end":{"line":7,"column":213}}})) != null ? stack1 : "")\n    + "\\"\\n        style=\\"width:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"width") || (depth0 != null ? lookupProperty(depth0,"width") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"width","hash":{},"data":data,"loc":{"start":{"line":8,"column":21},"end":{"line":8,"column":30}}}) : helper)))\n    + "%; left:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"left") || (depth0 != null ? lookupProperty(depth0,"left") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"left","hash":{},"data":data,"loc":{"start":{"line":8,"column":38},"end":{"line":8,"column":46}}}) : helper)))\n    + "%; background-color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"backgroundColor") || (depth0 != null ? lookupProperty(depth0,"backgroundColor") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"backgroundColor","hash":{},"data":data,"loc":{"start":{"line":8,"column":67},"end":{"line":8,"column":86}}}) : helper)))\n    + "; font-size: "\n    + alias4(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"fontSize")), depth0))\n    + ";\\n"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(data && lookupProperty(data,"last")),{"name":"unless","hash":{},"fn":container.program(8, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":9,"column":8},"end":{"line":11,"column":19}}})) != null ? stack1 : "")\n    + "        \\">\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":13,"column":20},"end":{"line":13,"column":34}}}) : helper)))\n    + "weekday-grid-header\\">\\n            <span style=\\"color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"color") || (depth0 != null ? lookupProperty(depth0,"color") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"color","hash":{},"data":data,"loc":{"start":{"line":14,"column":32},"end":{"line":14,"column":41}}}) : helper)))\n    + ";\\">"\n    + ((stack1 = (lookupProperty(helpers,"monthGridHeader-tmpl")||(depth0 && lookupProperty(depth0,"monthGridHeader-tmpl"))||alias2).call(alias1,depth0,{"name":"monthGridHeader-tmpl","hash":{},"data":data,"loc":{"start":{"line":14,"column":44},"end":{"line":14,"column":75}}})) != null ? stack1 : "")\n    + "</span>\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hiddenSchedules") : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":15,"column":12},"end":{"line":17,"column":19}}})) != null ? stack1 : "")\n    + "        </div>\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":19,"column":20},"end":{"line":19,"column":34}}}) : helper)))\n    + "weekday-grid-footer\\">\\n            <span style=\\"color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"color") || (depth0 != null ? lookupProperty(depth0,"color") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"color","hash":{},"data":data,"loc":{"start":{"line":20,"column":32},"end":{"line":20,"column":41}}}) : helper)))\n    + ";\\">"\n    + ((stack1 = (lookupProperty(helpers,"monthGridFooter-tmpl")||(depth0 && lookupProperty(depth0,"monthGridFooter-tmpl"))||alias2).call(alias1,depth0,{"name":"monthGridFooter-tmpl","hash":{},"data":data,"loc":{"start":{"line":20,"column":44},"end":{"line":20,"column":75}}})) != null ? stack1 : "")\n    + "</span>\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hiddenSchedules") : depth0),{"name":"if","hash":{},"fn":container.program(12, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":21,"column":12},"end":{"line":23,"column":19}}})) != null ? stack1 : "")\n    + "        </div>\\n    </div>\\n";\n},"2":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return " "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":84},"end":{"line":7,"column":98}}}) : helper)))\n    + "near-month-day";\n},"4":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return " "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":135},"end":{"line":7,"column":149}}}) : helper)))\n    + "today";\n},"6":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return " "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":182},"end":{"line":7,"column":196}}}) : helper)))\n    + "extra-date";\n},"8":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "        border-right:"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderLeft")), depth0))\n    + ";\\n";\n},"10":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":16,"column":29},"end":{"line":16,"column":43}}}) : helper)))\n    + "weekday-exceed-in-month\\" data-ymd=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"ymd") || (depth0 != null ? lookupProperty(depth0,"ymd") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"ymd","hash":{},"data":data,"loc":{"start":{"line":16,"column":78},"end":{"line":16,"column":85}}}) : helper)))\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"monthGridHeaderExceed-tmpl")||(depth0 && lookupProperty(depth0,"monthGridHeaderExceed-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"hiddenSchedules") : depth0),{"name":"monthGridHeaderExceed-tmpl","hash":{},"data":data,"loc":{"start":{"line":16,"column":87},"end":{"line":16,"column":135}}})) != null ? stack1 : "")\n    + "</span>\\n";\n},"12":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":22,"column":29},"end":{"line":22,"column":43}}}) : helper)))\n    + "weekday-exceed-in-month\\" data-ymd=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"ymd") || (depth0 != null ? lookupProperty(depth0,"ymd") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"ymd","hash":{},"data":data,"loc":{"start":{"line":22,"column":78},"end":{"line":22,"column":85}}}) : helper)))\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"monthGridFooterExceed-tmpl")||(depth0 && lookupProperty(depth0,"monthGridFooterExceed-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"hiddenSchedules") : depth0),{"name":"monthGridFooterExceed-tmpl","hash":{},"data":data,"loc":{"start":{"line":22,"column":87},"end":{"line":22,"column":135}}})) != null ? stack1 : "")\n    + "</span>\\n";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "weekday-border\\"\\n    style=\\"\\n    border-top: "\n    + alias4(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"borderTop") : stack1), depth0))\n    + ";\\n\\"></div>\\n<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":26}}}) : helper)))\n    + "weekday-grid\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"dates") : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":6,"column":0},"end":{"line":26,"column":11}}})) != null ? stack1 : "")\n    + "</div>\\n<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":28,"column":12},"end":{"line":28,"column":26}}}) : helper)))\n    + "weekday-schedules\\"></div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/month/weekdayInMonthSchedule.hbs":\n/*!***************************************************************!*\\\n  !*** ./src/js/view/template/month/weekdayInMonthSchedule.hbs ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_815987__) {\n\nvar Handlebars = __nested_webpack_require_815987__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"each").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"each","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":2,"column":0},"end":{"line":80,"column":11}}})) != null ? stack1 : "");\n},"2":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"each","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":3,"column":0},"end":{"line":79,"column":11}}})) != null ? stack1 : "");\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":4,"column":0},"end":{"line":78,"column":9}}})) != null ? stack1 : "");\n},"4":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "\\n"\n    + ((stack1 = (lookupProperty(helpers,"fi")||(depth0 && lookupProperty(depth0,"fi"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"top") : depth0),"<",((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"renderLimitIdx")),{"name":"fi","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":5,"column":4},"end":{"line":77,"column":13}}})) != null ? stack1 : "");\n},"5":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4="function", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div data-id=\\""\n    + alias3((lookupProperty(helpers,"stamp")||(depth0 && lookupProperty(depth0,"stamp"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"stamp","hash":{},"data":data,"loc":{"start":{"line":6,"column":18},"end":{"line":6,"column":33}}}))\n    + "\\"\\n         class=\\""\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":30}}}) : helper)))\n    + "weekday-schedule-block\\n                "\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":30}}}) : helper)))\n    + "weekday-schedule-block-"\n    + alias3((lookupProperty(helpers,"stamp")||(depth0 && lookupProperty(depth0,"stamp"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"stamp","hash":{},"data":data,"loc":{"start":{"line":8,"column":53},"end":{"line":8,"column":68}}}))\n    + "\\n            "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"exceedLeft") : depth0),{"name":"if","hash":{},"fn":container.program(6, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":9,"column":12},"end":{"line":9,"column":71}}})) != null ? stack1 : "")\n    + "\\n            "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"exceedRight") : depth0),{"name":"if","hash":{},"fn":container.program(8, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":10,"column":12},"end":{"line":10,"column":73}}})) != null ? stack1 : "")\n    + "\\"\\n         style=\\""\n    + alias3((lookupProperty(helpers,"month-scheduleBlock")||(depth0 && lookupProperty(depth0,"month-scheduleBlock"))||alias2).call(alias1,depth0,((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"dates")),((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleBlockHeight")),((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"gridHeaderHeight")),{"name":"month-scheduleBlock","hash":{},"data":data,"loc":{"start":{"line":11,"column":16},"end":{"line":11,"column":105}}}))\n    + ";\\n                margin-top:"\n    + alias3(container.lambda(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleBlockGutter")), depth0))\n    + "px\\">\\n"\n    + ((stack1 = (lookupProperty(helpers,"fi")||(depth0 && lookupProperty(depth0,"fi"))||alias2).call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isAllDay") : stack1),"||",(depth0 != null ? lookupProperty(depth0,"hasMultiDates") : depth0),{"name":"fi","hash":{},"fn":container.program(10, data, 0),"inverse":container.program(23, data, 0),"data":data,"loc":{"start":{"line":13,"column":8},"end":{"line":75,"column":15}}})) != null ? stack1 : "")\n    + "    </div>\\n";\n},"6":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return " "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":45}}}) : helper)))\n    + "weekday-exceed-left";\n},"8":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return " "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":10,"column":32},"end":{"line":10,"column":46}}}) : helper)))\n    + "weekday-exceed-right";\n},"10":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5="function", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "        <div data-schedule-id=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"id") : stack1), depth0))\n    + "\\" data-calendar-id=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"calendarId") : stack1), depth0))\n    + "\\" class=\\""\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":14,"column":92},"end":{"line":14,"column":106}}}) : helper)))\n    + "weekday-schedule "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(11, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":14,"column":123},"end":{"line":14,"column":192}}})) != null ? stack1 : "")\n    + "\\"\\n             style=\\"height:"\n    + alias2(alias1(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; line-height:"\n    + alias2(alias1(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; border-radius: "\n    + alias2(alias1(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderRadius")), depth0))\n    + ";\\n"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias3,(depth0 != null ? lookupProperty(depth0,"exceedLeft") : depth0),{"name":"unless","hash":{},"fn":container.program(13, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":16,"column":16},"end":{"line":18,"column":27}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias3,(depth0 != null ? lookupProperty(depth0,"exceedRight") : depth0),{"name":"unless","hash":{},"fn":container.program(15, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":19,"column":16},"end":{"line":21,"column":27}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"if").call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(17, data, 0),"inverse":container.program(19, data, 0),"data":data,"loc":{"start":{"line":22,"column":16},"end":{"line":26,"column":23}}})) != null ? stack1 : "")\n    + "                    "\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"customStyle") : stack1), depth0))\n    + "\\">\\n            <span class=\\""\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":28,"column":25},"end":{"line":28,"column":39}}}) : helper)))\n    + "weekday-schedule-title\\"\\n                  data-title=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"title") : stack1), depth0))\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"allday-tmpl")||(depth0 && lookupProperty(depth0,"allday-tmpl"))||alias4).call(alias3,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"allday-tmpl","hash":{},"data":data,"loc":{"start":{"line":29,"column":47},"end":{"line":29,"column":70}}})) != null ? stack1 : "")\n    + "</span>\\n            "\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias3,(lookupProperty(helpers,"or")||(depth0 && lookupProperty(depth0,"or"))||alias4).call(alias3,((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"isReadOnly")),((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isReadOnly") : stack1),{"name":"or","hash":{},"data":data,"loc":{"start":{"line":30,"column":22},"end":{"line":30,"column":60}}}),{"name":"unless","hash":{},"fn":container.program(21, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":194}}})) != null ? stack1 : "")\n    + "\\n        </div>\\n";\n},"11":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":14,"column":146},"end":{"line":14,"column":160}}}) : helper)))\n    + "weekday-schedule-focused ";\n},"13":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    margin-left: "\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"marginLeft")), depth0))\n    + ";\\n";\n},"15":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    margin-right: "\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"marginRight")), depth0))\n    + ";\\n";\n},"17":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    color: #ffffff; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; border-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + ";\\n";\n},"19":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"bgColor") : stack1), depth0))\n    + "; border-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\n";\n},"21":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<span class=\\""\n    + alias1(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":30,"column":75},"end":{"line":30,"column":89}}}) : helper)))\n    + "weekday-resize-handle handle-y\\" style=\\"line-height: "\n    + alias1(container.lambda(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px;\\">&nbsp;</span>";\n},"23":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = (lookupProperty(helpers,"fi")||(depth0 && lookupProperty(depth0,"fi"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"category") : stack1),"===","time",{"name":"fi","hash":{},"fn":container.program(24, data, 0),"inverse":container.program(33, data, 0),"data":data,"loc":{"start":{"line":33,"column":12},"end":{"line":74,"column":19}}})) != null ? stack1 : "");\n},"24":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5="function", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                <div data-schedule-id=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"id") : stack1), depth0))\n    + "\\" data-calendar-id=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"calendarId") : stack1), depth0))\n    + "\\" class=\\""\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":34,"column":100},"end":{"line":34,"column":114}}}) : helper)))\n    + "weekday-schedule "\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":34,"column":131},"end":{"line":34,"column":145}}}) : helper)))\n    + "weekday-schedule-time\\"\\n                    style=\\"height:"\n    + alias2(alias1(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; line-height:"\n    + alias2(alias1(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; "\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"customStyle") : stack1), depth0))\n    + "\\">\\n                    <span class=\\""\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":36,"column":33},"end":{"line":36,"column":47}}}) : helper)))\n    + "weekday-schedule-bullet\\"\\n                        style=\\"top: "\n    + alias2(alias1(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"scheduleBulletTop")), depth0))\n    + "px;\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(25, data, 0),"inverse":container.program(27, data, 0),"data":data,"loc":{"start":{"line":38,"column":28},"end":{"line":42,"column":35}}})) != null ? stack1 : "")\n    + "                            \\"\\n                    ></span>\\n                    <span class=\\""\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":45,"column":33},"end":{"line":45,"column":47}}}) : helper)))\n    + "weekday-schedule-title\\"\\n                        style=\\"\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(29, data, 0),"inverse":container.program(31, data, 0),"data":data,"loc":{"start":{"line":47,"column":28},"end":{"line":52,"column":35}}})) != null ? stack1 : "")\n    + "                            \\"\\n                        data-title=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"title") : stack1), depth0))\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"time-tmpl")||(depth0 && lookupProperty(depth0,"time-tmpl"))||alias4).call(alias3,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"time-tmpl","hash":{},"data":data,"loc":{"start":{"line":54,"column":53},"end":{"line":54,"column":74}}})) != null ? stack1 : "")\n    + "</span>\\n                </div>\\n";\n},"25":function(container,depth0,helpers,partials,data) {\n    return "                                background: #ffffff\\n";\n},"27":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                                background:"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + "\\n";\n},"29":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                                color: #ffffff;\\n                                background-color: "\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "\\n";\n},"31":function(container,depth0,helpers,partials,data) {\n    return "                                color:#333;\\n";\n},"33":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5="function", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div data-schedule-id=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"id") : stack1), depth0))\n    + "\\" data-calendar-id=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"calendarId") : stack1), depth0))\n    + "\\" class=\\""\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":57,"column":100},"end":{"line":57,"column":114}}}) : helper)))\n    + "weekday-schedule "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(11, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":57,"column":131},"end":{"line":57,"column":200}}})) != null ? stack1 : "")\n    + "\\"\\n                    style=\\"height:"\n    + alias2(alias1(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; line-height:"\n    + alias2(alias1(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; border-radius: "\n    + alias2(alias1(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderRadius")), depth0))\n    + ";\\n"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias3,(depth0 != null ? lookupProperty(depth0,"exceedLeft") : depth0),{"name":"unless","hash":{},"fn":container.program(34, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":59,"column":20},"end":{"line":61,"column":31}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias3,(depth0 != null ? lookupProperty(depth0,"exceedRight") : depth0),{"name":"unless","hash":{},"fn":container.program(36, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":62,"column":20},"end":{"line":64,"column":31}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"if").call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(38, data, 0),"inverse":container.program(40, data, 0),"data":data,"loc":{"start":{"line":65,"column":20},"end":{"line":69,"column":27}}})) != null ? stack1 : "")\n    + "                        "\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"customStyle") : stack1), depth0))\n    + "\\">\\n                    <span class=\\""\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":71,"column":33},"end":{"line":71,"column":47}}}) : helper)))\n    + "weekday-schedule-title\\"\\n                                    data-title=\\""\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"title") : stack1), depth0))\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"schedule-tmpl")||(depth0 && lookupProperty(depth0,"schedule-tmpl"))||alias4).call(alias3,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"schedule-tmpl","hash":{},"data":data,"loc":{"start":{"line":72,"column":65},"end":{"line":72,"column":90}}})) != null ? stack1 : "")\n    + "</span>\\n                </div>\\n";\n},"34":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                        margin-left: "\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"marginLeft")), depth0))\n    + ";\\n";\n},"36":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                        margin-right: "\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"marginRight")), depth0))\n    + ";\\n";\n},"38":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                        color: #ffffff; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; border-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + ";\\n";\n},"40":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                        color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"bgColor") : stack1), depth0))\n    + "; border-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\n";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"each").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"matrices") : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":81,"column":11}}})) != null ? stack1 : "");\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/popup/scheduleCreationPopup.hbs":\n/*!**************************************************************!*\\\n  !*** ./src/js/view/template/popup/scheduleCreationPopup.hbs ***!\n  \\**************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_849277__) {\n\nvar Handlebars = __nested_webpack_require_849277__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return " "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":150},"end":{"line":3,"column":164}}}) : helper)))\n    + "hide";\n},"3":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    <li class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":11,"column":31},"end":{"line":11,"column":45}}}) : helper)))\n    + "popup-section-item "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":11,"column":64},"end":{"line":11,"column":78}}}) : helper)))\n    + "dropdown-menu-item\\" data-calendar-id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"id") || (depth0 != null ? lookupProperty(depth0,"id") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data,"loc":{"start":{"line":11,"column":116},"end":{"line":11,"column":122}}}) : helper)))\n    + "\\">\\n                        <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":51}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":56},"end":{"line":12,"column":70}}}) : helper)))\n    + "calendar-dot\\" style=\\"background-color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"bgColor") || (depth0 != null ? lookupProperty(depth0,"bgColor") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"bgColor","hash":{},"data":data,"loc":{"start":{"line":12,"column":109},"end":{"line":12,"column":120}}}) : helper)))\n    + "\\"></span>\\n                        <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":13,"column":37},"end":{"line":13,"column":51}}}) : helper)))\n    + "content\\">"\n    + alias4(((helper = (helper = lookupProperty(helpers,"name") || (depth0 != null ? lookupProperty(depth0,"name") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"name","hash":{},"data":data,"loc":{"start":{"line":13,"column":60},"end":{"line":13,"column":68}}}) : helper)))\n    + "</span>\\n                    </li>\\n";\n},"5":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return " "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":23,"column":135},"end":{"line":23,"column":149}}}) : helper)))\n    + "public";\n},"7":function(container,depth0,helpers,partials,data) {\n    return " checked";\n},"9":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,"state") || (depth0 != null ? lookupProperty(depth0,"state") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"state","hash":{},"data":data,"loc":{"start":{"line":54,"column":99},"end":{"line":54,"column":108}}}) : helper)));\n},"11":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = ((helper = (helper = lookupProperty(helpers,"popupStateBusy-tmpl") || (depth0 != null ? lookupProperty(depth0,"popupStateBusy-tmpl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"popupStateBusy-tmpl","hash":{},"data":data,"loc":{"start":{"line":54,"column":116},"end":{"line":54,"column":141}}}) : helper))) != null ? stack1 : "");\n},"13":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = ((helper = (helper = lookupProperty(helpers,"popupUpdate-tmpl") || (depth0 != null ? lookupProperty(depth0,"popupUpdate-tmpl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"popupUpdate-tmpl","hash":{},"data":data,"loc":{"start":{"line":69,"column":163},"end":{"line":69,"column":185}}}) : helper))) != null ? stack1 : "");\n},"15":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = ((helper = (helper = lookupProperty(helpers,"popupSave-tmpl") || (depth0 != null ? lookupProperty(depth0,"popupSave-tmpl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"popupSave-tmpl","hash":{},"data":data,"loc":{"start":{"line":69,"column":193},"end":{"line":69,"column":213}}}) : helper))) != null ? stack1 : "");\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "popup\\">\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":30}}}) : helper)))\n    + "popup-container\\">\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":20},"end":{"line":3,"column":34}}}) : helper)))\n    + "popup-section "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":48},"end":{"line":3,"column":62}}}) : helper)))\n    + "dropdown "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":71},"end":{"line":3,"column":85}}}) : helper)))\n    + "close "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":91},"end":{"line":3,"column":105}}}) : helper)))\n    + "section-calendar"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"calendars") : depth0)) != null ? lookupProperty(stack1,"length") : stack1),{"name":"unless","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":3,"column":121},"end":{"line":3,"column":179}}})) != null ? stack1 : "")\n    + "\\">\\n            <button class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":4,"column":27},"end":{"line":4,"column":41}}}) : helper)))\n    + "button "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":4,"column":48},"end":{"line":4,"column":62}}}) : helper)))\n    + "dropdown-button "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":4,"column":78},"end":{"line":4,"column":92}}}) : helper)))\n    + "popup-section-item\\">\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":5,"column":29},"end":{"line":5,"column":43}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":5,"column":48},"end":{"line":5,"column":62}}}) : helper)))\n    + "calendar-dot\\" style=\\"background-color: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"selectedCal") : depth0)) != null ? lookupProperty(stack1,"bgColor") : stack1), depth0))\n    + "\\"></span>\\n                <span id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":6,"column":26},"end":{"line":6,"column":40}}}) : helper)))\n    + "schedule-calendar\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":6,"column":66},"end":{"line":6,"column":80}}}) : helper)))\n    + "content\\">"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"selectedCal") : depth0)) != null ? lookupProperty(stack1,"name") : stack1), depth0))\n    + "</span>\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":29},"end":{"line":7,"column":43}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":48},"end":{"line":7,"column":62}}}) : helper)))\n    + "dropdown-arrow\\"></span>\\n            </button>\\n            <ul class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":37}}}) : helper)))\n    + "dropdown-menu\\" style=\\"z-index: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"zIndex") || (depth0 != null ? lookupProperty(depth0,"zIndex") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"zIndex","hash":{},"data":data,"loc":{"start":{"line":9,"column":68},"end":{"line":9,"column":78}}}) : helper)))\n    + "\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"calendars") : depth0),{"name":"each","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":10,"column":16},"end":{"line":15,"column":25}}})) != null ? stack1 : "")\n    + "            </ul>\\n        </div>\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":18,"column":20},"end":{"line":18,"column":34}}}) : helper)))\n    + "popup-section\\">\\n            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":19,"column":24},"end":{"line":19,"column":38}}}) : helper)))\n    + "popup-section-item "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":19,"column":57},"end":{"line":19,"column":71}}}) : helper)))\n    + "section-title\\">\\n            <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":20,"column":25},"end":{"line":20,"column":39}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":20,"column":44},"end":{"line":20,"column":58}}}) : helper)))\n    + "ic-title\\"></span>\\n                <input id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":21,"column":27},"end":{"line":21,"column":41}}}) : helper)))\n    + "schedule-title\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":21,"column":64},"end":{"line":21,"column":78}}}) : helper)))\n    + "content\\" placeholder=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"titlePlaceholder-tmpl") || (depth0 != null ? lookupProperty(depth0,"titlePlaceholder-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"titlePlaceholder-tmpl","hash":{},"data":data,"loc":{"start":{"line":21,"column":100},"end":{"line":21,"column":125}}}) : helper)))\n    + "\\" value=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"title") || (depth0 != null ? lookupProperty(depth0,"title") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"title","hash":{},"data":data,"loc":{"start":{"line":21,"column":134},"end":{"line":21,"column":143}}}) : helper)))\n    + "\\">\\n            </div>\\n            <button id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":38}}}) : helper)))\n    + "schedule-private\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":23,"column":63},"end":{"line":23,"column":77}}}) : helper)))\n    + "button "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":23,"column":84},"end":{"line":23,"column":98}}}) : helper)))\n    + "section-private"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(depth0 != null ? lookupProperty(depth0,"isPrivate") : depth0),{"name":"unless","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":23,"column":113},"end":{"line":23,"column":166}}})) != null ? stack1 : "")\n    + "\\">\\n            <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":24,"column":25},"end":{"line":24,"column":39}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":24,"column":44},"end":{"line":24,"column":58}}}) : helper)))\n    + "ic-private\\"></span>\\n            </button>\\n        </div>\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":34}}}) : helper)))\n    + "popup-section\\">\\n            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":38}}}) : helper)))\n    + "popup-section-item "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":28,"column":57},"end":{"line":28,"column":71}}}) : helper)))\n    + "section-location\\">\\n            <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":29,"column":25},"end":{"line":29,"column":39}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":29,"column":44},"end":{"line":29,"column":58}}}) : helper)))\n    + "ic-location\\"></span>\\n                <input id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":30,"column":27},"end":{"line":30,"column":41}}}) : helper)))\n    + "schedule-location\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":30,"column":67},"end":{"line":30,"column":81}}}) : helper)))\n    + "content\\" placeholder=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"locationPlaceholder-tmpl") || (depth0 != null ? lookupProperty(depth0,"locationPlaceholder-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"locationPlaceholder-tmpl","hash":{},"data":data,"loc":{"start":{"line":30,"column":103},"end":{"line":30,"column":131}}}) : helper)))\n    + "\\" value=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"location") || (depth0 != null ? lookupProperty(depth0,"location") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"location","hash":{},"data":data,"loc":{"start":{"line":30,"column":140},"end":{"line":30,"column":152}}}) : helper)))\n    + "\\">\\n            </div>\\n        </div>\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":33,"column":20},"end":{"line":33,"column":34}}}) : helper)))\n    + "popup-section\\">\\n            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":34,"column":24},"end":{"line":34,"column":38}}}) : helper)))\n    + "popup-section-item "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":34,"column":57},"end":{"line":34,"column":71}}}) : helper)))\n    + "section-start-date\\">\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":35,"column":29},"end":{"line":35,"column":43}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":35,"column":48},"end":{"line":35,"column":62}}}) : helper)))\n    + "ic-date\\"></span>\\n                <input id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":36,"column":27},"end":{"line":36,"column":41}}}) : helper)))\n    + "schedule-start-date\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":36,"column":69},"end":{"line":36,"column":83}}}) : helper)))\n    + "content\\" placeholder=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"startDatePlaceholder-tmpl") || (depth0 != null ? lookupProperty(depth0,"startDatePlaceholder-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"startDatePlaceholder-tmpl","hash":{},"data":data,"loc":{"start":{"line":36,"column":105},"end":{"line":36,"column":134}}}) : helper)))\n    + "\\">\\n                <div id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":37,"column":25},"end":{"line":37,"column":39}}}) : helper)))\n    + "startpicker-container\\" style=\\"margin-left: -1px; position: relative\\"></div>\\n            </div>\\n            <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":39,"column":25},"end":{"line":39,"column":39}}}) : helper)))\n    + "section-date-dash\\">-</span>\\n            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":40,"column":24},"end":{"line":40,"column":38}}}) : helper)))\n    + "popup-section-item "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":40,"column":57},"end":{"line":40,"column":71}}}) : helper)))\n    + "section-end-date\\">\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":41,"column":29},"end":{"line":41,"column":43}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":41,"column":48},"end":{"line":41,"column":62}}}) : helper)))\n    + "ic-date\\"></span>\\n                <input id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":42,"column":27},"end":{"line":42,"column":41}}}) : helper)))\n    + "schedule-end-date\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":42,"column":67},"end":{"line":42,"column":81}}}) : helper)))\n    + "content\\" placeholder=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"endDatePlaceholder-tmpl") || (depth0 != null ? lookupProperty(depth0,"endDatePlaceholder-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"endDatePlaceholder-tmpl","hash":{},"data":data,"loc":{"start":{"line":42,"column":103},"end":{"line":42,"column":130}}}) : helper)))\n    + "\\">\\n                <div id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":43,"column":25},"end":{"line":43,"column":39}}}) : helper)))\n    + "endpicker-container\\" style=\\"margin-left: -1px; position: relative\\"></div>\\n            </div>\\n            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":45,"column":24},"end":{"line":45,"column":38}}}) : helper)))\n    + "popup-section-item "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":45,"column":57},"end":{"line":45,"column":71}}}) : helper)))\n    + "section-allday\\">\\n                <input id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":46,"column":27},"end":{"line":46,"column":41}}}) : helper)))\n    + "schedule-allday\\" type=\\"checkbox\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":46,"column":81},"end":{"line":46,"column":95}}}) : helper)))\n    + "checkbox-square\\""\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"isAllDay") : depth0),{"name":"if","hash":{},"fn":container.program(7, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":46,"column":111},"end":{"line":46,"column":142}}})) != null ? stack1 : "")\n    + ">\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":47,"column":29},"end":{"line":47,"column":43}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":47,"column":48},"end":{"line":47,"column":62}}}) : helper)))\n    + "ic-checkbox\\"></span>\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":48,"column":29},"end":{"line":48,"column":43}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,"popupIsAllDay-tmpl") || (depth0 != null ? lookupProperty(depth0,"popupIsAllDay-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"popupIsAllDay-tmpl","hash":{},"data":data,"loc":{"start":{"line":48,"column":52},"end":{"line":48,"column":76}}}) : helper))) != null ? stack1 : "")\n    + "</span>\\n            </div>\\n        </div>\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":51,"column":20},"end":{"line":51,"column":34}}}) : helper)))\n    + "popup-section "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":51,"column":48},"end":{"line":51,"column":62}}}) : helper)))\n    + "dropdown "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":51,"column":71},"end":{"line":51,"column":85}}}) : helper)))\n    + "close "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":51,"column":91},"end":{"line":51,"column":105}}}) : helper)))\n    + "section-state\\">\\n            <button class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":52,"column":27},"end":{"line":52,"column":41}}}) : helper)))\n    + "button "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":52,"column":48},"end":{"line":52,"column":62}}}) : helper)))\n    + "dropdown-button "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":52,"column":78},"end":{"line":52,"column":92}}}) : helper)))\n    + "popup-section-item\\">\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":53,"column":29},"end":{"line":53,"column":43}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":53,"column":48},"end":{"line":53,"column":62}}}) : helper)))\n    + "ic-state\\"></span>\\n                <span id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":54,"column":26},"end":{"line":54,"column":40}}}) : helper)))\n    + "schedule-state\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":54,"column":63},"end":{"line":54,"column":77}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"state") : depth0),{"name":"if","hash":{},"fn":container.program(9, data, 0),"inverse":container.program(11, data, 0),"data":data,"loc":{"start":{"line":54,"column":86},"end":{"line":54,"column":148}}})) != null ? stack1 : "")\n    + "</span>\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":55,"column":29},"end":{"line":55,"column":43}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":55,"column":48},"end":{"line":55,"column":62}}}) : helper)))\n    + "dropdown-arrow\\"></span>\\n            </button>\\n            <ul class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":57,"column":23},"end":{"line":57,"column":37}}}) : helper)))\n    + "dropdown-menu\\" style=\\"z-index: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"zIndex") || (depth0 != null ? lookupProperty(depth0,"zIndex") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"zIndex","hash":{},"data":data,"loc":{"start":{"line":57,"column":68},"end":{"line":57,"column":78}}}) : helper)))\n    + "\\">\\n                <li class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":58,"column":27},"end":{"line":58,"column":41}}}) : helper)))\n    + "popup-section-item "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":58,"column":60},"end":{"line":58,"column":74}}}) : helper)))\n    + "dropdown-menu-item\\">\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":59,"column":29},"end":{"line":59,"column":43}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":59,"column":48},"end":{"line":59,"column":62}}}) : helper)))\n    + "none\\"></span>\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":60,"column":29},"end":{"line":60,"column":43}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,"popupStateBusy-tmpl") || (depth0 != null ? lookupProperty(depth0,"popupStateBusy-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"popupStateBusy-tmpl","hash":{},"data":data,"loc":{"start":{"line":60,"column":52},"end":{"line":60,"column":77}}}) : helper))) != null ? stack1 : "")\n    + "</span>\\n                </li>\\n                <li class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":62,"column":27},"end":{"line":62,"column":41}}}) : helper)))\n    + "popup-section-item "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":62,"column":60},"end":{"line":62,"column":74}}}) : helper)))\n    + "dropdown-menu-item\\">\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":63,"column":29},"end":{"line":63,"column":43}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":63,"column":48},"end":{"line":63,"column":62}}}) : helper)))\n    + "none\\"></span>\\n                <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":64,"column":29},"end":{"line":64,"column":43}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,"popupStateFree-tmpl") || (depth0 != null ? lookupProperty(depth0,"popupStateFree-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"popupStateFree-tmpl","hash":{},"data":data,"loc":{"start":{"line":64,"column":52},"end":{"line":64,"column":77}}}) : helper))) != null ? stack1 : "")\n    + "</span>\\n                </li>\\n            </ul>\\n        </div>\\n        <button class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":68,"column":23},"end":{"line":68,"column":37}}}) : helper)))\n    + "button "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":68,"column":44},"end":{"line":68,"column":58}}}) : helper)))\n    + "popup-close\\"><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":68,"column":84},"end":{"line":68,"column":98}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":68,"column":103},"end":{"line":68,"column":117}}}) : helper)))\n    + "ic-close\\"></span></button>\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":69,"column":20},"end":{"line":69,"column":34}}}) : helper)))\n    + "section-button-save\\"><button class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":69,"column":70},"end":{"line":69,"column":84}}}) : helper)))\n    + "button "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":69,"column":91},"end":{"line":69,"column":105}}}) : helper)))\n    + "confirm "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":69,"column":113},"end":{"line":69,"column":127}}}) : helper)))\n    + "popup-save\\"><span>"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"isEditMode") : depth0),{"name":"if","hash":{},"fn":container.program(13, data, 0),"inverse":container.program(15, data, 0),"data":data,"loc":{"start":{"line":69,"column":145},"end":{"line":69,"column":220}}})) != null ? stack1 : "")\n    + "</span></button></div>\\n    </div>\\n    <div id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":71,"column":13},"end":{"line":71,"column":27}}}) : helper)))\n    + "popup-arrow\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":71,"column":47},"end":{"line":71,"column":61}}}) : helper)))\n    + "popup-arrow "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":71,"column":73},"end":{"line":71,"column":87}}}) : helper)))\n    + "arrow-bottom\\">\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":72,"column":20},"end":{"line":72,"column":34}}}) : helper)))\n    + "popup-arrow-border\\">\\n            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":73,"column":24},"end":{"line":73,"column":38}}}) : helper)))\n    + "popup-arrow-fill\\"></div>\\n        </div>\\n    </div>\\n</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/popup/scheduleDetailPopup.hbs":\n/*!************************************************************!*\\\n  !*** ./src/js/view/template/popup/scheduleDetailPopup.hbs ***!\n  \\************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_901801__) {\n\nvar Handlebars = __nested_webpack_require_901801__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":11,"column":45},"end":{"line":11,"column":59}}}) : helper)))\n    + "popup-detail-item\\"><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":11,"column":91},"end":{"line":11,"column":105}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":11,"column":110},"end":{"line":11,"column":124}}}) : helper)))\n    + "ic-location-b\\"></span><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":11,"column":159},"end":{"line":11,"column":173}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = (lookupProperty(helpers,"popupDetailLocation-tmpl")||(depth0 && lookupProperty(depth0,"popupDetailLocation-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"schedule") : depth0),{"name":"popupDetailLocation-tmpl","hash":{},"data":data,"loc":{"start":{"line":11,"column":182},"end":{"line":11,"column":221}}})) != null ? stack1 : "")\n    + "</span></div>";\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":51},"end":{"line":12,"column":65}}}) : helper)))\n    + "popup-detail-item\\"><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":97},"end":{"line":12,"column":111}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":116},"end":{"line":12,"column":130}}}) : helper)))\n    + "ic-repeat-b\\"></span><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":163},"end":{"line":12,"column":177}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = (lookupProperty(helpers,"popupDetailRepeat-tmpl")||(depth0 && lookupProperty(depth0,"popupDetailRepeat-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"schedule") : depth0),{"name":"popupDetailRepeat-tmpl","hash":{},"data":data,"loc":{"start":{"line":12,"column":186},"end":{"line":12,"column":223}}})) != null ? stack1 : "")\n    + "</span></div>";\n},"5":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":60}}}) : helper)))\n    + "popup-detail-item "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":13,"column":78},"end":{"line":13,"column":92}}}) : helper)))\n    + "popup-detail-item-indent\\"><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":13,"column":131},"end":{"line":13,"column":145}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":13,"column":150},"end":{"line":13,"column":164}}}) : helper)))\n    + "ic-user-b\\"></span><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":13,"column":195},"end":{"line":13,"column":209}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = (lookupProperty(helpers,"popupDetailUser-tmpl")||(depth0 && lookupProperty(depth0,"popupDetailUser-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"schedule") : depth0),{"name":"popupDetailUser-tmpl","hash":{},"data":data,"loc":{"start":{"line":13,"column":218},"end":{"line":13,"column":253}}})) != null ? stack1 : "")\n    + "</span></div>";\n},"7":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":14,"column":42},"end":{"line":14,"column":56}}}) : helper)))\n    + "popup-detail-item\\"><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":14,"column":88},"end":{"line":14,"column":102}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":14,"column":107},"end":{"line":14,"column":121}}}) : helper)))\n    + "ic-state-b\\"></span><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":14,"column":153},"end":{"line":14,"column":167}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = (lookupProperty(helpers,"popupDetailState-tmpl")||(depth0 && lookupProperty(depth0,"popupDetailState-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"schedule") : depth0),{"name":"popupDetailState-tmpl","hash":{},"data":data,"loc":{"start":{"line":14,"column":176},"end":{"line":14,"column":212}}})) != null ? stack1 : "")\n    + "</span></div>";\n},"9":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":16,"column":20},"end":{"line":16,"column":34}}}) : helper)))\n    + "popup-detail-item\\"><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":16,"column":66},"end":{"line":16,"column":80}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":16,"column":85},"end":{"line":16,"column":99}}}) : helper)))\n    + "calendar-dot\\" style=\\"background-color: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"bgColor") : stack1), depth0))\n    + "\\"></span><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":16,"column":180},"end":{"line":16,"column":194}}}) : helper)))\n    + "content\\">"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"calendar") : depth0)) != null ? lookupProperty(stack1,"name") : stack1), depth0))\n    + "</span></div>\\n";\n},"11":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":18,"column":41},"end":{"line":18,"column":55}}}) : helper)))\n    + "popup-detail-item "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":18,"column":73},"end":{"line":18,"column":87}}}) : helper)))\n    + "popup-detail-item-separate\\"><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":18,"column":128},"end":{"line":18,"column":142}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = (lookupProperty(helpers,"popupDetailBody-tmpl")||(depth0 && lookupProperty(depth0,"popupDetailBody-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"schedule") : depth0),{"name":"popupDetailBody-tmpl","hash":{},"data":data,"loc":{"start":{"line":18,"column":151},"end":{"line":18,"column":186}}})) != null ? stack1 : "")\n    + "</span></div>";\n},"13":function(container,depth0,helpers,partials,data) {\n    return "";\n},"15":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":22,"column":16},"end":{"line":22,"column":30}}}) : helper)))\n    + "section-button\\">\\n      <button class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":23,"column":21},"end":{"line":23,"column":35}}}) : helper)))\n    + "popup-edit\\"><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":23,"column":60},"end":{"line":23,"column":74}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":23,"column":79},"end":{"line":23,"column":93}}}) : helper)))\n    + "ic-edit\\"></span><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":23,"column":122},"end":{"line":23,"column":136}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,"popupEdit-tmpl") || (depth0 != null ? lookupProperty(depth0,"popupEdit-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"popupEdit-tmpl","hash":{},"data":data,"loc":{"start":{"line":23,"column":145},"end":{"line":23,"column":165}}}) : helper))) != null ? stack1 : "")\n    + "</span></button>\\n      <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":24,"column":18},"end":{"line":24,"column":32}}}) : helper)))\n    + "popup-vertical-line\\"></div>\\n      <button class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":25,"column":21},"end":{"line":25,"column":35}}}) : helper)))\n    + "popup-delete\\"><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":25,"column":62},"end":{"line":25,"column":76}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":25,"column":81},"end":{"line":25,"column":95}}}) : helper)))\n    + "ic-delete\\"></span><span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":25,"column":126},"end":{"line":25,"column":140}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,"popupDelete-tmpl") || (depth0 != null ? lookupProperty(depth0,"popupDelete-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"popupDelete-tmpl","hash":{},"data":data,"loc":{"start":{"line":25,"column":149},"end":{"line":25,"column":171}}}) : helper))) != null ? stack1 : "")\n    + "</span></button>\\n    </div>\\n";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "popup "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":32},"end":{"line":1,"column":46}}}) : helper)))\n    + "popup-detail\\">\\n  <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":2,"column":14},"end":{"line":2,"column":28}}}) : helper)))\n    + "popup-container\\">\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":16},"end":{"line":3,"column":30}}}) : helper)))\n    + "popup-section "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":44},"end":{"line":3,"column":58}}}) : helper)))\n    + "section-header\\">\\n      <div>\\n        <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":5,"column":21},"end":{"line":5,"column":35}}}) : helper)))\n    + "schedule-private "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":5,"column":52},"end":{"line":5,"column":66}}}) : helper)))\n    + "icon "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":5,"column":71},"end":{"line":5,"column":85}}}) : helper)))\n    + "ic-private\\"></span>\\n        <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":6,"column":21},"end":{"line":6,"column":35}}}) : helper)))\n    + "schedule-title\\">"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"title") : stack1), depth0))\n    + "</span>\\n      </div>\\n      <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":8,"column":18},"end":{"line":8,"column":32}}}) : helper)))\n    + "popup-detail-date "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":8,"column":50},"end":{"line":8,"column":64}}}) : helper)))\n    + "content\\">"\n    + ((stack1 = (lookupProperty(helpers,"popupDetailDate-tmpl")||(depth0 && lookupProperty(depth0,"popupDetailDate-tmpl"))||alias2).call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"isAllDay") : stack1),((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"start") : stack1),((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"end") : stack1),{"name":"popupDetailDate-tmpl","hash":{},"data":data,"loc":{"start":{"line":8,"column":73},"end":{"line":8,"column":145}}})) != null ? stack1 : "")\n    + "</div>\\n    </div>\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":30}}}) : helper)))\n    + "section-detail\\">\\n        "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"location") : stack1),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":241}}})) != null ? stack1 : "")\n    + "\\n        "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"recurrenceRule") : stack1),{"name":"if","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":243}}})) != null ? stack1 : "")\n    + "\\n        "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"attendees") : stack1),{"name":"if","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":273}}})) != null ? stack1 : "")\n    + "\\n        "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"state") : stack1),{"name":"if","hash":{},"fn":container.program(7, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":232}}})) != null ? stack1 : "")\n    + "\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"calendar") : depth0),{"name":"if","hash":{},"fn":container.program(9, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":15,"column":8},"end":{"line":17,"column":15}}})) != null ? stack1 : "")\n    + "        "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"body") : stack1),{"name":"if","hash":{},"fn":container.program(11, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":206}}})) != null ? stack1 : "")\n    + "\\n    </div>\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"isReadOnly") : stack1),{"name":"if","hash":{},"fn":container.program(13, data, 0),"inverse":container.program(15, data, 0),"data":data,"loc":{"start":{"line":20,"column":4},"end":{"line":27,"column":11}}})) != null ? stack1 : "")\n    + "  </div>\\n  <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":29,"column":14},"end":{"line":29,"column":28}}}) : helper)))\n    + "popup-top-line\\" style=\\"background-color: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"schedule") : depth0)) != null ? lookupProperty(stack1,"bgColor") : stack1), depth0))\n    + "\\"></div>\\n  <div id=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":30,"column":11},"end":{"line":30,"column":25}}}) : helper)))\n    + "popup-arrow\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":30,"column":45},"end":{"line":30,"column":59}}}) : helper)))\n    + "popup-arrow "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":30,"column":71},"end":{"line":30,"column":85}}}) : helper)))\n    + "arrow-left\\">\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":31,"column":16},"end":{"line":31,"column":30}}}) : helper)))\n    + "popup-arrow-border\\">\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":32,"column":20},"end":{"line":32,"column":34}}}) : helper)))\n    + "popup-arrow-fill\\"></div>\\n    </div>\\n  </div>\\n</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/week/dayGrid.hbs":\n/*!***********************************************!*\\\n  !*** ./src/js/view/template/week/dayGrid.hbs ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_932850__) {\n\nvar Handlebars = __nested_webpack_require_932850__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":8,"column":24},"end":{"line":8,"column":38}}}) : helper)))\n    + "weekday-grid-line\\"\\n                style=\\"left:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"left") || (depth0 != null ? lookupProperty(depth0,"left") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"left","hash":{},"data":data,"loc":{"start":{"line":9,"column":28},"end":{"line":9,"column":36}}}) : helper)))\n    + "%; width:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"width") || (depth0 != null ? lookupProperty(depth0,"width") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"width","hash":{},"data":data,"loc":{"start":{"line":9,"column":45},"end":{"line":9,"column":54}}}) : helper)))\n    + "%; background-color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"backgroundColor") || (depth0 != null ? lookupProperty(depth0,"backgroundColor") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"backgroundColor","hash":{},"data":data,"loc":{"start":{"line":9,"column":75},"end":{"line":9,"column":94}}}) : helper)))\n    + ";\\n"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(data && lookupProperty(data,"last")),{"name":"unless","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":10,"column":20},"end":{"line":12,"column":31}}})) != null ? stack1 : "")\n    + "            \\"></div>\\n";\n},"2":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    border-right: "\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderRight")), depth0))\n    + ";\\n";\n},"4":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"each").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"days") : depth0),{"name":"each","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":17,"column":8},"end":{"line":27,"column":19}}})) != null ? stack1 : "");\n},"5":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"collapsed")),{"name":"if","hash":{},"fn":container.program(6, data, 0),"inverse":container.program(9, data, 0),"data":data,"loc":{"start":{"line":18,"column":12},"end":{"line":26,"column":19}}})) != null ? stack1 : "");\n},"6":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"hiddenSchedules") : depth0),{"name":"if","hash":{},"fn":container.program(7, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":19,"column":16},"end":{"line":21,"column":23}}})) != null ? stack1 : "");\n},"7":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":20,"column":33},"end":{"line":20,"column":47}}}) : helper)))\n    + "weekday-exceed-in-week\\" style=\\"z-index: 1; right:"\n    + alias4((lookupProperty(helpers,"getRight")||(depth0 && lookupProperty(depth0,"getRight"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"left") : depth0),(depth0 != null ? lookupProperty(depth0,"width") : depth0),{"name":"getRight","hash":{},"data":data,"loc":{"start":{"line":20,"column":96},"end":{"line":20,"column":119}}}))\n    + "%;\\" data-index=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"key") || (data && lookupProperty(data,"key"))) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"key","hash":{},"data":data,"loc":{"start":{"line":20,"column":135},"end":{"line":20,"column":143}}}) : helper)))\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"weekGridFooterExceed-tmpl")||(depth0 && lookupProperty(depth0,"weekGridFooterExceed-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"hiddenSchedules") : depth0),{"name":"weekGridFooterExceed-tmpl","hash":{},"data":data,"loc":{"start":{"line":20,"column":145},"end":{"line":20,"column":192}}})) != null ? stack1 : "")\n    + "</span>\\n";\n},"9":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = (lookupProperty(helpers,"fi")||(depth0 && lookupProperty(depth0,"fi"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(data && lookupProperty(data,"key")),"===",((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"collapseBtnIndex")),{"name":"fi","hash":{},"fn":container.program(10, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":23,"column":16},"end":{"line":25,"column":23}}})) != null ? stack1 : "");\n},"10":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":24,"column":33},"end":{"line":24,"column":47}}}) : helper)))\n    + "weekday-collapse-btn\\" style=\\"z-index: 1; right:"\n    + alias4((lookupProperty(helpers,"getRight")||(depth0 && lookupProperty(depth0,"getRight"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"left") : depth0),(depth0 != null ? lookupProperty(depth0,"width") : depth0),{"name":"getRight","hash":{},"data":data,"loc":{"start":{"line":24,"column":94},"end":{"line":24,"column":117}}}))\n    + "%;\\">"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,"collapseBtnTitle-tmpl") || (depth0 != null ? lookupProperty(depth0,"collapseBtnTitle-tmpl") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"collapseBtnTitle-tmpl","hash":{},"data":data,"loc":{"start":{"line":24,"column":121},"end":{"line":24,"column":148}}}) : helper))) != null ? stack1 : "")\n    + "</span>\\n";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + alias4(((helper = (helper = lookupProperty(helpers,"viewName") || (depth0 != null ? lookupProperty(depth0,"viewName") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"viewName","hash":{},"data":data,"loc":{"start":{"line":1,"column":26},"end":{"line":1,"column":38}}}) : helper)))\n    + "-left "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":44},"end":{"line":1,"column":58}}}) : helper)))\n    + "left\\" style=\\"border-right: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"leftBorderRight") : stack1), depth0))\n    + "; width: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"leftWidth") : stack1), depth0))\n    + "; background-color: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"leftBackgroundColor") : stack1), depth0))\n    + "; padding-right: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"leftPaddingRight") : stack1), depth0))\n    + ";\\">\\n    "\n    + ((stack1 = (lookupProperty(helpers,"dayGridTitle-tmpl")||(depth0 && lookupProperty(depth0,"dayGridTitle-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"viewName") : depth0),{"name":"dayGridTitle-tmpl","hash":{},"data":data,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":36}}})) != null ? stack1 : "")\n    + "\\n</div>\\n<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":4,"column":12},"end":{"line":4,"column":26}}}) : helper)))\n    + alias4(((helper = (helper = lookupProperty(helpers,"viewName") || (depth0 != null ? lookupProperty(depth0,"viewName") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"viewName","hash":{},"data":data,"loc":{"start":{"line":4,"column":26},"end":{"line":4,"column":38}}}) : helper)))\n    + "-right "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":4,"column":45},"end":{"line":4,"column":59}}}) : helper)))\n    + "right\\">\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":30}}}) : helper)))\n    + "container\\">\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":6,"column":20},"end":{"line":6,"column":34}}}) : helper)))\n    + "weekday-grid\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"days") : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":7,"column":8},"end":{"line":14,"column":19}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"showExpandableButton")),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":16,"column":8},"end":{"line":28,"column":15}}})) != null ? stack1 : "")\n    + "        </div>\\n    </div>\\n</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/week/dayGridSchedule.hbs":\n/*!*******************************************************!*\\\n  !*** ./src/js/view/template/week/dayGridSchedule.hbs ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_948064__) {\n\nvar Handlebars = __nested_webpack_require_948064__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"each").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"each","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":27,"column":15}}})) != null ? stack1 : "");\n},"2":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "\\n    "\n    + ((stack1 = lookupProperty(helpers,"each").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"each","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":4,"column":4},"end":{"line":26,"column":15}}})) != null ? stack1 : "");\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "\\n    "\n    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":5,"column":4},"end":{"line":25,"column":13}}})) != null ? stack1 : "");\n},"4":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4="function", alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "\\n    <div data-id=\\""\n    + alias3((lookupProperty(helpers,"stamp")||(depth0 && lookupProperty(depth0,"stamp"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"stamp","hash":{},"data":data,"loc":{"start":{"line":6,"column":18},"end":{"line":6,"column":33}}}))\n    + "\\"\\n        class=\\""\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":29}}}) : helper)))\n    + "weekday-schedule-block\\n            "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"exceedLeft") : depth0),{"name":"if","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":8,"column":12},"end":{"line":8,"column":71}}})) != null ? stack1 : "")\n    + "\\n            "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"exceedRight") : depth0),{"name":"if","hash":{},"fn":container.program(7, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":9,"column":12},"end":{"line":9,"column":73}}})) != null ? stack1 : "")\n    + "\\"\\n        style=\\"top:"\n    + alias3((lookupProperty(helpers,"multiply")||(depth0 && lookupProperty(depth0,"multiply"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"top") : depth0),((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleBlockHeight")),{"name":"multiply","hash":{},"data":data,"loc":{"start":{"line":10,"column":19},"end":{"line":10,"column":61}}}))\n    + "px;\\n                left:"\n    + alias3((lookupProperty(helpers,"grid-left")||(depth0 && lookupProperty(depth0,"grid-left"))||alias2).call(alias1,depth0,((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"dates")),{"name":"grid-left","hash":{},"data":data,"loc":{"start":{"line":11,"column":21},"end":{"line":11,"column":51}}}))\n    + "%;\\n                width:"\n    + alias3((lookupProperty(helpers,"grid-width")||(depth0 && lookupProperty(depth0,"grid-width"))||alias2).call(alias1,depth0,((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"dates")),{"name":"grid-width","hash":{},"data":data,"loc":{"start":{"line":12,"column":22},"end":{"line":12,"column":53}}}))\n    + "%\\">\\n        <div data-schedule-id=\\""\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"id") : stack1), depth0))\n    + "\\" data-calendar-id=\\""\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"calendarId") : stack1), depth0))\n    + "\\" class=\\""\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":13,"column":92},"end":{"line":13,"column":106}}}) : helper)))\n    + "weekday-schedule "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(9, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":13,"column":123},"end":{"line":13,"column":192}}})) != null ? stack1 : "")\n    + "\\"\\n            style=\\"height:"\n    + alias3(alias5(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; line-height:"\n    + alias3(alias5(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px; border-radius: "\n    + alias3(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderRadius")), depth0))\n    + ";\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(11, data, 0),"inverse":container.program(13, data, 0),"data":data,"loc":{"start":{"line":15,"column":16},"end":{"line":19,"column":23}}})) != null ? stack1 : "")\n    + "            "\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"customStyle") : stack1), depth0))\n    + "\\">\\n            <span class=\\""\n    + alias3(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":39}}}) : helper)))\n    + "weekday-schedule-title\\" title=\\""\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"title") : stack1), depth0))\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"schedule-tmpl")||(depth0 && lookupProperty(depth0,"schedule-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"schedule-tmpl","hash":{},"data":data,"loc":{"start":{"line":21,"column":87},"end":{"line":21,"column":112}}})) != null ? stack1 : "")\n    + "</span>\\n            "\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(lookupProperty(helpers,"or")||(depth0 && lookupProperty(depth0,"or"))||alias2).call(alias1,((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"isReadOnly")),((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isReadOnly") : stack1),{"name":"or","hash":{},"data":data,"loc":{"start":{"line":22,"column":22},"end":{"line":22,"column":60}}}),{"name":"unless","hash":{},"fn":container.program(15, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":193}}})) != null ? stack1 : "")\n    + "\\n        </div>\\n    </div>\\n";\n},"5":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return " "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":8,"column":31},"end":{"line":8,"column":45}}}) : helper)))\n    + "weekday-exceed-left";\n},"7":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return " "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":9,"column":32},"end":{"line":9,"column":46}}}) : helper)))\n    + "weekday-exceed-right";\n},"9":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":13,"column":146},"end":{"line":13,"column":160}}}) : helper)))\n    + "weekday-schedule-focused ";\n},"11":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    color: #ffffff; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; border-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + ";\\n";\n},"13":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"bgColor") : stack1), depth0))\n    + "; border-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\n";\n},"15":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<span class=\\""\n    + alias1(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":22,"column":75},"end":{"line":22,"column":89}}}) : helper)))\n    + "weekday-resize-handle handle-y\\" style=\\"line-height:"\n    + alias1(container.lambda(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleHeight")), depth0))\n    + "px;\\">&nbsp;</span>";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "weekday-schedules "\n    + alias4(((helper = (helper = lookupProperty(helpers,"collapsed") || (depth0 != null ? lookupProperty(depth0,"collapsed") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"collapsed","hash":{},"data":data,"loc":{"start":{"line":1,"column":44},"end":{"line":1,"column":57}}}) : helper)))\n    + "\\"style=\\"top:"\n    + alias4(container.lambda(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"scheduleContainerTop")), depth0))\n    + "px;\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"matrices") : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":2,"column":4},"end":{"line":28,"column":15}}})) != null ? stack1 : "")\n    + "</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/week/daynames.hbs":\n/*!************************************************!*\\\n  !*** ./src/js/view/template/week/daynames.hbs ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_964190__) {\n\nvar Handlebars = __nested_webpack_require_964190__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":26}}}) : helper)))\n    + "dayname "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"isToday") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":75}}})) != null ? stack1 : "")\n    + " "\n    + alias4((lookupProperty(helpers,"holiday")||(depth0 && lookupProperty(depth0,"holiday"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"day") : depth0),{"name":"holiday","hash":{},"data":data,"loc":{"start":{"line":3,"column":76},"end":{"line":3,"column":91}}}))\n    + "\\"\\n     data-date=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"renderDate") || (depth0 != null ? lookupProperty(depth0,"renderDate") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"renderDate","hash":{},"data":data,"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":30}}}) : helper)))\n    + "\\"\\n     style=\\""\n    + alias4((lookupProperty(helpers,"common-width")||(depth0 && lookupProperty(depth0,"common-width"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"width") : depth0),{"name":"common-width","hash":{},"data":data,"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":34}}}))\n    + ";left:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"left") || (depth0 != null ? lookupProperty(depth0,"left") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"left","hash":{},"data":data,"loc":{"start":{"line":5,"column":40},"end":{"line":5,"column":48}}}) : helper)))\n    + "%; line-height: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"height")), depth0))\n    + "; border-left: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderLeft")), depth0))\n    + "; padding-left: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"paddingLeft")), depth0))\n    + ";\\">\\n    <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":31}}}) : helper)))\n    + "dayname-date-area\\" style=\\"color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"color") || (depth0 != null ? lookupProperty(depth0,"color") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"color","hash":{},"data":data,"loc":{"start":{"line":6,"column":64},"end":{"line":6,"column":73}}}) : helper)))\n    + ";\\">\\n        "\n    + ((stack1 = (lookupProperty(helpers,"weekDayname-tmpl")||(depth0 && lookupProperty(depth0,"weekDayname-tmpl"))||alias2).call(alias1,depth0,{"name":"weekDayname-tmpl","hash":{},"data":data,"loc":{"start":{"line":7,"column":8},"end":{"line":7,"column":35}}})) != null ? stack1 : "")\n    + "\\n    </span>\\n</div>\\n";\n},"2":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":49},"end":{"line":3,"column":63}}}) : helper)))\n    + "today";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "dayname-leftmargin\\" style=\\"margin-left: "\n    + alias2(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"marginLeft")), depth0))\n    + ";\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"dayNames") : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":2,"column":0},"end":{"line":10,"column":9}}})) != null ? stack1 : "")\n    + "</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/week/time.hbs":\n/*!********************************************!*\\\n  !*** ./src/js/view/template/week/time.hbs ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_971017__) {\n\nvar Handlebars = __nested_webpack_require_971017__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"each").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"each","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":3,"column":4},"end":{"line":60,"column":13}}})) != null ? stack1 : "");\n},"2":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"each").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"each","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":4,"column":8},"end":{"line":59,"column":17}}})) != null ? stack1 : "");\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":5,"column":8},"end":{"line":58,"column":17}}})) != null ? stack1 : "");\n},"4":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":6,"column":20},"end":{"line":6,"column":34}}}) : helper)))\n    + "time-date-schedule-block "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isPending") : stack1),{"name":"if","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":6,"column":59},"end":{"line":6,"column":136}}})) != null ? stack1 : "")\n    + "\\" data-id=\\""\n    + alias4((lookupProperty(helpers,"stamp")||(depth0 && lookupProperty(depth0,"stamp"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"stamp","hash":{},"data":data,"loc":{"start":{"line":6,"column":147},"end":{"line":6,"column":162}}}))\n    + "\\"\\n            style=\\""\n    + alias4((lookupProperty(helpers,"time-scheduleBlock")||(depth0 && lookupProperty(depth0,"time-scheduleBlock"))||alias2).call(alias1,depth0,{"name":"time-scheduleBlock","hash":{},"data":data,"loc":{"start":{"line":7,"column":19},"end":{"line":7,"column":46}}}))\n    + ";\\n"\n    + ((stack1 = (lookupProperty(helpers,"fi")||(depth0 && lookupProperty(depth0,"fi"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"left") : depth0),"!==",0,{"name":"fi","hash":{},"fn":container.program(7, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":8,"column":16},"end":{"line":10,"column":23}}})) != null ? stack1 : "")\n    + "            \\">\\n            <div data-schedule-id=\\""\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"id") : stack1), depth0))\n    + "\\" data-calendar-id=\\""\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"calendarId") : stack1), depth0))\n    + "\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":96},"end":{"line":12,"column":110}}}) : helper)))\n    + "time-schedule "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(9, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":12,"column":124},"end":{"line":12,"column":190}}})) != null ? stack1 : "")\n    + "\\"\\n                style=\\"\\n"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(depth0 != null ? lookupProperty(depth0,"croppedEnd") : depth0),{"name":"unless","hash":{},"fn":container.program(11, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":14,"column":16},"end":{"line":17,"column":27}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(depth0 != null ? lookupProperty(depth0,"croppedStart") : depth0),{"name":"unless","hash":{},"fn":container.program(13, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":18,"column":16},"end":{"line":21,"column":27}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(15, data, 0),"inverse":container.program(17, data, 0),"data":data,"loc":{"start":{"line":22,"column":16},"end":{"line":26,"column":23}}})) != null ? stack1 : "")\n    + "                 "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"customStyle") : stack1), depth0))\n    + "\\"\\n            >\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hasGoingDuration") : depth0),{"name":"if","hash":{},"fn":container.program(19, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":29,"column":12},"end":{"line":37,"column":19}}})) != null ? stack1 : "")\n    + "                <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":38,"column":28},"end":{"line":38,"column":42}}}) : helper)))\n    + "time-schedule-content "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":38,"column":64},"end":{"line":38,"column":78}}}) : helper)))\n    + "time-schedule-content-time\\" style=\\"height: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"modelDurationHeight") || (depth0 != null ? lookupProperty(depth0,"modelDurationHeight") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"modelDurationHeight","hash":{},"data":data,"loc":{"start":{"line":38,"column":121},"end":{"line":38,"column":144}}}) : helper)))\n    + "px;\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(20, data, 0),"inverse":container.program(22, data, 0),"data":data,"loc":{"start":{"line":39,"column":16},"end":{"line":43,"column":23}}})) != null ? stack1 : "")\n    + "                "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hasComingDuration") : depth0),{"name":"if","hash":{},"fn":container.program(24, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":44,"column":16},"end":{"line":44,"column":96}}})) != null ? stack1 : "")\n    + "\\">\\n                    "\n    + ((stack1 = (lookupProperty(helpers,"time-tmpl")||(depth0 && lookupProperty(depth0,"time-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"time-tmpl","hash":{},"data":data,"loc":{"start":{"line":45,"column":20},"end":{"line":45,"column":41}}})) != null ? stack1 : "")\n    + "\\n                </div>\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hasComingDuration") : depth0),{"name":"if","hash":{},"fn":container.program(26, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":47,"column":12},"end":{"line":54,"column":19}}})) != null ? stack1 : "")\n    + "            </div>\\n            "\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(lookupProperty(helpers,"or")||(depth0 && lookupProperty(depth0,"or"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"croppedEnd") : depth0),(lookupProperty(helpers,"or")||(depth0 && lookupProperty(depth0,"or"))||alias2).call(alias1,((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"isReadOnly")),((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isReadOnly") : stack1),{"name":"or","hash":{},"data":data,"loc":{"start":{"line":56,"column":37},"end":{"line":56,"column":75}}}),{"name":"or","hash":{},"data":data,"loc":{"start":{"line":56,"column":22},"end":{"line":56,"column":76}}}),{"name":"unless","hash":{},"fn":container.program(29, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":56,"column":12},"end":{"line":56,"column":207}}})) != null ? stack1 : "")\n    + "\\n        </div>\\n";\n},"5":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return " "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":6,"column":83},"end":{"line":6,"column":97}}}) : helper)))\n    + "time-date-schedule-block-pending";\n},"7":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    padding-left: "\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"paddingLeft")), depth0))\n    + ";\\n";\n},"9":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":147},"end":{"line":12,"column":161}}}) : helper)))\n    + "time-schedule-focused ";\n},"11":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    border-bottom-left-radius: "\n    + alias2(alias1(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderRadius")), depth0))\n    + ";\\n                    border-bottom-right-radius: "\n    + alias2(alias1(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderRadius")), depth0))\n    + ";\\n";\n},"13":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    border-top-left-radius: "\n    + alias2(alias1(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderRadius")), depth0))\n    + ";\\n                    border-top-right-radius: "\n    + alias2(alias1(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderRadius")), depth0))\n    + ";\\n";\n},"15":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    color: #ffffff; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; border-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + ";\\n";\n},"17":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; background-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"bgColor") : stack1), depth0))\n    + "; border-color:"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\n";\n},"19":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":30,"column":28},"end":{"line":30,"column":42}}}) : helper)))\n    + "time-schedule-content "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":30,"column":64},"end":{"line":30,"column":78}}}) : helper)))\n    + "time-schedule-content-travel-time\\" style=\\"height: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"goingDurationHeight") || (depth0 != null ? lookupProperty(depth0,"goingDurationHeight") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"goingDurationHeight","hash":{},"data":data,"loc":{"start":{"line":30,"column":128},"end":{"line":30,"column":151}}}) : helper)))\n    + "px;\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(20, data, 0),"inverse":container.program(22, data, 0),"data":data,"loc":{"start":{"line":31,"column":16},"end":{"line":35,"column":23}}})) != null ? stack1 : "")\n    + "                border-bottom: 1px dashed "\n    + alias4(((helper = (helper = lookupProperty(helpers,"travelBorderColor") || (depth0 != null ? lookupProperty(depth0,"travelBorderColor") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"travelBorderColor","hash":{},"data":data,"loc":{"start":{"line":36,"column":42},"end":{"line":36,"column":63}}}) : helper)))\n    + ";\\">"\n    + ((stack1 = (lookupProperty(helpers,"goingDuration-tmpl")||(depth0 && lookupProperty(depth0,"goingDuration-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"goingDuration-tmpl","hash":{},"data":data,"loc":{"start":{"line":36,"column":66},"end":{"line":36,"column":96}}})) != null ? stack1 : "")\n    + "</div>\\n";\n},"20":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    border-color:"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + ";\\n";\n},"22":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    border-color:"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\n";\n},"24":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "border-bottom: 1px dashed "\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"travelBorderColor") || (depth0 != null ? lookupProperty(depth0,"travelBorderColor") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"travelBorderColor","hash":{},"data":data,"loc":{"start":{"line":44,"column":67},"end":{"line":44,"column":88}}}) : helper)))\n    + ";";\n},"26":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":48,"column":28},"end":{"line":48,"column":42}}}) : helper)))\n    + "time-schedule-content "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":48,"column":64},"end":{"line":48,"column":78}}}) : helper)))\n    + "time-schedule-content-travel-time\\" style=\\"height: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"comingDurationHeight") || (depth0 != null ? lookupProperty(depth0,"comingDurationHeight") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"comingDurationHeight","hash":{},"data":data,"loc":{"start":{"line":48,"column":128},"end":{"line":48,"column":152}}}) : helper)))\n    + "px;\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"isFocused") : stack1),{"name":"if","hash":{},"fn":container.program(20, data, 0),"inverse":container.program(27, data, 0),"data":data,"loc":{"start":{"line":49,"column":16},"end":{"line":53,"column":23}}})) != null ? stack1 : "")\n    + ";\\">"\n    + ((stack1 = (lookupProperty(helpers,"comingDuration-tmpl")||(depth0 && lookupProperty(depth0,"comingDuration-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"comingDuration-tmpl","hash":{},"data":data,"loc":{"start":{"line":53,"column":26},"end":{"line":53,"column":57}}})) != null ? stack1 : "")\n    + "</div>\\n";\n},"27":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                    border-color:"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\n                ";\n},"29":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias1(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":56,"column":90},"end":{"line":56,"column":104}}}) : helper)))\n    + "time-resize-handle handle-x\\" style=\\"margin-left: "\n    + alias1(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"paddingLeft")), depth0))\n    + ";\\">&nbsp;</div>";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias2(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "time-date-schedule-block-wrap\\" style=\\"margin-right: "\n    + alias2(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"marginRight") : stack1), depth0))\n    + ";\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"matrices") : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":2,"column":0},"end":{"line":61,"column":9}}})) != null ? stack1 : "")\n    + "</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/week/timeGrid.hbs":\n/*!************************************************!*\\\n  !*** ./src/js/view/template/week/timeGrid.hbs ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_997811__) {\n\nvar Handlebars = __nested_webpack_require_997811__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":20},"end":{"line":3,"column":34}}}) : helper)))\n    + "timegrid-timezone\\" data-timezone-index=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"index") || (data && lookupProperty(data,"index"))) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"index","hash":{},"data":data,"loc":{"start":{"line":3,"column":74},"end":{"line":3,"column":84}}}) : helper)))\n    + "\\" style=\\""\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hidden") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":3,"column":93},"end":{"line":3,"column":127}}})) != null ? stack1 : "")\n    + "position: absolute; top: 0; width: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"width") || (depth0 != null ? lookupProperty(depth0,"width") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"width","hash":{},"data":data,"loc":{"start":{"line":3,"column":162},"end":{"line":3,"column":171}}}) : helper)))\n    + "%; left: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"left") || (depth0 != null ? lookupProperty(depth0,"left") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"left","hash":{},"data":data,"loc":{"start":{"line":3,"column":180},"end":{"line":3,"column":188}}}) : helper)))\n    + "%; border-right: "\n    + alias4(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"leftBorderRight")), depth0))\n    + "; background-color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"backgroundColor") || (depth0 != null ? lookupProperty(depth0,"backgroundColor") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"backgroundColor","hash":{},"data":data,"loc":{"start":{"line":3,"column":257},"end":{"line":3,"column":276}}}) : helper)))\n    + ";\\" >\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"isPrimary") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.program(10, data, 0),"data":data,"loc":{"start":{"line":4,"column":8},"end":{"line":26,"column":15}}})) != null ? stack1 : "")\n    + "        </div>\\n";\n},"2":function(container,depth0,helpers,partials,data) {\n    return "display:none;";\n},"4":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"timeSlots") : depth0),{"name":"each","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":5,"column":12},"end":{"line":9,"column":23}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"showHourMarker")),{"name":"if","hash":{},"fn":container.program(8, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":10,"column":12},"end":{"line":14,"column":19}}})) != null ? stack1 : "");\n},"5":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":6,"column":28},"end":{"line":6,"column":42}}}) : helper)))\n    + "timegrid-hour\\" style=\\"height: "\n    + alias4(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"oneHourHeight")), depth0))\n    + "; color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"color") || (depth0 != null ? lookupProperty(depth0,"color") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"color","hash":{},"data":data,"loc":{"start":{"line":6,"column":111},"end":{"line":6,"column":120}}}) : helper)))\n    + "; font-weight: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"fontWeight") || (depth0 != null ? lookupProperty(depth0,"fontWeight") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"fontWeight","hash":{},"data":data,"loc":{"start":{"line":6,"column":135},"end":{"line":6,"column":149}}}) : helper)))\n    + ";\\">\\n                    <span style=\\""\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hidden") : depth0),{"name":"if","hash":{},"fn":container.program(6, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":7,"column":33},"end":{"line":7,"column":66}}})) != null ? stack1 : "")\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"timegridDisplayPrimayTime-tmpl")||(depth0 && lookupProperty(depth0,"timegridDisplayPrimayTime-tmpl"))||alias2).call(alias1,depth0,{"name":"timegridDisplayPrimayTime-tmpl","hash":{},"data":data,"loc":{"start":{"line":7,"column":68},"end":{"line":7,"column":109}}})) != null ? stack1 : "")\n    + "</span>\\n                </div>\\n";\n},"6":function(container,depth0,helpers,partials,data) {\n    return "display:none";\n},"8":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":11,"column":28},"end":{"line":11,"column":42}}}) : helper)))\n    + "timegrid-hourmarker\\" style=\\"top:"\n    + alias4(alias5(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"hourmarkerTop")), depth0))\n    + "%; margin-top: calc(6px - "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"halfHourHeight")), depth0))\n    + "); height: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"halfHourHeight")), depth0))\n    + ";\\">\\n                    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":12,"column":32},"end":{"line":12,"column":46}}}) : helper)))\n    + "timegrid-hourmarker-time\\" style=\\"color: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"currentTimeColor")), depth0))\n    + "; font-size: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"currentTimeFontSize")), depth0))\n    + "; font-weight: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"currentTimeFontWeight")), depth0))\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"timegridCurrentTime-tmpl")||(depth0 && lookupProperty(depth0,"timegridCurrentTime-tmpl"))||alias2).call(alias1,depth0,{"name":"timegridCurrentTime-tmpl","hash":{},"data":data,"loc":{"start":{"line":12,"column":223},"end":{"line":12,"column":258}}})) != null ? stack1 : "")\n    + "</div>\\n                </div>\\n";\n},"10":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"timeSlots") : depth0),{"name":"each","hash":{},"fn":container.program(11, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":16,"column":12},"end":{"line":20,"column":23}}})) != null ? stack1 : "")\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"showHourMarker")),{"name":"if","hash":{},"fn":container.program(13, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":21,"column":12},"end":{"line":25,"column":19}}})) != null ? stack1 : "");\n},"11":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":17,"column":28},"end":{"line":17,"column":42}}}) : helper)))\n    + "timegrid-hour\\" style=\\"height: "\n    + alias4(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"oneHourHeight")), depth0))\n    + "; color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"color") || (depth0 != null ? lookupProperty(depth0,"color") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"color","hash":{},"data":data,"loc":{"start":{"line":17,"column":111},"end":{"line":17,"column":120}}}) : helper)))\n    + "; font-weight: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"fontWeight") || (depth0 != null ? lookupProperty(depth0,"fontWeight") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"fontWeight","hash":{},"data":data,"loc":{"start":{"line":17,"column":135},"end":{"line":17,"column":149}}}) : helper)))\n    + ";\\">\\n                    <span style=\\""\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hidden") : depth0),{"name":"if","hash":{},"fn":container.program(6, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":66}}})) != null ? stack1 : "")\n    + "\\">"\n    + ((stack1 = (lookupProperty(helpers,"timegridDisplayTime-tmpl")||(depth0 && lookupProperty(depth0,"timegridDisplayTime-tmpl"))||alias2).call(alias1,depth0,{"name":"timegridDisplayTime-tmpl","hash":{},"data":data,"loc":{"start":{"line":18,"column":68},"end":{"line":18,"column":103}}})) != null ? stack1 : "")\n    + "</span>\\n                </div>\\n";\n},"13":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "                <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":22,"column":28},"end":{"line":22,"column":42}}}) : helper)))\n    + "timegrid-hourmarker\\" style=\\"top:"\n    + alias4(alias5(((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"hourmarkerTop")), depth0))\n    + "%; margin-top: calc(6px - "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"halfHourHeight")), depth0))\n    + "); height: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"halfHourHeight")), depth0))\n    + ";\\">\\n                    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":23,"column":32},"end":{"line":23,"column":46}}}) : helper)))\n    + "timegrid-hourmarker-time\\" style=\\"color: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"currentTimeColor")), depth0))\n    + "; font-size: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"currentTimeFontSize")), depth0))\n    + ";\\">"\n    + ((stack1 = (lookupProperty(helpers,"timegridCurrentTime-tmpl")||(depth0 && lookupProperty(depth0,"timegridCurrentTime-tmpl"))||alias2).call(alias1,depth0,{"name":"timegridCurrentTime-tmpl","hash":{},"data":data,"loc":{"start":{"line":23,"column":171},"end":{"line":23,"column":206}}})) != null ? stack1 : "")\n    + "</div>\\n                </div>\\n";\n},"15":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":33,"column":20},"end":{"line":33,"column":34}}}) : helper)))\n    + "timegrid-gridline\\" style=\\"height: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"oneHourHeight")), depth0))\n    + ";\\n"\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(data && lookupProperty(data,"last")),{"name":"unless","hash":{},"fn":container.program(16, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":34,"column":12},"end":{"line":36,"column":23}}})) != null ? stack1 : "")\n    + "        \\">\\n            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":38,"column":24},"end":{"line":38,"column":38}}}) : helper)))\n    + "timegrid-gridline-half\\" style=\\"height: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"halfHourHeight")), depth0))\n    + "; border-bottom: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"halfHourBorderBottom")), depth0))\n    + ";\\"></div>\\n        </div>\\n";\n},"16":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "            border-bottom: "\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"borderBottom")), depth0))\n    + ";\\n";\n},"18":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":47,"column":16},"end":{"line":47,"column":30}}}) : helper)))\n    + "timegrid-hourmarker\\" style=\\"top:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"hourmarkerTop") || (depth0 != null ? lookupProperty(depth0,"hourmarkerTop") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"hourmarkerTop","hash":{},"data":data,"loc":{"start":{"line":47,"column":62},"end":{"line":47,"column":79}}}) : helper)))\n    + "%\\">\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":48,"column":20},"end":{"line":48,"column":34}}}) : helper)))\n    + "timegrid-hourmarker-line-left\\" style=\\"width:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"todaymarkerLeft") || (depth0 != null ? lookupProperty(depth0,"todaymarkerLeft") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"todaymarkerLeft","hash":{},"data":data,"loc":{"start":{"line":48,"column":78},"end":{"line":48,"column":97}}}) : helper)))\n    + "%; border-top: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"currentTimeLeftBorderTop") : stack1), depth0))\n    + ";\\"></div>\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":49,"column":20},"end":{"line":49,"column":34}}}) : helper)))\n    + "timegrid-todaymarker\\" style=\\"left:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"todaymarkerLeft") || (depth0 != null ? lookupProperty(depth0,"todaymarkerLeft") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"todaymarkerLeft","hash":{},"data":data,"loc":{"start":{"line":49,"column":68},"end":{"line":49,"column":87}}}) : helper)))\n    + "%; background-color: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"currentTimeBulletBackgroundColor") : stack1), depth0))\n    + "; \\">today</div>\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":50,"column":20},"end":{"line":50,"column":34}}}) : helper)))\n    + "timegrid-hourmarker-line-today\\" style=\\"left:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"todaymarkerLeft") || (depth0 != null ? lookupProperty(depth0,"todaymarkerLeft") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"todaymarkerLeft","hash":{},"data":data,"loc":{"start":{"line":50,"column":78},"end":{"line":50,"column":97}}}) : helper)))\n    + "%; width: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"todaymarkerWidth") || (depth0 != null ? lookupProperty(depth0,"todaymarkerWidth") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"todaymarkerWidth","hash":{},"data":data,"loc":{"start":{"line":50,"column":107},"end":{"line":50,"column":127}}}) : helper)))\n    + "%; border-top: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"currentTimeTodayBorderTop") : stack1), depth0))\n    + ";\\"></div>\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":51,"column":20},"end":{"line":51,"column":34}}}) : helper)))\n    + "timegrid-hourmarker-line-right\\" style=\\"left:"\n    + alias4(((helper = (helper = lookupProperty(helpers,"todaymarkerRight") || (depth0 != null ? lookupProperty(depth0,"todaymarkerRight") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"todaymarkerRight","hash":{},"data":data,"loc":{"start":{"line":51,"column":78},"end":{"line":51,"column":98}}}) : helper)))\n    + "%; border-top: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"currentTimeRightBorderTop") : stack1), depth0))\n    + ";\\"></div>\\n    </div>\\n";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "timegrid-left\\" style=\\"width: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"leftWidth") : stack1), depth0))\n    + "; font-size: "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"styles") : depth0)) != null ? lookupProperty(stack1,"leftFontSize") : stack1), depth0))\n    + ";\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"timezones") : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":2,"column":4},"end":{"line":28,"column":15}}})) != null ? stack1 : "")\n    + "</div>\\n<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":26}}}) : helper)))\n    + "timegrid-right\\" style=\\"margin-left: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"leftWidth")), depth0))\n    + ";\\">\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":31,"column":16},"end":{"line":31,"column":30}}}) : helper)))\n    + "timegrid-h-grid\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"each").call(alias1,(depth0 != null ? lookupProperty(depth0,"hoursLabels") : depth0),{"name":"each","hash":{},"fn":container.program(15, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":32,"column":8},"end":{"line":40,"column":19}}})) != null ? stack1 : "")\n    + "</div>\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":42,"column":16},"end":{"line":42,"column":30}}}) : helper)))\n    + "timegrid-schedules\\">\\n        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":43,"column":20},"end":{"line":43,"column":34}}}) : helper)))\n    + "timegrid-schedules-container\\"></div>\\n    </div>\\n\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"showHourMarker") : depth0),{"name":"if","hash":{},"fn":container.program(18, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":46,"column":4},"end":{"line":53,"column":11}}})) != null ? stack1 : "")\n    + "</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/week/timeGridCurrentTime.hbs":\n/*!***********************************************************!*\\\n  !*** ./src/js/view/template/week/timeGridCurrentTime.hbs ***!\n  \\***********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1026739__) {\n\nvar Handlebars = __nested_webpack_require_1026739__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = (lookupProperty(helpers,"timegridCurrentTime-tmpl")||(depth0 && lookupProperty(depth0,"timegridCurrentTime-tmpl"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{"name":"timegridCurrentTime-tmpl","hash":{},"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}}})) != null ? stack1 : "")\n    + "\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/week/timeMoveGuide.hbs":\n/*!*****************************************************!*\\\n  !*** ./src/js/view/template/week/timeMoveGuide.hbs ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1028008__) {\n\nvar Handlebars = __nested_webpack_require_1028008__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":4,"column":24},"end":{"line":4,"column":38}}}) : helper)))\n    + "time-schedule-content "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":4,"column":60},"end":{"line":4,"column":74}}}) : helper)))\n    + "time-schedule-content-travel-time\\" style=\\"border-color:"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + "; border-bottom: 1px dashed "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; height: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"goingDurationHeight") || (depth0 != null ? lookupProperty(depth0,"goingDurationHeight") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"goingDurationHeight","hash":{},"data":data,"loc":{"start":{"line":4,"column":203},"end":{"line":4,"column":226}}}) : helper)))\n    + "%;\\">"\n    + ((stack1 = (lookupProperty(helpers,"goingDuration-tmpl")||(depth0 && lookupProperty(depth0,"goingDuration-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"goingDuration-tmpl","hash":{},"data":data,"loc":{"start":{"line":4,"column":230},"end":{"line":4,"column":260}}})) != null ? stack1 : "")\n    + "</div>\\n";\n},"3":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":10,"column":24},"end":{"line":10,"column":38}}}) : helper)))\n    + "time-schedule-content "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":10,"column":60},"end":{"line":10,"column":74}}}) : helper)))\n    + "time-schedule-content-travel-time\\" style=\\"border-color:"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + "; border-top: 1px dashed "\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"color") : stack1), depth0))\n    + "; height: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"comingDurationHeight") || (depth0 != null ? lookupProperty(depth0,"comingDurationHeight") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"comingDurationHeight","hash":{},"data":data,"loc":{"start":{"line":10,"column":200},"end":{"line":10,"column":224}}}) : helper)))\n    + "%;\\">"\n    + ((stack1 = (lookupProperty(helpers,"comingDuration-tmpl")||(depth0 && lookupProperty(depth0,"comingDuration-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"comingDuration-tmpl","hash":{},"data":data,"loc":{"start":{"line":10,"column":228},"end":{"line":10,"column":259}}})) != null ? stack1 : "")\n    + "</div>\\n";\n},"5":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":13,"column":38},"end":{"line":13,"column":52}}}) : helper)))\n    + "time-resize-handle handle-x\\">&nbsp;</div>";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}}}) : helper)))\n    + "time-date-schedule-block\\" data-id=\\""\n    + alias4((lookupProperty(helpers,"stamp")||(depth0 && lookupProperty(depth0,"stamp"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"stamp","hash":{},"data":data,"loc":{"start":{"line":1,"column":61},"end":{"line":1,"column":76}}}))\n    + "\\" style=\\"width: 100%; height: 100%;\\">\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":30}}}) : helper)))\n    + "time-schedule "\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":58}}}) : helper)))\n    + "time-date-schedule-block-focused\\" style=\\"color: #ffffff; background-color:"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"dragBgColor") : stack1), depth0))\n    + ";\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hasGoingDuration") : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":3,"column":8},"end":{"line":5,"column":15}}})) != null ? stack1 : "")\n    + "            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":6,"column":24},"end":{"line":6,"column":38}}}) : helper)))\n    + "time-schedule-content\\" style=\\"height: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"modelDurationHeight") || (depth0 != null ? lookupProperty(depth0,"modelDurationHeight") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"modelDurationHeight","hash":{},"data":data,"loc":{"start":{"line":6,"column":76},"end":{"line":6,"column":99}}}) : helper)))\n    + "%; border-color:"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,"model") : depth0)) != null ? lookupProperty(stack1,"borderColor") : stack1), depth0))\n    + ";\\">\\n                "\n    + ((stack1 = (lookupProperty(helpers,"time-tmpl")||(depth0 && lookupProperty(depth0,"time-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"model") : depth0),{"name":"time-tmpl","hash":{},"data":data,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":37}}})) != null ? stack1 : "")\n    + "\\n            </div>\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hasComingDuration") : depth0),{"name":"if","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":9,"column":8},"end":{"line":11,"column":15}}})) != null ? stack1 : "")\n    + "    </div>\\n    "\n    + ((stack1 = lookupProperty(helpers,"unless").call(alias1,(depth0 != null ? lookupProperty(depth0,"croppedEnd") : depth0),{"name":"unless","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":104}}})) != null ? stack1 : "")\n    + "\\n    <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":30}}}) : helper)))\n    + "time-date-schedule-block-cover\\"></div>\\n</div>\\n";\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/template/week/timezoneSticky.hbs":\n/*!******************************************************!*\\\n  !*** ./src/js/view/template/week/timezoneSticky.hbs ***!\n  \\******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1039209__) {\n\nvar Handlebars = __nested_webpack_require_1039209__(/*! ./node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nmodule.exports = (Handlebars[\'default\'] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "<div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":2,"column":12},"end":{"line":2,"column":26}}}) : helper)))\n    + "timegrid-timezone-label-container\\" style=\\""\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(depth0 != null ? lookupProperty(depth0,"hidden") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":2,"column":68},"end":{"line":2,"column":102}}})) != null ? stack1 : "")\n    + "background-color: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"backgroundColor") || (depth0 != null ? lookupProperty(depth0,"backgroundColor") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"backgroundColor","hash":{},"data":data,"loc":{"start":{"line":2,"column":120},"end":{"line":2,"column":139}}}) : helper)))\n    + "; height: 100%; width: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"width") || (depth0 != null ? lookupProperty(depth0,"width") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"width","hash":{},"data":data,"loc":{"start":{"line":2,"column":162},"end":{"line":2,"column":171}}}) : helper)))\n    + "%; left: "\n    + alias4(((helper = (helper = lookupProperty(helpers,"left") || (depth0 != null ? lookupProperty(depth0,"left") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"left","hash":{},"data":data,"loc":{"start":{"line":2,"column":180},"end":{"line":2,"column":188}}}) : helper)))\n    + "%; font-size: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"leftFontSize")), depth0))\n    + "; border-right: "\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"leftBorderRight")), depth0))\n    + ";\\">\\n    <div title=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"tooltip") || (depth0 != null ? lookupProperty(depth0,"tooltip") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"tooltip","hash":{},"data":data,"loc":{"start":{"line":3,"column":16},"end":{"line":3,"column":27}}}) : helper)))\n    + "\\" class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":3,"column":36},"end":{"line":3,"column":50}}}) : helper)))\n    + "timegrid-timezone-label-cell\\" data-timezone=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"displayLabel") || (depth0 != null ? lookupProperty(depth0,"displayLabel") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"displayLabel","hash":{},"data":data,"loc":{"start":{"line":3,"column":95},"end":{"line":3,"column":111}}}) : helper)))\n    + "\\" style=\\"height: 100%; width: 100%;\\">\\n"\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,(lookupProperty(helpers,"and")||(depth0 && lookupProperty(depth0,"and"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"isPrimary") : depth0),((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"showTimezoneCollapseButton")),{"name":"and","hash":{},"data":data,"loc":{"start":{"line":4,"column":14},"end":{"line":4,"column":62}}}),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":4,"column":8},"end":{"line":10,"column":15}}})) != null ? stack1 : "")\n    + "        <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":11,"column":20},"end":{"line":11,"column":34}}}) : helper)))\n    + "timegrid-timezone-label\\">"\n    + ((stack1 = (lookupProperty(helpers,"timezoneDisplayLabel-tmpl")||(depth0 && lookupProperty(depth0,"timezoneDisplayLabel-tmpl"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,"timezoneOffset") : depth0),(depth0 != null ? lookupProperty(depth0,"displayLabel") : depth0),{"name":"timezoneDisplayLabel-tmpl","hash":{},"data":data,"loc":{"start":{"line":11,"column":59},"end":{"line":11,"column":118}}})) != null ? stack1 : "")\n    + "</div>\\n    </div>\\n</div>\\n";\n},"2":function(container,depth0,helpers,partials,data) {\n    return "display:none;";\n},"4":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return "            <div class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":5,"column":24},"end":{"line":5,"column":38}}}) : helper)))\n    + "timegrid-timezone-close-btn\\" style=\\"border: 1px solid #ddd; top:2px; bottom: 2px; width: 10px; border-left: none;\\">\\n                <span style=\\"color: #777; height: calc("\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"displayTimezoneLabelHeight")), depth0))\n    + " - 6px); line-height: calc("\n    + alias4(alias5(((stack1 = ((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"styles"))) && lookupProperty(stack1,"displayTimezoneLabelHeight")), depth0))\n    + " - 6px);\\">\\n                    <span class=\\""\n    + alias4(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":33},"end":{"line":7,"column":47}}}) : helper)))\n    + "icon "\n    + ((stack1 = lookupProperty(helpers,"if").call(alias1,((stack1 = (data && lookupProperty(data,"root"))) && lookupProperty(stack1,"timezonesCollapsed")),{"name":"if","hash":{},"fn":container.program(5, data, 0),"inverse":container.program(7, data, 0),"data":data,"loc":{"start":{"line":7,"column":52},"end":{"line":7,"column":154}}})) != null ? stack1 : "")\n    + "\\"></span>\\n                </span>\\n            </div>\\n";\n},"5":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":84},"end":{"line":7,"column":98}}}) : helper)))\n    + "ic-arrow-right";\n},"7":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,"CSS_PREFIX") || (depth0 != null ? lookupProperty(depth0,"CSS_PREFIX") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"CSS_PREFIX","hash":{},"data":data,"loc":{"start":{"line":7,"column":120},"end":{"line":7,"column":134}}}) : helper)))\n    + "ic-arrow-left";\n},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,"each").call(alias1,(lookupProperty(helpers,"reverse")||(depth0 && lookupProperty(depth0,"reverse"))||container.hooks.helperMissing).call(alias1,(depth0 != null ? lookupProperty(depth0,"timezones") : depth0),{"name":"reverse","hash":{},"data":data,"loc":{"start":{"line":1,"column":8},"end":{"line":1,"column":27}}}),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":1,"column":0},"end":{"line":14,"column":11}}})) != null ? stack1 : "");\n},"useData":true});\n\n/***/ }),\n\n/***/ "./src/js/view/view.js":\n/*!*****************************!*\\\n  !*** ./src/js/view/view.js ***!\n  \\*****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1049883__) {\n\n"use strict";\n/**\n * @fileoverview The base class of views.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_1049883__(/*! tui-code-snippet */ "tui-code-snippet");\nvar domutil = __nested_webpack_require_1049883__(/*! ../common/domutil */ "./src/js/common/domutil.js");\nvar Collection = __nested_webpack_require_1049883__(/*! ../common/collection */ "./src/js/common/collection.js");\n\n/**\n * Base class of views.\n *\n * All views create own container element inside supplied container element.\n * @constructor\n * @param {HTMLElement} container Default container element for view.\n *  you can use this element for this.container syntax.\n */\nfunction View(container) {\n    var id = util.stamp(this);\n\n    if (util.isUndefined(container)) {\n        container = domutil.appendHTMLElement(\'div\');\n    }\n\n    domutil.addClass(container, this.cssprefix(id));\n\n    /**\n     * unique id\n     * @type {number}\n     */\n    this.id = id;\n\n    /**\n     * base element of view.\n     * @type {HTMLDIVElement}\n     */\n    this.container = container;\n\n    /*eslint-disable*/\n    /**\n     * child views.\n     * @type {Collection}\n     */\n    this.children = new Collection(function(view) {\n        return util.stamp(view);\n    });\n    /* eslint-enable*/\n\n    /**\n     * parent view instance.\n     * @type {View}\n     */\n    this.parent = null;\n\n    /**\n     * state of view\n     */\n    this.state = {};\n}\n\n/**\n * CSS classname prefix\n * @type {string}\n */\nView.prototype.cssPrefix = \'tui-view-\';\n\n/**\n * Add child views.\n * @param {View} view The view instance to add.\n * @param {function} [fn] Function for invoke before add. parent view class is supplied first arguments.\n */\nView.prototype.addChild = function(view, fn) {\n    if (fn) {\n        fn.call(view, this);\n    }\n    // add parent view\n    view.parent = this;\n\n    this.children.add(view);\n};\n\n/**\n * Remove added child view.\n * @param {(number|View)} id View id or instance itself to remove.\n * @param {function} [fn] Function for invoke before remove. parent view class is supplied first arguments.\n */\nView.prototype.removeChild = function(id, fn) {\n    var view = util.isNumber(id) ? this.children.items[id] : id;\n\n    id = util.stamp(view);\n\n    if (fn) {\n        fn.call(view, this);\n    }\n\n    this.children.remove(id);\n};\n\n/**\n * Render view recursively.\n */\nView.prototype.render = function() {\n    this.children.each(function(childView) {\n        childView.render();\n    });\n};\n\n/**\n * Invoke function recursively.\n * @param {function} fn - function to invoke child view recursively\n * @param {boolean} [skipThis=false] - set true then skip invoke with this(root) view.\n */\nView.prototype.recursive = function(fn, skipThis) {\n    if (!util.isFunction(fn)) {\n        return;\n    }\n\n    if (!skipThis) {\n        fn(this);\n    }\n\n    this.children.each(function(childView) {\n        childView.recursive(fn);\n    });\n};\n\n/**\n * Resize view recursively to parent.\n */\nView.prototype.resize = function() {\n    var args = Array.prototype.slice.call(arguments),\n        parent = this.parent;\n\n    while (parent) {\n        if (util.isFunction(parent._onResize)) {\n            parent._onResize.apply(parent, args);\n        }\n\n        parent = parent.parent;\n    }\n};\n\n/**\n * Invoking method before destroying.\n */\nView.prototype._beforeDestroy = function() {};\n\n/**\n * Clear properties\n */\nView.prototype._destroy = function() {\n    this._beforeDestroy();\n    this.children.clear();\n    this.container.innerHTML = \'\';\n\n    this.id = this.parent = this.children = this.container = null;\n};\n\n/*eslint-disable*/\n/**\n * Destroy child view recursively.\n */\nView.prototype.destroy = function(isChildView) {\n    this.children.each(function(childView) {\n        childView.destroy(true);\n        childView._destroy();\n    });\n\n    if (isChildView) {\n        return;\n    }\n\n    this._destroy();\n};\n/* eslint-enable*/\n\n/**\n * Calculate view\'s container element bound.\n * @returns {object} The bound of container element.\n */\nView.prototype.getViewBound = function() {\n    var container = this.container,\n        position = domutil.getPosition(container),\n        size = domutil.getSize(container);\n\n    return {\n        x: position[0],\n        y: position[1],\n        width: size[0],\n        height: size[1]\n    };\n};\n\n/**\n * Return view default CSS prefix\n * @param {string} [className] - if supplied then return prefix added class name\n * @returns {string} CSS prefix value\n */\nView.prototype.cssprefix = function(className) {\n    return this.cssPrefix + (className || \'\');\n};\n\n/**\n * set state\n * @param {object} state - state\n */\nView.prototype.setState = function(state) {\n    util.extend(this.state, state);\n};\n\nutil.CustomEvents.mixin(View);\n\nmodule.exports = View;\n\n\n/***/ }),\n\n/***/ "./src/js/view/week/dayGrid.js":\n/*!*************************************!*\\\n  !*** ./src/js/view/week/dayGrid.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1054860__) {\n\n"use strict";\n/**\n * @fileoverview DayGrid in weekly view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_1054860__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_1054860__(/*! ../../config */ "./src/js/config.js"),\n    common = __nested_webpack_require_1054860__(/*! ../../common/common */ "./src/js/common/common.js"),\n    datetime = __nested_webpack_require_1054860__(/*! ../../common/datetime */ "./src/js/common/datetime.js"),\n    domutil = __nested_webpack_require_1054860__(/*! ../../common/domutil */ "./src/js/common/domutil.js"),\n    TZDate = __nested_webpack_require_1054860__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date,\n    View = __nested_webpack_require_1054860__(/*! ../../view/view */ "./src/js/view/view.js"),\n    DayGridSchedule = __nested_webpack_require_1054860__(/*! ./dayGridSchedule */ "./src/js/view/week/dayGridSchedule.js"),\n    baseTmpl = __nested_webpack_require_1054860__(/*! ../template/week/dayGrid.hbs */ "./src/js/view/template/week/dayGrid.hbs"),\n    reqAnimFrame = __nested_webpack_require_1054860__(/*! ../../common/reqAnimFrame */ "./src/js/common/reqAnimFrame.js");\nvar mmax = Math.max,\n    mmin = Math.min;\n\n/**\n * @constructor\n * @extends {Weekday}\n * @param {string} name - view name\n * @param {object} options - options for DayGridSchedule view\n * @param {number} [options.heightPercent] - height percent of view\n * @param {number} [options.containerButtonGutter=8] - free space at bottom to\n *  make create easy.\n * @param {number} [options.scheduleHeight=18] - height of each schedule block.\n * @param {number} [options.scheduleGutter=2] - gutter height of each schedule block.\n * @param {HTMLDIVElement} container - DOM element to use container for this\n *  view.\n * @param {Theme} theme - theme instance\n */\nfunction DayGrid(name, options, container, theme) {\n    container = domutil.appendHTMLElement(\n        \'div\',\n        container,\n        config.classname(\'daygrid-layout\')\n    );\n    View.call(this, container);\n\n    name = name || \'daygrid\';\n\n    this.options = util.extend({\n        viewName: name,\n        daynames: [\'Sun\', \'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\', \'Sat\'],\n        renderStartDate: \'\',\n        renderEndDate: \'\',\n        containerBottomGutter: 18,\n        scheduleHeight: parseInt(theme.week.dayGridSchedule.height, 10),\n        scheduleGutter: parseInt(theme.week.dayGridSchedule.marginTop, 10),\n        scheduleContainerTop: 1,\n        timezones: options.timezones,\n        isReadOnly: options.isReadOnly,\n        getViewModelFunc: function(viewModel) {\n            return viewModel.schedulesInDateRange[name];\n        },\n        setViewModelFunc: function(viewModel, matrices) {\n            viewModel.schedulesInDateRange[name] = matrices;\n        }\n    }, options.week);\n\n    this.handler = {};\n    this.vPanel = null;\n\n    this.state.collapsed = true;\n}\n\nutil.inherit(DayGrid, View);\n\n/**\n * @override\n * @param {object} viewModel - schedules view models\n */\nDayGrid.prototype.getBaseViewModel = function(viewModel) {\n    var opt = this.options,\n        daynames = opt.daynames,\n        range = viewModel.range,\n        grids = viewModel.grids,\n        matrices = opt.getViewModelFunc(viewModel),\n        exceedDate = {},\n        panel = getPanel(opt.panels, opt.viewName),\n        panelHeight = this.getViewBound().height,\n        collapsed = this.state.collapsed,\n        heightForcedSet = this.vPanel ? this.vPanel.getHeightForcedSet() : false,\n        timezonesCollapsed = viewModel.state.timezonesCollapsed,\n        styles = this._getStyles(viewModel.theme, timezonesCollapsed);\n\n    var baseViewModel, visibleScheduleCount;\n    var now = new TZDate().toLocalTime();\n\n    if (panel.showExpandableButton) {\n        if (!heightForcedSet) {\n            if (collapsed) {\n                panelHeight = mmax(panelHeight, panel.maxHeight);\n            } else {\n                panelHeight = mmin(panelHeight, panel.maxExpandableHeight);\n            }\n        }\n\n        visibleScheduleCount = Math.floor(panelHeight / (opt.scheduleHeight + opt.scheduleGutter));\n        if (collapsed) {\n            exceedDate = this.parent.controller.getExceedDate(visibleScheduleCount,\n                matrices,\n                viewModel.range\n            );\n            matrices = this.parent.controller.excludeExceedSchedules(matrices, visibleScheduleCount);\n            opt.setViewModelFunc(viewModel, matrices);\n        }\n    }\n\n    baseViewModel = {\n        viewName: opt.viewName,\n        range: range,\n        grids: grids,\n        days: util.map(viewModel.range, function(d, index) {\n            var day = d.getDay();\n            var ymd = datetime.format(d, \'YYYYMMDD\');\n            var isToday = datetime.isSameDate(now, d);\n\n            return {\n                day: day,\n                dayName: daynames[day],\n                isToday: isToday,\n                date: d.getDate(),\n                renderDate: datetime.format(d, \'YYYY-MM-DD\'),\n                hiddenSchedules: exceedDate[ymd] || 0,\n                width: grids[index] ? grids[index].width : 0,\n                left: grids[index] ? grids[index].left : 0,\n                backgroundColor: viewModel.range.length > 1 ?\n                    getWeekBackgroundColor(day, isToday, styles) : styles.backgroundColor\n            };\n        }),\n        exceedDate: exceedDate,\n        showExpandableButton: panel.showExpandableButton,\n        collapsed: collapsed,\n        collapseBtnIndex: this.state.clickedExpandBtnIndex,\n        styles: styles\n    };\n\n    return baseViewModel;\n};\n\n/**\n * @override\n * @param {object} viewModel - schedules view models\n */\nDayGrid.prototype.render = function(viewModel) {\n    var opt = this.options,\n        container = this.container,\n        baseViewModel = this.getBaseViewModel(viewModel),\n        scheduleContainerTop = this.options.scheduleContainerTop;\n    var dayGridSchedule;\n\n    container.innerHTML = baseTmpl(baseViewModel);\n\n    this.children.clear();\n\n    dayGridSchedule = new DayGridSchedule(\n        opt,\n        domutil.find(config.classname(\'.container\'), container)\n    );\n    this.addChild(dayGridSchedule);\n\n    dayGridSchedule.on(\'afterRender\', function(weekdayViewModel) {\n        baseViewModel.height = weekdayViewModel.minHeight + scheduleContainerTop;\n    });\n\n    this.children.each(function(childView) {\n        childView.render(viewModel);\n    }, this);\n\n    this.fire(\'afterRender\', baseViewModel);\n};\n\nDayGrid.prototype._beforeDestroy = function() {\n};\n\nDayGrid.prototype.addHandler = function(type, handler, vPanel) {\n    var self = this;\n\n    this.handler[type] = handler;\n    this.vPanel = vPanel;\n\n    if (type === \'click\') {\n        handler.on(\'expand\', function() {\n            self.setState({\n                collapsed: false\n            });\n        }, this);\n        handler.on(\'collapse\', function() {\n            self.setState({\n                collapsed: true\n            });\n        }, this);\n    }\n};\n\nDayGrid.prototype._expand = function() {\n    reqAnimFrame.requestAnimFrame(function() {\n        var vPanel = this.vPanel;\n        var opt = this.options;\n        var panel = getPanel(opt.panels, opt.viewName);\n\n        vPanel.setMaxHeight(panel.maxExpandableHeight);\n        vPanel.setHeightForcedSet(false);\n        vPanel.setHeight(null, panel.maxExpandableHeight);\n\n        if (this.parent) {\n            this.parent.render();\n        }\n    }, this);\n};\n\nDayGrid.prototype._collapse = function() {\n    reqAnimFrame.requestAnimFrame(function() {\n        var vPanel = this.vPanel;\n        var opt = this.options;\n        var panel = getPanel(opt.panels, opt.viewName);\n\n        vPanel.setMaxHeight(panel.maxHeight);\n        vPanel.setHeightForcedSet(false);\n        vPanel.setHeight(null, panel.minHeight);\n\n        if (this.parent) {\n            this.parent.render();\n        }\n    }, this);\n};\n\n/**\n * set state\n * @param {object} state - state\n */\nDayGrid.prototype.setState = function(state) {\n    var collapsed = this.state.collapsed;\n    View.prototype.setState.call(this, state);\n\n    if (this.state.collapsed === collapsed) {\n        return;\n    }\n\n    if (this.state.collapsed) {\n        this._collapse();\n    } else {\n        this._expand();\n    }\n};\n\n/**\n * Get the styles from theme\n * @param {Theme} theme - theme instance\n * @param {boolean} timezonesCollapsed - multiple timezones are collapsed.\n * @returns {object} styles - styles object\n */\nDayGrid.prototype._getStyles = function(theme, timezonesCollapsed) {\n    var styles = {};\n    var timezonesLength = this.options.timezones.length;\n    var collapsed = timezonesCollapsed;\n    var numberAndUnit;\n\n    if (theme) {\n        styles.borderRight = theme.week.daygrid.borderRight || theme.common.border;\n        styles.todayBackgroundColor = theme.week.today.backgroundColor;\n        styles.weekendBackgroundColor = theme.week.weekend.backgroundColor;\n        styles.backgroundColor = theme.week.daygrid.backgroundColor;\n        styles.leftWidth = theme.week.daygridLeft.width;\n        styles.leftBackgroundColor = theme.week.daygridLeft.backgroundColor;\n        styles.leftPaddingRight = theme.week.daygridLeft.paddingRight;\n        styles.leftBorderRight = theme.week.daygridLeft.borderRight;\n\n        if (!collapsed && timezonesLength > 1) {\n            numberAndUnit = common.parseUnit(styles.leftWidth);\n            styles.leftWidth = (numberAndUnit[0] * timezonesLength) + numberAndUnit[1];\n        }\n    }\n\n    return styles;\n};\n\n/**\n * Get a background color based on day.\n * @param {number} day - day number\n * @param {boolean} isToday - today flag\n * @param {object} styles - style object\n * @returns {string} backgroundColor\n */\nfunction getWeekBackgroundColor(day, isToday, styles) {\n    var backgroundColor = \'\';\n\n    if (day === 0 || day === 6) {\n        backgroundColor = styles.weekendBackgroundColor;\n    } else if (isToday) {\n        backgroundColor = styles.todayBackgroundColor;\n    } else {\n        backgroundColor = styles.backgroundColor;\n    }\n\n    return backgroundColor;\n}\n\n/**\n * get a panel infomation\n * @param {Array.<object[]>} panels - panel infomations\n * @param {string} name - panel name\n * @returns {object} panel information\n */\nfunction getPanel(panels, name) {\n    var found;\n\n    util.forEach(panels, function(panel) {\n        if (panel.name === name) {\n            found = panel;\n        }\n    });\n\n    return found;\n}\n\nmodule.exports = DayGrid;\n\n\n/***/ }),\n\n/***/ "./src/js/view/week/dayGridSchedule.js":\n/*!*********************************************!*\\\n  !*** ./src/js/view/week/dayGridSchedule.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1065478__) {\n\n"use strict";\n/**\n * @fileoverview Weekday view for week\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_1065478__(/*! tui-code-snippet */ "tui-code-snippet");\nvar Weekday = __nested_webpack_require_1065478__(/*! ../weekday */ "./src/js/view/weekday.js"),\n    tmpl = __nested_webpack_require_1065478__(/*! ../template/week/dayGridSchedule.hbs */ "./src/js/view/template/week/dayGridSchedule.hbs");\nvar mmax = Math.max;\n\n/**\n * @constructor\n * @extends {Weekday}\n * @param {object} options - options for DayGridSchedule view\n * @param {number} [options.containerButtonGutter=8] - free space at bottom to\n *  make create easy.\n * @param {number} [options.scheduleHeight=18] - height of each schedule block.\n * @param {number} [options.scheduleGutter=2] - gutter height of each schedule block.\n * @param {HTMLDIVElement} container - DOM element to use container for this\n *  view.\n */\nfunction DayGridSchedule(options, container) {\n    Weekday.call(this, options, container);\n\n    this.collapsed = true;\n}\n\nutil.inherit(DayGridSchedule, Weekday);\n\n/**\n * Render Weekday view\n * @override\n */\nDayGridSchedule.prototype.render = function(viewModel) {\n    var container = this.container;\n    var baseViewModel;\n\n    baseViewModel = this.getBaseViewModel(viewModel);\n\n    container.innerHTML = tmpl(baseViewModel);\n\n    this.fire(\'afterRender\', baseViewModel);\n};\n\n/**\n * returns maximum schedule count in day\n * @param {array} matrices - The matrices for schedule placing.\n * @returns {number} maximum schedule count in day\n */\nDayGridSchedule.prototype._getMaxScheduleInDay = function(matrices) {\n    return mmax.apply(\n        null,\n        util.map(matrices, function(matrix) {\n            return Math.max.apply(null, util.map(matrix, function(row) {\n                return row.length;\n            }));\n        })\n    );\n};\n\n/**\n * returns minimum height for container.\n * @param {number} maxScheduleInDay - max schedule blocks in one day\n * @returns {number}\n */\nDayGridSchedule.prototype._getMinHeight = function(maxScheduleInDay) {\n    var opt = this.options;\n    var contentHeight = (maxScheduleInDay * opt.scheduleHeight)\n        + ((maxScheduleInDay - 1) * opt.scheduleGutter);\n\n    // if (this.collapsed && this.aboutMe.maxHeight >= contentHeight + opt.containerBottomGutter) {\n    //     contentHeight += opt.containerBottomGutter;\n    // }\n\n    return contentHeight;\n};\n\n/**\n * @override\n * @param {object} viewModel - schedules view models\n */\nDayGridSchedule.prototype.getBaseViewModel = function(viewModel) {\n    var opt = this.options;\n    var matrices = opt.getViewModelFunc(viewModel);\n    var maxScheduleInDay = this._getMaxScheduleInDay(matrices);\n    var baseViewModel;\n    var styles = this._getStyles(viewModel.theme);\n\n    baseViewModel = Weekday.prototype.getBaseViewModel.call(this, viewModel);\n\n    baseViewModel = util.extend({\n        minHeight: this._getMinHeight(maxScheduleInDay),\n        matrices: matrices,\n        scheduleContainerTop: this.options.scheduleContainerTop,\n        maxScheduleInDay: maxScheduleInDay,\n        isReadOnly: opt.isReadOnly,\n        styles: styles\n    }, baseViewModel);\n\n    return baseViewModel;\n};\n\n/**\n * Get the styles from theme\n * @param {Theme} theme - theme instance\n * @returns {object} styles - styles object\n */\nDayGridSchedule.prototype._getStyles = function(theme) {\n    var styles = {};\n\n    if (theme) {\n        styles.borderRadius = theme.week.dayGridSchedule.borderRadius;\n    }\n\n    return styles;\n};\n\nmodule.exports = DayGridSchedule;\n\n\n/***/ }),\n\n/***/ "./src/js/view/week/dayname.js":\n/*!*************************************!*\\\n  !*** ./src/js/view/week/dayname.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1069263__) {\n\n"use strict";\n/**\n * @fileoverview View for rendering daynames\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_1069263__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_1069263__(/*! ../../config */ "./src/js/config.js");\nvar common = __nested_webpack_require_1069263__(/*! ../../common/common */ "./src/js/common/common.js");\nvar datetime = __nested_webpack_require_1069263__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar TZDate = __nested_webpack_require_1069263__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\nvar domutil = __nested_webpack_require_1069263__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar View = __nested_webpack_require_1069263__(/*! ../view */ "./src/js/view/view.js");\nvar daynameTmpl = __nested_webpack_require_1069263__(/*! ../template/week/daynames.hbs */ "./src/js/view/template/week/daynames.hbs");\n\n/**\n * @constructor\n * @param {object} options - options for dayname view\n * @param {HTMLElement} container Container element to use.\n * @param {Theme} theme - theme instance\n * @extends {View}\n */\nfunction DayName(options, container, theme) {\n    container = domutil.appendHTMLElement(\n        \'div\',\n        container,\n        config.classname(\'dayname-container\')\n    );\n\n    this.options = util.extend({\n        daynames: [\'Sun\', \'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\', \'Sat\'],\n        timezones: options.timezones\n    }, options.week);\n\n    /**\n     * @type {Theme}\n     */\n    this.theme = theme;\n\n    View.call(this, container);\n\n    this.applyTheme();\n}\n\nutil.inherit(DayName, View);\n\n/**\n * Get default viewmodels.\n * @param {Date} start The date of start render\n * @param {Date} end The end of end render\n * @param {object} grids grid data(width, left, day)\n * @returns {array} viewmodel.\n */\nDayName.prototype._getBaseViewModel = function(start, end, grids) {\n    var daynames = this.options.daynames,\n        theme = this.theme,\n        now = new TZDate().toLocalTime(),\n        viewModel;\n\n    viewModel = util.map(datetime.range(\n        datetime.start(start),\n        datetime.end(end),\n        datetime.MILLISECONDS_PER_DAY\n    ), function(d, i) {\n        var day = d.getDay();\n        var isToday = datetime.isSameDate(d, now);\n        var isPastDay = d < now && !isToday;\n\n        return {\n            day: day,\n            dayName: daynames[day],\n            isToday: isToday,\n            date: d.getDate(),\n            left: grids[i] ? grids[i].left : 0,\n            width: grids[i] ? grids[i].width : 0,\n            renderDate: datetime.format(d, \'YYYY-MM-DD\'),\n            color: this._getDayNameColor(theme, day, isToday, isPastDay)\n        };\n    }, this);\n\n    return viewModel;\n};\n\n/**\n * @override\n * @param {object} viewModel View model from parent (WeekView)\n */\nDayName.prototype.render = function(viewModel) {\n    var dayNames = this._getBaseViewModel(\n        viewModel.renderStartDate,\n        viewModel.renderEndDate,\n        viewModel.grids\n    );\n    var timezonesCollapsed = viewModel.state.timezonesCollapsed;\n    var styles = this._getStyles(this.theme, timezonesCollapsed);\n    var baseViewModel = util.extend({}, {\n        dayNames: dayNames,\n        styles: styles\n    });\n\n    this.container.innerHTML = daynameTmpl(baseViewModel);\n};\n\n/**\n * Get a day name color\n * @param {Theme} theme - theme instance\n * @param {number} day - day number\n * @param {boolean} isToday - today flag\n * @param {boolean} isPastDay - is past day flag\n * @returns {string} style - color style\n */\nDayName.prototype._getDayNameColor = function(theme, day, isToday, isPastDay) {\n    var color = \'\';\n\n    if (theme) {\n        if (day === 0) {\n            color = theme.common.holiday.color;\n        } else if (isPastDay) {\n            color = theme.week.pastDay.color || theme.common.dayname.color;\n        } else if (day === 6) {\n            color = theme.common.saturday.color;\n        } else if (isToday) {\n            color = theme.week.today.color || theme.common.today.color;\n        } else {\n            color = theme.common.dayname.color;\n        }\n    }\n\n    return color;\n};\n\n/**\n * Get the styles from theme\n * @param {Theme} theme - theme instance\n * @param {boolean} timezonesCollapsed - multiple timezones are collapsed.\n * @returns {object} styles - styles object\n */\nDayName.prototype._getStyles = function(theme, timezonesCollapsed) {\n    var styles = {};\n    var timezonesLength = this.options.timezones.length;\n    var collapsed = timezonesCollapsed;\n    var numberAndUnit;\n\n    if (theme) {\n        styles.borderTop = theme.week.dayname.borderTop || theme.common.border;\n        styles.borderBottom = theme.week.dayname.borderBottom || theme.common.border;\n        styles.borderLeft = theme.week.dayname.borderLeft || theme.common.border;\n        styles.paddingLeft = theme.week.dayname.paddingLeft;\n        styles.backgroundColor = theme.week.dayname.backgroundColor;\n        styles.height = theme.week.dayname.height;\n        styles.textAlign = theme.week.dayname.textAlign;\n        styles.marginLeft = theme.week.daygridLeft.width;\n\n        if (!collapsed && timezonesLength > 1) {\n            numberAndUnit = common.parseUnit(styles.marginLeft);\n            styles.marginLeft = (numberAndUnit[0] * timezonesLength) + numberAndUnit[1];\n        }\n    }\n\n    return styles;\n};\n\nDayName.prototype.applyTheme = function() {\n    var styles = this._getStyles(this.theme);\n    var style = this.container.style;\n\n    style.borderTop = styles.borderTop;\n    style.borderBottom = styles.borderBottom;\n    style.height = styles.height;\n    style.backgroundColor = styles.backgroundColor;\n    style.textAlign = styles.textAlign;\n\n    return style;\n};\n\nmodule.exports = DayName;\n\n\n/***/ }),\n\n/***/ "./src/js/view/week/time.js":\n/*!**********************************!*\\\n  !*** ./src/js/view/week/time.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1075172__) {\n\n"use strict";\n/**\n * @fileoverview View of time.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_1075172__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_1075172__(/*! ../../config */ "./src/js/config.js");\nvar datetime = __nested_webpack_require_1075172__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar domutil = __nested_webpack_require_1075172__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar View = __nested_webpack_require_1075172__(/*! ../view */ "./src/js/view/view.js");\nvar timeTmpl = __nested_webpack_require_1075172__(/*! ../template/week/time.hbs */ "./src/js/view/template/week/time.hbs");\nvar tz = __nested_webpack_require_1075172__(/*! ../../common/timezone */ "./src/js/common/timezone.js");\n\nvar forEachArr = util.forEachArray;\nvar SCHEDULE_MIN_DURATION = datetime.MILLISECONDS_SCHEDULE_MIN_DURATION;\n\n/**\n * calculate offset start of schedule\n * @param {ScheduleViewModel} viewModel - view model instance to calculate bound.\n * @param {object} options - options for calculating schedule element\'s bound.\n * @returns {object} - left and width\n */\nfunction getOffsetStart(viewModel, options) {\n    var goingDuration = datetime.millisecondsFrom(\'minutes\', viewModel.valueOf().goingDuration);\n    var startDayOffset = options.todayStart.toDate().getTimezoneOffset();\n    var nativeOffsetMs = tz.getNativeOffsetMs();\n    var startOffset = viewModel.valueOf().start.toDate().getTimezoneOffset();\n    var primaryOffset = tz.getPrimaryOffset();\n    var timezoneOffset = tz.getOffsetByTimezoneName(\n        tz.getPrimaryTimezoneName(),\n        viewModel.valueOf().start.getTime()\n    );\n    var MIN_TO_MS = 60 * 1000;\n    var offsetDiffMs = 0;\n    var offsetStart = viewModel.valueOf().start - goingDuration - options.todayStart;\n\n    if (tz.hasPrimaryTimezoneCustomSetting()) {\n        if (tz.isNativeOsUsingDSTTimezone() && nativeOffsetMs !== startDayOffset) {\n            // When using a custom time zone, the native time zone offset is fixed and rendered.\n            // So, The fixed and rendered time should be recalculated as the original time zone offset.\n            // The current system OS local time is not affected by summer/standard time and the schedule should always be displayed in the same location.\n            offsetDiffMs = (startOffset * MIN_TO_MS) - nativeOffsetMs;\n            offsetStart += offsetDiffMs;\n        }\n\n        if (tz.isPrimaryUsingDSTTimezone() && primaryOffset !== timezoneOffset) {\n            // The custom time zone is a time zone where two offsets including DST are applied.\n            // The first rendered schedule is calculated and drawn with the offset calculated at the access time(system OS local time).\n            // It should be recalculated with the original time zone offset.\n            offsetDiffMs = (primaryOffset - timezoneOffset) * MIN_TO_MS;\n            offsetStart += offsetDiffMs;\n        }\n    }\n\n    return offsetStart;\n}\n\n/**\n * @constructor\n * @extends {View}\n * @param {object} options Options\n * @param {number} options.index Date index in week view.\n * @param {number} options.width Date element width (percent)\n * @param {string} options.ymd YYYMMDD string for this view\n * @param {boolean} options.isToday when set true then assign today design class to container.\n * @param {number} options.hourStart Can limit of render hour start.\n * @param {number} options.hourEnd Can limit of render hour end.\n * @param {HTMLElement} container Element to use container for this view.\n * @param {Theme} theme - theme instance\n */\nfunction Time(options, container, theme) {\n    View.call(this, container);\n\n    this.options = util.extend(\n        {\n            index: 0,\n            width: 0,\n            ymd: \'\',\n            isToday: false,\n            pending: false,\n            hourStart: 0,\n            hourEnd: 24,\n            defaultMarginBottom: 2,\n            minHeight: 18.5,\n            isReadOnly: false\n        },\n        options\n    );\n\n    this.timeTmpl = timeTmpl;\n\n    /**\n     * @type {Theme}\n     */\n    this.theme = theme;\n\n    container.style.width = options.width + \'%\';\n    container.style.left = options.left + \'%\';\n\n    if (this.options.isToday) {\n        domutil.addClass(this.container, config.classname(\'today\'));\n    }\n\n    this.applyTheme();\n}\n\nutil.inherit(Time, View);\n\n/**\n * Convert YYYYMMDD formatted string date to Date.\n * @param {string} str formatted string.\n * @returns {Date} start of date.\n */\nTime.prototype._parseDateGroup = function(str) {\n    var y = parseInt(str.substr(0, 4), 10),\n        m = parseInt(str.substr(4, 2), 10),\n        d = parseInt(str.substr(6, 2), 10);\n    var date = datetime.start();\n\n    date.setFullYear(y, m - 1, d);\n\n    return datetime.start(date);\n};\n\n/**\n * calculate left and width\n * @param {ScheduleViewModel} viewModel - view model instance to calculate bound.\n * @param {object} options - options for calculating schedule element\'s bound.\n * @returns {object} - left and width\n */\nTime.prototype._getScheduleViewBoundX = function(viewModel, options) {\n    var width = options.baseWidth * (viewModel.extraSpace + 1);\n\n    // set width auto when has no collisions.\n    if (!viewModel.hasCollide) {\n        width = null;\n    }\n\n    return {\n        left: options.baseLeft[options.columnIndex],\n        width: width\n    };\n};\n\n/**\n * calculate top, height, croppedStart and croppedEnd\n * @param {ScheduleViewModel} viewModel - view model instance to calculate bound.\n * @param {object} options - options for calculating schedule element\'s bound.\n * @returns {object} - left and width\n */\nTime.prototype._getScheduleViewBoundY = function(viewModel, options) {\n    var baseMS = options.baseMS;\n    var baseHeight = options.baseHeight;\n    var croppedStart = false;\n    var croppedEnd = false;\n    var goingDuration = datetime.millisecondsFrom(\'minutes\', viewModel.valueOf().goingDuration);\n    var comingDuration = datetime.millisecondsFrom(\'minutes\', viewModel.valueOf().comingDuration);\n    var modelDuration = viewModel.duration();\n    var top, height, duration;\n    var goingDurationHeight, modelDurationHeight, comingDurationHeight;\n    var offsetStart = getOffsetStart(viewModel, options);\n\n    // containerHeight : milliseconds in day = x : schedule\'s milliseconds\n    top = (baseHeight * offsetStart) / baseMS;\n\n    modelDuration = modelDuration > SCHEDULE_MIN_DURATION ? modelDuration : SCHEDULE_MIN_DURATION;\n    duration = modelDuration + goingDuration + comingDuration;\n    height = (baseHeight * duration) / baseMS;\n\n    goingDurationHeight = (baseHeight * goingDuration) / baseMS; // common.ratio(duration, goingDuration, 100);\n    modelDurationHeight = (baseHeight * modelDuration) / baseMS; // common.ratio(duration, modelDuration, 100);\n    comingDurationHeight = (baseHeight * comingDuration) / baseMS; // common.ratio(duration, comingDuration, 100);\n\n    if (offsetStart < 0) {\n        top = 0;\n        height += (baseHeight * offsetStart) / baseMS;\n        croppedStart = true;\n    }\n\n    if (height + top > baseHeight) {\n        height = baseHeight - top;\n        croppedEnd = true;\n    }\n\n    return {\n        top: top,\n        height: Math.max(height, this.options.minHeight) - this.options.defaultMarginBottom,\n        modelDurationHeight: modelDurationHeight,\n        goingDurationHeight: goingDurationHeight,\n        comingDurationHeight: comingDurationHeight,\n        hasGoingDuration: goingDuration > 0,\n        hasComingDuration: comingDuration > 0,\n        croppedStart: croppedStart,\n        croppedEnd: croppedEnd\n    };\n};\n\n/**\n * @param {ScheduleViewModel} viewModel - view model instance to calculate bound.\n * @param {object} options - options for calculating schedule element\'s bound.\n * @param {Date} options.todayStart - date object represent schedule date\'s start (00:00:00)\n * @param {number} options.baseMS - the number of milliseconds to render schedule blocks.\n * @param {number} options.baseHeight - pixel value related with baseMS options.\n * @param {number[]} options.baseLeft - left position percents for each columns.\n * @param {number} options.baseWidth - the unit of schedule blocks width percent.\n * @param {number} options.columnIndex - the number index of schedule blocks.\n * it represent rendering index from left sides in view.\n * @returns {object} bound object for supplied view model.\n */\nTime.prototype.getScheduleViewBound = function(viewModel, options) {\n    var boundX = this._getScheduleViewBoundX(viewModel, options);\n    var boundY = this._getScheduleViewBoundY(viewModel, options);\n    var schedule = viewModel.model;\n    var isReadOnly = util.pick(schedule, \'isReadOnly\') || false;\n    var travelBorderColor = schedule.isFocused ? \'#ffffff\' : schedule.borderColor;\n    if (travelBorderColor === schedule.bgColor) {\n        travelBorderColor = null; // follow text color\n    }\n\n    return util.extend(\n        {\n            isReadOnly: isReadOnly,\n            travelBorderColor: travelBorderColor\n        },\n        boundX,\n        boundY\n    );\n};\n\n/**\n * Set viewmodels for rendering.\n * @param {string} ymd The date of schedules. YYYYMMDD format.\n * @param {array} matrices The matrices for schedule placing.\n * @param {number} containerHeight - container\'s height\n */\nTime.prototype._getBaseViewModel = function(ymd, matrices, containerHeight) {\n    var self = this,\n        options = this.options,\n        hourStart = options.hourStart,\n        hourEnd = options.hourEnd,\n        isReadOnly = options.isReadOnly,\n        todayStart,\n        baseMS;\n\n    /**\n     * Calculate each schedule element bounds relative with rendered hour milliseconds and\n     * wrap each schedule model to viewmodels.\n     */\n    containerHeight = containerHeight || this.getViewBound().height;\n    todayStart = this._parseDateGroup(ymd);\n    todayStart.setHours(hourStart);\n    baseMS = datetime.millisecondsFrom(\'hour\', hourEnd - hourStart);\n\n    forEachArr(matrices, function(matrix) {\n        var maxRowLength, widthPercent, leftPercents, i;\n\n        maxRowLength = Math.max.apply(\n            null,\n            util.map(matrix, function(row) {\n                return row.length;\n            })\n        );\n\n        widthPercent = 100 / maxRowLength;\n\n        leftPercents = [];\n        for (i = 0; i < maxRowLength; i += 1) {\n            leftPercents[i] = widthPercent * i;\n        }\n\n        forEachArr(matrix, function(row) {\n            forEachArr(row, function(viewModel, col) {\n                var viewBound;\n\n                if (!viewModel) {\n                    return;\n                }\n\n                viewBound = self.getScheduleViewBound(viewModel, {\n                    todayStart: todayStart,\n                    baseMS: baseMS,\n                    baseLeft: leftPercents,\n                    baseWidth: widthPercent,\n                    baseHeight: containerHeight,\n                    columnIndex: col,\n                    isReadOnly: isReadOnly\n                });\n\n                util.extend(viewModel, viewBound);\n            });\n        });\n    });\n};\n\n/**\n * @returns {Date} - Date of this view.\n */\nTime.prototype.getDate = function() {\n    return this._parseDateGroup(this.options.ymd);\n};\n\n/**\n * @override\n * @param {string} ymd The date of schedules. YYYYMMDD format\n * @param {array} matrices Matrices for placing schedules\n * @param {number} containerHeight - container\'s height\n */\nTime.prototype.render = function(ymd, matrices, containerHeight) {\n    this._getBaseViewModel(ymd, matrices, containerHeight);\n    this.container.innerHTML = this.timeTmpl({\n        matrices: matrices,\n        styles: this._getStyles(this.theme),\n        isReadOnly: this.options.isReadOnly\n    });\n};\n\n/**\n * Get the styles from theme\n * @param {Theme} theme - theme instance\n * @returns {object} styles - styles object\n */\nTime.prototype._getStyles = function(theme) {\n    var styles = {};\n    var options = this.options;\n\n    if (theme) {\n        styles.borderRight = theme.week.timegrid.borderRight || theme.common.border;\n        styles.marginRight = theme.week.timegrid.paddingRight;\n        styles.borderRadius = theme.week.timegridSchedule.borderRadius;\n        styles.paddingLeft = theme.week.timegridSchedule.paddingLeft;\n        styles.backgroundColor = options.isToday ? theme.week.today.backgroundColor : \'inherit\';\n    }\n\n    return styles;\n};\n\nTime.prototype.applyTheme = function() {\n    var style = this.container.style;\n    var styles = this._getStyles(this.theme);\n\n    style.borderRight = styles.borderRight;\n    style.backgroundColor = styles.backgroundColor;\n};\n\nmodule.exports = Time;\n\n\n/***/ }),\n\n/***/ "./src/js/view/week/timeGrid.js":\n/*!**************************************!*\\\n  !*** ./src/js/view/week/timeGrid.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1087976__) {\n\n"use strict";\n/**\n * @fileoverview View for rendered schedules by times.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_1087976__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_1087976__(/*! ../../config */ "./src/js/config.js");\nvar common = __nested_webpack_require_1087976__(/*! ../../common/common */ "./src/js/common/common.js");\nvar domutil = __nested_webpack_require_1087976__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar domevent = __nested_webpack_require_1087976__(/*! ../../common/domevent */ "./src/js/common/domevent.js");\nvar datetime = __nested_webpack_require_1087976__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar tz = __nested_webpack_require_1087976__(/*! ../../common/timezone */ "./src/js/common/timezone.js");\nvar reqAnimFrame = __nested_webpack_require_1087976__(/*! ../../common/reqAnimFrame */ "./src/js/common/reqAnimFrame.js");\nvar View = __nested_webpack_require_1087976__(/*! ../view */ "./src/js/view/view.js");\nvar Time = __nested_webpack_require_1087976__(/*! ./time */ "./src/js/view/week/time.js");\nvar AutoScroll = __nested_webpack_require_1087976__(/*! ../../common/autoScroll */ "./src/js/common/autoScroll.js");\nvar mainTmpl = __nested_webpack_require_1087976__(/*! ../template/week/timeGrid.hbs */ "./src/js/view/template/week/timeGrid.hbs");\nvar timezoneStickyTmpl = __nested_webpack_require_1087976__(/*! ../template/week/timezoneSticky.hbs */ "./src/js/view/template/week/timezoneSticky.hbs");\nvar timegridCurrentTimeTmpl = __nested_webpack_require_1087976__(/*! ../template/week/timeGridCurrentTime.hbs */ "./src/js/view/template/week/timeGridCurrentTime.hbs");\nvar TZDate = tz.Date;\nvar HOURMARKER_REFRESH_INTERVAL = 1000 * 60;\nvar SIXTY_SECONDS = 60;\nvar SIXTY_MINUTES = 60;\n\n/**\n * Returns a list of time labels from start to end.\n * For hidden labels near the current time, set to hidden: true.\n * @param {object} opt - TimeGrid.options\n * @param {boolean} hasHourMarker - Whether the current time is displayed\n * @param {number} timezoneOffset - timezone offset\n * @param {object} styles - styles\n * @returns {Array.<Object>}\n */\nfunction getHoursLabels(opt, hasHourMarker, timezoneOffset, styles) {\n    var hourStart = opt.hourStart;\n    var hourEnd = opt.hourEnd;\n    var renderEndDate = new TZDate(opt.renderEndDate);\n    var shiftByOffset = parseInt(timezoneOffset / SIXTY_MINUTES, 10);\n    var shiftMinutes = Math.abs(timezoneOffset % SIXTY_MINUTES);\n    var now = new TZDate().toLocalTime();\n    var nowMinutes = now.getMinutes();\n    var hoursRange = util.range(0, 24);\n    var nowAroundHours = null;\n    var nowHours, nowHoursIndex;\n    var isNegativeZero = 1 / -Infinity === shiftByOffset;\n\n    if ((shiftByOffset < 0 || isNegativeZero) && shiftMinutes > 0) {\n        shiftByOffset -= 1;\n    }\n\n    // shift the array and take elements between start and end\n    common.shiftArray(hoursRange, shiftByOffset);\n    common.takeArray(hoursRange, hourStart, hourEnd);\n\n    nowHours = common.shiftHours(now.getHours(), shiftByOffset) % 24;\n    nowHoursIndex = util.inArray(nowHours, hoursRange);\n\n    if (hasHourMarker) {\n        if (nowMinutes < 20) {\n            nowAroundHours = nowHours;\n        } else if (nowMinutes > 40) {\n            nowAroundHours = nowHours + 1;\n        }\n\n        if (util.isNumber(nowAroundHours)) {\n            nowAroundHours %= 24;\n        }\n    }\n\n    return util.map(hoursRange, function(hour, index) {\n        var color;\n        var fontWeight;\n        var isPast =\n            (hasHourMarker && index <= nowHoursIndex) ||\n            (renderEndDate < now && !datetime.isSameDate(renderEndDate, now));\n\n        if (isPast) {\n            // past\n            color = styles.pastTimeColor;\n            fontWeight = styles.pastTimeFontWeight;\n        } else {\n            // future\n            color = styles.futureTimeColor;\n            fontWeight = styles.futureTimeFontWeight;\n        }\n\n        return {\n            hour: hour,\n            minutes: shiftMinutes,\n            hidden: nowAroundHours === hour || index === 0,\n            color: color || \'\',\n            fontWeight: fontWeight || \'\'\n        };\n    });\n}\n\n/**\n * Returns timezone offset from timezone object\n * @param {object} timezoneObj - timezone object in options.timzones\n * @param {number} timestamp - timestamp\n * @returns {number} timezoneOffset - timezone offset\n */\nfunction getOffsetByTimezoneOption(timezoneObj, timestamp) {\n    var primaryOffset = tz.getPrimaryOffset();\n    if (util.isString(timezoneObj.timezoneName)) {\n        return -tz.getOffsetByTimezoneName(timezoneObj.timezoneName, timestamp);\n    }\n\n    // @deprecated timezoneOffset property will be deprecated\n    if (util.isNumber(timezoneObj.timezoneOffset) && timezoneObj.timezoneOffset !== primaryOffset) {\n        return timezoneObj.timezoneOffset;\n    }\n\n    return -primaryOffset;\n}\n\n/**\n * @constructor\n * @extends {View}\n * @param {string} name - view name\n * @param {object} options The object for view customization.\n * @param {string} options.renderStartDate - render start date. YYYY-MM-DD\n * @param {string} options.renderEndDate - render end date. YYYY-MM-DD\n * @param {number} [options.hourStart=0] You can change view\'s start hours.\n * @param {number} [options.hourEnd=0] You can change view\'s end hours.\n * @param {HTMLElement} panelElement panel element.\n */\nfunction TimeGrid(name, options, panelElement) {\n    var container = domutil.appendHTMLElement(\n        \'div\',\n        panelElement,\n        config.classname(\'timegrid-container\')\n    );\n    var stickyContainer = domutil.appendHTMLElement(\n        \'div\',\n        panelElement,\n        config.classname(\'timegrid-sticky-container\')\n    );\n\n    panelElement.style.position = \'relative\'; // for stickyContainer\n\n    name = name || \'time\';\n\n    View.call(this, container);\n\n    if (!util.browser.safari) {\n        /**\n         * @type {AutoScroll}\n         */\n        this._autoScroll = new AutoScroll(container);\n    }\n\n    this.stickyContainer = stickyContainer;\n\n    /**\n     * Time view options.\n     * @type {object}\n     */\n    this.options = util.extend(\n        {\n            viewName: name,\n            renderStartDate: \'\',\n            renderEndDate: \'\',\n            hourStart: 0,\n            hourEnd: 24,\n            timezones: options.timezones,\n            isReadOnly: options.isReadOnly,\n            showTimezoneCollapseButton: false\n        },\n        options.week\n    );\n\n    if (this.options.timezones.length < 1) {\n        this.options.timezones = [\n            {\n                timezoneOffset: tz.getPrimaryOffset()\n            }\n        ];\n    }\n\n    /**\n     * Interval id for hourmarker animation.\n     * @type {number}\n     */\n    this.intervalID = 0;\n\n    /**\n     * timer id for hourmarker initial state\n     * @type {number}\n     */\n    this.timerID = 0;\n\n    /**\n     * requestAnimationFrame unique ID\n     * @type {number}\n     */\n    this.rAnimationFrameID = 0;\n\n    /**\n     * @type {boolean}\n     */\n    this._scrolled = false;\n\n    /**\n     * cache parent\'s view model\n     * @type {object}\n     */\n    this._cacheParentViewModel = null;\n\n    /**\n     * cache hoursLabels view model to render again TimeGrid\n     * @type {object}\n     */\n    this._cacheHoursLabels = null;\n\n    this.attachEvent();\n}\n\nutil.inherit(TimeGrid, View);\n\n/**********\n * Prototype props\n **********/\n\n/**\n * @type {string}\n */\nTimeGrid.prototype.viewName = \'timegrid\';\n\n/**\n * Destroy view.\n * @override\n */\nTimeGrid.prototype._beforeDestroy = function() {\n    clearInterval(this.intervalID);\n    clearTimeout(this.timerID);\n    reqAnimFrame.cancelAnimFrame(this.rAnimationFrameID);\n\n    if (this._autoScroll) {\n        this._autoScroll.destroy();\n    }\n\n    domevent.off(this.stickyContainer, \'click\', this._onClickStickyContainer, this);\n\n    this._autoScroll = this.hourmarkers = this.intervalID\n        = this.timerID = this.rAnimationFrameID = this._cacheParentViewModel = this.stickyContainer = null;\n};\n\n/**\n * @param {Date} [time] - date object to convert pixel in grids.\n * use **Date.now()** when not supplied.\n * @returns {number} The pixel value represent current time in grids.\n */\nTimeGrid.prototype._getTopPercentByTime = function(time) {\n    var opt = this.options,\n        raw = datetime.raw(time || new TZDate()),\n        hourLength = util.range(opt.hourStart, opt.hourEnd).length,\n        maxMilliseconds = hourLength * datetime.MILLISECONDS_PER_HOUR,\n        hmsMilliseconds =\n            datetime.millisecondsFrom(\'hour\', raw.h) +\n            datetime.millisecondsFrom(\'minutes\', raw.m) +\n            datetime.millisecondsFrom(\'seconds\', raw.s) +\n            raw.ms,\n        topPercent;\n\n    topPercent = common.ratio(maxMilliseconds, 100, hmsMilliseconds);\n    topPercent -= common.ratio(\n        maxMilliseconds,\n        100,\n        datetime.millisecondsFrom(\'hour\', opt.hourStart)\n    );\n\n    return common.limit(topPercent, [0], [100]);\n};\n\n/**\n * Get Hourmarker viewmodel.\n * @param {TZDate} now - now\n * @param {object} grids grid information(width, left, day)\n * @param {Array.<TZDate>} range render range\n * @returns {object} ViewModel of hourmarker.\n */\nTimeGrid.prototype._getHourmarkerViewModel = function(now, grids, range) {\n    var todaymarkerLeft = -1;\n    var todaymarkerWidth = -1;\n    var hourmarkerTimzones = [];\n    var opt = this.options;\n    var primaryOffset = tz.getPrimaryOffset();\n    var timezones = opt.timezones;\n    var viewModel;\n\n    util.forEach(range, function(date, index) {\n        if (datetime.isSameDate(now, date)) {\n            todaymarkerLeft = grids[index] ? grids[index].left : 0;\n            todaymarkerWidth = grids[index] ? grids[index].width : 0;\n        }\n    });\n\n    util.forEach(timezones, function(timezone) {\n        var hourmarker = new TZDate(now);\n        var timezoneOffset = getOffsetByTimezoneOption(timezone, hourmarker.getTime());\n        var timezoneDifference = timezoneOffset + primaryOffset;\n        var dateDifference;\n\n        hourmarker.setMinutes(hourmarker.getMinutes() + timezoneDifference);\n        dateDifference = datetime.getDateDifference(hourmarker, now);\n\n        hourmarkerTimzones.push({\n            hourmarker: hourmarker,\n            dateDifferenceSign: dateDifference < 0 ? \'-\' : \'+\',\n            dateDifference: Math.abs(dateDifference)\n        });\n    });\n\n    viewModel = {\n        currentHours: now.getHours(),\n        hourmarkerTop: this._getTopPercentByTime(now),\n        hourmarkerTimzones: hourmarkerTimzones,\n        todaymarkerLeft: todaymarkerLeft,\n        todaymarkerWidth: todaymarkerWidth,\n        todaymarkerRight: todaymarkerLeft + todaymarkerWidth\n    };\n\n    return viewModel;\n};\n\n/**\n * Get timezone view model\n * @param {number} currentHours - current hour\n * @param {boolean} timezonesCollapsed - multiple timezones are collapsed.\n * @param {object} styles - styles\n * @returns {object} ViewModel\n */\nTimeGrid.prototype._getTimezoneViewModel = function(currentHours, timezonesCollapsed, styles) {\n    var opt = this.options;\n    var primaryOffset = tz.getPrimaryOffset();\n    var timezones = opt.timezones;\n    var timezonesLength = timezones.length;\n    var timezoneViewModel = [];\n    var collapsed = timezonesCollapsed;\n    var width = collapsed ? 100 : 100 / timezonesLength;\n    var now = new TZDate().toLocalTime();\n    var backgroundColor = styles.displayTimezoneLabelBackgroundColor;\n\n    // eslint-disable-next-line complexity\n    util.forEach(timezones, function(timezone, index) {\n        var hourmarker = new TZDate(now);\n        var timezoneOffset = getOffsetByTimezoneOption(timezone, hourmarker.getTime());\n        var timezoneDifference = timezoneOffset + primaryOffset;\n        var timeSlots = getHoursLabels(opt, currentHours >= 0, timezoneDifference, styles);\n        var dateDifference;\n\n        hourmarker.setMinutes(hourmarker.getMinutes() + timezoneDifference);\n        dateDifference = datetime.getDateDifference(hourmarker, now);\n\n        if (index > 0) {\n            backgroundColor = styles.additionalTimezoneBackgroundColor;\n        }\n\n        timezoneViewModel.push({\n            timeSlots: timeSlots,\n            displayLabel: timezone.displayLabel,\n            timezoneOffset: timezone.timezoneOffset,\n            tooltip: timezone.tooltip || \'\',\n            width: width,\n            left: collapsed ? 0 : (timezones.length - index - 1) * width,\n            isPrimary: index === 0,\n            backgroundColor: backgroundColor || \'\',\n            hidden: index !== 0 && collapsed,\n            hourmarker: hourmarker,\n            dateDifferenceSign: dateDifference < 0 ? \'-\' : \'+\',\n            dateDifference: Math.abs(dateDifference)\n        });\n    });\n\n    return timezoneViewModel;\n};\n\n/**\n * Get base viewModel.\n * @param {object} viewModel - view model\n * @returns {object} ViewModel\n */\nTimeGrid.prototype._getBaseViewModel = function(viewModel) {\n    var grids = viewModel.grids;\n    var range = viewModel.range;\n    var opt = this.options;\n    var baseViewModel = this._getHourmarkerViewModel(new TZDate().toLocalTime(), grids, range);\n    var timezonesCollapsed = util.pick(viewModel, \'state\', \'timezonesCollapsed\');\n    var styles = this._getStyles(viewModel.theme, timezonesCollapsed);\n\n    return util.extend(baseViewModel, {\n        timezones: this._getTimezoneViewModel(\n            baseViewModel.todaymarkerLeft,\n            timezonesCollapsed,\n            styles\n        ),\n        hoursLabels: getHoursLabels(opt, baseViewModel.todaymarkerLeft >= 0, 0, styles),\n        styles: styles,\n        showTimezoneCollapseButton: util.pick(opt, \'showTimezoneCollapseButton\'),\n        timezonesCollapsed: timezonesCollapsed\n    });\n};\n\n/**\n * Reconcilation child views and render.\n * @param {object} viewModels Viewmodel\n * @param {object} grids grid information(width, left, day)\n * @param {HTMLElement} container Container element for each time view.\n * @param {Theme} theme - theme instance\n */\nTimeGrid.prototype._renderChildren = function(viewModels, grids, container, theme) {\n    var self = this,\n        options = this.options,\n        childOption,\n        child,\n        isToday,\n        containerHeight,\n        today = datetime.format(new TZDate().toLocalTime(), \'YYYYMMDD\'),\n        i = 0;\n\n    // clear contents\n    container.innerHTML = \'\';\n    this.children.clear();\n\n    containerHeight = domutil.getSize(container.parentElement)[1];\n\n    // reconcilation of child views\n    util.forEach(viewModels, function(schedules, ymd) {\n        isToday = ymd === today;\n\n        childOption = {\n            index: i,\n            left: grids[i] ? grids[i].left : 0,\n            width: grids[i] ? grids[i].width : 0,\n            ymd: ymd,\n            isToday: isToday,\n            isPending: options.isPending,\n            isFocused: options.isFocused,\n            isReadOnly: options.isReadOnly,\n            hourStart: options.hourStart,\n            hourEnd: options.hourEnd\n        };\n\n        child = new Time(\n            childOption,\n            domutil.appendHTMLElement(\'div\', container, config.classname(\'time-date\')),\n            theme\n        );\n        child.render(ymd, schedules, containerHeight);\n\n        self.addChild(child);\n\n        i += 1;\n    });\n};\n\n/**\n * @override\n * @param {object} viewModel ViewModel list from Week view.\n */\nTimeGrid.prototype.render = function(viewModel) {\n    var opt = this.options,\n        timeViewModel = viewModel.schedulesInDateRange[opt.viewName],\n        container = this.container,\n        grids = viewModel.grids,\n        baseViewModel = this._getBaseViewModel(viewModel),\n        scheduleLen = util.keys(timeViewModel).length;\n\n    this._cacheParentViewModel = viewModel;\n    this._cacheHoursLabels = baseViewModel.hoursLabels;\n\n    if (!scheduleLen) {\n        return;\n    }\n\n    baseViewModel.showHourMarker = baseViewModel.todaymarkerLeft >= 0;\n\n    container.innerHTML = mainTmpl(baseViewModel);\n\n    /**********\n     * Render sticky container for timezone display label\n     **********/\n    this.renderStickyContainer(baseViewModel);\n\n    /**********\n     * Render children\n     **********/\n    this._renderChildren(\n        timeViewModel,\n        grids,\n        domutil.find(config.classname(\'.timegrid-schedules-container\'), container),\n        viewModel.theme\n    );\n\n    this._hourLabels = domutil.find(\'ul\', container);\n\n    /**********\n     * Render hourmarker\n     **********/\n    this.hourmarkers = domutil.find(config.classname(\'.timegrid-hourmarker\'), container, true);\n\n    if (!this._scrolled) {\n        this._scrolled = true;\n        this.scrollToNow();\n    }\n};\n\nTimeGrid.prototype.renderStickyContainer = function(baseViewModel) {\n    var stickyContainer = this.stickyContainer;\n\n    stickyContainer.innerHTML = timezoneStickyTmpl(baseViewModel);\n\n    stickyContainer.style.display = baseViewModel.timezones.length > 1 ? \'block\' : \'none\';\n    stickyContainer.style.width = baseViewModel.styles.leftWidth;\n    stickyContainer.style.height = baseViewModel.styles.displayTimezoneLabelHeight;\n    stickyContainer.style.borderBottom = baseViewModel.styles.leftBorderRight;\n};\n\n/**\n * Refresh hourmarker element.\n */\nTimeGrid.prototype.refreshHourmarker = function() {\n    var hourmarkers = this.hourmarkers;\n    var viewModel = this._cacheParentViewModel;\n    var hoursLabels = this._cacheHoursLabels;\n    var rAnimationFrameID = this.rAnimationFrameID;\n    var baseViewModel;\n\n    if (!hourmarkers || !viewModel || rAnimationFrameID) {\n        return;\n    }\n\n    baseViewModel = this._getBaseViewModel(viewModel);\n\n    this.rAnimationFrameID = reqAnimFrame.requestAnimFrame(function() {\n        var needsRender = false;\n\n        util.forEach(hoursLabels, function(hoursLabel, index) {\n            if (hoursLabel.hidden !== baseViewModel.hoursLabels[index].hidden) {\n                needsRender = true;\n\n                return false;\n            }\n\n            return true;\n        });\n\n        if (needsRender) {\n            this.render(viewModel);\n        } else {\n            util.forEach(hourmarkers, function(hourmarker) {\n                var todaymarker = domutil.find(\n                    config.classname(\'.timegrid-todaymarker\'),\n                    hourmarker\n                );\n                var hourmarkerContainer = domutil.find(\n                    config.classname(\'.timegrid-hourmarker-time\'),\n                    hourmarker\n                );\n                var timezone = domutil.closest(hourmarker, config.classname(\'.timegrid-timezone\'));\n                var timezoneIndex = timezone ? domutil.getData(timezone, \'timezoneIndex\') : 0;\n\n                hourmarker.style.top = baseViewModel.hourmarkerTop + \'%\';\n\n                if (todaymarker) {\n                    todaymarker.style.display =\n                        baseViewModel.todaymarkerLeft >= 0 ? \'block\' : \'none\';\n                }\n                if (hourmarkerContainer) {\n                    hourmarkerContainer.innerHTML = timegridCurrentTimeTmpl(\n                        baseViewModel.hourmarkerTimzones[timezoneIndex]\n                    );\n                }\n            });\n        }\n\n        this.rAnimationFrameID = null;\n    }, this);\n};\n\n/**\n * Attach events\n */\nTimeGrid.prototype.attachEvent = function() {\n    clearInterval(this.intervalID);\n    clearTimeout(this.timerID);\n    this.intervalID = this.timerID = this.rAnimationFrameID = null;\n\n    this.timerID = setTimeout(\n        this.onTick.bind(this),\n        (SIXTY_SECONDS - new TZDate().getSeconds()) * 1000\n    );\n\n    domevent.on(this.stickyContainer, \'click\', this._onClickStickyContainer, this);\n};\n\n/**\n * Scroll time grid to current hourmarker.\n */\nTimeGrid.prototype.scrollToNow = function() {\n    var container = this.container;\n    var offsetTop, viewBound, scrollTop, scrollAmount, scrollBy, scrollFn;\n\n    if (!this.hourmarkers || !this.hourmarkers.length) {\n        return;\n    }\n\n    offsetTop = this.hourmarkers[0].offsetTop;\n    viewBound = this.getViewBound();\n    scrollTop = offsetTop;\n    scrollAmount = viewBound.height / 4;\n    scrollBy = 10;\n\n    scrollFn = function() {\n        if (scrollTop > offsetTop - scrollAmount) {\n            scrollTop -= scrollBy;\n            container.scrollTop = scrollTop;\n\n            reqAnimFrame.requestAnimFrame(scrollFn);\n        } else {\n            container.scrollTop = offsetTop - scrollAmount;\n        }\n    };\n\n    reqAnimFrame.requestAnimFrame(scrollFn);\n};\n\n/**********\n * Schedule handlers\n **********/\n\n/**\n * Interval tick handler\n */\nTimeGrid.prototype.onTick = function() {\n    if (this.timerID) {\n        clearTimeout(this.timerID);\n        this.timerID = null;\n    }\n\n    if (!this.intervalID) {\n        this.intervalID = setInterval(this.onTick.bind(this), HOURMARKER_REFRESH_INTERVAL);\n    }\n    this.refreshHourmarker();\n};\n\n/**\n * Get the styles from theme\n * @param {Theme} theme - theme instance\n * @param {boolean} timezonesCollapsed - multiple timezones are collapsed.\n * @returns {object} styles - styles object\n */\n// eslint-disable-next-line complexity\nTimeGrid.prototype._getStyles = function(theme, timezonesCollapsed) {\n    var styles = {};\n    var timezonesLength = this.options.timezones.length;\n    var collapsed = timezonesCollapsed;\n    var numberAndUnit;\n\n    if (theme) {\n        styles.borderBottom = theme.week.timegridHorizontalLine.borderBottom || theme.common.border;\n        styles.halfHourBorderBottom =\n            theme.week.timegridHalfHour.borderBottom || theme.common.border;\n\n        styles.todayBackgroundColor = theme.week.today.backgroundColor;\n        styles.weekendBackgroundColor = theme.week.weekend.backgroundColor;\n        styles.backgroundColor = theme.week.daygrid.backgroundColor;\n        styles.leftWidth = theme.week.timegridLeft.width;\n        styles.leftBackgroundColor = theme.week.timegridLeft.backgroundColor;\n        styles.leftBorderRight = theme.week.timegridLeft.borderRight || theme.common.border;\n        styles.leftFontSize = theme.week.timegridLeft.fontSize;\n        styles.timezoneWidth = theme.week.timegridLeft.width;\n        styles.additionalTimezoneBackgroundColor =\n            theme.week.timegridLeftAdditionalTimezone.backgroundColor || styles.leftBackgroundColor;\n\n        styles.displayTimezoneLabelHeight = theme.week.timegridLeftTimezoneLabel.height;\n        styles.displayTimezoneLabelBackgroundColor =\n            theme.week.timegridLeft.backgroundColor === \'inherit\'\n                ? \'white\'\n                : theme.week.timegridLeft.backgroundColor;\n\n        styles.oneHourHeight = theme.week.timegridOneHour.height;\n        styles.halfHourHeight = theme.week.timegridHalfHour.height;\n        styles.quaterHourHeight = (parseInt(styles.halfHourHeight, 10) / 2) + \'px\';\n\n        styles.currentTimeColor = theme.week.currentTime.color;\n        styles.currentTimeFontSize = theme.week.currentTime.fontSize;\n        styles.currentTimeFontWeight = theme.week.currentTime.fontWeight;\n\n        styles.pastTimeColor = theme.week.pastTime.color;\n        styles.pastTimeFontWeight = theme.week.pastTime.fontWeight;\n\n        styles.futureTimeColor = theme.week.futureTime.color;\n        styles.futureTimeFontWeight = theme.week.futureTime.fontWeight;\n\n        styles.currentTimeLeftBorderTop = theme.week.currentTimeLinePast.border;\n        styles.currentTimeBulletBackgroundColor = theme.week.currentTimeLineBullet.backgroundColor;\n        styles.currentTimeTodayBorderTop = theme.week.currentTimeLineToday.border;\n        styles.currentTimeRightBorderTop = theme.week.currentTimeLineFuture.border;\n\n        if (!collapsed && timezonesLength > 1) {\n            numberAndUnit = common.parseUnit(styles.leftWidth);\n            styles.leftWidth = (numberAndUnit[0] * timezonesLength) + numberAndUnit[1];\n        }\n    }\n\n    return styles;\n};\n\n/**\n * @param {MouseEvent} event - mouse event object\n */\nTimeGrid.prototype._onClickStickyContainer = function(event) {\n    var target = domevent.getEventTarget(event);\n    var closeBtn = domutil.closest(target, config.classname(\'.timegrid-timezone-close-btn\'));\n\n    if (!closeBtn) {\n        return;\n    }\n\n    this.fire(\'clickTimezonesCollapsedBtn\');\n};\n\nmodule.exports = TimeGrid;\n\n\n/***/ }),\n\n/***/ "./src/js/view/week/week.js":\n/*!**********************************!*\\\n  !*** ./src/js/view/week/week.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1112209__) {\n\n"use strict";\n/**\n * @fileoverview View of days UI.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_1112209__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_1112209__(/*! ../../config */ "./src/js/config.js");\nvar domutil = __nested_webpack_require_1112209__(/*! ../../common/domutil */ "./src/js/common/domutil.js");\nvar datetime = __nested_webpack_require_1112209__(/*! ../../common/datetime */ "./src/js/common/datetime.js");\nvar TZDate = __nested_webpack_require_1112209__(/*! ../../common/timezone */ "./src/js/common/timezone.js").Date;\nvar View = __nested_webpack_require_1112209__(/*! ../view */ "./src/js/view/view.js");\n\n/**\n * @constructor\n * @param {Base.Week} controller The controller mixin part.\n * @param {object} options View options\n * @param {string} [options.renderStartDate] Start date of render.\n *  if not supplied then use -3d from today. YYYY-MM-DD format.\n * @param {string} [options.renderEndDate] End date of render.\n *  if not supplied then use +3d from today. YYYY-MM-DD format.\n * @param {string} [options.cssPrefix] - CSS classname prefix\n * @param {HTMLElement} container The element to use container for this view.\n * @param {object} panels - schedule panels like \'milestone\', \'task\', \'allday\', \'time\'\n * @param {string} viewName - \'week\', \'day\'\n * @extends {View}\n */\nfunction Week(controller, options, container, panels, viewName) {\n    var range;\n\n    container = domutil.appendHTMLElement(\'div\', container);\n\n    View.call(this, container);\n\n    domutil.addClass(container, config.classname(\'week-container\'));\n\n    range = this._getRenderDateRange(new TZDate());\n\n    /**\n     * @type {object} Options for view.\n     */\n    this.options = util.extend({\n        scheduleFilter: [function(schedule) {\n            return Boolean(schedule.isVisible);\n        }],\n        renderStartDate: datetime.format(range.start, \'YYYY-MM-DD\'),\n        renderEndDate: datetime.format(range.end, \'YYYY-MM-DD\'),\n        narrowWeekend: false,\n        startDayOfWeek: 0,\n        workweek: false,\n        showTimezoneCollapseButton: false,\n        timezonesCollapsed: false,\n        hourStart: 0,\n        hourEnd: 24\n    }, options);\n\n    /**\n     * Week controller mixin.\n     * @type {Base.Week}\n     */\n    this.controller = controller;\n\n    /**\n     * Schedule Panels\n     * @type {Array.<object>}\n     */\n    this.panels = panels;\n\n    /**\n     * Week view states\n     * @type {object}\n     */\n    this.state = {\n        timezonesCollapsed: this.options.timezonesCollapsed\n    };\n\n    if (viewName === \'day\') {\n        _disableDayOptions(this.options);\n    }\n}\n\nutil.inherit(Week, View);\n\n/**********\n * Override props\n **********/\n\n/**\n * Render each child view with schedules in ranges.\n * @fires Week#afterRender\n * @override\n */\nWeek.prototype.render = function() {\n    var self = this,\n        options = this.options,\n        scheduleFilter = options.scheduleFilter,\n        narrowWeekend = options.narrowWeekend,\n        startDayOfWeek = options.startDayOfWeek,\n        workweek = options.workweek,\n        theme = this.controller.theme || {},\n        state = this.state;\n    var renderStartDate, renderEndDate, schedulesInDateRange, viewModel, grids, range;\n\n    renderStartDate = new TZDate(options.renderStartDate);\n    renderEndDate = new TZDate(options.renderEndDate);\n\n    range = datetime.range(\n        datetime.start(renderStartDate),\n        datetime.end(renderEndDate),\n        datetime.MILLISECONDS_PER_DAY\n    );\n\n    if (options.workweek && datetime.compare(renderStartDate, renderEndDate)) {\n        range = util.filter(range, function(date) {\n            return !datetime.isWeekend(date.getDay());\n        });\n\n        renderStartDate = range[0];\n        renderEndDate = range[range.length - 1];\n    }\n\n    schedulesInDateRange = this.controller.findByDateRange(\n        datetime.start(renderStartDate),\n        datetime.end(renderEndDate),\n        this.panels,\n        scheduleFilter,\n        this.options\n    );\n\n    grids = datetime.getGridLeftAndWidth(\n        range.length,\n        narrowWeekend,\n        startDayOfWeek,\n        workweek\n    );\n\n    viewModel = {\n        schedulesInDateRange: schedulesInDateRange,\n        renderStartDate: renderStartDate,\n        renderEndDate: renderEndDate,\n        grids: grids,\n        range: range,\n        theme: theme,\n        state: state\n    };\n\n    this.children.each(function(childView) {\n        var matrices;\n        var viewName = util.pick(childView.options, \'viewName\');\n        childView.render(viewModel);\n\n        if (viewName) {\n            matrices = viewModel.schedulesInDateRange[viewName]; // DayGrid limits schedule count by visibleScheduleCount after rendering it.\n\n            if (util.isArray(matrices)) {\n                self._invokeAfterRenderSchedule(matrices);\n            } else {\n                util.forEach(matrices, function(matricesOfDay) {\n                    self._invokeAfterRenderSchedule(matricesOfDay);\n                });\n            }\n        }\n    });\n\n    /**\n     * @event Week#afterRender\n     */\n    this.fire(\'afterRender\');\n};\n\n/**\n * Fire \'afterRenderSchedule\' event\n * @param {Array} matrices - schedule matrices from view model\n * @fires Week#afterRenderSchedule\n */\nWeek.prototype._invokeAfterRenderSchedule = function(matrices) {\n    var self = this;\n    util.forEachArray(matrices, function(matrix) {\n        util.forEachArray(matrix, function(column) {\n            util.forEachArray(column, function(scheduleViewModel) {\n                if (scheduleViewModel) {\n                    /**\n                     * @event Week#afterRenderSchedule\n                     */\n                    self.fire(\'afterRenderSchedule\', {schedule: scheduleViewModel.model});\n                }\n            });\n        });\n    });\n};\n\n/**********\n * Prototype props\n **********/\n\nWeek.prototype.viewName = \'week\';\n\n/**\n * Calculate default render date range from supplied date.\n * @param {Date} baseDate base date.\n * @returns {object} date range.\n */\nWeek.prototype._getRenderDateRange = function(baseDate) {\n    var base = datetime.start(baseDate),\n        start = new TZDate(Number(base)),\n        end = new TZDate(Number(base));\n\n    start.setDate(start.getDate() - 3);\n    end.setDate(end.getDate() + 3);\n\n    return {\n        start: start,\n        end: end\n    };\n};\n\n/**\n * disable options for day view\n * @param {WeekOptions} options - week options to disable\n */\nfunction _disableDayOptions(options) {\n    options.workweek = false;\n}\n\nutil.CustomEvents.mixin(Week);\n\nmodule.exports = Week;\n\n\n/***/ }),\n\n/***/ "./src/js/view/weekday.js":\n/*!********************************!*\\\n  !*** ./src/js/view/weekday.js ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __nested_webpack_require_1118978__) {\n\n"use strict";\n/**\n * @fileoverview Weekday view\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\nvar util = __nested_webpack_require_1118978__(/*! tui-code-snippet */ "tui-code-snippet");\nvar config = __nested_webpack_require_1118978__(/*! ../config */ "./src/js/config.js"),\n    domutil = __nested_webpack_require_1118978__(/*! ../common/domutil */ "./src/js/common/domutil.js"),\n    datetime = __nested_webpack_require_1118978__(/*! ../common/datetime */ "./src/js/common/datetime.js"),\n    TZDate = __nested_webpack_require_1118978__(/*! ../common/timezone */ "./src/js/common/timezone.js").Date,\n    View = __nested_webpack_require_1118978__(/*! ./view */ "./src/js/view/view.js");\n\n/**\n * @constructor\n * @extends {View}\n * @param {object} options - view options.\n * @param {number} [options.containerButtonGutter=8] - free space at bottom to\n *  make create easy.\n * @param {number} [options.scheduleHeight=18] - height of each schedule block.\n * @param {number} [options.scheduleGutter=2] - gutter height of each schedule block.\n * @param {HTMLDIVElement} container - DOM element to use container for this\n *  view.\n */\nfunction Weekday(options, container) {\n    container = domutil.appendHTMLElement(\n        \'div\',\n        container,\n        config.classname(\'weekday\')\n    );\n\n    /**\n     * @type {object}\n     */\n    this.options = util.extend({\n        containerBottomGutter: 8,\n        scheduleHeight: 18,\n        scheduleGutter: 2,\n        narrowWeekend: false,\n        startDayOfWeek: 0,\n        workweek: false\n    }, options);\n\n    /*\n     * cache parent\'s view model\n     * @type {object}\n     */\n    this._cacheParentViewModel = null;\n\n    View.call(this, container);\n}\n\nutil.inherit(Weekday, View);\n\n/**\n * Get render date range\n * @returns {Date[]} rendered date range\n */\nWeekday.prototype.getRenderDateRange = function() {\n    return this._cacheParentViewModel.range;\n};\n\n/**\n * Get render date grids information\n * @returns {Date[]} rendered date grids information\n */\nWeekday.prototype.getRenderDateGrids = function() {\n    return this._cacheParentViewModel.grids;\n};\n\n/**\n * Get default view model.\n * @param {object} viewModel parent\'s view model\n * @returns {object} viewModel to rendering.\n */\nWeekday.prototype.getBaseViewModel = function(viewModel) {\n    var opt = this.options;\n    var range = viewModel.range;\n    var gridWidth = (100 / range.length);\n    var grids = viewModel.grids;\n    var exceedDate = viewModel.exceedDate || {};\n    var theme = viewModel.theme;\n    var now = new TZDate().toLocalTime();\n\n    this._cacheParentViewModel = viewModel;\n\n    return {\n        width: gridWidth,\n        scheduleHeight: opt.scheduleHeight,\n        scheduleBlockHeight: (opt.scheduleHeight + opt.scheduleGutter),\n        scheduleBlockGutter: opt.scheduleGutter,\n        dates: util.map(range, function(date, index) {\n            var day = date.getDay();\n            var ymd = datetime.format(new TZDate(date), \'YYYYMMDD\');\n            var isToday = datetime.isSameDate(now, date);\n\n            return {\n                date: datetime.format(date, \'YYYY-MM-DD\'),\n                month: date.getMonth() + 1,\n                day: day,\n                isToday: isToday,\n                ymd: ymd,\n                hiddenSchedules: exceedDate[ymd] || 0,\n                width: grids[index] ? grids[index].width : 0,\n                left: grids[index] ? grids[index].left : 0,\n                color: this._getDayNameColor(theme, day, isToday),\n                backgroundColor: this._getDayBackgroundColor(theme, day)\n            };\n        }, this)\n    };\n};\n\n/* eslint max-nested-callbacks: 0 */\n/**\n * Make exceed date information\n * @param {number} maxCount - exceed schedule count\n * @param {Array} eventsInDateRange  - matrix of ScheduleViewModel\n * @param {Array.<TZDate>} range - date range of one week\n * @returns {object} exceedDate\n */\nWeekday.prototype.getExceedDate = function(maxCount, eventsInDateRange, range) {\n    var exceedDate = this._initExceedDate(range);\n\n    util.forEach(eventsInDateRange, function(matrix) {\n        util.forEach(matrix, function(column) {\n            util.forEach(column, function(viewModel) {\n                var period;\n                if (!viewModel || viewModel.top < maxCount) {\n                    return;\n                }\n\n                // check that this schedule block is not visible after rendered.\n                viewModel.hidden = true;\n\n                period = datetime.range(\n                    viewModel.getStarts(),\n                    viewModel.getEnds(),\n                    datetime.MILLISECONDS_PER_DAY\n                );\n\n                util.forEach(period, function(date) {\n                    var ymd = datetime.format(date, \'YYYYMMDD\');\n                    exceedDate[ymd] += 1;\n                });\n            });\n        });\n    });\n\n    return exceedDate;\n};\n\n/**\n * Initiate exceed date information\n * @param {Array.<TZDate>} range - date range of one week\n * @returns {Object} - initiated exceed date\n */\nWeekday.prototype._initExceedDate = function(range) {\n    var exceedDate = {};\n\n    util.forEach(range, function(date) {\n        var ymd = datetime.format(date, \'YYYYMMDD\');\n        exceedDate[ymd] = 0;\n    });\n\n    return exceedDate;\n};\n\n/**\n * Get a day name color\n * @param {Theme} theme - theme instance\n * @param {number} day - day number\n * @param {boolean} isToday - today flag\n * @param {boolean} isOtherMonth - not this month flag\n * @returns {string} style - color style\n */\nWeekday.prototype._getDayNameColor = function(theme, day, isToday, isOtherMonth) {\n    var color = \'\';\n\n    if (theme) {\n        if (day === 0) {\n            color = isOtherMonth ? theme.month.holidayExceptThisMonth.color : theme.common.holiday.color;\n        } else if (day === 6) {\n            color = isOtherMonth ? theme.month.dayExceptThisMonth.color : theme.common.saturday.color;\n        } else if (isToday) {\n            color = theme.common.today.color;\n        } else {\n            color = isOtherMonth ? theme.month.dayExceptThisMonth.color : theme.common.dayname.color;\n        }\n    }\n\n    return color;\n};\n\n/**\n * Get a day background color\n * @param {Theme} theme - theme instance\n * @param {number} day - day number\n * @returns {string} style - color style\n */\nWeekday.prototype._getDayBackgroundColor = function(theme, day) {\n    var color = \'\';\n\n    if (theme) {\n        if (day === 0 || day === 6) {\n            color = theme.month.weekend.backgroundColor;\n        } else {\n            color = \'inherit\';\n        }\n    }\n\n    return color;\n};\n\nmodule.exports = Weekday;\n\n\n/***/ }),\n\n/***/ "tui-code-snippet":\n/*!******************************************************************************************************************************!*\\\n  !*** external {"commonjs":"tui-code-snippet","commonjs2":"tui-code-snippet","amd":"tui-code-snippet","root":["tui","util"]} ***!\n  \\******************************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_tui_code_snippet__;\n\n/***/ }),\n\n/***/ "tui-date-picker":\n/*!*********************************************************************************************************************************!*\\\n  !*** external {"commonjs":"tui-date-picker","commonjs2":"tui-date-picker","amd":"tui-date-picker","root":["tui","DatePicker"]} ***!\n  \\*********************************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_tui_date_picker__;\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=tui-calendar.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTnBtSlMvLi9ub2RlX21vZHVsZXMvdHVpLWNhbGVuZGFyL2Rpc3QvdHVpLWNhbGVuZGFyLmpzP2U3NTkiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBUT0FTVCBVSSBDYWxlbmRhclxuICogQHZlcnNpb24gMS4xMy4wIHwgV2VkIERlYyAyMyAyMDIwXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJ0dWktY29kZS1zbmlwcGV0XCIpLCByZXF1aXJlKFwidHVpLWRhdGUtcGlja2VyXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInR1aS1jb2RlLXNuaXBwZXRcIiwgXCJ0dWktZGF0ZS1waWNrZXJcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiQ2FsZW5kYXJcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJ0dWktY29kZS1zbmlwcGV0XCIpLCByZXF1aXJlKFwidHVpLWRhdGUtcGlja2VyXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ0dWlcIl0gPSByb290W1widHVpXCJdIHx8IHt9LCByb290W1widHVpXCJdW1wiQ2FsZW5kYXJcIl0gPSBmYWN0b3J5KChyb290W1widHVpXCJdICYmIHJvb3RbXCJ0dWlcIl1bXCJ1dGlsXCJdKSwgKHJvb3RbXCJ0dWlcIl0gJiYgcm9vdFtcInR1aVwiXVtcIkRhdGVQaWNrZXJcIl0pKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV90dWlfY29kZV9zbmlwcGV0X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfdHVpX2RhdGVfcGlja2VyX18pIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3RcIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC5qc1wiKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKHtcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzLXRlbXBsYXRlLWxvYWRlci9ydW50aW1lL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy10ZW1wbGF0ZS1sb2FkZXIvcnVudGltZS9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaGFuZGxlYmFycy9ydW50aW1lICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzLnJ1bnRpbWUuanNcIik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy5ydW50aW1lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy5ydW50aW1lLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbi8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmpbJ2RlZmF1bHQnXSA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbnZhciBfaGFuZGxlYmFyc0Jhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hhbmRsZWJhcnMvYmFzZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9iYXNlLmpzXCIpO1xuXG52YXIgYmFzZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9oYW5kbGViYXJzQmFzZSk7XG5cbi8vIEVhY2ggb2YgdGhlc2UgYXVnbWVudCB0aGUgSGFuZGxlYmFycyBvYmplY3QuIE5vIG5lZWQgdG8gc2V0dXAgaGVyZS5cbi8vIChUaGlzIGlzIGRvbmUgdG8gZWFzaWx5IHNoYXJlIGNvZGUgYmV0d2VlbiBjb21tb25qcyBhbmQgYnJvd3NlIGVudnMpXG5cbnZhciBfaGFuZGxlYmFyc1NhZmVTdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hhbmRsZWJhcnMvc2FmZS1zdHJpbmcgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvc2FmZS1zdHJpbmcuanNcIik7XG5cbnZhciBfaGFuZGxlYmFyc1NhZmVTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFuZGxlYmFyc1NhZmVTdHJpbmcpO1xuXG52YXIgX2hhbmRsZWJhcnNFeGNlcHRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hhbmRsZWJhcnMvZXhjZXB0aW9uICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qc1wiKTtcblxudmFyIF9oYW5kbGViYXJzRXhjZXB0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbmRsZWJhcnNFeGNlcHRpb24pO1xuXG52YXIgX2hhbmRsZWJhcnNVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGFuZGxlYmFycy91dGlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy91dGlscy5qc1wiKTtcblxudmFyIFV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2hhbmRsZWJhcnNVdGlscyk7XG5cbnZhciBfaGFuZGxlYmFyc1J1bnRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hhbmRsZWJhcnMvcnVudGltZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9ydW50aW1lLmpzXCIpO1xuXG52YXIgcnVudGltZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9oYW5kbGViYXJzUnVudGltZSk7XG5cbnZhciBfaGFuZGxlYmFyc05vQ29uZmxpY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QuanNcIik7XG5cbnZhciBfaGFuZGxlYmFyc05vQ29uZmxpY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFuZGxlYmFyc05vQ29uZmxpY3QpO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IF9oYW5kbGViYXJzU2FmZVN0cmluZzJbJ2RlZmF1bHQnXTtcbiAgaGIuRXhjZXB0aW9uID0gX2hhbmRsZWJhcnNFeGNlcHRpb24yWydkZWZhdWx0J107XG4gIGhiLlV0aWxzID0gVXRpbHM7XG4gIGhiLmVzY2FwZUV4cHJlc3Npb24gPSBVdGlscy5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIGhiLlZNID0gcnVudGltZTtcbiAgaGIudGVtcGxhdGUgPSBmdW5jdGlvbiAoc3BlYykge1xuICAgIHJldHVybiBydW50aW1lLnRlbXBsYXRlKHNwZWMsIGhiKTtcbiAgfTtcblxuICByZXR1cm4gaGI7XG59XG5cbnZhciBpbnN0ID0gY3JlYXRlKCk7XG5pbnN0LmNyZWF0ZSA9IGNyZWF0ZTtcblxuX2hhbmRsZWJhcnNOb0NvbmZsaWN0MlsnZGVmYXVsdCddKGluc3QpO1xuXG5pbnN0WydkZWZhdWx0J10gPSBpbnN0O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBpbnN0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TG5KMWJuUnBiV1V1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenM3T3pzN09FSkJRWE5DTEcxQ1FVRnRRanM3U1VGQk4wSXNTVUZCU1RzN096czdiME5CU1U4c01FSkJRVEJDT3pzN08yMURRVU16UWl4M1FrRkJkMEk3T3pzN0swSkJRM1pDTEc5Q1FVRnZRanM3U1VGQkwwSXNTMEZCU3pzN2FVTkJRMUVzYzBKQlFYTkNPenRKUVVGdVF5eFBRVUZQT3p0dlEwRkZTU3d3UWtGQk1FSTdPenM3TzBGQlIycEVMRk5CUVZNc1RVRkJUU3hIUVVGSE8wRkJRMmhDTEUxQlFVa3NSVUZCUlN4SFFVRkhMRWxCUVVrc1NVRkJTU3hEUVVGRExIRkNRVUZ4UWl4RlFVRkZMRU5CUVVNN08wRkJSVEZETEU5QlFVc3NRMEZCUXl4TlFVRk5MRU5CUVVNc1JVRkJSU3hGUVVGRkxFbEJRVWtzUTBGQlF5eERRVUZETzBGQlEzWkNMRWxCUVVVc1EwRkJReXhWUVVGVkxHOURRVUZoTEVOQlFVTTdRVUZETTBJc1NVRkJSU3hEUVVGRExGTkJRVk1zYlVOQlFWa3NRMEZCUXp0QlFVTjZRaXhKUVVGRkxFTkJRVU1zUzBGQlN5eEhRVUZITEV0QlFVc3NRMEZCUXp0QlFVTnFRaXhKUVVGRkxFTkJRVU1zWjBKQlFXZENMRWRCUVVjc1MwRkJTeXhEUVVGRExHZENRVUZuUWl4RFFVRkRPenRCUVVVM1F5eEpRVUZGTEVOQlFVTXNSVUZCUlN4SFFVRkhMRTlCUVU4c1EwRkJRenRCUVVOb1FpeEpRVUZGTEVOQlFVTXNVVUZCVVN4SFFVRkhMRlZCUVZNc1NVRkJTU3hGUVVGRk8wRkJRek5DTEZkQlFVOHNUMEZCVHl4RFFVRkRMRkZCUVZFc1EwRkJReXhKUVVGSkxFVkJRVVVzUlVGQlJTeERRVUZETEVOQlFVTTdSMEZEYmtNc1EwRkJRenM3UVVGRlJpeFRRVUZQTEVWQlFVVXNRMEZCUXp0RFFVTllPenRCUVVWRUxFbEJRVWtzU1VGQlNTeEhRVUZITEUxQlFVMHNSVUZCUlN4RFFVRkRPMEZCUTNCQ0xFbEJRVWtzUTBGQlF5eE5RVUZOTEVkQlFVY3NUVUZCVFN4RFFVRkRPenRCUVVWeVFpeHJRMEZCVnl4SlFVRkpMRU5CUVVNc1EwRkJRenM3UVVGRmFrSXNTVUZCU1N4RFFVRkRMRk5CUVZNc1EwRkJReXhIUVVGSExFbEJRVWtzUTBGQlF6czdjVUpCUlZJc1NVRkJTU0lzSW1acGJHVWlPaUpvWVc1a2JHVmlZWEp6TG5KMWJuUnBiV1V1YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SnBiWEJ2Y25RZ0tpQmhjeUJpWVhObElHWnliMjBnSnk0dmFHRnVaR3hsWW1GeWN5OWlZWE5sSnp0Y2JseHVMeThnUldGamFDQnZaaUIwYUdWelpTQmhkV2R0Wlc1MElIUm9aU0JJWVc1a2JHVmlZWEp6SUc5aWFtVmpkQzRnVG04Z2JtVmxaQ0IwYnlCelpYUjFjQ0JvWlhKbExseHVMeThnS0ZSb2FYTWdhWE1nWkc5dVpTQjBieUJsWVhOcGJIa2djMmhoY21VZ1kyOWtaU0JpWlhSM1pXVnVJR052YlcxdmJtcHpJR0Z1WkNCaWNtOTNjMlVnWlc1MmN5bGNibWx0Y0c5eWRDQlRZV1psVTNSeWFXNW5JR1p5YjIwZ0p5NHZhR0Z1Wkd4bFltRnljeTl6WVdabExYTjBjbWx1WnljN1hHNXBiWEJ2Y25RZ1JYaGpaWEIwYVc5dUlHWnliMjBnSnk0dmFHRnVaR3hsWW1GeWN5OWxlR05sY0hScGIyNG5PMXh1YVcxd2IzSjBJQ29nWVhNZ1ZYUnBiSE1nWm5KdmJTQW5MaTlvWVc1a2JHVmlZWEp6TDNWMGFXeHpKenRjYm1sdGNHOXlkQ0FxSUdGeklISjFiblJwYldVZ1puSnZiU0FuTGk5b1lXNWtiR1ZpWVhKekwzSjFiblJwYldVbk8xeHVYRzVwYlhCdmNuUWdibTlEYjI1bWJHbGpkQ0JtY205dElDY3VMMmhoYm1Sc1pXSmhjbk12Ym04dFkyOXVabXhwWTNRbk8xeHVYRzR2THlCR2IzSWdZMjl0Y0dGMGFXSnBiR2wwZVNCaGJtUWdkWE5oWjJVZ2IzVjBjMmxrWlNCdlppQnRiMlIxYkdVZ2MzbHpkR1Z0Y3l3Z2JXRnJaU0IwYUdVZ1NHRnVaR3hsWW1GeWN5QnZZbXBsWTNRZ1lTQnVZVzFsYzNCaFkyVmNibVoxYm1OMGFXOXVJR055WldGMFpTZ3BJSHRjYmlBZ2JHVjBJR2hpSUQwZ2JtVjNJR0poYzJVdVNHRnVaR3hsWW1GeWMwVnVkbWx5YjI1dFpXNTBLQ2s3WEc1Y2JpQWdWWFJwYkhNdVpYaDBaVzVrS0doaUxDQmlZWE5sS1R0Y2JpQWdhR0l1VTJGbVpWTjBjbWx1WnlBOUlGTmhabVZUZEhKcGJtYzdYRzRnSUdoaUxrVjRZMlZ3ZEdsdmJpQTlJRVY0WTJWd2RHbHZianRjYmlBZ2FHSXVWWFJwYkhNZ1BTQlZkR2xzY3p0Y2JpQWdhR0l1WlhOallYQmxSWGh3Y21WemMybHZiaUE5SUZWMGFXeHpMbVZ6WTJGd1pVVjRjSEpsYzNOcGIyNDdYRzVjYmlBZ2FHSXVWazBnUFNCeWRXNTBhVzFsTzF4dUlDQm9ZaTUwWlcxd2JHRjBaU0E5SUdaMWJtTjBhVzl1S0hOd1pXTXBJSHRjYmlBZ0lDQnlaWFIxY200Z2NuVnVkR2x0WlM1MFpXMXdiR0YwWlNoemNHVmpMQ0JvWWlrN1hHNGdJSDA3WEc1Y2JpQWdjbVYwZFhKdUlHaGlPMXh1ZlZ4dVhHNXNaWFFnYVc1emRDQTlJR055WldGMFpTZ3BPMXh1YVc1emRDNWpjbVZoZEdVZ1BTQmpjbVZoZEdVN1hHNWNibTV2UTI5dVpteHBZM1FvYVc1emRDazdYRzVjYm1sdWMzUmJKMlJsWm1GMWJIUW5YU0E5SUdsdWMzUTdYRzVjYm1WNGNHOXlkQ0JrWldaaGRXeDBJR2x1YzNRN1hHNGlYWDA9XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2Jhc2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2Jhc2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuSGFuZGxlYmFyc0Vudmlyb25tZW50ID0gSGFuZGxlYmFyc0Vudmlyb25tZW50O1xuLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy91dGlscy5qc1wiKTtcblxudmFyIF9leGNlcHRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2V4Y2VwdGlvbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9leGNlcHRpb24uanNcIik7XG5cbnZhciBfZXhjZXB0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4Y2VwdGlvbik7XG5cbnZhciBfaGVscGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVycyAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9oZWxwZXJzLmpzXCIpO1xuXG52YXIgX2RlY29yYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlY29yYXRvcnMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvZGVjb3JhdG9ycy5qc1wiKTtcblxudmFyIF9sb2dnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xvZ2dlciAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9sb2dnZXIuanNcIik7XG5cbnZhciBfbG9nZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZ2dlcik7XG5cbnZhciBfaW50ZXJuYWxQcm90b0FjY2VzcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvcHJvdG8tYWNjZXNzICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2ludGVybmFsL3Byb3RvLWFjY2Vzcy5qc1wiKTtcblxudmFyIFZFUlNJT04gPSAnNC43LjYnO1xuZXhwb3J0cy5WRVJTSU9OID0gVkVSU0lPTjtcbnZhciBDT01QSUxFUl9SRVZJU0lPTiA9IDg7XG5leHBvcnRzLkNPTVBJTEVSX1JFVklTSU9OID0gQ09NUElMRVJfUkVWSVNJT047XG52YXIgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OID0gNztcblxuZXhwb3J0cy5MQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gPSBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT047XG52YXIgUkVWSVNJT05fQ0hBTkdFUyA9IHtcbiAgMTogJzw9IDEuMC5yYy4yJywgLy8gMS4wLnJjLjIgaXMgYWN0dWFsbHkgcmV2MiBidXQgZG9lc24ndCByZXBvcnQgaXRcbiAgMjogJz09IDEuMC4wLXJjLjMnLFxuICAzOiAnPT0gMS4wLjAtcmMuNCcsXG4gIDQ6ICc9PSAxLngueCcsXG4gIDU6ICc9PSAyLjAuMC1hbHBoYS54JyxcbiAgNjogJz49IDIuMC4wLWJldGEuMScsXG4gIDc6ICc+PSA0LjAuMCA8NC4zLjAnLFxuICA4OiAnPj0gNC4zLjAnXG59O1xuXG5leHBvcnRzLlJFVklTSU9OX0NIQU5HRVMgPSBSRVZJU0lPTl9DSEFOR0VTO1xudmFyIG9iamVjdFR5cGUgPSAnW29iamVjdCBPYmplY3RdJztcblxuZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzLCBkZWNvcmF0b3JzKSB7XG4gIHRoaXMuaGVscGVycyA9IGhlbHBlcnMgfHwge307XG4gIHRoaXMucGFydGlhbHMgPSBwYXJ0aWFscyB8fCB7fTtcbiAgdGhpcy5kZWNvcmF0b3JzID0gZGVjb3JhdG9ycyB8fCB7fTtcblxuICBfaGVscGVycy5yZWdpc3RlckRlZmF1bHRIZWxwZXJzKHRoaXMpO1xuICBfZGVjb3JhdG9ycy5yZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKHRoaXMpO1xufVxuXG5IYW5kbGViYXJzRW52aXJvbm1lbnQucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogSGFuZGxlYmFyc0Vudmlyb25tZW50LFxuXG4gIGxvZ2dlcjogX2xvZ2dlcjJbJ2RlZmF1bHQnXSxcbiAgbG9nOiBfbG9nZ2VyMlsnZGVmYXVsdCddLmxvZyxcblxuICByZWdpc3RlckhlbHBlcjogZnVuY3Rpb24gcmVnaXN0ZXJIZWxwZXIobmFtZSwgZm4pIHtcbiAgICBpZiAoX3V0aWxzLnRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikge1xuICAgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnQXJnIG5vdCBzdXBwb3J0ZWQgd2l0aCBtdWx0aXBsZSBoZWxwZXJzJyk7XG4gICAgICB9XG4gICAgICBfdXRpbHMuZXh0ZW5kKHRoaXMuaGVscGVycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGVscGVyc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckhlbHBlcjogZnVuY3Rpb24gdW5yZWdpc3RlckhlbHBlcihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMuaGVscGVyc1tuYW1lXTtcbiAgfSxcblxuICByZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uIHJlZ2lzdGVyUGFydGlhbChuYW1lLCBwYXJ0aWFsKSB7XG4gICAgaWYgKF91dGlscy50b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBfdXRpbHMuZXh0ZW5kKHRoaXMucGFydGlhbHMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIHBhcnRpYWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdBdHRlbXB0aW5nIHRvIHJlZ2lzdGVyIGEgcGFydGlhbCBjYWxsZWQgXCInICsgbmFtZSArICdcIiBhcyB1bmRlZmluZWQnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFydGlhbHNbbmFtZV0gPSBwYXJ0aWFsO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uIHVucmVnaXN0ZXJQYXJ0aWFsKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5wYXJ0aWFsc1tuYW1lXTtcbiAgfSxcblxuICByZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24gcmVnaXN0ZXJEZWNvcmF0b3IobmFtZSwgZm4pIHtcbiAgICBpZiAoX3V0aWxzLnRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikge1xuICAgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnQXJnIG5vdCBzdXBwb3J0ZWQgd2l0aCBtdWx0aXBsZSBkZWNvcmF0b3JzJyk7XG4gICAgICB9XG4gICAgICBfdXRpbHMuZXh0ZW5kKHRoaXMuZGVjb3JhdG9ycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjb3JhdG9yc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24gdW5yZWdpc3RlckRlY29yYXRvcihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMuZGVjb3JhdG9yc1tuYW1lXTtcbiAgfSxcbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBtZW1vcnkgb2YgaWxsZWdhbCBwcm9wZXJ0eSBhY2Nlc3NlcyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGxvZ2dlZC5cbiAgICogQGRlcHJlY2F0ZWQgc2hvdWxkIG9ubHkgYmUgdXNlZCBpbiBoYW5kbGViYXJzIHRlc3QtY2FzZXNcbiAgICovXG4gIHJlc2V0TG9nZ2VkUHJvcGVydHlBY2Nlc3NlczogZnVuY3Rpb24gcmVzZXRMb2dnZWRQcm9wZXJ0eUFjY2Vzc2VzKCkge1xuICAgIF9pbnRlcm5hbFByb3RvQWNjZXNzLnJlc2V0TG9nZ2VkUHJvcGVydGllcygpO1xuICB9XG59O1xuXG52YXIgbG9nID0gX2xvZ2dlcjJbJ2RlZmF1bHQnXS5sb2c7XG5cbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5jcmVhdGVGcmFtZSA9IF91dGlscy5jcmVhdGVGcmFtZTtcbmV4cG9ydHMubG9nZ2VyID0gX2xvZ2dlcjJbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDJKaGMyVXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN096czdjVUpCUVRoRExGTkJRVk03TzNsQ1FVTnFReXhoUVVGaE96czdPM1ZDUVVOSkxGZEJRVmM3T3pCQ1FVTlNMR05CUVdNN08zTkNRVU55UXl4VlFVRlZPenM3TzIxRFFVTlRMSGxDUVVGNVFqczdRVUZGZUVRc1NVRkJUU3hQUVVGUExFZEJRVWNzVDBGQlR5eERRVUZET3p0QlFVTjRRaXhKUVVGTkxHbENRVUZwUWl4SFFVRkhMRU5CUVVNc1EwRkJRenM3UVVGRE5VSXNTVUZCVFN4cFEwRkJhVU1zUjBGQlJ5eERRVUZETEVOQlFVTTdPenRCUVVVMVF5eEpRVUZOTEdkQ1FVRm5RaXhIUVVGSE8wRkJRemxDTEVkQlFVTXNSVUZCUlN4aFFVRmhPMEZCUTJoQ0xFZEJRVU1zUlVGQlJTeGxRVUZsTzBGQlEyeENMRWRCUVVNc1JVRkJSU3hsUVVGbE8wRkJRMnhDTEVkQlFVTXNSVUZCUlN4VlFVRlZPMEZCUTJJc1IwRkJReXhGUVVGRkxHdENRVUZyUWp0QlFVTnlRaXhIUVVGRExFVkJRVVVzYVVKQlFXbENPMEZCUTNCQ0xFZEJRVU1zUlVGQlJTeHBRa0ZCYVVJN1FVRkRjRUlzUjBGQlF5eEZRVUZGTEZWQlFWVTdRMEZEWkN4RFFVRkRPenM3UVVGRlJpeEpRVUZOTEZWQlFWVXNSMEZCUnl4cFFrRkJhVUlzUTBGQlF6czdRVUZGT1VJc1UwRkJVeXh4UWtGQmNVSXNRMEZCUXl4UFFVRlBMRVZCUVVVc1VVRkJVU3hGUVVGRkxGVkJRVlVzUlVGQlJUdEJRVU51UlN4TlFVRkpMRU5CUVVNc1QwRkJUeXhIUVVGSExFOUJRVThzU1VGQlNTeEZRVUZGTEVOQlFVTTdRVUZETjBJc1RVRkJTU3hEUVVGRExGRkJRVkVzUjBGQlJ5eFJRVUZSTEVsQlFVa3NSVUZCUlN4RFFVRkRPMEZCUXk5Q0xFMUJRVWtzUTBGQlF5eFZRVUZWTEVkQlFVY3NWVUZCVlN4SlFVRkpMRVZCUVVVc1EwRkJRenM3UVVGRmJrTXNhME5CUVhWQ0xFbEJRVWtzUTBGQlF5eERRVUZETzBGQlF6ZENMSGREUVVFd1FpeEpRVUZKTEVOQlFVTXNRMEZCUXp0RFFVTnFRenM3UVVGRlJDeHhRa0ZCY1VJc1EwRkJReXhUUVVGVExFZEJRVWM3UVVGRGFFTXNZVUZCVnl4RlFVRkZMSEZDUVVGeFFqczdRVUZGYkVNc1VVRkJUU3h4UWtGQlVUdEJRVU5rTEV0QlFVY3NSVUZCUlN4dlFrRkJUeXhIUVVGSE96dEJRVVZtTEdkQ1FVRmpMRVZCUVVVc2QwSkJRVk1zU1VGQlNTeEZRVUZGTEVWQlFVVXNSVUZCUlR0QlFVTnFReXhSUVVGSkxHZENRVUZUTEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhWUVVGVkxFVkJRVVU3UVVGRGRFTXNWVUZCU1N4RlFVRkZMRVZCUVVVN1FVRkRUaXhqUVVGTkxESkNRVUZqTEhsRFFVRjVReXhEUVVGRExFTkJRVU03VDBGRGFFVTdRVUZEUkN4dlFrRkJUeXhKUVVGSkxFTkJRVU1zVDBGQlR5eEZRVUZGTEVsQlFVa3NRMEZCUXl4RFFVRkRPMHRCUXpWQ0xFMUJRVTA3UVVGRFRDeFZRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhIUVVGSExFVkJRVVVzUTBGQlF6dExRVU42UWp0SFFVTkdPMEZCUTBRc2EwSkJRV2RDTEVWQlFVVXNNRUpCUVZNc1NVRkJTU3hGUVVGRk8wRkJReTlDTEZkQlFVOHNTVUZCU1N4RFFVRkRMRTlCUVU4c1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dEhRVU16UWpzN1FVRkZSQ3hwUWtGQlpTeEZRVUZGTEhsQ1FVRlRMRWxCUVVrc1JVRkJSU3hQUVVGUExFVkJRVVU3UVVGRGRrTXNVVUZCU1N4blFrRkJVeXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEV0QlFVc3NWVUZCVlN4RlFVRkZPMEZCUTNSRExHOUNRVUZQTEVsQlFVa3NRMEZCUXl4UlFVRlJMRVZCUVVVc1NVRkJTU3hEUVVGRExFTkJRVU03UzBGRE4wSXNUVUZCVFR0QlFVTk1MRlZCUVVrc1QwRkJUeXhQUVVGUExFdEJRVXNzVjBGQlZ5eEZRVUZGTzBGQlEyeERMR05CUVUwc2VVVkJRM2RETEVsQlFVa3NiMEpCUTJwRUxFTkJRVU03VDBGRFNEdEJRVU5FTEZWQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hEUVVGRExFZEJRVWNzVDBGQlR5eERRVUZETzB0QlF5OUNPMGRCUTBZN1FVRkRSQ3h0UWtGQmFVSXNSVUZCUlN3eVFrRkJVeXhKUVVGSkxFVkJRVVU3UVVGRGFFTXNWMEZCVHl4SlFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzBkQlF6VkNPenRCUVVWRUxHMUNRVUZwUWl4RlFVRkZMREpDUVVGVExFbEJRVWtzUlVGQlJTeEZRVUZGTEVWQlFVVTdRVUZEY0VNc1VVRkJTU3huUWtGQlV5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1ZVRkJWU3hGUVVGRk8wRkJRM1JETEZWQlFVa3NSVUZCUlN4RlFVRkZPMEZCUTA0c1kwRkJUU3d5UWtGQll5dzBRMEZCTkVNc1EwRkJReXhEUVVGRE8wOUJRMjVGTzBGQlEwUXNiMEpCUVU4c1NVRkJTU3hEUVVGRExGVkJRVlVzUlVGQlJTeEpRVUZKTEVOQlFVTXNRMEZCUXp0TFFVTXZRaXhOUVVGTk8wRkJRMHdzVlVGQlNTeERRVUZETEZWQlFWVXNRMEZCUXl4SlFVRkpMRU5CUVVNc1IwRkJSeXhGUVVGRkxFTkJRVU03UzBGRE5VSTdSMEZEUmp0QlFVTkVMSEZDUVVGdFFpeEZRVUZGTERaQ1FVRlRMRWxCUVVrc1JVRkJSVHRCUVVOc1F5eFhRVUZQTEVsQlFVa3NRMEZCUXl4VlFVRlZMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03UjBGRE9VSTdPenM3TzBGQlMwUXNOa0pCUVRKQ0xFVkJRVUVzZFVOQlFVYzdRVUZETlVJc1owUkJRWFZDTEVOQlFVTTdSMEZEZWtJN1EwRkRSaXhEUVVGRE96dEJRVVZMTEVsQlFVa3NSMEZCUnl4SFFVRkhMRzlDUVVGUExFZEJRVWNzUTBGQlF6czdPMUZCUlc1Q0xGZEJRVmM3VVVGQlJTeE5RVUZOSWl3aVptbHNaU0k2SW1KaGMyVXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKcGJYQnZjblFnZXlCamNtVmhkR1ZHY21GdFpTd2daWGgwWlc1a0xDQjBiMU4wY21sdVp5QjlJR1p5YjIwZ0p5NHZkWFJwYkhNbk8xeHVhVzF3YjNKMElFVjRZMlZ3ZEdsdmJpQm1jbTl0SUNjdUwyVjRZMlZ3ZEdsdmJpYzdYRzVwYlhCdmNuUWdleUJ5WldkcGMzUmxja1JsWm1GMWJIUklaV3h3WlhKeklIMGdabkp2YlNBbkxpOW9aV3h3WlhKekp6dGNibWx0Y0c5eWRDQjdJSEpsWjJsemRHVnlSR1ZtWVhWc2RFUmxZMjl5WVhSdmNuTWdmU0JtY205dElDY3VMMlJsWTI5eVlYUnZjbk1uTzF4dWFXMXdiM0owSUd4dloyZGxjaUJtY205dElDY3VMMnh2WjJkbGNpYzdYRzVwYlhCdmNuUWdleUJ5WlhObGRFeHZaMmRsWkZCeWIzQmxjblJwWlhNZ2ZTQm1jbTl0SUNjdUwybHVkR1Z5Ym1Gc0wzQnliM1J2TFdGalkyVnpjeWM3WEc1Y2JtVjRjRzl5ZENCamIyNXpkQ0JXUlZKVFNVOU9JRDBnSnpRdU55NDJKenRjYm1WNGNHOXlkQ0JqYjI1emRDQkRUMDFRU1V4RlVsOVNSVlpKVTBsUFRpQTlJRGc3WEc1bGVIQnZjblFnWTI5dWMzUWdURUZUVkY5RFQwMVFRVlJKUWt4RlgwTlBUVkJKVEVWU1gxSkZWa2xUU1U5T0lEMGdOenRjYmx4dVpYaHdiM0owSUdOdmJuTjBJRkpGVmtsVFNVOU9YME5JUVU1SFJWTWdQU0I3WEc0Z0lERTZJQ2M4UFNBeExqQXVjbU11TWljc0lDOHZJREV1TUM1eVl5NHlJR2x6SUdGamRIVmhiR3g1SUhKbGRqSWdZblYwSUdSdlpYTnVKM1FnY21Wd2IzSjBJR2wwWEc0Z0lESTZJQ2M5UFNBeExqQXVNQzF5WXk0ekp5eGNiaUFnTXpvZ0p6MDlJREV1TUM0d0xYSmpMalFuTEZ4dUlDQTBPaUFuUFQwZ01TNTRMbmduTEZ4dUlDQTFPaUFuUFQwZ01pNHdMakF0WVd4d2FHRXVlQ2NzWEc0Z0lEWTZJQ2MrUFNBeUxqQXVNQzFpWlhSaExqRW5MRnh1SUNBM09pQW5QajBnTkM0d0xqQWdQRFF1TXk0d0p5eGNiaUFnT0RvZ0p6NDlJRFF1TXk0d0oxeHVmVHRjYmx4dVkyOXVjM1FnYjJKcVpXTjBWSGx3WlNBOUlDZGJiMkpxWldOMElFOWlhbVZqZEYwbk8xeHVYRzVsZUhCdmNuUWdablZ1WTNScGIyNGdTR0Z1Wkd4bFltRnljMFZ1ZG1seWIyNXRaVzUwS0dobGJIQmxjbk1zSUhCaGNuUnBZV3h6TENCa1pXTnZjbUYwYjNKektTQjdYRzRnSUhSb2FYTXVhR1ZzY0dWeWN5QTlJR2hsYkhCbGNuTWdmSHdnZTMwN1hHNGdJSFJvYVhNdWNHRnlkR2xoYkhNZ1BTQndZWEowYVdGc2N5QjhmQ0I3ZlR0Y2JpQWdkR2hwY3k1a1pXTnZjbUYwYjNKeklEMGdaR1ZqYjNKaGRHOXljeUI4ZkNCN2ZUdGNibHh1SUNCeVpXZHBjM1JsY2tSbFptRjFiSFJJWld4d1pYSnpLSFJvYVhNcE8xeHVJQ0J5WldkcGMzUmxja1JsWm1GMWJIUkVaV052Y21GMGIzSnpLSFJvYVhNcE8xeHVmVnh1WEc1SVlXNWtiR1ZpWVhKelJXNTJhWEp2Ym0xbGJuUXVjSEp2ZEc5MGVYQmxJRDBnZTF4dUlDQmpiMjV6ZEhKMVkzUnZjam9nU0dGdVpHeGxZbUZ5YzBWdWRtbHliMjV0Wlc1MExGeHVYRzRnSUd4dloyZGxjam9nYkc5bloyVnlMRnh1SUNCc2IyYzZJR3h2WjJkbGNpNXNiMmNzWEc1Y2JpQWdjbVZuYVhOMFpYSklaV3h3WlhJNklHWjFibU4wYVc5dUtHNWhiV1VzSUdadUtTQjdYRzRnSUNBZ2FXWWdLSFJ2VTNSeWFXNW5MbU5oYkd3b2JtRnRaU2tnUFQwOUlHOWlhbVZqZEZSNWNHVXBJSHRjYmlBZ0lDQWdJR2xtSUNobWJpa2dlMXh1SUNBZ0lDQWdJQ0IwYUhKdmR5QnVaWGNnUlhoalpYQjBhVzl1S0NkQmNtY2dibTkwSUhOMWNIQnZjblJsWkNCM2FYUm9JRzExYkhScGNHeGxJR2hsYkhCbGNuTW5LVHRjYmlBZ0lDQWdJSDFjYmlBZ0lDQWdJR1Y0ZEdWdVpDaDBhR2x6TG1obGJIQmxjbk1zSUc1aGJXVXBPMXh1SUNBZ0lIMGdaV3h6WlNCN1hHNGdJQ0FnSUNCMGFHbHpMbWhsYkhCbGNuTmJibUZ0WlYwZ1BTQm1ianRjYmlBZ0lDQjlYRzRnSUgwc1hHNGdJSFZ1Y21WbmFYTjBaWEpJWld4d1pYSTZJR1oxYm1OMGFXOXVLRzVoYldVcElIdGNiaUFnSUNCa1pXeGxkR1VnZEdocGN5NW9aV3h3WlhKelcyNWhiV1ZkTzF4dUlDQjlMRnh1WEc0Z0lISmxaMmx6ZEdWeVVHRnlkR2xoYkRvZ1puVnVZM1JwYjI0b2JtRnRaU3dnY0dGeWRHbGhiQ2tnZTF4dUlDQWdJR2xtSUNoMGIxTjBjbWx1Wnk1allXeHNLRzVoYldVcElEMDlQU0J2WW1wbFkzUlVlWEJsS1NCN1hHNGdJQ0FnSUNCbGVIUmxibVFvZEdocGN5NXdZWEowYVdGc2N5d2dibUZ0WlNrN1hHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJR2xtSUNoMGVYQmxiMllnY0dGeWRHbGhiQ0E5UFQwZ0ozVnVaR1ZtYVc1bFpDY3BJSHRjYmlBZ0lDQWdJQ0FnZEdoeWIzY2dibVYzSUVWNFkyVndkR2x2YmloY2JpQWdJQ0FnSUNBZ0lDQmdRWFIwWlcxd2RHbHVaeUIwYnlCeVpXZHBjM1JsY2lCaElIQmhjblJwWVd3Z1kyRnNiR1ZrSUZ3aUpIdHVZVzFsZlZ3aUlHRnpJSFZ1WkdWbWFXNWxaR0JjYmlBZ0lDQWdJQ0FnS1R0Y2JpQWdJQ0FnSUgxY2JpQWdJQ0FnSUhSb2FYTXVjR0Z5ZEdsaGJITmJibUZ0WlYwZ1BTQndZWEowYVdGc08xeHVJQ0FnSUgxY2JpQWdmU3hjYmlBZ2RXNXlaV2RwYzNSbGNsQmhjblJwWVd3NklHWjFibU4wYVc5dUtHNWhiV1VwSUh0Y2JpQWdJQ0JrWld4bGRHVWdkR2hwY3k1d1lYSjBhV0ZzYzF0dVlXMWxYVHRjYmlBZ2ZTeGNibHh1SUNCeVpXZHBjM1JsY2tSbFkyOXlZWFJ2Y2pvZ1puVnVZM1JwYjI0b2JtRnRaU3dnWm00cElIdGNiaUFnSUNCcFppQW9kRzlUZEhKcGJtY3VZMkZzYkNodVlXMWxLU0E5UFQwZ2IySnFaV04wVkhsd1pTa2dlMXh1SUNBZ0lDQWdhV1lnS0dadUtTQjdYRzRnSUNBZ0lDQWdJSFJvY205M0lHNWxkeUJGZUdObGNIUnBiMjRvSjBGeVp5QnViM1FnYzNWd2NHOXlkR1ZrSUhkcGRHZ2diWFZzZEdsd2JHVWdaR1ZqYjNKaGRHOXljeWNwTzF4dUlDQWdJQ0FnZlZ4dUlDQWdJQ0FnWlhoMFpXNWtLSFJvYVhNdVpHVmpiM0poZEc5eWN5d2dibUZ0WlNrN1hHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJSFJvYVhNdVpHVmpiM0poZEc5eWMxdHVZVzFsWFNBOUlHWnVPMXh1SUNBZ0lIMWNiaUFnZlN4Y2JpQWdkVzV5WldkcGMzUmxja1JsWTI5eVlYUnZjam9nWm5WdVkzUnBiMjRvYm1GdFpTa2dlMXh1SUNBZ0lHUmxiR1YwWlNCMGFHbHpMbVJsWTI5eVlYUnZjbk5iYm1GdFpWMDdYRzRnSUgwc1hHNGdJQzhxS2x4dUlDQWdLaUJTWlhObGRDQjBhR1VnYldWdGIzSjVJRzltSUdsc2JHVm5ZV3dnY0hKdmNHVnlkSGtnWVdOalpYTnpaWE1nZEdoaGRDQm9ZWFpsSUdGc2NtVmhaSGtnWW1WbGJpQnNiMmRuWldRdVhHNGdJQ0FxSUVCa1pYQnlaV05oZEdWa0lITm9iM1ZzWkNCdmJteDVJR0psSUhWelpXUWdhVzRnYUdGdVpHeGxZbUZ5Y3lCMFpYTjBMV05oYzJWelhHNGdJQ0FxTDF4dUlDQnlaWE5sZEV4dloyZGxaRkJ5YjNCbGNuUjVRV05qWlhOelpYTW9LU0I3WEc0Z0lDQWdjbVZ6WlhSTWIyZG5aV1JRY205d1pYSjBhV1Z6S0NrN1hHNGdJSDFjYm4wN1hHNWNibVY0Y0c5eWRDQnNaWFFnYkc5bklEMGdiRzluWjJWeUxteHZaenRjYmx4dVpYaHdiM0owSUhzZ1kzSmxZWFJsUm5KaGJXVXNJR3h2WjJkbGNpQjlPMXh1SWwxOVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9kZWNvcmF0b3JzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9kZWNvcmF0b3JzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnMgPSByZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzO1xuLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX2RlY29yYXRvcnNJbmxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlY29yYXRvcnMvaW5saW5lICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzXCIpO1xuXG52YXIgX2RlY29yYXRvcnNJbmxpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVjb3JhdG9yc0lubGluZSk7XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnMoaW5zdGFuY2UpIHtcbiAgX2RlY29yYXRvcnNJbmxpbmUyWydkZWZhdWx0J10oaW5zdGFuY2UpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk0dUx5NHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMMlJsWTI5eVlYUnZjbk11YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenM3WjBOQlFUSkNMSEZDUVVGeFFqczdPenRCUVVWNlF5eFRRVUZUTEhsQ1FVRjVRaXhEUVVGRExGRkJRVkVzUlVGQlJUdEJRVU5zUkN4blEwRkJaU3hSUVVGUkxFTkJRVU1zUTBGQlF6dERRVU14UWlJc0ltWnBiR1VpT2lKa1pXTnZjbUYwYjNKekxtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpYVcxd2IzSjBJSEpsWjJsemRHVnlTVzVzYVc1bElHWnliMjBnSnk0dlpHVmpiM0poZEc5eWN5OXBibXhwYm1Vbk8xeHVYRzVsZUhCdmNuUWdablZ1WTNScGIyNGdjbVZuYVhOMFpYSkVaV1poZFd4MFJHVmpiM0poZEc5eWN5aHBibk4wWVc1alpTa2dlMXh1SUNCeVpXZHBjM1JsY2tsdWJHbHVaU2hwYm5OMFlXNWpaU2s3WEc1OVhHNGlYWDA9XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvZGVjb3JhdG9ycy9pbmxpbmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy91dGlscy5qc1wiKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVyRGVjb3JhdG9yKCdpbmxpbmUnLCBmdW5jdGlvbiAoZm4sIHByb3BzLCBjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgcmV0ID0gZm47XG4gICAgaWYgKCFwcm9wcy5wYXJ0aWFscykge1xuICAgICAgcHJvcHMucGFydGlhbHMgPSB7fTtcbiAgICAgIHJldCA9IGZ1bmN0aW9uIChjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYXJ0aWFscyBzdGFjayBmcmFtZSBwcmlvciB0byBleGVjLlxuICAgICAgICB2YXIgb3JpZ2luYWwgPSBjb250YWluZXIucGFydGlhbHM7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IF91dGlscy5leHRlbmQoe30sIG9yaWdpbmFsLCBwcm9wcy5wYXJ0aWFscyk7XG4gICAgICAgIHZhciByZXQgPSBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3JpZ2luYWw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHByb3BzLnBhcnRpYWxzW29wdGlvbnMuYXJnc1swXV0gPSBvcHRpb25zLmZuO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwyUmxZMjl5WVhSdmNuTXZhVzVzYVc1bExtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3Y1VKQlFYVkNMRlZCUVZVN08zRkNRVVZzUWl4VlFVRlRMRkZCUVZFc1JVRkJSVHRCUVVOb1F5eFZRVUZSTEVOQlFVTXNhVUpCUVdsQ0xFTkJRVU1zVVVGQlVTeEZRVUZGTEZWQlFWTXNSVUZCUlN4RlFVRkZMRXRCUVVzc1JVRkJSU3hUUVVGVExFVkJRVVVzVDBGQlR5eEZRVUZGTzBGQlF6TkZMRkZCUVVrc1IwRkJSeXhIUVVGSExFVkJRVVVzUTBGQlF6dEJRVU5pTEZGQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNc1VVRkJVU3hGUVVGRk8wRkJRMjVDTEZkQlFVc3NRMEZCUXl4UlFVRlJMRWRCUVVjc1JVRkJSU3hEUVVGRE8wRkJRM0JDTEZOQlFVY3NSMEZCUnl4VlFVRlRMRTlCUVU4c1JVRkJSU3hQUVVGUExFVkJRVVU3TzBGQlJTOUNMRmxCUVVrc1VVRkJVU3hIUVVGSExGTkJRVk1zUTBGQlF5eFJRVUZSTEVOQlFVTTdRVUZEYkVNc2FVSkJRVk1zUTBGQlF5eFJRVUZSTEVkQlFVY3NZMEZCVHl4RlFVRkZMRVZCUVVVc1VVRkJVU3hGUVVGRkxFdEJRVXNzUTBGQlF5eFJRVUZSTEVOQlFVTXNRMEZCUXp0QlFVTXhSQ3haUVVGSkxFZEJRVWNzUjBGQlJ5eEZRVUZGTEVOQlFVTXNUMEZCVHl4RlFVRkZMRTlCUVU4c1EwRkJReXhEUVVGRE8wRkJReTlDTEdsQ1FVRlRMRU5CUVVNc1VVRkJVU3hIUVVGSExGRkJRVkVzUTBGQlF6dEJRVU01UWl4bFFVRlBMRWRCUVVjc1EwRkJRenRQUVVOYUxFTkJRVU03UzBGRFNEczdRVUZGUkN4VFFVRkxMRU5CUVVNc1VVRkJVU3hEUVVGRExFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1IwRkJSeXhQUVVGUExFTkJRVU1zUlVGQlJTeERRVUZET3p0QlFVVTNReXhYUVVGUExFZEJRVWNzUTBGQlF6dEhRVU5hTEVOQlFVTXNRMEZCUXp0RFFVTktJaXdpWm1sc1pTSTZJbWx1YkdsdVpTNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1sdGNHOXlkQ0I3SUdWNGRHVnVaQ0I5SUdaeWIyMGdKeTR1TDNWMGFXeHpKenRjYmx4dVpYaHdiM0owSUdSbFptRjFiSFFnWm5WdVkzUnBiMjRvYVc1emRHRnVZMlVwSUh0Y2JpQWdhVzV6ZEdGdVkyVXVjbVZuYVhOMFpYSkVaV052Y21GMGIzSW9KMmx1YkdsdVpTY3NJR1oxYm1OMGFXOXVLR1p1TENCd2NtOXdjeXdnWTI5dWRHRnBibVZ5TENCdmNIUnBiMjV6S1NCN1hHNGdJQ0FnYkdWMElISmxkQ0E5SUdadU8xeHVJQ0FnSUdsbUlDZ2hjSEp2Y0hNdWNHRnlkR2xoYkhNcElIdGNiaUFnSUNBZ0lIQnliM0J6TG5CaGNuUnBZV3h6SUQwZ2UzMDdYRzRnSUNBZ0lDQnlaWFFnUFNCbWRXNWpkR2x2YmloamIyNTBaWGgwTENCdmNIUnBiMjV6S1NCN1hHNGdJQ0FnSUNBZ0lDOHZJRU55WldGMFpTQmhJRzVsZHlCd1lYSjBhV0ZzY3lCemRHRmpheUJtY21GdFpTQndjbWx2Y2lCMGJ5QmxlR1ZqTGx4dUlDQWdJQ0FnSUNCc1pYUWdiM0pwWjJsdVlXd2dQU0JqYjI1MFlXbHVaWEl1Y0dGeWRHbGhiSE03WEc0Z0lDQWdJQ0FnSUdOdmJuUmhhVzVsY2k1d1lYSjBhV0ZzY3lBOUlHVjRkR1Z1WkNoN2ZTd2diM0pwWjJsdVlXd3NJSEJ5YjNCekxuQmhjblJwWVd4ektUdGNiaUFnSUNBZ0lDQWdiR1YwSUhKbGRDQTlJR1p1S0dOdmJuUmxlSFFzSUc5d2RHbHZibk1wTzF4dUlDQWdJQ0FnSUNCamIyNTBZV2x1WlhJdWNHRnlkR2xoYkhNZ1BTQnZjbWxuYVc1aGJEdGNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlISmxkRHRjYmlBZ0lDQWdJSDA3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdjSEp2Y0hNdWNHRnlkR2xoYkhOYmIzQjBhVzl1Y3k1aGNtZHpXekJkWFNBOUlHOXdkR2x2Ym5NdVptNDdYRzVjYmlBZ0lDQnlaWFIxY200Z2NtVjBPMXh1SUNCOUtUdGNibjFjYmlKZGZRPT1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvZXhjZXB0aW9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgZXJyb3JQcm9wcyA9IFsnZGVzY3JpcHRpb24nLCAnZmlsZU5hbWUnLCAnbGluZU51bWJlcicsICdlbmRMaW5lTnVtYmVyJywgJ21lc3NhZ2UnLCAnbmFtZScsICdudW1iZXInLCAnc3RhY2snXTtcblxuZnVuY3Rpb24gRXhjZXB0aW9uKG1lc3NhZ2UsIG5vZGUpIHtcbiAgdmFyIGxvYyA9IG5vZGUgJiYgbm9kZS5sb2MsXG4gICAgICBsaW5lID0gdW5kZWZpbmVkLFxuICAgICAgZW5kTGluZU51bWJlciA9IHVuZGVmaW5lZCxcbiAgICAgIGNvbHVtbiA9IHVuZGVmaW5lZCxcbiAgICAgIGVuZENvbHVtbiA9IHVuZGVmaW5lZDtcblxuICBpZiAobG9jKSB7XG4gICAgbGluZSA9IGxvYy5zdGFydC5saW5lO1xuICAgIGVuZExpbmVOdW1iZXIgPSBsb2MuZW5kLmxpbmU7XG4gICAgY29sdW1uID0gbG9jLnN0YXJ0LmNvbHVtbjtcbiAgICBlbmRDb2x1bW4gPSBsb2MuZW5kLmNvbHVtbjtcblxuICAgIG1lc3NhZ2UgKz0gJyAtICcgKyBsaW5lICsgJzonICsgY29sdW1uO1xuICB9XG5cbiAgdmFyIHRtcCA9IEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuXG4gIC8vIFVuZm9ydHVuYXRlbHkgZXJyb3JzIGFyZSBub3QgZW51bWVyYWJsZSBpbiBDaHJvbWUgKGF0IGxlYXN0KSwgc28gYGZvciBwcm9wIGluIHRtcGAgZG9lc24ndCB3b3JrLlxuICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBlcnJvclByb3BzLmxlbmd0aDsgaWR4KyspIHtcbiAgICB0aGlzW2Vycm9yUHJvcHNbaWR4XV0gPSB0bXBbZXJyb3JQcm9wc1tpZHhdXTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEV4Y2VwdGlvbik7XG4gIH1cblxuICB0cnkge1xuICAgIGlmIChsb2MpIHtcbiAgICAgIHRoaXMubGluZU51bWJlciA9IGxpbmU7XG4gICAgICB0aGlzLmVuZExpbmVOdW1iZXIgPSBlbmRMaW5lTnVtYmVyO1xuXG4gICAgICAvLyBXb3JrIGFyb3VuZCBpc3N1ZSB1bmRlciBzYWZhcmkgd2hlcmUgd2UgY2FuJ3QgZGlyZWN0bHkgc2V0IHRoZSBjb2x1bW4gdmFsdWVcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnY29sdW1uJywge1xuICAgICAgICAgIHZhbHVlOiBjb2x1bW4sXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdlbmRDb2x1bW4nLCB7XG4gICAgICAgICAgdmFsdWU6IGVuZENvbHVtbixcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gICAgICAgIHRoaXMuZW5kQ29sdW1uID0gZW5kQ29sdW1uO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAobm9wKSB7XG4gICAgLyogSWdub3JlIGlmIHRoZSBicm93c2VyIGlzIHZlcnkgcGFydGljdWxhciAqL1xuICB9XG59XG5cbkV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gRXhjZXB0aW9uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwyVjRZMlZ3ZEdsdmJpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPenM3UVVGQlFTeEpRVUZOTEZWQlFWVXNSMEZCUnl4RFFVTnFRaXhoUVVGaExFVkJRMklzVlVGQlZTeEZRVU5XTEZsQlFWa3NSVUZEV2l4bFFVRmxMRVZCUTJZc1UwRkJVeXhGUVVOVUxFMUJRVTBzUlVGRFRpeFJRVUZSTEVWQlExSXNUMEZCVHl4RFFVTlNMRU5CUVVNN08wRkJSVVlzVTBGQlV5eFRRVUZUTEVOQlFVTXNUMEZCVHl4RlFVRkZMRWxCUVVrc1JVRkJSVHRCUVVOb1F5eE5RVUZKTEVkQlFVY3NSMEZCUnl4SlFVRkpMRWxCUVVrc1NVRkJTU3hEUVVGRExFZEJRVWM3VFVGRGVFSXNTVUZCU1N4WlFVRkJPMDFCUTBvc1lVRkJZU3haUVVGQk8wMUJRMklzVFVGQlRTeFpRVUZCTzAxQlEwNHNVMEZCVXl4WlFVRkJMRU5CUVVNN08wRkJSVm9zVFVGQlNTeEhRVUZITEVWQlFVVTdRVUZEVUN4UlFVRkpMRWRCUVVjc1IwRkJSeXhEUVVGRExFdEJRVXNzUTBGQlF5eEpRVUZKTEVOQlFVTTdRVUZEZEVJc2FVSkJRV0VzUjBGQlJ5eEhRVUZITEVOQlFVTXNSMEZCUnl4RFFVRkRMRWxCUVVrc1EwRkJRenRCUVVNM1FpeFZRVUZOTEVkQlFVY3NSMEZCUnl4RFFVRkRMRXRCUVVzc1EwRkJReXhOUVVGTkxFTkJRVU03UVVGRE1VSXNZVUZCVXl4SFFVRkhMRWRCUVVjc1EwRkJReXhIUVVGSExFTkJRVU1zVFVGQlRTeERRVUZET3p0QlFVVXpRaXhYUVVGUExFbEJRVWtzUzBGQlN5eEhRVUZITEVsQlFVa3NSMEZCUnl4SFFVRkhMRWRCUVVjc1RVRkJUU3hEUVVGRE8wZEJRM2hET3p0QlFVVkVMRTFCUVVrc1IwRkJSeXhIUVVGSExFdEJRVXNzUTBGQlF5eFRRVUZUTEVOQlFVTXNWMEZCVnl4RFFVRkRMRWxCUVVrc1EwRkJReXhKUVVGSkxFVkJRVVVzVDBGQlR5eERRVUZETEVOQlFVTTdPenRCUVVjeFJDeFBRVUZMTEVsQlFVa3NSMEZCUnl4SFFVRkhMRU5CUVVNc1JVRkJSU3hIUVVGSExFZEJRVWNzVlVGQlZTeERRVUZETEUxQlFVMHNSVUZCUlN4SFFVRkhMRVZCUVVVc1JVRkJSVHRCUVVOb1JDeFJRVUZKTEVOQlFVTXNWVUZCVlN4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFZEJRVWNzUjBGQlJ5eERRVUZETEZWQlFWVXNRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJReXhEUVVGRE8wZEJRemxET3pzN1FVRkhSQ3hOUVVGSkxFdEJRVXNzUTBGQlF5eHBRa0ZCYVVJc1JVRkJSVHRCUVVNelFpeFRRVUZMTEVOQlFVTXNhVUpCUVdsQ0xFTkJRVU1zU1VGQlNTeEZRVUZGTEZOQlFWTXNRMEZCUXl4RFFVRkRPMGRCUXpGRE96dEJRVVZFTEUxQlFVazdRVUZEUml4UlFVRkpMRWRCUVVjc1JVRkJSVHRCUVVOUUxGVkJRVWtzUTBGQlF5eFZRVUZWTEVkQlFVY3NTVUZCU1N4RFFVRkRPMEZCUTNaQ0xGVkJRVWtzUTBGQlF5eGhRVUZoTEVkQlFVY3NZVUZCWVN4RFFVRkRPenM3TzBGQlNXNURMRlZCUVVrc1RVRkJUU3hEUVVGRExHTkJRV01zUlVGQlJUdEJRVU42UWl4alFVRk5MRU5CUVVNc1kwRkJZeXhEUVVGRExFbEJRVWtzUlVGQlJTeFJRVUZSTEVWQlFVVTdRVUZEY0VNc1pVRkJTeXhGUVVGRkxFMUJRVTA3UVVGRFlpeHZRa0ZCVlN4RlFVRkZMRWxCUVVrN1UwRkRha0lzUTBGQlF5eERRVUZETzBGQlEwZ3NZMEZCVFN4RFFVRkRMR05CUVdNc1EwRkJReXhKUVVGSkxFVkJRVVVzVjBGQlZ5eEZRVUZGTzBGQlEzWkRMR1ZCUVVzc1JVRkJSU3hUUVVGVE8wRkJRMmhDTEc5Q1FVRlZMRVZCUVVVc1NVRkJTVHRUUVVOcVFpeERRVUZETEVOQlFVTTdUMEZEU2l4TlFVRk5PMEZCUTB3c1dVRkJTU3hEUVVGRExFMUJRVTBzUjBGQlJ5eE5RVUZOTEVOQlFVTTdRVUZEY2tJc1dVRkJTU3hEUVVGRExGTkJRVk1zUjBGQlJ5eFRRVUZUTEVOQlFVTTdUMEZETlVJN1MwRkRSanRIUVVOR0xFTkJRVU1zVDBGQlR5eEhRVUZITEVWQlFVVTdPMGRCUldJN1EwRkRSanM3UVVGRlJDeFRRVUZUTEVOQlFVTXNVMEZCVXl4SFFVRkhMRWxCUVVrc1MwRkJTeXhGUVVGRkxFTkJRVU03TzNGQ1FVVnVRaXhUUVVGVElpd2labWxzWlNJNkltVjRZMlZ3ZEdsdmJpNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1OdmJuTjBJR1Z5Y205eVVISnZjSE1nUFNCYlhHNGdJQ2RrWlhOamNtbHdkR2x2Ymljc1hHNGdJQ2RtYVd4bFRtRnRaU2NzWEc0Z0lDZHNhVzVsVG5WdFltVnlKeXhjYmlBZ0oyVnVaRXhwYm1WT2RXMWlaWEluTEZ4dUlDQW5iV1Z6YzJGblpTY3NYRzRnSUNkdVlXMWxKeXhjYmlBZ0oyNTFiV0psY2ljc1hHNGdJQ2R6ZEdGamF5ZGNibDA3WEc1Y2JtWjFibU4wYVc5dUlFVjRZMlZ3ZEdsdmJpaHRaWE56WVdkbExDQnViMlJsS1NCN1hHNGdJR3hsZENCc2IyTWdQU0J1YjJSbElDWW1JRzV2WkdVdWJHOWpMRnh1SUNBZ0lHeHBibVVzWEc0Z0lDQWdaVzVrVEdsdVpVNTFiV0psY2l4Y2JpQWdJQ0JqYjJ4MWJXNHNYRzRnSUNBZ1pXNWtRMjlzZFcxdU8xeHVYRzRnSUdsbUlDaHNiMk1wSUh0Y2JpQWdJQ0JzYVc1bElEMGdiRzlqTG5OMFlYSjBMbXhwYm1VN1hHNGdJQ0FnWlc1a1RHbHVaVTUxYldKbGNpQTlJR3h2WXk1bGJtUXViR2x1WlR0Y2JpQWdJQ0JqYjJ4MWJXNGdQU0JzYjJNdWMzUmhjblF1WTI5c2RXMXVPMXh1SUNBZ0lHVnVaRU52YkhWdGJpQTlJR3h2WXk1bGJtUXVZMjlzZFcxdU8xeHVYRzRnSUNBZ2JXVnpjMkZuWlNBclBTQW5JQzBnSnlBcklHeHBibVVnS3lBbk9pY2dLeUJqYjJ4MWJXNDdYRzRnSUgxY2JseHVJQ0JzWlhRZ2RHMXdJRDBnUlhKeWIzSXVjSEp2ZEc5MGVYQmxMbU52Ym5OMGNuVmpkRzl5TG1OaGJHd29kR2hwY3l3Z2JXVnpjMkZuWlNrN1hHNWNiaUFnTHk4Z1ZXNW1iM0owZFc1aGRHVnNlU0JsY25KdmNuTWdZWEpsSUc1dmRDQmxiblZ0WlhKaFlteGxJR2x1SUVOb2NtOXRaU0FvWVhRZ2JHVmhjM1FwTENCemJ5QmdabTl5SUhCeWIzQWdhVzRnZEcxd1lDQmtiMlZ6YmlkMElIZHZjbXN1WEc0Z0lHWnZjaUFvYkdWMElHbGtlQ0E5SURBN0lHbGtlQ0E4SUdWeWNtOXlVSEp2Y0hNdWJHVnVaM1JvT3lCcFpIZ3JLeWtnZTF4dUlDQWdJSFJvYVhOYlpYSnliM0pRY205d2MxdHBaSGhkWFNBOUlIUnRjRnRsY25KdmNsQnliM0J6VzJsa2VGMWRPMXh1SUNCOVhHNWNiaUFnTHlvZ2FYTjBZVzVpZFd3Z2FXZHViM0psSUdWc2MyVWdLaTljYmlBZ2FXWWdLRVZ5Y205eUxtTmhjSFIxY21WVGRHRmphMVJ5WVdObEtTQjdYRzRnSUNBZ1JYSnliM0l1WTJGd2RIVnlaVk4wWVdOclZISmhZMlVvZEdocGN5d2dSWGhqWlhCMGFXOXVLVHRjYmlBZ2ZWeHVYRzRnSUhSeWVTQjdYRzRnSUNBZ2FXWWdLR3h2WXlrZ2UxeHVJQ0FnSUNBZ2RHaHBjeTVzYVc1bFRuVnRZbVZ5SUQwZ2JHbHVaVHRjYmlBZ0lDQWdJSFJvYVhNdVpXNWtUR2x1WlU1MWJXSmxjaUE5SUdWdVpFeHBibVZPZFcxaVpYSTdYRzVjYmlBZ0lDQWdJQzh2SUZkdmNtc2dZWEp2ZFc1a0lHbHpjM1ZsSUhWdVpHVnlJSE5oWm1GeWFTQjNhR1Z5WlNCM1pTQmpZVzRuZENCa2FYSmxZM1JzZVNCelpYUWdkR2hsSUdOdmJIVnRiaUIyWVd4MVpWeHVJQ0FnSUNBZ0x5b2dhWE4wWVc1aWRXd2dhV2R1YjNKbElHNWxlSFFnS2k5Y2JpQWdJQ0FnSUdsbUlDaFBZbXBsWTNRdVpHVm1hVzVsVUhKdmNHVnlkSGtwSUh0Y2JpQWdJQ0FnSUNBZ1QySnFaV04wTG1SbFptbHVaVkJ5YjNCbGNuUjVLSFJvYVhNc0lDZGpiMngxYlc0bkxDQjdYRzRnSUNBZ0lDQWdJQ0FnZG1Gc2RXVTZJR052YkhWdGJpeGNiaUFnSUNBZ0lDQWdJQ0JsYm5WdFpYSmhZbXhsT2lCMGNuVmxYRzRnSUNBZ0lDQWdJSDBwTzF4dUlDQWdJQ0FnSUNCUFltcGxZM1F1WkdWbWFXNWxVSEp2Y0dWeWRIa29kR2hwY3l3Z0oyVnVaRU52YkhWdGJpY3NJSHRjYmlBZ0lDQWdJQ0FnSUNCMllXeDFaVG9nWlc1a1EyOXNkVzF1TEZ4dUlDQWdJQ0FnSUNBZ0lHVnVkVzFsY21GaWJHVTZJSFJ5ZFdWY2JpQWdJQ0FnSUNBZ2ZTazdYRzRnSUNBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ0lDQjBhR2x6TG1OdmJIVnRiaUE5SUdOdmJIVnRianRjYmlBZ0lDQWdJQ0FnZEdocGN5NWxibVJEYjJ4MWJXNGdQU0JsYm1SRGIyeDFiVzQ3WEc0Z0lDQWdJQ0I5WEc0Z0lDQWdmVnh1SUNCOUlHTmhkR05vSUNodWIzQXBJSHRjYmlBZ0lDQXZLaUJKWjI1dmNtVWdhV1lnZEdobElHSnliM2R6WlhJZ2FYTWdkbVZ5ZVNCd1lYSjBhV04xYkdGeUlDb3ZYRzRnSUgxY2JuMWNibHh1UlhoalpYQjBhVzl1TG5CeWIzUnZkSGx3WlNBOUlHNWxkeUJGY25KdmNpZ3BPMXh1WEc1bGVIQnZjblFnWkdWbVlYVnNkQ0JGZUdObGNIUnBiMjQ3WEc0aVhYMD1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5yZWdpc3RlckRlZmF1bHRIZWxwZXJzID0gcmVnaXN0ZXJEZWZhdWx0SGVscGVycztcbmV4cG9ydHMubW92ZUhlbHBlclRvSG9va3MgPSBtb3ZlSGVscGVyVG9Ib29rcztcbi8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9oZWxwZXJzQmxvY2tIZWxwZXJNaXNzaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXJzL2Jsb2NrLWhlbHBlci1taXNzaW5nICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanNcIik7XG5cbnZhciBfaGVscGVyc0Jsb2NrSGVscGVyTWlzc2luZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwZXJzQmxvY2tIZWxwZXJNaXNzaW5nKTtcblxudmFyIF9oZWxwZXJzRWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVycy9lYWNoICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qc1wiKTtcblxudmFyIF9oZWxwZXJzRWFjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwZXJzRWFjaCk7XG5cbnZhciBfaGVscGVyc0hlbHBlck1pc3NpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy9oZWxwZXItbWlzc2luZy5qc1wiKTtcblxudmFyIF9oZWxwZXJzSGVscGVyTWlzc2luZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwZXJzSGVscGVyTWlzc2luZyk7XG5cbnZhciBfaGVscGVyc0lmID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXJzL2lmICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanNcIik7XG5cbnZhciBfaGVscGVyc0lmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHBlcnNJZik7XG5cbnZhciBfaGVscGVyc0xvZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVycy9sb2cgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy9sb2cuanNcIik7XG5cbnZhciBfaGVscGVyc0xvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwZXJzTG9nKTtcblxudmFyIF9oZWxwZXJzTG9va3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXJzL2xvb2t1cCAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9oZWxwZXJzL2xvb2t1cC5qc1wiKTtcblxudmFyIF9oZWxwZXJzTG9va3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHBlcnNMb29rdXApO1xuXG52YXIgX2hlbHBlcnNXaXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXJzL3dpdGggKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy93aXRoLmpzXCIpO1xuXG52YXIgX2hlbHBlcnNXaXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHBlcnNXaXRoKTtcblxuZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0SGVscGVycyhpbnN0YW5jZSkge1xuICBfaGVscGVyc0Jsb2NrSGVscGVyTWlzc2luZzJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG4gIF9oZWxwZXJzRWFjaDJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG4gIF9oZWxwZXJzSGVscGVyTWlzc2luZzJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG4gIF9oZWxwZXJzSWYyWydkZWZhdWx0J10oaW5zdGFuY2UpO1xuICBfaGVscGVyc0xvZzJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG4gIF9oZWxwZXJzTG9va3VwMlsnZGVmYXVsdCddKGluc3RhbmNlKTtcbiAgX2hlbHBlcnNXaXRoMlsnZGVmYXVsdCddKGluc3RhbmNlKTtcbn1cblxuZnVuY3Rpb24gbW92ZUhlbHBlclRvSG9va3MoaW5zdGFuY2UsIGhlbHBlck5hbWUsIGtlZXBIZWxwZXIpIHtcbiAgaWYgKGluc3RhbmNlLmhlbHBlcnNbaGVscGVyTmFtZV0pIHtcbiAgICBpbnN0YW5jZS5ob29rc1toZWxwZXJOYW1lXSA9IGluc3RhbmNlLmhlbHBlcnNbaGVscGVyTmFtZV07XG4gICAgaWYgKCFrZWVwSGVscGVyKSB7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXTtcbiAgICB9XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDJobGJIQmxjbk11YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenM3TzNsRFFVRjFReXhuUTBGQlowTTdPenM3TWtKQlF6bERMR2RDUVVGblFqczdPenR2UTBGRFVDd3dRa0ZCTUVJN096czdlVUpCUTNKRExHTkJRV003T3pzN01FSkJRMklzWlVGQlpUczdPenMyUWtGRFdpeHJRa0ZCYTBJN096czdNa0pCUTNCQ0xHZENRVUZuUWpzN096dEJRVVZzUXl4VFFVRlRMSE5DUVVGelFpeERRVUZETEZGQlFWRXNSVUZCUlR0QlFVTXZReXg1UTBGQk1rSXNVVUZCVVN4RFFVRkRMRU5CUVVNN1FVRkRja01zTWtKQlFXRXNVVUZCVVN4RFFVRkRMRU5CUVVNN1FVRkRka0lzYjBOQlFYTkNMRkZCUVZFc1EwRkJReXhEUVVGRE8wRkJRMmhETEhsQ1FVRlhMRkZCUVZFc1EwRkJReXhEUVVGRE8wRkJRM0pDTERCQ1FVRlpMRkZCUVZFc1EwRkJReXhEUVVGRE8wRkJRM1JDTERaQ1FVRmxMRkZCUVZFc1EwRkJReXhEUVVGRE8wRkJRM3BDTERKQ1FVRmhMRkZCUVZFc1EwRkJReXhEUVVGRE8wTkJRM2hDT3p0QlFVVk5MRk5CUVZNc2FVSkJRV2xDTEVOQlFVTXNVVUZCVVN4RlFVRkZMRlZCUVZVc1JVRkJSU3hWUVVGVkxFVkJRVVU3UVVGRGJFVXNUVUZCU1N4UlFVRlJMRU5CUVVNc1QwRkJUeXhEUVVGRExGVkJRVlVzUTBGQlF5eEZRVUZGTzBGQlEyaERMRmxCUVZFc1EwRkJReXhMUVVGTExFTkJRVU1zVlVGQlZTeERRVUZETEVkQlFVY3NVVUZCVVN4RFFVRkRMRTlCUVU4c1EwRkJReXhWUVVGVkxFTkJRVU1zUTBGQlF6dEJRVU14UkN4UlFVRkpMRU5CUVVNc1ZVRkJWU3hGUVVGRk8wRkJRMllzWVVGQlR5eFJRVUZSTEVOQlFVTXNUMEZCVHl4RFFVRkRMRlZCUVZVc1EwRkJReXhEUVVGRE8wdEJRM0pETzBkQlEwWTdRMEZEUmlJc0ltWnBiR1VpT2lKb1pXeHdaWEp6TG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lhVzF3YjNKMElISmxaMmx6ZEdWeVFteHZZMnRJWld4d1pYSk5hWE56YVc1bklHWnliMjBnSnk0dmFHVnNjR1Z5Y3k5aWJHOWpheTFvWld4d1pYSXRiV2x6YzJsdVp5YzdYRzVwYlhCdmNuUWdjbVZuYVhOMFpYSkZZV05vSUdaeWIyMGdKeTR2YUdWc2NHVnljeTlsWVdOb0p6dGNibWx0Y0c5eWRDQnlaV2RwYzNSbGNraGxiSEJsY2sxcGMzTnBibWNnWm5KdmJTQW5MaTlvWld4d1pYSnpMMmhsYkhCbGNpMXRhWE56YVc1bkp6dGNibWx0Y0c5eWRDQnlaV2RwYzNSbGNrbG1JR1p5YjIwZ0p5NHZhR1ZzY0dWeWN5OXBaaWM3WEc1cGJYQnZjblFnY21WbmFYTjBaWEpNYjJjZ1puSnZiU0FuTGk5b1pXeHdaWEp6TDJ4dlp5YzdYRzVwYlhCdmNuUWdjbVZuYVhOMFpYSk1iMjlyZFhBZ1puSnZiU0FuTGk5b1pXeHdaWEp6TDJ4dmIydDFjQ2M3WEc1cGJYQnZjblFnY21WbmFYTjBaWEpYYVhSb0lHWnliMjBnSnk0dmFHVnNjR1Z5Y3k5M2FYUm9KenRjYmx4dVpYaHdiM0owSUdaMWJtTjBhVzl1SUhKbFoybHpkR1Z5UkdWbVlYVnNkRWhsYkhCbGNuTW9hVzV6ZEdGdVkyVXBJSHRjYmlBZ2NtVm5hWE4wWlhKQ2JHOWphMGhsYkhCbGNrMXBjM05wYm1jb2FXNXpkR0Z1WTJVcE8xeHVJQ0J5WldkcGMzUmxja1ZoWTJnb2FXNXpkR0Z1WTJVcE8xeHVJQ0J5WldkcGMzUmxja2hsYkhCbGNrMXBjM05wYm1jb2FXNXpkR0Z1WTJVcE8xeHVJQ0J5WldkcGMzUmxja2xtS0dsdWMzUmhibU5sS1R0Y2JpQWdjbVZuYVhOMFpYSk1iMmNvYVc1emRHRnVZMlVwTzF4dUlDQnlaV2RwYzNSbGNreHZiMnQxY0NocGJuTjBZVzVqWlNrN1hHNGdJSEpsWjJsemRHVnlWMmwwYUNocGJuTjBZVzVqWlNrN1hHNTlYRzVjYm1WNGNHOXlkQ0JtZFc1amRHbHZiaUJ0YjNabFNHVnNjR1Z5Vkc5SWIyOXJjeWhwYm5OMFlXNWpaU3dnYUdWc2NHVnlUbUZ0WlN3Z2EyVmxjRWhsYkhCbGNpa2dlMXh1SUNCcFppQW9hVzV6ZEdGdVkyVXVhR1ZzY0dWeWMxdG9aV3h3WlhKT1lXMWxYU2tnZTF4dUlDQWdJR2x1YzNSaGJtTmxMbWh2YjJ0elcyaGxiSEJsY2s1aGJXVmRJRDBnYVc1emRHRnVZMlV1YUdWc2NHVnljMXRvWld4d1pYSk9ZVzFsWFR0Y2JpQWdJQ0JwWmlBb0lXdGxaWEJJWld4d1pYSXBJSHRjYmlBZ0lDQWdJR1JsYkdWMFpTQnBibk4wWVc1alpTNW9aV3h3WlhKelcyaGxiSEJsY2s1aGJXVmRPMXh1SUNBZ0lIMWNiaUFnZlZ4dWZWeHVJbDE5XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL3V0aWxzLmpzXCIpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2Jsb2NrSGVscGVyTWlzc2luZycsIGZ1bmN0aW9uIChjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgdmFyIGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZm4odGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoX3V0aWxzLmlzQXJyYXkoY29udGV4dCkpIHtcbiAgICAgIGlmIChjb250ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgICAgICAgb3B0aW9ucy5pZHMgPSBbb3B0aW9ucy5uYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzLmVhY2goY29udGV4dCwgb3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW52ZXJzZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuICAgICAgICB2YXIgZGF0YSA9IF91dGlscy5jcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gX3V0aWxzLmFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5uYW1lKTtcbiAgICAgICAgb3B0aW9ucyA9IHsgZGF0YTogZGF0YSB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk0dUx5NHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDJobGJIQmxjbk12WW14dlkyc3RhR1ZzY0dWeUxXMXBjM05wYm1jdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenR4UWtGQmQwUXNWVUZCVlRzN2NVSkJSVzVFTEZWQlFWTXNVVUZCVVN4RlFVRkZPMEZCUTJoRExGVkJRVkVzUTBGQlF5eGpRVUZqTEVOQlFVTXNiMEpCUVc5Q0xFVkJRVVVzVlVGQlV5eFBRVUZQTEVWQlFVVXNUMEZCVHl4RlFVRkZPMEZCUTNaRkxGRkJRVWtzVDBGQlR5eEhRVUZITEU5QlFVOHNRMEZCUXl4UFFVRlBPMUZCUXpOQ0xFVkJRVVVzUjBGQlJ5eFBRVUZQTEVOQlFVTXNSVUZCUlN4RFFVRkRPenRCUVVWc1FpeFJRVUZKTEU5QlFVOHNTMEZCU3l4SlFVRkpMRVZCUVVVN1FVRkRjRUlzWVVGQlR5eEZRVUZGTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1MwRkRha0lzVFVGQlRTeEpRVUZKTEU5QlFVOHNTMEZCU3l4TFFVRkxMRWxCUVVrc1QwRkJUeXhKUVVGSkxFbEJRVWtzUlVGQlJUdEJRVU12UXl4aFFVRlBMRTlCUVU4c1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dExRVU4wUWl4TlFVRk5MRWxCUVVrc1pVRkJVU3hQUVVGUExFTkJRVU1zUlVGQlJUdEJRVU16UWl4VlFVRkpMRTlCUVU4c1EwRkJReXhOUVVGTkxFZEJRVWNzUTBGQlF5eEZRVUZGTzBGQlEzUkNMRmxCUVVrc1QwRkJUeXhEUVVGRExFZEJRVWNzUlVGQlJUdEJRVU5tTEdsQ1FVRlBMRU5CUVVNc1IwRkJSeXhIUVVGSExFTkJRVU1zVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMU5CUXpsQ096dEJRVVZFTEdWQlFVOHNVVUZCVVN4RFFVRkRMRTlCUVU4c1EwRkJReXhKUVVGSkxFTkJRVU1zVDBGQlR5eEZRVUZGTEU5QlFVOHNRMEZCUXl4RFFVRkRPMDlCUTJoRUxFMUJRVTA3UVVGRFRDeGxRVUZQTEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJRenRQUVVOMFFqdExRVU5HTEUxQlFVMDdRVUZEVEN4VlFVRkpMRTlCUVU4c1EwRkJReXhKUVVGSkxFbEJRVWtzVDBGQlR5eERRVUZETEVkQlFVY3NSVUZCUlR0QlFVTXZRaXhaUVVGSkxFbEJRVWtzUjBGQlJ5eHRRa0ZCV1N4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03UVVGRGNrTXNXVUZCU1N4RFFVRkRMRmRCUVZjc1IwRkJSeXg1UWtGRGFrSXNUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhYUVVGWExFVkJRM2hDTEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUTJJc1EwRkJRenRCUVVOR0xHVkJRVThzUjBGQlJ5eEZRVUZGTEVsQlFVa3NSVUZCUlN4SlFVRkpMRVZCUVVVc1EwRkJRenRQUVVNeFFqczdRVUZGUkN4aFFVRlBMRVZCUVVVc1EwRkJReXhQUVVGUExFVkJRVVVzVDBGQlR5eERRVUZETEVOQlFVTTdTMEZETjBJN1IwRkRSaXhEUVVGRExFTkJRVU03UTBGRFNpSXNJbVpwYkdVaU9pSmliRzlqYXkxb1pXeHdaWEl0YldsemMybHVaeTVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkltbHRjRzl5ZENCN0lHRndjR1Z1WkVOdmJuUmxlSFJRWVhSb0xDQmpjbVZoZEdWR2NtRnRaU3dnYVhOQmNuSmhlU0I5SUdaeWIyMGdKeTR1TDNWMGFXeHpKenRjYmx4dVpYaHdiM0owSUdSbFptRjFiSFFnWm5WdVkzUnBiMjRvYVc1emRHRnVZMlVwSUh0Y2JpQWdhVzV6ZEdGdVkyVXVjbVZuYVhOMFpYSklaV3h3WlhJb0oySnNiMk5yU0dWc2NHVnlUV2x6YzJsdVp5Y3NJR1oxYm1OMGFXOXVLR052Ym5SbGVIUXNJRzl3ZEdsdmJuTXBJSHRjYmlBZ0lDQnNaWFFnYVc1MlpYSnpaU0E5SUc5d2RHbHZibk11YVc1MlpYSnpaU3hjYmlBZ0lDQWdJR1p1SUQwZ2IzQjBhVzl1Y3k1bWJqdGNibHh1SUNBZ0lHbG1JQ2hqYjI1MFpYaDBJRDA5UFNCMGNuVmxLU0I3WEc0Z0lDQWdJQ0J5WlhSMWNtNGdabTRvZEdocGN5azdYRzRnSUNBZ2ZTQmxiSE5sSUdsbUlDaGpiMjUwWlhoMElEMDlQU0JtWVd4elpTQjhmQ0JqYjI1MFpYaDBJRDA5SUc1MWJHd3BJSHRjYmlBZ0lDQWdJSEpsZEhWeWJpQnBiblpsY25ObEtIUm9hWE1wTzF4dUlDQWdJSDBnWld4elpTQnBaaUFvYVhOQmNuSmhlU2hqYjI1MFpYaDBLU2tnZTF4dUlDQWdJQ0FnYVdZZ0tHTnZiblJsZUhRdWJHVnVaM1JvSUQ0Z01Da2dlMXh1SUNBZ0lDQWdJQ0JwWmlBb2IzQjBhVzl1Y3k1cFpITXBJSHRjYmlBZ0lDQWdJQ0FnSUNCdmNIUnBiMjV6TG1sa2N5QTlJRnR2Y0hScGIyNXpMbTVoYldWZE8xeHVJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJR2x1YzNSaGJtTmxMbWhsYkhCbGNuTXVaV0ZqYUNoamIyNTBaWGgwTENCdmNIUnBiMjV6S1R0Y2JpQWdJQ0FnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdJQ0FnSUhKbGRIVnliaUJwYm5abGNuTmxLSFJvYVhNcE8xeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdJQ0JwWmlBb2IzQjBhVzl1Y3k1a1lYUmhJQ1ltSUc5d2RHbHZibk11YVdSektTQjdYRzRnSUNBZ0lDQWdJR3hsZENCa1lYUmhJRDBnWTNKbFlYUmxSbkpoYldVb2IzQjBhVzl1Y3k1a1lYUmhLVHRjYmlBZ0lDQWdJQ0FnWkdGMFlTNWpiMjUwWlhoMFVHRjBhQ0E5SUdGd2NHVnVaRU52Ym5SbGVIUlFZWFJvS0Z4dUlDQWdJQ0FnSUNBZ0lHOXdkR2x2Ym5NdVpHRjBZUzVqYjI1MFpYaDBVR0YwYUN4Y2JpQWdJQ0FnSUNBZ0lDQnZjSFJwYjI1ekxtNWhiV1ZjYmlBZ0lDQWdJQ0FnS1R0Y2JpQWdJQ0FnSUNBZ2IzQjBhVzl1Y3lBOUlIc2daR0YwWVRvZ1pHRjBZU0I5TzF4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCeVpYUjFjbTRnWm00b1kyOXVkR1Y0ZEN3Z2IzQjBhVzl1Y3lrN1hHNGdJQ0FnZlZ4dUlDQjlLVHRjYm4xY2JpSmRmUT09XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9oZWxwZXJzL2VhY2guanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL3V0aWxzLmpzXCIpO1xuXG52YXIgX2V4Y2VwdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V4Y2VwdGlvbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9leGNlcHRpb24uanNcIik7XG5cbnZhciBfZXhjZXB0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4Y2VwdGlvbik7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uIChjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnTXVzdCBwYXNzIGl0ZXJhdG9yIHRvICNlYWNoJyk7XG4gICAgfVxuXG4gICAgdmFyIGZuID0gb3B0aW9ucy5mbixcbiAgICAgICAgaW52ZXJzZSA9IG9wdGlvbnMuaW52ZXJzZSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIHJldCA9ICcnLFxuICAgICAgICBkYXRhID0gdW5kZWZpbmVkLFxuICAgICAgICBjb250ZXh0UGF0aCA9IHVuZGVmaW5lZDtcblxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgIGNvbnRleHRQYXRoID0gX3V0aWxzLmFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5pZHNbMF0pICsgJy4nO1xuICAgIH1cblxuICAgIGlmIChfdXRpbHMuaXNGdW5jdGlvbihjb250ZXh0KSkge1xuICAgICAgY29udGV4dCA9IGNvbnRleHQuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5kYXRhKSB7XG4gICAgICBkYXRhID0gX3V0aWxzLmNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhlY0l0ZXJhdGlvbihmaWVsZCwgaW5kZXgsIGxhc3QpIHtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGRhdGEua2V5ID0gZmllbGQ7XG4gICAgICAgIGRhdGEuaW5kZXggPSBpbmRleDtcbiAgICAgICAgZGF0YS5maXJzdCA9IGluZGV4ID09PSAwO1xuICAgICAgICBkYXRhLmxhc3QgPSAhIWxhc3Q7XG5cbiAgICAgICAgaWYgKGNvbnRleHRQYXRoKSB7XG4gICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGNvbnRleHRQYXRoICsgZmllbGQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0ID0gcmV0ICsgZm4oY29udGV4dFtmaWVsZF0sIHtcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgYmxvY2tQYXJhbXM6IF91dGlscy5ibG9ja1BhcmFtcyhbY29udGV4dFtmaWVsZF0sIGZpZWxkXSwgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoX3V0aWxzLmlzQXJyYXkoY29udGV4dCkpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IGNvbnRleHQubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgaWYgKGkgaW4gY29udGV4dCkge1xuICAgICAgICAgICAgZXhlY0l0ZXJhdGlvbihpLCBpLCBpID09PSBjb250ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChnbG9iYWwuU3ltYm9sICYmIGNvbnRleHRbZ2xvYmFsLlN5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICAgICAgdmFyIG5ld0NvbnRleHQgPSBbXTtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gY29udGV4dFtnbG9iYWwuU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICBmb3IgKHZhciBpdCA9IGl0ZXJhdG9yLm5leHQoKTsgIWl0LmRvbmU7IGl0ID0gaXRlcmF0b3IubmV4dCgpKSB7XG4gICAgICAgICAgbmV3Q29udGV4dC5wdXNoKGl0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0ID0gbmV3Q29udGV4dDtcbiAgICAgICAgZm9yICh2YXIgaiA9IGNvbnRleHQubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgZXhlY0l0ZXJhdGlvbihpLCBpLCBpID09PSBjb250ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBwcmlvcktleSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIE9iamVjdC5rZXlzKGNvbnRleHQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgLy8gV2UncmUgcnVubmluZyB0aGUgaXRlcmF0aW9ucyBvbmUgc3RlcCBvdXQgb2Ygc3luYyBzbyB3ZSBjYW4gZGV0ZWN0XG4gICAgICAgICAgICAvLyB0aGUgbGFzdCBpdGVyYXRpb24gd2l0aG91dCBoYXZlIHRvIHNjYW4gdGhlIG9iamVjdCB0d2ljZSBhbmQgY3JlYXRlXG4gICAgICAgICAgICAvLyBhbiBpdGVybWVkaWF0ZSBrZXlzIGFycmF5LlxuICAgICAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgZXhlY0l0ZXJhdGlvbihwcmlvcktleSwgaSAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJpb3JLZXkgPSBrZXk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24ocHJpb3JLZXksIGkgLSAxLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIHJldCA9IGludmVyc2UodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwyaGxiSEJsY25NdlpXRmphQzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN096czdPM0ZDUVUxUExGVkJRVlU3TzNsQ1FVTkxMR05CUVdNN096czdjVUpCUlhKQ0xGVkJRVk1zVVVGQlVTeEZRVUZGTzBGQlEyaERMRlZCUVZFc1EwRkJReXhqUVVGakxFTkJRVU1zVFVGQlRTeEZRVUZGTEZWQlFWTXNUMEZCVHl4RlFVRkZMRTlCUVU4c1JVRkJSVHRCUVVONlJDeFJRVUZKTEVOQlFVTXNUMEZCVHl4RlFVRkZPMEZCUTFvc1dVRkJUU3d5UWtGQll5dzJRa0ZCTmtJc1EwRkJReXhEUVVGRE8wdEJRM0JFT3p0QlFVVkVMRkZCUVVrc1JVRkJSU3hIUVVGSExFOUJRVThzUTBGQlF5eEZRVUZGTzFGQlEycENMRTlCUVU4c1IwRkJSeXhQUVVGUExFTkJRVU1zVDBGQlR6dFJRVU42UWl4RFFVRkRMRWRCUVVjc1EwRkJRenRSUVVOTUxFZEJRVWNzUjBGQlJ5eEZRVUZGTzFGQlExSXNTVUZCU1N4WlFVRkJPMUZCUTBvc1YwRkJWeXhaUVVGQkxFTkJRVU03TzBGQlJXUXNVVUZCU1N4UFFVRlBMRU5CUVVNc1NVRkJTU3hKUVVGSkxFOUJRVThzUTBGQlF5eEhRVUZITEVWQlFVVTdRVUZETDBJc2FVSkJRVmNzUjBGRFZDeDVRa0ZCYTBJc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eFhRVUZYTEVWQlFVVXNUMEZCVHl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZITEVkQlFVY3NRMEZCUXp0TFFVTnlSVHM3UVVGRlJDeFJRVUZKTEd0Q1FVRlhMRTlCUVU4c1EwRkJReXhGUVVGRk8wRkJRM1pDTEdGQlFVOHNSMEZCUnl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzB0QlF6bENPenRCUVVWRUxGRkJRVWtzVDBGQlR5eERRVUZETEVsQlFVa3NSVUZCUlR0QlFVTm9RaXhWUVVGSkxFZEJRVWNzYlVKQlFWa3NUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8wdEJRMnhET3p0QlFVVkVMR0ZCUVZNc1lVRkJZU3hEUVVGRExFdEJRVXNzUlVGQlJTeExRVUZMTEVWQlFVVXNTVUZCU1N4RlFVRkZPMEZCUTNwRExGVkJRVWtzU1VGQlNTeEZRVUZGTzBGQlExSXNXVUZCU1N4RFFVRkRMRWRCUVVjc1IwRkJSeXhMUVVGTExFTkJRVU03UVVGRGFrSXNXVUZCU1N4RFFVRkRMRXRCUVVzc1IwRkJSeXhMUVVGTExFTkJRVU03UVVGRGJrSXNXVUZCU1N4RFFVRkRMRXRCUVVzc1IwRkJSeXhMUVVGTExFdEJRVXNzUTBGQlF5eERRVUZETzBGQlEzcENMRmxCUVVrc1EwRkJReXhKUVVGSkxFZEJRVWNzUTBGQlF5eERRVUZETEVsQlFVa3NRMEZCUXpzN1FVRkZia0lzV1VGQlNTeFhRVUZYTEVWQlFVVTdRVUZEWml4alFVRkpMRU5CUVVNc1YwRkJWeXhIUVVGSExGZEJRVmNzUjBGQlJ5eExRVUZMTEVOQlFVTTdVMEZEZUVNN1QwRkRSanM3UVVGRlJDeFRRVUZITEVkQlEwUXNSMEZCUnl4SFFVTklMRVZCUVVVc1EwRkJReXhQUVVGUExFTkJRVU1zUzBGQlN5eERRVUZETEVWQlFVVTdRVUZEYWtJc1dVRkJTU3hGUVVGRkxFbEJRVWs3UVVGRFZpeHRRa0ZCVnl4RlFVRkZMRzFDUVVOWUxFTkJRVU1zVDBGQlR5eERRVUZETEV0QlFVc3NRMEZCUXl4RlFVRkZMRXRCUVVzc1EwRkJReXhGUVVOMlFpeERRVUZETEZkQlFWY3NSMEZCUnl4TFFVRkxMRVZCUVVVc1NVRkJTU3hEUVVGRExFTkJRelZDTzA5QlEwWXNRMEZCUXl4RFFVRkRPMHRCUTA0N08wRkJSVVFzVVVGQlNTeFBRVUZQTEVsQlFVa3NUMEZCVHl4UFFVRlBMRXRCUVVzc1VVRkJVU3hGUVVGRk8wRkJRekZETEZWQlFVa3NaVUZCVVN4UFFVRlBMRU5CUVVNc1JVRkJSVHRCUVVOd1FpeGhRVUZMTEVsQlFVa3NRMEZCUXl4SFFVRkhMRTlCUVU4c1EwRkJReXhOUVVGTkxFVkJRVVVzUTBGQlF5eEhRVUZITEVOQlFVTXNSVUZCUlN4RFFVRkRMRVZCUVVVc1JVRkJSVHRCUVVOMlF5eGpRVUZKTEVOQlFVTXNTVUZCU1N4UFFVRlBMRVZCUVVVN1FVRkRhRUlzZVVKQlFXRXNRMEZCUXl4RFFVRkRMRVZCUVVVc1EwRkJReXhGUVVGRkxFTkJRVU1zUzBGQlN5eFBRVUZQTEVOQlFVTXNUVUZCVFN4SFFVRkhMRU5CUVVNc1EwRkJReXhEUVVGRE8xZEJReTlETzFOQlEwWTdUMEZEUml4TlFVRk5MRWxCUVVrc1RVRkJUU3hEUVVGRExFMUJRVTBzU1VGQlNTeFBRVUZQTEVOQlFVTXNUVUZCVFN4RFFVRkRMRTFCUVUwc1EwRkJReXhSUVVGUkxFTkJRVU1zUlVGQlJUdEJRVU16UkN4WlFVRk5MRlZCUVZVc1IwRkJSeXhGUVVGRkxFTkJRVU03UVVGRGRFSXNXVUZCVFN4UlFVRlJMRWRCUVVjc1QwRkJUeXhEUVVGRExFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTXNVVUZCVVN4RFFVRkRMRVZCUVVVc1EwRkJRenRCUVVOdVJDeGhRVUZMTEVsQlFVa3NSVUZCUlN4SFFVRkhMRkZCUVZFc1EwRkJReXhKUVVGSkxFVkJRVVVzUlVGQlJTeERRVUZETEVWQlFVVXNRMEZCUXl4SlFVRkpMRVZCUVVVc1JVRkJSU3hIUVVGSExGRkJRVkVzUTBGQlF5eEpRVUZKTEVWQlFVVXNSVUZCUlR0QlFVTTNSQ3h2UWtGQlZTeERRVUZETEVsQlFVa3NRMEZCUXl4RlFVRkZMRU5CUVVNc1MwRkJTeXhEUVVGRExFTkJRVU03VTBGRE0wSTdRVUZEUkN4bFFVRlBMRWRCUVVjc1ZVRkJWU3hEUVVGRE8wRkJRM0pDTEdGQlFVc3NTVUZCU1N4RFFVRkRMRWRCUVVjc1QwRkJUeXhEUVVGRExFMUJRVTBzUlVGQlJTeERRVUZETEVkQlFVY3NRMEZCUXl4RlFVRkZMRU5CUVVNc1JVRkJSU3hGUVVGRk8wRkJRM1pETEhWQ1FVRmhMRU5CUVVNc1EwRkJReXhGUVVGRkxFTkJRVU1zUlVGQlJTeERRVUZETEV0QlFVc3NUMEZCVHl4RFFVRkRMRTFCUVUwc1IwRkJSeXhEUVVGRExFTkJRVU1zUTBGQlF6dFRRVU12UXp0UFFVTkdMRTFCUVUwN08wRkJRMHdzWTBGQlNTeFJRVUZSTEZsQlFVRXNRMEZCUXpzN1FVRkZZaXhuUWtGQlRTeERRVUZETEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1EwRkJReXhQUVVGUExFTkJRVU1zVlVGQlFTeEhRVUZITEVWQlFVazdPenM3UVVGSmJFTXNaMEpCUVVrc1VVRkJVU3hMUVVGTExGTkJRVk1zUlVGQlJUdEJRVU14UWl3eVFrRkJZU3hEUVVGRExGRkJRVkVzUlVGQlJTeERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRU5CUVVNN1lVRkRhRU03UVVGRFJDeHZRa0ZCVVN4SFFVRkhMRWRCUVVjc1EwRkJRenRCUVVObUxHRkJRVU1zUlVGQlJTeERRVUZETzFkQlEwd3NRMEZCUXl4RFFVRkRPMEZCUTBnc1kwRkJTU3hSUVVGUkxFdEJRVXNzVTBGQlV5eEZRVUZGTzBGQlF6RkNMSGxDUVVGaExFTkJRVU1zVVVGQlVTeEZRVUZGTEVOQlFVTXNSMEZCUnl4RFFVRkRMRVZCUVVVc1NVRkJTU3hEUVVGRExFTkJRVU03VjBGRGRFTTdPMDlCUTBZN1MwRkRSanM3UVVGRlJDeFJRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRVZCUVVVN1FVRkRXQ3hUUVVGSExFZEJRVWNzVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMHRCUTNKQ096dEJRVVZFTEZkQlFVOHNSMEZCUnl4RFFVRkRPMGRCUTFvc1EwRkJReXhEUVVGRE8wTkJRMG9pTENKbWFXeGxJam9pWldGamFDNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1sdGNHOXlkQ0I3WEc0Z0lHRndjR1Z1WkVOdmJuUmxlSFJRWVhSb0xGeHVJQ0JpYkc5amExQmhjbUZ0Y3l4Y2JpQWdZM0psWVhSbFJuSmhiV1VzWEc0Z0lHbHpRWEp5WVhrc1hHNGdJR2x6Um5WdVkzUnBiMjVjYm4wZ1puSnZiU0FuTGk0dmRYUnBiSE1uTzF4dWFXMXdiM0owSUVWNFkyVndkR2x2YmlCbWNtOXRJQ2N1TGk5bGVHTmxjSFJwYjI0bk8xeHVYRzVsZUhCdmNuUWdaR1ZtWVhWc2RDQm1kVzVqZEdsdmJpaHBibk4wWVc1alpTa2dlMXh1SUNCcGJuTjBZVzVqWlM1eVpXZHBjM1JsY2tobGJIQmxjaWduWldGamFDY3NJR1oxYm1OMGFXOXVLR052Ym5SbGVIUXNJRzl3ZEdsdmJuTXBJSHRjYmlBZ0lDQnBaaUFvSVc5d2RHbHZibk1wSUh0Y2JpQWdJQ0FnSUhSb2NtOTNJRzVsZHlCRmVHTmxjSFJwYjI0b0owMTFjM1FnY0dGemN5QnBkR1Z5WVhSdmNpQjBieUFqWldGamFDY3BPMXh1SUNBZ0lIMWNibHh1SUNBZ0lHeGxkQ0JtYmlBOUlHOXdkR2x2Ym5NdVptNHNYRzRnSUNBZ0lDQnBiblpsY25ObElEMGdiM0IwYVc5dWN5NXBiblpsY25ObExGeHVJQ0FnSUNBZ2FTQTlJREFzWEc0Z0lDQWdJQ0J5WlhRZ1BTQW5KeXhjYmlBZ0lDQWdJR1JoZEdFc1hHNGdJQ0FnSUNCamIyNTBaWGgwVUdGMGFEdGNibHh1SUNBZ0lHbG1JQ2h2Y0hScGIyNXpMbVJoZEdFZ0ppWWdiM0IwYVc5dWN5NXBaSE1wSUh0Y2JpQWdJQ0FnSUdOdmJuUmxlSFJRWVhSb0lEMWNiaUFnSUNBZ0lDQWdZWEJ3Wlc1a1EyOXVkR1Y0ZEZCaGRHZ29iM0IwYVc5dWN5NWtZWFJoTG1OdmJuUmxlSFJRWVhSb0xDQnZjSFJwYjI1ekxtbGtjMXN3WFNrZ0t5QW5MaWM3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdhV1lnS0dselJuVnVZM1JwYjI0b1kyOXVkR1Y0ZENrcElIdGNiaUFnSUNBZ0lHTnZiblJsZUhRZ1BTQmpiMjUwWlhoMExtTmhiR3dvZEdocGN5azdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ2FXWWdLRzl3ZEdsdmJuTXVaR0YwWVNrZ2UxeHVJQ0FnSUNBZ1pHRjBZU0E5SUdOeVpXRjBaVVp5WVcxbEtHOXdkR2x2Ym5NdVpHRjBZU2s3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdablZ1WTNScGIyNGdaWGhsWTBsMFpYSmhkR2x2YmlobWFXVnNaQ3dnYVc1a1pYZ3NJR3hoYzNRcElIdGNiaUFnSUNBZ0lHbG1JQ2hrWVhSaEtTQjdYRzRnSUNBZ0lDQWdJR1JoZEdFdWEyVjVJRDBnWm1sbGJHUTdYRzRnSUNBZ0lDQWdJR1JoZEdFdWFXNWtaWGdnUFNCcGJtUmxlRHRjYmlBZ0lDQWdJQ0FnWkdGMFlTNW1hWEp6ZENBOUlHbHVaR1Y0SUQwOVBTQXdPMXh1SUNBZ0lDQWdJQ0JrWVhSaExteGhjM1FnUFNBaElXeGhjM1E3WEc1Y2JpQWdJQ0FnSUNBZ2FXWWdLR052Ym5SbGVIUlFZWFJvS1NCN1hHNGdJQ0FnSUNBZ0lDQWdaR0YwWVM1amIyNTBaWGgwVUdGMGFDQTlJR052Ym5SbGVIUlFZWFJvSUNzZ1ptbGxiR1E3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ2NtVjBJRDFjYmlBZ0lDQWdJQ0FnY21WMElDdGNiaUFnSUNBZ0lDQWdabTRvWTI5dWRHVjRkRnRtYVdWc1pGMHNJSHRjYmlBZ0lDQWdJQ0FnSUNCa1lYUmhPaUJrWVhSaExGeHVJQ0FnSUNBZ0lDQWdJR0pzYjJOclVHRnlZVzF6T2lCaWJHOWphMUJoY21GdGN5aGNiaUFnSUNBZ0lDQWdJQ0FnSUZ0amIyNTBaWGgwVzJacFpXeGtYU3dnWm1sbGJHUmRMRnh1SUNBZ0lDQWdJQ0FnSUNBZ1cyTnZiblJsZUhSUVlYUm9JQ3NnWm1sbGJHUXNJRzUxYkd4ZFhHNGdJQ0FnSUNBZ0lDQWdLVnh1SUNBZ0lDQWdJQ0I5S1R0Y2JpQWdJQ0I5WEc1Y2JpQWdJQ0JwWmlBb1kyOXVkR1Y0ZENBbUppQjBlWEJsYjJZZ1kyOXVkR1Y0ZENBOVBUMGdKMjlpYW1WamRDY3BJSHRjYmlBZ0lDQWdJR2xtSUNocGMwRnljbUY1S0dOdmJuUmxlSFFwS1NCN1hHNGdJQ0FnSUNBZ0lHWnZjaUFvYkdWMElHb2dQU0JqYjI1MFpYaDBMbXhsYm1kMGFEc2dhU0E4SUdvN0lHa3JLeWtnZTF4dUlDQWdJQ0FnSUNBZ0lHbG1JQ2hwSUdsdUlHTnZiblJsZUhRcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdWNFpXTkpkR1Z5WVhScGIyNG9hU3dnYVN3Z2FTQTlQVDBnWTI5dWRHVjRkQzVzWlc1bmRHZ2dMU0F4S1R0Y2JpQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJSDBnWld4elpTQnBaaUFvWjJ4dlltRnNMbE41YldKdmJDQW1KaUJqYjI1MFpYaDBXMmRzYjJKaGJDNVRlVzFpYjJ3dWFYUmxjbUYwYjNKZEtTQjdYRzRnSUNBZ0lDQWdJR052Ym5OMElHNWxkME52Ym5SbGVIUWdQU0JiWFR0Y2JpQWdJQ0FnSUNBZ1kyOXVjM1FnYVhSbGNtRjBiM0lnUFNCamIyNTBaWGgwVzJkc2IySmhiQzVUZVcxaWIyd3VhWFJsY21GMGIzSmRLQ2s3WEc0Z0lDQWdJQ0FnSUdadmNpQW9iR1YwSUdsMElEMGdhWFJsY21GMGIzSXVibVY0ZENncE95QWhhWFF1Wkc5dVpUc2dhWFFnUFNCcGRHVnlZWFJ2Y2k1dVpYaDBLQ2twSUh0Y2JpQWdJQ0FnSUNBZ0lDQnVaWGREYjI1MFpYaDBMbkIxYzJnb2FYUXVkbUZzZFdVcE8xeHVJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJR052Ym5SbGVIUWdQU0J1WlhkRGIyNTBaWGgwTzF4dUlDQWdJQ0FnSUNCbWIzSWdLR3hsZENCcUlEMGdZMjl1ZEdWNGRDNXNaVzVuZEdnN0lHa2dQQ0JxT3lCcEt5c3BJSHRjYmlBZ0lDQWdJQ0FnSUNCbGVHVmpTWFJsY21GMGFXOXVLR2tzSUdrc0lHa2dQVDA5SUdOdmJuUmxlSFF1YkdWdVozUm9JQzBnTVNrN1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lIMGdaV3h6WlNCN1hHNGdJQ0FnSUNBZ0lHeGxkQ0J3Y21sdmNrdGxlVHRjYmx4dUlDQWdJQ0FnSUNCUFltcGxZM1F1YTJWNWN5aGpiMjUwWlhoMEtTNW1iM0pGWVdOb0tHdGxlU0E5UGlCN1hHNGdJQ0FnSUNBZ0lDQWdMeThnVjJVbmNtVWdjblZ1Ym1sdVp5QjBhR1VnYVhSbGNtRjBhVzl1Y3lCdmJtVWdjM1JsY0NCdmRYUWdiMllnYzNsdVl5QnpieUIzWlNCallXNGdaR1YwWldOMFhHNGdJQ0FnSUNBZ0lDQWdMeThnZEdobElHeGhjM1FnYVhSbGNtRjBhVzl1SUhkcGRHaHZkWFFnYUdGMlpTQjBieUJ6WTJGdUlIUm9aU0J2WW1wbFkzUWdkSGRwWTJVZ1lXNWtJR055WldGMFpWeHVJQ0FnSUNBZ0lDQWdJQzh2SUdGdUlHbDBaWEp0WldScFlYUmxJR3RsZVhNZ1lYSnlZWGt1WEc0Z0lDQWdJQ0FnSUNBZ2FXWWdLSEJ5YVc5eVMyVjVJQ0U5UFNCMWJtUmxabWx1WldRcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdWNFpXTkpkR1Z5WVhScGIyNG9jSEpwYjNKTFpYa3NJR2tnTFNBeEtUdGNiaUFnSUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUNBZ2NISnBiM0pMWlhrZ1BTQnJaWGs3WEc0Z0lDQWdJQ0FnSUNBZ2FTc3JPMXh1SUNBZ0lDQWdJQ0I5S1R0Y2JpQWdJQ0FnSUNBZ2FXWWdLSEJ5YVc5eVMyVjVJQ0U5UFNCMWJtUmxabWx1WldRcElIdGNiaUFnSUNBZ0lDQWdJQ0JsZUdWalNYUmxjbUYwYVc5dUtIQnlhVzl5UzJWNUxDQnBJQzBnTVN3Z2RISjFaU2s3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JpQWdJQ0I5WEc1Y2JpQWdJQ0JwWmlBb2FTQTlQVDBnTUNrZ2UxeHVJQ0FnSUNBZ2NtVjBJRDBnYVc1MlpYSnpaU2gwYUdsektUdGNiaUFnSUNCOVhHNWNiaUFnSUNCeVpYUjFjbTRnY21WME8xeHVJQ0I5S1R0Y2JuMWNiaUpkZlE9PVxuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi8uLi8uLi8uLi8uLi93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9oZWxwZXJzL2hlbHBlci1taXNzaW5nLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9oZWxwZXJzL2hlbHBlci1taXNzaW5nLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXhjZXB0aW9uICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qc1wiKTtcblxudmFyIF9leGNlcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhjZXB0aW9uKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdoZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24gKCkgLyogW2FyZ3MsIF1vcHRpb25zICove1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBBIG1pc3NpbmcgZmllbGQgaW4gYSB7e2Zvb319IGNvbnN0cnVjdC5cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNvbWVvbmUgaXMgYWN0dWFsbHkgdHJ5aW5nIHRvIGNhbGwgc29tZXRoaW5nLCBibG93IHVwLlxuICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ01pc3NpbmcgaGVscGVyOiBcIicgKyBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdLm5hbWUgKyAnXCInKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMMmhsYkhCbGNuTXZhR1ZzY0dWeUxXMXBjM05wYm1jdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3p0NVFrRkJjMElzWTBGQll6czdPenR4UWtGRmNrSXNWVUZCVXl4UlFVRlJMRVZCUVVVN1FVRkRhRU1zVlVGQlVTeERRVUZETEdOQlFXTXNRMEZCUXl4bFFVRmxMRVZCUVVVc2FVTkJRV2RETzBGQlEzWkZMRkZCUVVrc1UwRkJVeXhEUVVGRExFMUJRVTBzUzBGQlN5eERRVUZETEVWQlFVVTdPMEZCUlRGQ0xHRkJRVThzVTBGQlV5eERRVUZETzB0QlEyeENMRTFCUVUwN08wRkJSVXdzV1VGQlRTd3lRa0ZEU2l4dFFrRkJiVUlzUjBGQlJ5eFRRVUZUTEVOQlFVTXNVMEZCVXl4RFFVRkRMRTFCUVUwc1IwRkJSeXhEUVVGRExFTkJRVU1zUTBGQlF5eEpRVUZKTEVkQlFVY3NSMEZCUnl4RFFVTnFSU3hEUVVGRE8wdEJRMGc3UjBGRFJpeERRVUZETEVOQlFVTTdRMEZEU2lJc0ltWnBiR1VpT2lKb1pXeHdaWEl0YldsemMybHVaeTVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkltbHRjRzl5ZENCRmVHTmxjSFJwYjI0Z1puSnZiU0FuTGk0dlpYaGpaWEIwYVc5dUp6dGNibHh1Wlhod2IzSjBJR1JsWm1GMWJIUWdablZ1WTNScGIyNG9hVzV6ZEdGdVkyVXBJSHRjYmlBZ2FXNXpkR0Z1WTJVdWNtVm5hWE4wWlhKSVpXeHdaWElvSjJobGJIQmxjazFwYzNOcGJtY25MQ0JtZFc1amRHbHZiaWd2S2lCYllYSm5jeXdnWFc5d2RHbHZibk1nS2k4cElIdGNiaUFnSUNCcFppQW9ZWEpuZFcxbGJuUnpMbXhsYm1kMGFDQTlQVDBnTVNrZ2UxeHVJQ0FnSUNBZ0x5OGdRU0J0YVhOemFXNW5JR1pwWld4a0lHbHVJR0VnZTN0bWIyOTlmU0JqYjI1emRISjFZM1F1WEc0Z0lDQWdJQ0J5WlhSMWNtNGdkVzVrWldacGJtVmtPMXh1SUNBZ0lIMGdaV3h6WlNCN1hHNGdJQ0FnSUNBdkx5QlRiMjFsYjI1bElHbHpJR0ZqZEhWaGJHeDVJSFJ5ZVdsdVp5QjBieUJqWVd4c0lITnZiV1YwYUdsdVp5d2dZbXh2ZHlCMWNDNWNiaUFnSUNBZ0lIUm9jbTkzSUc1bGR5QkZlR05sY0hScGIyNG9YRzRnSUNBZ0lDQWdJQ2ROYVhOemFXNW5JR2hsYkhCbGNqb2dYQ0luSUNzZ1lYSm5kVzFsYm5SelcyRnlaM1Z0Wlc1MGN5NXNaVzVuZEdnZ0xTQXhYUzV1WVcxbElDc2dKMXdpSjF4dUlDQWdJQ0FnS1R0Y2JpQWdJQ0I5WEc0Z0lIMHBPMXh1ZlZ4dUlsMTlcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy9pZi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy9pZi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvdXRpbHMuanNcIik7XG5cbnZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXhjZXB0aW9uICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qc1wiKTtcblxudmFyIF9leGNlcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhjZXB0aW9uKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdpZicsIGZ1bmN0aW9uIChjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcbiAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCcjaWYgcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgaWYgKF91dGlscy5pc0Z1bmN0aW9uKGNvbmRpdGlvbmFsKSkge1xuICAgICAgY29uZGl0aW9uYWwgPSBjb25kaXRpb25hbC5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIC8vIERlZmF1bHQgYmVoYXZpb3IgaXMgdG8gcmVuZGVyIHRoZSBwb3NpdGl2ZSBwYXRoIGlmIHRoZSB2YWx1ZSBpcyB0cnV0aHkgYW5kIG5vdCBlbXB0eS5cbiAgICAvLyBUaGUgYGluY2x1ZGVaZXJvYCBvcHRpb24gbWF5IGJlIHNldCB0byB0cmVhdCB0aGUgY29uZHRpb25hbCBhcyBwdXJlbHkgbm90IGVtcHR5IGJhc2VkIG9uIHRoZVxuICAgIC8vIGJlaGF2aW9yIG9mIGlzRW1wdHkuIEVmZmVjdGl2ZWx5IHRoaXMgZGV0ZXJtaW5lcyBpZiAwIGlzIGhhbmRsZWQgYnkgdGhlIHBvc2l0aXZlIHBhdGggb3IgbmVnYXRpdmUuXG4gICAgaWYgKCFvcHRpb25zLmhhc2guaW5jbHVkZVplcm8gJiYgIWNvbmRpdGlvbmFsIHx8IF91dGlscy5pc0VtcHR5KGNvbmRpdGlvbmFsKSkge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgfVxuICB9KTtcblxuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcigndW5sZXNzJywgZnVuY3Rpb24gKGNvbmRpdGlvbmFsLCBvcHRpb25zKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT0gMikge1xuICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJyN1bmxlc3MgcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnNbJ2lmJ10uY2FsbCh0aGlzLCBjb25kaXRpb25hbCwge1xuICAgICAgZm46IG9wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGludmVyc2U6IG9wdGlvbnMuZm4sXG4gICAgICBoYXNoOiBvcHRpb25zLmhhc2hcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwyaGxiSEJsY25NdmFXWXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN096dHhRa0ZCYjBNc1ZVRkJWVHM3ZVVKQlEzaENMR05CUVdNN096czdjVUpCUlhKQ0xGVkJRVk1zVVVGQlVTeEZRVUZGTzBGQlEyaERMRlZCUVZFc1EwRkJReXhqUVVGakxFTkJRVU1zU1VGQlNTeEZRVUZGTEZWQlFWTXNWMEZCVnl4RlFVRkZMRTlCUVU4c1JVRkJSVHRCUVVNelJDeFJRVUZKTEZOQlFWTXNRMEZCUXl4TlFVRk5MRWxCUVVrc1EwRkJReXhGUVVGRk8wRkJRM3BDTEZsQlFVMHNNa0pCUVdNc2JVTkJRVzFETEVOQlFVTXNRMEZCUXp0TFFVTXhSRHRCUVVORUxGRkJRVWtzYTBKQlFWY3NWMEZCVnl4RFFVRkRMRVZCUVVVN1FVRkRNMElzYVVKQlFWY3NSMEZCUnl4WFFVRlhMRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzB0QlEzUkRPenM3T3p0QlFVdEVMRkZCUVVrc1FVRkJReXhEUVVGRExFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNWMEZCVnl4SlFVRkpMRU5CUVVNc1YwRkJWeXhKUVVGTExHVkJRVkVzVjBGQlZ5eERRVUZETEVWQlFVVTdRVUZEZGtVc1lVRkJUeXhQUVVGUExFTkJRVU1zVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMHRCUXpsQ0xFMUJRVTA3UVVGRFRDeGhRVUZQTEU5QlFVOHNRMEZCUXl4RlFVRkZMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03UzBGRGVrSTdSMEZEUml4RFFVRkRMRU5CUVVNN08wRkJSVWdzVlVGQlVTeERRVUZETEdOQlFXTXNRMEZCUXl4UlFVRlJMRVZCUVVVc1ZVRkJVeXhYUVVGWExFVkJRVVVzVDBGQlR5eEZRVUZGTzBGQlF5OUVMRkZCUVVrc1UwRkJVeXhEUVVGRExFMUJRVTBzU1VGQlNTeERRVUZETEVWQlFVVTdRVUZEZWtJc1dVRkJUU3d5UWtGQll5eDFRMEZCZFVNc1EwRkJReXhEUVVGRE8wdEJRemxFTzBGQlEwUXNWMEZCVHl4UlFVRlJMRU5CUVVNc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETEVsQlFVa3NRMEZCUXl4SlFVRkpMRVZCUVVVc1YwRkJWeXhGUVVGRk8wRkJRM0JFTEZGQlFVVXNSVUZCUlN4UFFVRlBMRU5CUVVNc1QwRkJUenRCUVVOdVFpeGhRVUZQTEVWQlFVVXNUMEZCVHl4RFFVRkRMRVZCUVVVN1FVRkRia0lzVlVGQlNTeEZRVUZGTEU5QlFVOHNRMEZCUXl4SlFVRkpPMHRCUTI1Q0xFTkJRVU1zUTBGQlF6dEhRVU5LTEVOQlFVTXNRMEZCUXp0RFFVTktJaXdpWm1sc1pTSTZJbWxtTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lhVzF3YjNKMElIc2dhWE5GYlhCMGVTd2dhWE5HZFc1amRHbHZiaUI5SUdaeWIyMGdKeTR1TDNWMGFXeHpKenRjYm1sdGNHOXlkQ0JGZUdObGNIUnBiMjRnWm5KdmJTQW5MaTR2WlhoalpYQjBhVzl1Snp0Y2JseHVaWGh3YjNKMElHUmxabUYxYkhRZ1puVnVZM1JwYjI0b2FXNXpkR0Z1WTJVcElIdGNiaUFnYVc1emRHRnVZMlV1Y21WbmFYTjBaWEpJWld4d1pYSW9KMmxtSnl3Z1puVnVZM1JwYjI0b1kyOXVaR2wwYVc5dVlXd3NJRzl3ZEdsdmJuTXBJSHRjYmlBZ0lDQnBaaUFvWVhKbmRXMWxiblJ6TG14bGJtZDBhQ0FoUFNBeUtTQjdYRzRnSUNBZ0lDQjBhSEp2ZHlCdVpYY2dSWGhqWlhCMGFXOXVLQ2NqYVdZZ2NtVnhkV2x5WlhNZ1pYaGhZM1JzZVNCdmJtVWdZWEpuZFcxbGJuUW5LVHRjYmlBZ0lDQjlYRzRnSUNBZ2FXWWdLR2x6Um5WdVkzUnBiMjRvWTI5dVpHbDBhVzl1WVd3cEtTQjdYRzRnSUNBZ0lDQmpiMjVrYVhScGIyNWhiQ0E5SUdOdmJtUnBkR2x2Ym1Gc0xtTmhiR3dvZEdocGN5azdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ0x5OGdSR1ZtWVhWc2RDQmlaV2hoZG1sdmNpQnBjeUIwYnlCeVpXNWtaWElnZEdobElIQnZjMmwwYVhabElIQmhkR2dnYVdZZ2RHaGxJSFpoYkhWbElHbHpJSFJ5ZFhSb2VTQmhibVFnYm05MElHVnRjSFI1TGx4dUlDQWdJQzh2SUZSb1pTQmdhVzVqYkhWa1pWcGxjbTlnSUc5d2RHbHZiaUJ0WVhrZ1ltVWdjMlYwSUhSdklIUnlaV0YwSUhSb1pTQmpiMjVrZEdsdmJtRnNJR0Z6SUhCMWNtVnNlU0J1YjNRZ1pXMXdkSGtnWW1GelpXUWdiMjRnZEdobFhHNGdJQ0FnTHk4Z1ltVm9ZWFpwYjNJZ2IyWWdhWE5GYlhCMGVTNGdSV1ptWldOMGFYWmxiSGtnZEdocGN5QmtaWFJsY20xcGJtVnpJR2xtSURBZ2FYTWdhR0Z1Wkd4bFpDQmllU0IwYUdVZ2NHOXphWFJwZG1VZ2NHRjBhQ0J2Y2lCdVpXZGhkR2wyWlM1Y2JpQWdJQ0JwWmlBb0tDRnZjSFJwYjI1ekxtaGhjMmd1YVc1amJIVmtaVnBsY204Z0ppWWdJV052Ym1ScGRHbHZibUZzS1NCOGZDQnBjMFZ0Y0hSNUtHTnZibVJwZEdsdmJtRnNLU2tnZTF4dUlDQWdJQ0FnY21WMGRYSnVJRzl3ZEdsdmJuTXVhVzUyWlhKelpTaDBhR2x6S1R0Y2JpQWdJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lDQWdjbVYwZFhKdUlHOXdkR2x2Ym5NdVptNG9kR2hwY3lrN1hHNGdJQ0FnZlZ4dUlDQjlLVHRjYmx4dUlDQnBibk4wWVc1alpTNXlaV2RwYzNSbGNraGxiSEJsY2lnbmRXNXNaWE56Snl3Z1puVnVZM1JwYjI0b1kyOXVaR2wwYVc5dVlXd3NJRzl3ZEdsdmJuTXBJSHRjYmlBZ0lDQnBaaUFvWVhKbmRXMWxiblJ6TG14bGJtZDBhQ0FoUFNBeUtTQjdYRzRnSUNBZ0lDQjBhSEp2ZHlCdVpYY2dSWGhqWlhCMGFXOXVLQ2NqZFc1c1pYTnpJSEpsY1hWcGNtVnpJR1Y0WVdOMGJIa2diMjVsSUdGeVozVnRaVzUwSnlrN1hHNGdJQ0FnZlZ4dUlDQWdJSEpsZEhWeWJpQnBibk4wWVc1alpTNW9aV3h3WlhKeld5ZHBaaWRkTG1OaGJHd29kR2hwY3l3Z1kyOXVaR2wwYVc5dVlXd3NJSHRjYmlBZ0lDQWdJR1p1T2lCdmNIUnBiMjV6TG1sdWRtVnljMlVzWEc0Z0lDQWdJQ0JwYm5abGNuTmxPaUJ2Y0hScGIyNXpMbVp1TEZ4dUlDQWdJQ0FnYUdGemFEb2diM0IwYVc5dWN5NW9ZWE5vWEc0Z0lDQWdmU2s3WEc0Z0lIMHBPMXh1ZlZ4dUlsMTlcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy9sb2cuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9oZWxwZXJzL2xvZy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdsb2cnLCBmdW5jdGlvbiAoKSAvKiBtZXNzYWdlLCBvcHRpb25zICove1xuICAgIHZhciBhcmdzID0gW3VuZGVmaW5lZF0sXG4gICAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuXG4gICAgdmFyIGxldmVsID0gMTtcbiAgICBpZiAob3B0aW9ucy5oYXNoLmxldmVsICE9IG51bGwpIHtcbiAgICAgIGxldmVsID0gb3B0aW9ucy5oYXNoLmxldmVsO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuZGF0YS5sZXZlbCAhPSBudWxsKSB7XG4gICAgICBsZXZlbCA9IG9wdGlvbnMuZGF0YS5sZXZlbDtcbiAgICB9XG4gICAgYXJnc1swXSA9IGxldmVsO1xuXG4gICAgaW5zdGFuY2UubG9nLmFwcGx5KGluc3RhbmNlLCBhcmdzKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwyaGxiSEJsY25NdmJHOW5MbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN2NVSkJRV1VzVlVGQlV5eFJRVUZSTEVWQlFVVTdRVUZEYUVNc1ZVRkJVU3hEUVVGRExHTkJRV01zUTBGQlF5eExRVUZMTEVWQlFVVXNhME5CUVdsRE8wRkJRemxFTEZGQlFVa3NTVUZCU1N4SFFVRkhMRU5CUVVNc1UwRkJVeXhEUVVGRE8xRkJRM0JDTEU5QlFVOHNSMEZCUnl4VFFVRlRMRU5CUVVNc1UwRkJVeXhEUVVGRExFMUJRVTBzUjBGQlJ5eERRVUZETEVOQlFVTXNRMEZCUXp0QlFVTTFReXhUUVVGTExFbEJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNSVUZCUlN4RFFVRkRMRWRCUVVjc1UwRkJVeXhEUVVGRExFMUJRVTBzUjBGQlJ5eERRVUZETEVWQlFVVXNRMEZCUXl4RlFVRkZMRVZCUVVVN1FVRkROME1zVlVGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4VFFVRlRMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF6dExRVU42UWpzN1FVRkZSQ3hSUVVGSkxFdEJRVXNzUjBGQlJ5eERRVUZETEVOQlFVTTdRVUZEWkN4UlFVRkpMRTlCUVU4c1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlN5eEpRVUZKTEVsQlFVa3NSVUZCUlR0QlFVTTVRaXhYUVVGTExFZEJRVWNzVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNN1MwRkROVUlzVFVGQlRTeEpRVUZKTEU5QlFVOHNRMEZCUXl4SlFVRkpMRWxCUVVrc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVsQlFVa3NTVUZCU1N4RlFVRkZPMEZCUTNKRUxGZEJRVXNzUjBGQlJ5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJRenRMUVVNMVFqdEJRVU5FTEZGQlFVa3NRMEZCUXl4RFFVRkRMRU5CUVVNc1IwRkJSeXhMUVVGTExFTkJRVU03TzBGQlJXaENMRmxCUVZFc1EwRkJReXhIUVVGSExFMUJRVUVzUTBGQldpeFJRVUZSTEVWQlFWRXNTVUZCU1N4RFFVRkRMRU5CUVVNN1IwRkRka0lzUTBGQlF5eERRVUZETzBOQlEwb2lMQ0ptYVd4bElqb2liRzluTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2laWGh3YjNKMElHUmxabUYxYkhRZ1puVnVZM1JwYjI0b2FXNXpkR0Z1WTJVcElIdGNiaUFnYVc1emRHRnVZMlV1Y21WbmFYTjBaWEpJWld4d1pYSW9KMnh2Wnljc0lHWjFibU4wYVc5dUtDOHFJRzFsYzNOaFoyVXNJRzl3ZEdsdmJuTWdLaThwSUh0Y2JpQWdJQ0JzWlhRZ1lYSm5jeUE5SUZ0MWJtUmxabWx1WldSZExGeHVJQ0FnSUNBZ2IzQjBhVzl1Y3lBOUlHRnlaM1Z0Wlc1MGMxdGhjbWQxYldWdWRITXViR1Z1WjNSb0lDMGdNVjA3WEc0Z0lDQWdabTl5SUNoc1pYUWdhU0E5SURBN0lHa2dQQ0JoY21kMWJXVnVkSE11YkdWdVozUm9JQzBnTVRzZ2FTc3JLU0I3WEc0Z0lDQWdJQ0JoY21kekxuQjFjMmdvWVhKbmRXMWxiblJ6VzJsZEtUdGNiaUFnSUNCOVhHNWNiaUFnSUNCc1pYUWdiR1YyWld3Z1BTQXhPMXh1SUNBZ0lHbG1JQ2h2Y0hScGIyNXpMbWhoYzJndWJHVjJaV3dnSVQwZ2JuVnNiQ2tnZTF4dUlDQWdJQ0FnYkdWMlpXd2dQU0J2Y0hScGIyNXpMbWhoYzJndWJHVjJaV3c3WEc0Z0lDQWdmU0JsYkhObElHbG1JQ2h2Y0hScGIyNXpMbVJoZEdFZ0ppWWdiM0IwYVc5dWN5NWtZWFJoTG14bGRtVnNJQ0U5SUc1MWJHd3BJSHRjYmlBZ0lDQWdJR3hsZG1Wc0lEMGdiM0IwYVc5dWN5NWtZWFJoTG14bGRtVnNPMXh1SUNBZ0lIMWNiaUFnSUNCaGNtZHpXekJkSUQwZ2JHVjJaV3c3WEc1Y2JpQWdJQ0JwYm5OMFlXNWpaUzVzYjJjb0xpNHVZWEpuY3lrN1hHNGdJSDBwTzF4dWZWeHVJbDE5XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvbG9va3VwLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy9sb29rdXAuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignbG9va3VwJywgZnVuY3Rpb24gKG9iaiwgZmllbGQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9iaikge1xuICAgICAgLy8gTm90ZSBmb3IgNS4wOiBDaGFuZ2UgdG8gXCJvYmogPT0gbnVsbFwiIGluIDUuMFxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnMubG9va3VwUHJvcGVydHkob2JqLCBmaWVsZCk7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMMmhsYkhCbGNuTXZiRzl2YTNWd0xtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3Y1VKQlFXVXNWVUZCVXl4UlFVRlJMRVZCUVVVN1FVRkRhRU1zVlVGQlVTeERRVUZETEdOQlFXTXNRMEZCUXl4UlFVRlJMRVZCUVVVc1ZVRkJVeXhIUVVGSExFVkJRVVVzUzBGQlN5eEZRVUZGTEU5QlFVOHNSVUZCUlR0QlFVTTVSQ3hSUVVGSkxFTkJRVU1zUjBGQlJ5eEZRVUZGT3p0QlFVVlNMR0ZCUVU4c1IwRkJSeXhEUVVGRE8wdEJRMW83UVVGRFJDeFhRVUZQTEU5QlFVOHNRMEZCUXl4alFVRmpMRU5CUVVNc1IwRkJSeXhGUVVGRkxFdEJRVXNzUTBGQlF5eERRVUZETzBkQlF6TkRMRU5CUVVNc1EwRkJRenREUVVOS0lpd2labWxzWlNJNklteHZiMnQxY0M1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbVY0Y0c5eWRDQmtaV1poZFd4MElHWjFibU4wYVc5dUtHbHVjM1JoYm1ObEtTQjdYRzRnSUdsdWMzUmhibU5sTG5KbFoybHpkR1Z5U0dWc2NHVnlLQ2RzYjI5cmRYQW5MQ0JtZFc1amRHbHZiaWh2WW1vc0lHWnBaV3hrTENCdmNIUnBiMjV6S1NCN1hHNGdJQ0FnYVdZZ0tDRnZZbW9wSUh0Y2JpQWdJQ0FnSUM4dklFNXZkR1VnWm05eUlEVXVNRG9nUTJoaGJtZGxJSFJ2SUZ3aWIySnFJRDA5SUc1MWJHeGNJaUJwYmlBMUxqQmNiaUFnSUNBZ0lISmxkSFZ5YmlCdlltbzdYRzRnSUNBZ2ZWeHVJQ0FnSUhKbGRIVnliaUJ2Y0hScGIyNXpMbXh2YjJ0MWNGQnliM0JsY25SNUtHOWlhaXdnWm1sbGJHUXBPMXh1SUNCOUtUdGNibjFjYmlKZGZRPT1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy93aXRoLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy91dGlscy5qc1wiKTtcblxudmFyIF9leGNlcHRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9leGNlcHRpb24gKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvZXhjZXB0aW9uLmpzXCIpO1xuXG52YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbiAoY29udGV4dCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcbiAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCcjd2l0aCByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgICBpZiAoX3V0aWxzLmlzRnVuY3Rpb24oY29udGV4dCkpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgdmFyIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmICghX3V0aWxzLmlzRW1wdHkoY29udGV4dCkpIHtcbiAgICAgIHZhciBkYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuICAgICAgICBkYXRhID0gX3V0aWxzLmNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBfdXRpbHMuYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbihjb250ZXh0LCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBfdXRpbHMuYmxvY2tQYXJhbXMoW2NvbnRleHRdLCBbZGF0YSAmJiBkYXRhLmNvbnRleHRQYXRoXSlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwyaGxiSEJsY25NdmQybDBhQzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN096czdPM0ZDUVUxUExGVkJRVlU3TzNsQ1FVTkxMR05CUVdNN096czdjVUpCUlhKQ0xGVkJRVk1zVVVGQlVTeEZRVUZGTzBGQlEyaERMRlZCUVZFc1EwRkJReXhqUVVGakxFTkJRVU1zVFVGQlRTeEZRVUZGTEZWQlFWTXNUMEZCVHl4RlFVRkZMRTlCUVU4c1JVRkJSVHRCUVVONlJDeFJRVUZKTEZOQlFWTXNRMEZCUXl4TlFVRk5MRWxCUVVrc1EwRkJReXhGUVVGRk8wRkJRM3BDTEZsQlFVMHNNa0pCUVdNc2NVTkJRWEZETEVOQlFVTXNRMEZCUXp0TFFVTTFSRHRCUVVORUxGRkJRVWtzYTBKQlFWY3NUMEZCVHl4RFFVRkRMRVZCUVVVN1FVRkRka0lzWVVGQlR5eEhRVUZITEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03UzBGRE9VSTdPMEZCUlVRc1VVRkJTU3hGUVVGRkxFZEJRVWNzVDBGQlR5eERRVUZETEVWQlFVVXNRMEZCUXpzN1FVRkZjRUlzVVVGQlNTeERRVUZETEdWQlFWRXNUMEZCVHl4RFFVRkRMRVZCUVVVN1FVRkRja0lzVlVGQlNTeEpRVUZKTEVkQlFVY3NUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJRenRCUVVONFFpeFZRVUZKTEU5QlFVOHNRMEZCUXl4SlFVRkpMRWxCUVVrc1QwRkJUeXhEUVVGRExFZEJRVWNzUlVGQlJUdEJRVU12UWl4WlFVRkpMRWRCUVVjc2JVSkJRVmtzVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMEZCUTJwRExGbEJRVWtzUTBGQlF5eFhRVUZYTEVkQlFVY3NlVUpCUTJwQ0xFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNWMEZCVnl4RlFVTjRRaXhQUVVGUExFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVTm1MRU5CUVVNN1QwRkRTRHM3UVVGRlJDeGhRVUZQTEVWQlFVVXNRMEZCUXl4UFFVRlBMRVZCUVVVN1FVRkRha0lzV1VGQlNTeEZRVUZGTEVsQlFVazdRVUZEVml4dFFrRkJWeXhGUVVGRkxHMUNRVUZaTEVOQlFVTXNUMEZCVHl4RFFVRkRMRVZCUVVVc1EwRkJReXhKUVVGSkxFbEJRVWtzU1VGQlNTeERRVUZETEZkQlFWY3NRMEZCUXl4RFFVRkRPMDlCUTJoRkxFTkJRVU1zUTBGQlF6dExRVU5LTEUxQlFVMDdRVUZEVEN4aFFVRlBMRTlCUVU4c1EwRkJReXhQUVVGUExFTkJRVU1zU1VGQlNTeERRVUZETEVOQlFVTTdTMEZET1VJN1IwRkRSaXhEUVVGRExFTkJRVU03UTBGRFNpSXNJbVpwYkdVaU9pSjNhWFJvTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lhVzF3YjNKMElIdGNiaUFnWVhCd1pXNWtRMjl1ZEdWNGRGQmhkR2dzWEc0Z0lHSnNiMk5yVUdGeVlXMXpMRnh1SUNCamNtVmhkR1ZHY21GdFpTeGNiaUFnYVhORmJYQjBlU3hjYmlBZ2FYTkdkVzVqZEdsdmJseHVmU0JtY205dElDY3VMaTkxZEdsc2N5YzdYRzVwYlhCdmNuUWdSWGhqWlhCMGFXOXVJR1p5YjIwZ0p5NHVMMlY0WTJWd2RHbHZiaWM3WEc1Y2JtVjRjRzl5ZENCa1pXWmhkV3gwSUdaMWJtTjBhVzl1S0dsdWMzUmhibU5sS1NCN1hHNGdJR2x1YzNSaGJtTmxMbkpsWjJsemRHVnlTR1ZzY0dWeUtDZDNhWFJvSnl3Z1puVnVZM1JwYjI0b1kyOXVkR1Y0ZEN3Z2IzQjBhVzl1Y3lrZ2UxeHVJQ0FnSUdsbUlDaGhjbWQxYldWdWRITXViR1Z1WjNSb0lDRTlJRElwSUh0Y2JpQWdJQ0FnSUhSb2NtOTNJRzVsZHlCRmVHTmxjSFJwYjI0b0p5TjNhWFJvSUhKbGNYVnBjbVZ6SUdWNFlXTjBiSGtnYjI1bElHRnlaM1Z0Wlc1MEp5azdYRzRnSUNBZ2ZWeHVJQ0FnSUdsbUlDaHBjMFoxYm1OMGFXOXVLR052Ym5SbGVIUXBLU0I3WEc0Z0lDQWdJQ0JqYjI1MFpYaDBJRDBnWTI5dWRHVjRkQzVqWVd4c0tIUm9hWE1wTzF4dUlDQWdJSDFjYmx4dUlDQWdJR3hsZENCbWJpQTlJRzl3ZEdsdmJuTXVabTQ3WEc1Y2JpQWdJQ0JwWmlBb0lXbHpSVzF3ZEhrb1kyOXVkR1Y0ZENrcElIdGNiaUFnSUNBZ0lHeGxkQ0JrWVhSaElEMGdiM0IwYVc5dWN5NWtZWFJoTzF4dUlDQWdJQ0FnYVdZZ0tHOXdkR2x2Ym5NdVpHRjBZU0FtSmlCdmNIUnBiMjV6TG1sa2N5a2dlMXh1SUNBZ0lDQWdJQ0JrWVhSaElEMGdZM0psWVhSbFJuSmhiV1VvYjNCMGFXOXVjeTVrWVhSaEtUdGNiaUFnSUNBZ0lDQWdaR0YwWVM1amIyNTBaWGgwVUdGMGFDQTlJR0Z3Y0dWdVpFTnZiblJsZUhSUVlYUm9LRnh1SUNBZ0lDQWdJQ0FnSUc5d2RHbHZibk11WkdGMFlTNWpiMjUwWlhoMFVHRjBhQ3hjYmlBZ0lDQWdJQ0FnSUNCdmNIUnBiMjV6TG1sa2Mxc3dYVnh1SUNBZ0lDQWdJQ0FwTzF4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCeVpYUjFjbTRnWm00b1kyOXVkR1Y0ZEN3Z2UxeHVJQ0FnSUNBZ0lDQmtZWFJoT2lCa1lYUmhMRnh1SUNBZ0lDQWdJQ0JpYkc5amExQmhjbUZ0Y3pvZ1lteHZZMnRRWVhKaGJYTW9XMk52Ym5SbGVIUmRMQ0JiWkdGMFlTQW1KaUJrWVhSaExtTnZiblJsZUhSUVlYUm9YU2xjYmlBZ0lDQWdJSDBwTzF4dUlDQWdJSDBnWld4elpTQjdYRzRnSUNBZ0lDQnlaWFIxY200Z2IzQjBhVzl1Y3k1cGJuWmxjbk5sS0hSb2FYTXBPMXh1SUNBZ0lIMWNiaUFnZlNrN1hHNTlYRzRpWFgwPVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9pbnRlcm5hbC9jcmVhdGUtbmV3LWxvb2t1cC1vYmplY3QuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaW50ZXJuYWwvY3JlYXRlLW5ldy1sb29rdXAtb2JqZWN0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY3JlYXRlTmV3TG9va3VwT2JqZWN0ID0gY3JlYXRlTmV3TG9va3VwT2JqZWN0O1xuXG52YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvdXRpbHMuanNcIik7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG9iamVjdCB3aXRoIFwibnVsbFwiLXByb3RvdHlwZSB0byBhdm9pZCB0cnV0aHkgcmVzdWx0cyBvbiBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAqIFRoZSByZXN1bHRpbmcgb2JqZWN0IGNhbiBiZSB1c2VkIHdpdGggXCJvYmplY3RbcHJvcGVydHldXCIgdG8gY2hlY2sgaWYgYSBwcm9wZXJ0eSBleGlzdHNcbiAqIEBwYXJhbSB7Li4ub2JqZWN0fSBzb3VyY2VzIGEgdmFyYXJncyBwYXJhbWV0ZXIgb2Ygc291cmNlIG9iamVjdHMgdGhhdCB3aWxsIGJlIG1lcmdlZFxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVOZXdMb29rdXBPYmplY3QoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2VzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc291cmNlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBfdXRpbHMuZXh0ZW5kLmFwcGx5KHVuZGVmaW5lZCwgW09iamVjdC5jcmVhdGUobnVsbCldLmNvbmNhdChzb3VyY2VzKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMMmx1ZEdWeWJtRnNMMk55WldGMFpTMXVaWGN0Ykc5dmEzVndMVzlpYW1WamRDNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPenM3T3p0eFFrRkJkVUlzVlVGQlZUczdPenM3T3pzN08wRkJVVEZDTEZOQlFWTXNjVUpCUVhGQ0xFZEJRV0U3YjBOQlFWUXNUMEZCVHp0QlFVRlFMRmRCUVU4N096dEJRVU01UXl4VFFVRlBMR2REUVVGUExFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRk5CUVVzc1QwRkJUeXhGUVVGRExFTkJRVU03UTBGRGFFUWlMQ0ptYVd4bElqb2lZM0psWVhSbExXNWxkeTFzYjI5cmRYQXRiMkpxWldOMExtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpYVcxd2IzSjBJSHNnWlhoMFpXNWtJSDBnWm5KdmJTQW5MaTR2ZFhScGJITW5PMXh1WEc0dktpcGNiaUFxSUVOeVpXRjBaU0JoSUc1bGR5QnZZbXBsWTNRZ2QybDBhQ0JjSW01MWJHeGNJaTF3Y205MGIzUjVjR1VnZEc4Z1lYWnZhV1FnZEhKMWRHaDVJSEpsYzNWc2RITWdiMjRnY0hKdmRHOTBlWEJsSUhCeWIzQmxjblJwWlhNdVhHNGdLaUJVYUdVZ2NtVnpkV3gwYVc1bklHOWlhbVZqZENCallXNGdZbVVnZFhObFpDQjNhWFJvSUZ3aWIySnFaV04wVzNCeWIzQmxjblI1WFZ3aUlIUnZJR05vWldOcklHbG1JR0VnY0hKdmNHVnlkSGtnWlhocGMzUnpYRzRnS2lCQWNHRnlZVzBnZXk0dUxtOWlhbVZqZEgwZ2MyOTFjbU5sY3lCaElIWmhjbUZ5WjNNZ2NHRnlZVzFsZEdWeUlHOW1JSE52ZFhKalpTQnZZbXBsWTNSeklIUm9ZWFFnZDJsc2JDQmlaU0J0WlhKblpXUmNiaUFxSUVCeVpYUjFjbTV6SUh0dlltcGxZM1I5WEc0Z0tpOWNibVY0Y0c5eWRDQm1kVzVqZEdsdmJpQmpjbVZoZEdWT1pYZE1iMjlyZFhCUFltcGxZM1FvTGk0dWMyOTFjbU5sY3lrZ2UxeHVJQ0J5WlhSMWNtNGdaWGgwWlc1a0tFOWlhbVZqZEM1amNtVmhkR1VvYm5Wc2JDa3NJQzR1TG5OdmRYSmpaWE1wTzF4dWZWeHVJbDE5XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2ludGVybmFsL3Byb3RvLWFjY2Vzcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9pbnRlcm5hbC9wcm90by1hY2Nlc3MuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5jcmVhdGVQcm90b0FjY2Vzc0NvbnRyb2wgPSBjcmVhdGVQcm90b0FjY2Vzc0NvbnRyb2w7XG5leHBvcnRzLnJlc3VsdElzQWxsb3dlZCA9IHJlc3VsdElzQWxsb3dlZDtcbmV4cG9ydHMucmVzZXRMb2dnZWRQcm9wZXJ0aWVzID0gcmVzZXRMb2dnZWRQcm9wZXJ0aWVzO1xuLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09ialsnZGVmYXVsdCddID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxudmFyIF9jcmVhdGVOZXdMb29rdXBPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NyZWF0ZS1uZXctbG9va3VwLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9pbnRlcm5hbC9jcmVhdGUtbmV3LWxvb2t1cC1vYmplY3QuanNcIik7XG5cbnZhciBfbG9nZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vbG9nZ2VyICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2xvZ2dlci5qc1wiKTtcblxudmFyIGxvZ2dlciA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9sb2dnZXIpO1xuXG52YXIgbG9nZ2VkUHJvcGVydGllcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVByb3RvQWNjZXNzQ29udHJvbChydW50aW1lT3B0aW9ucykge1xuICB2YXIgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ2NvbnN0cnVjdG9yJ10gPSBmYWxzZTtcbiAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdFsnX19kZWZpbmVHZXR0ZXJfXyddID0gZmFsc2U7XG4gIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ19fZGVmaW5lU2V0dGVyX18nXSA9IGZhbHNlO1xuICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0WydfX2xvb2t1cEdldHRlcl9fJ10gPSBmYWxzZTtcblxuICB2YXIgZGVmYXVsdFByb3BlcnR5V2hpdGVMaXN0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvXG4gIGRlZmF1bHRQcm9wZXJ0eVdoaXRlTGlzdFsnX19wcm90b19fJ10gPSBmYWxzZTtcblxuICByZXR1cm4ge1xuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIHdoaXRlbGlzdDogX2NyZWF0ZU5ld0xvb2t1cE9iamVjdC5jcmVhdGVOZXdMb29rdXBPYmplY3QoZGVmYXVsdFByb3BlcnR5V2hpdGVMaXN0LCBydW50aW1lT3B0aW9ucy5hbGxvd2VkUHJvdG9Qcm9wZXJ0aWVzKSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogcnVudGltZU9wdGlvbnMuYWxsb3dQcm90b1Byb3BlcnRpZXNCeURlZmF1bHRcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIHdoaXRlbGlzdDogX2NyZWF0ZU5ld0xvb2t1cE9iamVjdC5jcmVhdGVOZXdMb29rdXBPYmplY3QoZGVmYXVsdE1ldGhvZFdoaXRlTGlzdCwgcnVudGltZU9wdGlvbnMuYWxsb3dlZFByb3RvTWV0aG9kcyksXG4gICAgICBkZWZhdWx0VmFsdWU6IHJ1bnRpbWVPcHRpb25zLmFsbG93UHJvdG9NZXRob2RzQnlEZWZhdWx0XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiByZXN1bHRJc0FsbG93ZWQocmVzdWx0LCBwcm90b0FjY2Vzc0NvbnRyb2wsIHByb3BlcnR5TmFtZSkge1xuICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBjaGVja1doaXRlTGlzdChwcm90b0FjY2Vzc0NvbnRyb2wubWV0aG9kcywgcHJvcGVydHlOYW1lKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY2hlY2tXaGl0ZUxpc3QocHJvdG9BY2Nlc3NDb250cm9sLnByb3BlcnRpZXMsIHByb3BlcnR5TmFtZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tXaGl0ZUxpc3QocHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZSwgcHJvcGVydHlOYW1lKSB7XG4gIGlmIChwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLndoaXRlbGlzdFtwcm9wZXJ0eU5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gcHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS53aGl0ZWxpc3RbcHJvcGVydHlOYW1lXSA9PT0gdHJ1ZTtcbiAgfVxuICBpZiAocHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLmRlZmF1bHRWYWx1ZTtcbiAgfVxuICBsb2dVbmV4cGVjZWRQcm9wZXJ0eUFjY2Vzc09uY2UocHJvcGVydHlOYW1lKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBsb2dVbmV4cGVjZWRQcm9wZXJ0eUFjY2Vzc09uY2UocHJvcGVydHlOYW1lKSB7XG4gIGlmIChsb2dnZWRQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gIT09IHRydWUpIHtcbiAgICBsb2dnZWRQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gPSB0cnVlO1xuICAgIGxvZ2dlci5sb2coJ2Vycm9yJywgJ0hhbmRsZWJhcnM6IEFjY2VzcyBoYXMgYmVlbiBkZW5pZWQgdG8gcmVzb2x2ZSB0aGUgcHJvcGVydHkgXCInICsgcHJvcGVydHlOYW1lICsgJ1wiIGJlY2F1c2UgaXQgaXMgbm90IGFuIFwib3duIHByb3BlcnR5XCIgb2YgaXRzIHBhcmVudC5cXG4nICsgJ1lvdSBjYW4gYWRkIGEgcnVudGltZSBvcHRpb24gdG8gZGlzYWJsZSB0aGUgY2hlY2sgb3IgdGhpcyB3YXJuaW5nOlxcbicgKyAnU2VlIGh0dHBzOi8vaGFuZGxlYmFyc2pzLmNvbS9hcGktcmVmZXJlbmNlL3J1bnRpbWUtb3B0aW9ucy5odG1sI29wdGlvbnMtdG8tY29udHJvbC1wcm90b3R5cGUtYWNjZXNzIGZvciBkZXRhaWxzJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzZXRMb2dnZWRQcm9wZXJ0aWVzKCkge1xuICBPYmplY3Qua2V5cyhsb2dnZWRQcm9wZXJ0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcbiAgICBkZWxldGUgbG9nZ2VkUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdO1xuICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwybHVkR1Z5Ym1Gc0wzQnliM1J2TFdGalkyVnpjeTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN096czdPenM3TzNGRFFVRnpReXcwUWtGQk5FSTdPM05DUVVNeFF5eFhRVUZYT3p0SlFVRjJRaXhOUVVGTk96dEJRVVZzUWl4SlFVRk5MR2RDUVVGblFpeEhRVUZITEUxQlFVMHNRMEZCUXl4TlFVRk5MRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03TzBGQlJYUkRMRk5CUVZNc2QwSkJRWGRDTEVOQlFVTXNZMEZCWXl4RlFVRkZPMEZCUTNaRUxFMUJRVWtzYzBKQlFYTkNMRWRCUVVjc1RVRkJUU3hEUVVGRExFMUJRVTBzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXp0QlFVTnFSQ3gzUWtGQmMwSXNRMEZCUXl4aFFVRmhMRU5CUVVNc1IwRkJSeXhMUVVGTExFTkJRVU03UVVGRE9VTXNkMEpCUVhOQ0xFTkJRVU1zYTBKQlFXdENMRU5CUVVNc1IwRkJSeXhMUVVGTExFTkJRVU03UVVGRGJrUXNkMEpCUVhOQ0xFTkJRVU1zYTBKQlFXdENMRU5CUVVNc1IwRkJSeXhMUVVGTExFTkJRVU03UVVGRGJrUXNkMEpCUVhOQ0xFTkJRVU1zYTBKQlFXdENMRU5CUVVNc1IwRkJSeXhMUVVGTExFTkJRVU03TzBGQlJXNUVMRTFCUVVrc2QwSkJRWGRDTEVkQlFVY3NUVUZCVFN4RFFVRkRMRTFCUVUwc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6czdRVUZGYmtRc01FSkJRWGRDTEVOQlFVTXNWMEZCVnl4RFFVRkRMRWRCUVVjc1MwRkJTeXhEUVVGRE96dEJRVVU1UXl4VFFVRlBPMEZCUTB3c1kwRkJWU3hGUVVGRk8wRkJRMVlzWlVGQlV5eEZRVUZGTERaRFFVTlVMSGRDUVVGM1FpeEZRVU40UWl4alFVRmpMRU5CUVVNc2MwSkJRWE5DTEVOQlEzUkRPMEZCUTBRc2EwSkJRVmtzUlVGQlJTeGpRVUZqTEVOQlFVTXNOa0pCUVRaQ08wdEJRek5FTzBGQlEwUXNWMEZCVHl4RlFVRkZPMEZCUTFBc1pVRkJVeXhGUVVGRkxEWkRRVU5VTEhOQ1FVRnpRaXhGUVVOMFFpeGpRVUZqTEVOQlFVTXNiVUpCUVcxQ0xFTkJRMjVETzBGQlEwUXNhMEpCUVZrc1JVRkJSU3hqUVVGakxFTkJRVU1zTUVKQlFUQkNPMHRCUTNoRU8wZEJRMFlzUTBGQlF6dERRVU5JT3p0QlFVVk5MRk5CUVZNc1pVRkJaU3hEUVVGRExFMUJRVTBzUlVGQlJTeHJRa0ZCYTBJc1JVRkJSU3haUVVGWkxFVkJRVVU3UVVGRGVFVXNUVUZCU1N4UFFVRlBMRTFCUVUwc1MwRkJTeXhWUVVGVkxFVkJRVVU3UVVGRGFFTXNWMEZCVHl4alFVRmpMRU5CUVVNc2EwSkJRV3RDTEVOQlFVTXNUMEZCVHl4RlFVRkZMRmxCUVZrc1EwRkJReXhEUVVGRE8wZEJRMnBGTEUxQlFVMDdRVUZEVEN4WFFVRlBMR05CUVdNc1EwRkJReXhyUWtGQmEwSXNRMEZCUXl4VlFVRlZMRVZCUVVVc1dVRkJXU3hEUVVGRExFTkJRVU03UjBGRGNFVTdRMEZEUmpzN1FVRkZSQ3hUUVVGVExHTkJRV01zUTBGQlF5eDVRa0ZCZVVJc1JVRkJSU3haUVVGWkxFVkJRVVU3UVVGREwwUXNUVUZCU1N4NVFrRkJlVUlzUTBGQlF5eFRRVUZUTEVOQlFVTXNXVUZCV1N4RFFVRkRMRXRCUVVzc1UwRkJVeXhGUVVGRk8wRkJRMjVGTEZkQlFVOHNlVUpCUVhsQ0xFTkJRVU1zVTBGQlV5eERRVUZETEZsQlFWa3NRMEZCUXl4TFFVRkxMRWxCUVVrc1EwRkJRenRIUVVOdVJUdEJRVU5FTEUxQlFVa3NlVUpCUVhsQ0xFTkJRVU1zV1VGQldTeExRVUZMTEZOQlFWTXNSVUZCUlR0QlFVTjRSQ3hYUVVGUExIbENRVUY1UWl4RFFVRkRMRmxCUVZrc1EwRkJRenRIUVVNdlF6dEJRVU5FTEdkRFFVRTRRaXhEUVVGRExGbEJRVmtzUTBGQlF5eERRVUZETzBGQlF6ZERMRk5CUVU4c1MwRkJTeXhEUVVGRE8wTkJRMlE3TzBGQlJVUXNVMEZCVXl3NFFrRkJPRUlzUTBGQlF5eFpRVUZaTEVWQlFVVTdRVUZEY0VRc1RVRkJTU3huUWtGQlowSXNRMEZCUXl4WlFVRlpMRU5CUVVNc1MwRkJTeXhKUVVGSkxFVkJRVVU3UVVGRE0wTXNiMEpCUVdkQ0xFTkJRVU1zV1VGQldTeERRVUZETEVkQlFVY3NTVUZCU1N4RFFVRkRPMEZCUTNSRExGVkJRVTBzUTBGQlF5eEhRVUZITEVOQlExSXNUMEZCVHl4RlFVTlFMR2xGUVVFclJDeFpRVUZaTEc5SlFVTklMRzlJUVVNeVF5eERRVU53U0N4RFFVRkRPMGRCUTBnN1EwRkRSanM3UVVGRlRTeFRRVUZUTEhGQ1FVRnhRaXhIUVVGSE8wRkJRM1JETEZGQlFVMHNRMEZCUXl4SlFVRkpMRU5CUVVNc1owSkJRV2RDTEVOQlFVTXNRMEZCUXl4UFFVRlBMRU5CUVVNc1ZVRkJRU3haUVVGWkxFVkJRVWs3UVVGRGNFUXNWMEZCVHl4blFrRkJaMElzUTBGQlF5eFpRVUZaTEVOQlFVTXNRMEZCUXp0SFFVTjJReXhEUVVGRExFTkJRVU03UTBGRFNpSXNJbVpwYkdVaU9pSndjbTkwYnkxaFkyTmxjM011YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SnBiWEJ2Y25RZ2V5QmpjbVZoZEdWT1pYZE1iMjlyZFhCUFltcGxZM1FnZlNCbWNtOXRJQ2N1TDJOeVpXRjBaUzF1WlhjdGJHOXZhM1Z3TFc5aWFtVmpkQ2M3WEc1cGJYQnZjblFnS2lCaGN5QnNiMmRuWlhJZ1puSnZiU0FuTGk0dmJHOW5aMlZ5Snp0Y2JseHVZMjl1YzNRZ2JHOW5aMlZrVUhKdmNHVnlkR2xsY3lBOUlFOWlhbVZqZEM1amNtVmhkR1VvYm5Wc2JDazdYRzVjYm1WNGNHOXlkQ0JtZFc1amRHbHZiaUJqY21WaGRHVlFjbTkwYjBGalkyVnpjME52Ym5SeWIyd29jblZ1ZEdsdFpVOXdkR2x2Ym5NcElIdGNiaUFnYkdWMElHUmxabUYxYkhSTlpYUm9iMlJYYUdsMFpVeHBjM1FnUFNCUFltcGxZM1F1WTNKbFlYUmxLRzUxYkd3cE8xeHVJQ0JrWldaaGRXeDBUV1YwYUc5a1YyaHBkR1ZNYVhOMFd5ZGpiMjV6ZEhKMVkzUnZjaWRkSUQwZ1ptRnNjMlU3WEc0Z0lHUmxabUYxYkhSTlpYUm9iMlJYYUdsMFpVeHBjM1JiSjE5ZlpHVm1hVzVsUjJWMGRHVnlYMThuWFNBOUlHWmhiSE5sTzF4dUlDQmtaV1poZFd4MFRXVjBhRzlrVjJocGRHVk1hWE4wV3lkZlgyUmxabWx1WlZObGRIUmxjbDlmSjEwZ1BTQm1ZV3h6WlR0Y2JpQWdaR1ZtWVhWc2RFMWxkR2h2WkZkb2FYUmxUR2x6ZEZzblgxOXNiMjlyZFhCSFpYUjBaWEpmWHlkZElEMGdabUZzYzJVN1hHNWNiaUFnYkdWMElHUmxabUYxYkhSUWNtOXdaWEowZVZkb2FYUmxUR2x6ZENBOUlFOWlhbVZqZEM1amNtVmhkR1VvYm5Wc2JDazdYRzRnSUM4dklHVnpiR2x1ZEMxa2FYTmhZbXhsTFc1bGVIUXRiR2x1WlNCdWJ5MXdjbTkwYjF4dUlDQmtaV1poZFd4MFVISnZjR1Z5ZEhsWGFHbDBaVXhwYzNSYkoxOWZjSEp2ZEc5Zlh5ZGRJRDBnWm1Gc2MyVTdYRzVjYmlBZ2NtVjBkWEp1SUh0Y2JpQWdJQ0J3Y205d1pYSjBhV1Z6T2lCN1hHNGdJQ0FnSUNCM2FHbDBaV3hwYzNRNklHTnlaV0YwWlU1bGQweHZiMnQxY0U5aWFtVmpkQ2hjYmlBZ0lDQWdJQ0FnWkdWbVlYVnNkRkJ5YjNCbGNuUjVWMmhwZEdWTWFYTjBMRnh1SUNBZ0lDQWdJQ0J5ZFc1MGFXMWxUM0IwYVc5dWN5NWhiR3h2ZDJWa1VISnZkRzlRY205d1pYSjBhV1Z6WEc0Z0lDQWdJQ0FwTEZ4dUlDQWdJQ0FnWkdWbVlYVnNkRlpoYkhWbE9pQnlkVzUwYVcxbFQzQjBhVzl1Y3k1aGJHeHZkMUJ5YjNSdlVISnZjR1Z5ZEdsbGMwSjVSR1ZtWVhWc2RGeHVJQ0FnSUgwc1hHNGdJQ0FnYldWMGFHOWtjem9nZTF4dUlDQWdJQ0FnZDJocGRHVnNhWE4wT2lCamNtVmhkR1ZPWlhkTWIyOXJkWEJQWW1wbFkzUW9YRzRnSUNBZ0lDQWdJR1JsWm1GMWJIUk5aWFJvYjJSWGFHbDBaVXhwYzNRc1hHNGdJQ0FnSUNBZ0lISjFiblJwYldWUGNIUnBiMjV6TG1Gc2JHOTNaV1JRY205MGIwMWxkR2h2WkhOY2JpQWdJQ0FnSUNrc1hHNGdJQ0FnSUNCa1pXWmhkV3gwVm1Gc2RXVTZJSEoxYm5ScGJXVlBjSFJwYjI1ekxtRnNiRzkzVUhKdmRHOU5aWFJvYjJSelFubEVaV1poZFd4MFhHNGdJQ0FnZlZ4dUlDQjlPMXh1ZlZ4dVhHNWxlSEJ2Y25RZ1puVnVZM1JwYjI0Z2NtVnpkV3gwU1hOQmJHeHZkMlZrS0hKbGMzVnNkQ3dnY0hKdmRHOUJZMk5sYzNORGIyNTBjbTlzTENCd2NtOXdaWEowZVU1aGJXVXBJSHRjYmlBZ2FXWWdLSFI1Y0dWdlppQnlaWE4xYkhRZ1BUMDlJQ2RtZFc1amRHbHZiaWNwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdZMmhsWTJ0WGFHbDBaVXhwYzNRb2NISnZkRzlCWTJObGMzTkRiMjUwY205c0xtMWxkR2h2WkhNc0lIQnliM0JsY25SNVRtRnRaU2s3WEc0Z0lIMGdaV3h6WlNCN1hHNGdJQ0FnY21WMGRYSnVJR05vWldOclYyaHBkR1ZNYVhOMEtIQnliM1J2UVdOalpYTnpRMjl1ZEhKdmJDNXdjbTl3WlhKMGFXVnpMQ0J3Y205d1pYSjBlVTVoYldVcE8xeHVJQ0I5WEc1OVhHNWNibVoxYm1OMGFXOXVJR05vWldOclYyaHBkR1ZNYVhOMEtIQnliM1J2UVdOalpYTnpRMjl1ZEhKdmJFWnZjbFI1Y0dVc0lIQnliM0JsY25SNVRtRnRaU2tnZTF4dUlDQnBaaUFvY0hKdmRHOUJZMk5sYzNORGIyNTBjbTlzUm05eVZIbHdaUzUzYUdsMFpXeHBjM1JiY0hKdmNHVnlkSGxPWVcxbFhTQWhQVDBnZFc1a1pXWnBibVZrS1NCN1hHNGdJQ0FnY21WMGRYSnVJSEJ5YjNSdlFXTmpaWE56UTI5dWRISnZiRVp2Y2xSNWNHVXVkMmhwZEdWc2FYTjBXM0J5YjNCbGNuUjVUbUZ0WlYwZ1BUMDlJSFJ5ZFdVN1hHNGdJSDFjYmlBZ2FXWWdLSEJ5YjNSdlFXTmpaWE56UTI5dWRISnZiRVp2Y2xSNWNHVXVaR1ZtWVhWc2RGWmhiSFZsSUNFOVBTQjFibVJsWm1sdVpXUXBJSHRjYmlBZ0lDQnlaWFIxY200Z2NISnZkRzlCWTJObGMzTkRiMjUwY205c1JtOXlWSGx3WlM1a1pXWmhkV3gwVm1Gc2RXVTdYRzRnSUgxY2JpQWdiRzluVlc1bGVIQmxZMlZrVUhKdmNHVnlkSGxCWTJObGMzTlBibU5sS0hCeWIzQmxjblI1VG1GdFpTazdYRzRnSUhKbGRIVnliaUJtWVd4elpUdGNibjFjYmx4dVpuVnVZM1JwYjI0Z2JHOW5WVzVsZUhCbFkyVmtVSEp2Y0dWeWRIbEJZMk5sYzNOUGJtTmxLSEJ5YjNCbGNuUjVUbUZ0WlNrZ2UxeHVJQ0JwWmlBb2JHOW5aMlZrVUhKdmNHVnlkR2xsYzF0d2NtOXdaWEowZVU1aGJXVmRJQ0U5UFNCMGNuVmxLU0I3WEc0Z0lDQWdiRzluWjJWa1VISnZjR1Z5ZEdsbGMxdHdjbTl3WlhKMGVVNWhiV1ZkSUQwZ2RISjFaVHRjYmlBZ0lDQnNiMmRuWlhJdWJHOW5LRnh1SUNBZ0lDQWdKMlZ5Y205eUp5eGNiaUFnSUNBZ0lHQklZVzVrYkdWaVlYSnpPaUJCWTJObGMzTWdhR0Z6SUdKbFpXNGdaR1Z1YVdWa0lIUnZJSEpsYzI5c2RtVWdkR2hsSUhCeWIzQmxjblI1SUZ3aUpIdHdjbTl3WlhKMGVVNWhiV1Y5WENJZ1ltVmpZWFZ6WlNCcGRDQnBjeUJ1YjNRZ1lXNGdYQ0p2ZDI0Z2NISnZjR1Z5ZEhsY0lpQnZaaUJwZEhNZ2NHRnlaVzUwTGx4Y2JtQWdLMXh1SUNBZ0lDQWdJQ0JnV1c5MUlHTmhiaUJoWkdRZ1lTQnlkVzUwYVcxbElHOXdkR2x2YmlCMGJ5QmthWE5oWW14bElIUm9aU0JqYUdWamF5QnZjaUIwYUdseklIZGhjbTVwYm1jNlhGeHVZQ0FyWEc0Z0lDQWdJQ0FnSUdCVFpXVWdhSFIwY0hNNkx5OW9ZVzVrYkdWaVlYSnphbk11WTI5dEwyRndhUzF5WldabGNtVnVZMlV2Y25WdWRHbHRaUzF2Y0hScGIyNXpMbWgwYld3amIzQjBhVzl1Y3kxMGJ5MWpiMjUwY205c0xYQnliM1J2ZEhsd1pTMWhZMk5sYzNNZ1ptOXlJR1JsZEdGcGJITmdYRzRnSUNBZ0tUdGNiaUFnZlZ4dWZWeHVYRzVsZUhCdmNuUWdablZ1WTNScGIyNGdjbVZ6WlhSTWIyZG5aV1JRY205d1pYSjBhV1Z6S0NrZ2UxeHVJQ0JQWW1wbFkzUXVhMlY1Y3loc2IyZG5aV1JRY205d1pYSjBhV1Z6S1M1bWIzSkZZV05vS0hCeWIzQmxjblI1VG1GdFpTQTlQaUI3WEc0Z0lDQWdaR1ZzWlhSbElHeHZaMmRsWkZCeWIzQmxjblJwWlhOYmNISnZjR1Z5ZEhsT1lXMWxYVHRjYmlBZ2ZTazdYRzU5WEc0aVhYMD1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaW50ZXJuYWwvd3JhcEhlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaW50ZXJuYWwvd3JhcEhlbHBlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy53cmFwSGVscGVyID0gd3JhcEhlbHBlcjtcblxuZnVuY3Rpb24gd3JhcEhlbHBlcihoZWxwZXIsIHRyYW5zZm9ybU9wdGlvbnNGbikge1xuICBpZiAodHlwZW9mIGhlbHBlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4sIGJ1dCBhcHBhcmVudGx5IGl0IGRvZXMgaW4gaHR0cHM6Ly9naXRodWIuY29tL3d5Y2F0cy9oYW5kbGViYXJzLmpzL2lzc3Vlcy8xNjM5XG4gICAgLy8gV2UgdHJ5IHRvIG1ha2UgdGhlIHdyYXBwZXIgbGVhc3QtaW52YXNpdmUgYnkgbm90IHdyYXBwaW5nIGl0LCBpZiB0aGUgaGVscGVyIGlzIG5vdCBhIGZ1bmN0aW9uLlxuICAgIHJldHVybiBoZWxwZXI7XG4gIH1cbiAgdmFyIHdyYXBwZXIgPSBmdW5jdGlvbiB3cmFwcGVyKCkgLyogZHluYW1pYyBhcmd1bWVudHMgKi97XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0gPSB0cmFuc2Zvcm1PcHRpb25zRm4ob3B0aW9ucyk7XG4gICAgcmV0dXJuIGhlbHBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuICByZXR1cm4gd3JhcHBlcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwybHVkR1Z5Ym1Gc0wzZHlZWEJJWld4d1pYSXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN1FVRkJUeXhUUVVGVExGVkJRVlVzUTBGQlF5eE5RVUZOTEVWQlFVVXNhMEpCUVd0Q0xFVkJRVVU3UVVGRGNrUXNUVUZCU1N4UFFVRlBMRTFCUVUwc1MwRkJTeXhWUVVGVkxFVkJRVVU3T3p0QlFVZG9ReXhYUVVGUExFMUJRVTBzUTBGQlF6dEhRVU5tTzBGQlEwUXNUVUZCU1N4UFFVRlBMRWRCUVVjc1UwRkJWaXhQUVVGUExEQkNRVUZ4UXp0QlFVTTVReXhSUVVGTkxFOUJRVThzUjBGQlJ5eFRRVUZUTEVOQlFVTXNVMEZCVXl4RFFVRkRMRTFCUVUwc1IwRkJSeXhEUVVGRExFTkJRVU1zUTBGQlF6dEJRVU5vUkN4aFFVRlRMRU5CUVVNc1UwRkJVeXhEUVVGRExFMUJRVTBzUjBGQlJ5eERRVUZETEVOQlFVTXNSMEZCUnl4clFrRkJhMElzUTBGQlF5eFBRVUZQTEVOQlFVTXNRMEZCUXp0QlFVTTVSQ3hYUVVGUExFMUJRVTBzUTBGQlF5eExRVUZMTEVOQlFVTXNTVUZCU1N4RlFVRkZMRk5CUVZNc1EwRkJReXhEUVVGRE8wZEJRM1JETEVOQlFVTTdRVUZEUml4VFFVRlBMRTlCUVU4c1EwRkJRenREUVVOb1FpSXNJbVpwYkdVaU9pSjNjbUZ3U0dWc2NHVnlMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaVpYaHdiM0owSUdaMWJtTjBhVzl1SUhkeVlYQklaV3h3WlhJb2FHVnNjR1Z5TENCMGNtRnVjMlp2Y20xUGNIUnBiMjV6Um00cElIdGNiaUFnYVdZZ0tIUjVjR1Z2WmlCb1pXeHdaWElnSVQwOUlDZG1kVzVqZEdsdmJpY3BJSHRjYmlBZ0lDQXZMeUJVYUdseklITm9iM1ZzWkNCdWIzUWdhR0Z3Y0dWdUxDQmlkWFFnWVhCd1lYSmxiblJzZVNCcGRDQmtiMlZ6SUdsdUlHaDBkSEJ6T2k4dloybDBhSFZpTG1OdmJTOTNlV05oZEhNdmFHRnVaR3hsWW1GeWN5NXFjeTlwYzNOMVpYTXZNVFl6T1Z4dUlDQWdJQzh2SUZkbElIUnllU0IwYnlCdFlXdGxJSFJvWlNCM2NtRndjR1Z5SUd4bFlYTjBMV2x1ZG1GemFYWmxJR0o1SUc1dmRDQjNjbUZ3Y0dsdVp5QnBkQ3dnYVdZZ2RHaGxJR2hsYkhCbGNpQnBjeUJ1YjNRZ1lTQm1kVzVqZEdsdmJpNWNiaUFnSUNCeVpYUjFjbTRnYUdWc2NHVnlPMXh1SUNCOVhHNGdJR3hsZENCM2NtRndjR1Z5SUQwZ1puVnVZM1JwYjI0b0x5b2daSGx1WVcxcFl5QmhjbWQxYldWdWRITWdLaThwSUh0Y2JpQWdJQ0JqYjI1emRDQnZjSFJwYjI1eklEMGdZWEpuZFcxbGJuUnpXMkZ5WjNWdFpXNTBjeTVzWlc1bmRHZ2dMU0F4WFR0Y2JpQWdJQ0JoY21kMWJXVnVkSE5iWVhKbmRXMWxiblJ6TG14bGJtZDBhQ0F0SURGZElEMGdkSEpoYm5ObWIzSnRUM0IwYVc5dWMwWnVLRzl3ZEdsdmJuTXBPMXh1SUNBZ0lISmxkSFZ5YmlCb1pXeHdaWEl1WVhCd2JIa29kR2hwY3l3Z1lYSm5kVzFsYm5SektUdGNiaUFnZlR0Y2JpQWdjbVYwZFhKdUlIZHlZWEJ3WlhJN1hHNTlYRzRpWFgwPVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9sb2dnZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvbG9nZ2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvdXRpbHMuanNcIik7XG5cbnZhciBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbiBsb29rdXBMZXZlbChsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgbGV2ZWxNYXAgPSBfdXRpbHMuaW5kZXhPZihsb2dnZXIubWV0aG9kTWFwLCBsZXZlbC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIGlmIChsZXZlbE1hcCA+PSAwKSB7XG4gICAgICAgIGxldmVsID0gbGV2ZWxNYXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXZlbCA9IHBhcnNlSW50KGxldmVsLCAxMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxldmVsO1xuICB9LFxuXG4gIC8vIENhbiBiZSBvdmVycmlkZGVuIGluIHRoZSBob3N0IGVudmlyb25tZW50XG4gIGxvZzogZnVuY3Rpb24gbG9nKGxldmVsKSB7XG4gICAgbGV2ZWwgPSBsb2dnZXIubG9va3VwTGV2ZWwobGV2ZWwpO1xuXG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBsb2dnZXIubG9va3VwTGV2ZWwobG9nZ2VyLmxldmVsKSA8PSBsZXZlbCkge1xuICAgICAgdmFyIG1ldGhvZCA9IGxvZ2dlci5tZXRob2RNYXBbbGV2ZWxdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGlmICghY29uc29sZVttZXRob2RdKSB7XG4gICAgICAgIG1ldGhvZCA9ICdsb2cnO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWVzc2FnZSA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgbWVzc2FnZVtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGVbbWV0aG9kXS5hcHBseShjb25zb2xlLCBtZXNzYWdlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG59O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBsb2dnZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDJ4dloyZGxjaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN08zRkNRVUYzUWl4VFFVRlRPenRCUVVWcVF5eEpRVUZKTEUxQlFVMHNSMEZCUnp0QlFVTllMRmRCUVZNc1JVRkJSU3hEUVVGRExFOUJRVThzUlVGQlJTeE5RVUZOTEVWQlFVVXNUVUZCVFN4RlFVRkZMRTlCUVU4c1EwRkJRenRCUVVNM1F5eFBRVUZMTEVWQlFVVXNUVUZCVFRzN08wRkJSMklzWVVGQlZ5eEZRVUZGTEhGQ1FVRlRMRXRCUVVzc1JVRkJSVHRCUVVNelFpeFJRVUZKTEU5QlFVOHNTMEZCU3l4TFFVRkxMRkZCUVZFc1JVRkJSVHRCUVVNM1FpeFZRVUZKTEZGQlFWRXNSMEZCUnl4bFFVRlJMRTFCUVUwc1EwRkJReXhUUVVGVExFVkJRVVVzUzBGQlN5eERRVUZETEZkQlFWY3NSVUZCUlN4RFFVRkRMRU5CUVVNN1FVRkRPVVFzVlVGQlNTeFJRVUZSTEVsQlFVa3NRMEZCUXl4RlFVRkZPMEZCUTJwQ0xHRkJRVXNzUjBGQlJ5eFJRVUZSTEVOQlFVTTdUMEZEYkVJc1RVRkJUVHRCUVVOTUxHRkJRVXNzUjBGQlJ5eFJRVUZSTEVOQlFVTXNTMEZCU3l4RlFVRkZMRVZCUVVVc1EwRkJReXhEUVVGRE8wOUJRemRDTzB0QlEwWTdPMEZCUlVRc1YwRkJUeXhMUVVGTExFTkJRVU03UjBGRFpEczdPMEZCUjBRc1MwRkJSeXhGUVVGRkxHRkJRVk1zUzBGQlN5eEZRVUZqTzBGQlF5OUNMRk5CUVVzc1IwRkJSeXhOUVVGTkxFTkJRVU1zVjBGQlZ5eERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRPenRCUVVWc1F5eFJRVU5GTEU5QlFVOHNUMEZCVHl4TFFVRkxMRmRCUVZjc1NVRkRPVUlzVFVGQlRTeERRVUZETEZkQlFWY3NRMEZCUXl4TlFVRk5MRU5CUVVNc1MwRkJTeXhEUVVGRExFbEJRVWtzUzBGQlN5eEZRVU42UXp0QlFVTkJMRlZCUVVrc1RVRkJUU3hIUVVGSExFMUJRVTBzUTBGQlF5eFRRVUZUTEVOQlFVTXNTMEZCU3l4RFFVRkRMRU5CUVVNN08wRkJSWEpETEZWQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1RVRkJUU3hEUVVGRExFVkJRVVU3UVVGRGNFSXNZMEZCVFN4SFFVRkhMRXRCUVVzc1EwRkJRenRQUVVOb1FqczdkME5CV0cxQ0xFOUJRVTg3UVVGQlVDeGxRVUZQT3pzN1FVRlpNMElzWVVGQlR5eERRVUZETEUxQlFVMHNUMEZCUXl4RFFVRm1MRTlCUVU4c1JVRkJXU3hQUVVGUExFTkJRVU1zUTBGQlF6dExRVU0zUWp0SFFVTkdPME5CUTBZc1EwRkJRenM3Y1VKQlJXRXNUVUZCVFNJc0ltWnBiR1VpT2lKc2IyZG5aWEl1YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SnBiWEJ2Y25RZ2V5QnBibVJsZUU5bUlIMGdabkp2YlNBbkxpOTFkR2xzY3ljN1hHNWNibXhsZENCc2IyZG5aWElnUFNCN1hHNGdJRzFsZEdodlpFMWhjRG9nV3lka1pXSjFaeWNzSUNkcGJtWnZKeXdnSjNkaGNtNG5MQ0FuWlhKeWIzSW5YU3hjYmlBZ2JHVjJaV3c2SUNkcGJtWnZKeXhjYmx4dUlDQXZMeUJOWVhCeklHRWdaMmwyWlc0Z2JHVjJaV3dnZG1Gc2RXVWdkRzhnZEdobElHQnRaWFJvYjJSTllYQmdJR2x1WkdWNFpYTWdZV0p2ZG1VdVhHNGdJR3h2YjJ0MWNFeGxkbVZzT2lCbWRXNWpkR2x2Ymloc1pYWmxiQ2tnZTF4dUlDQWdJR2xtSUNoMGVYQmxiMllnYkdWMlpXd2dQVDA5SUNkemRISnBibWNuS1NCN1hHNGdJQ0FnSUNCc1pYUWdiR1YyWld4TllYQWdQU0JwYm1SbGVFOW1LR3h2WjJkbGNpNXRaWFJvYjJSTllYQXNJR3hsZG1Wc0xuUnZURzkzWlhKRFlYTmxLQ2twTzF4dUlDQWdJQ0FnYVdZZ0tHeGxkbVZzVFdGd0lENDlJREFwSUh0Y2JpQWdJQ0FnSUNBZ2JHVjJaV3dnUFNCc1pYWmxiRTFoY0R0Y2JpQWdJQ0FnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdJQ0FnSUd4bGRtVnNJRDBnY0dGeWMyVkpiblFvYkdWMlpXd3NJREV3S1R0Y2JpQWdJQ0FnSUgxY2JpQWdJQ0I5WEc1Y2JpQWdJQ0J5WlhSMWNtNGdiR1YyWld3N1hHNGdJSDBzWEc1Y2JpQWdMeThnUTJGdUlHSmxJRzkyWlhKeWFXUmtaVzRnYVc0Z2RHaGxJR2h2YzNRZ1pXNTJhWEp2Ym0xbGJuUmNiaUFnYkc5bk9pQm1kVzVqZEdsdmJpaHNaWFpsYkN3Z0xpNHViV1Z6YzJGblpTa2dlMXh1SUNBZ0lHeGxkbVZzSUQwZ2JHOW5aMlZ5TG14dmIydDFjRXhsZG1Wc0tHeGxkbVZzS1R0Y2JseHVJQ0FnSUdsbUlDaGNiaUFnSUNBZ0lIUjVjR1Z2WmlCamIyNXpiMnhsSUNFOVBTQW5kVzVrWldacGJtVmtKeUFtSmx4dUlDQWdJQ0FnYkc5bloyVnlMbXh2YjJ0MWNFeGxkbVZzS0d4dloyZGxjaTVzWlhabGJDa2dQRDBnYkdWMlpXeGNiaUFnSUNBcElIdGNiaUFnSUNBZ0lHeGxkQ0J0WlhSb2IyUWdQU0JzYjJkblpYSXViV1YwYUc5a1RXRndXMnhsZG1Wc1hUdGNiaUFnSUNBZ0lDOHZJR1Z6YkdsdWRDMWthWE5oWW14bExXNWxlSFF0YkdsdVpTQnVieTFqYjI1emIyeGxYRzRnSUNBZ0lDQnBaaUFvSVdOdmJuTnZiR1ZiYldWMGFHOWtYU2tnZTF4dUlDQWdJQ0FnSUNCdFpYUm9iMlFnUFNBbmJHOW5KenRjYmlBZ0lDQWdJSDFjYmlBZ0lDQWdJR052Ym5OdmJHVmJiV1YwYUc5a1hTZ3VMaTV0WlhOellXZGxLVHNnTHk4Z1pYTnNhVzUwTFdScGMyRmliR1V0YkdsdVpTQnVieTFqYjI1emIyeGxYRzRnSUNBZ2ZWeHVJQ0I5WEc1OU8xeHVYRzVsZUhCdmNuUWdaR1ZtWVhWc2RDQnNiMmRuWlhJN1hHNGlYWDA9XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoSGFuZGxlYmFycykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB2YXIgcm9vdCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93LFxuICAgICAgJEhhbmRsZWJhcnMgPSByb290LkhhbmRsZWJhcnM7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIEhhbmRsZWJhcnMubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocm9vdC5IYW5kbGViYXJzID09PSBIYW5kbGViYXJzKSB7XG4gICAgICByb290LkhhbmRsZWJhcnMgPSAkSGFuZGxlYmFycztcbiAgICB9XG4gICAgcmV0dXJuIEhhbmRsZWJhcnM7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDI1dkxXTnZibVpzYVdOMExtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3Y1VKQlFXVXNWVUZCVXl4VlFVRlZMRVZCUVVVN08wRkJSV3hETEUxQlFVa3NTVUZCU1N4SFFVRkhMRTlCUVU4c1RVRkJUU3hMUVVGTExGZEJRVmNzUjBGQlJ5eE5RVUZOTEVkQlFVY3NUVUZCVFR0TlFVTjRSQ3hYUVVGWExFZEJRVWNzU1VGQlNTeERRVUZETEZWQlFWVXNRMEZCUXpzN1FVRkZhRU1zV1VGQlZTeERRVUZETEZWQlFWVXNSMEZCUnl4WlFVRlhPMEZCUTJwRExGRkJRVWtzU1VGQlNTeERRVUZETEZWQlFWVXNTMEZCU3l4VlFVRlZMRVZCUVVVN1FVRkRiRU1zVlVGQlNTeERRVUZETEZWQlFWVXNSMEZCUnl4WFFVRlhMRU5CUVVNN1MwRkRMMEk3UVVGRFJDeFhRVUZQTEZWQlFWVXNRMEZCUXp0SFFVTnVRaXhEUVVGRE8wTkJRMGdpTENKbWFXeGxJam9pYm04dFkyOXVabXhwWTNRdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUpsZUhCdmNuUWdaR1ZtWVhWc2RDQm1kVzVqZEdsdmJpaElZVzVrYkdWaVlYSnpLU0I3WEc0Z0lDOHFJR2x6ZEdGdVluVnNJR2xuYm05eVpTQnVaWGgwSUNvdlhHNGdJR3hsZENCeWIyOTBJRDBnZEhsd1pXOW1JR2RzYjJKaGJDQWhQVDBnSjNWdVpHVm1hVzVsWkNjZ1B5Qm5iRzlpWVd3Z09pQjNhVzVrYjNjc1hHNGdJQ0FnSkVoaGJtUnNaV0poY25NZ1BTQnliMjkwTGtoaGJtUnNaV0poY25NN1hHNGdJQzhxSUdsemRHRnVZblZzSUdsbmJtOXlaU0J1WlhoMElDb3ZYRzRnSUVoaGJtUnNaV0poY25NdWJtOURiMjVtYkdsamRDQTlJR1oxYm1OMGFXOXVLQ2tnZTF4dUlDQWdJR2xtSUNoeWIyOTBMa2hoYm1Sc1pXSmhjbk1nUFQwOUlFaGhibVJzWldKaGNuTXBJSHRjYmlBZ0lDQWdJSEp2YjNRdVNHRnVaR3hsWW1GeWN5QTlJQ1JJWVc1a2JHVmlZWEp6TzF4dUlDQWdJSDFjYmlBZ0lDQnlaWFIxY200Z1NHRnVaR3hsWW1GeWN6dGNiaUFnZlR0Y2JuMWNiaUpkZlE9PVxuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi8uLi8uLi8uLi93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9ydW50aW1lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9ydW50aW1lLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmNoZWNrUmV2aXNpb24gPSBjaGVja1JldmlzaW9uO1xuZXhwb3J0cy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuZXhwb3J0cy53cmFwUHJvZ3JhbSA9IHdyYXBQcm9ncmFtO1xuZXhwb3J0cy5yZXNvbHZlUGFydGlhbCA9IHJlc29sdmVQYXJ0aWFsO1xuZXhwb3J0cy5pbnZva2VQYXJ0aWFsID0gaW52b2tlUGFydGlhbDtcbmV4cG9ydHMubm9vcCA9IG5vb3A7XG4vLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbi8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmpbJ2RlZmF1bHQnXSA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbnZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWxzICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL3V0aWxzLmpzXCIpO1xuXG52YXIgVXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG52YXIgX2V4Y2VwdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXhjZXB0aW9uICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qc1wiKTtcblxudmFyIF9leGNlcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhjZXB0aW9uKTtcblxudmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9iYXNlICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2Jhc2UuanNcIik7XG5cbnZhciBfaGVscGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVycyAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9oZWxwZXJzLmpzXCIpO1xuXG52YXIgX2ludGVybmFsV3JhcEhlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvd3JhcEhlbHBlciAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9pbnRlcm5hbC93cmFwSGVscGVyLmpzXCIpO1xuXG52YXIgX2ludGVybmFsUHJvdG9BY2Nlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ludGVybmFsL3Byb3RvLWFjY2VzcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9pbnRlcm5hbC9wcm90by1hY2Nlc3MuanNcIik7XG5cbmZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIHZhciBjb21waWxlclJldmlzaW9uID0gY29tcGlsZXJJbmZvICYmIGNvbXBpbGVySW5mb1swXSB8fCAxLFxuICAgICAgY3VycmVudFJldmlzaW9uID0gX2Jhc2UuQ09NUElMRVJfUkVWSVNJT047XG5cbiAgaWYgKGNvbXBpbGVyUmV2aXNpb24gPj0gX2Jhc2UuTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OICYmIGNvbXBpbGVyUmV2aXNpb24gPD0gX2Jhc2UuQ09NUElMRVJfUkVWSVNJT04pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29tcGlsZXJSZXZpc2lvbiA8IF9iYXNlLkxBU1RfQ09NUEFUSUJMRV9DT01QSUxFUl9SRVZJU0lPTikge1xuICAgIHZhciBydW50aW1lVmVyc2lvbnMgPSBfYmFzZS5SRVZJU0lPTl9DSEFOR0VTW2N1cnJlbnRSZXZpc2lvbl0sXG4gICAgICAgIGNvbXBpbGVyVmVyc2lvbnMgPSBfYmFzZS5SRVZJU0lPTl9DSEFOR0VTW2NvbXBpbGVyUmV2aXNpb25dO1xuICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICsgJ1BsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCcgKyBydW50aW1lVmVyc2lvbnMgKyAnKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCcgKyBjb21waWxlclZlcnNpb25zICsgJykuJyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIHRoZSBlbWJlZGRlZCB2ZXJzaW9uIGluZm8gc2luY2UgdGhlIHJ1bnRpbWUgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgcmV2aXNpb24geWV0XG4gICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ1RlbXBsYXRlIHdhcyBwcmVjb21waWxlZCB3aXRoIGEgbmV3ZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArICdQbGVhc2UgdXBkYXRlIHlvdXIgcnVudGltZSB0byBhIG5ld2VyIHZlcnNpb24gKCcgKyBjb21waWxlckluZm9bMV0gKyAnKS4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMsIGVudikge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIWVudikge1xuICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdObyBlbnZpcm9ubWVudCBwYXNzZWQgdG8gdGVtcGxhdGUnKTtcbiAgfVxuICBpZiAoIXRlbXBsYXRlU3BlYyB8fCAhdGVtcGxhdGVTcGVjLm1haW4pIHtcbiAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnVW5rbm93biB0ZW1wbGF0ZSBvYmplY3Q6ICcgKyB0eXBlb2YgdGVtcGxhdGVTcGVjKTtcbiAgfVxuXG4gIHRlbXBsYXRlU3BlYy5tYWluLmRlY29yYXRvciA9IHRlbXBsYXRlU3BlYy5tYWluX2Q7XG5cbiAgLy8gTm90ZTogVXNpbmcgZW52LlZNIHJlZmVyZW5jZXMgcmF0aGVyIHRoYW4gbG9jYWwgdmFyIHJlZmVyZW5jZXMgdGhyb3VnaG91dCB0aGlzIHNlY3Rpb24gdG8gYWxsb3dcbiAgLy8gZm9yIGV4dGVybmFsIHVzZXJzIHRvIG92ZXJyaWRlIHRoZXNlIGFzIHBzZXVkby1zdXBwb3J0ZWQgQVBJcy5cbiAgZW52LlZNLmNoZWNrUmV2aXNpb24odGVtcGxhdGVTcGVjLmNvbXBpbGVyKTtcblxuICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgcHJlY29tcGlsZWQgdGVtcGxhdGVzIHdpdGggY29tcGlsZXItdmVyc2lvbiA3ICg8NC4zLjApXG4gIHZhciB0ZW1wbGF0ZVdhc1ByZWNvbXBpbGVkV2l0aENvbXBpbGVyVjcgPSB0ZW1wbGF0ZVNwZWMuY29tcGlsZXIgJiYgdGVtcGxhdGVTcGVjLmNvbXBpbGVyWzBdID09PSA3O1xuXG4gIGZ1bmN0aW9uIGludm9rZVBhcnRpYWxXcmFwcGVyKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgICBjb250ZXh0ID0gVXRpbHMuZXh0ZW5kKHt9LCBjb250ZXh0LCBvcHRpb25zLmhhc2gpO1xuICAgICAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIG9wdGlvbnMuaWRzWzBdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGFydGlhbCA9IGVudi5WTS5yZXNvbHZlUGFydGlhbC5jYWxsKHRoaXMsIHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpO1xuXG4gICAgdmFyIGV4dGVuZGVkT3B0aW9ucyA9IFV0aWxzLmV4dGVuZCh7fSwgb3B0aW9ucywge1xuICAgICAgaG9va3M6IHRoaXMuaG9va3MsXG4gICAgICBwcm90b0FjY2Vzc0NvbnRyb2w6IHRoaXMucHJvdG9BY2Nlc3NDb250cm9sXG4gICAgfSk7XG5cbiAgICB2YXIgcmVzdWx0ID0gZW52LlZNLmludm9rZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBleHRlbmRlZE9wdGlvbnMpO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBudWxsICYmIGVudi5jb21waWxlKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV0gPSBlbnYuY29tcGlsZShwYXJ0aWFsLCB0ZW1wbGF0ZVNwZWMuY29tcGlsZXJPcHRpb25zLCBlbnYpO1xuICAgICAgcmVzdWx0ID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdKGNvbnRleHQsIGV4dGVuZGVkT3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5kZW50KSB7XG4gICAgICAgIHZhciBsaW5lcyA9IHJlc3VsdC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFsaW5lc1tpXSAmJiBpICsgMSA9PT0gbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGluZXNbaV0gPSBvcHRpb25zLmluZGVudCArIGxpbmVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ1RoZSBwYXJ0aWFsICcgKyBvcHRpb25zLm5hbWUgKyAnIGNvdWxkIG5vdCBiZSBjb21waWxlZCB3aGVuIHJ1bm5pbmcgaW4gcnVudGltZS1vbmx5IG1vZGUnKTtcbiAgICB9XG4gIH1cblxuICAvLyBKdXN0IGFkZCB3YXRlclxuICB2YXIgY29udGFpbmVyID0ge1xuICAgIHN0cmljdDogZnVuY3Rpb24gc3RyaWN0KG9iaiwgbmFtZSwgbG9jKSB7XG4gICAgICBpZiAoIW9iaiB8fCAhKG5hbWUgaW4gb2JqKSkge1xuICAgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnXCInICsgbmFtZSArICdcIiBub3QgZGVmaW5lZCBpbiAnICsgb2JqLCB7XG4gICAgICAgICAgbG9jOiBsb2NcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqW25hbWVdO1xuICAgIH0sXG4gICAgbG9va3VwUHJvcGVydHk6IGZ1bmN0aW9uIGxvb2t1cFByb3BlcnR5KHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChfaW50ZXJuYWxQcm90b0FjY2Vzcy5yZXN1bHRJc0FsbG93ZWQocmVzdWx0LCBjb250YWluZXIucHJvdG9BY2Nlc3NDb250cm9sLCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgbG9va3VwOiBmdW5jdGlvbiBsb29rdXAoZGVwdGhzLCBuYW1lKSB7XG4gICAgICB2YXIgbGVuID0gZGVwdGhzLmxlbmd0aDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRlcHRoc1tpXSAmJiBjb250YWluZXIubG9va3VwUHJvcGVydHkoZGVwdGhzW2ldLCBuYW1lKTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGRlcHRoc1tpXVtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgbGFtYmRhOiBmdW5jdGlvbiBsYW1iZGEoY3VycmVudCwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBjdXJyZW50ID09PSAnZnVuY3Rpb24nID8gY3VycmVudC5jYWxsKGNvbnRleHQpIDogY3VycmVudDtcbiAgICB9LFxuXG4gICAgZXNjYXBlRXhwcmVzc2lvbjogVXRpbHMuZXNjYXBlRXhwcmVzc2lvbixcbiAgICBpbnZva2VQYXJ0aWFsOiBpbnZva2VQYXJ0aWFsV3JhcHBlcixcblxuICAgIGZuOiBmdW5jdGlvbiBmbihpKSB7XG4gICAgICB2YXIgcmV0ID0gdGVtcGxhdGVTcGVjW2ldO1xuICAgICAgcmV0LmRlY29yYXRvciA9IHRlbXBsYXRlU3BlY1tpICsgJ19kJ107XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG5cbiAgICBwcm9ncmFtczogW10sXG4gICAgcHJvZ3JhbTogZnVuY3Rpb24gcHJvZ3JhbShpLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gICAgICB2YXIgcHJvZ3JhbVdyYXBwZXIgPSB0aGlzLnByb2dyYW1zW2ldLFxuICAgICAgICAgIGZuID0gdGhpcy5mbihpKTtcbiAgICAgIGlmIChkYXRhIHx8IGRlcHRocyB8fCBibG9ja1BhcmFtcyB8fCBkZWNsYXJlZEJsb2NrUGFyYW1zKSB7XG4gICAgICAgIHByb2dyYW1XcmFwcGVyID0gd3JhcFByb2dyYW0odGhpcywgaSwgZm4sIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICAgICAgfSBlbHNlIGlmICghcHJvZ3JhbVdyYXBwZXIpIHtcbiAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB0aGlzLnByb2dyYW1zW2ldID0gd3JhcFByb2dyYW0odGhpcywgaSwgZm4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb2dyYW1XcmFwcGVyO1xuICAgIH0sXG5cbiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHZhbHVlLCBkZXB0aCkge1xuICAgICAgd2hpbGUgKHZhbHVlICYmIGRlcHRoLS0pIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5fcGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgbWVyZ2VJZk5lZWRlZDogZnVuY3Rpb24gbWVyZ2VJZk5lZWRlZChwYXJhbSwgY29tbW9uKSB7XG4gICAgICB2YXIgb2JqID0gcGFyYW0gfHwgY29tbW9uO1xuXG4gICAgICBpZiAocGFyYW0gJiYgY29tbW9uICYmIHBhcmFtICE9PSBjb21tb24pIHtcbiAgICAgICAgb2JqID0gVXRpbHMuZXh0ZW5kKHt9LCBjb21tb24sIHBhcmFtKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIC8vIEFuIGVtcHR5IG9iamVjdCB0byB1c2UgYXMgcmVwbGFjZW1lbnQgZm9yIG51bGwtY29udGV4dHNcbiAgICBudWxsQ29udGV4dDogT2JqZWN0LnNlYWwoe30pLFxuXG4gICAgbm9vcDogZW52LlZNLm5vb3AsXG4gICAgY29tcGlsZXJJbmZvOiB0ZW1wbGF0ZVNwZWMuY29tcGlsZXJcbiAgfTtcblxuICBmdW5jdGlvbiByZXQoY29udGV4dCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICB2YXIgZGF0YSA9IG9wdGlvbnMuZGF0YTtcblxuICAgIHJldC5fc2V0dXAob3B0aW9ucyk7XG4gICAgaWYgKCFvcHRpb25zLnBhcnRpYWwgJiYgdGVtcGxhdGVTcGVjLnVzZURhdGEpIHtcbiAgICAgIGRhdGEgPSBpbml0RGF0YShjb250ZXh0LCBkYXRhKTtcbiAgICB9XG4gICAgdmFyIGRlcHRocyA9IHVuZGVmaW5lZCxcbiAgICAgICAgYmxvY2tQYXJhbXMgPSB0ZW1wbGF0ZVNwZWMudXNlQmxvY2tQYXJhbXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocykge1xuICAgICAgaWYgKG9wdGlvbnMuZGVwdGhzKSB7XG4gICAgICAgIGRlcHRocyA9IGNvbnRleHQgIT0gb3B0aW9ucy5kZXB0aHNbMF0gPyBbY29udGV4dF0uY29uY2F0KG9wdGlvbnMuZGVwdGhzKSA6IG9wdGlvbnMuZGVwdGhzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVwdGhzID0gW2NvbnRleHRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1haW4oY29udGV4dCAvKiwgb3B0aW9ucyovKSB7XG4gICAgICByZXR1cm4gJycgKyB0ZW1wbGF0ZVNwZWMubWFpbihjb250YWluZXIsIGNvbnRleHQsIGNvbnRhaW5lci5oZWxwZXJzLCBjb250YWluZXIucGFydGlhbHMsIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICAgIH1cblxuICAgIG1haW4gPSBleGVjdXRlRGVjb3JhdG9ycyh0ZW1wbGF0ZVNwZWMubWFpbiwgbWFpbiwgY29udGFpbmVyLCBvcHRpb25zLmRlcHRocyB8fCBbXSwgZGF0YSwgYmxvY2tQYXJhbXMpO1xuICAgIHJldHVybiBtYWluKGNvbnRleHQsIG9wdGlvbnMpO1xuICB9XG5cbiAgcmV0LmlzVG9wID0gdHJ1ZTtcblxuICByZXQuX3NldHVwID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCkge1xuICAgICAgdmFyIG1lcmdlZEhlbHBlcnMgPSBVdGlscy5leHRlbmQoe30sIGVudi5oZWxwZXJzLCBvcHRpb25zLmhlbHBlcnMpO1xuICAgICAgd3JhcEhlbHBlcnNUb1Bhc3NMb29rdXBQcm9wZXJ0eShtZXJnZWRIZWxwZXJzLCBjb250YWluZXIpO1xuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBtZXJnZWRIZWxwZXJzO1xuXG4gICAgICBpZiAodGVtcGxhdGVTcGVjLnVzZVBhcnRpYWwpIHtcbiAgICAgICAgLy8gVXNlIG1lcmdlSWZOZWVkZWQgaGVyZSB0byBwcmV2ZW50IGNvbXBpbGluZyBnbG9iYWwgcGFydGlhbHMgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gY29udGFpbmVyLm1lcmdlSWZOZWVkZWQob3B0aW9ucy5wYXJ0aWFscywgZW52LnBhcnRpYWxzKTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCB8fCB0ZW1wbGF0ZVNwZWMudXNlRGVjb3JhdG9ycykge1xuICAgICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IFV0aWxzLmV4dGVuZCh7fSwgZW52LmRlY29yYXRvcnMsIG9wdGlvbnMuZGVjb3JhdG9ycyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRhaW5lci5ob29rcyA9IHt9O1xuICAgICAgY29udGFpbmVyLnByb3RvQWNjZXNzQ29udHJvbCA9IF9pbnRlcm5hbFByb3RvQWNjZXNzLmNyZWF0ZVByb3RvQWNjZXNzQ29udHJvbChvcHRpb25zKTtcblxuICAgICAgdmFyIGtlZXBIZWxwZXJJbkhlbHBlcnMgPSBvcHRpb25zLmFsbG93Q2FsbHNUb0hlbHBlck1pc3NpbmcgfHwgdGVtcGxhdGVXYXNQcmVjb21waWxlZFdpdGhDb21waWxlclY3O1xuICAgICAgX2hlbHBlcnMubW92ZUhlbHBlclRvSG9va3MoY29udGFpbmVyLCAnaGVscGVyTWlzc2luZycsIGtlZXBIZWxwZXJJbkhlbHBlcnMpO1xuICAgICAgX2hlbHBlcnMubW92ZUhlbHBlclRvSG9va3MoY29udGFpbmVyLCAnYmxvY2tIZWxwZXJNaXNzaW5nJywga2VlcEhlbHBlckluSGVscGVycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5wcm90b0FjY2Vzc0NvbnRyb2wgPSBvcHRpb25zLnByb3RvQWNjZXNzQ29udHJvbDsgLy8gaW50ZXJuYWwgb3B0aW9uXG4gICAgICBjb250YWluZXIuaGVscGVycyA9IG9wdGlvbnMuaGVscGVycztcbiAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IG9wdGlvbnMucGFydGlhbHM7XG4gICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IG9wdGlvbnMuZGVjb3JhdG9ycztcbiAgICAgIGNvbnRhaW5lci5ob29rcyA9IG9wdGlvbnMuaG9va3M7XG4gICAgfVxuICB9O1xuXG4gIHJldC5fY2hpbGQgPSBmdW5jdGlvbiAoaSwgZGF0YSwgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlQmxvY2tQYXJhbXMgJiYgIWJsb2NrUGFyYW1zKSB7XG4gICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnbXVzdCBwYXNzIGJsb2NrIHBhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocyAmJiAhZGVwdGhzKSB7XG4gICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnbXVzdCBwYXNzIHBhcmVudCBkZXB0aHMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcFByb2dyYW0oY29udGFpbmVyLCBpLCB0ZW1wbGF0ZVNwZWNbaV0sIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICB9O1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiB3cmFwUHJvZ3JhbShjb250YWluZXIsIGksIGZuLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gIGZ1bmN0aW9uIHByb2coY29udGV4dCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICB2YXIgY3VycmVudERlcHRocyA9IGRlcHRocztcbiAgICBpZiAoZGVwdGhzICYmIGNvbnRleHQgIT0gZGVwdGhzWzBdICYmICEoY29udGV4dCA9PT0gY29udGFpbmVyLm51bGxDb250ZXh0ICYmIGRlcHRoc1swXSA9PT0gbnVsbCkpIHtcbiAgICAgIGN1cnJlbnREZXB0aHMgPSBbY29udGV4dF0uY29uY2F0KGRlcHRocyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZuKGNvbnRhaW5lciwgY29udGV4dCwgY29udGFpbmVyLmhlbHBlcnMsIGNvbnRhaW5lci5wYXJ0aWFscywgb3B0aW9ucy5kYXRhIHx8IGRhdGEsIGJsb2NrUGFyYW1zICYmIFtvcHRpb25zLmJsb2NrUGFyYW1zXS5jb25jYXQoYmxvY2tQYXJhbXMpLCBjdXJyZW50RGVwdGhzKTtcbiAgfVxuXG4gIHByb2cgPSBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKTtcblxuICBwcm9nLnByb2dyYW0gPSBpO1xuICBwcm9nLmRlcHRoID0gZGVwdGhzID8gZGVwdGhzLmxlbmd0aCA6IDA7XG4gIHByb2cuYmxvY2tQYXJhbXMgPSBkZWNsYXJlZEJsb2NrUGFyYW1zIHx8IDA7XG4gIHJldHVybiBwcm9nO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgY3VycmVudGx5IHBhcnQgb2YgdGhlIG9mZmljaWFsIEFQSSwgdGhlcmVmb3JlIGltcGxlbWVudGF0aW9uIGRldGFpbHMgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkLlxuICovXG5cbmZ1bmN0aW9uIHJlc29sdmVQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgaWYgKCFwYXJ0aWFsKSB7XG4gICAgaWYgKG9wdGlvbnMubmFtZSA9PT0gJ0BwYXJ0aWFsLWJsb2NrJykge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdO1xuICAgIH1cbiAgfSBlbHNlIGlmICghcGFydGlhbC5jYWxsICYmICFvcHRpb25zLm5hbWUpIHtcbiAgICAvLyBUaGlzIGlzIGEgZHluYW1pYyBwYXJ0aWFsIHRoYXQgcmV0dXJuZWQgYSBzdHJpbmdcbiAgICBvcHRpb25zLm5hbWUgPSBwYXJ0aWFsO1xuICAgIHBhcnRpYWwgPSBvcHRpb25zLnBhcnRpYWxzW3BhcnRpYWxdO1xuICB9XG4gIHJldHVybiBwYXJ0aWFsO1xufVxuXG5mdW5jdGlvbiBpbnZva2VQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgLy8gVXNlIHRoZSBjdXJyZW50IGNsb3N1cmUgY29udGV4dCB0byBzYXZlIHRoZSBwYXJ0aWFsLWJsb2NrIGlmIHRoaXMgcGFydGlhbFxuICB2YXIgY3VycmVudFBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXTtcbiAgb3B0aW9ucy5wYXJ0aWFsID0gdHJ1ZTtcbiAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoID0gb3B0aW9ucy5pZHNbMF0gfHwgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoO1xuICB9XG5cbiAgdmFyIHBhcnRpYWxCbG9jayA9IHVuZGVmaW5lZDtcbiAgaWYgKG9wdGlvbnMuZm4gJiYgb3B0aW9ucy5mbiAhPT0gbm9vcCkge1xuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICBvcHRpb25zLmRhdGEgPSBfYmFzZS5jcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgLy8gV3JhcHBlciBmdW5jdGlvbiB0byBnZXQgYWNjZXNzIHRvIGN1cnJlbnRQYXJ0aWFsQmxvY2sgZnJvbSB0aGUgY2xvc3VyZVxuICAgICAgdmFyIGZuID0gb3B0aW9ucy5mbjtcbiAgICAgIHBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gZnVuY3Rpb24gcGFydGlhbEJsb2NrV3JhcHBlcihjb250ZXh0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgLy8gUmVzdG9yZSB0aGUgcGFydGlhbC1ibG9jayBmcm9tIHRoZSBjbG9zdXJlIGZvciB0aGUgZXhlY3V0aW9uIG9mIHRoZSBibG9ja1xuICAgICAgICAvLyBpLmUuIHRoZSBwYXJ0IGluc2lkZSB0aGUgYmxvY2sgb2YgdGhlIHBhcnRpYWwgY2FsbC5cbiAgICAgICAgb3B0aW9ucy5kYXRhID0gX2Jhc2UuY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ10gPSBjdXJyZW50UGFydGlhbEJsb2NrO1xuICAgICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgICB9O1xuICAgICAgaWYgKGZuLnBhcnRpYWxzKSB7XG4gICAgICAgIG9wdGlvbnMucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMucGFydGlhbHMsIGZuLnBhcnRpYWxzKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICB9XG5cbiAgaWYgKHBhcnRpYWwgPT09IHVuZGVmaW5lZCAmJiBwYXJ0aWFsQmxvY2spIHtcbiAgICBwYXJ0aWFsID0gcGFydGlhbEJsb2NrO1xuICB9XG5cbiAgaWYgKHBhcnRpYWwgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdUaGUgcGFydGlhbCAnICsgb3B0aW9ucy5uYW1lICsgJyBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgfSBlbHNlIGlmIChwYXJ0aWFsIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICByZXR1cm4gcGFydGlhbChjb250ZXh0LCBvcHRpb25zKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBub29wKCkge1xuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGluaXREYXRhKGNvbnRleHQsIGRhdGEpIHtcbiAgaWYgKCFkYXRhIHx8ICEoJ3Jvb3QnIGluIGRhdGEpKSB7XG4gICAgZGF0YSA9IGRhdGEgPyBfYmFzZS5jcmVhdGVGcmFtZShkYXRhKSA6IHt9O1xuICAgIGRhdGEucm9vdCA9IGNvbnRleHQ7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIGV4ZWN1dGVEZWNvcmF0b3JzKGZuLCBwcm9nLCBjb250YWluZXIsIGRlcHRocywgZGF0YSwgYmxvY2tQYXJhbXMpIHtcbiAgaWYgKGZuLmRlY29yYXRvcikge1xuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHByb2cgPSBmbi5kZWNvcmF0b3IocHJvZywgcHJvcHMsIGNvbnRhaW5lciwgZGVwdGhzICYmIGRlcHRoc1swXSwgZGF0YSwgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG4gICAgVXRpbHMuZXh0ZW5kKHByb2csIHByb3BzKTtcbiAgfVxuICByZXR1cm4gcHJvZztcbn1cblxuZnVuY3Rpb24gd3JhcEhlbHBlcnNUb1Bhc3NMb29rdXBQcm9wZXJ0eShtZXJnZWRIZWxwZXJzLCBjb250YWluZXIpIHtcbiAgT2JqZWN0LmtleXMobWVyZ2VkSGVscGVycykuZm9yRWFjaChmdW5jdGlvbiAoaGVscGVyTmFtZSkge1xuICAgIHZhciBoZWxwZXIgPSBtZXJnZWRIZWxwZXJzW2hlbHBlck5hbWVdO1xuICAgIG1lcmdlZEhlbHBlcnNbaGVscGVyTmFtZV0gPSBwYXNzTG9va3VwUHJvcGVydHlPcHRpb24oaGVscGVyLCBjb250YWluZXIpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcGFzc0xvb2t1cFByb3BlcnR5T3B0aW9uKGhlbHBlciwgY29udGFpbmVyKSB7XG4gIHZhciBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eTtcbiAgcmV0dXJuIF9pbnRlcm5hbFdyYXBIZWxwZXIud3JhcEhlbHBlcihoZWxwZXIsIGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIFV0aWxzLmV4dGVuZCh7IGxvb2t1cFByb3BlcnR5OiBsb29rdXBQcm9wZXJ0eSB9LCBvcHRpb25zKTtcbiAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwzSjFiblJwYldVdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN096czdPenM3T3pzN2NVSkJRWFZDTEZOQlFWTTdPMGxCUVhCQ0xFdEJRVXM3TzNsQ1FVTkxMR0ZCUVdFN096czdiMEpCVFRWQ0xGRkJRVkU3TzNWQ1FVTnRRaXhYUVVGWE96dHJRMEZEYkVJc2RVSkJRWFZDT3p0dFEwRkpNME1zZVVKQlFYbENPenRCUVVWNlFpeFRRVUZUTEdGQlFXRXNRMEZCUXl4WlFVRlpMRVZCUVVVN1FVRkRNVU1zVFVGQlRTeG5Ra0ZCWjBJc1IwRkJSeXhCUVVGRExGbEJRVmtzU1VGQlNTeFpRVUZaTEVOQlFVTXNRMEZCUXl4RFFVRkRMRWxCUVVzc1EwRkJRenROUVVNM1JDeGxRVUZsTERCQ1FVRnZRaXhEUVVGRE96dEJRVVYwUXl4TlFVTkZMR2RDUVVGblFpd3lRMEZCY1VNc1NVRkRja1FzWjBKQlFXZENMREpDUVVGeFFpeEZRVU55UXp0QlFVTkJMRmRCUVU4N1IwRkRVanM3UVVGRlJDeE5RVUZKTEdkQ1FVRm5RaXd3UTBGQmIwTXNSVUZCUlR0QlFVTjRSQ3hSUVVGTkxHVkJRV1VzUjBGQlJ5eDFRa0ZCYVVJc1pVRkJaU3hEUVVGRE8xRkJRM1pFTEdkQ1FVRm5RaXhIUVVGSExIVkNRVUZwUWl4blFrRkJaMElzUTBGQlF5eERRVUZETzBGQlEzaEVMRlZCUVUwc01rSkJRMG9zZVVaQlFYbEdMRWRCUTNaR0xIRkVRVUZ4UkN4SFFVTnlSQ3hsUVVGbExFZEJRMllzYlVSQlFXMUVMRWRCUTI1RUxHZENRVUZuUWl4SFFVTm9RaXhKUVVGSkxFTkJRMUFzUTBGQlF6dEhRVU5JTEUxQlFVMDdPMEZCUlV3c1ZVRkJUU3d5UWtGRFNpeDNSa0ZCZDBZc1IwRkRkRVlzYVVSQlFXbEVMRWRCUTJwRUxGbEJRVmtzUTBGQlF5eERRVUZETEVOQlFVTXNSMEZEWml4SlFVRkpMRU5CUTFBc1EwRkJRenRIUVVOSU8wTkJRMFk3TzBGQlJVMHNVMEZCVXl4UlFVRlJMRU5CUVVNc1dVRkJXU3hGUVVGRkxFZEJRVWNzUlVGQlJUczdRVUZGTVVNc1RVRkJTU3hEUVVGRExFZEJRVWNzUlVGQlJUdEJRVU5TTEZWQlFVMHNNa0pCUVdNc2JVTkJRVzFETEVOQlFVTXNRMEZCUXp0SFFVTXhSRHRCUVVORUxFMUJRVWtzUTBGQlF5eFpRVUZaTEVsQlFVa3NRMEZCUXl4WlFVRlpMRU5CUVVNc1NVRkJTU3hGUVVGRk8wRkJRM1pETEZWQlFVMHNNa0pCUVdNc01rSkJRVEpDTEVkQlFVY3NUMEZCVHl4WlFVRlpMRU5CUVVNc1EwRkJRenRIUVVONFJUczdRVUZGUkN4alFVRlpMRU5CUVVNc1NVRkJTU3hEUVVGRExGTkJRVk1zUjBGQlJ5eFpRVUZaTEVOQlFVTXNUVUZCVFN4RFFVRkRPenM3TzBGQlNXeEVMRXRCUVVjc1EwRkJReXhGUVVGRkxFTkJRVU1zWVVGQllTeERRVUZETEZsQlFWa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1EwRkJRenM3TzBGQlJ6VkRMRTFCUVUwc2IwTkJRVzlETEVkQlEzaERMRmxCUVZrc1EwRkJReXhSUVVGUkxFbEJRVWtzV1VGQldTeERRVUZETEZGQlFWRXNRMEZCUXl4RFFVRkRMRU5CUVVNc1MwRkJTeXhEUVVGRExFTkJRVU03TzBGQlJURkVMRmRCUVZNc2IwSkJRVzlDTEVOQlFVTXNUMEZCVHl4RlFVRkZMRTlCUVU4c1JVRkJSU3hQUVVGUExFVkJRVVU3UVVGRGRrUXNVVUZCU1N4UFFVRlBMRU5CUVVNc1NVRkJTU3hGUVVGRk8wRkJRMmhDTEdGQlFVOHNSMEZCUnl4TFFVRkxMRU5CUVVNc1RVRkJUU3hEUVVGRExFVkJRVVVzUlVGQlJTeFBRVUZQTEVWQlFVVXNUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8wRkJRMnhFTEZWQlFVa3NUMEZCVHl4RFFVRkRMRWRCUVVjc1JVRkJSVHRCUVVObUxHVkJRVThzUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXl4RFFVRkRMRWRCUVVjc1NVRkJTU3hEUVVGRE8wOUJRM1pDTzB0QlEwWTdRVUZEUkN4WFFVRlBMRWRCUVVjc1IwRkJSeXhEUVVGRExFVkJRVVVzUTBGQlF5eGpRVUZqTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1JVRkJSU3hQUVVGUExFVkJRVVVzVDBGQlR5eEZRVUZGTEU5QlFVOHNRMEZCUXl4RFFVRkRPenRCUVVWMFJTeFJRVUZKTEdWQlFXVXNSMEZCUnl4TFFVRkxMRU5CUVVNc1RVRkJUU3hEUVVGRExFVkJRVVVzUlVGQlJTeFBRVUZQTEVWQlFVVTdRVUZET1VNc1YwRkJTeXhGUVVGRkxFbEJRVWtzUTBGQlF5eExRVUZMTzBGQlEycENMSGRDUVVGclFpeEZRVUZGTEVsQlFVa3NRMEZCUXl4clFrRkJhMEk3UzBGRE5VTXNRMEZCUXl4RFFVRkRPenRCUVVWSUxGRkJRVWtzVFVGQlRTeEhRVUZITEVkQlFVY3NRMEZCUXl4RlFVRkZMRU5CUVVNc1lVRkJZU3hEUVVGRExFbEJRVWtzUTBGRGNFTXNTVUZCU1N4RlFVTktMRTlCUVU4c1JVRkRVQ3hQUVVGUExFVkJRMUFzWlVGQlpTeERRVU5vUWl4RFFVRkRPenRCUVVWR0xGRkJRVWtzVFVGQlRTeEpRVUZKTEVsQlFVa3NTVUZCU1N4SFFVRkhMRU5CUVVNc1QwRkJUeXhGUVVGRk8wRkJRMnBETEdGQlFVOHNRMEZCUXl4UlFVRlJMRU5CUVVNc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eEhRVUZITEVkQlFVY3NRMEZCUXl4UFFVRlBMRU5CUXpGRExFOUJRVThzUlVGRFVDeFpRVUZaTEVOQlFVTXNaVUZCWlN4RlFVTTFRaXhIUVVGSExFTkJRMG9zUTBGQlF6dEJRVU5HTEZsQlFVMHNSMEZCUnl4UFFVRlBMRU5CUVVNc1VVRkJVU3hEUVVGRExFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXl4UFFVRlBMRVZCUVVVc1pVRkJaU3hEUVVGRExFTkJRVU03UzBGRGJrVTdRVUZEUkN4UlFVRkpMRTFCUVUwc1NVRkJTU3hKUVVGSkxFVkJRVVU3UVVGRGJFSXNWVUZCU1N4UFFVRlBMRU5CUVVNc1RVRkJUU3hGUVVGRk8wRkJRMnhDTEZsQlFVa3NTMEZCU3l4SFFVRkhMRTFCUVUwc1EwRkJReXhMUVVGTExFTkJRVU1zU1VGQlNTeERRVUZETEVOQlFVTTdRVUZETDBJc1lVRkJTeXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEVWQlFVVXNRMEZCUXl4SFFVRkhMRXRCUVVzc1EwRkJReXhOUVVGTkxFVkJRVVVzUTBGQlF5eEhRVUZITEVOQlFVTXNSVUZCUlN4RFFVRkRMRVZCUVVVc1JVRkJSVHRCUVVNMVF5eGpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRU5CUVVNc1EwRkJReXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEV0QlFVc3NRMEZCUXl4RlFVRkZPMEZCUXpWQ0xHdENRVUZOTzFkQlExQTdPMEZCUlVRc1pVRkJTeXhEUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZITEU5QlFVOHNRMEZCUXl4TlFVRk5MRWRCUVVjc1MwRkJTeXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETzFOQlEzUkRPMEZCUTBRc1kwRkJUU3hIUVVGSExFdEJRVXNzUTBGQlF5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1QwRkRNMEk3UVVGRFJDeGhRVUZQTEUxQlFVMHNRMEZCUXp0TFFVTm1MRTFCUVUwN1FVRkRUQ3haUVVGTkxESkNRVU5LTEdOQlFXTXNSMEZEV2l4UFFVRlBMRU5CUVVNc1NVRkJTU3hIUVVOYUxEQkVRVUV3UkN4RFFVTTNSQ3hEUVVGRE8wdEJRMGc3UjBGRFJqczdPMEZCUjBRc1RVRkJTU3hUUVVGVExFZEJRVWM3UVVGRFpDeFZRVUZOTEVWQlFVVXNaMEpCUVZNc1IwRkJSeXhGUVVGRkxFbEJRVWtzUlVGQlJTeEhRVUZITEVWQlFVVTdRVUZETDBJc1ZVRkJTU3hEUVVGRExFZEJRVWNzU1VGQlNTeEZRVUZGTEVsQlFVa3NTVUZCU1N4SFFVRkhMRU5CUVVFc1FVRkJReXhGUVVGRk8wRkJRekZDTEdOQlFVMHNNa0pCUVdNc1IwRkJSeXhIUVVGSExFbEJRVWtzUjBGQlJ5eHRRa0ZCYlVJc1IwRkJSeXhIUVVGSExFVkJRVVU3UVVGRE1VUXNZVUZCUnl4RlFVRkZMRWRCUVVjN1UwRkRWQ3hEUVVGRExFTkJRVU03VDBGRFNqdEJRVU5FTEdGQlFVOHNSMEZCUnl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8wdEJRMnhDTzBGQlEwUXNhMEpCUVdNc1JVRkJSU3gzUWtGQlV5eE5RVUZOTEVWQlFVVXNXVUZCV1N4RlFVRkZPMEZCUXpkRExGVkJRVWtzVFVGQlRTeEhRVUZITEUxQlFVMHNRMEZCUXl4WlFVRlpMRU5CUVVNc1EwRkJRenRCUVVOc1F5eFZRVUZKTEUxQlFVMHNTVUZCU1N4SlFVRkpMRVZCUVVVN1FVRkRiRUlzWlVGQlR5eE5RVUZOTEVOQlFVTTdUMEZEWmp0QlFVTkVMRlZCUVVrc1RVRkJUU3hEUVVGRExGTkJRVk1zUTBGQlF5eGpRVUZqTEVOQlFVTXNTVUZCU1N4RFFVRkRMRTFCUVUwc1JVRkJSU3haUVVGWkxFTkJRVU1zUlVGQlJUdEJRVU01UkN4bFFVRlBMRTFCUVUwc1EwRkJRenRQUVVObU96dEJRVVZFTEZWQlFVa3NjVU5CUVdkQ0xFMUJRVTBzUlVGQlJTeFRRVUZUTEVOQlFVTXNhMEpCUVd0Q0xFVkJRVVVzV1VGQldTeERRVUZETEVWQlFVVTdRVUZEZGtVc1pVRkJUeXhOUVVGTkxFTkJRVU03VDBGRFpqdEJRVU5FTEdGQlFVOHNVMEZCVXl4RFFVRkRPMHRCUTJ4Q08wRkJRMFFzVlVGQlRTeEZRVUZGTEdkQ1FVRlRMRTFCUVUwc1JVRkJSU3hKUVVGSkxFVkJRVVU3UVVGRE4wSXNWVUZCVFN4SFFVRkhMRWRCUVVjc1RVRkJUU3hEUVVGRExFMUJRVTBzUTBGQlF6dEJRVU14UWl4WFFVRkxMRWxCUVVrc1EwRkJReXhIUVVGSExFTkJRVU1zUlVGQlJTeERRVUZETEVkQlFVY3NSMEZCUnl4RlFVRkZMRU5CUVVNc1JVRkJSU3hGUVVGRk8wRkJRelZDTEZsQlFVa3NUVUZCVFN4SFFVRkhMRTFCUVUwc1EwRkJReXhEUVVGRExFTkJRVU1zU1VGQlNTeFRRVUZUTEVOQlFVTXNZMEZCWXl4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGRExFTkJRVU1zUlVGQlJTeEpRVUZKTEVOQlFVTXNRMEZCUXp0QlFVTndSU3haUVVGSkxFMUJRVTBzU1VGQlNTeEpRVUZKTEVWQlFVVTdRVUZEYkVJc2FVSkJRVThzVFVGQlRTeERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8xTkJRM2hDTzA5QlEwWTdTMEZEUmp0QlFVTkVMRlZCUVUwc1JVRkJSU3huUWtGQlV5eFBRVUZQTEVWQlFVVXNUMEZCVHl4RlFVRkZPMEZCUTJwRExHRkJRVThzVDBGQlR5eFBRVUZQTEV0QlFVc3NWVUZCVlN4SFFVRkhMRTlCUVU4c1EwRkJReXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEVkQlFVY3NUMEZCVHl4RFFVRkRPMHRCUTNoRk96dEJRVVZFTEc5Q1FVRm5RaXhGUVVGRkxFdEJRVXNzUTBGQlF5eG5Ra0ZCWjBJN1FVRkRlRU1zYVVKQlFXRXNSVUZCUlN4dlFrRkJiMEk3TzBGQlJXNURMRTFCUVVVc1JVRkJSU3haUVVGVExFTkJRVU1zUlVGQlJUdEJRVU5rTEZWQlFVa3NSMEZCUnl4SFFVRkhMRmxCUVZrc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF6dEJRVU14UWl4VFFVRkhMRU5CUVVNc1UwRkJVeXhIUVVGSExGbEJRVmtzUTBGQlF5eERRVUZETEVkQlFVY3NTVUZCU1N4RFFVRkRMRU5CUVVNN1FVRkRka01zWVVGQlR5eEhRVUZITEVOQlFVTTdTMEZEV2pzN1FVRkZSQ3haUVVGUkxFVkJRVVVzUlVGQlJUdEJRVU5hTEZkQlFVOHNSVUZCUlN4cFFrRkJVeXhEUVVGRExFVkJRVVVzU1VGQlNTeEZRVUZGTEcxQ1FVRnRRaXhGUVVGRkxGZEJRVmNzUlVGQlJTeE5RVUZOTEVWQlFVVTdRVUZEYmtVc1ZVRkJTU3hqUVVGakxFZEJRVWNzU1VGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4RFFVRkRMRU5CUVVNN1ZVRkRia01zUlVGQlJTeEhRVUZITEVsQlFVa3NRMEZCUXl4RlFVRkZMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU03UVVGRGJFSXNWVUZCU1N4SlFVRkpMRWxCUVVrc1RVRkJUU3hKUVVGSkxGZEJRVmNzU1VGQlNTeHRRa0ZCYlVJc1JVRkJSVHRCUVVONFJDeHpRa0ZCWXl4SFFVRkhMRmRCUVZjc1EwRkRNVUlzU1VGQlNTeEZRVU5LTEVOQlFVTXNSVUZEUkN4RlFVRkZMRVZCUTBZc1NVRkJTU3hGUVVOS0xHMUNRVUZ0UWl4RlFVTnVRaXhYUVVGWExFVkJRMWdzVFVGQlRTeERRVU5RTEVOQlFVTTdUMEZEU0N4TlFVRk5MRWxCUVVrc1EwRkJReXhqUVVGakxFVkJRVVU3UVVGRE1VSXNjMEpCUVdNc1IwRkJSeXhKUVVGSkxFTkJRVU1zVVVGQlVTeERRVUZETEVOQlFVTXNRMEZCUXl4SFFVRkhMRmRCUVZjc1EwRkJReXhKUVVGSkxFVkJRVVVzUTBGQlF5eEZRVUZGTEVWQlFVVXNRMEZCUXl4RFFVRkRPMDlCUXpsRU8wRkJRMFFzWVVGQlR5eGpRVUZqTEVOQlFVTTdTMEZEZGtJN08wRkJSVVFzVVVGQlNTeEZRVUZGTEdOQlFWTXNTMEZCU3l4RlFVRkZMRXRCUVVzc1JVRkJSVHRCUVVNelFpeGhRVUZQTEV0QlFVc3NTVUZCU1N4TFFVRkxMRVZCUVVVc1JVRkJSVHRCUVVOMlFpeGhRVUZMTEVkQlFVY3NTMEZCU3l4RFFVRkRMRTlCUVU4c1EwRkJRenRQUVVOMlFqdEJRVU5FTEdGQlFVOHNTMEZCU3l4RFFVRkRPMHRCUTJRN1FVRkRSQ3hwUWtGQllTeEZRVUZGTEhWQ1FVRlRMRXRCUVVzc1JVRkJSU3hOUVVGTkxFVkJRVVU3UVVGRGNrTXNWVUZCU1N4SFFVRkhMRWRCUVVjc1MwRkJTeXhKUVVGSkxFMUJRVTBzUTBGQlF6czdRVUZGTVVJc1ZVRkJTU3hMUVVGTExFbEJRVWtzVFVGQlRTeEpRVUZKTEV0QlFVc3NTMEZCU3l4TlFVRk5MRVZCUVVVN1FVRkRka01zVjBGQlJ5eEhRVUZITEV0QlFVc3NRMEZCUXl4TlFVRk5MRU5CUVVNc1JVRkJSU3hGUVVGRkxFMUJRVTBzUlVGQlJTeExRVUZMTEVOQlFVTXNRMEZCUXp0UFFVTjJRenM3UVVGRlJDeGhRVUZQTEVkQlFVY3NRMEZCUXp0TFFVTmFPenRCUVVWRUxHVkJRVmNzUlVGQlJTeE5RVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRVZCUVVVc1EwRkJRenM3UVVGRk5VSXNVVUZCU1N4RlFVRkZMRWRCUVVjc1EwRkJReXhGUVVGRkxFTkJRVU1zU1VGQlNUdEJRVU5xUWl4blFrRkJXU3hGUVVGRkxGbEJRVmtzUTBGQlF5eFJRVUZSTzBkQlEzQkRMRU5CUVVNN08wRkJSVVlzVjBGQlV5eEhRVUZITEVOQlFVTXNUMEZCVHl4RlFVRm5RanRSUVVGa0xFOUJRVThzZVVSQlFVY3NSVUZCUlRzN1FVRkRhRU1zVVVGQlNTeEpRVUZKTEVkQlFVY3NUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJRenM3UVVGRmVFSXNUMEZCUnl4RFFVRkRMRTFCUVUwc1EwRkJReXhQUVVGUExFTkJRVU1zUTBGQlF6dEJRVU53UWl4UlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFOUJRVThzU1VGQlNTeFpRVUZaTEVOQlFVTXNUMEZCVHl4RlFVRkZPMEZCUXpWRExGVkJRVWtzUjBGQlJ5eFJRVUZSTEVOQlFVTXNUMEZCVHl4RlFVRkZMRWxCUVVrc1EwRkJReXhEUVVGRE8wdEJRMmhETzBGQlEwUXNVVUZCU1N4TlFVRk5MRmxCUVVFN1VVRkRVaXhYUVVGWExFZEJRVWNzV1VGQldTeERRVUZETEdOQlFXTXNSMEZCUnl4RlFVRkZMRWRCUVVjc1UwRkJVeXhEUVVGRE8wRkJRemRFTEZGQlFVa3NXVUZCV1N4RFFVRkRMRk5CUVZNc1JVRkJSVHRCUVVNeFFpeFZRVUZKTEU5QlFVOHNRMEZCUXl4TlFVRk5MRVZCUVVVN1FVRkRiRUlzWTBGQlRTeEhRVU5LTEU5QlFVOHNTVUZCU1N4UFFVRlBMRU5CUVVNc1RVRkJUU3hEUVVGRExFTkJRVU1zUTBGQlF5eEhRVU40UWl4RFFVRkRMRTlCUVU4c1EwRkJReXhEUVVGRExFMUJRVTBzUTBGQlF5eFBRVUZQTEVOQlFVTXNUVUZCVFN4RFFVRkRMRWRCUTJoRExFOUJRVThzUTBGQlF5eE5RVUZOTEVOQlFVTTdUMEZEZEVJc1RVRkJUVHRCUVVOTUxHTkJRVTBzUjBGQlJ5eERRVUZETEU5QlFVOHNRMEZCUXl4RFFVRkRPMDlCUTNCQ08wdEJRMFk3TzBGQlJVUXNZVUZCVXl4SlFVRkpMRU5CUVVNc1QwRkJUeXhuUWtGQlowSTdRVUZEYmtNc1lVRkRSU3hGUVVGRkxFZEJRMFlzV1VGQldTeERRVUZETEVsQlFVa3NRMEZEWml4VFFVRlRMRVZCUTFRc1QwRkJUeXhGUVVOUUxGTkJRVk1zUTBGQlF5eFBRVUZQTEVWQlEycENMRk5CUVZNc1EwRkJReXhSUVVGUkxFVkJRMnhDTEVsQlFVa3NSVUZEU2l4WFFVRlhMRVZCUTFnc1RVRkJUU3hEUVVOUUxFTkJRMFE3UzBGRFNEczdRVUZGUkN4UlFVRkpMRWRCUVVjc2FVSkJRV2xDTEVOQlEzUkNMRmxCUVZrc1EwRkJReXhKUVVGSkxFVkJRMnBDTEVsQlFVa3NSVUZEU2l4VFFVRlRMRVZCUTFRc1QwRkJUeXhEUVVGRExFMUJRVTBzU1VGQlNTeEZRVUZGTEVWQlEzQkNMRWxCUVVrc1JVRkRTaXhYUVVGWExFTkJRMW9zUTBGQlF6dEJRVU5HTEZkQlFVOHNTVUZCU1N4RFFVRkRMRTlCUVU4c1JVRkJSU3hQUVVGUExFTkJRVU1zUTBGQlF6dEhRVU12UWpzN1FVRkZSQ3hMUVVGSExFTkJRVU1zUzBGQlN5eEhRVUZITEVsQlFVa3NRMEZCUXpzN1FVRkZha0lzUzBGQlJ5eERRVUZETEUxQlFVMHNSMEZCUnl4VlFVRlRMRTlCUVU4c1JVRkJSVHRCUVVNM1FpeFJRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTlCUVU4c1JVRkJSVHRCUVVOd1FpeFZRVUZKTEdGQlFXRXNSMEZCUnl4TFFVRkxMRU5CUVVNc1RVRkJUU3hEUVVGRExFVkJRVVVzUlVGQlJTeEhRVUZITEVOQlFVTXNUMEZCVHl4RlFVRkZMRTlCUVU4c1EwRkJReXhQUVVGUExFTkJRVU1zUTBGQlF6dEJRVU51UlN4eFEwRkJLMElzUTBGQlF5eGhRVUZoTEVWQlFVVXNVMEZCVXl4RFFVRkRMRU5CUVVNN1FVRkRNVVFzWlVGQlV5eERRVUZETEU5QlFVOHNSMEZCUnl4aFFVRmhMRU5CUVVNN08wRkJSV3hETEZWQlFVa3NXVUZCV1N4RFFVRkRMRlZCUVZVc1JVRkJSVHM3UVVGRk0wSXNhVUpCUVZNc1EwRkJReXhSUVVGUkxFZEJRVWNzVTBGQlV5eERRVUZETEdGQlFXRXNRMEZETVVNc1QwRkJUeXhEUVVGRExGRkJRVkVzUlVGRGFFSXNSMEZCUnl4RFFVRkRMRkZCUVZFc1EwRkRZaXhEUVVGRE8wOUJRMGc3UVVGRFJDeFZRVUZKTEZsQlFWa3NRMEZCUXl4VlFVRlZMRWxCUVVrc1dVRkJXU3hEUVVGRExHRkJRV0VzUlVGQlJUdEJRVU42UkN4cFFrRkJVeXhEUVVGRExGVkJRVlVzUjBGQlJ5eExRVUZMTEVOQlFVTXNUVUZCVFN4RFFVTnFReXhGUVVGRkxFVkJRMFlzUjBGQlJ5eERRVUZETEZWQlFWVXNSVUZEWkN4UFFVRlBMRU5CUVVNc1ZVRkJWU3hEUVVOdVFpeERRVUZETzA5QlEwZzdPMEZCUlVRc1pVRkJVeXhEUVVGRExFdEJRVXNzUjBGQlJ5eEZRVUZGTEVOQlFVTTdRVUZEY2tJc1pVRkJVeXhEUVVGRExHdENRVUZyUWl4SFFVRkhMRGhEUVVGNVFpeFBRVUZQTEVOQlFVTXNRMEZCUXpzN1FVRkZha1VzVlVGQlNTeHRRa0ZCYlVJc1IwRkRja0lzVDBGQlR5eERRVUZETEhsQ1FVRjVRaXhKUVVOcVF5eHZRMEZCYjBNc1EwRkJRenRCUVVOMlF5eHBRMEZCYTBJc1UwRkJVeXhGUVVGRkxHVkJRV1VzUlVGQlJTeHRRa0ZCYlVJc1EwRkJReXhEUVVGRE8wRkJRMjVGTEdsRFFVRnJRaXhUUVVGVExFVkJRVVVzYjBKQlFXOUNMRVZCUVVVc2JVSkJRVzFDTEVOQlFVTXNRMEZCUXp0TFFVTjZSU3hOUVVGTk8wRkJRMHdzWlVGQlV5eERRVUZETEd0Q1FVRnJRaXhIUVVGSExFOUJRVThzUTBGQlF5eHJRa0ZCYTBJc1EwRkJRenRCUVVNeFJDeGxRVUZUTEVOQlFVTXNUMEZCVHl4SFFVRkhMRTlCUVU4c1EwRkJReXhQUVVGUExFTkJRVU03UVVGRGNFTXNaVUZCVXl4RFFVRkRMRkZCUVZFc1IwRkJSeXhQUVVGUExFTkJRVU1zVVVGQlVTeERRVUZETzBGQlEzUkRMR1ZCUVZNc1EwRkJReXhWUVVGVkxFZEJRVWNzVDBGQlR5eERRVUZETEZWQlFWVXNRMEZCUXp0QlFVTXhReXhsUVVGVExFTkJRVU1zUzBGQlN5eEhRVUZITEU5QlFVOHNRMEZCUXl4TFFVRkxMRU5CUVVNN1MwRkRha003UjBGRFJpeERRVUZET3p0QlFVVkdMRXRCUVVjc1EwRkJReXhOUVVGTkxFZEJRVWNzVlVGQlV5eERRVUZETEVWQlFVVXNTVUZCU1N4RlFVRkZMRmRCUVZjc1JVRkJSU3hOUVVGTkxFVkJRVVU3UVVGRGJFUXNVVUZCU1N4WlFVRlpMRU5CUVVNc1kwRkJZeXhKUVVGSkxFTkJRVU1zVjBGQlZ5eEZRVUZGTzBGQlF5OURMRmxCUVUwc01rSkJRV01zZDBKQlFYZENMRU5CUVVNc1EwRkJRenRMUVVNdlF6dEJRVU5FTEZGQlFVa3NXVUZCV1N4RFFVRkRMRk5CUVZNc1NVRkJTU3hEUVVGRExFMUJRVTBzUlVGQlJUdEJRVU55UXl4WlFVRk5MREpDUVVGakxIbENRVUY1UWl4RFFVRkRMRU5CUVVNN1MwRkRhRVE3TzBGQlJVUXNWMEZCVHl4WFFVRlhMRU5CUTJoQ0xGTkJRVk1zUlVGRFZDeERRVUZETEVWQlEwUXNXVUZCV1N4RFFVRkRMRU5CUVVNc1EwRkJReXhGUVVObUxFbEJRVWtzUlVGRFNpeERRVUZETEVWQlEwUXNWMEZCVnl4RlFVTllMRTFCUVUwc1EwRkRVQ3hEUVVGRE8wZEJRMGdzUTBGQlF6dEJRVU5HTEZOQlFVOHNSMEZCUnl4RFFVRkRPME5CUTFvN08wRkJSVTBzVTBGQlV5eFhRVUZYTEVOQlEzcENMRk5CUVZNc1JVRkRWQ3hEUVVGRExFVkJRMFFzUlVGQlJTeEZRVU5HTEVsQlFVa3NSVUZEU2l4dFFrRkJiVUlzUlVGRGJrSXNWMEZCVnl4RlFVTllMRTFCUVUwc1JVRkRUanRCUVVOQkxGZEJRVk1zU1VGQlNTeERRVUZETEU5QlFVOHNSVUZCWjBJN1VVRkJaQ3hQUVVGUExIbEVRVUZITEVWQlFVVTdPMEZCUTJwRExGRkJRVWtzWVVGQllTeEhRVUZITEUxQlFVMHNRMEZCUXp0QlFVTXpRaXhSUVVORkxFMUJRVTBzU1VGRFRpeFBRVUZQTEVsQlFVa3NUVUZCVFN4RFFVRkRMRU5CUVVNc1EwRkJReXhKUVVOd1FpeEZRVUZGTEU5QlFVOHNTMEZCU3l4VFFVRlRMRU5CUVVNc1YwRkJWeXhKUVVGSkxFMUJRVTBzUTBGQlF5eERRVUZETEVOQlFVTXNTMEZCU3l4SlFVRkpMRU5CUVVFc1FVRkJReXhGUVVNeFJEdEJRVU5CTEcxQ1FVRmhMRWRCUVVjc1EwRkJReXhQUVVGUExFTkJRVU1zUTBGQlF5eE5RVUZOTEVOQlFVTXNUVUZCVFN4RFFVRkRMRU5CUVVNN1MwRkRNVU03TzBGQlJVUXNWMEZCVHl4RlFVRkZMRU5CUTFBc1UwRkJVeXhGUVVOVUxFOUJRVThzUlVGRFVDeFRRVUZUTEVOQlFVTXNUMEZCVHl4RlFVTnFRaXhUUVVGVExFTkJRVU1zVVVGQlVTeEZRVU5zUWl4UFFVRlBMRU5CUVVNc1NVRkJTU3hKUVVGSkxFbEJRVWtzUlVGRGNFSXNWMEZCVnl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExGZEJRVmNzUTBGQlF5eERRVUZETEUxQlFVMHNRMEZCUXl4WFFVRlhMRU5CUVVNc1JVRkRlRVFzWVVGQllTeERRVU5rTEVOQlFVTTdSMEZEU0RzN1FVRkZSQ3hOUVVGSkxFZEJRVWNzYVVKQlFXbENMRU5CUVVNc1JVRkJSU3hGUVVGRkxFbEJRVWtzUlVGQlJTeFRRVUZUTEVWQlFVVXNUVUZCVFN4RlFVRkZMRWxCUVVrc1JVRkJSU3hYUVVGWExFTkJRVU1zUTBGQlF6czdRVUZGZWtVc1RVRkJTU3hEUVVGRExFOUJRVThzUjBGQlJ5eERRVUZETEVOQlFVTTdRVUZEYWtJc1RVRkJTU3hEUVVGRExFdEJRVXNzUjBGQlJ5eE5RVUZOTEVkQlFVY3NUVUZCVFN4RFFVRkRMRTFCUVUwc1IwRkJSeXhEUVVGRExFTkJRVU03UVVGRGVFTXNUVUZCU1N4RFFVRkRMRmRCUVZjc1IwRkJSeXh0UWtGQmJVSXNTVUZCU1N4RFFVRkRMRU5CUVVNN1FVRkROVU1zVTBGQlR5eEpRVUZKTEVOQlFVTTdRMEZEWWpzN096czdPMEZCUzAwc1UwRkJVeXhqUVVGakxFTkJRVU1zVDBGQlR5eEZRVUZGTEU5QlFVOHNSVUZCUlN4UFFVRlBMRVZCUVVVN1FVRkRlRVFzVFVGQlNTeERRVUZETEU5QlFVOHNSVUZCUlR0QlFVTmFMRkZCUVVrc1QwRkJUeXhEUVVGRExFbEJRVWtzUzBGQlN5eG5Ra0ZCWjBJc1JVRkJSVHRCUVVOeVF5eGhRVUZQTEVkQlFVY3NUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhsUVVGbExFTkJRVU1zUTBGQlF6dExRVU42UXl4TlFVRk5PMEZCUTB3c1lVRkJUeXhIUVVGSExFOUJRVThzUTBGQlF5eFJRVUZSTEVOQlFVTXNUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8wdEJRekZETzBkQlEwWXNUVUZCVFN4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFbEJRVWtzU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4SlFVRkpMRVZCUVVVN08wRkJSWHBETEZkQlFVOHNRMEZCUXl4SlFVRkpMRWRCUVVjc1QwRkJUeXhEUVVGRE8wRkJRM1pDTEZkQlFVOHNSMEZCUnl4UFFVRlBMRU5CUVVNc1VVRkJVU3hEUVVGRExFOUJRVThzUTBGQlF5eERRVUZETzBkQlEzSkRPMEZCUTBRc1UwRkJUeXhQUVVGUExFTkJRVU03UTBGRGFFSTdPMEZCUlUwc1UwRkJVeXhoUVVGaExFTkJRVU1zVDBGQlR5eEZRVUZGTEU5QlFVOHNSVUZCUlN4UFFVRlBMRVZCUVVVN08wRkJSWFpFTEUxQlFVMHNiVUpCUVcxQ0xFZEJRVWNzVDBGQlR5eERRVUZETEVsQlFVa3NTVUZCU1N4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExHVkJRV1VzUTBGQlF5eERRVUZETzBGQlF6RkZMRk5CUVU4c1EwRkJReXhQUVVGUExFZEJRVWNzU1VGQlNTeERRVUZETzBGQlEzWkNMRTFCUVVrc1QwRkJUeXhEUVVGRExFZEJRVWNzUlVGQlJUdEJRVU5tTEZkQlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1YwRkJWeXhIUVVGSExFOUJRVThzUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXl4RFFVRkRMRWxCUVVrc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eFhRVUZYTEVOQlFVTTdSMEZEZGtVN08wRkJSVVFzVFVGQlNTeFpRVUZaTEZsQlFVRXNRMEZCUXp0QlFVTnFRaXhOUVVGSkxFOUJRVThzUTBGQlF5eEZRVUZGTEVsQlFVa3NUMEZCVHl4RFFVRkRMRVZCUVVVc1MwRkJTeXhKUVVGSkxFVkJRVVU3TzBGQlEzSkRMR0ZCUVU4c1EwRkJReXhKUVVGSkxFZEJRVWNzYTBKQlFWa3NUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE96dEJRVVY2UXl4VlFVRkpMRVZCUVVVc1IwRkJSeXhQUVVGUExFTkJRVU1zUlVGQlJTeERRVUZETzBGQlEzQkNMR3RDUVVGWkxFZEJRVWNzVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4bFFVRmxMRU5CUVVNc1IwRkJSeXhUUVVGVExHMUNRVUZ0UWl4RFFVTjZSU3hQUVVGUExFVkJSVkE3V1VGRVFTeFBRVUZQTEhsRVFVRkhMRVZCUVVVN096czdRVUZKV2l4bFFVRlBMRU5CUVVNc1NVRkJTU3hIUVVGSExHdENRVUZaTEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJRenRCUVVONlF5eGxRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMR1ZCUVdVc1EwRkJReXhIUVVGSExHMUNRVUZ0UWl4RFFVRkRPMEZCUTNCRUxHVkJRVThzUlVGQlJTeERRVUZETEU5QlFVOHNSVUZCUlN4UFFVRlBMRU5CUVVNc1EwRkJRenRQUVVNM1FpeERRVUZETzBGQlEwWXNWVUZCU1N4RlFVRkZMRU5CUVVNc1VVRkJVU3hGUVVGRk8wRkJRMllzWlVGQlR5eERRVUZETEZGQlFWRXNSMEZCUnl4TFFVRkxMRU5CUVVNc1RVRkJUU3hEUVVGRExFVkJRVVVzUlVGQlJTeFBRVUZQTEVOQlFVTXNVVUZCVVN4RlFVRkZMRVZCUVVVc1EwRkJReXhSUVVGUkxFTkJRVU1zUTBGQlF6dFBRVU53UlRzN1IwRkRSanM3UVVGRlJDeE5RVUZKTEU5QlFVOHNTMEZCU3l4VFFVRlRMRWxCUVVrc1dVRkJXU3hGUVVGRk8wRkJRM3BETEZkQlFVOHNSMEZCUnl4WlFVRlpMRU5CUVVNN1IwRkRlRUk3TzBGQlJVUXNUVUZCU1N4UFFVRlBMRXRCUVVzc1UwRkJVeXhGUVVGRk8wRkJRM3BDTEZWQlFVMHNNa0pCUVdNc1kwRkJZeXhIUVVGSExFOUJRVThzUTBGQlF5eEpRVUZKTEVkQlFVY3NjVUpCUVhGQ0xFTkJRVU1zUTBGQlF6dEhRVU0xUlN4TlFVRk5MRWxCUVVrc1QwRkJUeXhaUVVGWkxGRkJRVkVzUlVGQlJUdEJRVU4wUXl4WFFVRlBMRTlCUVU4c1EwRkJReXhQUVVGUExFVkJRVVVzVDBGQlR5eERRVUZETEVOQlFVTTdSMEZEYkVNN1EwRkRSanM3UVVGRlRTeFRRVUZUTEVsQlFVa3NSMEZCUnp0QlFVTnlRaXhUUVVGUExFVkJRVVVzUTBGQlF6dERRVU5ZT3p0QlFVVkVMRk5CUVZNc1VVRkJVU3hEUVVGRExFOUJRVThzUlVGQlJTeEpRVUZKTEVWQlFVVTdRVUZETDBJc1RVRkJTU3hEUVVGRExFbEJRVWtzU1VGQlNTeEZRVUZGTEUxQlFVMHNTVUZCU1N4SlFVRkpMRU5CUVVFc1FVRkJReXhGUVVGRk8wRkJRemxDTEZGQlFVa3NSMEZCUnl4SlFVRkpMRWRCUVVjc2EwSkJRVmtzU1VGQlNTeERRVUZETEVkQlFVY3NSVUZCUlN4RFFVRkRPMEZCUTNKRExGRkJRVWtzUTBGQlF5eEpRVUZKTEVkQlFVY3NUMEZCVHl4RFFVRkRPMGRCUTNKQ08wRkJRMFFzVTBGQlR5eEpRVUZKTEVOQlFVTTdRMEZEWWpzN1FVRkZSQ3hUUVVGVExHbENRVUZwUWl4RFFVRkRMRVZCUVVVc1JVRkJSU3hKUVVGSkxFVkJRVVVzVTBGQlV5eEZRVUZGTEUxQlFVMHNSVUZCUlN4SlFVRkpMRVZCUVVVc1YwRkJWeXhGUVVGRk8wRkJRM3BGTEUxQlFVa3NSVUZCUlN4RFFVRkRMRk5CUVZNc1JVRkJSVHRCUVVOb1FpeFJRVUZKTEV0QlFVc3NSMEZCUnl4RlFVRkZMRU5CUVVNN1FVRkRaaXhSUVVGSkxFZEJRVWNzUlVGQlJTeERRVUZETEZOQlFWTXNRMEZEYWtJc1NVRkJTU3hGUVVOS0xFdEJRVXNzUlVGRFRDeFRRVUZUTEVWQlExUXNUVUZCVFN4SlFVRkpMRTFCUVUwc1EwRkJReXhEUVVGRExFTkJRVU1zUlVGRGJrSXNTVUZCU1N4RlFVTktMRmRCUVZjc1JVRkRXQ3hOUVVGTkxFTkJRMUFzUTBGQlF6dEJRVU5HTEZOQlFVc3NRMEZCUXl4TlFVRk5MRU5CUVVNc1NVRkJTU3hGUVVGRkxFdEJRVXNzUTBGQlF5eERRVUZETzBkQlF6TkNPMEZCUTBRc1UwRkJUeXhKUVVGSkxFTkJRVU03UTBGRFlqczdRVUZGUkN4VFFVRlRMQ3RDUVVFclFpeERRVUZETEdGQlFXRXNSVUZCUlN4VFFVRlRMRVZCUVVVN1FVRkRha1VzVVVGQlRTeERRVUZETEVsQlFVa3NRMEZCUXl4aFFVRmhMRU5CUVVNc1EwRkJReXhQUVVGUExFTkJRVU1zVlVGQlFTeFZRVUZWTEVWQlFVazdRVUZETDBNc1VVRkJTU3hOUVVGTkxFZEJRVWNzWVVGQllTeERRVUZETEZWQlFWVXNRMEZCUXl4RFFVRkRPMEZCUTNaRExHbENRVUZoTEVOQlFVTXNWVUZCVlN4RFFVRkRMRWRCUVVjc2QwSkJRWGRDTEVOQlFVTXNUVUZCVFN4RlFVRkZMRk5CUVZNc1EwRkJReXhEUVVGRE8wZEJRM3BGTEVOQlFVTXNRMEZCUXp0RFFVTktPenRCUVVWRUxGTkJRVk1zZDBKQlFYZENMRU5CUVVNc1RVRkJUU3hGUVVGRkxGTkJRVk1zUlVGQlJUdEJRVU51UkN4TlFVRk5MR05CUVdNc1IwRkJSeXhUUVVGVExFTkJRVU1zWTBGQll5eERRVUZETzBGQlEyaEVMRk5CUVU4c0swSkJRVmNzVFVGQlRTeEZRVUZGTEZWQlFVRXNUMEZCVHl4RlFVRkpPMEZCUTI1RExGZEJRVThzUzBGQlN5eERRVUZETEUxQlFVMHNRMEZCUXl4RlFVRkZMR05CUVdNc1JVRkJaQ3hqUVVGakxFVkJRVVVzUlVGQlJTeFBRVUZQTEVOQlFVTXNRMEZCUXp0SFFVTnNSQ3hEUVVGRExFTkJRVU03UTBGRFNpSXNJbVpwYkdVaU9pSnlkVzUwYVcxbExtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpYVcxd2IzSjBJQ29nWVhNZ1ZYUnBiSE1nWm5KdmJTQW5MaTkxZEdsc2N5YzdYRzVwYlhCdmNuUWdSWGhqWlhCMGFXOXVJR1p5YjIwZ0p5NHZaWGhqWlhCMGFXOXVKenRjYm1sdGNHOXlkQ0I3WEc0Z0lFTlBUVkJKVEVWU1gxSkZWa2xUU1U5T0xGeHVJQ0JqY21WaGRHVkdjbUZ0WlN4Y2JpQWdURUZUVkY5RFQwMVFRVlJKUWt4RlgwTlBUVkJKVEVWU1gxSkZWa2xUU1U5T0xGeHVJQ0JTUlZaSlUwbFBUbDlEU0VGT1IwVlRYRzU5SUdaeWIyMGdKeTR2WW1GelpTYzdYRzVwYlhCdmNuUWdleUJ0YjNabFNHVnNjR1Z5Vkc5SWIyOXJjeUI5SUdaeWIyMGdKeTR2YUdWc2NHVnljeWM3WEc1cGJYQnZjblFnZXlCM2NtRndTR1ZzY0dWeUlIMGdabkp2YlNBbkxpOXBiblJsY201aGJDOTNjbUZ3U0dWc2NHVnlKenRjYm1sdGNHOXlkQ0I3WEc0Z0lHTnlaV0YwWlZCeWIzUnZRV05qWlhOelEyOXVkSEp2YkN4Y2JpQWdjbVZ6ZFd4MFNYTkJiR3h2ZDJWa1hHNTlJR1p5YjIwZ0p5NHZhVzUwWlhKdVlXd3ZjSEp2ZEc4dFlXTmpaWE56Snp0Y2JseHVaWGh3YjNKMElHWjFibU4wYVc5dUlHTm9aV05yVW1WMmFYTnBiMjRvWTI5dGNHbHNaWEpKYm1adktTQjdYRzRnSUdOdmJuTjBJR052YlhCcGJHVnlVbVYyYVhOcGIyNGdQU0FvWTI5dGNHbHNaWEpKYm1adklDWW1JR052YlhCcGJHVnlTVzVtYjFzd1hTa2dmSHdnTVN4Y2JpQWdJQ0JqZFhKeVpXNTBVbVYyYVhOcGIyNGdQU0JEVDAxUVNVeEZVbDlTUlZaSlUwbFBUanRjYmx4dUlDQnBaaUFvWEc0Z0lDQWdZMjl0Y0dsc1pYSlNaWFpwYzJsdmJpQStQU0JNUVZOVVgwTlBUVkJCVkVsQ1RFVmZRMDlOVUVsTVJWSmZVa1ZXU1ZOSlQwNGdKaVpjYmlBZ0lDQmpiMjF3YVd4bGNsSmxkbWx6YVc5dUlEdzlJRU5QVFZCSlRFVlNYMUpGVmtsVFNVOU9YRzRnSUNrZ2UxeHVJQ0FnSUhKbGRIVnlianRjYmlBZ2ZWeHVYRzRnSUdsbUlDaGpiMjF3YVd4bGNsSmxkbWx6YVc5dUlEd2dURUZUVkY5RFQwMVFRVlJKUWt4RlgwTlBUVkJKVEVWU1gxSkZWa2xUU1U5T0tTQjdYRzRnSUNBZ1kyOXVjM1FnY25WdWRHbHRaVlpsY25OcGIyNXpJRDBnVWtWV1NWTkpUMDVmUTBoQlRrZEZVMXRqZFhKeVpXNTBVbVYyYVhOcGIyNWRMRnh1SUNBZ0lDQWdZMjl0Y0dsc1pYSldaWEp6YVc5dWN5QTlJRkpGVmtsVFNVOU9YME5JUVU1SFJWTmJZMjl0Y0dsc1pYSlNaWFpwYzJsdmJsMDdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVjRZMlZ3ZEdsdmJpaGNiaUFnSUNBZ0lDZFVaVzF3YkdGMFpTQjNZWE1nY0hKbFkyOXRjR2xzWldRZ2QybDBhQ0JoYmlCdmJHUmxjaUIyWlhKemFXOXVJRzltSUVoaGJtUnNaV0poY25NZ2RHaGhiaUIwYUdVZ1kzVnljbVZ1ZENCeWRXNTBhVzFsTGlBbklDdGNiaUFnSUNBZ0lDQWdKMUJzWldGelpTQjFjR1JoZEdVZ2VXOTFjaUJ3Y21WamIyMXdhV3hsY2lCMGJ5QmhJRzVsZDJWeUlIWmxjbk5wYjI0Z0tDY2dLMXh1SUNBZ0lDQWdJQ0J5ZFc1MGFXMWxWbVZ5YzJsdmJuTWdLMXh1SUNBZ0lDQWdJQ0FuS1NCdmNpQmtiM2R1WjNKaFpHVWdlVzkxY2lCeWRXNTBhVzFsSUhSdklHRnVJRzlzWkdWeUlIWmxjbk5wYjI0Z0tDY2dLMXh1SUNBZ0lDQWdJQ0JqYjIxd2FXeGxjbFpsY25OcGIyNXpJQ3RjYmlBZ0lDQWdJQ0FnSnlrdUoxeHVJQ0FnSUNrN1hHNGdJSDBnWld4elpTQjdYRzRnSUNBZ0x5OGdWWE5sSUhSb1pTQmxiV0psWkdSbFpDQjJaWEp6YVc5dUlHbHVabThnYzJsdVkyVWdkR2hsSUhKMWJuUnBiV1VnWkc5bGMyNG5kQ0JyYm05M0lHRmliM1YwSUhSb2FYTWdjbVYyYVhOcGIyNGdlV1YwWEc0Z0lDQWdkR2h5YjNjZ2JtVjNJRVY0WTJWd2RHbHZiaWhjYmlBZ0lDQWdJQ2RVWlcxd2JHRjBaU0IzWVhNZ2NISmxZMjl0Y0dsc1pXUWdkMmwwYUNCaElHNWxkMlZ5SUhabGNuTnBiMjRnYjJZZ1NHRnVaR3hsWW1GeWN5QjBhR0Z1SUhSb1pTQmpkWEp5Wlc1MElISjFiblJwYldVdUlDY2dLMXh1SUNBZ0lDQWdJQ0FuVUd4bFlYTmxJSFZ3WkdGMFpTQjViM1Z5SUhKMWJuUnBiV1VnZEc4Z1lTQnVaWGRsY2lCMlpYSnphVzl1SUNnbklDdGNiaUFnSUNBZ0lDQWdZMjl0Y0dsc1pYSkpibVp2V3pGZElDdGNiaUFnSUNBZ0lDQWdKeWt1SjF4dUlDQWdJQ2s3WEc0Z0lIMWNibjFjYmx4dVpYaHdiM0owSUdaMWJtTjBhVzl1SUhSbGJYQnNZWFJsS0hSbGJYQnNZWFJsVTNCbFl5d2daVzUyS1NCN1hHNGdJQzhxSUdsemRHRnVZblZzSUdsbmJtOXlaU0J1WlhoMElDb3ZYRzRnSUdsbUlDZ2haVzUyS1NCN1hHNGdJQ0FnZEdoeWIzY2dibVYzSUVWNFkyVndkR2x2YmlnblRtOGdaVzUyYVhKdmJtMWxiblFnY0dGemMyVmtJSFJ2SUhSbGJYQnNZWFJsSnlrN1hHNGdJSDFjYmlBZ2FXWWdLQ0YwWlcxd2JHRjBaVk53WldNZ2ZId2dJWFJsYlhCc1lYUmxVM0JsWXk1dFlXbHVLU0I3WEc0Z0lDQWdkR2h5YjNjZ2JtVjNJRVY0WTJWd2RHbHZiaWduVlc1cmJtOTNiaUIwWlcxd2JHRjBaU0J2WW1wbFkzUTZJQ2NnS3lCMGVYQmxiMllnZEdWdGNHeGhkR1ZUY0dWaktUdGNiaUFnZlZ4dVhHNGdJSFJsYlhCc1lYUmxVM0JsWXk1dFlXbHVMbVJsWTI5eVlYUnZjaUE5SUhSbGJYQnNZWFJsVTNCbFl5NXRZV2x1WDJRN1hHNWNiaUFnTHk4Z1RtOTBaVG9nVlhOcGJtY2daVzUyTGxaTklISmxabVZ5Wlc1alpYTWdjbUYwYUdWeUlIUm9ZVzRnYkc5allXd2dkbUZ5SUhKbFptVnlaVzVqWlhNZ2RHaHliM1ZuYUc5MWRDQjBhR2x6SUhObFkzUnBiMjRnZEc4Z1lXeHNiM2RjYmlBZ0x5OGdabTl5SUdWNGRHVnlibUZzSUhWelpYSnpJSFJ2SUc5MlpYSnlhV1JsSUhSb1pYTmxJR0Z6SUhCelpYVmtieTF6ZFhCd2IzSjBaV1FnUVZCSmN5NWNiaUFnWlc1MkxsWk5MbU5vWldOclVtVjJhWE5wYjI0b2RHVnRjR3hoZEdWVGNHVmpMbU52YlhCcGJHVnlLVHRjYmx4dUlDQXZMeUJpWVdOcmQyRnlaSE1nWTI5dGNHRjBhV0pwYkdsMGVTQm1iM0lnY0hKbFkyOXRjR2xzWldRZ2RHVnRjR3hoZEdWeklIZHBkR2dnWTI5dGNHbHNaWEl0ZG1WeWMybHZiaUEzSUNnOE5DNHpMakFwWEc0Z0lHTnZibk4wSUhSbGJYQnNZWFJsVjJGelVISmxZMjl0Y0dsc1pXUlhhWFJvUTI5dGNHbHNaWEpXTnlBOVhHNGdJQ0FnZEdWdGNHeGhkR1ZUY0dWakxtTnZiWEJwYkdWeUlDWW1JSFJsYlhCc1lYUmxVM0JsWXk1amIyMXdhV3hsY2xzd1hTQTlQVDBnTnp0Y2JseHVJQ0JtZFc1amRHbHZiaUJwYm5admEyVlFZWEowYVdGc1YzSmhjSEJsY2lod1lYSjBhV0ZzTENCamIyNTBaWGgwTENCdmNIUnBiMjV6S1NCN1hHNGdJQ0FnYVdZZ0tHOXdkR2x2Ym5NdWFHRnphQ2tnZTF4dUlDQWdJQ0FnWTI5dWRHVjRkQ0E5SUZWMGFXeHpMbVY0ZEdWdVpDaDdmU3dnWTI5dWRHVjRkQ3dnYjNCMGFXOXVjeTVvWVhOb0tUdGNiaUFnSUNBZ0lHbG1JQ2h2Y0hScGIyNXpMbWxrY3lrZ2UxeHVJQ0FnSUNBZ0lDQnZjSFJwYjI1ekxtbGtjMXN3WFNBOUlIUnlkV1U3WEc0Z0lDQWdJQ0I5WEc0Z0lDQWdmVnh1SUNBZ0lIQmhjblJwWVd3Z1BTQmxibll1VmswdWNtVnpiMngyWlZCaGNuUnBZV3d1WTJGc2JDaDBhR2x6TENCd1lYSjBhV0ZzTENCamIyNTBaWGgwTENCdmNIUnBiMjV6S1R0Y2JseHVJQ0FnSUd4bGRDQmxlSFJsYm1SbFpFOXdkR2x2Ym5NZ1BTQlZkR2xzY3k1bGVIUmxibVFvZTMwc0lHOXdkR2x2Ym5Nc0lIdGNiaUFnSUNBZ0lHaHZiMnR6T2lCMGFHbHpMbWh2YjJ0ekxGeHVJQ0FnSUNBZ2NISnZkRzlCWTJObGMzTkRiMjUwY205c09pQjBhR2x6TG5CeWIzUnZRV05qWlhOelEyOXVkSEp2YkZ4dUlDQWdJSDBwTzF4dVhHNGdJQ0FnYkdWMElISmxjM1ZzZENBOUlHVnVkaTVXVFM1cGJuWnZhMlZRWVhKMGFXRnNMbU5oYkd3b1hHNGdJQ0FnSUNCMGFHbHpMRnh1SUNBZ0lDQWdjR0Z5ZEdsaGJDeGNiaUFnSUNBZ0lHTnZiblJsZUhRc1hHNGdJQ0FnSUNCbGVIUmxibVJsWkU5d2RHbHZibk5jYmlBZ0lDQXBPMXh1WEc0Z0lDQWdhV1lnS0hKbGMzVnNkQ0E5UFNCdWRXeHNJQ1ltSUdWdWRpNWpiMjF3YVd4bEtTQjdYRzRnSUNBZ0lDQnZjSFJwYjI1ekxuQmhjblJwWVd4elcyOXdkR2x2Ym5NdWJtRnRaVjBnUFNCbGJuWXVZMjl0Y0dsc1pTaGNiaUFnSUNBZ0lDQWdjR0Z5ZEdsaGJDeGNiaUFnSUNBZ0lDQWdkR1Z0Y0d4aGRHVlRjR1ZqTG1OdmJYQnBiR1Z5VDNCMGFXOXVjeXhjYmlBZ0lDQWdJQ0FnWlc1MlhHNGdJQ0FnSUNBcE8xeHVJQ0FnSUNBZ2NtVnpkV3gwSUQwZ2IzQjBhVzl1Y3k1d1lYSjBhV0ZzYzF0dmNIUnBiMjV6TG01aGJXVmRLR052Ym5SbGVIUXNJR1Y0ZEdWdVpHVmtUM0IwYVc5dWN5azdYRzRnSUNBZ2ZWeHVJQ0FnSUdsbUlDaHlaWE4xYkhRZ0lUMGdiblZzYkNrZ2UxeHVJQ0FnSUNBZ2FXWWdLRzl3ZEdsdmJuTXVhVzVrWlc1MEtTQjdYRzRnSUNBZ0lDQWdJR3hsZENCc2FXNWxjeUE5SUhKbGMzVnNkQzV6Y0d4cGRDZ25YRnh1SnlrN1hHNGdJQ0FnSUNBZ0lHWnZjaUFvYkdWMElHa2dQU0F3TENCc0lEMGdiR2x1WlhNdWJHVnVaM1JvT3lCcElEd2diRHNnYVNzcktTQjdYRzRnSUNBZ0lDQWdJQ0FnYVdZZ0tDRnNhVzVsYzF0cFhTQW1KaUJwSUNzZ01TQTlQVDBnYkNrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnWW5KbFlXczdYRzRnSUNBZ0lDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNBZ0lDQWdiR2x1WlhOYmFWMGdQU0J2Y0hScGIyNXpMbWx1WkdWdWRDQXJJR3hwYm1WelcybGRPMXh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUhKbGMzVnNkQ0E5SUd4cGJtVnpMbXB2YVc0b0oxeGNiaWNwTzF4dUlDQWdJQ0FnZlZ4dUlDQWdJQ0FnY21WMGRYSnVJSEpsYzNWc2REdGNiaUFnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnZEdoeWIzY2dibVYzSUVWNFkyVndkR2x2YmloY2JpQWdJQ0FnSUNBZ0oxUm9aU0J3WVhKMGFXRnNJQ2NnSzF4dUlDQWdJQ0FnSUNBZ0lHOXdkR2x2Ym5NdWJtRnRaU0FyWEc0Z0lDQWdJQ0FnSUNBZ0p5QmpiM1ZzWkNCdWIzUWdZbVVnWTI5dGNHbHNaV1FnZDJobGJpQnlkVzV1YVc1bklHbHVJSEoxYm5ScGJXVXRiMjVzZVNCdGIyUmxKMXh1SUNBZ0lDQWdLVHRjYmlBZ0lDQjlYRzRnSUgxY2JseHVJQ0F2THlCS2RYTjBJR0ZrWkNCM1lYUmxjbHh1SUNCc1pYUWdZMjl1ZEdGcGJtVnlJRDBnZTF4dUlDQWdJSE4wY21samREb2dablZ1WTNScGIyNG9iMkpxTENCdVlXMWxMQ0JzYjJNcElIdGNiaUFnSUNBZ0lHbG1JQ2doYjJKcUlIeDhJQ0VvYm1GdFpTQnBiaUJ2WW1vcEtTQjdYRzRnSUNBZ0lDQWdJSFJvY205M0lHNWxkeUJGZUdObGNIUnBiMjRvSjF3aUp5QXJJRzVoYldVZ0t5QW5YQ0lnYm05MElHUmxabWx1WldRZ2FXNGdKeUFySUc5aWFpd2dlMXh1SUNBZ0lDQWdJQ0FnSUd4dll6b2diRzlqWEc0Z0lDQWdJQ0FnSUgwcE8xeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ2NtVjBkWEp1SUc5aWFsdHVZVzFsWFR0Y2JpQWdJQ0I5TEZ4dUlDQWdJR3h2YjJ0MWNGQnliM0JsY25SNU9pQm1kVzVqZEdsdmJpaHdZWEpsYm5Rc0lIQnliM0JsY25SNVRtRnRaU2tnZTF4dUlDQWdJQ0FnYkdWMElISmxjM1ZzZENBOUlIQmhjbVZ1ZEZ0d2NtOXdaWEowZVU1aGJXVmRPMXh1SUNBZ0lDQWdhV1lnS0hKbGMzVnNkQ0E5UFNCdWRXeHNLU0I3WEc0Z0lDQWdJQ0FnSUhKbGRIVnliaUJ5WlhOMWJIUTdYRzRnSUNBZ0lDQjlYRzRnSUNBZ0lDQnBaaUFvVDJKcVpXTjBMbkJ5YjNSdmRIbHdaUzVvWVhOUGQyNVFjbTl3WlhKMGVTNWpZV3hzS0hCaGNtVnVkQ3dnY0hKdmNHVnlkSGxPWVcxbEtTa2dlMXh1SUNBZ0lDQWdJQ0J5WlhSMWNtNGdjbVZ6ZFd4ME8xeHVJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQnBaaUFvY21WemRXeDBTWE5CYkd4dmQyVmtLSEpsYzNWc2RDd2dZMjl1ZEdGcGJtVnlMbkJ5YjNSdlFXTmpaWE56UTI5dWRISnZiQ3dnY0hKdmNHVnlkSGxPWVcxbEtTa2dlMXh1SUNBZ0lDQWdJQ0J5WlhSMWNtNGdjbVZ6ZFd4ME8xeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ2NtVjBkWEp1SUhWdVpHVm1hVzVsWkR0Y2JpQWdJQ0I5TEZ4dUlDQWdJR3h2YjJ0MWNEb2dablZ1WTNScGIyNG9aR1Z3ZEdoekxDQnVZVzFsS1NCN1hHNGdJQ0FnSUNCamIyNXpkQ0JzWlc0Z1BTQmtaWEIwYUhNdWJHVnVaM1JvTzF4dUlDQWdJQ0FnWm05eUlDaHNaWFFnYVNBOUlEQTdJR2tnUENCc1pXNDdJR2tyS3lrZ2UxeHVJQ0FnSUNBZ0lDQnNaWFFnY21WemRXeDBJRDBnWkdWd2RHaHpXMmxkSUNZbUlHTnZiblJoYVc1bGNpNXNiMjlyZFhCUWNtOXdaWEowZVNoa1pYQjBhSE5iYVYwc0lHNWhiV1VwTzF4dUlDQWdJQ0FnSUNCcFppQW9jbVZ6ZFd4MElDRTlJRzUxYkd3cElIdGNiaUFnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdaR1Z3ZEdoelcybGRXMjVoYldWZE8xeHVJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQjlYRzRnSUNBZ2ZTeGNiaUFnSUNCc1lXMWlaR0U2SUdaMWJtTjBhVzl1S0dOMWNuSmxiblFzSUdOdmJuUmxlSFFwSUh0Y2JpQWdJQ0FnSUhKbGRIVnliaUIwZVhCbGIyWWdZM1Z5Y21WdWRDQTlQVDBnSjJaMWJtTjBhVzl1SnlBL0lHTjFjbkpsYm5RdVkyRnNiQ2hqYjI1MFpYaDBLU0E2SUdOMWNuSmxiblE3WEc0Z0lDQWdmU3hjYmx4dUlDQWdJR1Z6WTJGd1pVVjRjSEpsYzNOcGIyNDZJRlYwYVd4ekxtVnpZMkZ3WlVWNGNISmxjM05wYjI0c1hHNGdJQ0FnYVc1MmIydGxVR0Z5ZEdsaGJEb2dhVzUyYjJ0bFVHRnlkR2xoYkZkeVlYQndaWElzWEc1Y2JpQWdJQ0JtYmpvZ1puVnVZM1JwYjI0b2FTa2dlMXh1SUNBZ0lDQWdiR1YwSUhKbGRDQTlJSFJsYlhCc1lYUmxVM0JsWTF0cFhUdGNiaUFnSUNBZ0lISmxkQzVrWldOdmNtRjBiM0lnUFNCMFpXMXdiR0YwWlZOd1pXTmJhU0FySUNkZlpDZGRPMXh1SUNBZ0lDQWdjbVYwZFhKdUlISmxkRHRjYmlBZ0lDQjlMRnh1WEc0Z0lDQWdjSEp2WjNKaGJYTTZJRnRkTEZ4dUlDQWdJSEJ5YjJkeVlXMDZJR1oxYm1OMGFXOXVLR2tzSUdSaGRHRXNJR1JsWTJ4aGNtVmtRbXh2WTJ0UVlYSmhiWE1zSUdKc2IyTnJVR0Z5WVcxekxDQmtaWEIwYUhNcElIdGNiaUFnSUNBZ0lHeGxkQ0J3Y205bmNtRnRWM0poY0hCbGNpQTlJSFJvYVhNdWNISnZaM0poYlhOYmFWMHNYRzRnSUNBZ0lDQWdJR1p1SUQwZ2RHaHBjeTVtYmlocEtUdGNiaUFnSUNBZ0lHbG1JQ2hrWVhSaElIeDhJR1JsY0hSb2N5QjhmQ0JpYkc5amExQmhjbUZ0Y3lCOGZDQmtaV05zWVhKbFpFSnNiMk5yVUdGeVlXMXpLU0I3WEc0Z0lDQWdJQ0FnSUhCeWIyZHlZVzFYY21Gd2NHVnlJRDBnZDNKaGNGQnliMmR5WVcwb1hHNGdJQ0FnSUNBZ0lDQWdkR2hwY3l4Y2JpQWdJQ0FnSUNBZ0lDQnBMRnh1SUNBZ0lDQWdJQ0FnSUdadUxGeHVJQ0FnSUNBZ0lDQWdJR1JoZEdFc1hHNGdJQ0FnSUNBZ0lDQWdaR1ZqYkdGeVpXUkNiRzlqYTFCaGNtRnRjeXhjYmlBZ0lDQWdJQ0FnSUNCaWJHOWphMUJoY21GdGN5eGNiaUFnSUNBZ0lDQWdJQ0JrWlhCMGFITmNiaUFnSUNBZ0lDQWdLVHRjYmlBZ0lDQWdJSDBnWld4elpTQnBaaUFvSVhCeWIyZHlZVzFYY21Gd2NHVnlLU0I3WEc0Z0lDQWdJQ0FnSUhCeWIyZHlZVzFYY21Gd2NHVnlJRDBnZEdocGN5NXdjbTluY21GdGMxdHBYU0E5SUhkeVlYQlFjbTluY21GdEtIUm9hWE1zSUdrc0lHWnVLVHRjYmlBZ0lDQWdJSDFjYmlBZ0lDQWdJSEpsZEhWeWJpQndjbTluY21GdFYzSmhjSEJsY2p0Y2JpQWdJQ0I5TEZ4dVhHNGdJQ0FnWkdGMFlUb2dablZ1WTNScGIyNG9kbUZzZFdVc0lHUmxjSFJvS1NCN1hHNGdJQ0FnSUNCM2FHbHNaU0FvZG1Gc2RXVWdKaVlnWkdWd2RHZ3RMU2tnZTF4dUlDQWdJQ0FnSUNCMllXeDFaU0E5SUhaaGJIVmxMbDl3WVhKbGJuUTdYRzRnSUNBZ0lDQjlYRzRnSUNBZ0lDQnlaWFIxY200Z2RtRnNkV1U3WEc0Z0lDQWdmU3hjYmlBZ0lDQnRaWEpuWlVsbVRtVmxaR1ZrT2lCbWRXNWpkR2x2Ymlod1lYSmhiU3dnWTI5dGJXOXVLU0I3WEc0Z0lDQWdJQ0JzWlhRZ2IySnFJRDBnY0dGeVlXMGdmSHdnWTI5dGJXOXVPMXh1WEc0Z0lDQWdJQ0JwWmlBb2NHRnlZVzBnSmlZZ1kyOXRiVzl1SUNZbUlIQmhjbUZ0SUNFOVBTQmpiMjF0YjI0cElIdGNiaUFnSUNBZ0lDQWdiMkpxSUQwZ1ZYUnBiSE11WlhoMFpXNWtLSHQ5TENCamIyMXRiMjRzSUhCaGNtRnRLVHRjYmlBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnY21WMGRYSnVJRzlpYWp0Y2JpQWdJQ0I5TEZ4dUlDQWdJQzh2SUVGdUlHVnRjSFI1SUc5aWFtVmpkQ0IwYnlCMWMyVWdZWE1nY21Wd2JHRmpaVzFsYm5RZ1ptOXlJRzUxYkd3dFkyOXVkR1Y0ZEhOY2JpQWdJQ0J1ZFd4c1EyOXVkR1Y0ZERvZ1QySnFaV04wTG5ObFlXd29lMzBwTEZ4dVhHNGdJQ0FnYm05dmNEb2daVzUyTGxaTkxtNXZiM0FzWEc0Z0lDQWdZMjl0Y0dsc1pYSkpibVp2T2lCMFpXMXdiR0YwWlZOd1pXTXVZMjl0Y0dsc1pYSmNiaUFnZlR0Y2JseHVJQ0JtZFc1amRHbHZiaUJ5WlhRb1kyOXVkR1Y0ZEN3Z2IzQjBhVzl1Y3lBOUlIdDlLU0I3WEc0Z0lDQWdiR1YwSUdSaGRHRWdQU0J2Y0hScGIyNXpMbVJoZEdFN1hHNWNiaUFnSUNCeVpYUXVYM05sZEhWd0tHOXdkR2x2Ym5NcE8xeHVJQ0FnSUdsbUlDZ2hiM0IwYVc5dWN5NXdZWEowYVdGc0lDWW1JSFJsYlhCc1lYUmxVM0JsWXk1MWMyVkVZWFJoS1NCN1hHNGdJQ0FnSUNCa1lYUmhJRDBnYVc1cGRFUmhkR0VvWTI5dWRHVjRkQ3dnWkdGMFlTazdYRzRnSUNBZ2ZWeHVJQ0FnSUd4bGRDQmtaWEIwYUhNc1hHNGdJQ0FnSUNCaWJHOWphMUJoY21GdGN5QTlJSFJsYlhCc1lYUmxVM0JsWXk1MWMyVkNiRzlqYTFCaGNtRnRjeUEvSUZ0ZElEb2dkVzVrWldacGJtVmtPMXh1SUNBZ0lHbG1JQ2gwWlcxd2JHRjBaVk53WldNdWRYTmxSR1Z3ZEdoektTQjdYRzRnSUNBZ0lDQnBaaUFvYjNCMGFXOXVjeTVrWlhCMGFITXBJSHRjYmlBZ0lDQWdJQ0FnWkdWd2RHaHpJRDFjYmlBZ0lDQWdJQ0FnSUNCamIyNTBaWGgwSUNFOUlHOXdkR2x2Ym5NdVpHVndkR2h6V3pCZFhHNGdJQ0FnSUNBZ0lDQWdJQ0EvSUZ0amIyNTBaWGgwWFM1amIyNWpZWFFvYjNCMGFXOXVjeTVrWlhCMGFITXBYRzRnSUNBZ0lDQWdJQ0FnSUNBNklHOXdkR2x2Ym5NdVpHVndkR2h6TzF4dUlDQWdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJQ0FnWkdWd2RHaHpJRDBnVzJOdmJuUmxlSFJkTzF4dUlDQWdJQ0FnZlZ4dUlDQWdJSDFjYmx4dUlDQWdJR1oxYm1OMGFXOXVJRzFoYVc0b1kyOXVkR1Y0ZENBdktpd2diM0IwYVc5dWN5b3ZLU0I3WEc0Z0lDQWdJQ0J5WlhSMWNtNGdLRnh1SUNBZ0lDQWdJQ0FuSnlBclhHNGdJQ0FnSUNBZ0lIUmxiWEJzWVhSbFUzQmxZeTV0WVdsdUtGeHVJQ0FnSUNBZ0lDQWdJR052Ym5SaGFXNWxjaXhjYmlBZ0lDQWdJQ0FnSUNCamIyNTBaWGgwTEZ4dUlDQWdJQ0FnSUNBZ0lHTnZiblJoYVc1bGNpNW9aV3h3WlhKekxGeHVJQ0FnSUNBZ0lDQWdJR052Ym5SaGFXNWxjaTV3WVhKMGFXRnNjeXhjYmlBZ0lDQWdJQ0FnSUNCa1lYUmhMRnh1SUNBZ0lDQWdJQ0FnSUdKc2IyTnJVR0Z5WVcxekxGeHVJQ0FnSUNBZ0lDQWdJR1JsY0hSb2MxeHVJQ0FnSUNBZ0lDQXBYRzRnSUNBZ0lDQXBPMXh1SUNBZ0lIMWNibHh1SUNBZ0lHMWhhVzRnUFNCbGVHVmpkWFJsUkdWamIzSmhkRzl5Y3loY2JpQWdJQ0FnSUhSbGJYQnNZWFJsVTNCbFl5NXRZV2x1TEZ4dUlDQWdJQ0FnYldGcGJpeGNiaUFnSUNBZ0lHTnZiblJoYVc1bGNpeGNiaUFnSUNBZ0lHOXdkR2x2Ym5NdVpHVndkR2h6SUh4OElGdGRMRnh1SUNBZ0lDQWdaR0YwWVN4Y2JpQWdJQ0FnSUdKc2IyTnJVR0Z5WVcxelhHNGdJQ0FnS1R0Y2JpQWdJQ0J5WlhSMWNtNGdiV0ZwYmloamIyNTBaWGgwTENCdmNIUnBiMjV6S1R0Y2JpQWdmVnh1WEc0Z0lISmxkQzVwYzFSdmNDQTlJSFJ5ZFdVN1hHNWNiaUFnY21WMExsOXpaWFIxY0NBOUlHWjFibU4wYVc5dUtHOXdkR2x2Ym5NcElIdGNiaUFnSUNCcFppQW9JVzl3ZEdsdmJuTXVjR0Z5ZEdsaGJDa2dlMXh1SUNBZ0lDQWdiR1YwSUcxbGNtZGxaRWhsYkhCbGNuTWdQU0JWZEdsc2N5NWxlSFJsYm1Rb2UzMHNJR1Z1ZGk1b1pXeHdaWEp6TENCdmNIUnBiMjV6TG1obGJIQmxjbk1wTzF4dUlDQWdJQ0FnZDNKaGNFaGxiSEJsY25OVWIxQmhjM05NYjI5cmRYQlFjbTl3WlhKMGVTaHRaWEpuWldSSVpXeHdaWEp6TENCamIyNTBZV2x1WlhJcE8xeHVJQ0FnSUNBZ1kyOXVkR0ZwYm1WeUxtaGxiSEJsY25NZ1BTQnRaWEpuWldSSVpXeHdaWEp6TzF4dVhHNGdJQ0FnSUNCcFppQW9kR1Z0Y0d4aGRHVlRjR1ZqTG5WelpWQmhjblJwWVd3cElIdGNiaUFnSUNBZ0lDQWdMeThnVlhObElHMWxjbWRsU1daT1pXVmtaV1FnYUdWeVpTQjBieUJ3Y21WMlpXNTBJR052YlhCcGJHbHVaeUJuYkc5aVlXd2djR0Z5ZEdsaGJITWdiWFZzZEdsd2JHVWdkR2x0WlhOY2JpQWdJQ0FnSUNBZ1kyOXVkR0ZwYm1WeUxuQmhjblJwWVd4eklEMGdZMjl1ZEdGcGJtVnlMbTFsY21kbFNXWk9aV1ZrWldRb1hHNGdJQ0FnSUNBZ0lDQWdiM0IwYVc5dWN5NXdZWEowYVdGc2N5eGNiaUFnSUNBZ0lDQWdJQ0JsYm5ZdWNHRnlkR2xoYkhOY2JpQWdJQ0FnSUNBZ0tUdGNiaUFnSUNBZ0lIMWNiaUFnSUNBZ0lHbG1JQ2gwWlcxd2JHRjBaVk53WldNdWRYTmxVR0Z5ZEdsaGJDQjhmQ0IwWlcxd2JHRjBaVk53WldNdWRYTmxSR1ZqYjNKaGRHOXljeWtnZTF4dUlDQWdJQ0FnSUNCamIyNTBZV2x1WlhJdVpHVmpiM0poZEc5eWN5QTlJRlYwYVd4ekxtVjRkR1Z1WkNoY2JpQWdJQ0FnSUNBZ0lDQjdmU3hjYmlBZ0lDQWdJQ0FnSUNCbGJuWXVaR1ZqYjNKaGRHOXljeXhjYmlBZ0lDQWdJQ0FnSUNCdmNIUnBiMjV6TG1SbFkyOXlZWFJ2Y25OY2JpQWdJQ0FnSUNBZ0tUdGNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdZMjl1ZEdGcGJtVnlMbWh2YjJ0eklEMGdlMzA3WEc0Z0lDQWdJQ0JqYjI1MFlXbHVaWEl1Y0hKdmRHOUJZMk5sYzNORGIyNTBjbTlzSUQwZ1kzSmxZWFJsVUhKdmRHOUJZMk5sYzNORGIyNTBjbTlzS0c5d2RHbHZibk1wTzF4dVhHNGdJQ0FnSUNCc1pYUWdhMlZsY0VobGJIQmxja2x1U0dWc2NHVnljeUE5WEc0Z0lDQWdJQ0FnSUc5d2RHbHZibk11WVd4c2IzZERZV3hzYzFSdlNHVnNjR1Z5VFdsemMybHVaeUI4ZkZ4dUlDQWdJQ0FnSUNCMFpXMXdiR0YwWlZkaGMxQnlaV052YlhCcGJHVmtWMmwwYUVOdmJYQnBiR1Z5VmpjN1hHNGdJQ0FnSUNCdGIzWmxTR1ZzY0dWeVZHOUliMjlyY3loamIyNTBZV2x1WlhJc0lDZG9aV3h3WlhKTmFYTnphVzVuSnl3Z2EyVmxjRWhsYkhCbGNrbHVTR1ZzY0dWeWN5azdYRzRnSUNBZ0lDQnRiM1psU0dWc2NHVnlWRzlJYjI5cmN5aGpiMjUwWVdsdVpYSXNJQ2RpYkc5amEwaGxiSEJsY2sxcGMzTnBibWNuTENCclpXVndTR1ZzY0dWeVNXNUlaV3h3WlhKektUdGNiaUFnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnWTI5dWRHRnBibVZ5TG5CeWIzUnZRV05qWlhOelEyOXVkSEp2YkNBOUlHOXdkR2x2Ym5NdWNISnZkRzlCWTJObGMzTkRiMjUwY205c095QXZMeUJwYm5SbGNtNWhiQ0J2Y0hScGIyNWNiaUFnSUNBZ0lHTnZiblJoYVc1bGNpNW9aV3h3WlhKeklEMGdiM0IwYVc5dWN5NW9aV3h3WlhKek8xeHVJQ0FnSUNBZ1kyOXVkR0ZwYm1WeUxuQmhjblJwWVd4eklEMGdiM0IwYVc5dWN5NXdZWEowYVdGc2N6dGNiaUFnSUNBZ0lHTnZiblJoYVc1bGNpNWtaV052Y21GMGIzSnpJRDBnYjNCMGFXOXVjeTVrWldOdmNtRjBiM0p6TzF4dUlDQWdJQ0FnWTI5dWRHRnBibVZ5TG1odmIydHpJRDBnYjNCMGFXOXVjeTVvYjI5cmN6dGNiaUFnSUNCOVhHNGdJSDA3WEc1Y2JpQWdjbVYwTGw5amFHbHNaQ0E5SUdaMWJtTjBhVzl1S0drc0lHUmhkR0VzSUdKc2IyTnJVR0Z5WVcxekxDQmtaWEIwYUhNcElIdGNiaUFnSUNCcFppQW9kR1Z0Y0d4aGRHVlRjR1ZqTG5WelpVSnNiMk5yVUdGeVlXMXpJQ1ltSUNGaWJHOWphMUJoY21GdGN5a2dlMXh1SUNBZ0lDQWdkR2h5YjNjZ2JtVjNJRVY0WTJWd2RHbHZiaWduYlhWemRDQndZWE56SUdKc2IyTnJJSEJoY21GdGN5Y3BPMXh1SUNBZ0lIMWNiaUFnSUNCcFppQW9kR1Z0Y0d4aGRHVlRjR1ZqTG5WelpVUmxjSFJvY3lBbUppQWhaR1Z3ZEdoektTQjdYRzRnSUNBZ0lDQjBhSEp2ZHlCdVpYY2dSWGhqWlhCMGFXOXVLQ2R0ZFhOMElIQmhjM01nY0dGeVpXNTBJR1JsY0hSb2N5Y3BPMXh1SUNBZ0lIMWNibHh1SUNBZ0lISmxkSFZ5YmlCM2NtRndVSEp2WjNKaGJTaGNiaUFnSUNBZ0lHTnZiblJoYVc1bGNpeGNiaUFnSUNBZ0lHa3NYRzRnSUNBZ0lDQjBaVzF3YkdGMFpWTndaV05iYVYwc1hHNGdJQ0FnSUNCa1lYUmhMRnh1SUNBZ0lDQWdNQ3hjYmlBZ0lDQWdJR0pzYjJOclVHRnlZVzF6TEZ4dUlDQWdJQ0FnWkdWd2RHaHpYRzRnSUNBZ0tUdGNiaUFnZlR0Y2JpQWdjbVYwZFhKdUlISmxkRHRjYm4xY2JseHVaWGh3YjNKMElHWjFibU4wYVc5dUlIZHlZWEJRY205bmNtRnRLRnh1SUNCamIyNTBZV2x1WlhJc1hHNGdJR2tzWEc0Z0lHWnVMRnh1SUNCa1lYUmhMRnh1SUNCa1pXTnNZWEpsWkVKc2IyTnJVR0Z5WVcxekxGeHVJQ0JpYkc5amExQmhjbUZ0Y3l4Y2JpQWdaR1Z3ZEdoelhHNHBJSHRjYmlBZ1puVnVZM1JwYjI0Z2NISnZaeWhqYjI1MFpYaDBMQ0J2Y0hScGIyNXpJRDBnZTMwcElIdGNiaUFnSUNCc1pYUWdZM1Z5Y21WdWRFUmxjSFJvY3lBOUlHUmxjSFJvY3p0Y2JpQWdJQ0JwWmlBb1hHNGdJQ0FnSUNCa1pYQjBhSE1nSmlaY2JpQWdJQ0FnSUdOdmJuUmxlSFFnSVQwZ1pHVndkR2h6V3pCZElDWW1YRzRnSUNBZ0lDQWhLR052Ym5SbGVIUWdQVDA5SUdOdmJuUmhhVzVsY2k1dWRXeHNRMjl1ZEdWNGRDQW1KaUJrWlhCMGFITmJNRjBnUFQwOUlHNTFiR3dwWEc0Z0lDQWdLU0I3WEc0Z0lDQWdJQ0JqZFhKeVpXNTBSR1Z3ZEdoeklEMGdXMk52Ym5SbGVIUmRMbU52Ym1OaGRDaGtaWEIwYUhNcE8xeHVJQ0FnSUgxY2JseHVJQ0FnSUhKbGRIVnliaUJtYmloY2JpQWdJQ0FnSUdOdmJuUmhhVzVsY2l4Y2JpQWdJQ0FnSUdOdmJuUmxlSFFzWEc0Z0lDQWdJQ0JqYjI1MFlXbHVaWEl1YUdWc2NHVnljeXhjYmlBZ0lDQWdJR052Ym5SaGFXNWxjaTV3WVhKMGFXRnNjeXhjYmlBZ0lDQWdJRzl3ZEdsdmJuTXVaR0YwWVNCOGZDQmtZWFJoTEZ4dUlDQWdJQ0FnWW14dlkydFFZWEpoYlhNZ0ppWWdXMjl3ZEdsdmJuTXVZbXh2WTJ0UVlYSmhiWE5kTG1OdmJtTmhkQ2hpYkc5amExQmhjbUZ0Y3lrc1hHNGdJQ0FnSUNCamRYSnlaVzUwUkdWd2RHaHpYRzRnSUNBZ0tUdGNiaUFnZlZ4dVhHNGdJSEJ5YjJjZ1BTQmxlR1ZqZFhSbFJHVmpiM0poZEc5eWN5aG1iaXdnY0hKdlp5d2dZMjl1ZEdGcGJtVnlMQ0JrWlhCMGFITXNJR1JoZEdFc0lHSnNiMk5yVUdGeVlXMXpLVHRjYmx4dUlDQndjbTluTG5CeWIyZHlZVzBnUFNCcE8xeHVJQ0J3Y205bkxtUmxjSFJvSUQwZ1pHVndkR2h6SUQ4Z1pHVndkR2h6TG14bGJtZDBhQ0E2SURBN1hHNGdJSEJ5YjJjdVlteHZZMnRRWVhKaGJYTWdQU0JrWldOc1lYSmxaRUpzYjJOclVHRnlZVzF6SUh4OElEQTdYRzRnSUhKbGRIVnliaUJ3Y205bk8xeHVmVnh1WEc0dktpcGNiaUFxSUZSb2FYTWdhWE1nWTNWeWNtVnVkR3g1SUhCaGNuUWdiMllnZEdobElHOW1abWxqYVdGc0lFRlFTU3dnZEdobGNtVm1iM0psSUdsdGNHeGxiV1Z1ZEdGMGFXOXVJR1JsZEdGcGJITWdjMmh2ZFd4a0lHNXZkQ0JpWlNCamFHRnVaMlZrTGx4dUlDb3ZYRzVsZUhCdmNuUWdablZ1WTNScGIyNGdjbVZ6YjJ4MlpWQmhjblJwWVd3b2NHRnlkR2xoYkN3Z1kyOXVkR1Y0ZEN3Z2IzQjBhVzl1Y3lrZ2UxeHVJQ0JwWmlBb0lYQmhjblJwWVd3cElIdGNiaUFnSUNCcFppQW9iM0IwYVc5dWN5NXVZVzFsSUQwOVBTQW5RSEJoY25ScFlXd3RZbXh2WTJzbktTQjdYRzRnSUNBZ0lDQndZWEowYVdGc0lEMGdiM0IwYVc5dWN5NWtZWFJoV3lkd1lYSjBhV0ZzTFdKc2IyTnJKMTA3WEc0Z0lDQWdmU0JsYkhObElIdGNiaUFnSUNBZ0lIQmhjblJwWVd3Z1BTQnZjSFJwYjI1ekxuQmhjblJwWVd4elcyOXdkR2x2Ym5NdWJtRnRaVjA3WEc0Z0lDQWdmVnh1SUNCOUlHVnNjMlVnYVdZZ0tDRndZWEowYVdGc0xtTmhiR3dnSmlZZ0lXOXdkR2x2Ym5NdWJtRnRaU2tnZTF4dUlDQWdJQzh2SUZSb2FYTWdhWE1nWVNCa2VXNWhiV2xqSUhCaGNuUnBZV3dnZEdoaGRDQnlaWFIxY201bFpDQmhJSE4wY21sdVoxeHVJQ0FnSUc5d2RHbHZibk11Ym1GdFpTQTlJSEJoY25ScFlXdzdYRzRnSUNBZ2NHRnlkR2xoYkNBOUlHOXdkR2x2Ym5NdWNHRnlkR2xoYkhOYmNHRnlkR2xoYkYwN1hHNGdJSDFjYmlBZ2NtVjBkWEp1SUhCaGNuUnBZV3c3WEc1OVhHNWNibVY0Y0c5eWRDQm1kVzVqZEdsdmJpQnBiblp2YTJWUVlYSjBhV0ZzS0hCaGNuUnBZV3dzSUdOdmJuUmxlSFFzSUc5d2RHbHZibk1wSUh0Y2JpQWdMeThnVlhObElIUm9aU0JqZFhKeVpXNTBJR05zYjNOMWNtVWdZMjl1ZEdWNGRDQjBieUJ6WVhabElIUm9aU0J3WVhKMGFXRnNMV0pzYjJOcklHbG1JSFJvYVhNZ2NHRnlkR2xoYkZ4dUlDQmpiMjV6ZENCamRYSnlaVzUwVUdGeWRHbGhiRUpzYjJOcklEMGdiM0IwYVc5dWN5NWtZWFJoSUNZbUlHOXdkR2x2Ym5NdVpHRjBZVnNuY0dGeWRHbGhiQzFpYkc5amF5ZGRPMXh1SUNCdmNIUnBiMjV6TG5CaGNuUnBZV3dnUFNCMGNuVmxPMXh1SUNCcFppQW9iM0IwYVc5dWN5NXBaSE1wSUh0Y2JpQWdJQ0J2Y0hScGIyNXpMbVJoZEdFdVkyOXVkR1Y0ZEZCaGRHZ2dQU0J2Y0hScGIyNXpMbWxrYzFzd1hTQjhmQ0J2Y0hScGIyNXpMbVJoZEdFdVkyOXVkR1Y0ZEZCaGRHZzdYRzRnSUgxY2JseHVJQ0JzWlhRZ2NHRnlkR2xoYkVKc2IyTnJPMXh1SUNCcFppQW9iM0IwYVc5dWN5NW1iaUFtSmlCdmNIUnBiMjV6TG1adUlDRTlQU0J1YjI5d0tTQjdYRzRnSUNBZ2IzQjBhVzl1Y3k1a1lYUmhJRDBnWTNKbFlYUmxSbkpoYldVb2IzQjBhVzl1Y3k1a1lYUmhLVHRjYmlBZ0lDQXZMeUJYY21Gd2NHVnlJR1oxYm1OMGFXOXVJSFJ2SUdkbGRDQmhZMk5sYzNNZ2RHOGdZM1Z5Y21WdWRGQmhjblJwWVd4Q2JHOWpheUJtY205dElIUm9aU0JqYkc5emRYSmxYRzRnSUNBZ2JHVjBJR1p1SUQwZ2IzQjBhVzl1Y3k1bWJqdGNiaUFnSUNCd1lYSjBhV0ZzUW14dlkyc2dQU0J2Y0hScGIyNXpMbVJoZEdGYkozQmhjblJwWVd3dFlteHZZMnNuWFNBOUlHWjFibU4wYVc5dUlIQmhjblJwWVd4Q2JHOWphMWR5WVhCd1pYSW9YRzRnSUNBZ0lDQmpiMjUwWlhoMExGeHVJQ0FnSUNBZ2IzQjBhVzl1Y3lBOUlIdDlYRzRnSUNBZ0tTQjdYRzRnSUNBZ0lDQXZMeUJTWlhOMGIzSmxJSFJvWlNCd1lYSjBhV0ZzTFdKc2IyTnJJR1p5YjIwZ2RHaGxJR05zYjNOMWNtVWdabTl5SUhSb1pTQmxlR1ZqZFhScGIyNGdiMllnZEdobElHSnNiMk5yWEc0Z0lDQWdJQ0F2THlCcExtVXVJSFJvWlNCd1lYSjBJR2x1YzJsa1pTQjBhR1VnWW14dlkyc2diMllnZEdobElIQmhjblJwWVd3Z1kyRnNiQzVjYmlBZ0lDQWdJRzl3ZEdsdmJuTXVaR0YwWVNBOUlHTnlaV0YwWlVaeVlXMWxLRzl3ZEdsdmJuTXVaR0YwWVNrN1hHNGdJQ0FnSUNCdmNIUnBiMjV6TG1SaGRHRmJKM0JoY25ScFlXd3RZbXh2WTJzblhTQTlJR04xY25KbGJuUlFZWEowYVdGc1FteHZZMnM3WEc0Z0lDQWdJQ0J5WlhSMWNtNGdabTRvWTI5dWRHVjRkQ3dnYjNCMGFXOXVjeWs3WEc0Z0lDQWdmVHRjYmlBZ0lDQnBaaUFvWm00dWNHRnlkR2xoYkhNcElIdGNiaUFnSUNBZ0lHOXdkR2x2Ym5NdWNHRnlkR2xoYkhNZ1BTQlZkR2xzY3k1bGVIUmxibVFvZTMwc0lHOXdkR2x2Ym5NdWNHRnlkR2xoYkhNc0lHWnVMbkJoY25ScFlXeHpLVHRjYmlBZ0lDQjlYRzRnSUgxY2JseHVJQ0JwWmlBb2NHRnlkR2xoYkNBOVBUMGdkVzVrWldacGJtVmtJQ1ltSUhCaGNuUnBZV3hDYkc5amF5a2dlMXh1SUNBZ0lIQmhjblJwWVd3Z1BTQndZWEowYVdGc1FteHZZMnM3WEc0Z0lIMWNibHh1SUNCcFppQW9jR0Z5ZEdsaGJDQTlQVDBnZFc1a1pXWnBibVZrS1NCN1hHNGdJQ0FnZEdoeWIzY2dibVYzSUVWNFkyVndkR2x2YmlnblZHaGxJSEJoY25ScFlXd2dKeUFySUc5d2RHbHZibk11Ym1GdFpTQXJJQ2NnWTI5MWJHUWdibTkwSUdKbElHWnZkVzVrSnlrN1hHNGdJSDBnWld4elpTQnBaaUFvY0dGeWRHbGhiQ0JwYm5OMFlXNWpaVzltSUVaMWJtTjBhVzl1S1NCN1hHNGdJQ0FnY21WMGRYSnVJSEJoY25ScFlXd29ZMjl1ZEdWNGRDd2diM0IwYVc5dWN5azdYRzRnSUgxY2JuMWNibHh1Wlhod2IzSjBJR1oxYm1OMGFXOXVJRzV2YjNBb0tTQjdYRzRnSUhKbGRIVnliaUFuSnp0Y2JuMWNibHh1Wm5WdVkzUnBiMjRnYVc1cGRFUmhkR0VvWTI5dWRHVjRkQ3dnWkdGMFlTa2dlMXh1SUNCcFppQW9JV1JoZEdFZ2ZId2dJU2duY205dmRDY2dhVzRnWkdGMFlTa3BJSHRjYmlBZ0lDQmtZWFJoSUQwZ1pHRjBZU0EvSUdOeVpXRjBaVVp5WVcxbEtHUmhkR0VwSURvZ2UzMDdYRzRnSUNBZ1pHRjBZUzV5YjI5MElEMGdZMjl1ZEdWNGREdGNiaUFnZlZ4dUlDQnlaWFIxY200Z1pHRjBZVHRjYm4xY2JseHVablZ1WTNScGIyNGdaWGhsWTNWMFpVUmxZMjl5WVhSdmNuTW9abTRzSUhCeWIyY3NJR052Ym5SaGFXNWxjaXdnWkdWd2RHaHpMQ0JrWVhSaExDQmliRzlqYTFCaGNtRnRjeWtnZTF4dUlDQnBaaUFvWm00dVpHVmpiM0poZEc5eUtTQjdYRzRnSUNBZ2JHVjBJSEJ5YjNCeklEMGdlMzA3WEc0Z0lDQWdjSEp2WnlBOUlHWnVMbVJsWTI5eVlYUnZjaWhjYmlBZ0lDQWdJSEJ5YjJjc1hHNGdJQ0FnSUNCd2NtOXdjeXhjYmlBZ0lDQWdJR052Ym5SaGFXNWxjaXhjYmlBZ0lDQWdJR1JsY0hSb2N5QW1KaUJrWlhCMGFITmJNRjBzWEc0Z0lDQWdJQ0JrWVhSaExGeHVJQ0FnSUNBZ1lteHZZMnRRWVhKaGJYTXNYRzRnSUNBZ0lDQmtaWEIwYUhOY2JpQWdJQ0FwTzF4dUlDQWdJRlYwYVd4ekxtVjRkR1Z1WkNod2NtOW5MQ0J3Y205d2N5azdYRzRnSUgxY2JpQWdjbVYwZFhKdUlIQnliMmM3WEc1OVhHNWNibVoxYm1OMGFXOXVJSGR5WVhCSVpXeHdaWEp6Vkc5UVlYTnpURzl2YTNWd1VISnZjR1Z5ZEhrb2JXVnlaMlZrU0dWc2NHVnljeXdnWTI5dWRHRnBibVZ5S1NCN1hHNGdJRTlpYW1WamRDNXJaWGx6S0cxbGNtZGxaRWhsYkhCbGNuTXBMbVp2Y2tWaFkyZ29hR1ZzY0dWeVRtRnRaU0E5UGlCN1hHNGdJQ0FnYkdWMElHaGxiSEJsY2lBOUlHMWxjbWRsWkVobGJIQmxjbk5iYUdWc2NHVnlUbUZ0WlYwN1hHNGdJQ0FnYldWeVoyVmtTR1ZzY0dWeWMxdG9aV3h3WlhKT1lXMWxYU0E5SUhCaGMzTk1iMjlyZFhCUWNtOXdaWEowZVU5d2RHbHZiaWhvWld4d1pYSXNJR052Ym5SaGFXNWxjaWs3WEc0Z0lIMHBPMXh1ZlZ4dVhHNW1kVzVqZEdsdmJpQndZWE56VEc5dmEzVndVSEp2Y0dWeWRIbFBjSFJwYjI0b2FHVnNjR1Z5TENCamIyNTBZV2x1WlhJcElIdGNiaUFnWTI5dWMzUWdiRzl2YTNWd1VISnZjR1Z5ZEhrZ1BTQmpiMjUwWVdsdVpYSXViRzl2YTNWd1VISnZjR1Z5ZEhrN1hHNGdJSEpsZEhWeWJpQjNjbUZ3U0dWc2NHVnlLR2hsYkhCbGNpd2diM0IwYVc5dWN5QTlQaUI3WEc0Z0lDQWdjbVYwZFhKdUlGVjBhV3h6TG1WNGRHVnVaQ2g3SUd4dmIydDFjRkJ5YjNCbGNuUjVJSDBzSUc5d2RHbHZibk1wTzF4dUlDQjlLVHRjYm4xY2JpSmRmUT09XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvc2FmZS1zdHJpbmcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gQnVpbGQgb3V0IG91ciBiYXNpYyBTYWZlU3RyaW5nIHR5cGVcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcbiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG59XG5cblNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gJycgKyB0aGlzLnN0cmluZztcbn07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNhZmVTdHJpbmc7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDNOaFptVXRjM1J5YVc1bkxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3UVVGRFFTeFRRVUZUTEZWQlFWVXNRMEZCUXl4TlFVRk5MRVZCUVVVN1FVRkRNVUlzVFVGQlNTeERRVUZETEUxQlFVMHNSMEZCUnl4TlFVRk5MRU5CUVVNN1EwRkRkRUk3TzBGQlJVUXNWVUZCVlN4RFFVRkRMRk5CUVZNc1EwRkJReXhSUVVGUkxFZEJRVWNzVlVGQlZTeERRVUZETEZOQlFWTXNRMEZCUXl4TlFVRk5MRWRCUVVjc1dVRkJWenRCUVVOMlJTeFRRVUZQTEVWQlFVVXNSMEZCUnl4SlFVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRE8wTkJRM3BDTEVOQlFVTTdPM0ZDUVVWaExGVkJRVlVpTENKbWFXeGxJam9pYzJGbVpTMXpkSEpwYm1jdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUl2THlCQ2RXbHNaQ0J2ZFhRZ2IzVnlJR0poYzJsaklGTmhabVZUZEhKcGJtY2dkSGx3WlZ4dVpuVnVZM1JwYjI0Z1UyRm1aVk4wY21sdVp5aHpkSEpwYm1jcElIdGNiaUFnZEdocGN5NXpkSEpwYm1jZ1BTQnpkSEpwYm1jN1hHNTlYRzVjYmxOaFptVlRkSEpwYm1jdWNISnZkRzkwZVhCbExuUnZVM1J5YVc1bklEMGdVMkZtWlZOMGNtbHVaeTV3Y205MGIzUjVjR1V1ZEc5SVZFMU1JRDBnWm5WdVkzUnBiMjRvS1NCN1hHNGdJSEpsZEhWeWJpQW5KeUFySUhSb2FYTXVjM1J5YVc1bk8xeHVmVHRjYmx4dVpYaHdiM0owSUdSbFptRjFiSFFnVTJGbVpWTjBjbWx1Wnp0Y2JpSmRmUT09XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL3V0aWxzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvdXRpbHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmV4dGVuZCA9IGV4dGVuZDtcbmV4cG9ydHMuaW5kZXhPZiA9IGluZGV4T2Y7XG5leHBvcnRzLmVzY2FwZUV4cHJlc3Npb24gPSBlc2NhcGVFeHByZXNzaW9uO1xuZXhwb3J0cy5pc0VtcHR5ID0gaXNFbXB0eTtcbmV4cG9ydHMuY3JlYXRlRnJhbWUgPSBjcmVhdGVGcmFtZTtcbmV4cG9ydHMuYmxvY2tQYXJhbXMgPSBibG9ja1BhcmFtcztcbmV4cG9ydHMuYXBwZW5kQ29udGV4dFBhdGggPSBhcHBlbmRDb250ZXh0UGF0aDtcbnZhciBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG52YXIgYmFkQ2hhcnMgPSAvWyY8PlwiJ2A9XS9nLFxuICAgIHBvc3NpYmxlID0gL1smPD5cIidgPV0vO1xuXG5mdW5jdGlvbiBlc2NhcGVDaGFyKGNocikge1xuICByZXR1cm4gZXNjYXBlW2Nocl07XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChvYmogLyogLCAuLi5zb3VyY2UgKi8pIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzW2ldKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFyZ3VtZW50c1tpXSwga2V5KSkge1xuICAgICAgICBvYmpba2V5XSA9IGFyZ3VtZW50c1tpXVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbmV4cG9ydHMudG9TdHJpbmcgPSB0b1N0cmluZztcbi8vIFNvdXJjZWQgZnJvbSBsb2Rhc2hcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZXN0aWVqcy9sb2Rhc2gvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHRcbi8qIGVzbGludC1kaXNhYmxlIGZ1bmMtc3R5bGUgKi9cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG4gIH07XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG4vKiBlc2xpbnQtZW5hYmxlIGZ1bmMtc3R5bGUgKi9cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgPyB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJyA6IGZhbHNlO1xufTtcblxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcbi8vIE9sZGVyIElFIHZlcnNpb25zIGRvIG5vdCBkaXJlY3RseSBzdXBwb3J0IGluZGV4T2Ygc28gd2UgbXVzdCBpbXBsZW1lbnQgb3VyIG93biwgc2FkbHkuXG5cbmZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChhcnJheVtpXSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUV4cHJlc3Npb24oc3RyaW5nKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIC8vIGRvbid0IGVzY2FwZSBTYWZlU3RyaW5ncywgc2luY2UgdGhleSdyZSBhbHJlYWR5IHNhZmVcbiAgICBpZiAoc3RyaW5nICYmIHN0cmluZy50b0hUTUwpIHtcbiAgICAgIHJldHVybiBzdHJpbmcudG9IVE1MKCk7XG4gICAgfSBlbHNlIGlmIChzdHJpbmcgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gZWxzZSBpZiAoIXN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZyArICcnO1xuICAgIH1cblxuICAgIC8vIEZvcmNlIGEgc3RyaW5nIGNvbnZlcnNpb24gYXMgdGhpcyB3aWxsIGJlIGRvbmUgYnkgdGhlIGFwcGVuZCByZWdhcmRsZXNzIGFuZFxuICAgIC8vIHRoZSByZWdleCB0ZXN0IHdpbGwgZG8gdGhpcyB0cmFuc3BhcmVudGx5IGJlaGluZCB0aGUgc2NlbmVzLCBjYXVzaW5nIGlzc3VlcyBpZlxuICAgIC8vIGFuIG9iamVjdCdzIHRvIHN0cmluZyBoYXMgZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGl0LlxuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nO1xuICB9XG5cbiAgaWYgKCFwb3NzaWJsZS50ZXN0KHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7XG59XG5cbmZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVGcmFtZShvYmplY3QpIHtcbiAgdmFyIGZyYW1lID0gZXh0ZW5kKHt9LCBvYmplY3QpO1xuICBmcmFtZS5fcGFyZW50ID0gb2JqZWN0O1xuICByZXR1cm4gZnJhbWU7XG59XG5cbmZ1bmN0aW9uIGJsb2NrUGFyYW1zKHBhcmFtcywgaWRzKSB7XG4gIHBhcmFtcy5wYXRoID0gaWRzO1xuICByZXR1cm4gcGFyYW1zO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRDb250ZXh0UGF0aChjb250ZXh0UGF0aCwgaWQpIHtcbiAgcmV0dXJuIChjb250ZXh0UGF0aCA/IGNvbnRleHRQYXRoICsgJy4nIDogJycpICsgaWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwzVjBhV3h6TG1weklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN096czdPenM3T3pzN1FVRkJRU3hKUVVGTkxFMUJRVTBzUjBGQlJ6dEJRVU5pTEV0QlFVY3NSVUZCUlN4UFFVRlBPMEZCUTFvc1MwRkJSeXhGUVVGRkxFMUJRVTA3UVVGRFdDeExRVUZITEVWQlFVVXNUVUZCVFR0QlFVTllMRXRCUVVjc1JVRkJSU3hSUVVGUk8wRkJRMklzUzBGQlJ5eEZRVUZGTEZGQlFWRTdRVUZEWWl4TFFVRkhMRVZCUVVVc1VVRkJVVHRCUVVOaUxFdEJRVWNzUlVGQlJTeFJRVUZSTzBOQlEyUXNRMEZCUXpzN1FVRkZSaXhKUVVGTkxGRkJRVkVzUjBGQlJ5eFpRVUZaTzBsQlF6TkNMRkZCUVZFc1IwRkJSeXhYUVVGWExFTkJRVU03TzBGQlJYcENMRk5CUVZNc1ZVRkJWU3hEUVVGRExFZEJRVWNzUlVGQlJUdEJRVU4yUWl4VFFVRlBMRTFCUVUwc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF6dERRVU53UWpzN1FVRkZUU3hUUVVGVExFMUJRVTBzUTBGQlF5eEhRVUZITEc5Q1FVRnZRanRCUVVNMVF5eFBRVUZMTEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1JVRkJSU3hEUVVGRExFZEJRVWNzVTBGQlV5eERRVUZETEUxQlFVMHNSVUZCUlN4RFFVRkRMRVZCUVVVc1JVRkJSVHRCUVVONlF5eFRRVUZMTEVsQlFVa3NSMEZCUnl4SlFVRkpMRk5CUVZNc1EwRkJReXhEUVVGRExFTkJRVU1zUlVGQlJUdEJRVU0xUWl4VlFVRkpMRTFCUVUwc1EwRkJReXhUUVVGVExFTkJRVU1zWTBGQll5eERRVUZETEVsQlFVa3NRMEZCUXl4VFFVRlRMRU5CUVVNc1EwRkJReXhEUVVGRExFVkJRVVVzUjBGQlJ5eERRVUZETEVWQlFVVTdRVUZETTBRc1YwRkJSeXhEUVVGRExFZEJRVWNzUTBGQlF5eEhRVUZITEZOQlFWTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF6dFBRVU01UWp0TFFVTkdPMGRCUTBZN08wRkJSVVFzVTBGQlR5eEhRVUZITEVOQlFVTTdRMEZEV2pzN1FVRkZUU3hKUVVGSkxGRkJRVkVzUjBGQlJ5eE5RVUZOTEVOQlFVTXNVMEZCVXl4RFFVRkRMRkZCUVZFc1EwRkJRenM3T3pzN08wRkJTMmhFTEVsQlFVa3NWVUZCVlN4SFFVRkhMRzlDUVVGVExFdEJRVXNzUlVGQlJUdEJRVU12UWl4VFFVRlBMRTlCUVU4c1MwRkJTeXhMUVVGTExGVkJRVlVzUTBGQlF6dERRVU53UXl4RFFVRkRPenM3UVVGSFJpeEpRVUZKTEZWQlFWVXNRMEZCUXl4SFFVRkhMRU5CUVVNc1JVRkJSVHRCUVVOdVFpeFZRVTlQTEZWQlFWVXNSMEZRYWtJc1ZVRkJWU3hIUVVGSExGVkJRVk1zUzBGQlN5eEZRVUZGTzBGQlF6TkNMRmRCUTBVc1QwRkJUeXhMUVVGTExFdEJRVXNzVlVGQlZTeEpRVU16UWl4UlFVRlJMRU5CUVVNc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eExRVUZMTEcxQ1FVRnRRaXhEUVVNMVF6dEhRVU5JTEVOQlFVTTdRMEZEU0R0UlFVTlJMRlZCUVZVc1IwRkJWaXhWUVVGVk96czdPenRCUVVsYUxFbEJRVTBzVDBGQlR5eEhRVU5zUWl4TFFVRkxMRU5CUVVNc1QwRkJUeXhKUVVOaUxGVkJRVk1zUzBGQlN5eEZRVUZGTzBGQlEyUXNVMEZCVHl4TFFVRkxMRWxCUVVrc1QwRkJUeXhMUVVGTExFdEJRVXNzVVVGQlVTeEhRVU55UXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eExRVUZMTEdkQ1FVRm5RaXhIUVVONlF5eExRVUZMTEVOQlFVTTdRMEZEV0N4RFFVRkRPenM3T3p0QlFVZEhMRk5CUVZNc1QwRkJUeXhEUVVGRExFdEJRVXNzUlVGQlJTeExRVUZMTEVWQlFVVTdRVUZEY0VNc1QwRkJTeXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEVWQlFVVXNSMEZCUnl4SFFVRkhMRXRCUVVzc1EwRkJReXhOUVVGTkxFVkJRVVVzUTBGQlF5eEhRVUZITEVkQlFVY3NSVUZCUlN4RFFVRkRMRVZCUVVVc1JVRkJSVHRCUVVOb1JDeFJRVUZKTEV0QlFVc3NRMEZCUXl4RFFVRkRMRU5CUVVNc1MwRkJTeXhMUVVGTExFVkJRVVU3UVVGRGRFSXNZVUZCVHl4RFFVRkRMRU5CUVVNN1MwRkRWanRIUVVOR08wRkJRMFFzVTBGQlR5eERRVUZETEVOQlFVTXNRMEZCUXp0RFFVTllPenRCUVVWTkxGTkJRVk1zWjBKQlFXZENMRU5CUVVNc1RVRkJUU3hGUVVGRk8wRkJRM1pETEUxQlFVa3NUMEZCVHl4TlFVRk5MRXRCUVVzc1VVRkJVU3hGUVVGRk96dEJRVVU1UWl4UlFVRkpMRTFCUVUwc1NVRkJTU3hOUVVGTkxFTkJRVU1zVFVGQlRTeEZRVUZGTzBGQlF6TkNMR0ZCUVU4c1RVRkJUU3hEUVVGRExFMUJRVTBzUlVGQlJTeERRVUZETzB0QlEzaENMRTFCUVUwc1NVRkJTU3hOUVVGTkxFbEJRVWtzU1VGQlNTeEZRVUZGTzBGQlEzcENMR0ZCUVU4c1JVRkJSU3hEUVVGRE8wdEJRMWdzVFVGQlRTeEpRVUZKTEVOQlFVTXNUVUZCVFN4RlFVRkZPMEZCUTJ4Q0xHRkJRVThzVFVGQlRTeEhRVUZITEVWQlFVVXNRMEZCUXp0TFFVTndRanM3T3pzN1FVRkxSQ3hWUVVGTkxFZEJRVWNzUlVGQlJTeEhRVUZITEUxQlFVMHNRMEZCUXp0SFFVTjBRanM3UVVGRlJDeE5RVUZKTEVOQlFVTXNVVUZCVVN4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zUlVGQlJUdEJRVU14UWl4WFFVRlBMRTFCUVUwc1EwRkJRenRIUVVObU8wRkJRMFFzVTBGQlR5eE5RVUZOTEVOQlFVTXNUMEZCVHl4RFFVRkRMRkZCUVZFc1JVRkJSU3hWUVVGVkxFTkJRVU1zUTBGQlF6dERRVU0zUXpzN1FVRkZUU3hUUVVGVExFOUJRVThzUTBGQlF5eExRVUZMTEVWQlFVVTdRVUZETjBJc1RVRkJTU3hEUVVGRExFdEJRVXNzU1VGQlNTeExRVUZMTEV0QlFVc3NRMEZCUXl4RlFVRkZPMEZCUTNwQ0xGZEJRVThzU1VGQlNTeERRVUZETzBkQlEySXNUVUZCVFN4SlFVRkpMRTlCUVU4c1EwRkJReXhMUVVGTExFTkJRVU1zU1VGQlNTeExRVUZMTEVOQlFVTXNUVUZCVFN4TFFVRkxMRU5CUVVNc1JVRkJSVHRCUVVNdlF5eFhRVUZQTEVsQlFVa3NRMEZCUXp0SFFVTmlMRTFCUVUwN1FVRkRUQ3hYUVVGUExFdEJRVXNzUTBGQlF6dEhRVU5rTzBOQlEwWTdPMEZCUlUwc1UwRkJVeXhYUVVGWExFTkJRVU1zVFVGQlRTeEZRVUZGTzBGQlEyeERMRTFCUVVrc1MwRkJTeXhIUVVGSExFMUJRVTBzUTBGQlF5eEZRVUZGTEVWQlFVVXNUVUZCVFN4RFFVRkRMRU5CUVVNN1FVRkRMMElzVDBGQlN5eERRVUZETEU5QlFVOHNSMEZCUnl4TlFVRk5MRU5CUVVNN1FVRkRka0lzVTBGQlR5eExRVUZMTEVOQlFVTTdRMEZEWkRzN1FVRkZUU3hUUVVGVExGZEJRVmNzUTBGQlF5eE5RVUZOTEVWQlFVVXNSMEZCUnl4RlFVRkZPMEZCUTNaRExGRkJRVTBzUTBGQlF5eEpRVUZKTEVkQlFVY3NSMEZCUnl4RFFVRkRPMEZCUTJ4Q0xGTkJRVThzVFVGQlRTeERRVUZETzBOQlEyWTdPMEZCUlUwc1UwRkJVeXhwUWtGQmFVSXNRMEZCUXl4WFFVRlhMRVZCUVVVc1JVRkJSU3hGUVVGRk8wRkJRMnBFTEZOQlFVOHNRMEZCUXl4WFFVRlhMRWRCUVVjc1YwRkJWeXhIUVVGSExFZEJRVWNzUjBGQlJ5eEZRVUZGTEVOQlFVRXNSMEZCU1N4RlFVRkZMRU5CUVVNN1EwRkRjRVFpTENKbWFXeGxJam9pZFhScGJITXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKamIyNXpkQ0JsYzJOaGNHVWdQU0I3WEc0Z0lDY21Kem9nSnlaaGJYQTdKeXhjYmlBZ0p6d25PaUFuSm14ME95Y3NYRzRnSUNjK0p6b2dKeVpuZERzbkxGeHVJQ0FuWENJbk9pQW5KbkYxYjNRN0p5eGNiaUFnWENJblhDSTZJQ2NtSTNneU56c25MRnh1SUNBbllDYzZJQ2NtSTNnMk1Ec25MRnh1SUNBblBTYzZJQ2NtSTNnelJEc25YRzU5TzF4dVhHNWpiMjV6ZENCaVlXUkRhR0Z5Y3lBOUlDOWJKancrWENJbllEMWRMMmNzWEc0Z0lIQnZjM05wWW14bElEMGdMMXNtUEQ1Y0lpZGdQVjB2TzF4dVhHNW1kVzVqZEdsdmJpQmxjMk5oY0dWRGFHRnlLR05vY2lrZ2UxeHVJQ0J5WlhSMWNtNGdaWE5qWVhCbFcyTm9jbDA3WEc1OVhHNWNibVY0Y0c5eWRDQm1kVzVqZEdsdmJpQmxlSFJsYm1Rb2IySnFJQzhxSUN3Z0xpNHVjMjkxY21ObElDb3ZLU0I3WEc0Z0lHWnZjaUFvYkdWMElHa2dQU0F4T3lCcElEd2dZWEpuZFcxbGJuUnpMbXhsYm1kMGFEc2dhU3NyS1NCN1hHNGdJQ0FnWm05eUlDaHNaWFFnYTJWNUlHbHVJR0Z5WjNWdFpXNTBjMXRwWFNrZ2UxeHVJQ0FnSUNBZ2FXWWdLRTlpYW1WamRDNXdjbTkwYjNSNWNHVXVhR0Z6VDNkdVVISnZjR1Z5ZEhrdVkyRnNiQ2hoY21kMWJXVnVkSE5iYVYwc0lHdGxlU2twSUh0Y2JpQWdJQ0FnSUNBZ2IySnFXMnRsZVYwZ1BTQmhjbWQxYldWdWRITmJhVjFiYTJWNVhUdGNiaUFnSUNBZ0lIMWNiaUFnSUNCOVhHNGdJSDFjYmx4dUlDQnlaWFIxY200Z2IySnFPMXh1ZlZ4dVhHNWxlSEJ2Y25RZ2JHVjBJSFJ2VTNSeWFXNW5JRDBnVDJKcVpXTjBMbkJ5YjNSdmRIbHdaUzUwYjFOMGNtbHVaenRjYmx4dUx5OGdVMjkxY21ObFpDQm1jbTl0SUd4dlpHRnphRnh1THk4Z2FIUjBjSE02THk5bmFYUm9kV0l1WTI5dEwySmxjM1JwWldwekwyeHZaR0Z6YUM5aWJHOWlMMjFoYzNSbGNpOU1TVU5GVGxORkxuUjRkRnh1THlvZ1pYTnNhVzUwTFdScGMyRmliR1VnWm5WdVl5MXpkSGxzWlNBcUwxeHViR1YwSUdselJuVnVZM1JwYjI0Z1BTQm1kVzVqZEdsdmJpaDJZV3gxWlNrZ2UxeHVJQ0J5WlhSMWNtNGdkSGx3Wlc5bUlIWmhiSFZsSUQwOVBTQW5ablZ1WTNScGIyNG5PMXh1ZlR0Y2JpOHZJR1poYkd4aVlXTnJJR1p2Y2lCdmJHUmxjaUIyWlhKemFXOXVjeUJ2WmlCRGFISnZiV1VnWVc1a0lGTmhabUZ5YVZ4dUx5b2dhWE4wWVc1aWRXd2dhV2R1YjNKbElHNWxlSFFnS2k5Y2JtbG1JQ2hwYzBaMWJtTjBhVzl1S0M5NEx5a3BJSHRjYmlBZ2FYTkdkVzVqZEdsdmJpQTlJR1oxYm1OMGFXOXVLSFpoYkhWbEtTQjdYRzRnSUNBZ2NtVjBkWEp1SUNoY2JpQWdJQ0FnSUhSNWNHVnZaaUIyWVd4MVpTQTlQVDBnSjJaMWJtTjBhVzl1SnlBbUpseHVJQ0FnSUNBZ2RHOVRkSEpwYm1jdVkyRnNiQ2gyWVd4MVpTa2dQVDA5SUNkYmIySnFaV04wSUVaMWJtTjBhVzl1WFNkY2JpQWdJQ0FwTzF4dUlDQjlPMXh1ZlZ4dVpYaHdiM0owSUhzZ2FYTkdkVzVqZEdsdmJpQjlPMXh1THlvZ1pYTnNhVzUwTFdWdVlXSnNaU0JtZFc1akxYTjBlV3hsSUNvdlhHNWNiaThxSUdsemRHRnVZblZzSUdsbmJtOXlaU0J1WlhoMElDb3ZYRzVsZUhCdmNuUWdZMjl1YzNRZ2FYTkJjbkpoZVNBOVhHNGdJRUZ5Y21GNUxtbHpRWEp5WVhrZ2ZIeGNiaUFnWm5WdVkzUnBiMjRvZG1Gc2RXVXBJSHRjYmlBZ0lDQnlaWFIxY200Z2RtRnNkV1VnSmlZZ2RIbHdaVzltSUhaaGJIVmxJRDA5UFNBbmIySnFaV04wSjF4dUlDQWdJQ0FnUHlCMGIxTjBjbWx1Wnk1allXeHNLSFpoYkhWbEtTQTlQVDBnSjF0dlltcGxZM1FnUVhKeVlYbGRKMXh1SUNBZ0lDQWdPaUJtWVd4elpUdGNiaUFnZlR0Y2JseHVMeThnVDJ4a1pYSWdTVVVnZG1WeWMybHZibk1nWkc4Z2JtOTBJR1JwY21WamRHeDVJSE4xY0hCdmNuUWdhVzVrWlhoUFppQnpieUIzWlNCdGRYTjBJR2x0Y0d4bGJXVnVkQ0J2ZFhJZ2IzZHVMQ0J6WVdSc2VTNWNibVY0Y0c5eWRDQm1kVzVqZEdsdmJpQnBibVJsZUU5bUtHRnljbUY1TENCMllXeDFaU2tnZTF4dUlDQm1iM0lnS0d4bGRDQnBJRDBnTUN3Z2JHVnVJRDBnWVhKeVlYa3ViR1Z1WjNSb095QnBJRHdnYkdWdU95QnBLeXNwSUh0Y2JpQWdJQ0JwWmlBb1lYSnlZWGxiYVYwZ1BUMDlJSFpoYkhWbEtTQjdYRzRnSUNBZ0lDQnlaWFIxY200Z2FUdGNiaUFnSUNCOVhHNGdJSDFjYmlBZ2NtVjBkWEp1SUMweE8xeHVmVnh1WEc1bGVIQnZjblFnWm5WdVkzUnBiMjRnWlhOallYQmxSWGh3Y21WemMybHZiaWh6ZEhKcGJtY3BJSHRjYmlBZ2FXWWdLSFI1Y0dWdlppQnpkSEpwYm1jZ0lUMDlJQ2R6ZEhKcGJtY25LU0I3WEc0Z0lDQWdMeThnWkc5dUozUWdaWE5qWVhCbElGTmhabVZUZEhKcGJtZHpMQ0J6YVc1alpTQjBhR1Y1SjNKbElHRnNjbVZoWkhrZ2MyRm1aVnh1SUNBZ0lHbG1JQ2h6ZEhKcGJtY2dKaVlnYzNSeWFXNW5MblJ2U0ZSTlRDa2dlMXh1SUNBZ0lDQWdjbVYwZFhKdUlITjBjbWx1Wnk1MGIwaFVUVXdvS1R0Y2JpQWdJQ0I5SUdWc2MyVWdhV1lnS0hOMGNtbHVaeUE5UFNCdWRXeHNLU0I3WEc0Z0lDQWdJQ0J5WlhSMWNtNGdKeWM3WEc0Z0lDQWdmU0JsYkhObElHbG1JQ2doYzNSeWFXNW5LU0I3WEc0Z0lDQWdJQ0J5WlhSMWNtNGdjM1J5YVc1bklDc2dKeWM3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdMeThnUm05eVkyVWdZU0J6ZEhKcGJtY2dZMjl1ZG1WeWMybHZiaUJoY3lCMGFHbHpJSGRwYkd3Z1ltVWdaRzl1WlNCaWVTQjBhR1VnWVhCd1pXNWtJSEpsWjJGeVpHeGxjM01nWVc1a1hHNGdJQ0FnTHk4Z2RHaGxJSEpsWjJWNElIUmxjM1FnZDJsc2JDQmtieUIwYUdseklIUnlZVzV6Y0dGeVpXNTBiSGtnWW1Wb2FXNWtJSFJvWlNCelkyVnVaWE1zSUdOaGRYTnBibWNnYVhOemRXVnpJR2xtWEc0Z0lDQWdMeThnWVc0Z2IySnFaV04wSjNNZ2RHOGdjM1J5YVc1bklHaGhjeUJsYzJOaGNHVmtJR05vWVhKaFkzUmxjbk1nYVc0Z2FYUXVYRzRnSUNBZ2MzUnlhVzVuSUQwZ0p5Y2dLeUJ6ZEhKcGJtYzdYRzRnSUgxY2JseHVJQ0JwWmlBb0lYQnZjM05wWW14bExuUmxjM1FvYzNSeWFXNW5LU2tnZTF4dUlDQWdJSEpsZEhWeWJpQnpkSEpwYm1jN1hHNGdJSDFjYmlBZ2NtVjBkWEp1SUhOMGNtbHVaeTV5WlhCc1lXTmxLR0poWkVOb1lYSnpMQ0JsYzJOaGNHVkRhR0Z5S1R0Y2JuMWNibHh1Wlhod2IzSjBJR1oxYm1OMGFXOXVJR2x6Ulcxd2RIa29kbUZzZFdVcElIdGNiaUFnYVdZZ0tDRjJZV3gxWlNBbUppQjJZV3gxWlNBaFBUMGdNQ2tnZTF4dUlDQWdJSEpsZEhWeWJpQjBjblZsTzF4dUlDQjlJR1ZzYzJVZ2FXWWdLR2x6UVhKeVlYa29kbUZzZFdVcElDWW1JSFpoYkhWbExteGxibWQwYUNBOVBUMGdNQ2tnZTF4dUlDQWdJSEpsZEhWeWJpQjBjblZsTzF4dUlDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUhKbGRIVnliaUJtWVd4elpUdGNiaUFnZlZ4dWZWeHVYRzVsZUhCdmNuUWdablZ1WTNScGIyNGdZM0psWVhSbFJuSmhiV1VvYjJKcVpXTjBLU0I3WEc0Z0lHeGxkQ0JtY21GdFpTQTlJR1Y0ZEdWdVpDaDdmU3dnYjJKcVpXTjBLVHRjYmlBZ1puSmhiV1V1WDNCaGNtVnVkQ0E5SUc5aWFtVmpkRHRjYmlBZ2NtVjBkWEp1SUdaeVlXMWxPMXh1ZlZ4dVhHNWxlSEJ2Y25RZ1puVnVZM1JwYjI0Z1lteHZZMnRRWVhKaGJYTW9jR0Z5WVcxekxDQnBaSE1wSUh0Y2JpQWdjR0Z5WVcxekxuQmhkR2dnUFNCcFpITTdYRzRnSUhKbGRIVnliaUJ3WVhKaGJYTTdYRzU5WEc1Y2JtVjRjRzl5ZENCbWRXNWpkR2x2YmlCaGNIQmxibVJEYjI1MFpYaDBVR0YwYUNoamIyNTBaWGgwVUdGMGFDd2dhV1FwSUh0Y2JpQWdjbVYwZFhKdUlDaGpiMjUwWlhoMFVHRjBhQ0EvSUdOdmJuUmxlSFJRWVhSb0lDc2dKeTRuSURvZ0p5Y3BJQ3NnYVdRN1hHNTlYRzRpWFgwPVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvcnVudGltZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBDcmVhdGUgYSBzaW1wbGUgcGF0aCBhbGlhcyB0byBhbGxvdyBicm93c2VyaWZ5IHRvIHJlc29sdmVcbi8vIHRoZSBydW50aW1lIG9uIGEgc3VwcG9ydGVkIHBhdGguXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGlzdC9janMvaGFuZGxlYmFycy5ydW50aW1lICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzLnJ1bnRpbWUuanNcIilbJ2RlZmF1bHQnXTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jc3MvbWFpbi5zdHlsXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY3NzL21haW4uc3R5bCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGhlIGVudHJ5IGZpbGUgb2YgZnVsbGNhbGVuZGFyXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWJcbiAqL1xuXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBDYWxlbmRhciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vanMvZmFjdG9yeS9jYWxlbmRhciAqLyBcIi4vc3JjL2pzL2ZhY3RvcnkvY2FsZW5kYXIuanNcIik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY3NzL21haW4uc3R5bCAqLyBcIi4vc3JjL2Nzcy9tYWluLnN0eWxcIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2pzL3ZpZXcvdGVtcGxhdGUvaGVscGVyICovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS9oZWxwZXIuanNcIik7XG5cbi8vIGZvciBqcXVlcnlcbmlmIChnbG9iYWwualF1ZXJ5KSB7XG4gICAgZ2xvYmFsLmpRdWVyeS5mbi50dWlDYWxlbmRhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0aW9ucywgaW5zdGFuY2U7XG5cbiAgICAgICAgdmFyIGVsID0gdGhpcy5nZXQoMCk7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7XG5cbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gdXRpbC5waWNrKGFyZ3MsIDApIHx8IHt9O1xuXG4gICAgICAgICAgICBpbnN0YW5jZSA9IGdsb2JhbC5qUXVlcnkuZGF0YShlbCwgJ3R1aUNhbGVuZGFyJyk7XG5cbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgJiYgaW5zdGFuY2Vbb3B0aW9uc10pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlW29wdGlvbnNdLmFwcGx5KGluc3RhbmNlLCBhcmdzLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IENhbGVuZGFyKGVsLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBnbG9iYWwualF1ZXJ5LmRhdGEoZWwsICd0dWlDYWxlbmRhcicsIGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FsZW5kYXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2NvbW1vbi9hcnJheS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29tbW9uL2FycmF5LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBVdGlsaXR5IG1vZHVsZSBmb3IgYXJyYXkgc29ydCwgYmluYXJ5IHNlYXJjaC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKTtcblxuLyoqXG4gKiBBIG1vZHVsZSBmb3Igc29ydGluZyBhcnJheS5cbiAqIEBtb2R1bGUgYXJyYXlcbiAqL1xuXG4vKioqKioqKioqKlxuICogU2VhcmNoXG4gKioqKioqKioqKi9cblxuLyoqXG4gKiBzZWFyY2ggaXRlbSBpbmRleCB1c2luZyBiaW5hcnkgc2VhcmNoIGFsZ29yaXRobS5cbiAqXG4gKiB0aGUgYXJyYXkgbXVzdCBiZSBzb3J0ZWQuXG4gKiBAcGFyYW0ge2FycmF5fSBhcnIgYXJyYXkgdG8gc2VhcmNoLlxuICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcnxib29sZWFuKX0gc2VhcmNoIHZhbHVlIHRvIHNlYXJjaC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtmbl0gaXRlcmF0ZWUgZm9yIHJldHJpZXZlIGVhY2ggZWxlbWVudCdzIHZhbHVlIHRvIHNlYXJjaC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjb21wYXJlXSBjb21wYXJlIGZ1bmN0aW9uIGZvciBzcGVjaWZpYyBzb3J0IHN0YXR1cy4gZGVmYXVsdCBpcyBzdHJpbmcgYXNjZW5kaW5nLlxuICogQHJldHVybnMge251bWJlcn0gVGhlIG51bWJlciBvZiBpdGVtIGluZGV4IHNlYXJjaGVkLiByZXR1cm4gbmVnYXRpdmUgbnVtYmVyIHdoZW4gbm8gZXhpc3QgdGhhdCBpdGVtLlxuICogSXQgY2FuIHVzZSBpbnNlcnQgaW5kZXggYWZ0ZXIgTWF0aC5hYnMoKVxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyID0gWzEsIDMsIDcsIDExLCAxNSwgMjNdO1xuICpcbiAqIGZ1bmN0aW9uIHNvcnROdW1iZXIoYSwgYikge1xuICogICAgIHJldHVybiBhIC0gYjtcbiAqIH1cbiAqXG4gKiBic2VhcmNoKGFyciwgMTUsIG51bGwsIHNvcnROdW1iZXIpOyAgICAvLyA0XG4gKiBic2VhcmNoKGFyciwgMjEsIG51bGwsIHNvcnROdW1iZXIpOyAgICAvLyAtNVxuICpcbiAqIGFyci5zcGxpY2UoTWF0aC5hYnMoYnNlYXJjaChhcnIsIDIxLCBudWxsLCBzb3J0TnVtYmVyKSksIDAsIDIxKTtcbiAqIC8vIFsxLCAyLCA3LCAxMSwgMTUsIDIxLCAyM11cbiAqL1xuZnVuY3Rpb24gYnNlYXJjaChhcnIsIHNlYXJjaCwgZm4sIGNvbXBhcmUpIHtcbiAgICB2YXIgbWluSW5kZXggPSAwLFxuICAgICAgICBtYXhJbmRleCA9IGFyci5sZW5ndGggLSAxLFxuICAgICAgICBjdXJyZW50SW5kZXgsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBjb21wO1xuXG4gICAgY29tcGFyZSA9IGNvbXBhcmUgfHwgc3RyaW5nQVNDO1xuXG4gICAgd2hpbGUgKG1pbkluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICAgIGN1cnJlbnRJbmRleCA9IChtaW5JbmRleCArIG1heEluZGV4KSAvIDIgfCAwOyAvLyBNYXRoLmZsb29yXG4gICAgICAgIHZhbHVlID0gZm4gPyBmbihhcnJbY3VycmVudEluZGV4XSkgOiBhcnJbY3VycmVudEluZGV4XTtcbiAgICAgICAgY29tcCA9IGNvbXBhcmUodmFsdWUsIHNlYXJjaCk7XG5cbiAgICAgICAgaWYgKGNvbXAgPCAwKSB7XG4gICAgICAgICAgICBtaW5JbmRleCA9IGN1cnJlbnRJbmRleCArIDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcCA+IDApIHtcbiAgICAgICAgICAgIG1heEluZGV4ID0gY3VycmVudEluZGV4IC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50SW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gfm1heEluZGV4O1xufVxuXG4vKioqKioqKioqKlxuICogQ29tcGFyZSBGdW5jdGlvbnNcbiAqKioqKioqKioqL1xuXG4vKipcbiAqIGNvbXBhcmUgZnVuY3Rpb24gZm9yIGFycmF5IHNvcnQuXG4gKlxuICogc29ydCBhcnJheSBieSBhc2NlbmRpbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGEgVGhlIGJvb2xlYW4gdG8gY29tcGFyZVxuICogQHBhcmFtIHtib29sZWFufSBiIFRoZSBib29sZWFuIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXN1bHQgb2YgY29tcGFyaXNvbi5cbiAqL1xuZnVuY3Rpb24gYm9vbGVhbkFTQyhhLCBiKSB7XG4gICAgaWYgKGEgIT09IGIpIHtcbiAgICAgICAgcmV0dXJuIGEgPyAtMSA6IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59XG5cbi8qKlxuICogY29tcGFyZSBmdW5jdGlvbiBmb3IgYXJyYXkgc29ydC5cbiAqXG4gKiBzb3J0IGFycmF5IGJ5IGRlc2NlbmRpbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGEgVGhlIGJvb2xlYW4gdG8gY29tcGFyZVxuICogQHBhcmFtIHtib29sZWFufSBiIFRoZSBib29sZWFuIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXN1bHQgb2YgY29tcGFyaXNvbi5cbiAqL1xuZnVuY3Rpb24gYm9vbGVhbkRFU0MoYSwgYikge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgIHJldHVybiBhID8gMSA6IC0xO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xufVxuXG4vKipcbiAqIGNvbXBhcmUgZnVuY3Rpb24gZm9yIGFycmF5IHNvcnQuXG4gKlxuICogc29ydCBhcnJheSBieSBudW1iZXIgYXNjZW5kaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IF9hIFRoZSBudW1iZXIgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBfYiBUaGUgbnVtYmVyIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXN1bHQgb2YgY29tcGFyaXNvbi5cbiAqL1xuZnVuY3Rpb24gbnVtYmVyQVNDKF9hLCBfYikge1xuICAgIHZhciBhID0gTnVtYmVyKF9hKSxcbiAgICAgICAgYiA9IE51bWJlcihfYik7XG5cbiAgICByZXR1cm4gYSAtIGI7XG59XG5cbi8qKlxuICogY29tcGFyZSBmdW5jdGlvbiBmb3IgYXJyYXkgc29ydC5cbiAqXG4gKiBzb3J0IGFycmF5IGJ5IG51bWJlciBkZXNjZW5kaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IF9hIFRoZSBudW1iZXIgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBfYiBUaGUgbnVtYmVyIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXN1bHQgb2YgY29tcGFyaXNvbi5cbiAqL1xuZnVuY3Rpb24gbnVtYmVyREVTQyhfYSwgX2IpIHtcbiAgICB2YXIgYSA9IE51bWJlcihfYSksXG4gICAgICAgIGIgPSBOdW1iZXIoX2IpO1xuXG4gICAgcmV0dXJuIGIgLSBhO1xufVxuXG4vKipcbiAqIGNvbXBhcmUgZnVuY3Rpb24gZm9yIGFycmF5IHNvcnQuXG4gKlxuICogc29ydCBhcnJheSBieSBzdHJpbmcgYXNjZW5kaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gX2EgVGhlIHN0cmluZyB0byBjb21wYXJlLlxuICogQHBhcmFtIHtzdHJpbmd9IF9iIFRoZSBzdHJpbmcgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJlc3VsdCBvZiBjb21wYXJpc29uLlxuICovXG5mdW5jdGlvbiBzdHJpbmdBU0MoX2EsIF9iKSB7XG4gICAgdmFyIGEgPSBTdHJpbmcoX2EpLFxuICAgICAgICBiID0gU3RyaW5nKF9iKTtcblxuICAgIGlmIChhID4gYikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKGEgPCBiKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn1cblxuLyoqXG4gKiBjb21wYXJlIGZ1bmN0aW9uIGZvciBhcnJheSBzb3J0LlxuICpcbiAqIHNvcnQgYXJyYXkgYnkgc3RyaW5nIGRlc2NlbmRpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBfYSBUaGUgc3RyaW5nIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gX2IgVGhlIHN0cmluZyB0byBjb21wYXJlLlxuICogQHJldHVybnMge251bWJlcn0gUmVzdWx0IG9mIGNvbXBhcmlzb24uXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ0RFU0MoX2EsIF9iKSB7XG4gICAgdmFyIGEgPSBTdHJpbmcoX2EpLFxuICAgICAgICBiID0gU3RyaW5nKF9iKTtcblxuICAgIGlmIChhID4gYikge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChhIDwgYikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn1cblxuLyoqXG4gKiBjb21wYXJlIGZ1bmN0aW9uIGZvciBhcnJheSBzb3J0LlxuICpcbiAqIHNvcnQgYXJyYXkgYnkgc3RyaW5nIGFzY2VuZGluZyB3aXRoIGlnbm9yZSBjYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IF9hIFRoZSBzdHJpbmcgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBfYiBUaGUgc3RyaW5nIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXN1bHQgb2YgY29tcGFyaXNvbi5cbiAqL1xuZnVuY3Rpb24gc3RyaW5nQVNDSWdub3JlQ2FzZShfYSwgX2IpIHtcbiAgICB2YXIgYSA9IFN0cmluZyhfYSkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgYiA9IFN0cmluZyhfYikudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmIChhID4gYikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKGEgPCBiKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn1cblxuLyoqXG4gKiBjb21wYXJlIGZ1bmN0aW9uIGZvciBhcnJheSBzb3J0LlxuICpcbiAqIHNvcnQgYXJyYXkgYnkgc3RyaW5nIGRlc2NlbmRpbmcgd2l0aCBpZ25vcmUgY2FzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBfYSBUaGUgc3RyaW5nIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gX2IgVGhlIHN0cmluZyB0byBjb21wYXJlLlxuICogQHJldHVybnMge251bWJlcn0gUmVzdWx0IG9mIGNvbXBhcmlzb24uXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ0RFU0NJZ25vcmVDYXNlKF9hLCBfYikge1xuICAgIHZhciBhID0gU3RyaW5nKF9hKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICBiID0gU3RyaW5nKF9iKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgaWYgKGEgPiBiKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKGEgPCBiKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xufVxuXG4vKipcbiAqIENvbXBhcmUgc2NoZWR1bGUgbW9kZWxzIGZvciBzb3J0LlxuICpcbiAqIDEuIGFsbCBkYXkgc2NoZWR1bGUgZmlyc3QuXG4gKiAyLiBlYXJseSBzdGFydC5cbiAqIDMuIGxvbmdlc3QgZHVyYXRpb24uXG4gKiA0LiBlYXJseSBjcmVhdGVkLlxuICogQHBhcmFtIHtTY2hlZHVsZXxTY2hlZHVsZVZpZXdNb2RlbH0gYSBUaGUgb2JqZWN0IHNjaGVkdWxlIGluc3RhbmNlLlxuICogQHBhcmFtIHtTY2hlZHVsZXxTY2hlZHVsZVZpZXdNb2RlbH0gYiBUaGUgb2JqZWN0IHNjaGVkdWxlIGluc3RhbmNlLlxuICogQHJldHVybnMge251bWJlcn0gUmVzdWx0IG9mIGNvbXBhcmlzb24uXG4gKi9cbmZ1bmN0aW9uIHNjaGVkdWxlQVNDKGEsIGIpIHtcbiAgICB2YXIgZHVyYXRpb25BLCBkdXJhdGlvbkI7XG4gICAgdmFyIGFsbERheUNvbXBhcmUsIHN0YXJ0c0NvbXBhcmU7XG4gICAgdmFyIG1vZGVsQSA9IGEudmFsdWVPZigpO1xuICAgIHZhciBtb2RlbEIgPSBiLnZhbHVlT2YoKTtcblxuICAgIGFsbERheUNvbXBhcmUgPSBib29sZWFuQVNDKG1vZGVsQS5pc0FsbERheSB8fCBhLmhhc011bHRpRGF0ZXMsIG1vZGVsQi5pc0FsbERheSB8fCBiLmhhc011bHRpRGF0ZXMpO1xuXG4gICAgaWYgKGFsbERheUNvbXBhcmUpIHtcbiAgICAgICAgcmV0dXJuIGFsbERheUNvbXBhcmU7XG4gICAgfVxuXG4gICAgc3RhcnRzQ29tcGFyZSA9IGRhdGV0aW1lLmNvbXBhcmUoYS5nZXRTdGFydHMoKSwgYi5nZXRTdGFydHMoKSk7XG5cbiAgICBpZiAoc3RhcnRzQ29tcGFyZSkge1xuICAgICAgICByZXR1cm4gc3RhcnRzQ29tcGFyZTtcbiAgICB9XG5cbiAgICBkdXJhdGlvbkEgPSBhLmR1cmF0aW9uKCk7XG4gICAgZHVyYXRpb25CID0gYi5kdXJhdGlvbigpO1xuXG4gICAgaWYgKGR1cmF0aW9uQSA8IGR1cmF0aW9uQikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKGR1cmF0aW9uQSA+IGR1cmF0aW9uQikge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWwuc3RhbXAobW9kZWxBKSAtIHV0aWwuc3RhbXAobW9kZWxCKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYnNlYXJjaDogYnNlYXJjaCxcbiAgICBjb21wYXJlOiB7XG4gICAgICAgIHNjaGVkdWxlOiB7XG4gICAgICAgICAgICBhc2M6IHNjaGVkdWxlQVNDXG4gICAgICAgIH0sXG4gICAgICAgIGJvb2w6IHtcbiAgICAgICAgICAgIGFzYzogYm9vbGVhbkFTQyxcbiAgICAgICAgICAgIGRlc2M6IGJvb2xlYW5ERVNDXG4gICAgICAgIH0sXG4gICAgICAgIG51bToge1xuICAgICAgICAgICAgYXNjOiBudW1iZXJBU0MsXG4gICAgICAgICAgICBkZXNjOiBudW1iZXJERVNDXG4gICAgICAgIH0sXG4gICAgICAgIHN0cjoge1xuICAgICAgICAgICAgYXNjOiBzdHJpbmdBU0MsXG4gICAgICAgICAgICBkZXNjOiBzdHJpbmdERVNDLFxuICAgICAgICAgICAgYXNjSWdub3JlQ2FzZTogc3RyaW5nQVNDSWdub3JlQ2FzZSxcbiAgICAgICAgICAgIGRlc2NJZ25vcmVDYXNlOiBzdHJpbmdERVNDSWdub3JlQ2FzZVxuICAgICAgICB9XG4gICAgfVxufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9jb21tb24vYXV0b1Njcm9sbC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9jb21tb24vYXV0b1Njcm9sbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIEBmaWxlb3ZlcnZpZXcgQWRkIGF1dG9zY3JvbGwgZmVhdHVyZSB0byBlbGVtZW50cyB0aGF0IHByZXZlbnRlZCB0ZXh0IHNlbGVjdGlvbi5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBkb21ldmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9kb21ldmVudCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb21ldmVudC5qc1wiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciBQb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9wb2ludCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9wb2ludC5qc1wiKTtcblxudmFyIFNDUk9MTF9JTlRFUlZBTCA9IDMwO1xudmFyIFNDUk9MTF9NQVggPSAxNTtcbnZhciBTQ1JPTExfQ0xJQ0tfSU5DUkVBU0VEID0gMjsgLy8gSW4gSUUsIHRoZSBvZmZzZXQgb2YgdGhlIGFjdHVhbCBVSSBwaXhlbCB3aGVuIHRoZSBzY3JvbGwgYmFyIGlzIGNsaWNrZWQgaXMgb2Zmc2V0LlxuXG4vKipcbiAqIEFkZCBhdXRvc2Nyb2xsIGZlYXR1cmUgdG8gZWxlbWVudHMgdGhhdCBwcmV2ZW50ZWQgdGV4dCBzZWxlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciAtIEhUTUxFbGVtZW50IHRvIGFkZCBhdXRvc2Nyb2xsIGZlYXR1cmVzLlxuICovXG5mdW5jdGlvbiBBdXRvU2Nyb2xsKGNvbnRhaW5lcikge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBdXRvU2Nyb2xsLkRJUkVDVElPTn1cbiAgICAgKi9cbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBBdXRvU2Nyb2xsLkRJUkVDVElPTi5JTlNJREU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX29mZnNldCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBpbnRlcnZhbCB0byBzY3JvbGxpbmdcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX2ludGVydmFsSUQgPSAwO1xuXG4gICAgZG9tZXZlbnQub24oY29udGFpbmVyLCB7XG4gICAgICAgICdtb3VzZWRvd24nOiB0aGlzLl9vbk1vdXNlRG93blxuICAgIH0sIHRoaXMpO1xufVxuXG4vKipcbiAqIEBlbnVtXG4gKi9cbkF1dG9TY3JvbGwuRElSRUNUSU9OID0ge1xuICAgIElOU0lERTogMCxcbiAgICBUT1A6IDEsXG4gICAgUklHSFQ6IDIsXG4gICAgQk9UVE9NOiAzLFxuICAgIExFRlQ6IDRcbn07XG5cbi8qKlxuICogSW5zdGFuY2UgZGVzdHJveSBtZXRob2QuXG4gKi9cbkF1dG9TY3JvbGwucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICBkb21ldmVudC5vZmYodGhpcy5jb250YWluZXIsIHtcbiAgICAgICAgJ21vdXNlZG93bic6IHRoaXMuX29uTW91c2VEb3duLFxuICAgICAgICAnbW91c2Vtb3ZlJzogdGhpcy5fb25Nb3VzZU1vdmUsXG4gICAgICAgICdtb3VzZXVwJzogdGhpcy5fb25Nb3VzZVVwXG4gICAgfSwgdGhpcyk7XG5cbiAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElEKTtcbiAgICB0aGlzLl9pbnRlcnZhbElEID0gdGhpcy5fZGlyZWN0aW9uID0gdGhpcy5jb250YWluZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBOb3JtYWxpemUgQ2xpZW50UmVjdCBhbmQgY2FsY3VsYXRlIGVhY2ggcG9zaXRpb24gb2YgZWRnZXMuXG4gKiBAcGFyYW0ge0NsaWVudFJlY3R9IGNsaWVudFJlY3QgLSBDbGllbnRSZWN0IG9iamVjdCBvZiBlbGVtZW50LlxuICogQHJldHVybnMge29iamVjdH0gZWRnZXMuXG4gKi9cbkF1dG9TY3JvbGwucHJvdG90eXBlLl9nZXRFZGdlUG9zaXRpb25zID0gZnVuY3Rpb24oY2xpZW50UmVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogY2xpZW50UmVjdC50b3AsXG4gICAgICAgIHJpZ2h0OiBjbGllbnRSZWN0LmxlZnQgKyBjbGllbnRSZWN0LndpZHRoLFxuICAgICAgICBib3R0b206IGNsaWVudFJlY3QuYm90dG9tLFxuICAgICAgICBsZWZ0OiBjbGllbnRSZWN0LmxlZnRcbiAgICB9O1xufTtcblxuLyoqXG4gKiBHZXQgZWxlbWVudCByZWFsIHNpemUgKFwicmVhbCBzaXplXCIgLT4gc2l6ZSB3aXRob3V0IHNjcm9sbGJhcilcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIC0gZWxlbWVudCB3YW50IHRvIGtub3cgcmVhbCBzaXplIChcInJlYWwgc2l6ZVwiIC0+IHNpemUgd2l0aG91dCBzY3JvbGxiYXIpXG4gKiBAcmV0dXJucyB7bnVtYmVyW119IHJlYWwgc2l6ZSBbd2lkdGgsIGhlaWdodF1cbiAqL1xuQXV0b1Njcm9sbC5wcm90b3R5cGUuZ2V0UmVhbFNpemUgPSBmdW5jdGlvbihlbCkge1xuICAgIHZhciBjb21wdXRlZCA9IGRvbXV0aWwuZ2V0Q29tcHV0ZWRTdHlsZShlbCksXG4gICAgICAgIGJvcmRlcixcbiAgICAgICAgcGFkZGluZztcblxuICAgIGJvcmRlciA9IHBhcnNlRmxvYXQoY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyLXRvcC13aWR0aCcpKSArXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyLWJvdHRvbS13aWR0aCcpKTtcbiAgICBwYWRkaW5nID0gcGFyc2VGbG9hdChjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLXRvcCcpKSArXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy1ib3R0b20nKSk7XG5cbiAgICByZXR1cm4gW2VsLmNsaWVudFdpZHRoICsgYm9yZGVyICsgcGFkZGluZywgZWwuY2xpZW50SGVpZ2h0ICsgYm9yZGVyICsgcGFkZGluZ107XG59O1xuXG4vKipcbiAqIENoZWNrIHN1cHBsaWVkIGVsZW1lbnQgaGFzIHNjcm9sbGJhci5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIC0gZWxlbWVudCB3YW50IHRvIGtub3cgaGFzIHNjcm9sbGJhci5cbiAqIEByZXR1cm5zIHtib29sZWFuW119IGhhcyBzY3JvbGxiYXI/IFtob3Jpem9udGFsLCB2ZXJ0aWNhbF1cbiAqL1xuQXV0b1Njcm9sbC5wcm90b3R5cGUuaGFzU2Nyb2xsYmFyID0gZnVuY3Rpb24oZWwpIHtcbiAgICB2YXIgcmVhbFNpemUgPSB0aGlzLmdldFJlYWxTaXplKGVsKTtcblxuICAgIHJldHVybiBbXG4gICAgICAgIGVsLm9mZnNldFdpZHRoID4gTWF0aC5jZWlsKHJlYWxTaXplWzBdKSxcbiAgICAgICAgZWwub2Zmc2V0SGVpZ2h0ID4gTWF0aC5jZWlsKHJlYWxTaXplWzFdKVxuICAgIF07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIC0gZWxlbWVudCB3YW50IHRvIGtub3cuXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IG1vdXNlRXZlbnQgLSBtb3VzZSBldmVudCBvYmplY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gbW91c2UgcG9pbnRlciBpcyBvbiB0aGUgc2Nyb2xsYmFyP1xuICovXG5BdXRvU2Nyb2xsLnByb3RvdHlwZS5pc09uU2Nyb2xsYmFyID0gZnVuY3Rpb24oZWwsIG1vdXNlRXZlbnQpIHtcbiAgICB2YXIgcmVhbFNpemUgPSB0aGlzLmdldFJlYWxTaXplKGVsKSxcbiAgICAgICAgcG9zID0gZG9tZXZlbnQuZ2V0TW91c2VQb3NpdGlvbihtb3VzZUV2ZW50LCBlbCksXG4gICAgICAgIG1vdXNlSW5TY3JvbGxiYXIgPSBmYWxzZTtcblxuICAgIG1vdXNlSW5TY3JvbGxiYXIgPSAocmVhbFNpemVbMF0gLSBTQ1JPTExfQ0xJQ0tfSU5DUkVBU0VEIDwgcG9zWzBdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFsU2l6ZVsxXSAtIFNDUk9MTF9DTElDS19JTkNSRUFTRUQgPCBwb3NbMV0pO1xuXG4gICAgcmV0dXJuIG1vdXNlSW5TY3JvbGxiYXI7XG59O1xuXG4vKipcbiAqIE1vdXNlRG93biBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IG1vdXNlRG93bkV2ZW50IC0gbW91c2UgZG93biBldmVudFxuICovXG5BdXRvU2Nyb2xsLnByb3RvdHlwZS5fb25Nb3VzZURvd24gPSBmdW5jdGlvbihtb3VzZURvd25FdmVudCkge1xuICAgIC8vIG9ubHkgcHJpbWFyeSBidXR0b24gY2FuIHN0YXJ0IGRyYWcuXG4gICAgaWYgKGRvbWV2ZW50LmdldE1vdXNlQnV0dG9uKG1vdXNlRG93bkV2ZW50KSAhPT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZGVhY3RpdmF0ZSBhdXRvc2Nyb2xsIGZlYXR1cmUgd2hlbiBtb3VzZSBpcyBvbiB0aGUgc2Nyb2xsYmFyLiAoSUUpXG4gICAgaWYgKHV0aWwuYnJvd3Nlci5tc2llICYmIHRoaXMuaXNPblNjcm9sbGJhcih0aGlzLmNvbnRhaW5lciwgbW91c2VEb3duRXZlbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElEKTtcbiAgICB0aGlzLl9pbnRlcnZhbElEID0gd2luZG93LnNldEludGVydmFsKHRoaXMuX29uVGljay5iaW5kKHRoaXMpLCBTQ1JPTExfSU5URVJWQUwpO1xuXG4gICAgZG9tZXZlbnQub24oZ2xvYmFsLCB7XG4gICAgICAgICdtb3VzZW1vdmUnOiB0aGlzLl9vbk1vdXNlTW92ZSxcbiAgICAgICAgJ21vdXNldXAnOiB0aGlzLl9vbk1vdXNlVXBcbiAgICB9LCB0aGlzKTtcbn07XG5cbi8qKlxuICogTW91c2VNb3ZlIGV2ZW50IGhhbmRsZXJcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gbW91c2VFdmVudCAtIG1vdXNlIG1vdmUgZXZlbnQgb2JqZWN0LlxuICovXG5BdXRvU2Nyb2xsLnByb3RvdHlwZS5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbihtb3VzZUV2ZW50KSB7XG4gICAgdmFyIGVkZ2UgPSB0aGlzLl9nZXRFZGdlUG9zaXRpb25zKHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxcbiAgICAgICAgcG9zID0gUG9pbnQubihkb21ldmVudC5nZXRNb3VzZVBvc2l0aW9uKG1vdXNlRXZlbnQpKTtcblxuICAgIGlmIChwb3MueSA+PSBlZGdlLnRvcCAmJiBwb3MueSA8PSBlZGdlLmJvdHRvbSAmJlxuICAgICAgICBwb3MueCA+PSBlZGdlLmxlZnQgJiYgcG9zLnggPD0gZWRnZS5yaWdodCkge1xuICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBBdXRvU2Nyb2xsLkRJUkVDVElPTi5JTlNJREU7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwb3MueSA8IGVkZ2UudG9wKSB7XG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IEF1dG9TY3JvbGwuRElSRUNUSU9OLlRPUDtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gZWRnZS50b3AgLSBwb3MueTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBvcy55ID4gZWRnZS5ib3R0b20pIHtcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gQXV0b1Njcm9sbC5ESVJFQ1RJT04uQk9UVE9NO1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBwb3MueSAtIGVkZ2UuYm90dG9tO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocG9zLnggPCBlZGdlLmxlZnQpIHtcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gQXV0b1Njcm9sbC5ESVJFQ1RJT04uTEVGVDtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gZWRnZS5sZWZ0IC0gcG9zLng7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IEF1dG9TY3JvbGwuRElSRUNUSU9OLlJJR0hUO1xuICAgIHRoaXMuX29mZnNldCA9IHBvcy54IC0gZWRnZS5yaWdodDtcbn07XG5cbi8qKlxuICogTW91c2VVcCBldmVudCBoYW5kbGVyLlxuICovXG5BdXRvU2Nyb2xsLnByb3RvdHlwZS5fb25Nb3VzZVVwID0gZnVuY3Rpb24oKSB7XG4gICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJRCk7XG4gICAgdGhpcy5faW50ZXJ2YWxJRCA9IDA7XG4gICAgdGhpcy5fZGlyZWN0aW9uID0gQXV0b1Njcm9sbC5ESVJFQ1RJT04uSU5TSURFO1xuICAgIHRoaXMuX29mZnNldCA9IDA7XG5cbiAgICBkb21ldmVudC5vZmYoZ2xvYmFsLCB7XG4gICAgICAgICdtb3VzZW1vdmUnOiB0aGlzLl9vbk1vdXNlTW92ZSxcbiAgICAgICAgJ21vdXNldXAnOiB0aGlzLl9vbk1vdXNlVXBcbiAgICB9LCB0aGlzKTtcbn07XG5cbi8qKlxuICogSW50ZXJ2YWwgdGljayBldmVudCBoYW5kbGVyXG4gKi9cbkF1dG9TY3JvbGwucHJvdG90eXBlLl9vblRpY2sgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5fZGlyZWN0aW9uLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGZhY3RvcjtcblxuICAgIGlmICghZGlyZWN0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICBmYWN0b3IgPSBNYXRoLm1pbih0aGlzLl9vZmZzZXQsIFNDUk9MTF9NQVgpO1xuXG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgY2FzZSBBdXRvU2Nyb2xsLkRJUkVDVElPTi5UT1A6XG4gICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wIC09IGZhY3RvcjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEF1dG9TY3JvbGwuRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbExlZnQgKz0gZmFjdG9yO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQXV0b1Njcm9sbC5ESVJFQ1RJT04uQk9UVE9NOlxuICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCArPSBmYWN0b3I7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxMZWZ0IC09IGZhY3RvcjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQXV0b1Njcm9sbDtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMgKi8gXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCIpKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29tbW9uL2NvbGxlY3Rpb24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29tbW9uL2NvbGxlY3Rpb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ29tbW9uIGNvbGxlY3Rpb25zLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGZvckVhY2hQcm9wID0gdXRpbC5mb3JFYWNoT3duUHJvcGVydGllcyxcbiAgICBmb3JFYWNoQXJyID0gdXRpbC5mb3JFYWNoQXJyYXksXG4gICAgaXNGdW5jID0gdXRpbC5pc0Z1bmN0aW9uLFxuICAgIGlzT2JqID0gdXRpbC5pc09iamVjdDtcblxudmFyIGFwcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuLyoqXG4gKiBDb21tb24gY29sbGVjdGlvbi5cbiAqXG4gKiBJdCBuZWVkIGZ1bmN0aW9uIGZvciBnZXQgbW9kZWwncyB1bmlxdWUgaWQuXG4gKlxuICogaWYgdGhlIGZ1bmN0aW9uIGlzIG5vdCBzdXBwbGllZCB0aGVuIGl0IHVzZSBkZWZhdWx0IGZ1bmN0aW9uIHtAbGluayBDb2xsZWN0aW9uI2dldEl0ZW1JRH1cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2dldEl0ZW1JREZuXSBmdW5jdGlvbiBmb3IgZ2V0IG1vZGVsJ3MgaWQuXG4gKi9cbmZ1bmN0aW9uIENvbGxlY3Rpb24oZ2V0SXRlbUlERm4pIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7b2JqZWN0LjxzdHJpbmcsICo+fVxuICAgICAqL1xuICAgIHRoaXMuaXRlbXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW5ndGggPSAwO1xuXG4gICAgaWYgKGlzRnVuYyhnZXRJdGVtSURGbikpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2V0SXRlbUlEID0gZ2V0SXRlbUlERm47XG4gICAgfVxufVxuXG4vKioqKioqKioqKlxuICogc3RhdGljIHByb3BzXG4gKioqKioqKioqKi9cblxuLyoqXG4gKiBDb21iaW5kIHN1cHBsaWVkIGZ1bmN0aW9uIGZpbHRlcnMgYW5kIGNvbmRpdGlvbi5cbiAqIEBwYXJhbSB7Li4uZnVuY3Rpb259IGZpbHRlcnMgLSBmdW5jdGlvbiBmaWx0ZXJzXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IGNvbWJpbmVkIGZpbHRlclxuICovXG5Db2xsZWN0aW9uLmFuZCA9IGZ1bmN0aW9uKGZpbHRlcnMpIHtcbiAgICB2YXIgY250O1xuXG4gICAgZmlsdGVycyA9IGFwcy5jYWxsKGFyZ3VtZW50cyk7XG4gICAgY250ID0gZmlsdGVycy5sZW5ndGg7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgZm9yICg7IGkgPCBjbnQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKCFmaWx0ZXJzW2ldLmNhbGwobnVsbCwgaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufTtcblxuLyoqKioqKioqKipcbiAqIHByb3RvdHlwZSBwcm9wc1xuICoqKioqKioqKiovXG5cbi8qKlxuICogZ2V0IG1vZGVsJ3MgdW5pcXVlIGlkLlxuICogQHBhcmFtIHtvYmplY3R9IGl0ZW0gbW9kZWwgaW5zdGFuY2UuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBtb2RlbCB1bmlxdWUgaWQuXG4gKi9cbkNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1JRCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gU3RyaW5nKGl0ZW0uX2lkKTtcbn07XG5cbi8qKlxuICogYWRkIG1vZGVscy5cbiAqIEBwYXJhbSB7Li4uKn0gaXRlbSBtb2RlbHMgdG8gYWRkIHRoaXMgY29sbGVjdGlvbi5cbiAqL1xuQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgaWQsXG4gICAgICAgIG93bkl0ZW1zO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvckVhY2hBcnIoYXBzLmNhbGwoYXJndW1lbnRzKSwgZnVuY3Rpb24obykge1xuICAgICAgICAgICAgc2VsZi5hZGQobyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZCA9IHRoaXMuZ2V0SXRlbUlEKGl0ZW0pO1xuICAgIG93bkl0ZW1zID0gdGhpcy5pdGVtcztcblxuICAgIGlmICghb3duSXRlbXNbaWRdKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoICs9IDE7XG4gICAgfVxuICAgIG93bkl0ZW1zW2lkXSA9IGl0ZW07XG59O1xuXG4vKipcbiAqIHJlbW92ZSBtb2RlbHMuXG4gKiBAcGFyYW0gey4uLihvYmplY3R8c3RyaW5nfG51bWJlcil9IGlkIG1vZGVsIGluc3RhbmNlIG9yIHVuaXF1ZSBpZCB0byBkZWxldGUuXG4gKiBAcmV0dXJucyB7YXJyYXl9IGRlbGV0ZWQgbW9kZWwgbGlzdC5cbiAqL1xuQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHJlbW92ZWQgPSBbXSxcbiAgICAgICAgb3duSXRlbXMsXG4gICAgICAgIGl0ZW1Ub1JlbW92ZTtcblxuICAgIGlmICghdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZWQ7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJlbW92ZWQgPSB1dGlsLm1hcChhcHMuY2FsbChhcmd1bWVudHMpLCBmdW5jdGlvbihfaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnJlbW92ZShfaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICB9XG5cbiAgICBvd25JdGVtcyA9IHRoaXMuaXRlbXM7XG5cbiAgICBpZiAoaXNPYmooaWQpKSB7XG4gICAgICAgIGlkID0gdGhpcy5nZXRJdGVtSUQoaWQpO1xuICAgIH1cblxuICAgIGlmICghb3duSXRlbXNbaWRdKSB7XG4gICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH1cblxuICAgIHRoaXMubGVuZ3RoIC09IDE7XG4gICAgaXRlbVRvUmVtb3ZlID0gb3duSXRlbXNbaWRdO1xuICAgIGRlbGV0ZSBvd25JdGVtc1tpZF07XG5cbiAgICByZXR1cm4gaXRlbVRvUmVtb3ZlO1xufTtcblxuLyoqXG4gKiByZW1vdmUgYWxsIG1vZGVscyBpbiBjb2xsZWN0aW9uLlxuICovXG5Db2xsZWN0aW9uLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXRlbXMgPSB7fTtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG59O1xuXG4vKipcbiAqIGNoZWNrIGNvbGxlY3Rpb24gaGFzIHNwZWNpZmljIG1vZGVsLlxuICogQHBhcmFtIHsob2JqZWN0fHN0cmluZ3xudW1iZXJ8ZnVuY3Rpb24pfSBpZCBtb2RlbCBpbnN0YW5jZSBvciBpZCBvciBmaWx0ZXIgZnVuY3Rpb24gdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBpcyBoYXMgbW9kZWw/XG4gKi9cbkNvbGxlY3Rpb24ucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgdmFyIGlzRmlsdGVyLFxuICAgICAgICBoYXM7XG5cbiAgICBpZiAoIXRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0ZpbHRlciA9IGlzRnVuYyhpZCk7XG4gICAgaGFzID0gZmFsc2U7XG5cbiAgICBpZiAoaXNGaWx0ZXIpIHtcbiAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpZChpdGVtKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGhhcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHJldHVybmluZyBmYWxzZSBjYW4gc3RvcCB0aGlzIGxvb3BcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlkID0gaXNPYmooaWQpID8gdGhpcy5nZXRJdGVtSUQoaWQpIDogaWQ7XG4gICAgICAgIGhhcyA9IHV0aWwuaXNFeGlzdHkodGhpcy5pdGVtc1tpZF0pO1xuICAgIH1cblxuICAgIHJldHVybiBoYXM7XG59O1xuXG4vKipcbiAqIGludm9rZSBjYWxsYmFjayB3aGVuIG1vZGVsIGV4aXN0IGluIGNvbGxlY3Rpb24uXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKX0gaWQgbW9kZWwgdW5pcXVlIGlkLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gdGhlIGNhbGxiYWNrLlxuICogQHBhcmFtIHsqfSBbY29udGV4dF0gY2FsbGJhY2sgY29udGV4dC5cbiAqL1xuQ29sbGVjdGlvbi5wcm90b3R5cGUuZG9XaGVuSGFzID0gZnVuY3Rpb24oaWQsIGZuLCBjb250ZXh0KSB7XG4gICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2lkXTtcblxuICAgIGlmICghdXRpbC5pc0V4aXN0eShpdGVtKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm4uY2FsbChjb250ZXh0IHx8IHRoaXMsIGl0ZW0pO1xufTtcblxuLyoqXG4gKiBTZWFyY2ggbW9kZWwuIGFuZCByZXR1cm4gbmV3IGNvbGxlY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmaWx0ZXIgZmlsdGVyIGZ1bmN0aW9uLlxuICogQHJldHVybnMge0NvbGxlY3Rpb259IG5ldyBjb2xsZWN0aW9uIHdpdGggZmlsdGVyZWQgbW9kZWxzLlxuICogQGV4YW1wbGVcbiAqIGNvbGxlY3Rpb24uZmluZChmdW5jdGlvbihpdGVtKSB7XG4gKiAgICAgcmV0dXJuIGl0ZW0uZWRpdGVkID09PSB0cnVlO1xuICogfSk7XG4gKlxuICogZnVuY3Rpb24gZmlsdGVyMShpdGVtKSB7XG4gKiAgICAgcmV0dXJuIGl0ZW0uZWRpdGVkID09PSBmYWxzZTtcbiAqIH1cbiAqXG4gKiBmdW5jdGlvbiBmaWx0ZXIyKGl0ZW0pIHtcbiAqICAgICByZXR1cm4gaXRlbS5kaXNhYmxlZCA9PT0gZmFsc2U7XG4gKiB9XG4gKlxuICogY29sbGVjdGlvbi5maW5kKENvbGxlY3Rpb24uYW5kKGZpbHRlcjEsIGZpbHRlcjIpKTtcbiAqL1xuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKGZpbHRlcikge1xuICAgIHZhciByZXN1bHQgPSBuZXcgQ29sbGVjdGlvbigpO1xuXG4gICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoJ2dldEl0ZW1JRCcpKSB7XG4gICAgICAgIHJlc3VsdC5nZXRJdGVtSUQgPSB0aGlzLmdldEl0ZW1JRDtcbiAgICB9XG5cbiAgICB0aGlzLmVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoZmlsdGVyKGl0ZW0pID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXN1bHQuYWRkKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBHcm91cCBlbGVtZW50IGJ5IHNwZWNpZmljIGtleSB2YWx1ZXMuXG4gKlxuICogaWYga2V5IHBhcmFtZXRlciBpcyBmdW5jdGlvbiB0aGVuIGludm9rZSBpdCBhbmQgdXNlIHJldHVybmVkIHZhbHVlLlxuICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcnxmdW5jdGlvbnxhcnJheSl9IGtleSBrZXkgcHJvcGVydHkgb3IgZ2V0dGVyIGZ1bmN0aW9uLlxuICogIGlmIHN0cmluZ1tdIHN1cHBsaWVkLCBjcmVhdGUgZWFjaCBjb2xsZWN0aW9uIGJlZm9yZSBncm91cGluZy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtncm91cEZ1bmNdIC0gZnVuY3Rpb24gdGhhdCByZXR1cm4gZWFjaCBncm91cCdzIGtleVxuICogQHJldHVybnMge29iamVjdC48c3RyaW5nLCBDb2xsZWN0aW9uPn0gZ3JvdXBlZCBvYmplY3RcbiAqIEBleGFtcGxlXG4gKlxuICogLy8gcGFzcyBgc3RyaW5nYCwgYG51bWJlcmAsIGBib29sZWFuYCB0eXBlIHZhbHVlIHRoZW4gZ3JvdXAgYnkgcHJvcGVydHkgdmFsdWUuXG4gKiBjb2xsZWN0aW9uLmdyb3VwQnkoJ2dlbmRlcicpOyAgICAvLyBncm91cCBieSAnZ2VuZGVyJyBwcm9wZXJ0eSB2YWx1ZS5cbiAqIGNvbGxlY3Rpb24uZ3JvdXBCeSg1MCk7ICAgICAgICAgIC8vIGdyb3VwIGJ5ICc1MCcgcHJvcGVydHkgdmFsdWUuXG4gKlxuICogLy8gcGFzcyBgZnVuY3Rpb25gIHRoZW4gZ3JvdXAgYnkgcmV0dXJuIHZhbHVlLiBlYWNoIGludm9jYXRpb24gYGZ1bmN0aW9uYCBpcyBjYWxsZWQgd2l0aCBgKGl0ZW0pYC5cbiAqIGNvbGxlY3Rpb24uZ3JvdXBCeShmdW5jdGlvbihpdGVtKSB7XG4gKiAgICAgaWYgKGl0ZW0uc2NvcmUgPiA2MCkge1xuICogICAgICAgICByZXR1cm4gJ3Bhc3MnO1xuICogICAgIH1cbiAqICAgICByZXR1cm4gJ2ZhaWwnO1xuICogfSk7XG4gKlxuICogLy8gcGFzcyBgYXJyYXlgIHdpdGggZmlyc3QgYXJndW1lbnRzIHRoZW4gY3JlYXRlIGVhY2ggY29sbGVjdGlvbiBiZWZvcmUgZ3JvdXBpbmcuXG4gKiBjb2xsZWN0aW9uLmdyb3VwQnkoWydnbycsICdydWJ5JywgJ2phdmFzY3JpcHQnXSk7XG4gKiAvLyByZXN1bHQ6IHsgJ2dvJzogZW1wdHkgQ29sbGVjdGlvbiwgJ3J1YnknOiBlbXB0eSBDb2xsZWN0aW9uLCAnamF2YXNjcmlwdCc6IGVtcHR5IENvbGxlY3Rpb24gfVxuICpcbiAqIC8vIGNhbiBwYXNzIGBmdW5jdGlvbmAgd2l0aCBgYXJyYXlgIHRoZW4gZ3JvdXAgZWFjaCBlbGVtZW50cy5cbiAqIGNvbGxlY3Rpb24uZ3JvdXBCeShbJ2dvJywgJ3J1YnknLCAnamF2YXNjcmlwdCddLCBmdW5jdGlvbihpdGVtKSB7XG4gKiAgICAgaWYgKGl0ZW0uaXNGYXN0KSB7XG4gKiAgICAgICAgIHJldHVybiAnZ28nO1xuICogICAgIH1cbiAqXG4gKiAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcbiAqIH0pO1xuICovXG5Db2xsZWN0aW9uLnByb3RvdHlwZS5ncm91cEJ5ID0gZnVuY3Rpb24oa2V5LCBncm91cEZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge30sXG4gICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgIGJhc2VWYWx1ZSxcbiAgICAgICAga2V5SXNGdW5jID0gaXNGdW5jKGtleSksXG4gICAgICAgIGdldEl0ZW1JREZuID0gdGhpcy5nZXRJdGVtSUQ7XG5cbiAgICBpZiAodXRpbC5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgdXRpbC5mb3JFYWNoQXJyYXkoa2V5LCBmdW5jdGlvbihrKSB7XG4gICAgICAgICAgICByZXN1bHRbU3RyaW5nKGspXSA9IG5ldyBDb2xsZWN0aW9uKGdldEl0ZW1JREZuKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFncm91cEZ1bmMpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBrZXkgPSBncm91cEZ1bmM7XG4gICAgICAgIGtleUlzRnVuYyA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYgKGtleUlzRnVuYykge1xuICAgICAgICAgICAgYmFzZVZhbHVlID0ga2V5KGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZVZhbHVlID0gaXRlbVtrZXldO1xuXG4gICAgICAgICAgICBpZiAoaXNGdW5jKGJhc2VWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBiYXNlVmFsdWUgPSBiYXNlVmFsdWUuYXBwbHkoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb2xsZWN0aW9uID0gcmVzdWx0W2Jhc2VWYWx1ZV07XG5cbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uID0gcmVzdWx0W2Jhc2VWYWx1ZV0gPSBuZXcgQ29sbGVjdGlvbihnZXRJdGVtSURGbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb2xsZWN0aW9uLmFkZChpdGVtKTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFJldHVybiBzaW5nbGUgaXRlbSBpbiBjb2xsZWN0aW9uLlxuICpcbiAqIFJldHVybmVkIGl0ZW0gaXMgaW5zZXJ0ZWQgaW4gdGhpcyBjb2xsZWN0aW9uIGZpcnN0bHkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbZmlsdGVyXSAtIGZ1bmN0aW9uIGZpbHRlclxuICogQHJldHVybnMge29iamVjdH0gaXRlbS5cbiAqL1xuQ29sbGVjdGlvbi5wcm90b3R5cGUuc2luZ2xlID0gZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgdXNlRmlsdGVyID0gdXRpbC5pc0Z1bmN0aW9uKGZpbHRlcik7XG5cbiAgICB0aGlzLmVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoIXVzZUZpbHRlcikge1xuICAgICAgICAgICAgcmVzdWx0ID0gaXRlbTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyByZXR1cm5pbmcgZmFsc2UgY2FuIHN0b3AgdGhpcyBsb29wXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlcihpdGVtKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gaXRlbTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyByZXR1cm5pbmcgZmFsc2UgY2FuIHN0b3AgdGhpcyBsb29wXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LCB0aGlzKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIHNvcnQgYSBiYXNpcyBvZiBzdXBwbGllZCBjb21wYXJlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29tcGFyZUZ1bmN0aW9uIGNvbXBhcmVGdW5jdGlvblxuICogQHJldHVybnMge2FycmF5fSBzb3J0ZWQgYXJyYXkuXG4gKi9cbkNvbGxlY3Rpb24ucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbihjb21wYXJlRnVuY3Rpb24pIHtcbiAgICB2YXIgYXJyID0gW107XG5cbiAgICB0aGlzLmVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBhcnIucHVzaChpdGVtKTtcbiAgICB9KTtcblxuICAgIGlmIChpc0Z1bmMoY29tcGFyZUZ1bmN0aW9uKSkge1xuICAgICAgICBhcnIgPSBhcnIuc29ydChjb21wYXJlRnVuY3Rpb24pO1xuICAgIH1cblxuICAgIHJldHVybiBhcnI7XG59O1xuXG4vKipcbiAqIGl0ZXJhdGUgZWFjaCBtb2RlbCBlbGVtZW50LlxuICpcbiAqIHdoZW4gaXRlcmF0ZWUgcmV0dXJuIGZhbHNlIHRoZW4gYnJlYWsgdGhlIGxvb3AuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRlZSBpdGVyYXRlZShpdGVtLCBpbmRleCwgaXRlbXMpXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0XSBjb250ZXh0XG4gKi9cbkNvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbihpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGZvckVhY2hQcm9wKHRoaXMuaXRlbXMsIGl0ZXJhdGVlLCBjb250ZXh0IHx8IHRoaXMpO1xufTtcblxuLyoqXG4gKiByZXR1cm4gbmV3IGFycmF5IHdpdGggY29sbGVjdGlvbiBpdGVtcy5cbiAqIEByZXR1cm5zIHthcnJheX0gbmV3IGFycmF5LlxuICovXG5Db2xsZWN0aW9uLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWwubWFwKHRoaXMuaXRlbXMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbGxlY3Rpb247XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29tbW9uL2NvbW1vbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2NvbW1vbi9jb21tb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBjb21tb24vZ2VuZXJhbCB1dGlsaXRpZXMuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG5cbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKSxcbiAgICBDb2xsZWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2NvbGxlY3Rpb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29sbGVjdGlvbi5qc1wiKTtcbnZhciBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKTtcblxuLyoqXG4gKiBEZWZhdWx0IHNjaGVkdWxlIGlkIGdldHRlciBmb3IgY29sbGVjdGlvblxuICogQHBhcmFtIHtTY2hlZHVsZX0gc2NoZWR1bGUgLSBzY2hlZHVsZSBpbnN0YW5jZVxuICogQHJldHVybnMge3N0cmluZ30gc2NoZWR1bGUgaWRcbiAqL1xuZnVuY3Rpb24gc2NoZWR1bGVJREdldHRlcihzY2hlZHVsZSkge1xuICAgIHJldHVybiBzY2hlZHVsZS5jaWQoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0NvbGxlY3Rpb259IG5ldyBjb2xsZWN0aW9uIGZvciBzY2hlZHVsZSBtb2RlbHMuXG4gICAgICovXG4gICAgY3JlYXRlU2NoZWR1bGVDb2xsZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uKHNjaGVkdWxlSURHZXR0ZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgcmF0aW8gdmFsdWUuXG4gICAgICpcbiAgICAgKiBhIDogYiA9IHkgOiBYO1xuICAgICAqXG4gICAgICogPVxuICAgICAqXG4gICAgICogWCA9IChiICogeSkgLyBhO1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhIC0gYVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gYlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0geVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHJhdGlvIHZhbHVlXG4gICAgICovXG4gICAgcmF0aW86IGZ1bmN0aW9uKGEsIGIsIHkpIHtcbiAgICAgICAgLy8gYSA6IGIgPSB5IDogeDtcbiAgICAgICAgcmV0dXJuIChiICogeSkgLyBhO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIG5lYXJlc3QgdmFsdWUgZnJvbSBzdXBwbGllZCBwYXJhbXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gdmFsdWUgdG8gZmluZC5cbiAgICAgKiBAcGFyYW0ge2FycmF5fSBuZWFyZXN0IC0gbmVhcmVzdCBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBuZWFyZXN0IHZhbHVlXG4gICAgICovXG4gICAgbmVhcmVzdDogZnVuY3Rpb24odmFsdWUsIG5lYXJlc3QpIHtcbiAgICAgICAgdmFyIGRpZmYgPSB1dGlsLm1hcChuZWFyZXN0LCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHZhbHVlIC0gdik7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG5lYXJlc3RJbmRleCA9IHV0aWwuaW5BcnJheShNYXRoLm1pbi5hcHBseShudWxsLCBkaWZmKSwgZGlmZik7XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3RbbmVhcmVzdEluZGV4XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWl4aW4gbWV0aG9kLlxuICAgICAqXG4gICAgICogKGV4dGVuZCBtZXRob2RzIGV4Y2VwdCBwcm9wZXJ0eSBuYW1lICdtaXhpbicpXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGZyb20gLSBtaXhpbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHRvIC0gb2JqZWN0IHRvIG1peGluLlxuICAgICAqL1xuICAgIG1peGluOiBmdW5jdGlvbihmcm9tLCB0bykge1xuICAgICAgICB1dGlsLmV4dGVuZCh0by5wcm90b3R5cGUsIGZyb20pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaW1pdCBzdXBwbGllZCB2YWx1ZSBiYXNlIG9uIGBtaW5BcnJgLCBgbWF4QXJyYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHZhbHVlXG4gICAgICogQHBhcmFtIHthcnJheX0gbWluQXJyIC0gbWluXG4gICAgICogQHBhcmFtIHthcnJheX0gbWF4QXJyIC0gbWF4XG4gICAgICogQHJldHVybnMge251bWJlcn0gbGltaXRlZCB2YWx1ZVxuICAgICAqL1xuICAgIGxpbWl0OiBmdW5jdGlvbih2YWx1ZSwgbWluQXJyLCBtYXhBcnIpIHtcbiAgICAgICAgdmFyIHYgPSBNYXRoLm1heC5hcHBseShudWxsLCBbdmFsdWVdLmNvbmNhdChtaW5BcnIpKTtcbiAgICAgICAgdiA9IE1hdGgubWluLmFwcGx5KG51bGwsIFt2XS5jb25jYXQobWF4QXJyKSk7XG5cbiAgICAgICAgcmV0dXJuIHY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpbWl0IHN1cHBsaWVkIGRhdGUgYmFzZSBvbiBgbWluYCwgYG1heGBcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZGF0ZSAtIGRhdGVcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gbWluIC0gbWluXG4gICAgICogQHBhcmFtIHtUWkRhdGV9IG1heCAtIG1heFxuICAgICAqIEByZXR1cm5zIHtUWkRhdGV9IGxpbWl0ZWQgdmFsdWVcbiAgICAgKi9cbiAgICBsaW1pdERhdGU6IGZ1bmN0aW9uKGRhdGUsIG1pbiwgbWF4KSB7XG4gICAgICAgIGlmIChkYXRlIDwgbWluKSB7XG4gICAgICAgICAgICByZXR1cm4gbWluO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRlID4gbWF4KSB7XG4gICAgICAgICAgICByZXR1cm4gbWF4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1heCB2YWx1ZSB3aXRoIFRaRGF0ZSB0eXBlIGZvciB0aW1lem9uZSBjYWxjdWxhdGlvblxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBkMSAtIGRhdGUgMVxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBkMiAtIGRhdGUgMlxuICAgICAqIEByZXR1cm5zIHtUWkRhdGV9XG4gICAgICovXG4gICAgbWF4RGF0ZTogZnVuY3Rpb24oZDEsIGQyKSB7XG4gICAgICAgIGlmIChkMSA+IGQyKSB7XG4gICAgICAgICAgICByZXR1cm4gZDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZDI7XG4gICAgfSxcblxuICAgIHN0cmlwVGFnczogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvPChbXj5dKyk+L2lnLCAnJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBmaXJzdCB2YWx1ZSBpbiAyLWRpbWVudGlvbmFsIGFycmF5LlxuICAgICAqIEBwYXJhbSB7QXJyYXkuPEFycmF5Pn0gYXJyMmQgLSAyLWRpbWVudGlvbmFsIGFycmF5XG4gICAgICogQHJldHVybnMgeyp9IGZpcnN0IHZhbHVlIGluIDJkIGFycmF5XG4gICAgICovXG4gICAgZmlyc3RJbjJkQXJyYXk6IGZ1bmN0aW9uKGFycjJkKSB7XG4gICAgICAgIHJldHVybiB1dGlsLnBpY2soYXJyMmQsICcwJywgJzAnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGxhc3QgdmFsdWUgaW4gMi1kaW1lbnRpb25hbCBhcnJheS5cbiAgICAgKiBAcGFyYW0ge0FycmF5LjxBcnJheT59IGFycjJkIC0gMi1kaW1lbnRpb25hbCBhcnJheVxuICAgICAqIEByZXR1cm5zIHsqfSBsYXN0IHZhbHVlIGluIDJkIGFycmF5XG4gICAgICovXG4gICAgbGFzdEluMmRBcnJheTogZnVuY3Rpb24oYXJyMmQpIHtcbiAgICAgICAgdmFyIGxhc3RSb3cgPSBhcnIyZC5sZW5ndGggLSAxLFxuICAgICAgICAgICAgbGFzdENvbCA9IGFycjJkW2xhc3RSb3ddLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgcmV0dXJuIHV0aWwucGljayhhcnIyZCwgbGFzdFJvdywgbGFzdENvbCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCAndGl0bGUnIGF0dHJpYnV0ZSBmb3IgYWxsIGVsZW1lbnRzIHRoYXQgaGF2ZSBleGNlZWRlZCBjb250ZW50IGluXG4gICAgICogY29udGFpbmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gQ1NTIHNlbGVjdG9yIHtAc2VlIGRvbXV0aWwjZmluZH1cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgLSBjb250YWluZXIgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2UgLSBmb3JjZSB0byBhcHBseVxuICAgICAqL1xuICAgIHNldEF1dG9FbGxpcHNpczogZnVuY3Rpb24oc2VsZWN0b3IsIGNvbnRhaW5lciwgZm9yY2UpIHtcbiAgICAgICAgdXRpbC5mb3JFYWNoKGRvbXV0aWwuZmluZChzZWxlY3RvciwgY29udGFpbmVyLCB0cnVlKSwgZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIGlmIChmb3JjZSB8fCBlbC5vZmZzZXRXaWR0aCA8IGVsLnNjcm9sbFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0aXRsZScsIGRvbXV0aWwuZ2V0RGF0YShlbCwgJ3RpdGxlJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB2YWx1ZSBhdCBwYXRoIG9mIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IC0gdGhlIG9iamVjdCB0byBtb2RpZnlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtdGhlIHBhdGggb2YgcHJvcGVydHkgdG8gc2V0XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIHRoZSB2YWx1ZSB0byBzZXRcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgICAgdmFyIG5hbWVzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgc3RvcmUgPSBvYmplY3Q7XG5cbiAgICAgICAgdXRpbC5mb3JFYWNoKG5hbWVzLCBmdW5jdGlvbihuYW1lLCBpbmRleCkge1xuICAgICAgICAgICAgc3RvcmVbbmFtZV0gPSBzdG9yZVtuYW1lXSB8fCB7fTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBuYW1lcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgc3RvcmVbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RvcmUgPSBzdG9yZVtuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNoaWZ0IGEgYXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5Ljxhbnk+fSBhcnJheSAtIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNoaWZ0IC0gcG9zaXRpdmUgb3IgbmVnYXRpdmUgaW50ZWdlciB0byBzaGlmdFxuICAgICAqIEByZXR1cm5zIHtBcnJheS48YW55Pn0gc2hpZnRlZCBhcnJheVxuICAgICAqL1xuICAgIHNoaWZ0QXJyYXk6IGZ1bmN0aW9uKGFycmF5LCBzaGlmdCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gTWF0aC5hYnMoc2hpZnQpO1xuICAgICAgICB2YXIgaTtcblxuICAgICAgICBpZiAoc2hpZnQgPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGFycmF5LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoaWZ0IDwgMCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkudW5zaGlmdChhcnJheS5wb3AoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRha2UgZWxlbWVudHMgZnJvbSBhcnJheSBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmQuXG4gICAgICogQHBhcmFtIHtBcnJheS48YW55Pn0gYXJyYXkgLSBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIHN0YXJ0IGluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCAtIGVuZCBpbmRleFxuICAgICAqIEByZXR1cm5zIHtBcnJheS48YW55Pn1cbiAgICAgKi9cbiAgICB0YWtlQXJyYXk6IGZ1bmN0aW9uKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICAgIHZhciByaWdodENvdW50ID0gbGVuZ3RoIC0gZW5kO1xuICAgICAgICB2YXIgbGVmdENvdW50ID0gc3RhcnQ7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHJpZ2h0XG4gICAgICAgIGFycmF5LnNwbGljZShlbmQsIHJpZ2h0Q291bnQpO1xuICAgICAgICAvLyByZW1vdmUgbGVmdFxuICAgICAgICBhcnJheS5zcGxpY2UoMCwgbGVmdENvdW50KTtcblxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNoaWZ0IGhvdXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhvdXJzIC0gaG91cnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2hpZnQgLSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbnRlZ2VyIHRvIHNoaWZ0XG4gICAgICogQHJldHVybnMge251bWJlcn0gc2hpZnRlZCBob3Vyc1xuICAgICAqL1xuICAgIHNoaWZ0SG91cnM6IGZ1bmN0aW9uKGhvdXJzLCBzaGlmdCkge1xuICAgICAgICBpZiAoc2hpZnQgPiAwKSB7XG4gICAgICAgICAgICBob3VycyA9IChob3VycyArIHNoaWZ0KSAlIDI0O1xuICAgICAgICB9IGVsc2UgaWYgKHNoaWZ0IDwgMCkge1xuICAgICAgICAgICAgaG91cnMgKz0gc2hpZnQ7XG4gICAgICAgICAgICBob3VycyA9IGhvdXJzID4gMCA/IGhvdXJzIDogMjQgKyBob3VycztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBob3VycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgY3NzIHZhbHVlIGludG8gbnVtYmVyIGFuZCB1bml0c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjc3NWYWx1ZSAtIGNzcyB2YWx1ZSBsaWtlICc3MnB4J1xuICAgICAqIEByZXR1cm5zIHtBcnJheX0gW251bWJlciwgdW5pdF1cbiAgICAgKi9cbiAgICBwYXJzZVVuaXQ6IGZ1bmN0aW9uKGNzc1ZhbHVlKSB7XG4gICAgICAgIHZhciBudW1iZXIgPSBwYXJzZUZsb2F0KGNzc1ZhbHVlLCAxMCk7XG4gICAgICAgIHZhciB1bml0ID0gY3NzVmFsdWUubWF0Y2goL1tcXGQuXFwtK10qXFxzKiguKikvKVsxXSB8fCAnJztcblxuICAgICAgICByZXR1cm4gW251bWJlciwgdW5pdF07XG4gICAgfSxcblxuICAgIGZpbmQ6IGZ1bmN0aW9uKGFycmF5LCBpdGVyYXRlZSwgY29udGV4dG9wdCkge1xuICAgICAgICB2YXIgZm91bmQ7XG5cbiAgICAgICAgdXRpbC5mb3JFYWNoKGFycmF5LCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGl0ZXJhdGVlKGl0ZW0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGl0ZW07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LCBjb250ZXh0b3B0KTtcblxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfSxcblxuICAgIGdldFNjaGVkdWxlQ2hhbmdlczogZnVuY3Rpb24oc2NoZWR1bGUsIHByb3BOYW1lcywgZGF0YSkge1xuICAgICAgICB2YXIgY2hhbmdlcyA9IHt9O1xuICAgICAgICB2YXIgZGF0ZVByb3BzID0gWydzdGFydCcsICdlbmQnXTtcblxuICAgICAgICB1dGlsLmZvckVhY2gocHJvcE5hbWVzLCBmdW5jdGlvbihwcm9wTmFtZSkge1xuICAgICAgICAgICAgaWYgKGRhdGVQcm9wcy5pbmRleE9mKHByb3BOYW1lKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGV0aW1lLmNvbXBhcmUoc2NoZWR1bGVbcHJvcE5hbWVdLCBkYXRhW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlc1twcm9wTmFtZV0gPSBkYXRhW3Byb3BOYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF1dGlsLmlzVW5kZWZpbmVkKGRhdGFbcHJvcE5hbWVdKSAmJiBzY2hlZHVsZVtwcm9wTmFtZV0gIT09IGRhdGFbcHJvcE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlc1twcm9wTmFtZV0gPSBkYXRhW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHV0aWwuaXNFbXB0eShjaGFuZ2VzKSA/IG51bGwgOiBjaGFuZ2VzO1xuICAgIH1cbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qKlxuICogQGZpbGVvdmVydmlldyBkYXRldGltZSB1dGlsaXR5IG1vZHVsZVxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgVFpEYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlLFxuICAgIGR3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2R3ICovIFwiLi9zcmMvanMvY29tbW9uL2R3LmpzXCIpO1xudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZWxlc3MtZXNjYXBlICovXG52YXIgZGF0ZUZvcm1hdFJ4ID0gL14oXFxkezR9Wy18XFwvXSpcXGR7Mn1bLXxcXC9dKlxcZHsyfSlcXHM/KFxcZHsyfTpcXGR7Mn06XFxkezJ9KT8kLztcbnZhciBkYXRldGltZSwgdG9rZW5GdW5jO1xuXG52YXIgbWVtbyA9IHtcbiAgICBtaWxsaXNlY29uZHNUbzoge30sXG4gICAgbWlsbGlzZWNvbmRzRnJvbToge31cbn07XG5cbnRva2VuRnVuYyA9IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZGF0ZSBkYXRlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBZWVlZTU1ERFxuICAgICAqL1xuICAgICdZWVlZTU1ERCc6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIGRhdGV0aW1lLmxlYWRpbmdaZXJvKGRhdGUuZ2V0TW9udGgoKSArIDEsIDIpLFxuICAgICAgICAgICAgZGF0ZXRpbWUubGVhZGluZ1plcm8oZGF0ZS5nZXREYXRlKCksIDIpXG4gICAgICAgIF0uam9pbignJyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZGF0ZSBkYXRlIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGZvdXIgZGlnaXQgeWVhciBudW1iZXJcbiAgICAgKi9cbiAgICAnWVlZWSc6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhkYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZGF0ZSBkYXRlIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHR3byBkaWdpdCBtb250aCBudW1iZXJcbiAgICAgKi9cbiAgICAnTU0nOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRldGltZS5sZWFkaW5nWmVybyhkYXRlLmdldE1vbnRoKCkgKyAxLCAyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtUWkRhdGV9IGRhdGUgZGF0ZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0d28gZGlnaXQgZGF0ZSBudW1iZXJcbiAgICAgKi9cbiAgICAnREQnOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRldGltZS5sZWFkaW5nWmVybyhkYXRlLmdldERhdGUoKSwgMik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBkYXRlIGRhdGUgb2JqZWN0XG4gICAgICogQHJldHVybnMge3N0cmluZ30gSEg6bW1cbiAgICAgKi9cbiAgICAnSEg6bW0nOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIHZhciBob3VyID0gZGF0ZS5nZXRIb3VycygpLFxuICAgICAgICAgICAgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpO1xuXG4gICAgICAgIHJldHVybiBkYXRldGltZS5sZWFkaW5nWmVybyhob3VyLCAyKSArICc6JyArXG4gICAgICAgICAgICBkYXRldGltZS5sZWFkaW5nWmVybyhtaW51dGVzLCAyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtUWkRhdGV9IGRhdGUgZGF0ZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBoaDptbVxuICAgICAqL1xuICAgICdoaDptbSc6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgICAgIHZhciBtaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCk7XG5cbiAgICAgICAgaWYgKGhvdXIgPiAxMikge1xuICAgICAgICAgICAgaG91ciA9IGhvdXIgJSAxMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRldGltZS5sZWFkaW5nWmVybyhob3VyLCAyKSArICc6JyArXG4gICAgICAgICAgICBkYXRldGltZS5sZWFkaW5nWmVybyhtaW51dGVzLCAyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtUWkRhdGV9IGRhdGUgZGF0ZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0dFxuICAgICAqL1xuICAgICd0dCc6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKCk7XG5cbiAgICAgICAgcmV0dXJuIGhvdXIgPCAxMiA/ICdhbScgOiAncG0nO1xuICAgIH1cbn07XG5cbmRhdGV0aW1lID0ge1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIG9uZSBkYXkuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBNSUxMSVNFQ09ORFNfUEVSX0RBWTogODY0MDAwMDAsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBvbmUgaG91ci5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIE1JTExJU0VDT05EU19QRVJfSE9VUjogMzYwMDAwMCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIG9uZSBtaW51dGVzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgTUlMTElTRUNPTkRTX1BFUl9NSU5VVEVTOiA2MDAwMCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIDIwIG1pbnV0ZXMgZm9yIHNjaGVkdWxlIG1pbiBkdXJhdGlvblxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgTUlMTElTRUNPTkRTX1NDSEVEVUxFX01JTl9EVVJBVElPTjogMjAgKiA2MDAwMCxcblxuICAgIC8qKlxuICAgICAqIGNvbnZlcnQgbWlsbGlzZWNvbmRzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSB0eXBlIG9mIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0ZWUgLSBpdGVyYXRlZSBmdW5jdGlvbiB0byB1c2UgcmVkdWNlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGNvbnZlcnRlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBfY29udk1pbGxpc2Vjb25kczogZnVuY3Rpb24odHlwZSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBjb252ID0gWzI0LCA2MCwgNjAsIDEwMDBdLFxuICAgICAgICAgICAgaW5kZXggPSB7XG4gICAgICAgICAgICAgICAgZGF5OiAwLFxuICAgICAgICAgICAgICAgIGhvdXI6IDEsXG4gICAgICAgICAgICAgICAgbWludXRlczogMixcbiAgICAgICAgICAgICAgICBzZWNvbmRzOiAzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIGlmICghKHR5cGUgaW4gaW5kZXgpIHx8IGdsb2JhbC5pc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1dGlsLnJlZHVjZShbdmFsdWVdLmNvbmNhdChjb252LnNsaWNlKGluZGV4W3R5cGVdKSksIGl0ZXJhdGVlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBtaWxsaXNlY29uZHMgdmFsdWUgdG8gb3RoZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7dHlwZX0gdHlwZSBjb252ZXJ0IHRvIHR5cGUgd2FudCB0by4gc3VwcG9ydCBcImRheVwiLCBcImhvdXJcIixcbiAgICAgKiAgXCJtaW51dGVzXCIsIFwic2Vjb25kc1wiIG9ubHkuXG4gICAgICogQHBhcmFtIHt2YWx1ZX0gdmFsdWUgLSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGNvbnZlcnRlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBtaWxsaXNlY29uZHNUbzogZnVuY3Rpb24odHlwZSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gbWVtby5taWxsaXNlY29uZHNUbyxcbiAgICAgICAgICAgIGtleSA9IHR5cGUgKyB2YWx1ZTtcblxuICAgICAgICBpZiAoY2FjaGVba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBjYWNoZVtrZXldID0gZGF0ZXRpbWUuX2NvbnZNaWxsaXNlY29uZHModHlwZSwgdmFsdWUsIGZ1bmN0aW9uKG0sIHYpIHtcbiAgICAgICAgICAgIHJldHVybiBtIC8gdjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNhY2hlW2tleV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdmFsdWUgdG8gbWlsbGlzZWNvbmRzXG4gICAgICogQHBhcmFtIHt0eXBlfSB0eXBlIC0gdHlwZSBvZiBzdXBwbGllZCB2YWx1ZS4gc3VwcG9ydCBcImhvdXJcIiwgXCJtaW51dGVzXCIsIFwic2Vjb25kc1wiIG9ubHkuXG4gICAgICogQHBhcmFtIHt2YWx1ZX0gdmFsdWUgLSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGNvbnZlcnRlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBtaWxsaXNlY29uZHNGcm9tOiBmdW5jdGlvbih0eXBlLCB2YWx1ZSkge1xuICAgICAgICB2YXIgY2FjaGUgPSBtZW1vLm1pbGxpc2Vjb25kc0Zyb20sXG4gICAgICAgICAgICBrZXkgPSB0eXBlICsgdmFsdWU7XG5cbiAgICAgICAgaWYgKGNhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZVtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FjaGVba2V5XSA9IGRhdGV0aW1lLl9jb252TWlsbGlzZWNvbmRzKHR5cGUsIHZhbHVlLCBmdW5jdGlvbihtLCB2KSB7XG4gICAgICAgICAgICByZXR1cm4gbSAqIHY7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjYWNoZVtrZXldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGhvdXJzIHRvIG1pbnV0ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91cnMgLSBob3Vyc1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IG1pbnV0ZXNcbiAgICAgKi9cbiAgICBtaW51dGVzRnJvbUhvdXJzOiBmdW5jdGlvbihob3Vycykge1xuICAgICAgICByZXR1cm4gaG91cnMgKiA2MDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFrZSBkYXRlIGFycmF5IGZyb20gc3VwcGxpZWQgcGFyYW10ZXJzLlxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBzdGFydCBTdGFydCBkYXRlLlxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBlbmQgRW5kIGRhdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXAgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdXNlIGluY3JlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7VFpEYXRlW119IFRaRGF0ZSBhcnJheS5cbiAgICAgKi9cbiAgICByYW5nZTogZnVuY3Rpb24oc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgICB2YXIgc3RhcnRUaW1lID0gc3RhcnQuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgZW5kVGltZSA9IGVuZC5nZXRUaW1lKCk7XG4gICAgICAgIHZhciBjdXJzb3IgPSBzdGFydFRpbWU7XG4gICAgICAgIHZhciBkYXRlID0gZHcobmV3IFRaRGF0ZShzdGFydCkpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgd2hpbGUgKGN1cnNvciA8PSBlbmRUaW1lICYmIGVuZFRpbWUgPj0gZGF0ZS5kLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goZGF0ZXRpbWUuc3RhcnQoZGF0ZS5kKSk7XG4gICAgICAgICAgICBjdXJzb3IgPSBjdXJzb3IgKyBzdGVwO1xuICAgICAgICAgICAgZGF0ZS5hZGREYXRlKDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xvbmUgc3VwcGxpZWQgZGF0ZS5cbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZGF0ZSBkYXRlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7VFpEYXRlfSBDbG9uZWQgZGF0ZSBvYmplY3RcbiAgICAgKi9cbiAgICBjbG9uZTogZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRaRGF0ZShkYXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZSB0d28gZGF0ZXMuXG4gICAgICpcbiAgICAgKiB3aGVuIGZpcnN0IGRhdGUgaXMgbGF0ZXN0IHRoZW4gc2Vjb25kcyB0aGVuIHJldHVybiAtMS5cbiAgICAgKlxuICAgICAqIHJldHVybiArMSByZXZlcnNlLCBhbmQgcmV0dXJuIDAgaXMgc2FtZS5cbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZDEgRGF0ZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZDIgRGF0ZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSByZXN1bHQgb2YgY29tcGFyZVxuICAgICAqL1xuICAgIGNvbXBhcmU6IGZ1bmN0aW9uKGQxLCBkMikge1xuICAgICAgICB2YXIgX2QxID0gZDEuZ2V0VGltZSgpLFxuICAgICAgICAgICAgX2QyID0gZDIuZ2V0VGltZSgpO1xuXG4gICAgICAgIGlmIChfZDEgPCBfZDIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2QxID4gX2QyKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZDEgLSBkYXRlIG9uZVxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBkMiAtIGRhdGUgdHdvXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGlzIHR3byBkYXRlIGFyZSBzYW1lIHllYXIsIG1vbnRoP1xuICAgICAqL1xuICAgIGlzU2FtZU1vbnRoOiBmdW5jdGlvbihkMSwgZDIpIHtcbiAgICAgICAgcmV0dXJuIChkMS5nZXRGdWxsWWVhcigpID09PSBkMi5nZXRGdWxsWWVhcigpICYmXG4gICAgICAgICAgICAgICAgZDEuZ2V0TW9udGgoKSA9PT0gZDIuZ2V0TW9udGgoKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBkMSAtIGRhdGUgb25lXG4gICAgICogQHBhcmFtIHtUWkRhdGV9IGQyIC0gZGF0ZSB0d29cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gaXMgdHdvIGRhdGUgYXJlIHNhbWUgeWVhciwgbW9udGgsIGRhdGU/XG4gICAgICovXG4gICAgaXNTYW1lRGF0ZTogZnVuY3Rpb24oZDEsIGQyKSB7XG4gICAgICAgIHZhciBzYW1lTW9udGggPSBkYXRldGltZS5pc1NhbWVNb250aChkMSwgZDIpO1xuXG4gICAgICAgIHJldHVybiBzYW1lTW9udGggJiYgKGQxLmdldERhdGUoKSA9PT0gZDIuZ2V0RGF0ZSgpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgc3VwcGxpZWQgcGFyYW1ldGVyIGlzIHZhbGlkIGRhdGUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gZCBPYmplY3QgdG8gdmFsaWRhdGUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHJldHVybiB0cnVlIHdoZW4gcGFyYW1ldGVyIGlzIHZhbGlkIGRhdGUgb2JqZWN0LlxuICAgICAqL1xuICAgIGlzVmFsaWQ6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgaWYgKGQgaW5zdGFuY2VvZiBUWkRhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiAhd2luZG93LmlzTmFOKGQuZ2V0VGltZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY29udmVydCBub24gbG9jYWwgZGF0ZSB0byBVVEMgZGF0ZS5cbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZCBEYXRlIHRvIGNvbnZlcnQgVVRDLlxuICAgICAqIEByZXR1cm5zIHtUWkRhdGV9IFRoZSBVVEMgRGF0ZS5cbiAgICAgKi9cbiAgICB0b1VUQzogZnVuY3Rpb24oZCkge1xuICAgICAgICB2YXIgbCA9IGQuZ2V0VGltZSgpLFxuICAgICAgICAgICAgb2Zmc2V0ID0gZGF0ZXRpbWUubWlsbGlzZWNvbmRzRnJvbSgnbWludXRlcycsIG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUWkRhdGUobCArIG9mZnNldCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHBhZCBsZWZ0IHplcm8gY2hhcmFjdGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIG51bWJlciB2YWx1ZSB0byBwYWQgemVyby5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIHBhZCBsZW5ndGggdG8gd2FudC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBwYWRkZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGxlYWRpbmdaZXJvOiBmdW5jdGlvbihudW1iZXIsIGxlbmd0aCkge1xuICAgICAgICB2YXIgemVybyA9ICcnLFxuICAgICAgICAgICAgaSA9IDA7XG5cbiAgICAgICAgaWYgKFN0cmluZyhudW1iZXIpLmxlbmd0aCA+IGxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhudW1iZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICg7IGkgPCAobGVuZ3RoIC0gMSk7IGkgKz0gMSkge1xuICAgICAgICAgICAgemVybyArPSAnMCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKHplcm8gKyBudW1iZXIpLnNsaWNlKGxlbmd0aCAqIC0xKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBkYXRlIHN0cmluZyB0byBkYXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIE9ubHkgbGlzdGVkIGJlbG93IGZvcm1hdHMgYXZhbGlhYmxlLlxuICAgICAqXG4gICAgICogLSBZWVlZTU1ERFxuICAgICAqIC0gWVlZWS9NTS9ERFxuICAgICAqIC0gWVlZWS1NTS1ERFxuICAgICAqIC0gWVlZWS9NTS9ERCBISDptbTpTU1xuICAgICAqIC0gWVlZWS1NTS1ERCBISDptbTpTU1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBGb3JtYXR0ZWQgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZml4TW9udGg9LTFdIC0gbnVtYmVyIGZvciBmaXggbW9udGggY2FsY3VsYXRpbmcuXG4gICAgICogQHJldHVybnMgeyhUWkRhdGV8Ym9vbGVhbil9IENvbnZlcnRlZCBEYXRlIG9iamVjdC4gd2hlbiBzdXBwbGllZCBzdHIgaXMgbm90IGF2YWlsYWJsZSB0aGVuIHJldHVybiBmYWxzZS5cbiAgICAgKi9cbiAgICBwYXJzZTogZnVuY3Rpb24oc3RyLCBmaXhNb250aCkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yLFxuICAgICAgICAgICAgbWF0Y2hlcyA9IHN0ci5tYXRjaChkYXRlRm9ybWF0UngpLFxuICAgICAgICAgICAgeW1kLFxuICAgICAgICAgICAgaG1zO1xuXG4gICAgICAgIGlmICh1dGlsLmlzVW5kZWZpbmVkKGZpeE1vbnRoKSkge1xuICAgICAgICAgICAgZml4TW9udGggPSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPiA4KSB7XG4gICAgICAgICAgICAvLyBZWVlZL01NL0REXG4gICAgICAgICAgICAvLyBZWVlZLU1NLUREXG4gICAgICAgICAgICAvLyBZWVlZL01NL0REIEhIOm1tOlNTXG4gICAgICAgICAgICAvLyBZWVlZLU1NLUREIEhIOm1tOlNTXG4gICAgICAgICAgICBzZXBhcmF0b3IgPSB+c3RyLmluZGV4T2YoJy8nKSA/ICcvJyA6ICctJztcbiAgICAgICAgICAgIG1hdGNoZXMgPSBtYXRjaGVzLnNwbGljZSgxKTtcblxuICAgICAgICAgICAgeW1kID0gbWF0Y2hlc1swXS5zcGxpdChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgaG1zID0gbWF0Y2hlc1sxXSA/IG1hdGNoZXNbMV0uc3BsaXQoJzonKSA6IFswLCAwLCAwXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFlZWVlNTUREXG4gICAgICAgICAgICBtYXRjaGVzID0gbWF0Y2hlc1swXTtcbiAgICAgICAgICAgIHltZCA9IFttYXRjaGVzLnN1YnN0cigwLCA0KSwgbWF0Y2hlcy5zdWJzdHIoNCwgMiksIG1hdGNoZXMuc3Vic3RyKDYsIDIpXTtcbiAgICAgICAgICAgIGhtcyA9IFswLCAwLCAwXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVFpEYXRlKCkuc2V0V2l0aFJhdyhcbiAgICAgICAgICAgIE51bWJlcih5bWRbMF0pLFxuICAgICAgICAgICAgTnVtYmVyKHltZFsxXSkgKyBmaXhNb250aCxcbiAgICAgICAgICAgIE51bWJlcih5bWRbMl0pLFxuICAgICAgICAgICAgTnVtYmVyKGhtc1swXSksXG4gICAgICAgICAgICBOdW1iZXIoaG1zWzFdKSxcbiAgICAgICAgICAgIE51bWJlcihobXNbMl0pLFxuICAgICAgICAgICAgMFxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gZGF0ZSBvYmplY3QgZnJvbSBEYXRlLlxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBkYXRlIGRhdGVcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBEYXRlIG9iamVjdC5cbiAgICAgKi9cbiAgICByYXc6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHk6IGRhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIE06IGRhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgIGQ6IGRhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgaDogZGF0ZS5nZXRIb3VycygpLFxuICAgICAgICAgICAgbTogZGF0ZS5nZXRNaW51dGVzKCksXG4gICAgICAgICAgICBzOiBkYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgICAgIG1zOiBkYXRlLmdldE1pbGxpc2Vjb25kcygpXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiAwMDowMDowMCBzdXBwbGllZCBkYXRlLlxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBkYXRlIGRhdGUuIGlmIHVuZGVmaW5lZCwgdXNlIG5vdy5cbiAgICAgKiBAcmV0dXJucyB7VFpEYXRlfSBzdGFydCBkYXRlLlxuICAgICAqL1xuICAgIHN0YXJ0OiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIHZhciBkID0gZGF0ZSA/IG5ldyBUWkRhdGUoZGF0ZSkgOiBuZXcgVFpEYXRlKCk7XG4gICAgICAgIGQuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiAyMzo1OTo1OSBzdXBwbGllZCBkYXRlLlxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBkYXRlIGRhdGUuIGlmIHVuZGVmaW5lZCwgdXNlIG5vdy5cbiAgICAgKiBAcmV0dXJucyB7VFpEYXRlfSBlbmQgZGF0ZS5cbiAgICAgKi9cbiAgICBlbmQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgdmFyIGQgPSBkYXRlID8gbmV3IFRaRGF0ZShkYXRlKSA6IG5ldyBUWkRhdGUoKTtcbiAgICAgICAgZC5zZXRIb3VycygyMywgNTksIDU5LCAwKTtcblxuICAgICAgICByZXR1cm4gZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGZvcm1hdHRlZCBzdHJpbmcgYXMgYmFzaXMgb2Ygc3VwcGxpZWQgc3RyaW5nLlxuICAgICAqXG4gICAgICogU3VwcG9ydGVkIFRva2VuIExpc3RzLlxuICAgICAqXG4gICAgICogLSBZWVlZID0+IDE5ODhcbiAgICAgKiAtIE1NID0+IDAxIH4gMTJcbiAgICAgKiAtIEREID0+IDAxIH4gMzFcbiAgICAgKiAtIFlZWVlNTUREID0+IDE5ODgwOTI1XG4gICAgICogQHBhcmFtIHtUWkRhdGV9IGRhdGUgU3RyaW5nIHdhbnQgdG8gZm9ybWF0dGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXQgZm9ybWF0IHN0ci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAgRm9ybWF0dGVkIGRhdGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZvcm1hdDogZnVuY3Rpb24oZGF0ZSwgZm9ybWF0KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBmb3JtYXQ7XG4gICAgICAgIHV0aWwuZm9yRWFjaE93blByb3BlcnRpZXModG9rZW5GdW5jLCBmdW5jdGlvbihjb252ZXJ0ZXIsIHRva2VuKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSh0b2tlbiwgY29udmVydGVyKGRhdGUpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHN0YXJ0IGRhdGUgb2Ygc3BlY2lmaWMgbW9udGhcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZGF0ZSAtIGRhdGUgdG8gZ2V0IHN0YXJ0IGRhdGVcbiAgICAgKiBAcmV0dXJucyB7VFpEYXRlfSBzdGFydCBkYXRlIG9mIHN1cHBsaWVkIG1vbnRoXG4gICAgICovXG4gICAgc3RhcnREYXRlT2ZNb250aDogZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICB2YXIgc3RhcnREYXRlID0gbmV3IFRaRGF0ZShkYXRlKTtcblxuICAgICAgICBzdGFydERhdGUuc2V0RGF0ZSgxKTtcbiAgICAgICAgc3RhcnREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXG4gICAgICAgIHJldHVybiBzdGFydERhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBlbmQgZGF0ZSBvZiBzcGVjaWZpYyBtb250aFxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBkYXRlIC0gZGF0ZSB0byBnZXQgZW5kIGRhdGVcbiAgICAgKiBAcmV0dXJucyB7VFpEYXRlfSBlbmQgZGF0ZSBvZiBzdXBwbGllZCBtb250aFxuICAgICAqL1xuICAgIGVuZERhdGVPZk1vbnRoOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIHZhciBlbmREYXRlID0gZGF0ZXRpbWUuc3RhcnREYXRlT2ZNb250aChkYXRlKTtcblxuICAgICAgICBlbmREYXRlLnNldE1vbnRoKGVuZERhdGUuZ2V0TW9udGgoKSArIDEpO1xuICAgICAgICBlbmREYXRlLnNldERhdGUoZW5kRGF0ZS5nZXREYXRlKCkgLSAxKTtcbiAgICAgICAgZW5kRGF0ZS5zZXRIb3VycygyMywgNTksIDU5KTtcblxuICAgICAgICByZXR1cm4gZW5kRGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIDItZGltZW5zaW9uYWwgYXJyYXkgbW9udGggY2FsZW5kYXJcbiAgICAgKlxuICAgICAqIGRhdGVzIHRoYXQgZGlmZmVyZW50IG1vbnRoIHdpdGggZ2l2ZW4gZGF0ZSBhcmUgbmVnYXRpdmUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtUWkRhdGV9IG1vbnRoIC0gZGF0ZSB3YW50IHRvIGNhbGN1bGF0ZSBtb250aCBjYWxlbmRhclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGFydERheU9mV2Vlaz0wXSAtIHN0YXJ0IGRheSBvZiB3ZWVrXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmlzQWx3YXlzNldlZWsgLSB3aGV0aGVyIHRoZSBudW1iZXIgb2Ygd2Vla3MgYXJlIGFsd2F5cyA2XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMudmlzaWJsZVdlZWtzQ291bnQgdmlzaWJsZSB3ZWVrcyBjb3VudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy53b3Jrd2VlayAtIG9ubHkgc2hvdyB3b3JrIHdlZWtcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaXRlcmF0ZWVdIC0gaXRlcmF0ZWUgZm9yIGN1c3RvbWl6aW5nIGNhbGVuZGFyIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtBcnJheS48VFpEYXRlW10+fSBjYWxlbmRhciAyZCBhcnJheVxuICAgICAqL1xuICAgIGFycjJkQ2FsZW5kYXI6IGZ1bmN0aW9uKG1vbnRoLCBvcHRpb25zLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgd2Vla0FycixcbiAgICAgICAgICAgIHN0YXJ0LCBlbmQsXG4gICAgICAgICAgICBzdGFydEluZGV4LCBlbmRJbmRleCxcbiAgICAgICAgICAgIHRvdGFsRGF0ZSwgYWZ0ZXJEYXRlcyxcbiAgICAgICAgICAgIGN1cnNvciwgd2VlayxcbiAgICAgICAgICAgIGNhbGVuZGFyID0gW10sXG4gICAgICAgICAgICBzdGFydERheU9mV2VlayA9IG9wdGlvbnMuc3RhcnREYXlPZldlZWssXG4gICAgICAgICAgICBpc0Fsd2F5czZXZWVrID0gdXRpbC5pc1VuZGVmaW5lZChvcHRpb25zLmlzQWx3YXlzNldlZWspIHx8IG9wdGlvbnMuaXNBbHdheXM2V2VlayxcbiAgICAgICAgICAgIHZpc2libGVXZWVrc0NvdW50ID0gb3B0aW9ucy52aXNpYmxlV2Vla3NDb3VudCxcbiAgICAgICAgICAgIHdvcmt3ZWVrID0gb3B0aW9ucy53b3Jrd2VlaztcblxuICAgICAgICBpZiAodmlzaWJsZVdlZWtzQ291bnQpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gbmV3IFRaRGF0ZShtb250aCk7XG4gICAgICAgICAgICBlbmQgPSBkdyhuZXcgVFpEYXRlKG1vbnRoKSk7XG4gICAgICAgICAgICBlbmQuYWRkRGF0ZSg3ICogKHZpc2libGVXZWVrc0NvdW50IC0gMSkpO1xuICAgICAgICAgICAgZW5kID0gZW5kLmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGFydCA9IGRhdGV0aW1lLnN0YXJ0RGF0ZU9mTW9udGgobW9udGgpO1xuICAgICAgICAgICAgZW5kID0gZGF0ZXRpbWUuZW5kRGF0ZU9mTW9udGgobW9udGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JlYXRlIGRheSBudW1iZXIgYXJyYXkgYnkgc3RhcnREYXlPZldlZWsgbnVtYmVyXG4gICAgICAgIC8vIDQgLT4gWzQsIDUsIDYsIDAsIDEsIDIsIDNdXG4gICAgICAgIC8vIDIgLT4gWzIsIDMsIDQsIDUsIDYsIDAsIDFdXG4gICAgICAgIHdlZWtBcnIgPSB1dGlsLnJhbmdlKHN0YXJ0RGF5T2ZXZWVrLCA3KS5jb25jYXQodXRpbC5yYW5nZSg3KSkuc2xpY2UoMCwgNyk7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB1dGlsLmluQXJyYXkoc3RhcnQuZ2V0RGF5KCksIHdlZWtBcnIpO1xuICAgICAgICBlbmRJbmRleCA9IHV0aWwuaW5BcnJheShlbmQuZ2V0RGF5KCksIHdlZWtBcnIpO1xuICAgICAgICAvLyBmcmVlIGRhdGVzIGFmdGVyIGxhc3QgZGF0ZSBvZiB0aGlzIG1vbnRoXG4gICAgICAgIGFmdGVyRGF0ZXMgPSA3IC0gKGVuZEluZGV4ICsgMSk7XG5cbiAgICAgICAgaWYgKHZpc2libGVXZWVrc0NvdW50KSB7XG4gICAgICAgICAgICB0b3RhbERhdGUgPSA3ICogdmlzaWJsZVdlZWtzQ291bnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b3RhbERhdGUgPSBpc0Fsd2F5czZXZWVrID8gKDcgKiA2KSA6IChzdGFydEluZGV4ICsgZW5kLmdldERhdGUoKSArIGFmdGVyRGF0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnNvciA9IGRhdGV0aW1lLnN0YXJ0KHN0YXJ0KS5hZGREYXRlKC1zdGFydEluZGV4KTtcbiAgICAgICAgLy8gaXRlcmF0ZWUgYWxsIGRhdGVzIHRvIHJlbmRlclxuICAgICAgICB1dGlsLmZvckVhY2hBcnJheSh1dGlsLnJhbmdlKHRvdGFsRGF0ZSksIGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgIHZhciBkYXRlO1xuXG4gICAgICAgICAgICBpZiAoIShpICUgNykpIHtcbiAgICAgICAgICAgICAgICAvLyBncm91cCBlYWNoIGRhdGUgYnkgd2Vla1xuICAgICAgICAgICAgICAgIHdlZWsgPSBjYWxlbmRhcltpIC8gN10gPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0ZSA9IGRhdGV0aW1lLnN0YXJ0KGN1cnNvcik7XG4gICAgICAgICAgICBkYXRlID0gaXRlcmF0ZWUgPyBpdGVyYXRlZShkYXRlKSA6IGRhdGU7XG4gICAgICAgICAgICBpZiAoIXdvcmt3ZWVrIHx8ICFkYXRldGltZS5pc1dlZWtlbmQoZGF0ZS5nZXREYXkoKSkpIHtcbiAgICAgICAgICAgICAgICB3ZWVrLnB1c2goZGF0ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFkZCBkYXRlXG4gICAgICAgICAgICBjdXJzb3Iuc2V0RGF0ZShjdXJzb3IuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjYWxlbmRhcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGdyaWQgbGVmdCglKSwgd2lkdGgoJSkgYnkgbmFycm93V2Vla2VuZCwgc3RhcnREYXlPZldlZWssIHdvcmt3ZWVrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGF5cyAtIGRheSBsZW5ndGggb2Ygd2Vla1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbmFycm93V2Vla2VuZCAtIG5hcnJvdyB3ZWVrZW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0RGF5T2ZXZWVrIC0gc3RhcnQgZGF5IG9mIHdlZWtcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdvcmt3ZWVrIC0gb25seSBzaG93IHdvcmsgd2Vla1xuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGF5LCBsZWZ0LCB3aWR0aFxuICAgICAqL1xuICAgIGdldEdyaWRMZWZ0QW5kV2lkdGg6IGZ1bmN0aW9uKGRheXMsIG5hcnJvd1dlZWtlbmQsIHN0YXJ0RGF5T2ZXZWVrLCB3b3Jrd2Vlaykge1xuICAgICAgICB2YXIgbGltaXREYXlzVG9BcHBseU5hcnJvd1dlZWtlbmQgPSA1O1xuICAgICAgICB2YXIgdW5pZm9ybVdpZHRoID0gMTAwIC8gZGF5cztcbiAgICAgICAgdmFyIHdpZGVXaWR0aCA9IGRheXMgPiBsaW1pdERheXNUb0FwcGx5TmFycm93V2Vla2VuZCA/IDEwMCAvIChkYXlzIC0gMSkgOiB1bmlmb3JtV2lkdGg7XG4gICAgICAgIHZhciBhY2N1bXVsYXRlZFdpZHRoID0gMDtcbiAgICAgICAgdmFyIGRhdGVzID0gdXRpbC5yYW5nZShzdGFydERheU9mV2VlaywgNykuY29uY2F0KHV0aWwucmFuZ2UoZGF5cykpLnNsaWNlKDAsIDcpO1xuXG4gICAgICAgIGlmICh3b3Jrd2Vlaykge1xuICAgICAgICAgICAgZGF0ZXMgPSB1dGlsLmZpbHRlcihkYXRlcywgZnVuY3Rpb24oZGF5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFkYXRldGltZS5pc1dlZWtlbmQoZGF5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbmFycm93V2Vla2VuZCA9IHdvcmt3ZWVrID8gZmFsc2UgOiBuYXJyb3dXZWVrZW5kO1xuXG4gICAgICAgIHJldHVybiB1dGlsLm1hcChkYXRlcywgZnVuY3Rpb24oZGF5KSB7XG4gICAgICAgICAgICB2YXIgbW9kZWw7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSBuYXJyb3dXZWVrZW5kID8gd2lkZVdpZHRoIDogdW5pZm9ybVdpZHRoO1xuICAgICAgICAgICAgaWYgKGRheXMgPiBsaW1pdERheXNUb0FwcGx5TmFycm93V2Vla2VuZCAmJiBuYXJyb3dXZWVrZW5kICYmIGRhdGV0aW1lLmlzV2Vla2VuZChkYXkpKSB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB3aWRlV2lkdGggLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb2RlbCA9IHtcbiAgICAgICAgICAgICAgICBkYXk6IGRheSxcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgbGVmdDogYWNjdW11bGF0ZWRXaWR0aFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYWNjdW11bGF0ZWRXaWR0aCArPSB3aWR0aDtcblxuICAgICAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoYXQgZGF5IGlzIHdlZWtlbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGF5IG51bWJlclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHdlZWtlbmQgb3IgZmFsc2VcbiAgICAgKi9cbiAgICBpc1dlZWtlbmQ6IGZ1bmN0aW9uKGRheSkge1xuICAgICAgICByZXR1cm4gZGF5ID09PSAwIHx8IGRheSA9PT0gNjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBkYXRlIGlzIGJldHdlZW4gc3VwcGxpZWQgZGF0ZXMgd2l0aCBkYXRlIHZhbHVlP1xuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBkIC0gdGFyZ2V0IGRhdGVcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZDEgLSBmcm9tIGRhdGVcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZDIgLSB0byBkYXRlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGlzIGJldHdlZW4/XG4gICAgICovXG4gICAgaXNCZXR3ZWVuV2l0aERhdGU6IGZ1bmN0aW9uKGQsIGQxLCBkMikge1xuICAgICAgICB2YXIgZm9ybWF0ID0gJ1lZWVlNTUREJztcbiAgICAgICAgZCA9IHBhcnNlSW50KGRhdGV0aW1lLmZvcm1hdChkLCBmb3JtYXQpLCAxMCk7XG4gICAgICAgIGQxID0gcGFyc2VJbnQoZGF0ZXRpbWUuZm9ybWF0KGQxLCBmb3JtYXQpLCAxMCk7XG4gICAgICAgIGQyID0gcGFyc2VJbnQoZGF0ZXRpbWUuZm9ybWF0KGQyLCBmb3JtYXQpLCAxMCk7XG5cbiAgICAgICAgcmV0dXJuIGQxIDw9IGQgJiYgZCA8PSBkMjtcbiAgICB9LFxuXG4gICAgaXNTdGFydE9mRGF5OiBmdW5jdGlvbihkKSB7XG4gICAgICAgIHJldHVybiAhZGF0ZXRpbWUuY29tcGFyZShkYXRldGltZS5zdGFydChkKSwgZCk7XG4gICAgfSxcblxuICAgIGNvbnZlcnRTdGFydERheVRvTGFzdERheTogZnVuY3Rpb24oZCkge1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBUWkRhdGUoZCk7XG4gICAgICAgIGlmIChkYXRldGltZS5pc1N0YXJ0T2ZEYXkoZCkpIHtcbiAgICAgICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIDEpO1xuICAgICAgICAgICAgZGF0ZS5zZXRIb3VycygyMywgNTksIDU5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH0sXG5cbiAgICBnZXRTdGFydE9mTmV4dERheTogZnVuY3Rpb24oZCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGRhdGV0aW1lLnN0YXJ0KGQpO1xuICAgICAgICBkYXRlLnNldEhvdXJzKDI0KTtcblxuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICB9LFxuXG4gICAgZ2V0RGF0ZURpZmZlcmVuY2U6IGZ1bmN0aW9uKGQxLCBkMikge1xuICAgICAgICB2YXIgdGltZTEgPSBuZXcgVFpEYXRlKGQxLmdldEZ1bGxZZWFyKCksIGQxLmdldE1vbnRoKCksIGQxLmdldERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgdGltZTIgPSBuZXcgVFpEYXRlKGQyLmdldEZ1bGxZZWFyKCksIGQyLmdldE1vbnRoKCksIGQyLmdldERhdGUoKSkuZ2V0VGltZSgpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKCh0aW1lMSAtIHRpbWUyKSAvIGRhdGV0aW1lLk1JTExJU0VDT05EU19QRVJfREFZKTtcbiAgICB9LFxuXG4gICAgZ2V0SG91ckRpZmZlcmVuY2U6IGZ1bmN0aW9uKGQxLCBkMikge1xuICAgICAgICB2YXIgdGltZTEgPSBuZXcgVFpEYXRlKGQxKS5nZXRUaW1lKCk7XG4gICAgICAgIHZhciB0aW1lMiA9IG5ldyBUWkRhdGUoZDIpLmdldFRpbWUoKTtcblxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgodGltZTEgLSB0aW1lMikgLyBkYXRldGltZS5NSUxMSVNFQ09ORFNfUEVSX0hPVVIpO1xuICAgIH0sXG5cbiAgICBoYXNNdWx0aURhdGVzOiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICAgIHZhciBkaWZmRGF5cyA9IGRhdGV0aW1lLmdldERhdGVEaWZmZXJlbmNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB2YXIgZGlmZkhvdXJzID0gTWF0aC5hYnMoZGF0ZXRpbWUuZ2V0SG91ckRpZmZlcmVuY2Uoc3RhcnQsIGVuZCkpO1xuICAgICAgICB2YXIgd2l0aGluRGF5ID0gTWF0aC5hYnMoZGlmZkRheXMpID09PSAxICYmIGRpZmZIb3VycyA8IDI0ICYmIGRhdGV0aW1lLmlzU3RhcnRPZkRheShlbmQpO1xuXG4gICAgICAgIHJldHVybiAhZGF0ZXRpbWUuaXNTYW1lRGF0ZShzdGFydCwgZW5kKSAmJiAhd2l0aGluRGF5O1xuICAgIH0sXG5cbiAgICByZW5kZXJFbmQ6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdmFyIGRpZmZEYXlzID0gZGF0ZXRpbWUuZ2V0RGF0ZURpZmZlcmVuY2Uoc3RhcnQsIGVuZCk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGRpZmZEYXlzKSA+PSAxICYmIGRhdGV0aW1lLmlzU3RhcnRPZkRheShlbmQpID9cbiAgICAgICAgICAgIGRhdGV0aW1lLmNvbnZlcnRTdGFydERheVRvTGFzdERheShlbmQpIDpcbiAgICAgICAgICAgIGRhdGV0aW1lLmVuZChlbmQpO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZGF0ZXRpbWU7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2NvbW1vbi9kaXJ0eS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29tbW9uL2RpcnR5LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBEaXJ0eSBmbGFnZ2luZyBtb2R1bGUgZm9yIG9iamVjdHMuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciBjb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBleGlzdHkgPSBjb21tb24uaXNFeGlzdHksXG4gICAgcGljayA9IGNvbW1vbi5waWNrLFxuICAgIGlzRnVuYyA9IGNvbW1vbi5pc0Z1bmN0aW9uO1xuXG4vKipcbiAqIE1peGluIG1vZHVsZSBmb3IgZGlydHkgZmxhZ2dpbmcgb24gc3BlY2lmaWMgb2JqZWN0cy5cbiAqIEBtaXhpblxuICogQGV4YW1wbGVcbiAqIHZhciBvYmogPSB7IGhlbGxvOiAnZ29vZCcsIHRlc3Q6ICcxMjMnIH07XG4gKiBkaXJ0eS5taXhpbihvYmopO1xuICpcbiAqIG9iai5zZXQoJ2hlbGxvJywgJ3dvcmxkJyk7XG4gKiBvYmouaXNEaXJ0eSgpOyAgICAvLyB0cnVlXG4gKiBvYmouaXNQcm9wQ2hhbmdlZCgnaGVsbG8nKTsgICAgLy8gdHJ1ZVxuICogb2JqLmlzUHJvcENoYW5nZWQoJ3Rlc3QnKTsgICAgLy8gZmFsc2VcbiAqIG9iai5kaXJ0eShmYWxzZSk7XG4gKlxuICogb2JqLmlzRGlydHkoKTsgICAgLy8gZmFsc2VcbiAqIG9iai5pc1Byb3BDaGFuZ2VkKCdoZWxsbycpOyAgICAvLyBmYWxzZVxuICovXG52YXIgZGlydHkgPSB7XG4gICAgLyoqXG4gICAgICogU2V0IHByb3BlcnR5IHZhbHVlIHdpdGggZGlydHkgZmxhZ2dpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BOYW1lIFByb3BlcnR5IG5hbWUuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBQcm9wcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ocHJvcE5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHZhciBvcmlnaW5WYWx1ZSA9IHRoaXNbcHJvcE5hbWVdO1xuXG4gICAgICAgIGlmIChvcmlnaW5WYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXNbcHJvcE5hbWVdID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9jaGFuZ2VkKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNhdmUgY2hhbmdlZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICogQG1lbWJlcm9mIGRpcnR5XG4gICAgICAgICAgICAgKiBAbmFtZSBfY2hhbmdlZFxuICAgICAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2hhbmdlZFtwcm9wTmFtZV0gPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBmbGFnXG4gICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICAgKiBAbmFtZSBfZGlydHlcbiAgICAgICAgICogQG1lbWJlcm9mIGRpcnR5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGRpcnR5IGZsYWcuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFByb3BlcnR5IGlzIGNoYW5nZWQuXG4gICAgICovXG4gICAgaXNEaXJ0eTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RpcnR5O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgZGlydHkgZmxhZyBtYW51YWxseS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFt0b0RpcnR5PXRydWVdIFRoaXMgd2lsbCBzZXQgZGlydHkgZmxhZyBkaXJlY3RseS5cbiAgICAgKi9cbiAgICBkaXJ0eTogZnVuY3Rpb24odG9EaXJ0eSkge1xuICAgICAgICB0b0RpcnR5ID0gZXhpc3R5KHRvRGlydHkpID8gdG9EaXJ0eSA6IHRydWU7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKCF0b0RpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VkID0ge307XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRvRGlydHk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBwcm9wZXJ0eSBzYWZldHkuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lIFRoZSBuYW1lIG9mIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGRlbGV0ZVByb3A6IGZ1bmN0aW9uKHByb3BOYW1lKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BOYW1lXTtcblxuICAgICAgICBpZiAodGhpcy5fY2hhbmdlZCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NoYW5nZWRbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRoZSBjaGFuZ2VzIHdpdGggc3BlY2lmaWMgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lIFRoZSBuYW1lIG9mIHByb3BlcnR5IHlvdSB3YW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBJcyBwcm9wZXJ0eSBjaGFuZ2VkP1xuICAgICAqL1xuICAgIGlzUHJvcENoYW5nZWQ6IGZ1bmN0aW9uKHByb3BOYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2hhbmdlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5nZWRbcHJvcE5hbWVdID09PSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNaXhpbiB0byBzcGVjaWZpYyBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIG9iamVjdCB0byBtaXggdGhpcyBtb2R1bGUuXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTp1dGlsL2RpcnR5XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBmdW5jdGlvbiBBbmltYWwoKSB7fVxuICAgICAqIGRpcnR5Lm1peGluKEFuaW1hbC5wcm90b3R5cGUpO1xuICAgICAqL1xuICAgIG1peGluOiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgdmFyIG1ldGhvZEZpbHRlclIgPSAvKF5ffG1peGlufHdyYXApLztcblxuICAgICAgICBjb21tb24uZm9yRWFjaE93blByb3BlcnRpZXMoZGlydHksIGZ1bmN0aW9uKG8sIGspIHtcbiAgICAgICAgICAgIGlmICghbWV0aG9kRmlsdGVyUi50ZXN0KGspKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tdID0gZGlydHlba107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBXcmFwcGVyIG1ldGhvZCBmb3IgZGlydHkgZmxhZ2dpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2UgYWZ0ZXIgaW52b2tlZCBzcGVjaWZpYyBtZXRob2QgdGhhdCBhZGRlZCBieSB5b3UuXG4gICAgICpcbiAgICAgKiBUaGUgbWV0aG9kIHdhbnQgdG8gYWRkIGFyZSBtdXN0IGV4aXN0IGJlZm9yZSBhZGQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldCBUYXJnZXQgb2JqZWN0IHRvIG1ldGhvZCB3cmFwLlxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3xvYmplY3QpfSBtZXRob2ROYW1lXG4gICAgICogIE1ldGhvZCBuYW1lIHRvIHdyYXAgb3IgbWV0aG9kTmFtZTogZmxhZyBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZsYWc9dHJ1ZV1cbiAgICAgKiAgdGhpcyB3aWxsIHVzZWQgdG8gZmxhZ2dpbmcgYnkgZGlydHkgZmxhZ2dlciBhZnRlciBpbnZva2UgdGhlIG1ldGhvZHMgYWRkZWQgYnkgeW91LlxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6dXRpbC9kaXJ0eVxuICAgICAqIEBleGFtcGxlXG4gICAgICogZnVuY3Rpb24gQW5pbWFsKG5hbWUpIHtcbiAgICAgKiAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgKiB9XG4gICAgICogQW5pbWFsLnByb3RvdHlwZS5ncm93bCA9IGphc21pbmUuY3JlYXRlU3B5KCdncm93bCcpO1xuICAgICAqIEFuaW1hbC5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBkaXJ0eS5taXhpbihBbmltYWwucHJvdG90eXBlKTtcbiAgICAgKiAvLyBzaW5nbGVcbiAgICAgKiBkaXJ0eS53cmFwKEFuaW1hbC5wcm90b3R5cGUsICdncm93bCcsIHRydWUpO1xuICAgICAqIC8vIG11bHRpcGxlXG4gICAgICogZGlydHkud3JhcChBbmltYXAucHJvdG90eXBlLCB7XG4gICAgICogICAgIGdyb3dsOiB0cnVlLFxuICAgICAqICAgICB0ZXN0OiBmYWxzZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICovXG4gICAgd3JhcDogZnVuY3Rpb24odGFyZ2V0LCBtZXRob2ROYW1lLCBmbGFnKSB7XG4gICAgICAgIHZhciB3cmFwID0gZGlydHkud3JhcCxcbiAgICAgICAgICAgIGZuO1xuXG4gICAgICAgIGlmIChjb21tb24uaXNPYmplY3QobWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICAgIGNvbW1vbi5mb3JFYWNoT3duUHJvcGVydGllcyhtZXRob2ROYW1lLCBmdW5jdGlvbihfZmxhZywgX25hbWUpIHtcbiAgICAgICAgICAgICAgICB3cmFwKHRhcmdldCwgX25hbWUsIF9mbGFnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmbGFnID0gZXhpc3R5KGZsYWcpID8gZmxhZyA6IHRydWU7XG5cbiAgICAgICAgaWYgKCF0YXJnZXQuX3dyYXBwZXIpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gX2ZuIE9yaWdpbmFsIG1ldGhvZCB0byB3cmFwLlxuICAgICAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBmbGFnVG9TZXQgVGhlIGJvb2xlYW4gdmFsdWUgdG8gdXNpbmcgZGlydHkgZmxhZ2dpbmcuXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdCB2YWx1ZSBvZiBvcmlnaW5hbCBtZXRob2QuXG4gICAgICAgICAgICAgKiBAbmFtZSBfd3JhcHBlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIGRpcnR5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRhcmdldC5fd3JhcHBlciA9IGZ1bmN0aW9uKF9mbiwgZmxhZ1RvU2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfZm4uYXBwbHkodGhpcywgYXJncyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBmbGFnVG9TZXQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4aXN0eShwaWNrKHRhcmdldCwgbWV0aG9kTmFtZSkpICYmXG4gICAgICAgICAgICBpc0Z1bmModGFyZ2V0W21ldGhvZE5hbWVdKSAmJlxuICAgICAgICAgICAgIWV4aXN0eShwaWNrKHRhcmdldCwgbWV0aG9kTmFtZSwgJ193cmFwcGVkJykpKSB7XG4gICAgICAgICAgICBmbiA9IHRhcmdldFttZXRob2ROYW1lXTtcbiAgICAgICAgICAgIHRhcmdldFttZXRob2ROYW1lXSA9IHRhcmdldC5fd3JhcHBlcihmbiwgZmxhZyk7XG4gICAgICAgICAgICB0YXJnZXRbbWV0aG9kTmFtZV0uX3dyYXBwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkaXJ0eTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tZXZlbnQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2NvbW1vbi9kb21ldmVudC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQgY29tcGxleGl0eTogMCAqL1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFV0aWxpdHkgbW9kdWxlIGZvciBoYW5kbGluZyBET00gZXZlbnRzLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGV2ZW50S2V5ID0gJ19ldnQnLFxuICAgIERSQUdfU1RBUlQgPSBbJ3RvdWNoc3RhcnQnLCAnbW91c2Vkb3duJ107XG5cbnZhciBkb21ldmVudCA9IHtcbiAgICAvKipcbiAgICAgKiBCaW5kIGRvbSBldmVudHMuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gb2JqIEhUTUxFbGVtZW50IHRvIGJpbmQgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3xvYmplY3QpfSB0eXBlcyBTcGFjZSBzcGxpdHRlZCBldmVudHMgbmFtZXMgb3IgZXZlbnROYW1lOmhhbmRsZXIgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gZm4gaGFuZGxlciBmdW5jdGlvbiBvciBjb250ZXh0IGZvciBoYW5kbGVyIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSBjb250ZXh0IG9iamVjdCBmb3IgaGFuZGxlciBtZXRob2QuXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKG9iaiwgdHlwZXMsIGZuLCBjb250ZXh0KSB7XG4gICAgICAgIGlmICh1dGlsLmlzU3RyaW5nKHR5cGVzKSkge1xuICAgICAgICAgICAgdXRpbC5mb3JFYWNoKHR5cGVzLnNwbGl0KCcgJyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBkb21ldmVudC5fb24ob2JqLCB0eXBlLCBmbiwgY29udGV4dCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdXRpbC5mb3JFYWNoT3duUHJvcGVydGllcyh0eXBlcywgZnVuY3Rpb24oaGFuZGxlciwgdHlwZSkge1xuICAgICAgICAgICAgZG9tZXZlbnQuX29uKG9iaiwgdHlwZSwgaGFuZGxlciwgZm4pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRE9NIGV2ZW50IGJpbmRpbmcuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gb2JqIEhUTUxFbGVtZW50IHRvIGJpbmQgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBuYW1lIG9mIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0geyp9IGZuIGhhbmRsZXIgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSBjb250ZXh0IG9iamVjdCBmb3IgaGFuZGxlciBtZXRob2QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb246IGZ1bmN0aW9uKG9iaiwgdHlwZSwgZm4sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGlkLFxuICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICAgIG9yaWdpbkhhbmRsZXI7XG5cbiAgICAgICAgaWQgPSB0eXBlICsgdXRpbC5zdGFtcChmbikgKyAoY29udGV4dCA/ICdfJyArIHV0aWwuc3RhbXAoY29udGV4dCkgOiAnJyk7XG5cbiAgICAgICAgaWYgKG9ialtldmVudEtleV0gJiYgb2JqW2V2ZW50S2V5XVtpZF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGhhbmRsZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBmbi5jYWxsKGNvbnRleHQgfHwgb2JqLCBlIHx8IHdpbmRvdy5ldmVudCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgb3JpZ2luSGFuZGxlciA9IGhhbmRsZXI7XG5cbiAgICAgICAgaWYgKCdhZGRFdmVudExpc3RlbmVyJyBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbW91c2VlbnRlcicgfHwgdHlwZSA9PT0gJ21vdXNlbGVhdmUnKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvbWV2ZW50Ll9jaGVja01vdXNlKG9iaiwgZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5IYW5kbGVyKGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoKHR5cGUgPT09ICdtb3VzZWVudGVyJykgP1xuICAgICAgICAgICAgICAgICAgICAnbW91c2VvdmVyJyA6ICdtb3VzZW91dCcsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtb3VzZXdoZWVsJykge1xuICAgICAgICAgICAgICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCdhdHRhY2hFdmVudCcgaW4gb2JqKSB7XG4gICAgICAgICAgICBvYmouYXR0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqW2V2ZW50S2V5XSA9IG9ialtldmVudEtleV0gfHwge307XG4gICAgICAgIG9ialtldmVudEtleV1baWRdID0gaGFuZGxlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5iaW5kIERPTSBFdmVudCBoYW5kbGVyLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG9iaiBIVE1MRWxlbWVudCB0byB1bmJpbmQuXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfG9iamVjdCl9IHR5cGVzIFNwYWNlIHNwbGl0dGVkIGV2ZW50cyBuYW1lcyBvciBldmVudE5hbWU6aGFuZGxlciBvYmplY3QuXG4gICAgICogQHBhcmFtIHsqfSBmbiBoYW5kbGVyIGZ1bmN0aW9uIG9yIGNvbnRleHQgZm9yIGhhbmRsZXIgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIGNvbnRleHQgb2JqZWN0IGZvciBoYW5kbGVyIG1ldGhvZC5cbiAgICAgKi9cbiAgICBvZmY6IGZ1bmN0aW9uKG9iaiwgdHlwZXMsIGZuLCBjb250ZXh0KSB7XG4gICAgICAgIGlmICh1dGlsLmlzU3RyaW5nKHR5cGVzKSkge1xuICAgICAgICAgICAgdXRpbC5mb3JFYWNoKHR5cGVzLnNwbGl0KCcgJyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBkb21ldmVudC5fb2ZmKG9iaiwgdHlwZSwgZm4sIGNvbnRleHQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHV0aWwuZm9yRWFjaE93blByb3BlcnRpZXModHlwZXMsIGZ1bmN0aW9uKGhhbmRsZXIsIHR5cGUpIHtcbiAgICAgICAgICAgIGRvbWV2ZW50Ll9vZmYob2JqLCB0eXBlLCBoYW5kbGVyLCBmbik7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQgRE9NIGV2ZW50IGhhbmRsZXIuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gb2JqIEhUTUxFbGVtZW50IHRvIHVuYmluZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgbmFtZSBvZiBldmVudCB0byB1bmJpbmQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBFdmVudCBoYW5kbGVyIHRoYXQgc3VwcGxpZWQgd2hlbiBiaW5kaW5nLlxuICAgICAqIEBwYXJhbSB7Kn0gY29udGV4dCBjb250ZXh0IG9iamVjdCB0aGF0IHN1cHBsaWVkIHdoZW4gYmluZGluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vZmY6IGZ1bmN0aW9uKG9iaiwgdHlwZSwgZm4sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGlkID0gdHlwZSArIHV0aWwuc3RhbXAoZm4pICsgKGNvbnRleHQgPyAnXycgKyB1dGlsLnN0YW1wKGNvbnRleHQpIDogJycpLFxuICAgICAgICAgICAgaGFuZGxlciA9IG9ialtldmVudEtleV0gJiYgb2JqW2V2ZW50S2V5XVtpZF07XG5cbiAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ3JlbW92ZUV2ZW50TGlzdGVuZXInIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnbW91c2VsZWF2ZScpIHtcbiAgICAgICAgICAgICAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcigodHlwZSA9PT0gJ21vdXNlZW50ZXInKSA/XG4gICAgICAgICAgICAgICAgICAgICdtb3VzZW92ZXInIDogJ21vdXNlb3V0JywgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNld2hlZWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoJ2RldGFjaEV2ZW50JyBpbiBvYmopIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb2JqLmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9ICAgIC8vZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIG9ialtldmVudEtleV1baWRdO1xuXG4gICAgICAgIGlmICh1dGlsLmtleXMob2JqW2V2ZW50S2V5XSkubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgb2JqW2V2ZW50S2V5XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmluZCBET00gZXZlbnQuIHRoaXMgZXZlbnQgd2lsbCB1bmJpbmQgYWZ0ZXIgaW52b2tlcy5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBvYmogSFRNTEVsZW1lbnQgdG8gYmluZCBldmVudHMuXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfG9iamVjdCl9IHR5cGVzIFNwYWNlIHNwbGl0dGVkIGV2ZW50cyBuYW1lcyBvciBldmVudE5hbWU6aGFuZGxlciBvYmplY3QuXG4gICAgICogQHBhcmFtIHsqfSBmbiBoYW5kbGVyIGZ1bmN0aW9uIG9yIGNvbnRleHQgZm9yIGhhbmRsZXIgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIGNvbnRleHQgb2JqZWN0IGZvciBoYW5kbGVyIG1ldGhvZC5cbiAgICAgKi9cbiAgICBvbmNlOiBmdW5jdGlvbihvYmosIHR5cGVzLCBmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHV0aWwuaXNPYmplY3QodHlwZXMpKSB7XG4gICAgICAgICAgICB1dGlsLmZvckVhY2hPd25Qcm9wZXJ0aWVzKHR5cGVzLCBmdW5jdGlvbihoYW5kbGVyLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgZG9tZXZlbnQub25jZShvYmosIHR5cGUsIGhhbmRsZXIsIGZuKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlciBmb3IgdGVtcG9yYXJ5IHVzYWdlIGZvciBvbmNlIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBvbmNlSGFuZGxlcigpIHtcbiAgICAgICAgICAgIGZuLmFwcGx5KGNvbnRleHQgfHwgb2JqLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgc2VsZi5fb2ZmKG9iaiwgdHlwZXMsIG9uY2VIYW5kbGVyLCBjb250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvbWV2ZW50Lm9uKG9iaiwgdHlwZXMsIG9uY2VIYW5kbGVyLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGV2ZW50IGJ1YmJsaW5nLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0LlxuICAgICAqL1xuICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGJyb3dzZXIgZGVmYXVsdCBhY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0LlxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3ludGF0aWMgc3VnYXIgb2Ygc3RvcFByb3BhZ2F0aW9uIGFuZCBwcmV2ZW50RGVmYXVsdFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0LlxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZG9tZXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIGRvbWV2ZW50LnN0b3BQcm9wYWdhdGlvbihlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3RvcCBzY3JvbGwgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIEhUTUwgZWxlbWVudCB0byBwcmV2ZW50IHNjcm9sbC5cbiAgICAgKi9cbiAgICBkaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb246IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIGRvbWV2ZW50Lm9uKGVsLCAnbW91c2V3aGVlbCBNb3pNb3VzZVBpeGVsU2Nyb2xsJywgZG9tZXZlbnQuc3RvcFByb3BhZ2F0aW9uKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3RvcCBhbGwgZXZlbnRzIHJlbGF0ZWQgd2l0aCBjbGljay5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBIVE1MIGVsZW1lbnQgdG8gcHJldmVudCBhbGwgZXZlbnQgcmVsYXRlZCB3aXRoIGNsaWNrLlxuICAgICAqL1xuICAgIGRpc2FibGVDbGlja1Byb3BhZ2F0aW9uOiBmdW5jdGlvbihlbCkge1xuICAgICAgICBkb21ldmVudC5vbihlbCwgRFJBR19TVEFSVC5qb2luKCcgJykgKyAnIGNsaWNrIGRibGNsaWNrJywgZG9tZXZlbnQuc3RvcFByb3BhZ2F0aW9uKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IG1vdXNlIHBvc2l0aW9uIGZyb20gbW91c2UgZXZlbnQuXG4gICAgICpcbiAgICAgKiBJZiBzdXBwbGllZCByZWxhdHZlRWxlbWVudCBwYXJhbWV0ZXIgdGhlbiByZXR1cm4gcmVsYXRpdmUgcG9zaXRpb24gYmFzZWQgb24gZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBtb3VzZUV2ZW50IE1vdXNlIGV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlbGF0aXZlRWxlbWVudCBIVE1MIGVsZW1lbnQgdGhhdCBjYWxjdWxhdGUgcmVsYXRpdmUgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcltdfSBtb3VzZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBnZXRNb3VzZVBvc2l0aW9uOiBmdW5jdGlvbihtb3VzZUV2ZW50LCByZWxhdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHJlY3Q7XG5cbiAgICAgICAgaWYgKCFyZWxhdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBbbW91c2VFdmVudC5jbGllbnRYLCBtb3VzZUV2ZW50LmNsaWVudFldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjdCA9IHJlbGF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbW91c2VFdmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gcmVsYXRpdmVFbGVtZW50LmNsaWVudExlZnQsXG4gICAgICAgICAgICBtb3VzZUV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAtIHJlbGF0aXZlRWxlbWVudC5jbGllbnRUb3BcbiAgICAgICAgXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIG1vdXNlIHdoZWVsIGV2ZW50IHRoYXQgZGlmZmVyZW50IGVhY2ggYnJvd3NlcnMuXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIE1vdXNlIHdoZWVsIGV2ZW50LlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IGRlbHRhXG4gICAgICovXG4gICAgZ2V0V2hlZWxEZWx0YTogZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZGVsdGEgPSAwO1xuXG4gICAgICAgIGlmIChlLndoZWVsRGVsdGEpIHtcbiAgICAgICAgICAgIGRlbHRhID0gZS53aGVlbERlbHRhIC8gMTIwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuZGV0YWlsKSB7XG4gICAgICAgICAgICBkZWx0YSA9IC1lLmRldGFpbCAvIDM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVsdGE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHByZXZlbnQgZmlyaW5nIG1vdXNlbGVhdmUgZXZlbnQgd2hlbiBtb3VzZSBlbnRlcmVkIGNoaWxkIGVsZW1lbnRzLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIEhUTUwgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSBNb3VzZSBldmVudFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBsZWF2ZT9cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jaGVja01vdXNlOiBmdW5jdGlvbihlbCwgZSkge1xuICAgICAgICB2YXIgcmVsYXRlZCA9IGUucmVsYXRlZFRhcmdldDtcblxuICAgICAgICBpZiAoIXJlbGF0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlIChyZWxhdGVkICYmIChyZWxhdGVkICE9PSBlbCkpIHtcbiAgICAgICAgICAgICAgICByZWxhdGVkID0gcmVsYXRlZC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAocmVsYXRlZCAhPT0gZWwpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHNwZWNpZmljIGV2ZW50cyB0byBodG1sIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gb2JqIEhUTUxFbGVtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZSBuYW1lXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtldmVudERhdGFdIEV2ZW50IGRhdGFcbiAgICAgKi9cbiAgICB0cmlnZ2VyOiBmdW5jdGlvbihvYmosIHR5cGUsIGV2ZW50RGF0YSkge1xuICAgICAgICB2YXIgck1vdXNlRXZlbnQgPSAvKG1vdXNlfGNsaWNrKS87XG4gICAgICAgIGlmICh1dGlsLmlzVW5kZWZpbmVkKGV2ZW50RGF0YSkgJiYgck1vdXNlRXZlbnQuZXhlYyh0eXBlKSkge1xuICAgICAgICAgICAgZXZlbnREYXRhID0gZG9tZXZlbnQubW91c2VFdmVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvYmouZGlzcGF0Y2hFdmVudCkge1xuICAgICAgICAgICAgb2JqLmRpc3BhdGNoRXZlbnQoZXZlbnREYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChvYmouZmlyZUV2ZW50KSB7XG4gICAgICAgICAgICBvYmouZmlyZUV2ZW50KCdvbicgKyB0eXBlLCBldmVudERhdGEpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB2aXJ0dWFsIG1vdXNlIGV2ZW50LlxuICAgICAqXG4gICAgICogVGVzdGVkIGF0XG4gICAgICpcbiAgICAgKiAtIElFNyB+IElFMTFcbiAgICAgKiAtIENocm9tZVxuICAgICAqIC0gRmlyZWZveFxuICAgICAqIC0gU2FmYXJpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbZXZlbnRPYmpdIEV2ZW50IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7TW91c2VFdmVudH0gVmlydHVhbCBtb3VzZSBldmVudC5cbiAgICAgKi9cbiAgICBtb3VzZUV2ZW50OiBmdW5jdGlvbih0eXBlLCBldmVudE9iaikge1xuICAgICAgICB2YXIgZXZ0LFxuICAgICAgICAgICAgZTtcblxuICAgICAgICBlID0gdXRpbC5leHRlbmQoe1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6ICh0eXBlICE9PSAnbW91c2Vtb3ZlJyksXG4gICAgICAgICAgICB2aWV3OiB3aW5kb3csXG4gICAgICAgICAgICB3aGVlbERlbHRhOiAwLFxuICAgICAgICAgICAgZGV0YWlsOiAwLFxuICAgICAgICAgICAgc2NyZWVuWDogMCxcbiAgICAgICAgICAgIHNjcmVlblk6IDAsXG4gICAgICAgICAgICBjbGllbnRYOiAwLFxuICAgICAgICAgICAgY2xpZW50WTogMCxcbiAgICAgICAgICAgIGN0cmxLZXk6IGZhbHNlLFxuICAgICAgICAgICAgYWx0S2V5OiBmYWxzZSxcbiAgICAgICAgICAgIHNoaWZ0S2V5OiBmYWxzZSxcbiAgICAgICAgICAgIG1ldGFLZXk6IGZhbHNlLFxuICAgICAgICAgICAgYnV0dG9uOiAwLFxuICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdW5kZWZpbmVkICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIH0sIGV2ZW50T2JqKTtcblxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50LmNyZWF0ZUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICAgICAgICAgIGV2dC5pbml0TW91c2VFdmVudCh0eXBlLFxuICAgICAgICAgICAgICAgIGUuYnViYmxlcywgZS5jYW5jZWxhYmxlLCBlLnZpZXcsIGUuZGV0YWlsLFxuICAgICAgICAgICAgICAgIGUuc2NyZWVuWCwgZS5zY3JlZW5ZLCBlLmNsaWVudFgsIGUuY2xpZW50WSxcbiAgICAgICAgICAgICAgICBlLmN0cmxLZXksIGUuYWx0S2V5LCBlLnNoaWZ0S2V5LCBlLm1ldGFLZXksXG4gICAgICAgICAgICAgICAgZS5idXR0b24sIGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCkge1xuICAgICAgICAgICAgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKTtcblxuICAgICAgICAgICAgdXRpbC5mb3JFYWNoKGUsIGZ1bmN0aW9uKHZhbHVlLCBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIGV2dFtwcm9wTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgZXZ0LmJ1dHRvbiA9IHswOiAxLFxuICAgICAgICAgICAgICAgIDE6IDQsXG4gICAgICAgICAgICAgICAgMjogMn1bZXZ0LmJ1dHRvbl0gfHwgZXZ0LmJ1dHRvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBldnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSBtb3VzZSBldmVudCdzIGJ1dHRvbiBhdHRyaWJ1dGVzLlxuICAgICAqXG4gICAgICogQ2FuIGRldGVjdCB3aGljaCBidXR0b24gaXMgY2xpY2tlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIE1lYW5pbmcgb2YgcmV0dXJuIG51bWJlcnNcbiAgICAgKlxuICAgICAqIC0gMDogcHJpbWFyeSBtb3VzZSBidXR0b25cbiAgICAgKiAtIDE6IHdoZWVsIGJ1dHRvbiBvciBjZW50ZXIgYnV0dG9uXG4gICAgICogLSAyOiBzZWNvbmRhcnkgbW91c2UgYnV0dG9uXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gVGhlIG1vdXNlIGV2ZW50IG9iamVjdCB3YW50IHRvIGtub3cuXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgdmFsdWUgb2YgbWVhbmluZyB3aGljaCBidXR0b24gaXMgY2xpY2tlZD9cbiAgICAgKi9cbiAgICBnZXRNb3VzZUJ1dHRvbjogZnVuY3Rpb24obW91c2VFdmVudCkge1xuICAgICAgICB2YXIgYnV0dG9uLFxuICAgICAgICAgICAgcHJpbWFyeSA9ICcwLDEsMyw1LDcnLFxuICAgICAgICAgICAgc2Vjb25kYXJ5ID0gJzIsNicsXG4gICAgICAgICAgICB3aGVlbCA9ICc0JztcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgnTW91c2VFdmVudHMnLCAnMi4wJykpIHtcbiAgICAgICAgICAgIHJldHVybiBtb3VzZUV2ZW50LmJ1dHRvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1dHRvbiA9IFN0cmluZyhtb3VzZUV2ZW50LmJ1dHRvbik7XG4gICAgICAgIGlmIChwcmltYXJ5LmluZGV4T2YoYnV0dG9uKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Vjb25kYXJ5LmluZGV4T2YoYnV0dG9uKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAofndoZWVsLmluZGV4T2YoYnV0dG9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0YXJnZXQgZnJvbSBldmVudCBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGV2ZW50IG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gVGhlIGV2ZW50IHRhcmdldCBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRFdmVudFRhcmdldDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50O1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tZXZlbnQ7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQgY29tcGxleGl0eTogMCwgbm8tc2hhZG93OiAwLCBtYXgtbmVzdGVkLWNhbGxiYWNrczogMCAgKi9cbi8qKlxuICogQGZpbGVvdmVydmlldyBVdGlsaXR5IG1vZHVsZXMgZm9yIG1hbmlwdWxhdGUgRE9NIGVsZW1lbnRzLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgZG9tZXZlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RvbWV2ZW50ICovIFwiLi9zcmMvanMvY29tbW9uL2RvbWV2ZW50LmpzXCIpO1xudmFyIENvbGxlY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbGxlY3Rpb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29sbGVjdGlvbi5qc1wiKTtcbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG5cbnZhciBwb3NLZXkgPSAnX3BvcycsXG4gICAgZG9tdXRpbDtcblxudmFyIENTU19BVVRPX1JFR0VYID0gL15hdXRvJHxeJHwlLztcblxuLyoqXG4gKiBUcmltIGxlYWRpbmcsIHRyYWlsaW5nIHdoaXRlc3BhY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBzdHJpbmcgdG8gdHJpbVxuICogQHJldHVybnMge3N0cmluZ30gdHJpbW1lZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHNcXHMqLywgJycpLnJlcGxhY2UoL1xcc1xccyokLywgJycpO1xufVxuXG5kb211dGlsID0ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBET00gZWxlbWVudCBhbmQgcmV0dXJuIGl0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIFRhZyBuYW1lIHRvIGFwcGVuZC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbY29udGFpbmVyXSBIVE1MIGVsZW1lbnQgd2lsbCBiZSBwYXJlbnQgdG8gY3JlYXRlZCBlbGVtZW50LlxuICAgICAqIGlmIG5vdCBzdXBwbGllZCwgd2lsbCB1c2UgKipkb2N1bWVudC5ib2R5KipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NsYXNzTmFtZV0gRGVzaWduIGNsYXNzIG5hbWVzIHRvIGFwcGxpbmcgY3JlYXRlZCBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gSFRNTCBlbGVtZW50IGNyZWF0ZWQuXG4gICAgICovXG4gICAgYXBwZW5kSFRNTEVsZW1lbnQ6IGZ1bmN0aW9uKHRhZ05hbWUsIGNvbnRhaW5lciwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciBlbDtcblxuICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgfHwgJyc7XG5cbiAgICAgICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgICAgICBlbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZWxlbWVudCBmcm9tIHBhcmVudCBub2RlLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIC0gZWxlbWVudCB0byByZW1vdmUuXG4gICAgICovXG4gICAgcmVtb3ZlOiBmdW5jdGlvbihlbCkge1xuICAgICAgICBpZiAoZWwgJiYgZWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGVsZW1lbnQgYnkgaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgZWxlbWVudCBpZCBhdHRyaWJ1dGVcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIHN1cHBsaWVkIGVsZW1lbnQgaXMgbWF0Y2hlZCBzZWxlY3Rvci5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIGVsZW1lbnQgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBzZWxlY3RvciBzdHJpbmcgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gbWF0Y2g/XG4gICAgICovXG4gICAgX21hdGNoZXI6IGZ1bmN0aW9uKGVsLCBzZWxlY3Rvcikge1xuICAgICAgICB2YXIgY3NzQ2xhc3NTZWxlY3RvciA9IC9eXFwuLyxcbiAgICAgICAgICAgIGlkU2VsZWN0b3IgPSAvXiMvO1xuXG4gICAgICAgIGlmIChjc3NDbGFzc1NlbGVjdG9yLnRlc3Qoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9tdXRpbC5oYXNDbGFzcyhlbCwgc2VsZWN0b3IucmVwbGFjZSgnLicsICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkU2VsZWN0b3IudGVzdChzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PT0gc2VsZWN0b3IucmVwbGFjZSgnIycsICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBzZWxlY3Rvci50b0xvd2VyQ2FzZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIERPTSBlbGVtZW50IGJ5IHNwZWNpZmljIHNlbGVjdG9ycy5cbiAgICAgKiBiZWxvdyB0aHJlZSBzZWxlY3RvciBvbmx5IHN1cHBvcnRlZC5cbiAgICAgKlxuICAgICAqIDEuIGNzcyBzZWxlY3RvclxuICAgICAqIDIuIGlkIHNlbGVjdG9yXG4gICAgICogMy4gbm9kZU5hbWUgc2VsZWN0b3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3Igc2VsZWN0b3JcbiAgICAgKiBAcGFyYW0geyhIVE1MRWxlbWVudHxzdHJpbmcpfSBbcm9vdF0gWW91IGNhbiBhc3NpZ24gcm9vdCBlbGVtZW50IHRvIGZpbmRcbiAgICAgKiAgaWYgbm90IHN1cHBsaWVkLCBkb2N1bWVudC5ib2R5IHdpbGwgdXNlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxmdW5jdGlvbn0gW211bHRpcGxlPWZhbHNlXSAtIHNldCB0cnVlIHRoZW4gcmV0dXJuIGFsbFxuICAgICAqICBlbGVtZW50cyB0aGF0IG1lZXQgY29uZGl0aW9uLCBpZiBzZXQgZnVuY3Rpb24gdGhlbiB1c2UgaXQgZmlsdGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gSFRNTCBlbGVtZW50IGZpbmRlZC5cbiAgICAgKi9cbiAgICBmaW5kOiBmdW5jdGlvbihzZWxlY3Rvciwgcm9vdCwgbXVsdGlwbGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgICAgICAgZm91bmQgPSBmYWxzZSxcbiAgICAgICAgICAgIGlzRmlyc3QgPSB1dGlsLmlzVW5kZWZpbmVkKG11bHRpcGxlKSB8fCBtdWx0aXBsZSA9PT0gZmFsc2UsXG4gICAgICAgICAgICBpc0ZpbHRlciA9IHV0aWwuaXNGdW5jdGlvbihtdWx0aXBsZSk7XG5cbiAgICAgICAgaWYgKHV0aWwuaXNTdHJpbmcocm9vdCkpIHtcbiAgICAgICAgICAgIHJvb3QgPSBkb211dGlsLmdldChyb290KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvb3QgPSByb290IHx8IHdpbmRvdy5kb2N1bWVudC5ib2R5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBmb3IgcmVjdXJzaXZlIGZpbmQgc3BlY2lmaWMgbm9kZVxuICAgICAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIGVsZW1lbnQgdG8gc2VhcmNoXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIHNlbGVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZWN1cnNlKGVsLCBzZWxlY3Rvcikge1xuICAgICAgICAgICAgdmFyIGNoaWxkTm9kZXMgPSBlbC5jaGlsZE5vZGVzLFxuICAgICAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgICAgIGxlbiA9IGNoaWxkTm9kZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGN1cnNvcjtcblxuICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGN1cnNvciA9IGNoaWxkTm9kZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLm5vZGVOYW1lID09PSAnI3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkb211dGlsLl9tYXRjaGVyKGN1cnNvciwgc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoaXNGaWx0ZXIgJiYgbXVsdGlwbGUoY3Vyc29yKSkgfHwgIWlzRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJzb3IuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2UoY3Vyc29yLCBzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZWN1cnNlKHJvb3QsIHNlbGVjdG9yKTtcblxuICAgICAgICByZXR1cm4gaXNGaXJzdCA/IChyZXN1bHRbMF0gfHwgbnVsbCkgOiByZXN1bHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbmQgcGFyZW50IGVsZW1lbnQgcmVjdXJzaXZlbHkuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgLSBiYXNlIGVsZW1lbnQgdG8gc3RhcnQgZmluZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBzZWxlY3RvciBzdHJpbmcgZm9yIGZpbmRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4Y2x1ZGVFbCAtIGV4Y2x1ZGUgdGhlIGJhc2UgZWxlbWVudCB0byBmaW5kXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSAtIGVsZW1lbnQgZmluZGVkIG9yIG51bGwuXG4gICAgICovXG4gICAgY2xvc2VzdDogZnVuY3Rpb24oZWwsIHNlbGVjdG9yLCBleGNsdWRlRWwpIHtcbiAgICAgICAgdmFyIHBhcmVudDtcblxuICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG5cbiAgICAgICAgaWYgKCFleGNsdWRlRWwgJiYgZG9tdXRpbC5fbWF0Y2hlcihlbCwgc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gd2luZG93LmRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIGlmIChkb211dGlsLl9tYXRjaGVyKHBhcmVudCwgc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRleHRzIGluc2lkZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIHRhcmdldCBlbGVtZW50XG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGV4dCBpbnNpZGUgbm9kZVxuICAgICAqL1xuICAgIHRleHQ6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHZhciByZXQgPSAnJyxcbiAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgbm9kZVR5cGUgPSBlbC5ub2RlVHlwZTtcblxuICAgICAgICBpZiAobm9kZVR5cGUpIHtcbiAgICAgICAgICAgIGlmIChub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEpIHtcbiAgICAgICAgICAgICAgICAvLyBub2RlcyB0aGF0IGF2YWlsYWJsZSBjb250YWluIG90aGVyIG5vZGVzXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbC50ZXh0Q29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoZWwgPSBlbC5maXJzdENoaWxkOyBlbDsgZWwgPSBlbC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXQgKz0gZG9tdXRpbC50ZXh0KGVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgLy8gVEVYVCwgQ0RBVEEgU0VDVElPTlxuICAgICAgICAgICAgICAgIHJldHVybiBlbC5ub2RlVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKDsgZWxbaV07IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHJldCArPSBkb211dGlsLnRleHQoZWxbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IGRhdGEgYXR0cmlidXRlIHRvIHRhcmdldCBlbGVtZW50XG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgLSBlbGVtZW50IHRvIHNldCBkYXRhIGF0dHJpYnV0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBrZXlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGRhdGEgLSBkYXRhIHZhbHVlXG4gICAgICovXG4gICAgc2V0RGF0YTogZnVuY3Rpb24oZWwsIGtleSwgZGF0YSkge1xuICAgICAgICBpZiAoJ2RhdGFzZXQnIGluIGVsKSB7XG4gICAgICAgICAgICBlbC5kYXRhc2V0W2tleV0gPSBkYXRhO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZGF0YSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBkYXRhIHZhbHVlIGZyb20gZGF0YS1hdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIHRhcmdldCBlbGVtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIGtleVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHZhbHVlXG4gICAgICovXG4gICAgZ2V0RGF0YTogZnVuY3Rpb24oZWwsIGtleSkge1xuICAgICAgICBpZiAoJ2RhdGFzZXQnIGluIGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gZWwuZGF0YXNldFtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZWxlbWVudCBoYXMgc3BlY2lmaWMgZGVzaWduIGNsYXNzIG5hbWUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgdGFyZ2V0IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBjc3MgY2xhc3NcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJuIHRydWUgd2hlbiBlbGVtZW50IGhhcyB0aGF0IGNzcyBjbGFzcyBuYW1lXG4gICAgICovXG4gICAgaGFzQ2xhc3M6IGZ1bmN0aW9uKGVsLCBuYW1lKSB7XG4gICAgICAgIHZhciBjbGFzc05hbWU7XG5cbiAgICAgICAgaWYgKCF1dGlsLmlzVW5kZWZpbmVkKGVsLmNsYXNzTGlzdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMobmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjbGFzc05hbWUgPSBkb211dGlsLmdldENsYXNzKGVsKTtcblxuICAgICAgICByZXR1cm4gY2xhc3NOYW1lLmxlbmd0aCA+IDAgJiYgbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIG5hbWUgKyAnKFxcXFxzfCQpJykudGVzdChjbGFzc05hbWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgZGVzaWduIGNsYXNzIHRvIEhUTUwgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCB0YXJnZXQgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGNzcyBjbGFzcyBuYW1lXG4gICAgICovXG4gICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsLCBuYW1lKSB7XG4gICAgICAgIHZhciBjbGFzc05hbWU7XG5cbiAgICAgICAgaWYgKCF1dGlsLmlzVW5kZWZpbmVkKGVsLmNsYXNzTGlzdCkpIHtcbiAgICAgICAgICAgIHV0aWwuZm9yRWFjaEFycmF5KG5hbWUuc3BsaXQoJyAnKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCFkb211dGlsLmhhc0NsYXNzKGVsLCBuYW1lKSkge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gZG9tdXRpbC5nZXRDbGFzcyhlbCk7XG4gICAgICAgICAgICBkb211dGlsLnNldENsYXNzKGVsLCAoY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyAnIDogJycpICsgbmFtZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBPdmVyd3JpdGUgZGVzaWduIGNsYXNzIHRvIEhUTUwgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCB0YXJnZXQgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGNzcyBjbGFzcyBuYW1lXG4gICAgICovXG4gICAgc2V0Q2xhc3M6IGZ1bmN0aW9uKGVsLCBuYW1lKSB7XG4gICAgICAgIGlmICh1dGlsLmlzVW5kZWZpbmVkKGVsLmNsYXNzTmFtZS5iYXNlVmFsKSkge1xuICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gbmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZS5iYXNlVmFsID0gbmFtZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFbGVtZW507JeQIGNzc0NsYXNz7IaN7ISx7J2EIOygnOqxsO2VmOuKlCDrqZTshJzrk5xcbiAgICAgKiBSZW1vdmUgc3BlY2lmaWMgZGVzaWduIGNsYXNzIGZyb20gSFRNTCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIHRhcmdldCBlbGVtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgY2xhc3MgbmFtZSB0byByZW1vdmVcbiAgICAgKi9cbiAgICByZW1vdmVDbGFzczogZnVuY3Rpb24oZWwsIG5hbWUpIHtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSAnJztcblxuICAgICAgICBpZiAoIXV0aWwuaXNVbmRlZmluZWQoZWwuY2xhc3NMaXN0KSkge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSAoJyAnICsgZG9tdXRpbC5nZXRDbGFzcyhlbCkgKyAnICcpLnJlcGxhY2UoJyAnICsgbmFtZSArICcgJywgJyAnKTtcbiAgICAgICAgICAgIGRvbXV0aWwuc2V0Q2xhc3MoZWwsIHRyaW0ocmVtb3ZlZCkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBIVE1MIGVsZW1lbnQncyBkZXNpZ24gY2xhc3Nlcy5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCB0YXJnZXQgZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGVsZW1lbnQgY3NzIGNsYXNzIG5hbWVcbiAgICAgKi9cbiAgICBnZXRDbGFzczogZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgaWYgKCFlbCB8fCAhZWwuY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXRpbC5pc1VuZGVmaW5lZChlbC5jbGFzc05hbWUuYmFzZVZhbCkgPyBlbC5jbGFzc05hbWUgOiBlbC5jbGFzc05hbWUuYmFzZVZhbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHNwZWNpZmljIENTUyBzdHlsZSB2YWx1ZSBmcm9tIEhUTUwgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCB0YXJnZXQgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZSBjc3MgYXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcmV0dXJucyB7KHN0cmluZ3xudWxsKX0gY3NzIHN0eWxlIHZhbHVlXG4gICAgICovXG4gICAgZ2V0U3R5bGU6IGZ1bmN0aW9uKGVsLCBzdHlsZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBlbC5zdHlsZVtzdHlsZV0gfHwgKGVsLmN1cnJlbnRTdHlsZSAmJiBlbC5jdXJyZW50U3R5bGVbc3R5bGVdKSxcbiAgICAgICAgICAgIGNzcztcblxuICAgICAgICBpZiAoKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJ2F1dG8nKSAmJiBkb2N1bWVudC5kZWZhdWx0Vmlldykge1xuICAgICAgICAgICAgY3NzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCk7XG4gICAgICAgICAgICB2YWx1ZSA9IGNzcyA/IGNzc1tzdHlsZV0gOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAnYXV0bycgPyBudWxsIDogdmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBlbGVtZW50J3MgY29tcHV0ZWQgc3R5bGUgdmFsdWVzLlxuICAgICAqXG4gICAgICogaW4gbG93ZXIgSUU4LiB1c2UgcG9seWZpbGwgZnVuY3Rpb24gdGhhdCByZXR1cm4gb2JqZWN0LiBpdCBoYXMgb25seSBvbmUgZnVuY3Rpb24gJ2dldFByb3BlcnR5VmFsdWUnXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgLSBlbGVtZW50IHdhbnQgdG8gZ2V0IHN0eWxlLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHZpcnR1YWwgQ1NTU3R5bGVEZWNsYXJhdGlvbiBvYmplY3QuXG4gICAgICovXG4gICAgZ2V0Q29tcHV0ZWRTdHlsZTogZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRWaWV3ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cbiAgICAgICAgaWYgKCFkZWZhdWx0VmlldyB8fCAhZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlOiBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVzZWxlc3MtZXNjYXBlICovXG4gICAgICAgICAgICAgICAgICAgIHZhciByZSA9IC8oXFwtKFthLXpdKXsxfSkvZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdmbG9hdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AgPSAnc3R5bGVGbG9hdCc7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAocmUudGVzdChwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcCA9IHByb3AucmVwbGFjZShyZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1syXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW3Byb3BdIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHBvc2l0aW9uIENTUyBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCB0YXJnZXQgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSBsZWZ0IHBpeGVsIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSB0b3AgcGl4ZWwgdmFsdWUuXG4gICAgICovXG4gICAgc2V0UG9zaXRpb246IGZ1bmN0aW9uKGVsLCB4LCB5KSB7XG4gICAgICAgIHggPSB1dGlsLmlzVW5kZWZpbmVkKHgpID8gMCA6IHg7XG4gICAgICAgIHkgPSB1dGlsLmlzVW5kZWZpbmVkKHkpID8gMCA6IHk7XG5cbiAgICAgICAgZWxbcG9zS2V5XSA9IFt4LCB5XTtcblxuICAgICAgICBlbC5zdHlsZS5sZWZ0ID0gdXRpbC5pc051bWJlcih4KSA/ICh4ICsgJ3B4JykgOiB4O1xuICAgICAgICBlbC5zdHlsZS50b3AgPSB1dGlsLmlzTnVtYmVyKHkpID8gKHkgKyAncHgnKSA6IHk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBwb3NpdGlvbiBDU1Mgc3R5bGUgd2l0aCBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b21cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCB0YXJnZXQgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsdHJiIG9iamVjdCBvZiBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2x0cmIubGVmdF0gbGVmdCBwaXhlbCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2x0cmIudG9wXSB0b3AgcGl4ZWwgdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsdHJiLnJpZ2h0XSByaWdodCBwaXhlbCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2x0cmIuYm90dG9tXSBib3R0b20gcGl4ZWwgdmFsdWUuXG4gICAgICovXG4gICAgc2V0TFRSQjogZnVuY3Rpb24oZWwsIGx0cmIpIHtcbiAgICAgICAgdmFyIHByb3BzID0gWydsZWZ0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nXTtcbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICBwcm9wcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgIHZhbHVlID0gdXRpbC5pc1VuZGVmaW5lZChsdHJiW3Byb3BdKSA/ICcnIDogbHRyYltwcm9wXTtcbiAgICAgICAgICAgIGVsLnN0eWxlW3Byb3BdID0gdXRpbC5pc051bWJlcih2YWx1ZSkgPyAodmFsdWUgKyAncHgnKSA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHBvc2l0aW9uIGZyb20gSFRNTCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIHRhcmdldCBlbGVtZW50XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2xlYXI9ZmFsc2VdIGNsZWFyIGNhY2hlIGJlZm9yZSBjYWxjdWxhdGluZyBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IHBvaW50XG4gICAgICovXG4gICAgZ2V0UG9zaXRpb246IGZ1bmN0aW9uKGVsLCBjbGVhcikge1xuICAgICAgICB2YXIgbGVmdCxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGJvdW5kO1xuXG4gICAgICAgIGlmIChjbGVhcikge1xuICAgICAgICAgICAgZWxbcG9zS2V5XSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxbcG9zS2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsW3Bvc0tleV07XG4gICAgICAgIH1cblxuICAgICAgICBsZWZ0ID0gMDtcbiAgICAgICAgdG9wID0gMDtcblxuICAgICAgICBpZiAoKENTU19BVVRPX1JFR0VYLnRlc3QoZWwuc3R5bGUubGVmdCkgfHwgQ1NTX0FVVE9fUkVHRVgudGVzdChlbC5zdHlsZS50b3ApKSAmJlxuICAgICAgICAgICAgJ2dldEJvdW5kaW5nQ2xpZW50UmVjdCcgaW4gZWwpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIGVsZW1lbnQncyBsZWZ0IG9yIHRvcCBpcyAnYXV0bydcbiAgICAgICAgICAgIGJvdW5kID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIGxlZnQgPSBib3VuZC5sZWZ0O1xuICAgICAgICAgICAgdG9wID0gYm91bmQudG9wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVmdCA9IHBhcnNlRmxvYXQoZWwuc3R5bGUubGVmdCB8fCAwKTtcbiAgICAgICAgICAgIHRvcCA9IHBhcnNlRmxvYXQoZWwuc3R5bGUudG9wIHx8IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtsZWZ0LCB0b3BdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gZWxlbWVudCdzIHNpemVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCB0YXJnZXQgZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0gd2lkdGgsIGhlaWdodFxuICAgICAqL1xuICAgIGdldFNpemU6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHZhciBib3VuZCxcbiAgICAgICAgICAgIHdpZHRoID0gZG9tdXRpbC5nZXRTdHlsZShlbCwgJ3dpZHRoJyksXG4gICAgICAgICAgICBoZWlnaHQgPSBkb211dGlsLmdldFN0eWxlKGVsLCAnaGVpZ2h0Jyk7XG5cbiAgICAgICAgaWYgKChDU1NfQVVUT19SRUdFWC50ZXN0KHdpZHRoKSB8fCBDU1NfQVVUT19SRUdFWC50ZXN0KGhlaWdodCkgfHxcbiAgICAgICAgICAgICB1dGlsLmlzTnVsbCh3aWR0aCkgfHwgdXRpbC5pc051bGwoaGVpZ2h0KSkgJiZcbiAgICAgICAgICAgICdnZXRCb3VuZGluZ0NsaWVudFJlY3QnIGluIGVsKSB7XG4gICAgICAgICAgICBib3VuZCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgd2lkdGggPSBib3VuZC53aWR0aCB8fCBlbC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIGhlaWdodCA9IGJvdW5kLmhlaWdodCB8fCBlbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCA9IHBhcnNlRmxvYXQod2lkdGggfHwgMCk7XG4gICAgICAgICAgICBoZWlnaHQgPSBwYXJzZUZsb2F0KGhlaWdodCB8fCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbd2lkdGgsIGhlaWdodF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZhbGxiYWNrIG9mIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIC0gZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHJlY3RcbiAgICAgKi9cbiAgICBnZXRCQ1JlY3Q6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgcmVjdCA9IHV0aWwuZXh0ZW5kKHtcbiAgICAgICAgICAgIHdpZHRoOiBlbC5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogZWwub2Zmc2V0SGVpZ2h0XG4gICAgICAgIH0sIHJlY3QpO1xuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBzcGVjaWZpYyBDU1Mgc3R5bGUgaXMgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB7YXJyYXl9IHByb3BzIHByb3BlcnR5IG5hbWUgdG8gdGVzdGluZ1xuICAgICAqIEByZXR1cm5zIHsoc3RyaW5nfGJvb2xlYW4pfSByZXR1cm4gdHJ1ZSB3aGVuIHByb3BlcnR5IGlzIGF2YWlsYWJsZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHByb3BzID0gWyd0cmFuc2Zvcm0nLCAnLXdlYmtpdC10cmFuc2Zvcm0nXTtcbiAgICAgKiBkb211dGlsLnRlc3RQcm9wKHByb3BzKTsgICAgLy8gJ3RyYW5zZm9ybSdcbiAgICAgKi9cbiAgICB0ZXN0UHJvcDogZnVuY3Rpb24ocHJvcHMpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLFxuICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICBsZW4gPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKHByb3BzW2ldIGluIHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgZm9ybSBkYXRhXG4gICAgICogQHBhcmFtIHtIVE1MRm9ybUVsZW1lbnR9IGZvcm1FbGVtZW50IC0gZm9ybSBlbGVtZW50IHRvIGV4dHJhY3QgZGF0YVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGZvcm0gZGF0YVxuICAgICAqL1xuICAgIGdldEZvcm1EYXRhOiBmdW5jdGlvbihmb3JtRWxlbWVudCkge1xuICAgICAgICB2YXIgZ3JvdXBlZEJ5TmFtZSA9IG5ldyBDb2xsZWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aDtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbm9EaXNhYmxlZEZpbHRlciA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFlbC5kaXNhYmxlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdXRwdXQgPSB7fTtcblxuICAgICAgICBncm91cGVkQnlOYW1lLmFkZC5hcHBseShcbiAgICAgICAgICAgIGdyb3VwZWRCeU5hbWUsXG4gICAgICAgICAgICBkb211dGlsLmZpbmQoJ2lucHV0JywgZm9ybUVsZW1lbnQsIG5vRGlzYWJsZWRGaWx0ZXIpXG4gICAgICAgICAgICAgICAgLmNvbmNhdChkb211dGlsLmZpbmQoJ3NlbGVjdCcsIGZvcm1FbGVtZW50LCBub0Rpc2FibGVkRmlsdGVyKSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KGRvbXV0aWwuZmluZCgndGV4dGFyZWEnLCBmb3JtRWxlbWVudCwgbm9EaXNhYmxlZEZpbHRlcikpXG4gICAgICAgICk7XG5cbiAgICAgICAgZ3JvdXBlZEJ5TmFtZSA9IGdyb3VwZWRCeU5hbWUuZ3JvdXBCeShmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgcmV0dXJuIChlbCAmJiBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSkgfHwgJ19vdGhlcic7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHV0aWwuZm9yRWFjaChncm91cGVkQnlOYW1lLCBmdW5jdGlvbihlbGVtZW50cywgbmFtZSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdfb3RoZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGVOYW1lID0gZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IGVsLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW2VsZW1lbnRzLmZpbmQoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbC5jaGVja2VkO1xuICAgICAgICAgICAgICAgICAgICB9KS50b0FycmF5KCkucG9wKCldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBlbGVtZW50cy5maW5kKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuY2hlY2tlZDtcbiAgICAgICAgICAgICAgICAgICAgfSkudG9BcnJheSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZU5hbWUgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLmZpbmQoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhIWVsLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9KS5lYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbXV0aWwuZmluZCgnb3B0aW9uJywgZWwsIGZ1bmN0aW9uKG9wdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0LnNlbGVjdGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBlbGVtZW50cy5maW5kKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwudmFsdWUgIT09ICcnO1xuICAgICAgICAgICAgICAgICAgICB9KS50b0FycmF5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdXRpbC5tYXAocmVzdWx0LCBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwudmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gJyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdFswXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvdXRwdXRbbmFtZV0gPSByZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xudmFyIHVzZXJTZWxlY3RQcm9wZXJ0eSA9IGRvbXV0aWwudGVzdFByb3AoW1xuICAgICd1c2VyU2VsZWN0JyxcbiAgICAnV2Via2l0VXNlclNlbGVjdCcsXG4gICAgJ09Vc2VyU2VsZWN0JyxcbiAgICAnTW96VXNlclNlbGVjdCcsXG4gICAgJ21zVXNlclNlbGVjdCdcbl0pO1xudmFyIHN1cHBvcnRTZWxlY3RTdGFydCA9ICdvbnNlbGVjdHN0YXJ0JyBpbiBkb2N1bWVudDtcbnZhciBwcmV2U2VsZWN0U3R5bGUgPSAnJztcblxuLyogZXNsaW50LWVuYWJsZSAqL1xuXG4vKipcbiAqIERpc2FibGUgYnJvd3NlcidzIHRleHQgc2VsZWN0aW9uIGJlaGF2aW9ycy5cbiAqIEBtZXRob2RcbiAqL1xuZG9tdXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbiA9IChmdW5jdGlvbigpIHtcbiAgICBpZiAoc3VwcG9ydFNlbGVjdFN0YXJ0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihkb20sIG9uU2VsZWN0c3RhcnRIYW5kbGVyKSB7XG4gICAgICAgICAgICBkb21ldmVudC5vbihkb20sICdzZWxlY3RzdGFydCcsIG9uU2VsZWN0c3RhcnRIYW5kbGVyIHx8IGRvbWV2ZW50LnByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oZG9tKSB7XG4gICAgICAgIHZhciBzdHlsZSA9IGRvbS5zdHlsZTtcbiAgICAgICAgcHJldlNlbGVjdFN0eWxlID0gc3R5bGVbdXNlclNlbGVjdFByb3BlcnR5XTtcbiAgICAgICAgc3R5bGVbdXNlclNlbGVjdFByb3BlcnR5XSA9ICdub25lJztcbiAgICB9O1xufSkoKTtcblxuLyoqXG4gKiBFbmFibGUgYnJvd3NlcidzIHRleHQgc2VsZWN0aW9uIGJlaGF2aW9ycy5cbiAqIEBtZXRob2RcbiAqL1xuZG9tdXRpbC5lbmFibGVUZXh0U2VsZWN0aW9uID0gKGZ1bmN0aW9uKCkge1xuICAgIGlmIChzdXBwb3J0U2VsZWN0U3RhcnQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGRvbSwgb25TZWxlY3RzdGFydEhhbmRsZXIpIHtcbiAgICAgICAgICAgIGRvbWV2ZW50Lm9mZih3aW5kb3csICdzZWxlY3RzdGFydCcsIG9uU2VsZWN0c3RhcnRIYW5kbGVyIHx8IGRvbWV2ZW50LnByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZVt1c2VyU2VsZWN0UHJvcGVydHldID0gcHJldlNlbGVjdFN0eWxlO1xuICAgIH07XG59KSgpO1xuXG4vKipcbiAqIERpc2FibGUgYnJvd3NlcidzIGltYWdlIGRyYWcgYmVoYXZpb3JzLlxuICovXG5kb211dGlsLmRpc2FibGVJbWFnZURyYWcgPSBmdW5jdGlvbigpIHtcbiAgICBkb21ldmVudC5vbih3aW5kb3csICdkcmFnc3RhcnQnLCBkb21ldmVudC5wcmV2ZW50RGVmYXVsdCk7XG59O1xuXG4vKipcbiAqIEVuYWJsZSBicm93c2VyJ3MgaW1hZ2UgZHJhZyBiZWhhdmlvcnMuXG4gKi9cbmRvbXV0aWwuZW5hYmxlSW1hZ2VEcmFnID0gZnVuY3Rpb24oKSB7XG4gICAgZG9tZXZlbnQub2ZmKHdpbmRvdywgJ2RyYWdzdGFydCcsIGRvbWV2ZW50LnByZXZlbnREZWZhdWx0KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tdXRpbDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9jb21tb24vZHcuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2NvbW1vbi9kdy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgV3JhcHBlciBtb2R1bGUgZm9yIGVhc3kgY2FsYyBkYXRlIG9iamVjdFxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgVFpEYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtUWkRhdGV9IGRhdGUgdG8gd3JhcHBpbmcgRFcgY2xhc3NcbiAqL1xuZnVuY3Rpb24gRFcoZGF0ZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEVykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEVyhkYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoIShkYXRlIGluc3RhbmNlb2YgVFpEYXRlKSkge1xuICAgICAgICBkYXRlID0gbmV3IFRaRGF0ZShkYXRlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VFpEYXRlfVxuICAgICAqL1xuICAgIHRoaXMuZCA9IGRhdGU7XG59XG5cbi8qKlxuICogUmV0dXJuIGQgcHJvcGVydHkgd2hlbiBzdXBwbGllZCBvYmplY3QgaXMgRFcuIGVsc2UgcmV0dXJuIGl0c2VsZlxuICogQHBhcmFtIHsqfSBvYmogLSBvYmplY3RcbiAqIEByZXR1cm5zIHtUWkRhdGV9IGRhdGVcbiAqL1xuRFcucHJvdG90eXBlLnNhZmUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBEVykge1xuICAgICAgICByZXR1cm4gb2JqLmQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbi8qKlxuICogQ2xvbmUgRFcgb2JqZWN0XG4gKiBAcmV0dXJucyB7RFd9IGNsb25lZCBkd3JhcCBvYmplY3RcbiAqL1xuRFcucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEVyhuZXcgVFpEYXRlKHRoaXMuZCkpO1xufTtcblxuLyoqXG4gKiBBZGQgZGF5c1xuICogQHBhcmFtIHtudW1iZXJ9IGRheSAtIGRheSB0byBhZGRcbiAqIEByZXR1cm5zIHtEV30gd3JhcHBlciBvYmplY3RcbiAqL1xuRFcucHJvdG90eXBlLmFkZERhdGUgPSBmdW5jdGlvbihkYXkpIHtcbiAgICB0aGlzLmQuc2V0RGF0ZSh0aGlzLmQuZ2V0RGF0ZSgpICsgZGF5KTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgbW9udGguXG4gKiBAcGFyYW0ge251bWJlcn0gbSAtIG1vbnRoIHRvIGFkZFxuICogQHJldHVybnMge0RXfSB3cmFwcGVyIG9iamVjdFxuICovXG5EVy5wcm90b3R5cGUuYWRkTW9udGggPSBmdW5jdGlvbihtKSB7XG4gICAgdmFyIGN1cnJlbnRNb250aCA9IHRoaXMuZC5nZXRNb250aCgpO1xuICAgIHZhciBjdXJyZW50RGF5ID0gdGhpcy5kLmdldERhdGUoKTtcbiAgICB2YXIgbGVhcFllYXIgPSB0aGlzLl9pc0xlYXBZZWFyKCk7XG4gICAgdmFyIHRhcmdldE1vbnRoID0gY3VycmVudE1vbnRoICsgbTtcbiAgICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHRhcmdldERheXNPZk1vbnRoID0gY3VycmVudERheTtcblxuICAgIGlmIChtKSB7XG4gICAgICAgIGlmICh0YXJnZXRNb250aCA9PT0gMSkge1xuICAgICAgICAgICAgdGFyZ2V0RGF5c09mTW9udGggPSBsZWFwWWVhciA/IDI5IDogMjg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobSA+IDApIHtcbiAgICAgICAgICAgICAgICBjbG9uZS5kLnNldE1vbnRoKHRhcmdldE1vbnRoICsgMSwgMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb25lLmQuc2V0TW9udGgoY3VycmVudE1vbnRoLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldERheXNPZk1vbnRoID0gY2xvbmUuZC5nZXREYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmQuc2V0TW9udGgodGFyZ2V0TW9udGgsIE1hdGgubWluKGN1cnJlbnREYXksIHRhcmdldERheXNPZk1vbnRoKSk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogSXMgbGVhcCB5ZWFyIG9yIG5vdFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkRXLnByb3RvdHlwZS5faXNMZWFwWWVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB5ZWFyID0gdGhpcy5kLmdldEZ1bGxZZWFyKCk7XG5cbiAgICByZXR1cm4gKCh5ZWFyICUgNCA9PT0gMCkgJiYgKHllYXIgJSAxMDAgIT09IDApKSB8fCAhKHllYXIgJSA0MDApO1xufTtcblxuLyoqXG4gKiBTZXQgaG91ciwgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzXG4gKiBAcGFyYW0ge251bWJlcn0gaCAtIGhvdXJzXG4gKiBAcGFyYW0ge251bWJlcn0gbSAtIG1pbnV0ZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBzIC0gc2Vjb25kc1xuICogQHBhcmFtIHtudW1iZXJ9IG1zIC0gbWlsbGlzZWNvbmRzXG4gKiBAcmV0dXJucyB7RFd9IHdyYXBwZXIgb2JqZWN0XG4gKi9cbkRXLnByb3RvdHlwZS5zZXRIb3VycyA9IGZ1bmN0aW9uKGgsIG0sIHMsIG1zKSB7XG4gICAgdGhpcy5kLnNldEhvdXJzKGgsIG0sIHMsIG1zKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBXaGV0aGVyIGRhdGUgaXMgYmV0d2VlbiBzdXBwbGllZCBkYXRlcz9cbiAqIEBwYXJhbSB7VFpEYXRlfERXfSBkMSAtIGZyb20gZGF0ZVxuICogQHBhcmFtIHtUWkRhdGV8RFd9IGQyIC0gdG8gZGF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59IGlzIGJldHdlZW4/XG4gKi9cbkRXLnByb3RvdHlwZS5pc0JldHdlZW4gPSBmdW5jdGlvbihkMSwgZDIpIHtcbiAgICB2YXIgc2FmZSA9IHRoaXMuc2FmZTtcblxuICAgIHJldHVybiBzYWZlKGQxKSA8PSB0aGlzLmQgJiYgdGhpcy5kIDw9IHNhZmUoZDIpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEVztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9jb21tb24vZmxvYXRpbmdMYXllci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9jb21tb24vZmxvYXRpbmdMYXllci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBGbG9hdGluZyBsYXllciBtb2R1bGVcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIiksXG4gICAgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIiksXG4gICAgVmlldyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3ZpZXcvdmlldyAqLyBcIi4vc3JjL2pzL3ZpZXcvdmlldy5qc1wiKTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtWaWV3fVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBmbG9hdGluZyBsYXllciBtb2R1bGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciAtIHBhcmVudCBjb250aW5lciBmb3IgZmxvYXRpbmcgbGF5ZXJcbiAqL1xuZnVuY3Rpb24gRmxvYXRpbmdMYXllcihvcHRpb25zLCBjb250YWluZXIpIHtcbiAgICB2YXIgc2libGluZyA9IGNvbnRhaW5lcltGbG9hdGluZ0xheWVyLlBST1BfS0VZXSxcbiAgICAgICAgbGF5ZXJDb250YWluZXI7XG5cbiAgICBpZiAoIXNpYmxpbmcpIHtcbiAgICAgICAgc2libGluZyA9IGNvbnRhaW5lcltGbG9hdGluZ0xheWVyLlBST1BfS0VZXSA9IFtdO1xuICAgIH1cblxuICAgIHNpYmxpbmcucHVzaCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDb2xsZWN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuc2libGluZyA9IHNpYmxpbmc7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuekluZGV4ID0gdGhpcy5nZXRMYXJnZXN0WkluZGV4KCkgfHwgRmxvYXRpbmdMYXllci5JTklUX1pJTkRFWDtcblxuICAgIGxheWVyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGF5ZXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBsYXllckNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZG9tdXRpbC5hZGRDbGFzcyhsYXllckNvbnRhaW5lciwgY29uZmlnLmNsYXNzbmFtZSgnZmxvYXRpbmctbGF5ZXInKSk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxheWVyQ29udGFpbmVyKTtcblxuICAgIFZpZXcuY2FsbCh0aGlzLCBsYXllckNvbnRhaW5lcik7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5wYXJlbnQgPSBjb250YWluZXI7XG59XG5cbnV0aWwuaW5oZXJpdChGbG9hdGluZ0xheWVyLCBWaWV3KTtcblxuLyoqXG4gKiBAY29uc3RcbiAqL1xuRmxvYXRpbmdMYXllci5QUk9QX0tFWSA9ICdfX2ZlX2Zsb2F0aW5nX2xheWVyJztcblxuLyoqXG4gKiBAY29uc3RcbiAqL1xuRmxvYXRpbmdMYXllci5JTklUX1pJTkRFWCA9IDk5OTtcblxuLyoqXG4gKiBEZXN0cm95IGZsb2F0aW5nIGxheWVyIGluc3RhbmNlLiBpZiB0aGVyZSBubyBpbnN0bmFjZSBpbiBwYXJlbnQgY29udGFpbmVyXG4gKlxuICogcmVtb3ZlIGluc3RhbmNlIGNhY2hlIHByb3BlcnR5IGluIGNvbnRhaW5lciBlbGVtZW50XG4gKi9cbkZsb2F0aW5nTGF5ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQsXG4gICAgICAgIHNpYmxpbmcgPSB0aGlzLnNpYmxpbmcsXG4gICAgICAgIGkgPSAwLCBjbnQgPSBzaWJsaW5nLmxlbmd0aDtcblxuICAgIGZvciAoOyBpIDwgY250OyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNpYmxpbmdbaV0gPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHNpYmxpbmcuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXNpYmxpbmcubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZWxldGUgcGFyZW50W0Zsb2F0aW5nTGF5ZXIuUFJPUF9LRVldO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBwYXJlbnRbRmxvYXRpbmdMYXllci5QUk9QX0tFWV0gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50LnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgfVxuXG4gICAgZG9tdXRpbC5yZW1vdmUodGhpcy5jb250YWluZXIpO1xuXG4gICAgdGhpcy5zaWJsaW5nID0gbnVsbDtcblxuICAgIFZpZXcucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgbGF5ZXIgaXMgdmlzaWJsZT9cbiAqL1xuRmxvYXRpbmdMYXllci5wcm90b3R5cGUuaXNWaXNpYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJztcbn07XG5cbi8qKlxuICogU2V0IGxheWVyIHBvc2l0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIHggY29vcmRpbmF0ZSBvZiBsYXllclxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSB5IGNvb3JkaW5hdGUgb2YgbGF5ZXJcbiAqL1xuRmxvYXRpbmdMYXllci5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgZG9tdXRpbC5zZXRQb3NpdGlvbih0aGlzLmNvbnRhaW5lciwgeCwgeSk7XG59O1xuXG4vKipcbiAqIFNldCBsYXllciBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20gcG9zaXRpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBsdHJiIG9iamVjdCBvZiBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b21cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbHRyYi5sZWZ0XSBsZWZ0IHBpeGVsIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsdHJiLnRvcF0gdG9wIHBpeGVsIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsdHJiLnJpZ2h0XSByaWdodCBwaXhlbCB2YWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbHRyYi5ib3R0b21dIGJvdHRvbSBwaXhlbCB2YWx1ZS5cbiAqL1xuRmxvYXRpbmdMYXllci5wcm90b3R5cGUuc2V0TFRSQiA9IGZ1bmN0aW9uKGx0cmIpIHtcbiAgICBkb211dGlsLnNldExUUkIodGhpcy5jb250YWluZXIsIGx0cmIpO1xufTtcblxuLyoqXG4gKiBTZXQgbGF5ZXIgc2l6ZVxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB3IC0gbGF5ZXIgd2lkdGhcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gaCAtIGxheWVyIGhlaWdodFxuICovXG5GbG9hdGluZ0xheWVyLnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24odywgaCkge1xuICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcblxuICAgIHcgPSB1dGlsLmlzTnVtYmVyKHcpID8gdyArICdweCcgOiB3O1xuICAgIGggPSB1dGlsLmlzTnVtYmVyKGgpID8gaCArICdweCcgOiBoO1xuXG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gdztcbiAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gaDtcbn07XG5cbi8qKlxuICogU2V0IGxheWVyIGNvbnRlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIC0gaHRtbCBzdHJpbmdcbiAqL1xuRmxvYXRpbmdMYXllci5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sO1xufTtcblxuLyoqXG4gKiBHZXQgbGFyZ2VzdCB6LWluZGV4IGZyb20gc2libGluZyBsYXllcnNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGxhcmdlc3Qgei1pbmRleCB2YWx1ZVxuICovXG5GbG9hdGluZ0xheWVyLnByb3RvdHlwZS5nZXRMYXJnZXN0WkluZGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHpJbmRleGVzID0gdXRpbC5tYXAodGhpcy5zaWJsaW5nLCBmdW5jdGlvbihsYXllcikge1xuICAgICAgICByZXR1cm4gbGF5ZXIuekluZGV4O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHpJbmRleGVzKTtcbn07XG5cbi8qKlxuICogU2V0IGZvY3VzIHRvIGxheWVyXG4gKi9cbkZsb2F0aW5nTGF5ZXIucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHpJbmRleEZvclNob3cgPSB0aGlzLmdldExhcmdlc3RaSW5kZXgoKSArIDE7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuekluZGV4ID0gdGhpcy56SW5kZXggPSB6SW5kZXhGb3JTaG93O1xufTtcblxuLyoqXG4gKiBTaG93IGxheWVyXG4gKi9cbkZsb2F0aW5nTGF5ZXIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmZvY3VzKCk7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59O1xuXG4vKipcbiAqIEhpZGUgbGF5ZXJcbiAqL1xuRmxvYXRpbmdMYXllci5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsb2F0aW5nTGF5ZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29tbW9uL2ludGxVdGlsLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9jb21tb24vaW50bFV0aWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGludGxGb3JtYXR0ZXIgPSB7fTtcbnZhciBpbnRsVXRpbDtcblxudmFyIHR5cGVUb1BvcyA9IHtcbiAgICB5ZWFyOiAwLFxuICAgIG1vbnRoOiAxLFxuICAgIGRheTogMixcbiAgICBob3VyOiAzLFxuICAgIG1pbnV0ZTogNCxcbiAgICBzZWNvbmQ6IDVcbn07XG5cbi8qKlxuICogRXh0cmFjdCBkYXRlIHRva2VucyAoeSwgTSwgZCwgaCwgbSwgcykgdXNpbmcgdGhlIGZvcm1hdFRvUGFydHMoKSBtZXRob2QuXG4gKiBAcGFyYW0ge0ludGwuRGF0ZVRpbWVGb3JtYXR9IGR0ZiAtIEludGwuRGF0ZVRpbWVGb3JtYXQgaW5zdGFuY2VcbiAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIGRhdGUgb2JqZWN0XG4gKiBAcmV0dXJucyB7QXJyYXkuPG51bWJlcj59IEFuIGFycmF5IG9mIG9iamVjdHMgb25seSBjb250YWluaW5nIHRoZSBmb3JtYXR0ZWQgZGF0ZVxuICovXG5mdW5jdGlvbiBwYXJzZU9mZnNldChkdGYsIGRhdGUpIHtcbiAgICB2YXIgZm9ybWF0dGVkID0gZHRmLmZvcm1hdFRvUGFydHMoZGF0ZSk7XG4gICAgdmFyIGZpbGxlZCA9IFtdO1xuICAgIHZhciBmb3JtYXR0ZWRMZW5ndGggPSBmb3JtYXR0ZWQubGVuZ3RoO1xuICAgIHZhciBpLCBwb3M7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZm9ybWF0dGVkTGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgcG9zID0gdHlwZVRvUG9zW2Zvcm1hdHRlZFtpXS50eXBlXTtcblxuICAgICAgICBpZiAoIXV0aWwuaXNVbmRlZmluZWQocG9zKSkge1xuICAgICAgICAgICAgZmlsbGVkW3Bvc10gPSBwYXJzZUludChmb3JtYXR0ZWRbaV0udmFsdWUsIDEwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaWxsZWQ7XG59XG5cbi8qKlxuICogVGhlIHRpbWUgem9uZSBvZmZzZXQgaXMgY2FsY3VsYXRlZCBmcm9tIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGN1cnJlbnQgdGltZSBhbmQgdGhlIHRpbWUgaW4gYSBzcGVjaWZpYyB0aW1lIHpvbmUuXG4gKiBAcGFyYW0ge0FycmF5LjxudW1iZXI+fSBwYXJ0cyAtIEFuIGFycmF5IG9mIG9iamVjdHMgb25seSBjb250YWluaW5nIHRoZSBmb3JtYXR0ZWQgZGF0ZSAoZS5nLiBbMjAyMCwgMTIsIDE0LCAxMCwgMTUsIDE5XSlcbiAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIGRhdGUgb2JqZWN0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBvZmZzZXRcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0KHBhcnRzLCBkYXRlKSB7XG4gICAgdmFyIHkgPSBwYXJ0c1swXTtcbiAgICB2YXIgTSA9IHBhcnRzWzFdO1xuICAgIHZhciBkID0gcGFydHNbMl07XG4gICAgdmFyIGggPSBwYXJ0c1szXTtcbiAgICB2YXIgbSA9IHBhcnRzWzRdO1xuICAgIHZhciBzID0gcGFydHNbNV07XG5cbiAgICB2YXIgdXRjID0gbmV3IERhdGUoRGF0ZS5VVEMoeSwgTSAtIDEsIGQsIGgsIG0sIHMpKTtcbiAgICB2YXIgb2Zmc2V0ID0gKHV0YyAtIGRhdGUpIC8gNjAgLyAxMDAwO1xuXG4gICAgcmV0dXJuIE1hdGgucm91bmQob2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBicm93c2VyIHN1cHBvcnRzIEludGwuRGF0ZVRpbWVGb3JtYXQucHJvdG90eXBlLmZvcm1hdFRvUGFydHMgQVBJXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gc3VwcG9ydGVkXG4gKi9cbmZ1bmN0aW9uIHN1cHBvcnRJbnRsKCkge1xuICAgIC8qKlxuICAgICAqIElFOSBhbmQgSUUxMCBkbyBub3Qgc3VwcG9ydCBJbnRsLkRhdGVUaW1lRm9ybWF0XG4gICAgICogSUUxMSBkb2VzIG5vdCBzdXBwb3J0IElBTkEgdGltZXpvbmUgbmFtZXNcbiAgICAgKiBodHRwOi8va2FuZ2F4LmdpdGh1Yi5pby9jb21wYXQtdGFibGUvZXNpbnRsLyN0ZXN0LURhdGVUaW1lRm9ybWF0X2FjY2VwdHNfSUFOQV90aW1lem9uZV9uYW1lc1xuICAgICAqL1xuICAgIHJldHVybiBnbG9iYWwuSW50bCAmJiBnbG9iYWwuSW50bC5EYXRlVGltZUZvcm1hdCAmJlxuICAgICAgICB1dGlsLmlzRnVuY3Rpb24oSW50bC5EYXRlVGltZUZvcm1hdC5wcm90b3R5cGUuZm9ybWF0VG9QYXJ0cyk7XG59XG5cbi8qKlxuICogUmV0dXJuIERhdGVUaW1lRm9ybWF0IGluc3RhbmNlIGJ5IHRpbWV6b25lXG4gKiBAcGFyYW0ge3N0cmluZ30gdGltZXpvbmVOYW1lIC0gdGltZXpvbmVcbiAqIEByZXR1cm5zIHtEYXRlVGltZUZvcm1hdH0gSW50bC5EYXRlVGltZUZvcm1hdCBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBnZXRJbnRsRm9ybWF0dGVyKHRpbWV6b25lTmFtZSkge1xuICAgIGlmICghaW50bEZvcm1hdHRlclt0aW1lem9uZU5hbWVdKSB7XG4gICAgICAgIGludGxGb3JtYXR0ZXJbdGltZXpvbmVOYW1lXSA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCdlbi1VUycsIHtcbiAgICAgICAgICAgIGhvdXJDeWNsZTogJ2gyMycsXG4gICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICAgICAgICBtb250aDogJ251bWVyaWMnLFxuICAgICAgICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICAgICAgICBob3VyOiAnbnVtZXJpYycsXG4gICAgICAgICAgICBtaW51dGU6ICdudW1lcmljJyxcbiAgICAgICAgICAgIHNlY29uZDogJ251bWVyaWMnLFxuICAgICAgICAgICAgdGltZVpvbmU6IHRpbWV6b25lTmFtZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW50bEZvcm1hdHRlclt0aW1lem9uZU5hbWVdO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXQgb2YgdGhlIHRpbWUgYnkgdGltZXpvbmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aW1lem9uZU5hbWUgLSByZWNvZ25pemUgdGhlIHRpbWUgem9uZSBuYW1lcyBvZiB0aGUgSUFOQSB0aW1lIHpvbmUgZGF0YWJhc2UsIHN1Y2ggYXMgJ0FzaWEvU2VvdWwnLCAnQW1lcmljYS9OZXdfWW9yaydcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXAgLSB0aW1lc3RhbXBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IG9mZnNldFxuICovXG5mdW5jdGlvbiBvZmZzZXRDYWxjdWxhdG9yKHRpbWV6b25lTmFtZSwgdGltZXN0YW1wKSB7XG4gICAgdmFyIGZvcm1hdHRlciA9IGdldEludGxGb3JtYXR0ZXIodGltZXpvbmVOYW1lKTtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7XG5cbiAgICByZXR1cm4gLWNhbGN1bGF0ZU9mZnNldChwYXJzZU9mZnNldChmb3JtYXR0ZXIsIGRhdGUpLCBkYXRlKTtcbn1cblxuaW50bFV0aWwgPSB7XG4gICAgc3VwcG9ydEludGw6IHN1cHBvcnRJbnRsLFxuICAgIG9mZnNldENhbGN1bGF0b3I6IG9mZnNldENhbGN1bGF0b3Jcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW50bFV0aWw7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2NvbW1vbi9tb2RlbC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29tbW9uL21vZGVsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBNaXhpbiBtb2R1bGUgZm9yIG1vZGVscy5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIFRaRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlO1xudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBzcGFjZVJ4ID0gL15cXHMqfFxccyokL2csXG4gICAgbW9kZWw7XG5cbnZhciBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKTtcblxuLyoqXG4gKiBNaXhpbiBtb2R1bGUgZm9yIG1vZGVscy5cbiAqIEBtaXhpblxuICovXG5tb2RlbCA9IHtcbiAgICAvKipcbiAgICAgKiBzdHJpbmcgdHJpbVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgc3RyaW5nIHRvIHRyaW1cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmltZWQgc3RyaW5nXG4gICAgICovXG4gICAgdHJpbTogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZShzcGFjZVJ4LCAnJyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGUgY29sbGVjdGlvbnMgb2YgdmFsaWRhdG9yIGZ1bmN0aW9ucy5cbiAgICAgKi9cbiAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjaGVjayBhbGwgb2Ygc3VwcGxpZWQgZmllbGRzKHByb3BlcnR5KSBpcyBub3QgdW5kZWZpbmVkIG9yIGVtcHR5IHN0cmluZy5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGluc3RhbmNlIG1vZGVsIGluc3RhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmaWVsZHMgcHJvcGVydHkgbmFtZXMgdG8gY2hlY2suXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm4gdHJ1ZSB3aGVuIHN1cHBsaWVkIGZpZWxkcyBhcmUgbm90IHVuZGVmaW5lZCBvciBlbXB0eSBzdHJpbmcuXG4gICAgICAgICAqL1xuICAgICAgICByZXF1aXJlZDogZnVuY3Rpb24oaW5zdGFuY2UsIGZpZWxkcykge1xuICAgICAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhdXRpbC5pc1VuZGVmaW5lZChvYmopICYmIG1vZGVsLnRyaW0ob2JqKSAhPT0gJyc7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdXRpbC5mb3JFYWNoKGZpZWxkcywgZnVuY3Rpb24oZmllbGROYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFsaWQgPSBpc1ZhbGlkKGluc3RhbmNlW2ZpZWxkTmFtZV0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB2YWxpZDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2hlY2sgc3VwcGxpZWQgZmllbGRzIGFyZSB2YWxpZCBkYXRlcyBhbmQgdmFsaWQgZGF0ZSByYW5nZXMuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpbnN0YW5jZSBtb2RlbCBpbnN0YW5jZS5cbiAgICAgICAgICogQHBhcmFtIHtEYXRlW119IGZpZWxkcyBhcnJheSBvZiBkYXRlIHJhbmdlIChzdGFydCwgZW5kKVxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gaXMgdmFsaWQgZGF0ZSByYW5nZT9cbiAgICAgICAgICovXG4gICAgICAgIGRhdGVSYW5nZTogZnVuY3Rpb24oaW5zdGFuY2UsIGZpZWxkcykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0LCBlbmQ7XG5cbiAgICAgICAgICAgIGlmICghdXRpbC5pc0V4aXN0eShpbnN0YW5jZSkgfHwgZmllbGRzLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdGFydCA9IG5ldyBUWkRhdGUoaW5zdGFuY2VbZmllbGRzWzBdXSk7XG4gICAgICAgICAgICBlbmQgPSBuZXcgVFpEYXRlKGluc3RhbmNlW2ZpZWxkc1sxXV0pO1xuXG4gICAgICAgICAgICBpZiAoIWRhdGV0aW1lLmlzVmFsaWQoc3RhcnQpIHx8ICFkYXRldGltZS5pc1ZhbGlkKGVuZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRldGltZS5jb21wYXJlKHN0YXJ0LCBlbmQpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB2YWxpZGF0ZSBmb3IgbW9kZWwgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBUaGUgdmFsaWRhdGUgYXJlIHdvcmtzIG9uIGEgYmFzaXMgb2YgY29uc3RydWN0b3IncyBcInNjaGVtYVwiIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogWW91IGNhbiBjdXN0b21pemUgdmFsaWRhdG9ycyBhZGQgc29tZSBtZXRob2QgdG8gbW9kZWwjdmFsaWRhdG9ycy5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gbW9kZWwgaXMgdmFsaWQ/XG4gICAgICovXG4gICAgaXNWYWxpZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIHNjaGVtYSA9IHRoaXMuY29uc3RydWN0b3Iuc2NoZW1hLFxuICAgICAgICAgICAgdmFsaWRhdG9ycyA9IG1vZGVsLnZhbGlkYXRvcnMsXG4gICAgICAgICAgICB2YWxpZGF0b3IsXG4gICAgICAgICAgICB2YWxpZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKCFzY2hlbWEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdXRpbC5mb3JFYWNoKHNjaGVtYSwgZnVuY3Rpb24odmFsdWVzLCB2YWxpZGF0b3JOYW1lKSB7XG4gICAgICAgICAgICB2YWxpZGF0b3IgPSB2YWxpZGF0b3JzW3ZhbGlkYXRvck5hbWVdO1xuXG4gICAgICAgICAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFsaWQgPSB2YWxpZGF0b3Ioc2VsZiwgdmFsdWVzKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZDsgLy8gcmV0dXJuaW5nIGZhbHNlIGNhbiBzdG9wIHRoaXMgbG9vcFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYWtlIGRhdGEgb2JqZWN0IGZvcm0gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBJdCByZXR1cm4gb2JqZWN0IGZpbGwgd2l0aCBhbGwgb3duZWQgcHJvcGVydGllcyBidXQgZXhjbHVkZSBmdW5jdGlvbnMuXG4gICAgICogQHJldHVybnMge29iamVjdH0gRGF0YSBvYmplY3RcbiAgICAgKi9cbiAgICBwYXJhbWV0ZXJpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGFyYW0gPSB7fSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHV0aWwuaXNGdW5jdGlvbjtcblxuICAgICAgICB1dGlsLmZvckVhY2godGhpcywgZnVuY3Rpb24odmFsdWUsIHByb3BOYW1lKSB7XG4gICAgICAgICAgICBpZiAoIWlzRnVuYyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBwYXJhbVtwcm9wTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHBhcmFtO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNaXhpbiBtb2RlbCBtb2R1bGUgdG8gc3VwcGxpZWQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIG9iamVjdCBvZiB3YW50IHRvIG1peGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogZnVuY3Rpb24gTWFuKCkge1xuICAgICAqICAgICB0aGlzLm5hbWUgPSAnam9obic7XG4gICAgICogfVxuICAgICAqIG1vZGVsLm1peGluKE1hbi5wcm90b3R5cGUpO1xuICAgICAqL1xuICAgIG1peGluOiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgdXRpbC5mb3JFYWNoKG1vZGVsLCBmdW5jdGlvbihtZXRob2QsIG5hbWUpIHtcbiAgICAgICAgICAgIGlmIChuYW1lICE9PSAnbWl4aW4nKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gbWV0aG9kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1vZGVsO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2NvbW1vbi9wb2ludC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29tbW9uL3BvaW50LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlld1xuICogQ2xhc3MgZm9yIHJlcHJlc2VudCB0d28gZGltZW5zaW9uYWwgeCwgeSBjb29yZGluYXRlcy5cbiAqXG4gKiBJdCBzdXBwbGl5IGEgZ3JvdXAgb2YgZnVuY3Rpb25zIGZvciBtYW5pcHVsYXRlIGNvb3JkaW5hdGVzLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKiBAZXhhbXBsZVxuICogdmFyIHAgPSBwb2ludCgxMCwgMTApO1xuICogdmFyIHIxID0gcC5hZGQoUG9pbnQoNSwgNSkpO1xuICogY29uc29sZS5sb2cocC50b1N0cmluZygpKSAgICAvLyBcIlBvaW50KDEwLCAxMClcIlxuICogY29uc29sZS5sb2cocjEudG9TdHJpbmcoKSkgICAgLy8gXCJQb2ludCgxNSwgMTUpXCJcbiAqXG4gKiB2YXIgcDIgPSBuZXcgUG9pbnQoMTAsIDEwKTtcbiAqIHAyLl9hZGQocG9pbnQoNSwgNSkpO1xuICogY29uc29sZS5sb2cocDIudG9TdHJpbmcoKSkgICAvLyBcIlBvaW50KDE1LCAxNSlcIlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcblxuLyoqXG4gKiBDbGFzcyBmb3IgcmVwcmVzZW50IHR3byBkaW1lbnRpb25hbCB4LCB5IGNvb3JkaW5hdGVzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0geCBUaGUgbnVtYmVyIG9mIFggY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0geSBUaGUgbnVtYmVyIG9mIFkgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1c2VSb3VuZD1mYWxzZV0gc2V0IHRydWUgd2hlbiBlYWNoIGNvb3JkaW5hdGVzIGFyZSByb3VuZGVkIGJlZm9yZSBpbml0aWFsaXplLlxuICogQGV4YW1wbGVcbiAqIHZhciB0ID0gbmV3IFBvaW50KDEzLCA1KTtcbiAqL1xuZnVuY3Rpb24gUG9pbnQoeCwgeSwgdXNlUm91bmQpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueCA9ICh1c2VSb3VuZCA/IE1hdGgucm91bmQoeCkgOiB4KTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy55ID0gKHVzZVJvdW5kID8gTWF0aC5yb3VuZCh5KSA6IHkpO1xufVxuXG4vKioqKioqKioqKlxuICogc3RhdGljIHByb3BzXG4gKioqKioqKioqKi9cblxuLyoqXG4gKiBDYWxjdWxhdGUgcG9pbnQgcmF0aW8uXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludCBUaGUgaW5zdGFuY2Ugb2YgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmFjdG9yIEZyb20gZmFjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0gdG9GYWN0b3IgVG8gZmFjdG9yXG4gKiBAcmV0dXJucyB7UG9pbnR9IFBvaW50IGluc3RhbmNlIGNhbGN1bGF0ZWQuXG4gKi9cblBvaW50LmdldFJhdGlvID0gZnVuY3Rpb24ocG9pbnQsIGZhY3RvciwgdG9GYWN0b3IpIHtcbiAgICBpZiAoZmFjdG9yID09PSB0b0ZhY3Rvcikge1xuICAgICAgICByZXR1cm4gcG9pbnQuY2xvbmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnQubXVsdGlwbHlCeSh0b0ZhY3RvcikuX2RpdmlkZUJ5KGZhY3Rvcik7XG59O1xuXG4vKipcbiAqIFN5bnRhdGljIHN1Z2FyIG9mIG5ldyBQb2ludCgpXG4gKiBAcGFyYW0geyhQb2ludHxudW1iZXJ8bnVtYmVyW10pfSB4IFggY29vcmRpbmF0ZSB2YWx1ZS5cbiAqIEBwYXJhbSB7KG51bWJlcnxib29sZWFuKX0gW3ldIFkgY29vcmRpbmF0ZSB2YWx1ZSBvciBib29sZWFuIHZhbHVlIGZvciBjb29yZGluYXRlcyByb3VuZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VzZVJvdW5kXSBTZXQgdHJ1ZSB0aGVuIHJvdW5kIGluaXRpYWwgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7UG9pbnR9IFRoZSBpbnN0YW5jZSBvZiBwb2ludC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgcDEgPSBwb2ludCgxMCwgMTUpO1xuICogdmFyIHAyID0gcG9pbnQoWzEwLCAxNV0pO1xuICovXG5Qb2ludC5uID0gZnVuY3Rpb24oeCwgeSwgdXNlUm91bmQpIHtcbiAgICBpZiAoeCBpbnN0YW5jZW9mIFBvaW50KSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cblxuICAgIGlmICh1dGlsLmlzQXJyYXkoeCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4WzBdLCB4WzFdLCB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFBvaW50KHgsIHksIHVzZVJvdW5kKTtcbn07XG5cbi8qKioqKioqKioqXG4gKiBwcm90b3R5cGUgcHJvcHNcbiAqKioqKioqKioqL1xuXG4vKipcbiAqIENsb25lIHBvaW50c1xuICogQHJldHVybnMge1BvaW50fSBUaGUgcG9pbnQgaW5zdGFuY2UgY2xvbmVkLlxuICovXG5Qb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTtcbn07XG5cbi8qKlxuICogQWRkIHBvaW50cy5cbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50IFRoZSBwb2ludCBpbnN0YW5jZSB0byBhZGQuXG4gKiBAcmV0dXJucyB7UG9pbnR9IFBvaW50IGNhbGN1bGF0ZWQuXG4gKi9cblBvaW50LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkuX2FkZChQb2ludC5uKHBvaW50KSk7XG59O1xuXG4vKipcbiAqIEFkZCBzZWxmIHBvaW50cy5cbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50IFRoZSBwb2ludCBpbnN0YW5jZSB0byBhZGQuXG4gKiBAcmV0dXJucyB7UG9pbnR9IFBvaW50IGNhbGN1bGF0ZWQuXG4gKi9cblBvaW50LnByb3RvdHlwZS5fYWRkID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICB0aGlzLnggKz0gcG9pbnQueDtcbiAgICB0aGlzLnkgKz0gcG9pbnQueTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTdWJ0cmFjdCBwb2ludHMuXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludCBUaGUgcG9pbnQgaW5zdGFuY2UgdG8gc3VidHJhY3QuXG4gKiBAcmV0dXJucyB7UG9pbnR9IFBvaW50IGNhbGN1bGF0ZWQuXG4gKi9cblBvaW50LnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5fc3VidHJhY3QoUG9pbnQubihwb2ludCkpO1xufTtcblxuLyoqXG4gKiBTdWJ0cmFjdCBwb2ludHMuIChtYW5pcHVsYXRlIHNlbGYpXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludCBUaGUgcG9pbnQgaW5zdGFuY2UgdG8gc3VidHJhY3QuXG4gKiBAcmV0dXJucyB7UG9pbnR9IFBvaW50IGNhbGN1bGF0ZWQuXG4gKi9cblBvaW50LnByb3RvdHlwZS5fc3VidHJhY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHRoaXMueCAtPSBwb2ludC54O1xuICAgIHRoaXMueSAtPSBwb2ludC55O1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERpdmlkZSBwb2ludHMuXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIFRoZSBudW1iZXIgdG8gZGl2aWRlLlxuICogQHJldHVybnMge1BvaW50fSBQb2ludCBjYWxjdWxhdGVkLlxuICovXG5Qb2ludC5wcm90b3R5cGUuZGl2aWRlQnkgPSBmdW5jdGlvbihudW0pIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZpZGVCeShudW0pO1xufTtcblxuLyoqXG4gKiBEaXZpZGUgcG9pbnRzLiAobWFuaXB1bGF0ZSBzZWxmKVxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRvIGRpdmlkZS5cbiAqIEByZXR1cm5zIHtQb2ludH0gUG9pbnQgY2FsY3VsYXRlZC5cbiAqL1xuUG9pbnQucHJvdG90eXBlLl9kaXZpZGVCeSA9IGZ1bmN0aW9uKG51bSkge1xuICAgIHRoaXMueCAvPSBudW07XG4gICAgdGhpcy55IC89IG51bTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBNdWx0aXBseSBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gVGh5ZW4gbnVtYmVyIHRvIG11bHRpcGx5XG4gKiBAcmV0dXJucyB7UG9pbnR9IFBvaW50IGNhbGN1bGF0ZWQuXG4gKi9cblBvaW50LnByb3RvdHlwZS5tdWx0aXBseUJ5ID0gZnVuY3Rpb24obnVtKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdGlwbHlCeShudW0pO1xufTtcblxuLyoqXG4gKiBNdWx0aXBseSBzZWxmIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRvIG11bHRpcGx5LlxuICogQHJldHVybnMge1BvaW50fSBQb2ludCBjYWxjdWxhdGVkLlxuICovXG5Qb2ludC5wcm90b3R5cGUuX211bHRpcGx5QnkgPSBmdW5jdGlvbihudW0pIHtcbiAgICB0aGlzLnggKj0gbnVtO1xuICAgIHRoaXMueSAqPSBudW07XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUm91bmQgY29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJucyB7UG9pbnR9IFBvaW50IGNhbGN1bGF0ZWQuXG4gKi9cblBvaW50LnByb3RvdHlwZS5yb3VuZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCk7XG59O1xuXG4vKipcbiAqIFJvdW5kIHNlbGYgY29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJucyB7UG9pbnR9IFBvaW50IGNhbGN1bGF0ZWQuXG4gKi9cblBvaW50LnByb3RvdHlwZS5fcm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7XG4gICAgdGhpcy55ID0gTWF0aC5yb3VuZCh0aGlzLnkpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJldmVyc2UgdmFsdWVzIGJldHdlZW4gcG9zaXRpdmUgYW5kIG5lZ2F0aXZlLlxuICogQHJldHVybnMge1BvaW50fSBQb2ludCBjYWxjdWxhdGVkLlxuICovXG5Qb2ludC5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkuX3JldmVyc2UoKTtcbn07XG5cbi8qKlxuICogUmV2ZXJzZSBzZWxmIHZhbHVlcyBiZXR3ZWVuIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZS5cbiAqIEByZXR1cm5zIHtQb2ludH0gUG9pbnQgY2FsY3VsYXRlZC5cbiAqL1xuUG9pbnQucHJvdG90eXBlLl9yZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy54ICo9IC0xO1xuICAgIHRoaXMueSAqPSAtMTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBGbG9vciBjb29yZGluYXRlcy5cbiAqIEByZXR1cm5zIHtQb2ludH0gUG9pbnQgY2FsY3VsYXRlZC5cbiAqL1xuUG9pbnQucHJvdG90eXBlLmZsb29yID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5fZmxvb3IoKTtcbn07XG5cbi8qKlxuICogRmxvb3Igc2VsZiBjb29yZGluYXRlcy5cbiAqIEByZXR1cm5zIHtQb2ludH0gUG9pbnQgY2FsY3VsYXRlZC5cbiAqL1xuUG9pbnQucHJvdG90eXBlLl9mbG9vciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMueCA9IE1hdGguZmxvb3IodGhpcy54KTtcbiAgICB0aGlzLnkgPSBNYXRoLmZsb29yKHRoaXMueSk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2VpbCBjb29yZGluYXRlcy5cbiAqIEByZXR1cm5zIHtQb2ludH0gUG9pbnQgY2FsY3VsYXRlZC5cbiAqL1xuUG9pbnQucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLl9jZWlsKCk7XG59O1xuXG4vKipcbiAqIENlaWwgc2VsZiBjb29kaW5hdGVzLlxuICogQHJldHVybnMge1BvaW50fSBQb2ludCBjYWxjdWxhdGVkLlxuICovXG5Qb2ludC5wcm90b3R5cGUuX2NlaWwgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnggPSBNYXRoLmNlaWwodGhpcy54KTtcbiAgICB0aGlzLnkgPSBNYXRoLmNlaWwodGhpcy55KTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSb3RhdGUgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVnIFRoZSBudW1iZXIgb2Ygcm90YXRlIGRlZ3JlZS5cbiAqIEBwYXJhbSB7UG9pbnR9IFtjZW50ZXI9dGhpc10gQ2VudGVyIHBvaW50IGluc3RhbmNlIHRvIHVzZSByb3RhdGUgY2VudGVyLiB1c2Ugb3duIHdoZW4gbm90IHN1cHBsaWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb3NdIENvc2luZSB2YWx1ZXMgZm9yIHJvdGF0ZS4gaXQgdXNlZnVsIHdoZW4gbXVsdGkgcG9pbnQgcm90YXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzaW5dIFNpbmUgdmFsdWVzIGZvciByb3RhdGUuIGl0IHVzZWZ1bCB3aGVuIG11bHRpIHBvaW50IHJvdGF0ZS5cbiAqIEByZXR1cm5zIHtQb2ludH0gVGhlIHBvaW50IGluc3RhbmNlIHJvdGF0ZWQuXG4gKi9cblBvaW50LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbihkZWcsIGNlbnRlciwgY29zLCBzaW4pIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUoZGVnLCBjZW50ZXIsIGNvcywgc2luKTtcbn07XG5cbi8qKlxuICogUm90YXRlIHNlbGYuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVnIFRoZSBudW1iZXIgb2Ygcm90YXRlIGRlZ3JlZS5cbiAqIEBwYXJhbSB7UG9pbnR9IFtjZW50ZXI9dGhpc10gQ2VudGVyIHBvaW50IGluc3RhbmNlIHRvIHVzZSByb3RhdGUgY2VudGVyLiB1c2Ugb3duIHdoZW4gbm90IHN1cHBsaWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb3NdIENvc2luZSB2YWx1ZXMgZm9yIHJvdGF0ZS4gaXQgdXNlZnVsIHdoZW4gbXVsdGkgcG9pbnQgcm90YXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzaW5dIFNpbmUgdmFsdWVzIGZvciByb3RhdGUuIGl0IHVzZWZ1bCB3aGVuIG11bHRpIHBvaW50IHJvdGF0ZS5cbiAqIEByZXR1cm5zIHtQb2ludH0gVGhlIHBvaW50IGluc3RhbmNlIHJvdGF0ZWQuXG4gKi9cblBvaW50LnByb3RvdHlwZS5fcm90YXRlID0gZnVuY3Rpb24oZGVnLCBjZW50ZXIsIGNvcywgc2luKSB7XG4gICAgdmFyIHJhZCA9IGRlZyAqIChNYXRoLlBJIC8gMTgwKSxcbiAgICAgICAgeCxcbiAgICAgICAgeTtcblxuICAgIGNvcyA9IGNvcyB8fCBwYXJzZUZsb2F0KE1hdGguY29zKHJhZCkudG9GaXhlZCg4KSk7XG4gICAgc2luID0gc2luIHx8IHBhcnNlRmxvYXQoTWF0aC5zaW4ocmFkKS50b0ZpeGVkKDgpKTtcblxuICAgIHRoaXMuX3N1YnRyYWN0KGNlbnRlcik7XG5cbiAgICB4ID0gdGhpcy54O1xuICAgIHkgPSB0aGlzLnk7XG5cbiAgICB0aGlzLnggPSAoeCAqIGNvcykgLSAoeSAqIHNpbik7XG4gICAgdGhpcy55ID0gKHggKiBzaW4pICsgKHkgKiBjb3MpO1xuXG4gICAgdGhpcy5fYWRkKGNlbnRlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50IFBvaW50IGluc3RhbmNlLlxuICogQHJldHVybnMge251bWJlcn0gVGhlIG51bWJlciBvZiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMuXG4gKi9cblBvaW50LnByb3RvdHlwZS5kaXN0YW5jZVRvID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICB2YXIgeCxcbiAgICAgICAgeTtcblxuICAgIHBvaW50ID0gUG9pbnQubihwb2ludCk7XG5cbiAgICB4ID0gcG9pbnQueCAtIHRoaXMueDtcbiAgICB5ID0gcG9pbnQueSAtIHRoaXMueTtcblxuICAgIHJldHVybiBNYXRoLnNxcnQoKHggKiB4KSArICh5ICogeSkpO1xufTtcblxuLyoqXG4gKiBDaGVjayBwb2ludCBlcXVhbHMuXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludCBQb2ludCBpbnN0YW5jZSB0byBjb21wYXJlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gZXF1YWxpdHlcbiAqL1xuUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcG9pbnQgPSBQb2ludC5uKHBvaW50KTtcblxuICAgIHJldHVybiBwb2ludC54ID09PSB0aGlzLnggJiYgcG9pbnQueSA9PT0gdGhpcy55O1xufTtcblxuLyoqXG4gKiBSZXR1cm4gZm9ybWF0dGVkIHN0cmluZy4gJ1BvaW50KHgsIHkpJ1xuICogQHJldHVybnMge3N0cmluZ30gc3RyaW5nXG4gKi9cblBvaW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnUG9pbnQoJyArIHRoaXMueCArICcsICcgKyB0aGlzLnkgKyAnKSc7XG59O1xuXG4vKipcbiAqIFJldHVybiBjb29kaW5hdGVzIHRvIGFycmF5LiBbeCwgeV1cbiAqIEByZXR1cm5zIHtudW1iZXJbXX0gY29vcmRpbmF0ZSBhcnJheS5cbiAqL1xuUG9pbnQucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gW3RoaXMueCwgdGhpcy55XTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUG9pbnQ7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29tbW9uL3JlcUFuaW1GcmFtZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2NvbW1vbi9yZXFBbmltRnJhbWUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIEBmaWxlb3ZlcnZpZXcgUmVxdWVzdEFuaW1GcmFtZVxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgcmVxdWVzdEZuLFxuICAgIGNhbmNlbEZuO1xuXG4vKipcbiAqIEdldCBuYW1lIHdpdGggdmVuZG9yIHByZWZpeFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBuYW1lIHRvIHByZXBlbmQgcHJlZml4XG4gKiBAcmV0dXJucyB7c3RyaW5nfSB2ZW5kb3IgcHJlZml4ZWQgbmFtZVxuICovXG5mdW5jdGlvbiBnZXRQcmVmaXhlZChuYW1lKSB7XG4gICAgcmV0dXJuIGdsb2JhbFsnd2Via2l0JyArIG5hbWVdIHx8IGdsb2JhbFsnbW96JyArIG5hbWVdIHx8IGdsb2JhbFsnbXMnICsgbmFtZV07XG59XG5cbnJlcXVlc3RGbiA9IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICBnZXRQcmVmaXhlZCgnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJykgfHxcbiAgICBmdW5jdGlvbihmbiwgY29udGV4dCkge1xuICAgICAgICBmbi5jYWxsKGNvbnRleHQpO1xuICAgIH07XG5cbmNhbmNlbEZuID0gZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgZ2V0UHJlZml4ZWQoJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJykgfHxcbiAgICBnZXRQcmVmaXhlZCgnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJykgfHxcbiAgICBmdW5jdGlvbigpIHt9O1xuXG4vKipcbiAqIEBtb2R1bGUgbW9kdWxlOnJlcUFuaW1GcmFtZVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8qKlxuICAgICAqIFNoaW0gb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IGNvbnRleHQgY29udGV4dCBmb3IgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBVbmlxdWUgaWRcbiAgICAgKi9cbiAgICByZXF1ZXN0QW5pbUZyYW1lOiBmdW5jdGlvbihmbiwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmVxdWVzdEZuLmNhbGwoZ2xvYmFsLCBmbi5iaW5kKGNvbnRleHQpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2hpbSBvZiBjYW5jZWxBbmltYXRpb25GcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgaWRcbiAgICAgKi9cbiAgICBjYW5jZWxBbmltRnJhbWU6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbmNlbEZuLmNhbGwoZ2xvYmFsLCBpZCk7XG4gICAgfVxufTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMgKi8gXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCIpKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9jb21tb24vdGltZXpvbmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IHRpbWV6b25lXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgaW50bFV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ludGxVdGlsICovIFwiLi9zcmMvanMvY29tbW9uL2ludGxVdGlsLmpzXCIpO1xuXG52YXIgTUlOX1RPX01TID0gNjAgKiAxMDAwO1xudmFyIG5hdGl2ZU9mZnNldE1zID0gZ2V0VGltZXpvbmVPZmZzZXQoKTtcbnZhciBjdXN0b21PZmZzZXRNcyA9IG5hdGl2ZU9mZnNldE1zO1xudmFyIHRpbWV6b25lT2Zmc2V0Q2FsbGJhY2sgPSBudWxsO1xudmFyIHNldEJ5VGltZXpvbmVPcHRpb24gPSBmYWxzZTtcbnZhciBvZmZzZXRDYWxjdWxhdG9yID0gbnVsbDtcbnZhciBwcmltYXJ5T2Zmc2V0LCBwcmltYXJ5VGltZXpvbmVOYW1lO1xuXG52YXIgZ2V0dGVyTWV0aG9kcyA9IFtcbiAgICAnZ2V0RGF0ZScsXG4gICAgJ2dldERheScsXG4gICAgJ2dldEZ1bGxZZWFyJyxcbiAgICAnZ2V0SG91cnMnLFxuICAgICdnZXRNaWxsaXNlY29uZHMnLFxuICAgICdnZXRNaW51dGVzJyxcbiAgICAnZ2V0TW9udGgnLFxuICAgICdnZXRTZWNvbmRzJ1xuXTtcblxudmFyIHNldHRlck1ldGhvZHMgPSBbXG4gICAgJ3NldERhdGUnLFxuICAgICdzZXRGdWxsWWVhcicsXG4gICAgJ3NldEhvdXJzJyxcbiAgICAnc2V0TWlsbGlzZWNvbmRzJyxcbiAgICAnc2V0TWludXRlcycsXG4gICAgJ3NldE1vbnRoJyxcbiAgICAnc2V0U2Vjb25kcydcbl07XG5cbnZhciBTVEFOREFSRF9UT19EU1QgPSAxO1xudmFyIERTVF9UT19TVEFOREFSRCA9IC0xO1xuXG4vKipcbiAqIEdldCB0aGUgdGltZXpvbmUgb2Zmc2V0IGJ5IHRpbWVzdGFtcGVcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXAgLSB0aW1lc3RhbXBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbWV6b25lIG9mZnNldFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0VGltZXpvbmVPZmZzZXQodGltZXN0YW1wKSB7XG4gICAgdGltZXN0YW1wID0gIXV0aWwuaXNVbmRlZmluZWQodGltZXN0YW1wKSA/IHRpbWVzdGFtcCA6IERhdGUubm93KCk7XG5cbiAgICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wKS5nZXRUaW1lem9uZU9mZnNldCgpICogTUlOX1RPX01TO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VzdG9tZSB0aW1lem9uZSBvZmZzZXQgYnkgdGltZXN0YW1wZVxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcCAtIHRpbWVzdGFtcFxuICogQHJldHVybnMge251bWJlcn0gdGltZXpvbmUgb2Zmc2V0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBnZXRDdXN0b21UaW1lem9uZU9mZnNldCh0aW1lc3RhbXApIHtcbiAgICBpZiAoIXNldEJ5VGltZXpvbmVPcHRpb24gJiYgdGltZXpvbmVPZmZzZXRDYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGltZXpvbmVPZmZzZXRDYWxsYmFjayh0aW1lc3RhbXApICogTUlOX1RPX01TO1xuICAgIH1cblxuICAgIHJldHVybiBjdXN0b21PZmZzZXRNcztcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHRvIGxvY2FsIHRpbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIC0gdGltZVxuICogQHJldHVybnMge251bWJlcn0gbG9jYWwgdGltZVxuICovXG5mdW5jdGlvbiBnZXRMb2NhbFRpbWUodGltZSkge1xuICAgIHZhciBjdXN0b21UaW1lem9uZU9mZnNldCwgbG9jYWxUaW1lO1xuXG4gICAgaWYgKCFzZXRCeVRpbWV6b25lT3B0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aW1lO1xuICAgIH1cblxuICAgIGN1c3RvbVRpbWV6b25lT2Zmc2V0ID0gZ2V0Q3VzdG9tVGltZXpvbmVPZmZzZXQodGltZSk7XG4gICAgbG9jYWxUaW1lID0gdGltZSAtIGN1c3RvbVRpbWV6b25lT2Zmc2V0ICsgbmF0aXZlT2Zmc2V0TXM7XG5cbiAgICByZXR1cm4gbG9jYWxUaW1lO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIERhdGUgaW5zdGFuY2Ugd2l0aCBtdWx0aXBsZSBhcmd1bWVudHNcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgLSBhcmd1bWVudHNcbiAqIEByZXR1cm5zIHtEYXRlfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGF0ZVdpdGhNdWx0aXBsZUFyZ3MoYXJncykge1xuICAgIHZhciB1dGMgPSBEYXRlLlVUQy5hcHBseShudWxsLCBhcmdzKTtcblxuICAgIHJldHVybiBuZXcgRGF0ZSh1dGMgKyBnZXRUaW1lem9uZU9mZnNldCh1dGMpKTtcbn1cblxuLyoqXG4gKiBUbyBjb252ZXJ0IGEgRGF0ZSB0byBUWkRhdGUgYXMgaXQgaXMuXG4gKiBAcGFyYW0ge1RaRGF0ZXxudW1iZXJ8bnVsbH0gYXJnIC0gZGF0ZVxuICogQHJldHVybnMge0RhdGV9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURhdGVXaXRoVVRDVGltZShhcmcpIHtcbiAgICB2YXIgdGltZTtcblxuICAgIGlmIChhcmcgaW5zdGFuY2VvZiBUWkRhdGUpIHtcbiAgICAgICAgdGltZSA9IGFyZy5nZXRVVENUaW1lKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgICAgICB0aW1lID0gYXJnO1xuICAgIH0gZWxzZSBpZiAoYXJnID09PSBudWxsKSB7XG4gICAgICAgIHRpbWUgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBUeXBlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEYXRlKHRpbWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgdGltZSB0byBsb2NhbCB0aW1lLiBUaG9zZSB0aW1lcyBhcmUgb25seSBmcm9tIEFQSSBhbmQgbm90IGZyb20gaW5uZXIgc291cmNlIGNvZGUuXG4gKiBAcGFyYW0ge0RhdGV8c3RyaW5nfSBhcmcgLSBkYXRlXG4gKiBAcmV0dXJucyB7RGF0ZX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGF0ZUFzTG9jYWxUaW1lKGFyZykge1xuICAgIHZhciB0aW1lO1xuXG4gICAgaWYgKGFyZyBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgdGltZSA9IGFyZy5nZXRUaW1lKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aW1lID0gRGF0ZS5wYXJzZShhcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBUeXBlJyk7XG4gICAgfVxuXG4gICAgdGltZSA9IGdldExvY2FsVGltZSh0aW1lKTtcblxuICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lKTtcbn1cblxuLyoqXG4gKiBpcyBpdCBmb3IgbG9jYWwgdGltZT8gVGhlc2UgdHlwZSBjYW4gYmUgdXNlZCBmcm9tIENhbGVuZGFyIEFQSS5cbiAqIEBwYXJhbSB7RGF0ZXxzdHJpbmd9IGFyZyAtIGRhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiB1c2VMb2NhbFRpbWVDb252ZXJ0ZXIoYXJnKSB7XG4gICAgcmV0dXJuIGFyZyBpbnN0YW5jZW9mIERhdGUgfHwgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogVGltZXpvbmUgRGF0ZSBDbGFzc1xuICogQHBhcmFtIHtudW1iZXJ8VFpEYXRlfERhdGV8c3RyaW5nfSBkYXRlIC0gZGF0ZSB0byBiZSBjb252ZXJ0ZWRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBUWkRhdGUoZGF0ZSkge1xuICAgIHZhciBuYXRpdmVEYXRlO1xuXG4gICAgaWYgKHV0aWwuaXNVbmRlZmluZWQoZGF0ZSkpIHtcbiAgICAgICAgZGF0ZSA9IERhdGUubm93KCk7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIG5hdGl2ZURhdGUgPSBjcmVhdGVEYXRlV2l0aE11bHRpcGxlQXJncyhhcmd1bWVudHMpO1xuICAgIH0gZWxzZSBpZiAodXNlTG9jYWxUaW1lQ29udmVydGVyKGRhdGUpKSB7XG4gICAgICAgIG5hdGl2ZURhdGUgPSBjcmVhdGVEYXRlQXNMb2NhbFRpbWUoZGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmF0aXZlRGF0ZSA9IGNyZWF0ZURhdGVXaXRoVVRDVGltZShkYXRlKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kYXRlID0gbmF0aXZlRGF0ZTtcbn1cblxuLyoqXG4gKiBHZXQgbWlsbGlzZWNvbmRzIHdoaWNoIGlzIGNvbnZlcnRlZCBieSB0aW1lem9uZVxuICogQHJldHVybnMge251bWJlcn0gbWlsbGlzZWNvbmRzXG4gKi9cblRaRGF0ZS5wcm90b3R5cGUuZ2V0VGltZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0aW1lID0gdGhpcy5fZGF0ZS5nZXRUaW1lKCk7XG5cbiAgICByZXR1cm4gdGltZSArIGdldEN1c3RvbVRpbWV6b25lT2Zmc2V0KHRpbWUpIC0gZ2V0VGltZXpvbmVPZmZzZXQodGltZSk7XG59O1xuXG4vKipcbiAqIEdldCBVVEMgbWlsbGlzZWNvbmRzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBtaWxsaXNlY29uZHNcbiAqL1xuVFpEYXRlLnByb3RvdHlwZS5nZXRVVENUaW1lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGUuZ2V0VGltZSgpO1xufTtcblxuLyoqXG4gKiB0b1VUQ1N0cmluZ1xuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuVFpEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRlLnRvVVRDU3RyaW5nKCk7XG59O1xuXG4vKipcbiAqIHRvIERhdGVcbiAqIEByZXR1cm5zIHtEYXRlfVxuICovXG5UWkRhdGUucHJvdG90eXBlLnRvRGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRlO1xufTtcblxuVFpEYXRlLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGltZSgpO1xufTtcblxuVFpEYXRlLnByb3RvdHlwZS5hZGREYXRlID0gZnVuY3Rpb24oZGF5KSB7XG4gICAgdGhpcy5zZXREYXRlKHRoaXMuZ2V0RGF0ZSgpICsgZGF5KTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuVFpEYXRlLnByb3RvdHlwZS5hZGRNaW51dGVzID0gZnVuY3Rpb24obWludXRlcykge1xuICAgIHRoaXMuc2V0TWludXRlcyh0aGlzLmdldE1pbnV0ZXMoKSArIG1pbnV0ZXMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5UWkRhdGUucHJvdG90eXBlLmFkZE1pbGxpc2Vjb25kcyA9IGZ1bmN0aW9uKG1pbGxpc2Vjb25kcykge1xuICAgIHRoaXMuc2V0TWlsbGlzZWNvbmRzKHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkgKyBtaWxsaXNlY29uZHMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtcGFyYW1zKi9cblRaRGF0ZS5wcm90b3R5cGUuc2V0V2l0aFJhdyA9IGZ1bmN0aW9uKHksIE0sIGQsIGgsIG0sIHMsIG1zKSB7XG4gICAgdGhpcy5zZXRGdWxsWWVhcih5LCBNLCBkKTtcbiAgICB0aGlzLnNldEhvdXJzKGgsIG0sIHMsIG1zKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7VFpEYXRlfSBsb2NhbCB0aW1lXG4gKi9cblRaRGF0ZS5wcm90b3R5cGUudG9Mb2NhbFRpbWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGltZSA9IHRoaXMuZ2V0VGltZSgpO1xuICAgIHZhciB1dGNUaW1lID0gdGhpcy5nZXRVVENUaW1lKCk7XG4gICAgdmFyIGRpZmYgPSB0aW1lIC0gdXRjVGltZTtcblxuICAgIHJldHVybiBuZXcgVFpEYXRlKHV0Y1RpbWUgLSBkaWZmKTtcbn07XG5cbmdldHRlck1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgVFpEYXRlLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0ZVttZXRob2ROYW1lXS5hcHBseSh0aGlzLl9kYXRlLCBhcmd1bWVudHMpO1xuICAgIH07XG59KTtcblxuc2V0dGVyTWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICBUWkRhdGUucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2RhdGVbbWV0aG9kTmFtZV0uYXBwbHkodGhpcy5fZGF0ZSwgYXJndW1lbnRzKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaW1lKCk7XG4gICAgfTtcbn0pO1xuXG4vKipcbiAqIFNldCBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSB0aW1lem9uZSBvZmZzZXQgYmFzZWQgb24gbWludXRlc1xuICovXG5mdW5jdGlvbiBzZXRPZmZzZXQob2Zmc2V0KSB7XG4gICAgY3VzdG9tT2Zmc2V0TXMgPSBvZmZzZXQgKiBNSU5fVE9fTVM7XG59XG5cbi8qKlxuICogU2V0IHByaW1hcnkgb2Zmc2V0XG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gb2Zmc2V0XG4gKi9cbmZ1bmN0aW9uIHNldFByaW1hcnlPZmZzZXQob2Zmc2V0KSB7XG4gICAgcHJpbWFyeU9mZnNldCA9IG9mZnNldDtcbiAgICBzZXRPZmZzZXQob2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gcHJpbWFyeSBvZmZzZXRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IG9mZnNldFxuICovXG5mdW5jdGlvbiBnZXRQcmltYXJ5T2Zmc2V0KCkge1xuICAgIHJldHVybiB1dGlsLmlzTnVtYmVyKHByaW1hcnlPZmZzZXQpID8gcHJpbWFyeU9mZnNldCA6IG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbn1cblxuLyoqXG4gKiBTZXQgcHJpbWFyeSB0aW1lem9uZSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gdGltZXpvbmVOYW1lIC0gdGltZXpvbmUgbmFtZSAodGltZSB6b25lIG5hbWVzIG9mIHRoZSBJQU5BIHRpbWUgem9uZSBkYXRhYmFzZSwgc3VjaCBhcyAnQXNpYS9TZW91bCcsICdBbWVyaWNhL05ld19Zb3JrJylcbiAqL1xuZnVuY3Rpb24gc2V0UHJpbWFyeVRpbWV6b25lQ29kZSh0aW1lem9uZU5hbWUpIHtcbiAgICBwcmltYXJ5VGltZXpvbmVOYW1lID0gdGltZXpvbmVOYW1lO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXQgYnkgdGltZXpvbmVOYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gdGltZXpvbmVOYW1lIC0gdGltZXpvbmUgbmFtZSAodGltZSB6b25lIG5hbWVzIG9mIHRoZSBJQU5BIHRpbWUgem9uZSBkYXRhYmFzZSwgc3VjaCBhcyAnQXNpYS9TZW91bCcsICdBbWVyaWNhL05ld19Zb3JrJylcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXAgLSB0aW1lc3RhbXBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbWV6b25lIG9mZnNldFxuICovXG5mdW5jdGlvbiBnZXRPZmZzZXRCeVRpbWV6b25lTmFtZSh0aW1lem9uZU5hbWUsIHRpbWVzdGFtcCkge1xuICAgIHZhciBvZmZzZXQgPSBnZXRQcmltYXJ5T2Zmc2V0KCk7XG4gICAgdmFyIGNhbGN1bGF0b3I7XG5cbiAgICBpZiAoIXRpbWV6b25lTmFtZSkge1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cblxuICAgIGNhbGN1bGF0b3IgPSBnZXRPZmZzZXRDYWxjdWxhdG9yKHRpbWV6b25lTmFtZSk7XG5cbiAgICByZXR1cm4gY2FsY3VsYXRvciA/IGNhbGN1bGF0b3IodGltZXpvbmVOYW1lLCB0aW1lc3RhbXApIDogb2Zmc2V0O1xufVxuXG4vKipcbiAqIFNldCBhIGNhbGN1bGF0b3IgZnVuY3Rpb24gdG8gZ2V0IHRpbWV6b25lIG9mZnNldCBieSB0aW1lc3RhbXBcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGN1bGF0b3IgLSBvZmZzZXQgY2FsY3VsYXRvclxuICovXG5mdW5jdGlvbiBzZXRPZmZzZXRDYWxjdWxhdG9yKGNhbGN1bGF0b3IpIHtcbiAgICBvZmZzZXRDYWxjdWxhdG9yID0gY2FsY3VsYXRvcjtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBmdW5jdGlvbiB0byBjYWxjdWxhdGUgdGltZXpvbmUgb2Zmc2V0IGJ5IHRpbWVzdGFtcFxuICogQHBhcmFtIHtzdHJpbmd9IHRpbWV6b25lTmFtZSAtIHRpbWV6b25lIG5hbWVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbiB8IG51bGx9IG9mZnNldCBjYWxjdWxhdG9yXG4gKi9cbmZ1bmN0aW9uIGdldE9mZnNldENhbGN1bGF0b3IodGltZXpvbmVOYW1lKSB7XG4gICAgaWYgKHV0aWwuaXNGdW5jdGlvbihvZmZzZXRDYWxjdWxhdG9yKSkge1xuICAgICAgICByZXR1cm4gb2Zmc2V0Q2FsY3VsYXRvcjtcbiAgICB9XG5cbiAgICBpZiAoaW50bFV0aWwuc3VwcG9ydEludGwodGltZXpvbmVOYW1lKSkge1xuICAgICAgICByZXR1cm4gaW50bFV0aWwub2Zmc2V0Q2FsY3VsYXRvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBTZXQgdGltZXpvbmUgYW5kIG9mZnNldCBieSB0aW1lem9uZSBvcHRpb25cbiAqIEBwYXJhbSB7VGltZXpvbmV9IHRpbWV6b25lT2JqIC0ge0BsaW5rIFRpbWV6b25lfVxuICovXG5mdW5jdGlvbiBzZXRQcmltYXJ5VGltZXpvbmVCeU9wdGlvbih0aW1lem9uZU9iaikge1xuICAgIHZhciB0aW1lem9uZU5hbWUsIG9mZnNldDtcblxuICAgIGlmICghKHRpbWV6b25lT2JqICYmIHRpbWV6b25lT2JqLnRpbWV6b25lTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRpbWV6b25lTmFtZSA9IHRpbWV6b25lT2JqLnRpbWV6b25lTmFtZTtcbiAgICBzZXRCeVRpbWV6b25lT3B0aW9uID0gdHJ1ZTtcbiAgICBzZXRQcmltYXJ5VGltZXpvbmVDb2RlKHRpbWV6b25lTmFtZSk7XG5cbiAgICBvZmZzZXQgPSBnZXRPZmZzZXRCeVRpbWV6b25lTmFtZSh0aW1lem9uZU5hbWUsIERhdGUubm93KCkpO1xuXG4gICAgaWYgKG9mZnNldCA9PT0gbmF0aXZlT2Zmc2V0TXMgLyBNSU5fVE9fTVMpIHtcbiAgICAgICAgc2V0QnlUaW1lem9uZU9wdGlvbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIHNldFByaW1hcnlPZmZzZXQob2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBHZXQgcHJpbWFyeSB0aW1lem9uZSBuYW1lXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBwcmltYXJ5IHRpbWV6b25lIG5hbWUgKHRpbWUgem9uZSBuYW1lcyBvZiB0aGUgSUFOQSB0aW1lIHpvbmUgZGF0YWJhc2UsIHN1Y2ggYXMgJ0FzaWEvU2VvdWwnLCAnQW1lcmljYS9OZXdfWW9yaycpXG4gKi9cbmZ1bmN0aW9uIGdldFByaW1hcnlUaW1lem9uZU5hbWUoKSB7XG4gICAgcmV0dXJuIHByaW1hcnlUaW1lem9uZU5hbWU7XG59XG5cbi8qKlxuICogQ29tcGFyZSB0aGUgc3RhcnQgYW5kIGVuZCB0aW1lcyB0byBzZWUgaWYgdGhlIHRpbWUgem9uZSBpcyBjaGFuZ2luZy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFRpbWUgLSBzdGFydCB0aW1lc3RhbXBcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRUaW1lIC0gZW5kIHRpbWVzdGFtcFxuICogQHJldHVybnMge29iamVjdH0gd2hldGhlciB0byBjaGFuZ2UgdGhlIG9mZnNldCBhbmQgb2Zmc2V0IGRpZmZlcmVuY2UgdmFsdWVcbiAqL1xuZnVuY3Rpb24gaXNEaWZmZXJlbnRPZmZzZXRTdGFydEFuZEVuZFRpbWUoc3RhcnRUaW1lLCBlbmRUaW1lKSB7XG4gICAgdmFyIG9mZnNldDEgPSBnZXRPZmZzZXRCeVRpbWV6b25lTmFtZShwcmltYXJ5VGltZXpvbmVOYW1lLCBzdGFydFRpbWUpO1xuICAgIHZhciBvZmZzZXQyID0gZ2V0T2Zmc2V0QnlUaW1lem9uZU5hbWUocHJpbWFyeVRpbWV6b25lTmFtZSwgZW5kVGltZSk7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG5cbiAgICBpZiAob2Zmc2V0MSA+IG9mZnNldDIpIHtcbiAgICAgICAgcmVzdWx0ID0gU1RBTkRBUkRfVE9fRFNUO1xuICAgIH0gZWxzZSBpZiAob2Zmc2V0MSA8IG9mZnNldDIpIHtcbiAgICAgICAgcmVzdWx0ID0gRFNUX1RPX1NUQU5EQVJEO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGlzT2Zmc2V0Q2hhbmdlZDogcmVzdWx0LFxuICAgICAgICBvZmZzZXREaWZmOiBvZmZzZXQxIC0gb2Zmc2V0MlxuICAgIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIERhdGU6IFRaRGF0ZSxcblxuICAgIHNldE9mZnNldDogc2V0T2Zmc2V0LFxuXG4gICAgLyoqXG4gICAgICogU2V0IG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSB0aW1lem9uZSBvZmZzZXQgYmFzZWQgb24gbWludXRlc1xuICAgICAqL1xuICAgIHNldE9mZnNldEJ5VGltZXpvbmVPcHRpb246IGZ1bmN0aW9uKG9mZnNldCkge1xuICAgICAgICB0aGlzLnNldE9mZnNldCgtb2Zmc2V0KTtcbiAgICAgICAgcHJpbWFyeU9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgIHNldEJ5VGltZXpvbmVPcHRpb24gPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgb2Zmc2V0IGluIGNhc2Ugb2YgYHNldEJ5VGltZXpvbmVPcHRpb25gLiBPciByZXR1cm4gMC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aW1lem9uZSBvZmZzZXQgb2Zmc2V0IG1pbnV0ZXNcbiAgICAgKi9cbiAgICBnZXRPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2V0QnlUaW1lem9uZU9wdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbU9mZnNldE1zIC8gTUlOX1RPX01TO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGdldCB0aW1lem9uZSBvZmZzZXQgYnkgdGltZXN0YW1wXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAqL1xuICAgIHNldE9mZnNldENhbGxiYWNrOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICB0aW1lem9uZU9mZnNldENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIChVc2UgdGhpcyBtZXRob2Qgb25seSBmb3IgdGVzdGluZylcbiAgICAgKiBSZXNldCBzeXN0ZW0gdGltZXpvbmUgYW5kIGN1c3RvbSB0aW1lem9uZVxuICAgICAqL1xuICAgIHJlc3RvcmVPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjdXN0b21PZmZzZXRNcyA9IGdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgfSxcblxuICAgIGdldE5hdGl2ZU9mZnNldE1zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU9mZnNldE1zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB0byB1c2UgY3VzdG9tIHRpbWV6b25lIG9wdGlvblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB1c2UgY3VzdG9tIHRpbWV6b25lIG9wdGlvblxuICAgICAqL1xuICAgIGhhc1ByaW1hcnlUaW1lem9uZUN1c3RvbVNldHRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gc2V0QnlUaW1lem9uZU9wdGlvbjtcbiAgICB9LFxuXG4gICAgcmVzZXRDdXN0b21TZXR0aW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0QnlUaW1lem9uZU9wdGlvbiA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICBzZXRPZmZzZXRDYWxjdWxhdG9yOiBzZXRPZmZzZXRDYWxjdWxhdG9yLFxuXG4gICAgc2V0UHJpbWFyeVRpbWV6b25lQnlPcHRpb246IHNldFByaW1hcnlUaW1lem9uZUJ5T3B0aW9uLFxuXG4gICAgZ2V0UHJpbWFyeU9mZnNldDogZ2V0UHJpbWFyeU9mZnNldCxcblxuICAgIGdldE9mZnNldEJ5VGltZXpvbmVOYW1lOiBnZXRPZmZzZXRCeVRpbWV6b25lTmFtZSxcblxuICAgIGdldFByaW1hcnlUaW1lem9uZU5hbWU6IGdldFByaW1hcnlUaW1lem9uZU5hbWUsXG5cbiAgICBpc05hdGl2ZU9zVXNpbmdEU1RUaW1lem9uZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuICAgICAgICB2YXIgamFuID0gbmV3IERhdGUoeWVhciwgMCwgMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICAgICAgdmFyIGp1bCA9IG5ldyBEYXRlKHllYXIsIDYsIDEpLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIGphbiAhPT0ganVsO1xuICAgIH0sXG5cbiAgICBpc1ByaW1hcnlVc2luZ0RTVFRpbWV6b25lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIHZhciBqYW4gPSBuZXcgRGF0ZSh5ZWFyLCAwLCAxKTtcbiAgICAgICAgdmFyIGp1bCA9IG5ldyBEYXRlKHllYXIsIDYsIDEpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBnZXRPZmZzZXRCeVRpbWV6b25lTmFtZShwcmltYXJ5VGltZXpvbmVOYW1lLCBqYW4pICE9PVxuICAgICAgICAgICAgZ2V0T2Zmc2V0QnlUaW1lem9uZU5hbWUocHJpbWFyeVRpbWV6b25lTmFtZSwganVsKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICBpc0RpZmZlcmVudE9mZnNldFN0YXJ0QW5kRW5kVGltZTogaXNEaWZmZXJlbnRPZmZzZXRTdGFydEFuZEVuZFRpbWUsXG4gICAgc2V0UHJpbWFyeVRpbWV6b25lQ29kZTogc2V0UHJpbWFyeVRpbWV6b25lQ29kZVxufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9jb21tb24vdmxheW91dC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9jb21tb24vdmxheW91dC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBMYXlvdXQgbW9kdWxlIHRoYXQgc3VwcGxpZWQgc3BsaXQgaGVpZ2h0LCByZXNpemUgaGVpZ2h0IGZlYXR1cmVzLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKSxcbiAgICBjb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbW1vbiAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb21tb24uanNcIiksXG4gICAgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpLFxuICAgIGRvbWV2ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kb21ldmVudCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb21ldmVudC5qc1wiKSxcbiAgICBWaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdmlldy92aWV3ICovIFwiLi9zcmMvanMvdmlldy92aWV3LmpzXCIpLFxuICAgIFZQYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdnBhbmVsICovIFwiLi9zcmMvanMvY29tbW9uL3ZwYW5lbC5qc1wiKSxcbiAgICBEcmFnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGFuZGxlci9kcmFnICovIFwiLi9zcmMvanMvaGFuZGxlci9kcmFnLmpzXCIpO1xuXG52YXIgbUFicyA9IE1hdGguYWJzO1xuXG4vKipcbiAqIEB0eXBlZGVmIFBhbmVsT3B0aW9uc1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluSGVpZ2h0PTBdIC0gbWluaW11bSBoZWlnaHQgb2YgcGFuZWxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gY3VycmVudCBwYW5lbCBoZWlnaHRcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NwbGl0dGVyPWZhbHNlXSAtIGlzIHRoaXMgcGFuZWwgdXNlcyBzcGxpdHRlcj9cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F1dG9IZWlnaHQ9ZmFsc2VdIC0gaXMgdGhpcyBwYW5lbCB1c2VzIHJlbWFpbiBoZWlnaHQgb2YgY29udGFpbmVyP1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9JyddIC0gY2xhc3NOYW1lIHN0cmluZyBmb3IgYWRkIGNyZWF0ZWQgZWxlbWVudFxuICovXG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7Vmlld31cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgVkxheW91dCBtb2R1bGVcbiAqICBAcGFyYW0ge1BhbmVsT3B0aW9uc1tdfSBbb3B0aW9ucy5wYW5lbHNdIC0gcGFuZWxzIHRvIGFkZCBsYXlvdXQgd2hlbiBpbml0aWFsaXplXG4gKiAgQHBhcmFtIHtudW1iZXJbXX0gW29wdGlvbnMucGFuZWxIZWlnaHRzXSAtIHBhbmVsIGhlaWdodCBsaXN0XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgLSBjb250YWluZXIgZWxlbWVudFxuICogQHBhcmFtIHtUaGVtZX0gdGhlbWUgLSB0aGVtZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBWTGF5b3V0KG9wdGlvbnMsIGNvbnRhaW5lciwgdGhlbWUpIHtcbiAgICB2YXIgb3B0LCB0ZW1wSGVpZ2h0cztcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBWTGF5b3V0KSkge1xuICAgICAgICByZXR1cm4gbmV3IFZMYXlvdXQob3B0aW9ucywgY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBWaWV3LmNhbGwodGhpcywgY29udGFpbmVyKTtcblxuICAgIGRvbXV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCBjb25maWcuY2xhc3NuYW1lKCd2bGF5b3V0LWNvbnRhaW5lcicpKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgb3B0ID0gdGhpcy5vcHRpb25zID0gdXRpbC5leHRlbmQoe1xuICAgICAgICBwYW5lbHM6IFtdLFxuICAgICAgICBwYW5lbEhlaWdodHM6IFtdXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VlBhbmVsW119XG4gICAgICovXG4gICAgdGhpcy5wYW5lbHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEcmFnfVxuICAgICAqL1xuICAgIHRoaXMuX2RyYWcgPSBuZXcgRHJhZyh7XG4gICAgICAgIGRpc3RhbmNlOiAxMCxcbiAgICAgICAgZXhjbHVkZTogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gIWRvbXV0aWwuaGFzQ2xhc3ModGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCdzcGxpdHRlcicpKTtcbiAgICAgICAgfVxuICAgIH0sIGNvbnRhaW5lcik7XG5cbiAgICB0aGlzLl9kcmFnLm9uKHtcbiAgICAgICAgZHJhZ1N0YXJ0OiB0aGlzLl9vbkRyYWdTdGFydCxcbiAgICAgICAgZHJhZzogdGhpcy5fb25EcmFnLFxuICAgICAgICBkcmFnRW5kOiB0aGlzLl9vbkRyYWdFbmRcbiAgICB9LCB0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5fZHJhZ0RhdGEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1RoZW1lfVxuICAgICAqL1xuICAgIHRoaXMudGhlbWUgPSB0aGVtZTtcblxuICAgIGlmIChvcHQucGFuZWxzLmxlbmd0aCkge1xuICAgICAgICBpZiAob3B0LnBhbmVsSGVpZ2h0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRlbXBIZWlnaHRzID0gb3B0LnBhbmVsSGVpZ2h0cy5zbGljZSgpO1xuICAgICAgICAgICAgdXRpbC5mb3JFYWNoKG9wdC5wYW5lbHMsIGZ1bmN0aW9uKHBhbmVsT3B0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYW5lbE9wdC5pc1NwbGl0dGVyICYmICFwYW5lbE9wdC5hdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhbmVsT3B0LmhlaWdodCA9IHRlbXBIZWlnaHRzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZFBhbmVscyhvcHQucGFuZWxzLCB0aGlzLmNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgdGhpcy5yZWZyZXNoKCk7XG59XG5cbnV0aWwuaW5oZXJpdChWTGF5b3V0LCBWaWV3KTtcblxuLyoqXG4gKiBHZXQgY3VycmVudCBwYW5lbHMgaGVpZ2h0IGluIGxheW91dFxuICogQHJldHVybnMge251bWJlcltdfSBoZWlnaHQgb2YgcGFuZWxzIHdpdGggYGF1dG9IZWlnaHRgIGZhbHNlXG4gKi9cblZMYXlvdXQucHJvdG90eXBlLmdldExheW91dERhdGEgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaGVpZ2h0TGlzdCA9IFtdO1xuXG4gICAgdXRpbC5mb3JFYWNoKHRoaXMucGFuZWxzLCBmdW5jdGlvbihwYW5lbCkge1xuICAgICAgICBpZiAocGFuZWwuaXNTcGxpdHRlcigpIHx8IHBhbmVsLm9wdGlvbnMuYXV0b0hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVpZ2h0TGlzdC5wdXNoKHBhbmVsLmdldEhlaWdodCgpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBoZWlnaHRMaXN0O1xufTtcblxuLyoqXG4gKiBTZXQgcGFuZWxzIGhlaWdodCBpbiBsYXlvdXRcbiAqIEBwYXJhbSB7bnVtYmVyW119IGhlaWdodExpc3Qgb2YgcGFuZWxzIHdpdGggYGF1dG9IZWlnaHRgIGZhbHNlXG4gKi9cblZMYXlvdXQucHJvdG90eXBlLnNldExheW91dERhdGEgPSBmdW5jdGlvbihoZWlnaHRMaXN0KSB7XG4gICAgaWYgKCFoZWlnaHRMaXN0Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXRpbC5mb3JFYWNoKHRoaXMucGFuZWxzLCBmdW5jdGlvbihwYW5lbCkge1xuICAgICAgICBpZiAocGFuZWwuaXNTcGxpdHRlcigpIHx8IHBhbmVsLm9wdGlvbnMuYXV0b0hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFuZWwuc2V0SGVpZ2h0KG51bGwsIGhlaWdodExpc3Quc2hpZnQoKSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlZnJlc2goKTtcbn07XG5cbi8qKlxuICogR2V0IG5leHQgcGFuZWwgaW5zdGFuY2UgYnkgc3BlY2lmaWMgcGFuZWxcbiAqIEBwYXJhbSB7VlBhbmVsfSBwYW5lbCAtIHBhbmVsIGluc3RhbmNlXG4gKiBAcmV0dXJucyB7VlBhbmVsfSBuZXh0IHBhbmVsXG4gKi9cblZMYXlvdXQucHJvdG90eXBlLm5leHRQYW5lbCA9IGZ1bmN0aW9uKHBhbmVsKSB7XG4gICAgcmV0dXJuIHRoaXMucGFuZWxzW3BhbmVsLmluZGV4ICsgMV07XG59O1xuXG4vKipcbiAqIEdldCBwcmV2aW91cyBwYW5lbCBpbnN0YW5jZSBieSBzcGVjaWZpYyBwYW5lbFxuICogQHBhcmFtIHtWUGFuZWx9IHBhbmVsIC0gcGFuZWwgaW5zdGFuY2VcbiAqIEByZXR1cm5zIHtWUGFuZWx9IHByZXZpb3VzIHBhbmVsXG4gKi9cblZMYXlvdXQucHJvdG90eXBlLnByZXZQYW5lbCA9IGZ1bmN0aW9uKHBhbmVsKSB7XG4gICAgcmV0dXJuIHRoaXMucGFuZWxzW3BhbmVsLmluZGV4IC0gMV07XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgcmVzaXppbmcgZ3VpZGUgZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgdG8gdXNlIGd1aWRlIGVsZW1lbnQgYWZ0ZXIgY2xvbmVkXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIC0gdG9wIHBpeGVsIHZhbHVlIGZvciBndWlkZSBlbGVtZW50XG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IGNsb25lZCBlbGVtZW50ID09IGd1aWRlIGVsZW1lbnRcbiAqL1xuVkxheW91dC5wcm90b3R5cGUuX2luaXRpYWxpemVHdWlkZUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCB0b3ApIHtcbiAgICB2YXIgY2xvbmVkID0gZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICBkb211dGlsLmFkZENsYXNzKGNsb25lZCwgY29uZmlnLmNsYXNzbmFtZSgnc3BsaXR0ZXItZ3VpZGUnKSk7XG4gICAgdGhpcy5fcmVmcmVzaEd1aWRlRWxlbWVudChjbG9uZWQsIHRvcCk7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmVkKTtcblxuICAgIHJldHVybiBjbG9uZWQ7XG59O1xuXG4vKipcbiAqIFJlZnJlc2ggZ3VpZGUgZWxlbWVudCBwb3NpdGlvblxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGd1aWRlIGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgLSB0b3AgcGl4ZWwgdmFsdWUgZm9yIGd1aWRlIGVsZW1lbnRcbiAqL1xuVkxheW91dC5wcm90b3R5cGUuX3JlZnJlc2hHdWlkZUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCB0b3ApIHtcbiAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHRvcCArICdweCc7XG59O1xuXG4vKipcbiAqIENsZWFyIGd1aWRlIGVsZW1lbnQgcG9zaXRpb25cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBndWlkZSBlbGVtZW50XG4gKi9cblZMYXlvdXQucHJvdG90eXBlLl9jbGVhckd1aWRlRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBkb211dGlsLnJlbW92ZShlbGVtZW50KTtcbn07XG5cbi8qKlxuICogUmVzaXplIG92ZXJhbGwgcGFuZWxzIHNpemVcbiAqIEBwYXJhbSB7VlBhbmVsfSBzcGxQYW5lbCAtIHNwbGl0dGVyIHBhbmVsIGluc3RhbmNlXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIC0gZHJhZ3N0YXJ0IFkgcG9zaXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBtb3VzZVkgLSBkcmFnZW5kIFkgcG9zaXRpb25cbiAqL1xuVkxheW91dC5wcm90b3R5cGUuX3Jlc2l6ZSA9IGZ1bmN0aW9uKHNwbFBhbmVsLCBzdGFydFksIG1vdXNlWSkge1xuICAgIHZhciBkaWZmWSA9IHN0YXJ0WSAtIG1vdXNlWSxcbiAgICAgICAgcmVzaXplZEhlaWdodCA9IG1BYnMoZGlmZlkpLFxuICAgICAgICByZXNpemVNYXAgPSBbXSxcbiAgICAgICAgdG9Eb3duID0gbW91c2VZID4gc3RhcnRZLFxuICAgICAgICBiYWNrd2FyZE1ldGhvZCA9IHRvRG93biA/ICdwcmV2UGFuZWwnIDogJ25leHRQYW5lbCcsXG4gICAgICAgIGZvcndhcmRNZXRob2QgPSB0b0Rvd24gPyAnbmV4dFBhbmVsJyA6ICdwcmV2UGFuZWwnLFxuICAgICAgICBjdXJzb3IsIHJlc2l6ZUluZm87XG5cbiAgICBjdXJzb3IgPSB0aGlzW2JhY2t3YXJkTWV0aG9kXShzcGxQYW5lbCk7XG4gICAgcmVzaXplSW5mbyA9IGN1cnNvci5nZXRSZXNpemVJbmZvQnlHcm93dGgocmVzaXplZEhlaWdodCk7XG4gICAgcmVzaXplTWFwLnB1c2goW2N1cnNvciwgcmVzaXplSW5mb1swXV0pO1xuXG4gICAgZm9yIChjdXJzb3IgPSB0aGlzW2ZvcndhcmRNZXRob2RdKGN1cnNvcik7XG4gICAgICAgIHV0aWwuaXNFeGlzdHkoY3Vyc29yKTtcbiAgICAgICAgY3Vyc29yID0gdGhpc1tmb3J3YXJkTWV0aG9kXShjdXJzb3IpKSB7XG4gICAgICAgIGlmIChjdXJzb3IuaXNTcGxpdHRlcigpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc2l6ZUluZm8gPSBjdXJzb3IuZ2V0UmVzaXplSW5mb0J5R3Jvd3RoKC1yZXNpemVkSGVpZ2h0KTtcbiAgICAgICAgcmVzaXplTWFwLnB1c2goW2N1cnNvciwgcmVzaXplSW5mb1swXV0pO1xuICAgICAgICByZXNpemVkSGVpZ2h0IC09IHJlc2l6ZUluZm9bMV07XG4gICAgfVxuXG4gICAgdXRpbC5mb3JFYWNoKHJlc2l6ZU1hcCwgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICBwYWlyWzBdLnNldEhlaWdodChudWxsLCBwYWlyWzFdLCB0cnVlKTtcbiAgICAgICAgcGFpclswXS5maXJlKCdyZXNpemUnKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogR2V0IHN1bW1hdGlvbiBvZiBzcGxpdHRlciBhbmQgcGFuZWwncyBtaW5pbXVtIGhlaWdodCB1cHBlciBhbmQgYmVsb3cgb2Ygc3VwcGxpZWQgc3BsaXR0ZXJcbiAqIEBwYXJhbSB7VlBhbmVsfSBzcGxQYW5lbCAtIHNwbGl0dGVyIHBhbmVsIGluc3RhbmNlXG4gKiBAcmV0dXJucyB7bnVtYmVyW119IHVwcGVyIGFuZCBiZWxvdyBzcGxpdHRlcidzIGhlaWdodCBhbmQgcGFuZWwgbWluaW11bSBoZWlnaHQgc3VtbWF0aW9uLlxuICovXG5WTGF5b3V0LnByb3RvdHlwZS5fZ2V0TW91c2VZQWRkaXRpb25hbExpbWl0ID0gZnVuY3Rpb24oc3BsUGFuZWwpIHtcbiAgICB2YXIgdXBwZXIgPSAwLFxuICAgICAgICBiZWxvdyA9IDAsXG4gICAgICAgIGN1cnNvcixcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uKHBhbmVsKSB7XG4gICAgICAgICAgICBpZiAocGFuZWwuaXNTcGxpdHRlcigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbmVsLmdldEhlaWdodCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcGFuZWwub3B0aW9ucy5taW5IZWlnaHQ7XG4gICAgICAgIH07XG5cbiAgICBmb3IgKGN1cnNvciA9IHRoaXMucHJldlBhbmVsKHNwbFBhbmVsKTtcbiAgICAgICAgdXRpbC5pc0V4aXN0eShjdXJzb3IpO1xuICAgICAgICBjdXJzb3IgPSB0aGlzLnByZXZQYW5lbChjdXJzb3IpKSB7XG4gICAgICAgIHVwcGVyICs9IGZ1bmMoY3Vyc29yKTtcbiAgICB9XG5cbiAgICBmb3IgKGN1cnNvciA9IHRoaXMubmV4dFBhbmVsKHNwbFBhbmVsKTtcbiAgICAgICAgdXRpbC5pc0V4aXN0eShjdXJzb3IpO1xuICAgICAgICBjdXJzb3IgPSB0aGlzLm5leHRQYW5lbChjdXJzb3IpKSB7XG4gICAgICAgIGJlbG93ICs9IGZ1bmMoY3Vyc29yKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW3VwcGVyLCBiZWxvd107XG59O1xuXG4vKioqKioqKioqKlxuICogRHJhZyBIYW5kbGVyc1xuICoqKioqKioqKiovXG5cbi8qKlxuICogRHJhZyBzdGFydCBzY2hlZHVsZSBoYW5kbGVyXG4gKiBAcGFyYW0ge29iamVjdH0gZSAtIGRyYWcgc3RhcnQgc2NoZWR1bGUgZGF0YVxuICovXG5WTGF5b3V0LnByb3RvdHlwZS5fb25EcmFnU3RhcnQgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIG9FdmVudCA9IGUub3JpZ2luRXZlbnQsXG4gICAgICAgIHRhcmdldCA9IGUudGFyZ2V0LFxuICAgICAgICBzcGxJbmRleCA9IGRvbXV0aWwuZ2V0RGF0YSh0YXJnZXQsICdwYW5lbEluZGV4JyksXG4gICAgICAgIHNwbFBhbmVsID0gdGhpcy5wYW5lbHNbc3BsSW5kZXhdLFxuICAgICAgICBzcGxIZWlnaHQgPSBzcGxQYW5lbC5nZXRIZWlnaHQoKSxcbiAgICAgICAgc3BsT2Zmc2V0WSA9IGRvbWV2ZW50LmdldE1vdXNlUG9zaXRpb24ob0V2ZW50LCB0YXJnZXQpWzFdLFxuICAgICAgICBtb3VzZVkgPSBkb21ldmVudC5nZXRNb3VzZVBvc2l0aW9uKG9FdmVudCwgdGhpcy5jb250YWluZXIpWzFdLFxuICAgICAgICBndWlkZUVsZW1lbnQgPSB0aGlzLl9pbml0aWFsaXplR3VpZGVFbGVtZW50KHRhcmdldCwgbW91c2VZKTtcblxuICAgIHNwbFBhbmVsLmFkZENsYXNzKGNvbmZpZy5jbGFzc25hbWUoJ3NwbGl0dGVyLWZvY3VzZWQnKSk7XG5cbiAgICB0aGlzLl9kcmFnRGF0YSA9IHtcbiAgICAgICAgc3BsUGFuZWw6IHNwbFBhbmVsLFxuICAgICAgICBzcGxPZmZzZXRZOiBzcGxPZmZzZXRZLFxuICAgICAgICBndWlkZUVsZW1lbnQ6IGd1aWRlRWxlbWVudCxcbiAgICAgICAgc3RhcnRZOiBtb3VzZVkgLSBzcGxPZmZzZXRZLFxuICAgICAgICBtaW5ZOiAwLFxuICAgICAgICBtYXhZOiB0aGlzLmdldFZpZXdCb3VuZCgpLmhlaWdodCAtIHNwbEhlaWdodFxuICAgIH07XG5cbiAgICBpZiAoIXV0aWwuYnJvd3Nlci5tc2llKSB7XG4gICAgICAgIGRvbXV0aWwuYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgY29uZmlnLmNsYXNzbmFtZSgncmVzaXppbmcnKSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBEcmFnIHNjaGVkdWxlIGhhbmRsZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBlIC0gZHJhZyBzY2hlZHVsZSBkYXRhXG4gKi9cblZMYXlvdXQucHJvdG90eXBlLl9vbkRyYWcgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGRyYWdEYXRhID0gdGhpcy5fZHJhZ0RhdGEsXG4gICAgICAgIG1vdXNlWSA9IGRvbWV2ZW50LmdldE1vdXNlUG9zaXRpb24oZS5vcmlnaW5FdmVudCwgdGhpcy5jb250YWluZXIpWzFdO1xuXG4gICAgbW91c2VZID0gY29tbW9uLmxpbWl0KG1vdXNlWSAtIGRyYWdEYXRhLnNwbE9mZnNldFksIFtkcmFnRGF0YS5taW5ZXSwgW2RyYWdEYXRhLm1heFldKTtcblxuICAgIHRoaXMuX3JlZnJlc2hHdWlkZUVsZW1lbnQoZHJhZ0RhdGEuZ3VpZGVFbGVtZW50LCBtb3VzZVkpO1xufTtcblxuLyoqXG4gKiBEcmFnIGVuZCBzY2hlZHVsZSBoYW5kbGVyXG4gKiBAZmlyZXMgVkxheW91dCNyZXNpemVcbiAqIEBwYXJhbSB7b2JqZWN0fSBlIC0gZHJhZ2VuZCBzY2hlZHVsZSBkYXRhXG4gKi9cblZMYXlvdXQucHJvdG90eXBlLl9vbkRyYWdFbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGRyYWdEYXRhID0gdGhpcy5fZHJhZ0RhdGEsXG4gICAgICAgIGFzaWRlTWluTWF4ID0gdGhpcy5fZ2V0TW91c2VZQWRkaXRpb25hbExpbWl0KGRyYWdEYXRhLnNwbFBhbmVsKSxcbiAgICAgICAgbW91c2VZID0gZG9tZXZlbnQuZ2V0TW91c2VQb3NpdGlvbihlLm9yaWdpbkV2ZW50LCB0aGlzLmNvbnRhaW5lcilbMV07XG5cbiAgICAvLyBtb3VzZVkgdmFsdWUgY2FuJ3QgZXhjZWVkIHN1bW1hdGlvbiBvZiBzcGxpdHRlciBoZWlnaHQgYW5kIHBhbmVsJ3MgbWluaW11bSBoZWlnaHQgYmFzZWQgb24gdGFyZ2V0IHNwbGl0dGVyLlxuICAgIG1vdXNlWSA9IGNvbW1vbi5saW1pdChcbiAgICAgICAgbW91c2VZIC0gZHJhZ0RhdGEuc3BsT2Zmc2V0WSxcbiAgICAgICAgW2RyYWdEYXRhLm1pblkgKyBhc2lkZU1pbk1heFswXV0sXG4gICAgICAgIFtkcmFnRGF0YS5tYXhZIC0gYXNpZGVNaW5NYXhbMV1dXG4gICAgKTtcblxuICAgIHRoaXMuX3Jlc2l6ZShkcmFnRGF0YS5zcGxQYW5lbCwgZHJhZ0RhdGEuc3RhcnRZLCBtb3VzZVkpO1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IFZMYXlvdXQjcmVzaXplXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcltdfSBsYXlvdXREYXRhIC0gbGF5b3V0IGRhdGEgYWZ0ZXIgcmVzaXplZFxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgncmVzaXplJywge1xuICAgICAgICBsYXlvdXREYXRhOiB0aGlzLmdldExheW91dERhdGEoKVxuICAgIH0pO1xuXG4gICAgdGhpcy5fZHJhZ0RhdGEgPSBudWxsO1xuICAgIHRoaXMuX2NsZWFyR3VpZGVFbGVtZW50KGRyYWdEYXRhLmd1aWRlRWxlbWVudCk7XG4gICAgZHJhZ0RhdGEuc3BsUGFuZWwucmVtb3ZlQ2xhc3MoY29uZmlnLmNsYXNzbmFtZSgnc3BsaXR0ZXItZm9jdXNlZCcpKTtcbiAgICBkb211dGlsLnJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksIGNvbmZpZy5jbGFzc25hbWUoJ3Jlc2l6aW5nJykpO1xufTtcblxuLyoqKioqKioqKipcbiAqIE1ldGhvZHNcbiAqKioqKioqKioqL1xuXG4vKipcbiAqIHJlZnJlc2ggZWFjaCBwYW5lbHNcbiAqL1xuVkxheW91dC5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYW5lbFRvRmlsbEhlaWdodCA9IFtdO1xuICAgIHZhciBsYXlvdXRIZWlnaHQgPSB0aGlzLmdldFZpZXdCb3VuZCgpLmhlaWdodDtcbiAgICB2YXIgdXNlZEhlaWdodCA9IDA7XG4gICAgdmFyIHJlbWFpbkhlaWdodDtcblxuICAgIGlmICghbGF5b3V0SGVpZ2h0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1dGlsLmZvckVhY2godGhpcy5wYW5lbHMsIGZ1bmN0aW9uKHBhbmVsKSB7XG4gICAgICAgIGlmIChwYW5lbC5vcHRpb25zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgICAgIHBhbmVsVG9GaWxsSGVpZ2h0LnB1c2gocGFuZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXNlZEhlaWdodCArPSBwYW5lbC5nZXRIZWlnaHQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVtYWluSGVpZ2h0ID0gKGxheW91dEhlaWdodCAtIHVzZWRIZWlnaHQpIC8gcGFuZWxUb0ZpbGxIZWlnaHQubGVuZ3RoO1xuXG4gICAgdXRpbC5mb3JFYWNoKHBhbmVsVG9GaWxsSGVpZ2h0LCBmdW5jdGlvbihwYW5lbCkge1xuICAgICAgICBwYW5lbC5zZXRIZWlnaHQobnVsbCwgcmVtYWluSGVpZ2h0KTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogYWRkIHBhbmVsXG4gKiBAcGFyYW0ge1BhbmVsT3B0aW9uc30gb3B0aW9ucyAtIG9wdGlvbnMgZm9yIHBhbmVsXG4gKiBAcGFyYW0ge2NvbnRhaW5lcn0gW2NvbnRhaW5lcl0gLSBjb250YWluZXIgZWxlbWVudFxuICovXG5WTGF5b3V0LnByb3RvdHlwZS5hZGRQYW5lbCA9IGZ1bmN0aW9uKG9wdGlvbnMsIGNvbnRhaW5lcikge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgIHBhbmVscyA9IHRoaXMucGFuZWxzLFxuICAgICAgICBpbmRleCA9IHBhbmVscy5sZW5ndGg7XG5cbiAgICBvcHRpb25zID0gdXRpbC5leHRlbmQoe1xuICAgICAgICBpbmRleDogaW5kZXhcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIHBhbmVscy5wdXNoKG5ldyBWUGFuZWwob3B0aW9ucywgZWxlbWVudCwgdGhpcy50aGVtZSkpO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xufTtcblxuLyoqXG4gKiBBZGQgbXVsdGlwbGUgcGFuZWxcbiAqIEBwYXJhbSB7UGFuZWxPcHRpb25zW119IG9wdGlvbnMgLSBwYW5lbCBvcHRpb25zIGxpc3RcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciAtIGNvbnRhaW5lciBlbGVtZW50XG4gKi9cblZMYXlvdXQucHJvdG90eXBlLmFkZFBhbmVscyA9IGZ1bmN0aW9uKG9wdGlvbnMsIGNvbnRhaW5lcikge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgIHV0aWwuZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgc2VsZi5hZGRQYW5lbChvcHRpb24sIGZyYWcpO1xuICAgIH0pO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWcpO1xufTtcblxuLyoqXG4gKiBHZXQgYSBwYW5lbCBieSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIHBhbmVsJ3MgbmFtZVxuICogQHJldHVybnMge1ZQYW5lbH1cbiAqL1xuVkxheW91dC5wcm90b3R5cGUuZ2V0UGFuZWxCeU5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGZvdW5kO1xuICAgIHV0aWwuZm9yRWFjaCh0aGlzLnBhbmVscywgZnVuY3Rpb24ocGFuZWwpIHtcbiAgICAgICAgaWYgKHBhbmVsLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIGZvdW5kID0gcGFuZWw7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBmb3VuZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVkxheW91dDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9jb21tb24vdnBhbmVsLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29tbW9uL3ZwYW5lbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFBhbmVsIGNsYXNzIGZvciBWTGF5b3V0IG1vZHVsZVxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKSxcbiAgICBjb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbW1vbiAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb21tb24uanNcIiksXG4gICAgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpLFxuICAgIFZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi92aWV3L3ZpZXcgKi8gXCIuL3NyYy9qcy92aWV3L3ZpZXcuanNcIik7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7Vmlld31cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgVlBhbmVsXG4gKiAgQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaW5kZXggLSBpbmRleCBvZiBwYW5lbCBpbiB2bGF5b3V0XG4gKiAgQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1pbkhlaWdodD0wXSAtIG1pbmltdW0gaGVpZ2h0IG9mIHBhbmVsXG4gKiAgQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBpbml0aWFsIGhlaWdodCBvZiBwYW5lbFxuICogIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaXNTcGxpdHRlcj1mYWxzZV0gLSBzZXQgdHJ1ZSB0aGVuIHRoaXMgcGFuZWwgd29ya3Mgc3BsaXR0ZXJcbiAqICBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9IZWlnaHQ9ZmFsc2VdIC0gc2V0IHRydWUgdGhlbiB0aGlzIHBhbmVsIHVzZSByZW1haW4gaGVpZ2h0IGFmdGVyIG90aGVyIHBhbmVsIHJlc2l6ZWQuXG4gKiAgQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmNsYXNzTmFtZV0gLSBhZGRpdGlvbmFsIGNsYXNzIG5hbWUgdG8gYWRkIGVsZW1lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciAtIGNvbnRhaW5lciBlbGVtZW50XG4gKiBAcGFyYW0ge1RoZW1lfSB0aGVtZSAtIHRoZW1lIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIFZQYW5lbChvcHRpb25zLCBjb250YWluZXIsIHRoZW1lKSB7XG4gICAgVmlldy5jYWxsKHRoaXMsIGNvbnRhaW5lcik7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMub3B0aW9ucyA9IHV0aWwuZXh0ZW5kKHtcbiAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgIG5hbWU6ICcwJyxcbiAgICAgICAgbWluSGVpZ2h0OiAwLFxuICAgICAgICBtYXhIZWlnaHQ6IG51bGwsXG4gICAgICAgIGhlaWdodDogbnVsbCxcbiAgICAgICAgaXNTcGxpdHRlcjogZmFsc2UsXG4gICAgICAgIGF1dG9IZWlnaHQ6IGZhbHNlLFxuICAgICAgICBjbGFzc05hbWU6ICcnXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW5kZXggPSB0aGlzLm9wdGlvbnMuaW5kZXg7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMubmFtZSA9IHRoaXMub3B0aW9ucy5uYW1lIHx8IFN0cmluZyh0aGlzLmluZGV4KTtcblxuICAgIHRoaXMuaXNIZWlnaHRGb3JjZWRTZXQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtUaGVtZX1cbiAgICAgKi9cbiAgICB0aGlzLnRoZW1lID0gdGhlbWU7XG5cbiAgICB0aGlzLl9pbml0UGFuZWwodGhpcy5vcHRpb25zLCBjb250YWluZXIpO1xufVxuXG51dGlsLmluaGVyaXQoVlBhbmVsLCBWaWV3KTtcblxuLyoqXG4gKiB3aGV0aGVyIHRoaXMgcGFuZWwgaXMgc3BsaXR0ZXI/XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gcGFuZWwgaXMgc3BsaXR0ZXI/XG4gKi9cblZQYW5lbC5wcm90b3R5cGUuaXNTcGxpdHRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaXNTcGxpdHRlcjtcbn07XG5cbi8qKlxuICogc2V0IG1heCBoZWlnaHQgb2YgcGFuZWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhIZWlnaHQgLSBtYXhIZWlnaHRcbiAqL1xuVlBhbmVsLnByb3RvdHlwZS5zZXRNYXhIZWlnaHQgPSBmdW5jdGlvbihtYXhIZWlnaHQpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hdXRvSGVpZ2h0KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5tYXhIZWlnaHQgPSBtYXhIZWlnaHQ7XG4gICAgfVxufTtcblxuLyoqXG4gKiBzZXQgZm9yY2VkIGhlaWdodCBmbGFnXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNldCAtIGVuYWJsZSBvciBub3RcbiAqL1xuVlBhbmVsLnByb3RvdHlwZS5zZXRIZWlnaHRGb3JjZWRTZXQgPSBmdW5jdGlvbihzZXQpIHtcbiAgICB0aGlzLmlzSGVpZ2h0Rm9yY2VkU2V0ID0gc2V0O1xufTtcblxuLyoqXG4gKiBnZXQgZm9yY2VkIGhlaWdodCBmbGFnXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gc2V0IC0gZW5hYmxlIG9yIG5vdFxuICovXG5WUGFuZWwucHJvdG90eXBlLmdldEhlaWdodEZvcmNlZFNldCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmlzSGVpZ2h0Rm9yY2VkU2V0O1xufTtcblxuLyoqXG4gKiBzZXQgaGVpZ2h0IG9mIGh0bWwgZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2NvbnRhaW5lcl0gLSBjb250YWluZXIgZWxlbWVudFxuICogQHBhcmFtIHtudW1iZXJ9IG5ld0hlaWdodCAtIGhlaWdodFxuICogQHBhcmFtIHtib29sZWFufSBmb3JjZSAtIHdoZXRoZXIgaWdub3JlIG1heC1sZW5ndGhcbiAqL1xuVlBhbmVsLnByb3RvdHlwZS5zZXRIZWlnaHQgPSBmdW5jdGlvbihjb250YWluZXIsIG5ld0hlaWdodCwgZm9yY2UpIHtcbiAgICB2YXIgbWF4SGVpZ2h0ID0gdGhpcy5vcHRpb25zLm1heEhlaWdodDtcbiAgICB2YXIgbWluSGVpZ2h0ID0gdGhpcy5vcHRpb25zLm1pbkhlaWdodDtcbiAgICB2YXIgYXV0b0hlaWdodCA9IHRoaXMub3B0aW9ucy5hdXRvSGVpZ2h0O1xuICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCB0aGlzLmNvbnRhaW5lcjtcblxuICAgIC8vIO2VnOuyiCBmb3JjZSDtmLjstpzsnbQg7J287Ja064KcIOydtO2bhOyXkOuKlCBmb3JjZSDtmLjstpzrp4wg7ZeI7Jqp7ZWc64ukXG4gICAgaWYgKCFmb3JjZSAmJiB0aGlzLmlzSGVpZ2h0Rm9yY2VkU2V0ICYmICFhdXRvSGVpZ2h0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZm9yY2UpIHtcbiAgICAgICAgdGhpcy5pc0hlaWdodEZvcmNlZFNldCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChtYXhIZWlnaHQpIHtcbiAgICAgICAgbmV3SGVpZ2h0ID0gTWF0aC5taW4obmV3SGVpZ2h0LCBtYXhIZWlnaHQpO1xuICAgIH1cbiAgICBuZXdIZWlnaHQgPSBNYXRoLm1heChtaW5IZWlnaHQsIG5ld0hlaWdodCk7XG5cbiAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0ICsgJ3B4Jztcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIG5ldyBoZWlnaHQgb2YgcGFuZWwgYW5kIHJlbWFpbnMgYnkgc3VwcGxpZWQgaGVpZ2h0IGdyb3d0aFxuICogQHBhcmFtIHtudW1iZXJ9IGdyb3d0aCAtIGdyb3d0aCB2YWx1ZVxuICogQHJldHVybnMge251bWJlcltdfSBuZXdIZWlnaHQsIHJlbWFpbkhlaWdodFxuICovXG5WUGFuZWwucHJvdG90eXBlLmdldFJlc2l6ZUluZm9CeUdyb3d0aCA9IGZ1bmN0aW9uKGdyb3d0aCkge1xuICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpLFxuICAgICAgICBuZXdIZWlnaHQgPSBoZWlnaHQgKyBncm93dGgsXG4gICAgICAgIHJlc2l6ZVRvID0gTWF0aC5tYXgoMCwgbmV3SGVpZ2h0LCB0aGlzLm9wdGlvbnMubWluSGVpZ2h0KTtcblxuICAgIHJldHVybiBbcmVzaXplVG8sIGhlaWdodCAtIHJlc2l6ZVRvXTtcbn07XG5cbi8qKlxuICogZ2V0IG91dGVyIGhlaWdodCBvZiBwYW5lbCBlbGVtZW50XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBvdXRlciBoZWlnaHQgb2YgcGFuZWwgZWxlbWVudFxuICovXG5WUGFuZWwucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkb211dGlsLmdldFNpemUodGhpcy5jb250YWluZXIpWzFdO1xufTtcblxuLyoqXG4gKiBhZGQgZGVzaWduIGNsYXNzIHRvIHBhbmVsIGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgLSBjbGFzc25hbWUgc3RyaW5nXG4gKi9cblZQYW5lbC5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICBkb211dGlsLmFkZENsYXNzKHRoaXMuY29udGFpbmVyLCBjbGFzc05hbWUpO1xufTtcblxuLyoqXG4gKiByZW1vdmUgZGVzaWduIGNsYXNzIHRvIHBhbmVsIGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgLSBjbGFzc25hbWUgc3RyaW5nXG4gKi9cblZQYW5lbC5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICBkb211dGlsLnJlbW92ZUNsYXNzKHRoaXMuY29udGFpbmVyLCBjbGFzc05hbWUpO1xufTtcblxuLyoqXG4gKiBpbml0aWFsaXplIHBhbmVsIGVsZW1lbnRcbiAqIEBwYXJhbSB7UGFuZWxPcHRpb25zfSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgcGFuZWxcbiAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IGNvbnRhaW5lciAtIHBhbmVsIGVsZW1lbnRcbiAqL1xuVlBhbmVsLnByb3RvdHlwZS5faW5pdFBhbmVsID0gZnVuY3Rpb24ob3B0aW9ucywgY29udGFpbmVyKSB7XG4gICAgdmFyIGhlaWdodDtcblxuICAgIGRvbXV0aWwuc2V0RGF0YShjb250YWluZXIsICdwYW5lbEluZGV4Jywgb3B0aW9ucy5pbmRleCk7XG5cbiAgICBpZiAob3B0aW9ucy5pc1NwbGl0dGVyKSB7XG4gICAgICAgIGRvbXV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCBjb25maWcuY2xhc3NuYW1lKCdzcGxpdHRlcicpKTtcbiAgICAgICAgdGhpcy5hcHBseVRoZW1lKCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmNsYXNzTmFtZSkge1xuICAgICAgICBkb211dGlsLmFkZENsYXNzKGNvbnRhaW5lciwgb3B0aW9ucy5jbGFzc05hbWUpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgZG9tdXRpbC5zZXREYXRhKGNvbnRhaW5lciwgJ2F1dG9IZWlnaHQnLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWlnaHQgPSBjb21tb24ubGltaXQob3B0aW9ucy5oZWlnaHQgfHwgMCxcbiAgICAgICAgICAgIFtvcHRpb25zLm1pbkhlaWdodF0sXG4gICAgICAgICAgICBbb3B0aW9ucy5tYXhIZWlnaHQgfHwgb3B0aW9ucy5oZWlnaHRdXG4gICAgICAgICk7XG5cbiAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuc2V0SGVpZ2h0KGNvbnRhaW5lciwgaGVpZ2h0KTtcbiAgICB9XG59O1xuXG5WUGFuZWwucHJvdG90eXBlLmFwcGx5VGhlbWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3R5bGUgPSB0aGlzLmNvbnRhaW5lci5zdHlsZTtcbiAgICB2YXIgdGhlbWUgPSB0aGlzLnRoZW1lO1xuXG4gICAgaWYgKCF0aGVtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3R5bGUuYm9yZGVyVG9wID0gdGhlbWUud2Vlay52cGFuZWxTcGxpdHRlci5ib3JkZXIgfHwgdGhlbWUuY29tbW9uLmJvcmRlcjtcbiAgICBzdHlsZS5ib3JkZXJCb3R0b20gPSB0aGVtZS53ZWVrLnZwYW5lbFNwbGl0dGVyLmJvcmRlciB8fCB0aGVtZS5jb21tb24uYm9yZGVyO1xuICAgIHN0eWxlLmhlaWdodCA9IHRoZW1lLndlZWsudnBhbmVsU3BsaXR0ZXIuaGVpZ2h0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBWUGFuZWw7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29uZmlnLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9jb25maWcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEdsb2JhbCBjb25maWd1cmF0aW9uIG9iamVjdCBtb2R1bGUuIFRoaXMgQGVjaG8gc3ludGF4IHdpbGwgY2hhbmdlIHByZXByb2Nlc3MgY29udGV4dC4gU2VlIGd1bHBmaWxlLmpzXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciBjc3NQcmVmaXggPSAndHVpLWZ1bGwtY2FsZW5kYXItJyxcbiAgICBhbGxkYXlHZXRWaWV3SUQgPSBuZXcgUmVnRXhwKCdeJyArIGNzc1ByZWZpeCArICd3ZWVrZGF5W1xcXFxzXXR1aS12aWV3LShcXFxcZCspJyksXG4gICAgYWxsZGF5Q2hlY2tQZXJtaXNzaW9uID0gbmV3IFJlZ0V4cCgnXicgKyBjc3NQcmVmaXggKyAnc2NoZWR1bGUoLXRpdGxlKT8kJyksXG4gICAgdGltZUdldFZpZXdJRCA9IG5ldyBSZWdFeHAoJ14nICsgY3NzUHJlZml4ICsgJ3RpbWUtZGF0ZVtcXFxcc110dWktdmlldy0oXFxcXGQrKScpO1xuXG52YXIgY29uZmlnID0ge1xuICAgIHRocm93RXJyb3I6IGZ1bmN0aW9uKG1zZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9LFxuXG4gICAgY3NzUHJlZml4OiBjc3NQcmVmaXgsXG5cbiAgICBjbGFzc25hbWU6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICBzdHIgPSBzdHIgfHwgJyc7XG5cbiAgICAgICAgaWYgKHN0ci5jaGFyQXQoMCkgPT09ICcuJykge1xuICAgICAgICAgICAgcmV0dXJuICcuJyArIGNvbmZpZy5jc3NQcmVmaXggKyBzdHIuc2xpY2UoMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29uZmlnLmNzc1ByZWZpeCArIHN0cjtcbiAgICB9LFxuXG4gICAgYWxsZGF5OiB7XG4gICAgICAgIGdldFZpZXdJRFJlZ0V4cDogYWxsZGF5R2V0Vmlld0lELFxuICAgICAgICBjaGVja0NvbmRSZWdFeHA6IGFsbGRheUNoZWNrUGVybWlzc2lvblxuICAgIH0sXG5cbiAgICBkYXlncmlkOiB7XG4gICAgICAgIGdldFZpZXdJRFJlZ0V4cDogYWxsZGF5R2V0Vmlld0lELFxuICAgICAgICBjaGVja0NvbmRSZWdFeHA6IGFsbGRheUNoZWNrUGVybWlzc2lvblxuICAgIH0sXG5cbiAgICB0aW1lOiB7XG4gICAgICAgIGdldFZpZXdJRFJlZ0V4cDogdGltZUdldFZpZXdJRFxuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY29uZmlnO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2NvbnRyb2xsZXIvYmFzZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29udHJvbGxlci9iYXNlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBCYXNlIGNhbGVuZGFyIGNvbnRyb2xsZXJcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBTY2hlZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL21vZGVsL3NjaGVkdWxlICovIFwiLi9zcmMvanMvbW9kZWwvc2NoZWR1bGUuanNcIik7XG52YXIgU2NoZWR1bGVWaWV3TW9kZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9tb2RlbC92aWV3TW9kZWwvc2NoZWR1bGVWaWV3TW9kZWwgKi8gXCIuL3NyYy9qcy9tb2RlbC92aWV3TW9kZWwvc2NoZWR1bGVWaWV3TW9kZWwuanNcIik7XG52YXIgZGF0ZXRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24vZGF0ZXRpbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanNcIik7XG52YXIgY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2NvbW1vbiAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb21tb24uanNcIik7XG52YXIgVGhlbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90aGVtZS90aGVtZSAqLyBcIi4vc3JjL2pzL3RoZW1lL3RoZW1lLmpzXCIpO1xudmFyIHR6ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpO1xudmFyIFRaRGF0ZSA9IHR6LkRhdGU7XG5cbi8qKlxuICogR2V0IHJhbmdlIGRhdGUgYnkgY3VzdG9tIHRpbWV6b25lIG9yIG5hdGl2ZSB0aW1lem9uZVxuICogQHBhcmFtIHtTY2hlZHVsZX0gc2NoZWR1bGUgVGhlIGluc3RhbmNlIG9mIHNjaGVkdWxlLlxuICogQHJldHVybnMge1JhbmdlRGF0ZX0gc3RhcnQgYW5kIGVuZCBkYXRlXG4gKi9cbmZ1bmN0aW9uIGdldFJhbmdlRGF0ZUJ5T2Zmc2V0KHNjaGVkdWxlKSB7XG4gICAgdmFyIHNjaGVkdWxlU3RhcnQgPSBzY2hlZHVsZS5nZXRTdGFydHMoKTtcbiAgICB2YXIgc2NoZWR1bGVFbmQgPSBzY2hlZHVsZS5nZXRFbmRzKCk7XG4gICAgdmFyIHN0YXJ0ID0gZGF0ZXRpbWUuc3RhcnQoc2NoZWR1bGVTdGFydCk7XG4gICAgdmFyIGVxdWFsU3RhcnRFbmQgPSBkYXRldGltZS5jb21wYXJlKHNjaGVkdWxlU3RhcnQsIHNjaGVkdWxlRW5kKSA9PT0gMDtcbiAgICB2YXIgZW5kRGF0ZSA9IGVxdWFsU3RhcnRFbmQgPyBzY2hlZHVsZUVuZCA6IGRhdGV0aW1lLmNvbnZlcnRTdGFydERheVRvTGFzdERheShzY2hlZHVsZUVuZCk7XG4gICAgdmFyIGVuZCA9IGRhdGV0aW1lLmVuZChlbmREYXRlKTtcblxuICAgIHZhciBuYXRpdmVPZmZzZXRNcyA9IHR6LmdldE5hdGl2ZU9mZnNldE1zKCk7XG4gICAgdmFyIHN0YXJ0T2Zmc2V0ID0gc2NoZWR1bGVTdGFydC50b0RhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgIHZhciBNSU5fVE9fTVMgPSA2MCAqIDEwMDA7XG4gICAgdmFyIG9mZnNldERpZmZNcyA9IDA7XG5cbiAgICB2YXIgcHJpbWFyeVRpbWV6b25lTmFtZSA9IHR6LmdldFByaW1hcnlUaW1lem9uZU5hbWUoKTtcbiAgICB2YXIgcHJpbWFyeU9mZnNldCA9IHR6LmdldFByaW1hcnlPZmZzZXQoKTtcbiAgICB2YXIgdGltZXpvbmVPZmZzZXQgPSB0ei5nZXRPZmZzZXRCeVRpbWV6b25lTmFtZShwcmltYXJ5VGltZXpvbmVOYW1lLCBzY2hlZHVsZVN0YXJ0LmdldFRpbWUoKSk7XG5cbiAgICBpZiAodHouaXNOYXRpdmVPc1VzaW5nRFNUVGltZXpvbmUoKSAmJiBuYXRpdmVPZmZzZXRNcyAhPT0gc3RhcnRPZmZzZXQpIHtcbiAgICAgICAgLy8gV2hlbiB1c2luZyBhIGN1c3RvbSB0aW1lIHpvbmUsIHRoZSBuYXRpdmUgdGltZSB6b25lIG9mZnNldCBpcyBmaXhlZCBhbmQgcmVuZGVyZWQuXG4gICAgICAgIC8vIFNvLCBUaGUgZml4ZWQgYW5kIHJlbmRlcmVkIHRpbWUgc2hvdWxkIGJlIHJlY2FsY3VsYXRlZCBhcyB0aGUgb3JpZ2luYWwgdGltZSB6b25lIG9mZnNldC5cbiAgICAgICAgb2Zmc2V0RGlmZk1zID0gKHN0YXJ0T2Zmc2V0ICogTUlOX1RPX01TKSAtIG5hdGl2ZU9mZnNldE1zO1xuICAgIH1cblxuICAgIGlmICh0ei5pc1ByaW1hcnlVc2luZ0RTVFRpbWV6b25lKCkgJiYgcHJpbWFyeU9mZnNldCAhPT0gdGltZXpvbmVPZmZzZXQpIHtcbiAgICAgICAgLy8gVGhlIGN1c3RvbSB0aW1lIHpvbmUgaXMgYSB0aW1lIHpvbmUgd2hlcmUgdHdvIG9mZnNldHMgaW5jbHVkaW5nIERTVCBhcmUgYXBwbGllZC5cbiAgICAgICAgLy8gVGhlIGZpcnN0IHJlbmRlcmVkIHNjaGVkdWxlIGlzIGNhbGN1bGF0ZWQgYW5kIGRyYXduIHdpdGggdGhlIG9mZnNldCBjYWxjdWxhdGVkIGF0IHRoZSBhY2Nlc3MgdGltZShzeXN0ZW0gT1MgbG9jYWwgdGltZSkuXG4gICAgICAgIC8vIEl0IHNob3VsZCBiZSByZWNhbGN1bGF0ZWQgd2l0aCB0aGUgb3JpZ2luYWwgdGltZSB6b25lIG9mZnNldC5cbiAgICAgICAgb2Zmc2V0RGlmZk1zID0gKHByaW1hcnlPZmZzZXQgLSB0aW1lem9uZU9mZnNldCkgKiBNSU5fVE9fTVM7XG4gICAgfVxuXG4gICAgc3RhcnQgPSBkYXRldGltZS5zdGFydChzY2hlZHVsZVN0YXJ0LmdldFVUQ1RpbWUoKSArIG9mZnNldERpZmZNcyk7XG4gICAgZW5kID0gZGF0ZXRpbWUuZW5kKFxuICAgICAgICBkYXRldGltZS5jb252ZXJ0U3RhcnREYXlUb0xhc3REYXkobmV3IFRaRGF0ZShzY2hlZHVsZUVuZC5nZXRVVENUaW1lKCkgKyBvZmZzZXREaWZmTXMpKVxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgIGVuZDogZW5kXG4gICAgfTtcbn1cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgYmFzZSBjb250cm9sbGVyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5ncm91cEZ1bmNdIC0gZnVuY3Rpb24gZm9yIGdyb3VwIGVhY2ggbW9kZWxzIHtAc2VlIENvbGxlY3Rpb24jZ3JvdXBCeX1cbiAqIEBwYXJhbSB7dGhlbWVDb25maWd9IFtvcHRpb25zLnRoZW1lXSAtIHRoZW1lIG9iamVjdFxuICogQG1peGVzIHV0aWwuQ3VzdG9tRXZlbnRzXG4gKi9cbmZ1bmN0aW9uIEJhc2Uob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gZm9yIGdyb3VwIGVhY2ggc2NoZWR1bGUgbW9kZWxzLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge1NjaGVkdWxlVmlld01vZGVsfSB2aWV3TW9kZWwgLSB2aWV3IG1vZGVsIGluc3RhbmNlXG4gICAgICogQHJldHVybnMge3N0cmluZ30gZ3JvdXAga2V5XG4gICAgICovXG4gICAgdGhpcy5ncm91cEZ1bmMgPVxuICAgICAgICBvcHRpb25zLmdyb3VwRnVuYyB8fFxuICAgICAgICBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHZpZXdNb2RlbC5tb2RlbDtcblxuICAgICAgICAgICAgaWYgKHZpZXdNb2RlbC5tb2RlbC5pc0FsbERheSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsZGF5JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG1vZGVsLmNhdGVnb3J5ID09PSAndGltZScgJiZcbiAgICAgICAgICAgICAgICBtb2RlbC5lbmQgLSBtb2RlbC5zdGFydCA+IGRhdGV0aW1lLk1JTExJU0VDT05EU19QRVJfREFZXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbGRheSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtb2RlbC5jYXRlZ29yeTtcbiAgICAgICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNjaGVkdWxlcyBjb2xsZWN0aW9uLlxuICAgICAqIEB0eXBlIHtDb2xsZWN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuc2NoZWR1bGVzID0gY29tbW9uLmNyZWF0ZVNjaGVkdWxlQ29sbGVjdGlvbigpO1xuXG4gICAgLyoqXG4gICAgICogTWF0cml4IGZvciBtdWx0aWRhdGUgc2NoZWR1bGVzLlxuICAgICAqIEB0eXBlIHtvYmplY3QuPHN0cmluZywgYXJyYXk+fVxuICAgICAqL1xuICAgIHRoaXMuZGF0ZU1hdHJpeCA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogVGhlbWVcbiAgICAgKiBAdHlwZSB7VGhlbWV9XG4gICAgICovXG4gICAgdGhpcy50aGVtZSA9IG5ldyBUaGVtZShvcHRpb25zLnRoZW1lKTtcblxuICAgIC8qKlxuICAgICAqIENhbGVuZGFyIGxpc3RcbiAgICAgKiBAdHlwZSB7QXJyYXkuPENhbGVuZGFyPn1cbiAgICAgKi9cbiAgICB0aGlzLmNhbGVuZGFycyA9IFtdO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBjb250YWluIGRhdGVzIGluIHNjaGVkdWxlLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U2NoZWR1bGV9IHNjaGVkdWxlIFRoZSBpbnN0YW5jZSBvZiBzY2hlZHVsZS5cbiAqIEByZXR1cm5zIHthcnJheX0gY29udGFpbiBkYXRlcy5cbiAqL1xuQmFzZS5wcm90b3R5cGUuX2dldENvbnRhaW5EYXRlc0luU2NoZWR1bGUgPSBmdW5jdGlvbihzY2hlZHVsZSkge1xuICAgIHZhciBzY2hlZHVsZVN0YXJ0ID0gc2NoZWR1bGUuZ2V0U3RhcnRzKCk7XG4gICAgdmFyIHNjaGVkdWxlRW5kID0gc2NoZWR1bGUuZ2V0RW5kcygpO1xuICAgIHZhciBzdGFydCA9IGRhdGV0aW1lLnN0YXJ0KHNjaGVkdWxlU3RhcnQpO1xuICAgIHZhciBlcXVhbFN0YXJ0RW5kID0gZGF0ZXRpbWUuY29tcGFyZShzY2hlZHVsZVN0YXJ0LCBzY2hlZHVsZUVuZCkgPT09IDA7XG4gICAgdmFyIGVuZERhdGUgPSBlcXVhbFN0YXJ0RW5kID8gc2NoZWR1bGVFbmQgOiBkYXRldGltZS5jb252ZXJ0U3RhcnREYXlUb0xhc3REYXkoc2NoZWR1bGVFbmQpO1xuICAgIHZhciBlbmQgPSBkYXRldGltZS5lbmQoZW5kRGF0ZSk7XG4gICAgdmFyIHJhbmdlRGF0ZUJ5T2Zmc2V0O1xuXG4gICAgaWYgKHR6Lmhhc1ByaW1hcnlUaW1lem9uZUN1c3RvbVNldHRpbmcoKSkge1xuICAgICAgICByYW5nZURhdGVCeU9mZnNldCA9IGdldFJhbmdlRGF0ZUJ5T2Zmc2V0KHNjaGVkdWxlKTtcbiAgICAgICAgc3RhcnQgPSByYW5nZURhdGVCeU9mZnNldC5zdGFydDtcbiAgICAgICAgZW5kID0gcmFuZ2VEYXRlQnlPZmZzZXQuZW5kO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRldGltZS5yYW5nZShzdGFydCwgZW5kLCBkYXRldGltZS5NSUxMSVNFQ09ORFNfUEVSX0RBWSk7XG59O1xuXG4vKioqKioqKioqKioqKioqKlxuICogQ1JVRCBTY2hlZHVsZVxuICoqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogQ3JlYXRlIGEgc2NoZWR1bGUgaW5zdGFuY2UgZnJvbSByYXcgZGF0YS5cbiAqIEBlbWl0cyBCYXNlI2JlZm9yZUNyZWF0ZVNjaGVkdWxlXG4gKiBAZW1pdHMgQmFzZSNjcmVhdGVkU2NoZWR1bGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIERhdGEgb2JqZWN0IHRvIGNyZWF0ZSBzY2hlZHVsZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50IC0gc2V0IHRydWUgdGhlbiBkb24ndCBmaXJlIGV2ZW50cy5cbiAqIEByZXR1cm5zIHtTY2hlZHVsZX0gVGhlIGluc3RhbmNlIG9mIFNjaGVkdWxlIHRoYXQgY3JlYXRlZC5cbiAqL1xuQmFzZS5wcm90b3R5cGUuY3JlYXRlU2NoZWR1bGUgPSBmdW5jdGlvbihvcHRpb25zLCBzaWxlbnQpIHtcbiAgICB2YXIgc2NoZWR1bGUsXG4gICAgICAgIHNjaGVkdWxlRGF0YSA9IHtcbiAgICAgICAgICAgIGRhdGE6IG9wdGlvbnNcbiAgICAgICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBCYXNlI2JlZm9yZUNyZWF0ZVNjaGVkdWxlXG4gICAgICogQHR5cGUge0NhbGVuZGFyflNjaGVkdWxlW119XG4gICAgICovXG4gICAgaWYgKCF0aGlzLmludm9rZSgnYmVmb3JlQ3JlYXRlU2NoZWR1bGUnLCBzY2hlZHVsZURhdGEpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHNjaGVkdWxlID0gdGhpcy5hZGRTY2hlZHVsZShTY2hlZHVsZS5jcmVhdGUob3B0aW9ucykpO1xuXG4gICAgaWYgKCFzaWxlbnQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBCYXNlI2NyZWF0ZWRTY2hlZHVsZVxuICAgICAgICAgKiBAdHlwZSB7U2NoZWR1bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpcmUoJ2NyZWF0ZWRTY2hlZHVsZScsIHNjaGVkdWxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2NoZWR1bGU7XG59O1xuXG4vKipcbiAqIEBlbWl0cyBCYXNlI2JlZm9yZUNyZWF0ZVNjaGVkdWxlXG4gKiBAZW1pdHMgQmFzZSNjcmVhdGVkU2NoZWR1bGVcbiAqIEBwYXJhbSB7Q2FsZW5kYXJ+U2NoZWR1bGVbXX0gZGF0YUxpc3QgLSBkYXRhT2JqZWN0IGxpc3QgdG8gY3JlYXRlIHNjaGVkdWxlLlxuICogQHBhcmFtIHtib29sZWFufSBbc2lsZW50PWZhbHNlXSAtIHNldCB0cnVlIHRoZW4gZG9uJ3QgZmlyZSBldmVudHMuXG4gKiBAcmV0dXJucyB7U2NoZWR1bGVbXX0gVGhlIGluc3RhbmNlIGxpc3Qgb2YgU2NoZWR1bGUgdGhhdCBjcmVhdGVkLlxuICovXG5CYXNlLnByb3RvdHlwZS5jcmVhdGVTY2hlZHVsZXMgPSBmdW5jdGlvbihkYXRhTGlzdCwgc2lsZW50KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHV0aWwubWFwKGRhdGFMaXN0LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNyZWF0ZVNjaGVkdWxlKGRhdGEsIHNpbGVudCk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBhIHNjaGVkdWxlLlxuICogQGVtaXRzIEJhc2UjdXBkYXRlU2NoZWR1bGVcbiAqIEBwYXJhbSB7U2NoZWR1bGV9IHNjaGVkdWxlIC0gc2NoZWR1bGUgaW5zdGFuY2UgdG8gdXBkYXRlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyB1cGRhdGVkIG9iamVjdCBkYXRhLlxuICogQHJldHVybnMge1NjaGVkdWxlfSB1cGRhdGVkIHNjaGVkdWxlIGluc3RhbmNlXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5CYXNlLnByb3RvdHlwZS51cGRhdGVTY2hlZHVsZSA9IGZ1bmN0aW9uKHNjaGVkdWxlLCBvcHRpb25zKSB7XG4gICAgdmFyIHN0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCBzY2hlZHVsZS5zdGFydDtcbiAgICB2YXIgZW5kID0gb3B0aW9ucy5lbmQgfHwgc2NoZWR1bGUuZW5kO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBpZiAoWydtaWxlc3RvbmUnLCAndGFzaycsICdhbGxkYXknLCAndGltZSddLmluZGV4T2Yob3B0aW9ucy5jYXRlZ29yeSkgPiAtMSkge1xuICAgICAgICBzY2hlZHVsZS5zZXQoJ2NhdGVnb3J5Jywgb3B0aW9ucy5jYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuY2F0ZWdvcnkgPT09ICdhbGxkYXknKSB7XG4gICAgICAgIG9wdGlvbnMuaXNBbGxEYXkgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICghdXRpbC5pc1VuZGVmaW5lZChvcHRpb25zLmlzQWxsRGF5KSkge1xuICAgICAgICBzY2hlZHVsZS5zZXQoJ2lzQWxsRGF5Jywgb3B0aW9ucy5pc0FsbERheSk7XG4gICAgfVxuXG4gICAgaWYgKCF1dGlsLmlzVW5kZWZpbmVkKG9wdGlvbnMuY2FsZW5kYXJJZCkpIHtcbiAgICAgICAgc2NoZWR1bGUuc2V0KCdjYWxlbmRhcklkJywgb3B0aW9ucy5jYWxlbmRhcklkKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy50aXRsZSkge1xuICAgICAgICBzY2hlZHVsZS5zZXQoJ3RpdGxlJywgb3B0aW9ucy50aXRsZSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICBzY2hlZHVsZS5zZXQoJ2JvZHknLCBvcHRpb25zLmJvZHkpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnN0YXJ0IHx8IG9wdGlvbnMuZW5kKSB7XG4gICAgICAgIGlmIChzY2hlZHVsZS5pc0FsbERheSkge1xuICAgICAgICAgICAgc2NoZWR1bGUuc2V0QWxsRGF5UGVyaW9kKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NoZWR1bGUuc2V0VGltZVBlcmlvZChzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmNvbG9yKSB7XG4gICAgICAgIHNjaGVkdWxlLnNldCgnY29sb3InLCBvcHRpb25zLmNvbG9yKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5iZ0NvbG9yKSB7XG4gICAgICAgIHNjaGVkdWxlLnNldCgnYmdDb2xvcicsIG9wdGlvbnMuYmdDb2xvcik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuYm9yZGVyQ29sb3IpIHtcbiAgICAgICAgc2NoZWR1bGUuc2V0KCdib3JkZXJDb2xvcicsIG9wdGlvbnMuYm9yZGVyQ29sb3IpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm9yaWdpbikge1xuICAgICAgICBzY2hlZHVsZS5zZXQoJ29yaWdpbicsIG9wdGlvbnMub3JpZ2luKTtcbiAgICB9XG5cbiAgICBpZiAoIXV0aWwuaXNVbmRlZmluZWQob3B0aW9ucy5pc1BlbmRpbmcpKSB7XG4gICAgICAgIHNjaGVkdWxlLnNldCgnaXNQZW5kaW5nJywgb3B0aW9ucy5pc1BlbmRpbmcpO1xuICAgIH1cblxuICAgIGlmICghdXRpbC5pc1VuZGVmaW5lZChvcHRpb25zLmlzRm9jdXNlZCkpIHtcbiAgICAgICAgc2NoZWR1bGUuc2V0KCdpc0ZvY3VzZWQnLCBvcHRpb25zLmlzRm9jdXNlZCk7XG4gICAgfVxuXG4gICAgaWYgKCF1dGlsLmlzVW5kZWZpbmVkKG9wdGlvbnMuaXNSZWFkT25seSkpIHtcbiAgICAgICAgc2NoZWR1bGUuc2V0KCdpc1JlYWRPbmx5Jywgb3B0aW9ucy5pc1JlYWRPbmx5KTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5sb2NhdGlvbikge1xuICAgICAgICBzY2hlZHVsZS5zZXQoJ2xvY2F0aW9uJywgb3B0aW9ucy5sb2NhdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc3RhdGUpIHtcbiAgICAgICAgc2NoZWR1bGUuc2V0KCdzdGF0ZScsIG9wdGlvbnMuc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnJhdykge1xuICAgICAgICBzY2hlZHVsZS5zZXQoJ3JhdycsIG9wdGlvbnMucmF3KTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5hdHRlbmRlZXMpIHtcbiAgICAgICAgc2NoZWR1bGUuc2V0KCdhdHRlbmRlZXMnLCBvcHRpb25zLmF0dGVuZGVlcyk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVtb3ZlRnJvbU1hdHJpeChzY2hlZHVsZSk7XG4gICAgdGhpcy5fYWRkVG9NYXRyaXgoc2NoZWR1bGUpO1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IEJhc2UjdXBkYXRlU2NoZWR1bGVcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ3VwZGF0ZVNjaGVkdWxlJyk7XG5cbiAgICByZXR1cm4gc2NoZWR1bGU7XG59O1xuXG4vKipcbiAqIERlbGV0ZSBzY2hlZHVsZSBpbnN0YW5jZSBmcm9tIGNvbnRyb2xsZXIuXG4gKiBAcGFyYW0ge1NjaGVkdWxlfSBzY2hlZHVsZSAtIHNjaGVkdWxlIGluc3RhbmNlIHRvIGRlbGV0ZVxuICogQHJldHVybnMge1NjaGVkdWxlfSBkZWxldGVkIG1vZGVsIGluc3RhbmNlLlxuICovXG5CYXNlLnByb3RvdHlwZS5kZWxldGVTY2hlZHVsZSA9IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gICAgdGhpcy5fcmVtb3ZlRnJvbU1hdHJpeChzY2hlZHVsZSk7XG4gICAgdGhpcy5zY2hlZHVsZXMucmVtb3ZlKHNjaGVkdWxlKTtcblxuICAgIHJldHVybiBzY2hlZHVsZTtcbn07XG5cbi8qKlxuICogU2V0IGRhdGUgbWF0cml4IHRvIHN1cHBsaWVkIHNjaGVkdWxlIGluc3RhbmNlLlxuICogQHBhcmFtIHtTY2hlZHVsZX0gc2NoZWR1bGUgLSBpbnN0YW5jZSBvZiBzY2hlZHVsZS5cbiAqL1xuQmFzZS5wcm90b3R5cGUuX2FkZFRvTWF0cml4ID0gZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICB2YXIgb3duTWF0cml4ID0gdGhpcy5kYXRlTWF0cml4O1xuICAgIHZhciBjb250YWluRGF0ZXMgPSB0aGlzLl9nZXRDb250YWluRGF0ZXNJblNjaGVkdWxlKHNjaGVkdWxlKTtcblxuICAgIHV0aWwuZm9yRWFjaChjb250YWluRGF0ZXMsIGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgdmFyIHltZCA9IGRhdGV0aW1lLmZvcm1hdChkYXRlLCAnWVlZWU1NREQnKSxcbiAgICAgICAgICAgIG1hdHJpeCA9IChvd25NYXRyaXhbeW1kXSA9IG93bk1hdHJpeFt5bWRdIHx8IFtdKTtcblxuICAgICAgICBtYXRyaXgucHVzaCh1dGlsLnN0YW1wKHNjaGVkdWxlKSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBzY2hlZHVsZSdzIGlkIGZyb20gbWF0cml4LlxuICogQHBhcmFtIHtTY2hlZHVsZX0gc2NoZWR1bGUgLSBpbnN0YW5jZSBvZiBzY2hlZHVsZVxuICovXG5CYXNlLnByb3RvdHlwZS5fcmVtb3ZlRnJvbU1hdHJpeCA9IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gICAgdmFyIG1vZGVsSUQgPSB1dGlsLnN0YW1wKHNjaGVkdWxlKTtcblxuICAgIHV0aWwuZm9yRWFjaChcbiAgICAgICAgdGhpcy5kYXRlTWF0cml4LFxuICAgICAgICBmdW5jdGlvbihtYXRyaXgpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHV0aWwuaW5BcnJheShtb2RlbElELCBtYXRyaXgpO1xuXG4gICAgICAgICAgICBpZiAofmluZGV4KSB7XG4gICAgICAgICAgICAgICAgbWF0cml4LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXNcbiAgICApO1xufTtcblxuLyoqXG4gKiBBZGQgYSBzY2hlZHVsZSBpbnN0YW5jZS5cbiAqIEBlbWl0cyBCYXNlI2FkZGVkU2NoZWR1bGVcbiAqIEBwYXJhbSB7U2NoZWR1bGV9IHNjaGVkdWxlIFRoZSBpbnN0YW5jZSBvZiBTY2hlZHVsZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50IC0gc2V0IHRydWUgdGhlbiBkb24ndCBmaXJlIGV2ZW50cy5cbiAqIEByZXR1cm5zIHtTY2hlZHVsZX0gVGhlIGluc3RhbmNlIG9mIFNjaGVkdWxlIHRoYXQgYWRkZWQuXG4gKi9cbkJhc2UucHJvdG90eXBlLmFkZFNjaGVkdWxlID0gZnVuY3Rpb24oc2NoZWR1bGUsIHNpbGVudCkge1xuICAgIHRoaXMuc2NoZWR1bGVzLmFkZChzY2hlZHVsZSk7XG4gICAgdGhpcy5fYWRkVG9NYXRyaXgoc2NoZWR1bGUpO1xuXG4gICAgaWYgKCFzaWxlbnQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBCYXNlI2FkZGVkU2NoZWR1bGVcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlyZSgnYWRkZWRTY2hlZHVsZScsIHNjaGVkdWxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2NoZWR1bGU7XG59O1xuXG4vKipcbiAqIHNwbGl0IHNjaGVkdWxlIG1vZGVsIGJ5IHltZC5cbiAqIEBwYXJhbSB7RGF0ZX0gc3RhcnQgLSBzdGFydCBkYXRlXG4gKiBAcGFyYW0ge0RhdGV9IGVuZCAtIGVuZCBkYXRlXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb259IHNjaGVkdWxlQ29sbGVjdGlvbiAtIGNvbGxlY3Rpb24gb2Ygc2NoZWR1bGUgbW9kZWwuXG4gKiBAcmV0dXJucyB7b2JqZWN0LjxzdHJpbmcsIENvbGxlY3Rpb24+fSBzcGxpdHRlZCBzY2hlZHVsZSBtb2RlbCBjb2xsZWN0aW9ucy5cbiAqL1xuQmFzZS5wcm90b3R5cGUuc3BsaXRTY2hlZHVsZUJ5RGF0ZVJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCwgc2NoZWR1bGVDb2xsZWN0aW9uKSB7XG4gICAgdmFyIHJhbmdlID0gZGF0ZXRpbWUucmFuZ2UoXG4gICAgICAgICAgICBkYXRldGltZS5zdGFydChzdGFydCksXG4gICAgICAgICAgICBkYXRldGltZS5lbmQoZW5kKSxcbiAgICAgICAgICAgIGRhdGV0aW1lLk1JTExJU0VDT05EU19QRVJfREFZXG4gICAgICAgICksXG4gICAgICAgIG93bk1hdHJpeCA9IHRoaXMuZGF0ZU1hdHJpeCxcbiAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICB1dGlsLmZvckVhY2hBcnJheShyYW5nZSwgZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICB2YXIgeW1kID0gZGF0ZXRpbWUuZm9ybWF0KGRhdGUsICdZWVlZTU1ERCcpLFxuICAgICAgICAgICAgbWF0cml4ID0gb3duTWF0cml4W3ltZF0sXG4gICAgICAgICAgICBjb2xsZWN0aW9uO1xuXG4gICAgICAgIGNvbGxlY3Rpb24gPSByZXN1bHRbeW1kXSA9IGNvbW1vbi5jcmVhdGVTY2hlZHVsZUNvbGxlY3Rpb24oKTtcblxuICAgICAgICBpZiAobWF0cml4ICYmIG1hdHJpeC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHV0aWwuZm9yRWFjaEFycmF5KG1hdHJpeCwgZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZUNvbGxlY3Rpb24uZG9XaGVuSGFzKGlkLCBmdW5jdGlvbihzY2hlZHVsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLmFkZChzY2hlZHVsZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogUmV0dXJuIHNjaGVkdWxlcyBpbiBzdXBwbGllZCBkYXRlIHJhbmdlLlxuICpcbiAqIGF2YWlsYWJsZSBvbmx5IFlNRC5cbiAqIEBwYXJhbSB7VFpEYXRlfSBzdGFydCBzdGFydCBkYXRlLlxuICogQHBhcmFtIHtUWkRhdGV9IGVuZCBlbmQgZGF0ZS5cbiAqIEByZXR1cm5zIHtvYmplY3QuPHN0cmluZywgQ29sbGVjdGlvbj59IHNjaGVkdWxlIGNvbGxlY3Rpb24gZ3JvdXBlZCBieSBkYXRlcy5cbiAqL1xuQmFzZS5wcm90b3R5cGUuZmluZEJ5RGF0ZVJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgIHZhciByYW5nZSA9IGRhdGV0aW1lLnJhbmdlKFxuICAgICAgICAgICAgZGF0ZXRpbWUuc3RhcnQoc3RhcnQpLFxuICAgICAgICAgICAgZGF0ZXRpbWUuZW5kKGVuZCksXG4gICAgICAgICAgICBkYXRldGltZS5NSUxMSVNFQ09ORFNfUEVSX0RBWVxuICAgICAgICApLFxuICAgICAgICBvd25TY2hlZHVsZXMgPSB0aGlzLnNjaGVkdWxlcy5pdGVtcyxcbiAgICAgICAgb3duTWF0cml4ID0gdGhpcy5kYXRlTWF0cml4LFxuICAgICAgICBkZm9ybWF0ID0gZGF0ZXRpbWUuZm9ybWF0LFxuICAgICAgICByZXN1bHQgPSB7fSxcbiAgICAgICAgbWF0cml4LFxuICAgICAgICB5bWQsXG4gICAgICAgIHZpZXdNb2RlbHM7XG5cbiAgICB1dGlsLmZvckVhY2hBcnJheShyYW5nZSwgZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICB5bWQgPSBkZm9ybWF0KGRhdGUsICdZWVlZTU1ERCcpO1xuICAgICAgICBtYXRyaXggPSBvd25NYXRyaXhbeW1kXTtcbiAgICAgICAgdmlld01vZGVscyA9IHJlc3VsdFt5bWRdID0gY29tbW9uLmNyZWF0ZVNjaGVkdWxlQ29sbGVjdGlvbigpO1xuXG4gICAgICAgIGlmIChtYXRyaXggJiYgbWF0cml4Lmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVscy5hZGQuYXBwbHkoXG4gICAgICAgICAgICAgICAgdmlld01vZGVscyxcbiAgICAgICAgICAgICAgICB1dGlsLm1hcChtYXRyaXgsIGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTY2hlZHVsZVZpZXdNb2RlbC5jcmVhdGUob3duU2NoZWR1bGVzW2lkXSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5CYXNlLnByb3RvdHlwZS5jbGVhclNjaGVkdWxlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZGF0ZU1hdHJpeCA9IHt9O1xuICAgIHRoaXMuc2NoZWR1bGVzLmNsZWFyKCk7XG4gICAgLyoqXG4gICAgICogZm9yIGlubmVyIHZpZXcgd2hlbiBjbGVhciBzY2hlZHVsZXNcbiAgICAgKiBAZXZlbnQgQmFzZSNjbGVhclNjaGVkdWxlc1xuICAgICAqIEB0eXBlIHtTY2hlZHVsZX1cbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2NsZWFyU2NoZWR1bGVzJyk7XG59O1xuXG4vKipcbiAqIFNldCBhIHRoZW1lLlxuICogQHBhcmFtIHt0aGVtZUNvbmZpZ30gdGhlbWUgLSB0aGVtZSBrZXlzLCBzdHlsZXNcbiAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn0ga2V5cyAtIGVycm9yIGtleXMgbm90IHByZWRlZmluZWQuXG4gKi9cbkJhc2UucHJvdG90eXBlLnNldFRoZW1lID0gZnVuY3Rpb24odGhlbWUpIHtcbiAgICByZXR1cm4gdGhpcy50aGVtZS5zZXRTdHlsZXModGhlbWUpO1xufTtcblxuLyoqXG4gKiBTZXQgY2FsZW5kYXIgbGlzdFxuICogQHBhcmFtIHtBcnJheS48Q2FsZW5kYXI+fSBjYWxlbmRhcnMgLSBjYWxlbmRhciBsaXN0XG4gKi9cbkJhc2UucHJvdG90eXBlLnNldENhbGVuZGFycyA9IGZ1bmN0aW9uKGNhbGVuZGFycykge1xuICAgIHRoaXMuY2FsZW5kYXJzID0gY2FsZW5kYXJzO1xufTtcblxuLy8gbWl4aW5cbnV0aWwuQ3VzdG9tRXZlbnRzLm1peGluKEJhc2UpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2U7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29udHJvbGxlci92aWV3TWl4aW4vY29yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2NvbnRyb2xsZXIvdmlld01peGluL2NvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDb3JlIG1ldGhvZHMgZm9yIHNjaGVkdWxlIGJsb2NrIHBsYWNpbmdcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBmb3JFYWNoQXJyID0gdXRpbC5mb3JFYWNoQXJyYXksXG4gICAgYXBzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG52YXIgZGF0ZXRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZGF0ZXRpbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanNcIik7XG52YXIgdHogPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vdGltZXpvbmUgKi8gXCIuL3NyYy9qcy9jb21tb24vdGltZXpvbmUuanNcIik7XG52YXIgVFpEYXRlID0gdHouRGF0ZTtcbnZhciBDb2xsZWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2NvbGxlY3Rpb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29sbGVjdGlvbi5qc1wiKTtcbnZhciBTY2hlZHVsZVZpZXdNb2RlbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21vZGVsL3ZpZXdNb2RlbC9zY2hlZHVsZVZpZXdNb2RlbCAqLyBcIi4vc3JjL2pzL21vZGVsL3ZpZXdNb2RlbC9zY2hlZHVsZVZpZXdNb2RlbC5qc1wiKTtcblxudmFyIENvcmUgPSB7XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGNvbGxpc2lvbiBncm91cC5cbiAgICAgKiBAcGFyYW0ge2FycmF5fSB2aWV3TW9kZWxzIExpc3Qgb2Ygdmlld21vZGVscy5cbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9IENvbGxpc2lvbiBHcm91cC5cbiAgICAgKi9cbiAgICBnZXRDb2xsaXNpb25Hcm91cDogZnVuY3Rpb24odmlld01vZGVscykge1xuICAgICAgICB2YXIgY29sbGlzaW9uR3JvdXBzID0gW10sXG4gICAgICAgICAgICBmb3VuZFByZXZDb2xsaXNpb25TY2hlZHVsZSA9IGZhbHNlLFxuICAgICAgICAgICAgcHJldmlvdXNTY2hlZHVsZUxpc3Q7XG5cbiAgICAgICAgaWYgKCF2aWV3TW9kZWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxpc2lvbkdyb3VwcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbGxpc2lvbkdyb3Vwc1swXSA9IFt1dGlsLnN0YW1wKHZpZXdNb2RlbHNbMF0udmFsdWVPZigpKV07XG4gICAgICAgIGZvckVhY2hBcnIodmlld01vZGVscy5zbGljZSgxKSwgZnVuY3Rpb24oc2NoZWR1bGUsIGluZGV4KSB7XG4gICAgICAgICAgICBmb3VuZFByZXZDb2xsaXNpb25TY2hlZHVsZSA9IGZhbHNlO1xuICAgICAgICAgICAgcHJldmlvdXNTY2hlZHVsZUxpc3QgPSBhcHMuYXBwbHkodmlld01vZGVscywgWzAsIGluZGV4ICsgMV0pLnJldmVyc2UoKTtcblxuICAgICAgICAgICAgZm9yRWFjaEFycihwcmV2aW91c1NjaGVkdWxlTGlzdCwgZnVuY3Rpb24ocHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZWR1bGUuY29sbGlkZXNXaXRoKHByZXZpb3VzKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBvdmVybGFwcGluZyBwcmV2aW91cyBzY2hlZHVsZXMsIGZpbmQgYSBDb2xsaXNpb24gR3JvdXAgb2Ygb3ZlcmxhcHBpbmcgc2NoZWR1bGVzIGFuZCBhZGQgdGhpcyBzY2hlZHVsZXNcbiAgICAgICAgICAgICAgICAgICAgZm91bmRQcmV2Q29sbGlzaW9uU2NoZWR1bGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvckVhY2hBcnIoY29sbGlzaW9uR3JvdXBzLnNsaWNlKDApLnJldmVyc2UoKSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh+dXRpbC5pbkFycmF5KHV0aWwuc3RhbXAocHJldmlvdXMudmFsdWVPZigpKSwgZ3JvdXApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgeW91IGZpbmQgYSBwcmV2aW91cyBzY2hlZHVsZSB0aGF0IG92ZXJsYXBzLCBpbmNsdWRlIGl0IGluIHRoZSBDb2xsaXNpb24gR3JvdXAgdG8gd2hpY2ggaXQgYmVsb25ncy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cC5wdXNoKHV0aWwuc3RhbXAoc2NoZWR1bGUudmFsdWVPZigpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHJldHVybmluZyBmYWxzZSBjYW4gc3RvcCB0aGlzIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gcmV0dXJuaW5nIGZhbHNlIGNhbiBzdG9wIHRoaXMgbG9vcFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghZm91bmRQcmV2Q29sbGlzaW9uU2NoZWR1bGUpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHNjaGVkdWxlIGlzIGEgc2NoZWR1bGUgdGhhdCBkb2VzIG5vdCBvdmVybGFwIHdpdGggdGhlIHByZXZpb3VzIHNjaGVkdWxlLCBzbyBhIG5ldyBDb2xsaXNpb24gR3JvdXAgaXMgY29uc3RydWN0ZWQuXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uR3JvdXBzLnB1c2goW3V0aWwuc3RhbXAoc2NoZWR1bGUudmFsdWVPZigpKV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29sbGlzaW9uR3JvdXBzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgcm93IGxlbmd0aCBieSBjb2x1bW4gaW5kZXggaW4gMmQgbWF0cml4LlxuICAgICAqIEBwYXJhbSB7YXJyYXlbXX0gYXJyMmQgTWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbCBDb2x1bW4gaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gTGFzdCByb3cgbnVtYmVyIGluIGNvbHVtbi5cbiAgICAgKi9cbiAgICBnZXRMYXN0Um93SW5Db2x1bW46IGZ1bmN0aW9uKGFycjJkLCBjb2wpIHtcbiAgICAgICAgdmFyIHJvdyA9IGFycjJkLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAocm93ID4gMCkge1xuICAgICAgICAgICAgcm93IC09IDE7XG4gICAgICAgICAgICBpZiAoIXV0aWwuaXNVbmRlZmluZWQoYXJyMmRbcm93XVtjb2xdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBtYXRyaXggZm9yIGFwcG9pbnRtZW50IGJsb2NrIGVsZW1lbnQgcGxhY2luZy5cbiAgICAgKiBAcGFyYW0ge0NvbGxlY3Rpb259IGNvbGxlY3Rpb24gbW9kZWwgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2FycmF5W119IGNvbGxpc2lvbkdyb3VwcyBDb2xsaXNpb24gZ3JvdXBzIGZvciBzY2hlZHVsZSBzZXQuXG4gICAgICogQHJldHVybnMge2FycmF5fSBtYXRyaWNlc1xuICAgICAqL1xuICAgIGdldE1hdHJpY2VzOiBmdW5jdGlvbihjb2xsZWN0aW9uLCBjb2xsaXNpb25Hcm91cHMpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgICAgICAgZ2V0TGFzdFJvd0luQ29sdW1uID0gQ29yZS5nZXRMYXN0Um93SW5Db2x1bW47XG5cbiAgICAgICAgZm9yRWFjaEFycihjb2xsaXNpb25Hcm91cHMsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gW1tdXTtcblxuICAgICAgICAgICAgZm9yRWFjaEFycihncm91cCwgZnVuY3Rpb24oc2NoZWR1bGVJRCkge1xuICAgICAgICAgICAgICAgIHZhciBzY2hlZHVsZSA9IGNvbGxlY3Rpb24uaXRlbXNbc2NoZWR1bGVJRF0sXG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG5leHRSb3csXG4gICAgICAgICAgICAgICAgICAgIGxhc3RSb3dJbkNvbHVtbjtcblxuICAgICAgICAgICAgICAgIHdoaWxlICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJvd0luQ29sdW1uID0gZ2V0TGFzdFJvd0luQ29sdW1uKG1hdHJpeCwgY29sKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFJvd0luQ29sdW1uID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4WzBdLnB1c2goc2NoZWR1bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFzY2hlZHVsZS5jb2xsaWRlc1dpdGgobWF0cml4W2xhc3RSb3dJbkNvbHVtbl1bY29sXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRSb3cgPSBsYXN0Um93SW5Db2x1bW4gKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHV0aWwuaXNVbmRlZmluZWQobWF0cml4W25leHRSb3ddKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtuZXh0Um93XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W25leHRSb3ddW2NvbF0gPSBzY2hlZHVsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXN1bHQucHVzaChtYXRyaXgpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdGhhdCBnZXQgc2NoZWR1bGUgbW9kZWwgaW4gc3VwcGxpZWQgZGF0ZSByYW5nZXMuXG4gICAgICogQHBhcmFtIHtEYXRlfSBzdGFydCAtIHN0YXJ0IGRhdGVcbiAgICAgKiBAcGFyYW0ge0RhdGV9IGVuZCAtIGVuZCBkYXRlXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9ufSBzY2hlZHVsZSBmaWx0ZXIgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBnZXRTY2hlZHVsZUluRGF0ZVJhbmdlRmlsdGVyOiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICAgICAgdmFyIG93blN0YXJ0cyA9IG1vZGVsLmdldFN0YXJ0cygpLFxuICAgICAgICAgICAgICAgIG93bkVuZHMgPSBtb2RlbC5nZXRFbmRzKCk7XG4gICAgICAgICAgICB2YXIgZGF0ZUJ5T2Zmc2V0O1xuXG4gICAgICAgICAgICBpZiAodHouaGFzUHJpbWFyeVRpbWV6b25lQ3VzdG9tU2V0dGluZygpKSB7XG4gICAgICAgICAgICAgICAgZGF0ZUJ5T2Zmc2V0ID0gcmVjYWxjdWxhdGVEYXRlQnlPZmZzZXQob3duU3RhcnRzLCBvd25FbmRzKTtcbiAgICAgICAgICAgICAgICBvd25TdGFydHMgPSBkYXRlQnlPZmZzZXQuc3RhcnQ7XG4gICAgICAgICAgICAgICAgb3duRW5kcyA9IGRhdGVCeU9mZnNldC5lbmQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNob3J0aGFuZCBjb25kaXRpb24gb2ZcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAob3duU3RhcnRzID49IHN0YXJ0ICYmIG93bkVuZHMgPD0gZW5kKSB8fFxuICAgICAgICAgICAgLy8gKG93blN0YXJ0cyA8IHN0YXJ0ICYmIG93bkVuZHMgPj0gc3RhcnQpIHx8XG4gICAgICAgICAgICAvLyAob3duRW5kcyA+IGVuZCAmJiBvd25TdGFydHMgPD0gZW5kKVxuICAgICAgICAgICAgcmV0dXJuICEob3duRW5kcyA8IHN0YXJ0IHx8IG93blN0YXJ0cyA+IGVuZCk7XG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBvc2l0aW9uIGVhY2ggdmlldyBtb2RlbCBmb3IgcGxhY2luZyBpbnRvIGNvbnRhaW5lclxuICAgICAqIEBwYXJhbSB7RGF0ZX0gc3RhcnQgLSBzdGFydCBkYXRlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZW5kIC0gZW5kIGRhdGUgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHthcnJheX0gbWF0cmljZXMgLSBtYXRyaWNlcyBmcm9tIGNvbnRyb2xsZXJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaXRlcmF0ZWVdIC0gaXRlcmF0ZWUgZnVuY3Rpb24gaW52b2tlIGVhY2ggdmlldyBtb2RlbHNcbiAgICAgKi9cbiAgICBwb3NpdGlvblZpZXdNb2RlbHM6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIG1hdHJpY2VzLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgeW1kTGlzdFRvUmVuZGVyO1xuXG4gICAgICAgIHltZExpc3RUb1JlbmRlciA9IHV0aWwubWFwKFxuICAgICAgICAgICAgZGF0ZXRpbWUucmFuZ2Uoc3RhcnQsIGVuZCwgZGF0ZXRpbWUuTUlMTElTRUNPTkRTX1BFUl9EQVkpLFxuICAgICAgICAgICAgZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRldGltZS5mb3JtYXQoZGF0ZSwgJ1lZWVlNTUREJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgZm9yRWFjaEFycihtYXRyaWNlcywgZnVuY3Rpb24obWF0cml4KSB7XG4gICAgICAgICAgICBmb3JFYWNoQXJyKG1hdHJpeCwgZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgZm9yRWFjaEFycihjb2x1bW4sIGZ1bmN0aW9uKHZpZXdNb2RlbCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHltZCwgZGF0ZUxlbmd0aCwgc3RhcnREYXRlLCBlbmREYXRlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlld01vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzdGFydERhdGUgPSB2aWV3TW9kZWwuZ2V0U3RhcnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIGVuZERhdGUgPSB2aWV3TW9kZWwuZ2V0RW5kcygpO1xuICAgICAgICAgICAgICAgICAgICBkYXRlTGVuZ3RoID0gZGF0ZXRpbWUucmFuZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRldGltZS5zdGFydChzdGFydERhdGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXRpbWUucmVuZGVyRW5kKHN0YXJ0RGF0ZSwgZW5kRGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRldGltZS5NSUxMSVNFQ09ORFNfUEVSX0RBWVxuICAgICAgICAgICAgICAgICAgICApLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICB5bWQgPSBkYXRldGltZS5mb3JtYXQoc3RhcnREYXRlLCAnWVlZWU1NREQnKTtcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLnRvcCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwubGVmdCA9IHV0aWwuaW5BcnJheSh5bWQsIHltZExpc3RUb1JlbmRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC53aWR0aCA9IGRhdGVMZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVyYXRlZSh2aWV3TW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpbWl0IHN0YXJ0LCBlbmQgZGF0ZSBlYWNoIHZpZXcgbW9kZWwgZm9yIHJlbmRlciBwcm9wZXJseVxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBzdGFydCAtIHN0YXJ0IGRhdGUgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtUWkRhdGV9IGVuZCAtIGVuZCBkYXRlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7Q29sbGVjdGlvbnxTY2hlZHVsZVZpZXdNb2RlbH0gdmlld01vZGVsQ29sbCAtIHNjaGVkdWxlIHZpZXdcbiAgICAgKiAgbW9kZWwgY29sbGVjdGlvbiBvciBTY2hlZHVsZVZpZXdNb2RlbFxuICAgICAqIEByZXR1cm5zIHtTY2hlZHVsZVZpZXdNb2RlbH0gcmV0dXJuIHZpZXcgbW9kZWwgd2hlbiB0aGlyZCBwYXJhbWV0ZXIgaXNcbiAgICAgKiAgdmlldyBtb2RlbFxuICAgICAqL1xuICAgIGxpbWl0UmVuZGVyUmFuZ2U6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHZpZXdNb2RlbENvbGwpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpbWl0IHJlbmRlciByYW5nZSBmb3IgdmlldyBtb2RlbHNcbiAgICAgICAgICogQHBhcmFtIHtTY2hlZHVsZVZpZXdNb2RlbH0gdmlld01vZGVsIC0gdmlldyBtb2RlbCBpbnN0YW5jZVxuICAgICAgICAgKiBAcmV0dXJucyB7U2NoZWR1bGVWaWV3TW9kZWx9IHZpZXcgbW9kZWwgdGhhdCBsaW1pdGVkIHJlbmRlciByYW5nZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbGltaXQodmlld01vZGVsKSB7XG4gICAgICAgICAgICBpZiAodmlld01vZGVsLmdldFN0YXJ0cygpIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuZXhjZWVkTGVmdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmlld01vZGVsLnJlbmRlclN0YXJ0cyA9IG5ldyBUWkRhdGUoc3RhcnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmlld01vZGVsLmdldEVuZHMoKSA+IGVuZCkge1xuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5leGNlZWRSaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmlld01vZGVsLnJlbmRlckVuZHMgPSBuZXcgVFpEYXRlKGVuZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB2aWV3TW9kZWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmlld01vZGVsQ29sbC5jb25zdHJ1Y3RvciA9PT0gQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgdmlld01vZGVsQ29sbC5lYWNoKGxpbWl0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGltaXQodmlld01vZGVsQ29sbCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgc2NoZWR1bGUgbW9kZWwgY29sbGVjdGlvbiB0byB2aWV3IG1vZGVsIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtDb2xsZWN0aW9ufSBtb2RlbENvbGwgLSBjb2xsZWN0aW9uIG9mIHNjaGVkdWxlIG1vZGVsXG4gICAgICogQHJldHVybnMge0NvbGxlY3Rpb259IGNvbGxlY3Rpb24gb2Ygc2NoZWR1bGUgdmlldyBtb2RlbFxuICAgICAqL1xuICAgIGNvbnZlcnRUb1ZpZXdNb2RlbDogZnVuY3Rpb24obW9kZWxDb2xsKSB7XG4gICAgICAgIHZhciB2aWV3TW9kZWxDb2xsO1xuXG4gICAgICAgIHZpZXdNb2RlbENvbGwgPSBuZXcgQ29sbGVjdGlvbihmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3TW9kZWwuY2lkKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1vZGVsQ29sbC5lYWNoKGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWxDb2xsLmFkZChTY2hlZHVsZVZpZXdNb2RlbC5jcmVhdGUobW9kZWwpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHZpZXdNb2RlbENvbGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZXQgcmFuZ2UgZGF0ZSBieSBjdXN0b20gdGltZXpvbmUgb3IgbmF0aXZlIHRpbWV6b25lXG4gKiBAcGFyYW0ge1RaRGF0ZX0gb3duU3RhcnRzIHN0YXJ0IGRhdGUuXG4gKiBAcGFyYW0ge1RaRGF0ZX0gb3duRW5kcyBlbmQgZGF0ZS5cbiAqIEByZXR1cm5zIHtSYW5nZURhdGV9IHJlY2FsY3VsYXRlZCBzdGFydCBhbmQgZW5kIGRhdGVcbiAqL1xuZnVuY3Rpb24gcmVjYWxjdWxhdGVEYXRlQnlPZmZzZXQob3duU3RhcnRzLCBvd25FbmRzKSB7XG4gICAgdmFyIG5hdGl2ZU9mZnNldE1zID0gdHouZ2V0TmF0aXZlT2Zmc2V0TXMoKTtcbiAgICB2YXIgc3RhcnRPZmZzZXQgPSBvd25TdGFydHMudG9EYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICB2YXIgTUlOX1RPX01TID0gNjAgKiAxMDAwO1xuICAgIHZhciBvZmZzZXREaWZmTXMgPSAwO1xuXG4gICAgdmFyIHByaW1hcnlUaW1lem9uZU5hbWUgPSB0ei5nZXRQcmltYXJ5VGltZXpvbmVOYW1lKCk7XG4gICAgdmFyIHByaW1hcnlPZmZzZXQgPSB0ei5nZXRQcmltYXJ5T2Zmc2V0KCk7XG4gICAgdmFyIHRpbWV6b25lT2Zmc2V0ID0gdHouZ2V0T2Zmc2V0QnlUaW1lem9uZU5hbWUocHJpbWFyeVRpbWV6b25lTmFtZSwgb3duU3RhcnRzLmdldFRpbWUoKSk7XG5cbiAgICBpZiAodHouaXNOYXRpdmVPc1VzaW5nRFNUVGltZXpvbmUoKSAmJiBuYXRpdmVPZmZzZXRNcyAhPT0gc3RhcnRPZmZzZXQpIHtcbiAgICAgICAgLy8gV2hlbiB1c2luZyBhIGN1c3RvbSB0aW1lIHpvbmUsIHRoZSBuYXRpdmUgdGltZSB6b25lIG9mZnNldCBpcyBmaXhlZCBhbmQgcmVuZGVyZWQuXG4gICAgICAgIC8vIFNvLCBUaGUgZml4ZWQgYW5kIHJlbmRlcmVkIHRpbWUgc2hvdWxkIGJlIHJlY2FsY3VsYXRlZCBhcyB0aGUgb3JpZ2luYWwgdGltZSB6b25lIG9mZnNldC5cbiAgICAgICAgb2Zmc2V0RGlmZk1zID0gKHN0YXJ0T2Zmc2V0ICogTUlOX1RPX01TKSAtIG5hdGl2ZU9mZnNldE1zO1xuICAgIH1cblxuICAgIGlmICh0ei5pc1ByaW1hcnlVc2luZ0RTVFRpbWV6b25lKCkgJiYgcHJpbWFyeU9mZnNldCAhPT0gdGltZXpvbmVPZmZzZXQpIHtcbiAgICAgICAgLy8gVGhlIGN1c3RvbSB0aW1lIHpvbmUgaXMgYSB0aW1lIHpvbmUgd2hlcmUgdHdvIG9mZnNldHMgaW5jbHVkaW5nIERTVCBhcmUgYXBwbGllZC5cbiAgICAgICAgLy8gVGhlIGZpcnN0IHJlbmRlcmVkIHNjaGVkdWxlIGlzIGNhbGN1bGF0ZWQgYW5kIGRyYXduIHdpdGggdGhlIG9mZnNldCBjYWxjdWxhdGVkIGF0IHRoZSBhY2Nlc3MgdGltZShzeXN0ZW0gT1MgbG9jYWwgdGltZSkuXG4gICAgICAgIC8vIEl0IHNob3VsZCBiZSByZWNhbGN1bGF0ZWQgd2l0aCB0aGUgb3JpZ2luYWwgdGltZSB6b25lIG9mZnNldC5cbiAgICAgICAgb2Zmc2V0RGlmZk1zID0gKHByaW1hcnlPZmZzZXQgLSB0aW1lem9uZU9mZnNldCkgKiBNSU5fVE9fTVM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IG5ldyBUWkRhdGUob3duU3RhcnRzLmdldFVUQ1RpbWUoKSArIG9mZnNldERpZmZNcyksXG4gICAgICAgIGVuZDogbmV3IFRaRGF0ZShvd25FbmRzLmdldFVUQ1RpbWUoKSArIG9mZnNldERpZmZNcylcbiAgICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvcmU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29udHJvbGxlci92aWV3TWl4aW4vbW9udGguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvY29udHJvbGxlci92aWV3TWl4aW4vbW9udGguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ29udHJvbGxlciBtaXhpbiBmb3IgTW9udGggVmlld1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2FycmF5ICovIFwiLi9zcmMvanMvY29tbW9uL2FycmF5LmpzXCIpLFxuICAgIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpLFxuICAgIENvbGxlY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vY29sbGVjdGlvbiAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb2xsZWN0aW9uLmpzXCIpO1xudmFyIG1tYXggPSBNYXRoLm1heDtcblxudmFyIE1vbnRoID0ge1xuICAgIC8qKlxuICAgICAqIEZpbHRlciBmdW5jdGlvbiBmb3IgZmluZCB0aW1lIHNjaGVkdWxlXG4gICAgICogQHBhcmFtIHtTY2hlZHVsZVZpZXdNb2RlbH0gdmlld01vZGVsIC0gc2NoZWR1bGUgdmlldyBtb2RlbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIG1vZGVsIGlzIHRpbWUgc2NoZWR1bGU/XG4gICAgICovXG4gICAgX29ubHlUaW1lRmlsdGVyOiBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgcmV0dXJuICF2aWV3TW9kZWwubW9kZWwuaXNBbGxEYXkgJiYgIXZpZXdNb2RlbC5oYXNNdWx0aURhdGVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgZnVuY3Rpb24gZm9yIGZpbmQgYWxsZGF5IHNjaGVkdWxlXG4gICAgICogQHBhcmFtIHtTY2hlZHVsZVZpZXdNb2RlbH0gdmlld01vZGVsIC0gc2NoZWR1bGUgdmlldyBtb2RlbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIG1vZGVsIGlzIGFsbGRheSBzY2hlZHVsZT9cbiAgICAgKi9cbiAgICBfb25seUFsbGRheUZpbHRlcjogZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgIHJldHVybiB2aWV3TW9kZWwubW9kZWwuaXNBbGxEYXkgfHwgdmlld01vZGVsLmhhc011bHRpRGF0ZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdlaWdodCB0b3AgdmFsdWUgKzEgZm9yIG1vbnRoIHZpZXcgcmVuZGVyXG4gICAgICogQHBhcmFtIHtTY2hlZHVsZVZpZXdNb2RlbH0gdmlld01vZGVsIC0gc2NoZWR1bGUgdmlldyBtb2RlbFxuICAgICAqL1xuICAgIF93ZWlnaHRUb3BWYWx1ZTogZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgIHZpZXdNb2RlbC50b3AgPSB2aWV3TW9kZWwudG9wIHx8IDA7XG4gICAgICAgIHZpZXdNb2RlbC50b3AgKz0gMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRqdXN0IHJlbmRlciByYW5nZSB0byByZW5kZXIgcHJvcGVybHkuXG4gICAgICpcbiAgICAgKiBMaW1pdCBzdGFydCwgZW5kIGZvciBlYWNoIGFsbGRheSBzY2hlZHVsZXMgYW5kIGV4cGFuZCBzdGFydCwgZW5kIGZvclxuICAgICAqIGVhY2ggdGltZSBzY2hlZHVsZXNcbiAgICAgKiBAdGhpcyBCYXNlXG4gICAgICogQHBhcmFtIHtUWkRhdGV9IHN0YXJ0IC0gcmVuZGVyIHN0YXJ0IGRhdGVcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gZW5kIC0gcmVuZGVyIGVuZCBkYXRlXG4gICAgICogQHBhcmFtIHtDb2xsZWN0aW9ufSB2Q29sbCAtIHZpZXcgbW9kZWwgY29sbGVjdGlvblxuICAgICAqIHByb3BlcnR5LlxuICAgICAqL1xuICAgIF9hZGp1c3RSZW5kZXJSYW5nZTogZnVuY3Rpb24oc3RhcnQsIGVuZCwgdkNvbGwpIHtcbiAgICAgICAgdmFyIGN0cmxDb3JlID0gdGhpcy5Db3JlO1xuXG4gICAgICAgIHZDb2xsLmVhY2goZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICBpZiAodmlld01vZGVsLm1vZGVsLmlzQWxsRGF5IHx8IHZpZXdNb2RlbC5oYXNNdWx0aURhdGVzKSB7XG4gICAgICAgICAgICAgICAgY3RybENvcmUubGltaXRSZW5kZXJSYW5nZShzdGFydCwgZW5kLCB2aWV3TW9kZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IG1heCB0b3AgaW5kZXggdmFsdWUgZm9yIGFsbGRheSBzY2hlZHVsZXMgaW4gc3BlY2lmaWMgZGF0ZSAoWU1EKVxuICAgICAqIEB0aGlzIEJhc2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30geW1kIC0geXl5eW1tZGQgZm9ybWF0dGVkIHZhbHVlXG4gICAgICogQHBhcmFtIHtDb2xsZWN0aW9ufSB2QWxsZGF5Q29sbCAtIGNvbGxlY3Rpb24gb2YgYWxsZGF5IHNjaGVkdWxlc1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IG1heCB0b3AgaW5kZXggdmFsdWUgaW4gZGF0ZVxuICAgICAqL1xuICAgIF9nZXRBbGxkYXlNYXhUb3BJbmRleEF0WU1EOiBmdW5jdGlvbih5bWQsIHZBbGxkYXlDb2xsKSB7XG4gICAgICAgIHZhciBkYXRlTWF0cml4ID0gdGhpcy5kYXRlTWF0cml4LFxuICAgICAgICAgICAgdG9wSW5kZXhlc0luRGF0ZSA9IFtdO1xuICAgICAgICB1dGlsLmZvckVhY2goZGF0ZU1hdHJpeFt5bWRdLCBmdW5jdGlvbihjaWQpIHtcbiAgICAgICAgICAgIHZBbGxkYXlDb2xsLmRvV2hlbkhhcyhjaWQsIGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgICAgIHRvcEluZGV4ZXNJbkRhdGUucHVzaCh2aWV3TW9kZWwudG9wKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodG9wSW5kZXhlc0luRGF0ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbW1heC5hcHBseShudWxsLCB0b3BJbmRleGVzSW5EYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGp1c3QgdGltZSB2aWV3IG1vZGVsJ3MgdG9wIGluZGV4IHZhbHVlXG4gICAgICogQHRoaXMgQmFzZVxuICAgICAqIEBwYXJhbSB7Q29sbGVjdGlvbn0gdkNvbGwgLSBjb2xsZWN0aW9uIG9mIHNjaGVkdWxlc1xuICAgICAqL1xuICAgIF9hZGp1c3RUaW1lVG9wSW5kZXg6IGZ1bmN0aW9uKHZDb2xsKSB7XG4gICAgICAgIHZhciBjdHJsTW9udGggPSB0aGlzLk1vbnRoO1xuICAgICAgICB2YXIgZ2V0QWxsZGF5TWF4VG9wSW5kZXhBdFlNRCA9IGN0cmxNb250aC5fZ2V0QWxsZGF5TWF4VG9wSW5kZXhBdFlNRDtcbiAgICAgICAgdmFyIHZBbGxkYXlDb2xsID0gdkNvbGwuZmluZChjdHJsTW9udGguX29ubHlBbGxkYXlGaWx0ZXIpO1xuICAgICAgICB2YXIgc29ydGVkVGltZVNjaGVkdWxlcyA9IHZDb2xsLmZpbmQoY3RybE1vbnRoLl9vbmx5VGltZUZpbHRlcikuc29ydChhcnJheS5jb21wYXJlLnNjaGVkdWxlLmFzYyk7XG4gICAgICAgIHZhciBtYXhJbmRleEluWU1EID0ge307XG5cbiAgICAgICAgc29ydGVkVGltZVNjaGVkdWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHRpbWVWaWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBzY2hlZHVsZVlNRCA9IGRhdGV0aW1lLmZvcm1hdCh0aW1lVmlld01vZGVsLmdldFN0YXJ0cygpLCAnWVlZWU1NREQnKTtcbiAgICAgICAgICAgIHZhciBhbGxkYXlNYXhUb3BJbllNRCA9IG1heEluZGV4SW5ZTURbc2NoZWR1bGVZTURdO1xuXG4gICAgICAgICAgICBpZiAodXRpbC5pc1VuZGVmaW5lZChhbGxkYXlNYXhUb3BJbllNRCkpIHtcbiAgICAgICAgICAgICAgICBhbGxkYXlNYXhUb3BJbllNRCA9IG1heEluZGV4SW5ZTURbc2NoZWR1bGVZTURdID1cbiAgICAgICAgICAgICAgICAgICAgZ2V0QWxsZGF5TWF4VG9wSW5kZXhBdFlNRChzY2hlZHVsZVlNRCwgdkFsbGRheUNvbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF4SW5kZXhJbllNRFtzY2hlZHVsZVlNRF0gPSB0aW1lVmlld01vZGVsLnRvcCA9XG4gICAgICAgICAgICAgICAgKGFsbGRheU1heFRvcEluWU1EICsgMSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGp1c3QgdGltZSB2aWV3IG1vZGVsJ3MgdG9wIGluZGV4IHZhbHVlXG4gICAgICogQHRoaXMgQmFzZVxuICAgICAqIEBwYXJhbSB7Q29sbGVjdGlvbn0gdkNvbGwgLSBjb2xsZWN0aW9uIG9mIHNjaGVkdWxlc1xuICAgICAqL1xuICAgIF9zdGFja1RpbWVGcm9tVG9wOiBmdW5jdGlvbih2Q29sbCkge1xuICAgICAgICB2YXIgY3RybE1vbnRoID0gdGhpcy5Nb250aDtcbiAgICAgICAgdmFyIHZBbGxkYXlDb2xsID0gdkNvbGwuZmluZChjdHJsTW9udGguX29ubHlBbGxkYXlGaWx0ZXIpO1xuICAgICAgICB2YXIgc29ydGVkVGltZVNjaGVkdWxlcyA9IHZDb2xsLmZpbmQoY3RybE1vbnRoLl9vbmx5VGltZUZpbHRlcikuc29ydChhcnJheS5jb21wYXJlLnNjaGVkdWxlLmFzYyk7XG4gICAgICAgIHZhciBpbmRpY2VJbllNRCA9IHt9O1xuICAgICAgICB2YXIgZGF0ZU1hdHJpeCA9IHRoaXMuZGF0ZU1hdHJpeDtcblxuICAgICAgICBzb3J0ZWRUaW1lU2NoZWR1bGVzLmZvckVhY2goZnVuY3Rpb24odGltZVZpZXdNb2RlbCkge1xuICAgICAgICAgICAgdmFyIHNjaGVkdWxlWU1EID0gZGF0ZXRpbWUuZm9ybWF0KHRpbWVWaWV3TW9kZWwuZ2V0U3RhcnRzKCksICdZWVlZTU1ERCcpO1xuICAgICAgICAgICAgdmFyIHRvcEFycmF5SW5ZTUQgPSBpbmRpY2VJbllNRFtzY2hlZHVsZVlNRF07XG4gICAgICAgICAgICB2YXIgbWF4VG9wSW5ZTUQ7XG4gICAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgICAgaWYgKHV0aWwuaXNVbmRlZmluZWQodG9wQXJyYXlJbllNRCkpIHtcbiAgICAgICAgICAgICAgICB0b3BBcnJheUluWU1EID0gaW5kaWNlSW5ZTURbc2NoZWR1bGVZTURdID0gW107XG4gICAgICAgICAgICAgICAgdXRpbC5mb3JFYWNoKGRhdGVNYXRyaXhbc2NoZWR1bGVZTURdLCBmdW5jdGlvbihjaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdkFsbGRheUNvbGwuZG9XaGVuSGFzKGNpZCwgZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BBcnJheUluWU1ELnB1c2godmlld01vZGVsLnRvcCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodXRpbC5pbkFycmF5KHRpbWVWaWV3TW9kZWwudG9wLCB0b3BBcnJheUluWU1EKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgbWF4VG9wSW5ZTUQgPSBtbWF4LmFwcGx5KG51bGwsIHRvcEFycmF5SW5ZTUQpICsgMTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDw9IG1heFRvcEluWU1EOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZVZpZXdNb2RlbC50b3AgPSBpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbC5pbkFycmF5KHRpbWVWaWV3TW9kZWwudG9wLCB0b3BBcnJheUluWU1EKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9wQXJyYXlJbllNRC5wdXNoKHRpbWVWaWV3TW9kZWwudG9wKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgbXVsdGktZGF0ZSB0aW1lIHNjaGVkdWxlIHRvIGFsbC1kYXkgc2NoZWR1bGVcbiAgICAgKiBAdGhpcyBCYXNlXG4gICAgICogQHBhcmFtIHtDb2xsZWN0aW9ufSB2Q29sbCAtIHZpZXcgbW9kZWwgY29sbGVjdGlvblxuICAgICAqIHByb3BlcnR5LlxuICAgICAqL1xuICAgIF9hZGRNdWx0aURhdGVzSW5mbzogZnVuY3Rpb24odkNvbGwpIHtcbiAgICAgICAgdkNvbGwuZWFjaChmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHZpZXdNb2RlbC5tb2RlbDtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IG1vZGVsLmdldFN0YXJ0cygpO1xuICAgICAgICAgICAgdmFyIGVuZCA9IG1vZGVsLmdldEVuZHMoKTtcblxuICAgICAgICAgICAgdmlld01vZGVsLmhhc011bHRpRGF0ZXMgPSBkYXRldGltZS5oYXNNdWx0aURhdGVzKHN0YXJ0LCBlbmQpO1xuXG4gICAgICAgICAgICBpZiAoIW1vZGVsLmlzQWxsRGF5ICYmIHZpZXdNb2RlbC5oYXNNdWx0aURhdGVzKSB7XG4gICAgICAgICAgICAgICAgdmlld01vZGVsLnJlbmRlclN0YXJ0cyA9IGRhdGV0aW1lLnN0YXJ0KHN0YXJ0KTtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwucmVuZGVyRW5kcyA9IGRhdGV0aW1lLnJlbmRlckVuZChzdGFydCwgZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbmQgc2NoZWR1bGUgYW5kIGdldCB2aWV3IG1vZGVsIGZvciBzcGVjaWZpYyBtb250aFxuICAgICAqIEB0aGlzIEJhc2VcbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gc3RhcnQgLSBzdGFydCBkYXRlIHRvIGZpbmQgc2NoZWR1bGVzXG4gICAgICogQHBhcmFtIHtUWkRhdGV9IGVuZCAtIGVuZCBkYXRlIHRvIGZpbmQgc2NoZWR1bGVzXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbltdfSBbYW5kRmlsdGVyc10gLSBvcHRpb25hbCBmaWx0ZXJzIHRvIGFwcGx5aW5nIHNlYXJjaCBxdWVyeVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FsbGRheUZpcnN0TW9kZT1mYWxzZV0gaWYgdHJ1ZSwgdGltZSBzY2hlZHVsZSBpcyBsb3dlciB0aGFuIGFsbC1kYXkgc2NoZWR1bGUuIE9yIHN0YWNrIHNjaGVkdWxlcyBmcm9tIHRoZSB0b3AuXG4gICAgICogQHJldHVybnMge29iamVjdH0gdmlldyBtb2RlbCBkYXRhXG4gICAgICovXG4gICAgZmluZEJ5RGF0ZVJhbmdlOiBmdW5jdGlvbihzdGFydCwgZW5kLCBhbmRGaWx0ZXJzLCBhbGxkYXlGaXJzdE1vZGUpIHtcbiAgICAgICAgdmFyIGN0cmxDb3JlID0gdGhpcy5Db3JlLFxuICAgICAgICAgICAgY3RybE1vbnRoID0gdGhpcy5Nb250aCxcbiAgICAgICAgICAgIGZpbHRlciA9IGN0cmxDb3JlLmdldFNjaGVkdWxlSW5EYXRlUmFuZ2VGaWx0ZXIoc3RhcnQsIGVuZCksXG4gICAgICAgICAgICBjb2xsLCB2Q29sbCwgdkxpc3QsXG4gICAgICAgICAgICBjb2xsaXNpb25Hcm91cCxcbiAgICAgICAgICAgIG1hdHJpY2VzO1xuXG4gICAgICAgIGFsbGRheUZpcnN0TW9kZSA9IGFsbGRheUZpcnN0TW9kZSB8fCBmYWxzZTtcbiAgICAgICAgYW5kRmlsdGVycyA9IGFuZEZpbHRlcnMgfHwgW107XG4gICAgICAgIGZpbHRlciA9IENvbGxlY3Rpb24uYW5kLmFwcGx5KG51bGwsIFtmaWx0ZXJdLmNvbmNhdChhbmRGaWx0ZXJzKSk7XG5cbiAgICAgICAgY29sbCA9IHRoaXMuc2NoZWR1bGVzLmZpbmQoZmlsdGVyKTtcbiAgICAgICAgdkNvbGwgPSBjdHJsQ29yZS5jb252ZXJ0VG9WaWV3TW9kZWwoY29sbCk7XG4gICAgICAgIGN0cmxNb250aC5fYWRkTXVsdGlEYXRlc0luZm8odkNvbGwpO1xuICAgICAgICBjdHJsTW9udGguX2FkanVzdFJlbmRlclJhbmdlKHN0YXJ0LCBlbmQsIHZDb2xsKTtcbiAgICAgICAgdkxpc3QgPSB2Q29sbC5zb3J0KGFycmF5LmNvbXBhcmUuc2NoZWR1bGUuYXNjKTtcblxuICAgICAgICBjb2xsaXNpb25Hcm91cCA9IGN0cmxDb3JlLmdldENvbGxpc2lvbkdyb3VwKHZMaXN0KTtcbiAgICAgICAgbWF0cmljZXMgPSBjdHJsQ29yZS5nZXRNYXRyaWNlcyh2Q29sbCwgY29sbGlzaW9uR3JvdXApO1xuICAgICAgICBjdHJsQ29yZS5wb3NpdGlvblZpZXdNb2RlbHMoc3RhcnQsIGVuZCwgbWF0cmljZXMsIGN0cmxNb250aC5fd2VpZ2h0VG9wVmFsdWUpO1xuICAgICAgICBpZiAoYWxsZGF5Rmlyc3RNb2RlKSB7XG4gICAgICAgICAgICBjdHJsTW9udGguX2FkanVzdFRpbWVUb3BJbmRleCh2Q29sbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdHJsTW9udGguX3N0YWNrVGltZUZyb21Ub3AodkNvbGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpY2VzO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTW9udGg7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvY29udHJvbGxlci92aWV3TWl4aW4vd2Vlay5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2NvbnRyb2xsZXIvdmlld01peGluL3dlZWsuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGVzbGludCBuby1zaGFkb3c6IDAgKi9cbi8qKlxuICogQGZpbGVvdmVydmlldyBDb250cm9sbGVyIG1peGluIG1vZHVsZXMgZm9yIGRheSB2aWV3cy5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcblxudmFyIENvbGxlY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vY29sbGVjdGlvbiAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb2xsZWN0aW9uLmpzXCIpO1xudmFyIGFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2FycmF5ICovIFwiLi9zcmMvanMvY29tbW9uL2FycmF5LmpzXCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIFRaRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlO1xuXG52YXIgU0NIRURVTEVfTUlOX0RVUkFUSU9OID0gZGF0ZXRpbWUuTUlMTElTRUNPTkRTX1NDSEVEVUxFX01JTl9EVVJBVElPTjtcblxuLyoqXG4gKiBAbWl4aW4gQmFzZS5XZWVrXG4gKi9cbnZhciBXZWVrID0ge1xuICAgIC8qKioqKioqKioqXG4gICAgICogVElNRSBHUklEIFZJRVdcbiAgICAgKioqKioqKioqKi9cblxuICAgIC8qKlxuICAgICAqIE1ha2UgYXJyYXkgd2l0aCBzdGFydCBhbmQgZW5kIHRpbWVzIG9uIHNjaGVkdWxlcy5cbiAgICAgKiBAdGhpcyBCYXNlLldlZWtcbiAgICAgKiBAcGFyYW0ge2FycmF5W119IG1hdHJpeCAtIG1hdHJpeCBmcm9tIGNvbnRyb2xsZXIuXG4gICAgICogQHJldHVybnMge2FycmF5W119IHN0YXJ0dGltZSwgZW5kdGltZSBhcnJheSAoZXhjbHVkZSBmaXJzdCByb3cncyBzY2hlZHVsZXMpXG4gICAgICovXG4gICAgZ2VuZXJhdGVUaW1lQXJyYXlJblJvdzogZnVuY3Rpb24obWF0cml4KSB7XG4gICAgICAgIHZhciByb3csXG4gICAgICAgICAgICBjb2wsXG4gICAgICAgICAgICBzY2hlZHVsZSxcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgbWFwID0gW10sXG4gICAgICAgICAgICBjdXJzb3IgPSBbXSxcbiAgICAgICAgICAgIG1heENvbExlbiA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHV0aWwubWFwKG1hdHJpeCwgZnVuY3Rpb24oY29sKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbC5sZW5ndGg7XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgZm9yIChjb2wgPSAxOyBjb2wgPCBtYXhDb2xMZW47IGNvbCArPSAxKSB7XG4gICAgICAgICAgICByb3cgPSAwO1xuICAgICAgICAgICAgc2NoZWR1bGUgPSB1dGlsLnBpY2sobWF0cml4LCByb3csIGNvbCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChzY2hlZHVsZSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gc2NoZWR1bGUuZ2V0U3RhcnRzKCkuZ2V0VGltZSgpIC0gZGF0ZXRpbWUubWlsbGlzZWNvbmRzRnJvbSgnbWludXRlcycsIHNjaGVkdWxlLnZhbHVlT2YoKS5nb2luZ0R1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICBlbmQgPSBzY2hlZHVsZS5nZXRFbmRzKCkuZ2V0VGltZSgpICsgZGF0ZXRpbWUubWlsbGlzZWNvbmRzRnJvbSgnbWludXRlcycsIHNjaGVkdWxlLnZhbHVlT2YoKS5jb21pbmdEdXJhdGlvbik7XG5cbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZW5kIC0gc3RhcnQpIDwgU0NIRURVTEVfTUlOX0RVUkFUSU9OKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZCArPSBTQ0hFRFVMRV9NSU5fRFVSQVRJT047XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3Vyc29yLnB1c2goW3N0YXJ0LCBlbmRdKTtcblxuICAgICAgICAgICAgICAgIHJvdyArPSAxO1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlID0gdXRpbC5waWNrKG1hdHJpeCwgcm93LCBjb2wpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXAucHVzaChjdXJzb3IpO1xuICAgICAgICAgICAgY3Vyc29yID0gW107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgY29sbGlzaW9uIGluZm9ybWF0aW9uIGZyb20gbGlzdFxuICAgICAqIEB0aGlzIEJhc2VcbiAgICAgKiBAcGFyYW0ge2FycmF5LjxudW1iZXJbXT59IGFyciAtIGxpc3QgdG8gZGV0ZWN0aW5nIGNvbGxpc2lvbi4gW1tzdGFydCwgZW5kXSwgW3N0YXJ0LCBlbmRdXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIHNjaGVkdWxlIHN0YXJ0IHRpbWUgdGhhdCB3YW50IHRvIGRldGVjdCBjb2xsaXNpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgLSBzY2hlZHVsZSBlbmQgdGltZSB0aGF0IHdhbnQgdG8gZGV0ZWN0IGNvbGxpc2lvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRhcmdldCBoYXMgY29sbGlkZSBpbiBzdXBwbGllZCBhcnJheT9cbiAgICAgKi9cbiAgICBoYXNDb2xsaWRlOiBmdW5jdGlvbihhcnIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdmFyIHN0YXJ0U3RhcnQsXG4gICAgICAgICAgICBzdGFydEVuZCxcbiAgICAgICAgICAgIGVuZFN0YXJ0LFxuICAgICAgICAgICAgZW5kRW5kLFxuICAgICAgICAgICAgZ2V0RnVuYyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBibG9ja1tpbmRleF07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhYnMgPSBNYXRoLmFicyxcbiAgICAgICAgICAgIGNvbXBhcmUgPSBhcnJheS5jb21wYXJlLm51bS5hc2MsXG4gICAgICAgICAgICBoYXNDb2xsaWRlO1xuXG4gICAgICAgIGlmICghYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnRTdGFydCA9IGFicyhhcnJheS5ic2VhcmNoKGFyciwgc3RhcnQsIGdldEZ1bmMoMCksIGNvbXBhcmUpKTtcbiAgICAgICAgc3RhcnRFbmQgPSBhYnMoYXJyYXkuYnNlYXJjaChhcnIsIHN0YXJ0LCBnZXRGdW5jKDEpLCBjb21wYXJlKSk7XG4gICAgICAgIGVuZFN0YXJ0ID0gYWJzKGFycmF5LmJzZWFyY2goYXJyLCBlbmQsIGdldEZ1bmMoMCksIGNvbXBhcmUpKTtcbiAgICAgICAgZW5kRW5kID0gYWJzKGFycmF5LmJzZWFyY2goYXJyLCBlbmQsIGdldEZ1bmMoMSksIGNvbXBhcmUpKTtcbiAgICAgICAgaGFzQ29sbGlkZSA9ICEoc3RhcnRTdGFydCA9PT0gc3RhcnRFbmQgJiYgc3RhcnRFbmQgPT09IGVuZFN0YXJ0ICYmIGVuZFN0YXJ0ID09PSBlbmRFbmQpO1xuXG4gICAgICAgIHJldHVybiBoYXNDb2xsaWRlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHZhbHVlcyB0byB2aWV3bW9kZWxzIGZvciBkZXRlY3QgcmVhbCBjb2xsaXNpb24gYXQgcmVuZGVyaW5nIHBoYXNlLlxuICAgICAqIEB0aGlzIEJhc2VcbiAgICAgKiBAcGFyYW0ge2FycmF5W119IG1hdHJpY2VzIC0gTWF0cml4IGRhdGEuXG4gICAgICovXG4gICAgZ2V0Q29sbGlkZXM6IGZ1bmN0aW9uKG1hdHJpY2VzKSB7XG4gICAgICAgIHV0aWwuZm9yRWFjaEFycmF5KG1hdHJpY2VzLCBmdW5jdGlvbihtYXRyaXgpIHtcbiAgICAgICAgICAgIHZhciBiaW5hcnlNYXAsXG4gICAgICAgICAgICAgICAgbWF4Um93TGVuZ3RoO1xuXG4gICAgICAgICAgICBiaW5hcnlNYXAgPSBXZWVrLmdlbmVyYXRlVGltZUFycmF5SW5Sb3cobWF0cml4KTtcbiAgICAgICAgICAgIG1heFJvd0xlbmd0aCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHV0aWwubWFwKG1hdHJpeCwgZnVuY3Rpb24ocm93KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvdy5sZW5ndGg7XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIHV0aWwuZm9yRWFjaEFycmF5KG1hdHJpeCwgZnVuY3Rpb24ocm93KSB7XG4gICAgICAgICAgICAgICAgdXRpbC5mb3JFYWNoQXJyYXkocm93LCBmdW5jdGlvbih2aWV3TW9kZWwsIGNvbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NvbGxpZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlld01vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB2aWV3TW9kZWwuZ2V0U3RhcnRzKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gdmlld01vZGVsLmdldEVuZHMoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGVuZFRpbWUgLSBzdGFydFRpbWUpIDwgU0NIRURVTEVfTUlOX0RVUkFUSU9OKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lICs9IFNDSEVEVUxFX01JTl9EVVJBVElPTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSAtPSBkYXRldGltZS5taWxsaXNlY29uZHNGcm9tKCdtaW51dGVzJywgdmlld01vZGVsLnZhbHVlT2YoKS5nb2luZ0R1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZSArPSBkYXRldGltZS5taWxsaXNlY29uZHNGcm9tKCdtaW51dGVzJywgdmlld01vZGVsLnZhbHVlT2YoKS5jb21pbmdEdXJhdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZSAtPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IChjb2wgKyAxKTsgaSA8IG1heFJvd0xlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNDb2xsaWRlID0gV2Vlay5oYXNDb2xsaWRlKGJpbmFyeU1hcFtpIC0gMV0sIHN0YXJ0VGltZSwgZW5kVGltZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNDb2xsaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmhhc0NvbGxpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwuZXh0cmFTcGFjZSArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNyZWF0ZSB2aWV3IG1vZGVsIGZvciB0aW1lIHZpZXcgcGFydFxuICAgICAqIEB0aGlzIEJhc2VcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHN0YXJ0IC0gc3RhcnQgZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGVuZCAtIGVuZCBkYXRlLlxuICAgICAqIEBwYXJhbSB7Q29sbGVjdGlvbn0gdGltZSAtIHZpZXcgbW9kZWwgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91clN0YXJ0IC0gc3RhcnQgaG91ciB0byBiZSBzaG93blxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBob3VyRW5kIC0gZW5kIGhvdXIgdG8gYmUgc2hvd25cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSB2aWV3IG1vZGVsIGZvciB0aW1lIHBhcnQuXG4gICAgICovXG4gICAgZ2V0Vmlld01vZGVsRm9yVGltZVZpZXc6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHRpbWUsIGhvdXJTdGFydCwgaG91ckVuZCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICB5bWRTcGxpdHRlZCA9IHRoaXMuc3BsaXRTY2hlZHVsZUJ5RGF0ZVJhbmdlKHN0YXJ0LCBlbmQsIHRpbWUpLFxuICAgICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgICAgdmFyIF9nZXRWaWV3TW9kZWwgPSBXZWVrLl9tYWtlR2V0Vmlld01vZGVsRnVuY0ZvclRpbWVWaWV3KGhvdXJTdGFydCwgaG91ckVuZCk7XG5cbiAgICAgICAgdXRpbC5mb3JFYWNoKHltZFNwbGl0dGVkLCBmdW5jdGlvbihjb2xsZWN0aW9uLCB5bWQpIHtcbiAgICAgICAgICAgIHZhciB2aWV3TW9kZWxzID0gX2dldFZpZXdNb2RlbChjb2xsZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciBjb2xsaXNpb25Hcm91cHMsIG1hdHJpY2VzO1xuXG4gICAgICAgICAgICBjb2xsaXNpb25Hcm91cHMgPSBzZWxmLkNvcmUuZ2V0Q29sbGlzaW9uR3JvdXAodmlld01vZGVscyk7XG4gICAgICAgICAgICBtYXRyaWNlcyA9IHNlbGYuQ29yZS5nZXRNYXRyaWNlcyhjb2xsZWN0aW9uLCBjb2xsaXNpb25Hcm91cHMpO1xuICAgICAgICAgICAgc2VsZi5XZWVrLmdldENvbGxpZGVzKG1hdHJpY2VzKTtcblxuICAgICAgICAgICAgcmVzdWx0W3ltZF0gPSBtYXRyaWNlcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWFrZSB2aWV3IG1vZGVsIGZ1bmN0aW9uIGRlcGVuZGluZyBvbiBzdGFydCBhbmQgZW5kIGhvdXJcbiAgICAgKiBpZiB0aW1lIHZpZXcgb3B0aW9uIGhhcyBzdGFydCBvciBlbmQgaG91ciBjb25kaXRpb25cbiAgICAgKiBpdCBhZGQgZmlsdGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhvdXJTdGFydCAtIHN0YXJ0IGhvdXIgdG8gYmUgc2hvd25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91ckVuZCAtIGVuZCBob3VyIHRvIGJlIHNob3duXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9ufSBmdW5jdGlvblxuICAgICAqL1xuICAgIF9tYWtlR2V0Vmlld01vZGVsRnVuY0ZvclRpbWVWaWV3OiBmdW5jdGlvbihob3VyU3RhcnQsIGhvdXJFbmQpIHtcbiAgICAgICAgaWYgKGhvdXJTdGFydCA9PT0gMCAmJiBob3VyRW5kID09PSAyNCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zb3J0KGFycmF5LmNvbXBhcmUuc2NoZWR1bGUuYXNjKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uZmluZChXZWVrLl9tYWtlSG91clJhbmdlRmlsdGVyKGhvdXJTdGFydCwgaG91ckVuZCkpXG4gICAgICAgICAgICAgICAgLnNvcnQoYXJyYXkuY29tcGFyZS5zY2hlZHVsZS5hc2MpO1xuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBtYWtlIGEgZmlsdGVyIGZ1bmN0aW9uIHRoYXQgaXMgbm90IGluY2x1ZGVkIHJhbmdlIG9mIHN0YXJ0LCBlbmQgaG91clxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoU3RhcnQgLSBob3VyIHN0YXJ0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhFbmQgLSBob3VyIGVuZFxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbn0gLSBmaWx0ZXJpbmcgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBfbWFrZUhvdXJSYW5nZUZpbHRlcjogZnVuY3Rpb24oaFN0YXJ0LCBoRW5kKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihzY2hlZHVsZSkge1xuICAgICAgICAgICAgdmFyIG93bkhvdXJTdGFydCA9IHNjaGVkdWxlLm1vZGVsLnN0YXJ0O1xuICAgICAgICAgICAgdmFyIG93bkhvdXJFbmQgPSBzY2hlZHVsZS5tb2RlbC5lbmQ7XG4gICAgICAgICAgICB2YXIgeXl5eSA9IG93bkhvdXJTdGFydC5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgdmFyIG1tID0gb3duSG91clN0YXJ0LmdldE1vbnRoKCk7XG4gICAgICAgICAgICB2YXIgZGQgPSBvd25Ib3VyU3RhcnQuZ2V0RGF0ZSgpO1xuXG4gICAgICAgICAgICB2YXIgaG91clN0YXJ0ID0gbmV3IFRaRGF0ZSh5eXl5LCBtbSwgZGQpLnNldEhvdXJzKGhTdGFydCk7XG4gICAgICAgICAgICB2YXIgaG91ckVuZCA9IG5ldyBUWkRhdGUoeXl5eSwgbW0sIGRkKS5zZXRIb3VycyhoRW5kKTtcblxuICAgICAgICAgICAgcmV0dXJuIChvd25Ib3VyU3RhcnQgPj0gaG91clN0YXJ0ICYmIG93bkhvdXJTdGFydCA8IGhvdXJFbmQpIHx8XG4gICAgICAgICAgICAgICAgKG93bkhvdXJFbmQgPiBob3VyU3RhcnQgJiYgb3duSG91ckVuZCA8PSBob3VyRW5kKSB8fFxuICAgICAgICAgICAgICAgIChvd25Ib3VyU3RhcnQgPCBob3VyU3RhcnQgJiYgb3duSG91ckVuZCA+IGhvdXJTdGFydCkgfHxcbiAgICAgICAgICAgICAgICAob3duSG91ckVuZCA+IGhvdXJFbmQgJiYgb3duSG91clN0YXJ0IDwgaG91ckVuZCk7XG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKioqKioqKioqXG4gICAgICogQUxMREFZIFZJRVdcbiAgICAgKioqKioqKioqKi9cblxuICAgIC8qKlxuICAgICAqIFNldCBoYXNNdWx0aURhdGVzIGZsYWcgdG8gdHJ1ZSBhbmQgc2V0IGRhdGUgcmFuZ2VzIGZvciByZW5kZXJpbmdcbiAgICAgKiBAdGhpcyBCYXNlXG4gICAgICogQHBhcmFtIHtDb2xsZWN0aW9ufSB2Q29sbCAtIHZpZXcgbW9kZWwgY29sbGVjdGlvblxuICAgICAqL1xuICAgIF9hZGRNdWx0aURhdGVzSW5mbzogZnVuY3Rpb24odkNvbGwpIHtcbiAgICAgICAgdkNvbGwuZWFjaChmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHZpZXdNb2RlbC5tb2RlbDtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IG1vZGVsLmdldFN0YXJ0cygpO1xuICAgICAgICAgICAgdmFyIGVuZCA9IG1vZGVsLmdldEVuZHMoKTtcblxuICAgICAgICAgICAgdmlld01vZGVsLmhhc011bHRpRGF0ZXMgPSB0cnVlO1xuICAgICAgICAgICAgdmlld01vZGVsLnJlbmRlclN0YXJ0cyA9IGRhdGV0aW1lLnN0YXJ0KHN0YXJ0KTtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5yZW5kZXJFbmRzID0gZGF0ZXRpbWUucmVuZGVyRW5kKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY3JlYXRlIHZpZXcgbW9kZWwgZm9yIGFsbGRheSB2aWV3IHBhcnRcbiAgICAgKiBAdGhpcyBCYXNlXG4gICAgICogQHBhcmFtIHtEYXRlfSBzdGFydCBzdGFydCBkYXRlLlxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZW5kIGVuZCBkYXRlLlxuICAgICAqIEBwYXJhbSB7Q29sbGVjdGlvbn0gdmlld01vZGVsQ29sbCAtIGFsbGRheSBzY2hlZHVsZSB2aWV3TW9kZWwgdmlld01vZGVscy5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBhbGxkYXkgdmlld01vZGVsLlxuICAgICAqL1xuICAgIGdldFZpZXdNb2RlbEZvckFsbGRheVZpZXc6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHZpZXdNb2RlbENvbGwpIHtcbiAgICAgICAgdmFyIGN0cmxDb3JlID0gdGhpcy5Db3JlLFxuICAgICAgICAgICAgY3RybFdlZWsgPSB0aGlzLldlZWssXG4gICAgICAgICAgICB2aWV3TW9kZWxzLFxuICAgICAgICAgICAgY29sbGlzaW9uR3JvdXBzLFxuICAgICAgICAgICAgbWF0cmljZXM7XG5cbiAgICAgICAgaWYgKCF2aWV3TW9kZWxDb2xsIHx8ICF2aWV3TW9kZWxDb2xsLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY3RybFdlZWsuX2FkZE11bHRpRGF0ZXNJbmZvKHZpZXdNb2RlbENvbGwpO1xuICAgICAgICBjdHJsQ29yZS5saW1pdFJlbmRlclJhbmdlKHN0YXJ0LCBlbmQsIHZpZXdNb2RlbENvbGwpO1xuXG4gICAgICAgIHZpZXdNb2RlbHMgPSB2aWV3TW9kZWxDb2xsLnNvcnQoYXJyYXkuY29tcGFyZS5zY2hlZHVsZS5hc2MpO1xuICAgICAgICBjb2xsaXNpb25Hcm91cHMgPSBjdHJsQ29yZS5nZXRDb2xsaXNpb25Hcm91cCh2aWV3TW9kZWxzKTtcblxuICAgICAgICBtYXRyaWNlcyA9IGN0cmxDb3JlLmdldE1hdHJpY2VzKHZpZXdNb2RlbENvbGwsIGNvbGxpc2lvbkdyb3Vwcyk7XG4gICAgICAgIGN0cmxDb3JlLnBvc2l0aW9uVmlld01vZGVscyhzdGFydCwgZW5kLCBtYXRyaWNlcyk7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpY2VzO1xuICAgIH0sXG5cbiAgICAvKioqKioqKioqKlxuICAgICAqIFJFQURcbiAgICAgKioqKioqKioqKi9cblxuICAgIC8qKlxuICAgICAqIFBvcHVsYXRlIHNjaGVkdWxlcyBpbiBkYXRlIHJhbmdlLlxuICAgICAqIEB0aGlzIEJhc2VcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHN0YXJ0IHN0YXJ0IGRhdGUuXG4gICAgICogQHBhcmFtIHtEYXRlfSBlbmQgZW5kIGRhdGUuXG4gICAgICogQHBhcmFtIHtBcnJheS48b2JqZWN0Pn0gcGFuZWxzIC0gc2NoZWR1bGUgcGFuZWxzIGxpa2UgJ21pbGVzdG9uZScsICd0YXNrJywgJ2FsbGRheScsICd0aW1lJ1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb25bXX0gW2FuZEZpbHRlcnNdIC0gb3B0aW9uYWwgZmlsdGVycyB0byBhcHBseWluZyBzZWFyY2ggcXVlcnlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIHdlZWsgdmlldyBvcHRpb25zXG4gICAgICogQHJldHVybnMge29iamVjdH0gc2NoZWR1bGVzIGdyb3VwZWQgYnkgZGF0ZXMuXG4gICAgICovXG4gICAgZmluZEJ5RGF0ZVJhbmdlOiBmdW5jdGlvbihzdGFydCwgZW5kLCBwYW5lbHMsIGFuZEZpbHRlcnMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGN0cmxDb3JlID0gdGhpcy5Db3JlLFxuICAgICAgICAgICAgY3RybFdlZWsgPSB0aGlzLldlZWssXG4gICAgICAgICAgICBmaWx0ZXIgPSBjdHJsQ29yZS5nZXRTY2hlZHVsZUluRGF0ZVJhbmdlRmlsdGVyKHN0YXJ0LCBlbmQpLFxuICAgICAgICAgICAgc2NoZWR1bGVUeXBlcyA9IHV0aWwucGx1Y2socGFuZWxzLCAnbmFtZScpLFxuICAgICAgICAgICAgaG91clN0YXJ0ID0gdXRpbC5waWNrKG9wdGlvbnMsICdob3VyU3RhcnQnKSxcbiAgICAgICAgICAgIGhvdXJFbmQgPSB1dGlsLnBpY2sob3B0aW9ucywgJ2hvdXJFbmQnKSxcbiAgICAgICAgICAgIG1vZGVsQ29sbCxcbiAgICAgICAgICAgIGdyb3VwO1xuXG4gICAgICAgIGFuZEZpbHRlcnMgPSBhbmRGaWx0ZXJzIHx8IFtdO1xuICAgICAgICBmaWx0ZXIgPSBDb2xsZWN0aW9uLmFuZC5hcHBseShudWxsLCBbZmlsdGVyXS5jb25jYXQoYW5kRmlsdGVycykpO1xuXG4gICAgICAgIG1vZGVsQ29sbCA9IHRoaXMuc2NoZWR1bGVzLmZpbmQoZmlsdGVyKTtcbiAgICAgICAgbW9kZWxDb2xsID0gY3RybENvcmUuY29udmVydFRvVmlld01vZGVsKG1vZGVsQ29sbCk7XG5cbiAgICAgICAgZ3JvdXAgPSBtb2RlbENvbGwuZ3JvdXBCeShzY2hlZHVsZVR5cGVzLCB0aGlzLmdyb3VwRnVuYyk7XG4gICAgICAgIHV0aWwuZm9yRWFjaChwYW5lbHMsIGZ1bmN0aW9uKHBhbmVsKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHBhbmVsLm5hbWU7XG4gICAgICAgICAgICBpZiAocGFuZWwudHlwZSA9PT0gJ2RheWdyaWQnKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBbbmFtZV0gPSBjdHJsV2Vlay5nZXRWaWV3TW9kZWxGb3JBbGxkYXlWaWV3KHN0YXJ0LCBlbmQsIGdyb3VwW25hbWVdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFuZWwudHlwZSA9PT0gJ3RpbWVncmlkJykge1xuICAgICAgICAgICAgICAgIGdyb3VwW25hbWVdID0gY3RybFdlZWsuZ2V0Vmlld01vZGVsRm9yVGltZVZpZXcoc3RhcnQsIGVuZCwgZ3JvdXBbbmFtZV0sIGhvdXJTdGFydCwgaG91ckVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9LFxuXG4gICAgLyogZXNsaW50IG1heC1uZXN0ZWQtY2FsbGJhY2tzOiAwICovXG4gICAgLyoqXG4gICAgICogTWFrZSBleGNlZWQgZGF0ZSBpbmZvcm1hdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhDb3VudCAtIGV4Y2VlZCBzY2hlZHVsZSBjb3VudFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGV2ZW50c0luRGF0ZVJhbmdlICAtIG1hdHJpeCBvZiBTY2hlZHVsZVZpZXdNb2RlbFxuICAgICAqIEBwYXJhbSB7QXJyYXkuPFRaRGF0ZT59IHJhbmdlIC0gZGF0ZSByYW5nZSBvZiBvbmUgd2Vla1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGV4Y2VlZERhdGVcbiAgICAgKi9cbiAgICBnZXRFeGNlZWREYXRlOiBmdW5jdGlvbihtYXhDb3VudCwgZXZlbnRzSW5EYXRlUmFuZ2UsIHJhbmdlKSB7XG4gICAgICAgIHZhciBleGNlZWREYXRlID0ge307XG5cbiAgICAgICAgdXRpbC5mb3JFYWNoKHJhbmdlLCBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICB2YXIgeW1kID0gZGF0ZXRpbWUuZm9ybWF0KGRhdGUsICdZWVlZTU1ERCcpO1xuICAgICAgICAgICAgZXhjZWVkRGF0ZVt5bWRdID0gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdXRpbC5mb3JFYWNoKGV2ZW50c0luRGF0ZVJhbmdlLCBmdW5jdGlvbihtYXRyaXgpIHtcbiAgICAgICAgICAgIHV0aWwuZm9yRWFjaChtYXRyaXgsIGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgICAgIHV0aWwuZm9yRWFjaChjb2x1bW4sIGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGVyaW9kO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZpZXdNb2RlbCB8fCB2aWV3TW9kZWwudG9wIDwgbWF4Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHBlcmlvZCA9IGRhdGV0aW1lLnJhbmdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmdldFN0YXJ0cygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmdldEVuZHMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGV0aW1lLk1JTExJU0VDT05EU19QRVJfREFZXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdXRpbC5mb3JFYWNoKHBlcmlvZCwgZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHltZCA9IGRhdGV0aW1lLmZvcm1hdChkYXRlLCAnWVlZWU1NREQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VlZERhdGVbeW1kXSArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZXhjZWVkRGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXhjbHVkZSBvdmVyZmxvdyBzY2hlZHVsZXMgZnJvbSBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSB7YXJyYXl9IG1hdHJpY2VzIC0gVGhlIG1hdHJpY2VzIGZvciBzY2hlZHVsZSBwbGFjaW5nLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2aXNpYmxlU2NoZWR1bGVDb3VudCAtIG1heGltdW0gdmlzaWJsZSBjb3VudCBvbiBwYW5lbFxuICAgICAqIEByZXR1cm5zIHthcnJheX0gLSBUaGUgbWF0cmljZXMgZm9yIHNjaGVkdWxlIHBsYWNpbmcgZXhjZXB0IG92ZXJmbG93ZWQgc2NoZWR1bGVzLlxuICAgICAqL1xuICAgIGV4Y2x1ZGVFeGNlZWRTY2hlZHVsZXM6IGZ1bmN0aW9uKG1hdHJpY2VzLCB2aXNpYmxlU2NoZWR1bGVDb3VudCkge1xuICAgICAgICByZXR1cm4gbWF0cmljZXMubWFwKGZ1bmN0aW9uKG1hdHJpeCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hdHJpeC5tYXAoZnVuY3Rpb24ocm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvdy5sZW5ndGggPiB2aXNpYmxlU2NoZWR1bGVDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93LmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50b3AgPCB2aXNpYmxlU2NoZWR1bGVDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvdztcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlZWs7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvZmFjdG9yeS9jYWxlbmRhci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2ZhY3RvcnkvY2FsZW5kYXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBGYWN0b3J5IG1vZHVsZSBmb3IgY29udHJvbCBhbGwgb3RoZXIgZmFjdG9yeS5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIEdBX1RSQUNLSU5HX0lEID0gJ1VBLTEyOTk1MTY5OS0xJztcblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKSxcbiAgICBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaGFuZGxlYmFycy10ZW1wbGF0ZS1sb2FkZXIvcnVudGltZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMtdGVtcGxhdGUtbG9hZGVyL3J1bnRpbWUvaW5kZXguanNcIik7XG52YXIgZHcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24vZHcgKi8gXCIuL3NyYy9qcy9jb21tb24vZHcuanNcIik7XG52YXIgZGF0ZXRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24vZGF0ZXRpbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanNcIik7XG52YXIgTGF5b3V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdmlldy9sYXlvdXQgKi8gXCIuL3NyYy9qcy92aWV3L2xheW91dC5qc1wiKTtcbnZhciBEcmFnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGFuZGxlci9kcmFnICovIFwiLi9zcmMvanMvaGFuZGxlci9kcmFnLmpzXCIpO1xudmFyIGNvbnRyb2xsZXJGYWN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyICovIFwiLi9zcmMvanMvZmFjdG9yeS9jb250cm9sbGVyLmpzXCIpO1xudmFyIHdlZWtWaWV3RmFjdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vd2Vla1ZpZXcgKi8gXCIuL3NyYy9qcy9mYWN0b3J5L3dlZWtWaWV3LmpzXCIpO1xudmFyIG1vbnRoVmlld0ZhY3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21vbnRoVmlldyAqLyBcIi4vc3JjL2pzL2ZhY3RvcnkvbW9udGhWaWV3LmpzXCIpO1xudmFyIHR6ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpO1xudmFyIFRaRGF0ZSA9IHR6LkRhdGU7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpO1xudmFyIHJlcUFuaW1GcmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9yZXFBbmltRnJhbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vcmVxQW5pbUZyYW1lLmpzXCIpO1xuXG52YXIgbW1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIFNjaGVkdWxlIGluZm9ybWF0aW9uXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBTY2hlZHVsZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtpZF0gLSBUaGUgdW5pcXVlIHNjaGVkdWxlIGlkIGRlcGVuZHMgb24gY2FsZW5kYXIgaWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjYWxlbmRhcklkIC0gVGhlIHVuaXF1ZSBjYWxlbmRhciBpZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXRsZV0gLSBUaGUgc2NoZWR1bGUgdGl0bGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYm9keV0gLSBUaGUgc2NoZWR1bGUgYm9keSB0ZXh0IHdoaWNoIGlzIHRleHQvcGxhaW5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfFRaRGF0ZX0gW3N0YXJ0XSAtIFRoZSBzdGFydCB0aW1lLiBJdCdzICdzdHJpbmcnIGZvciBpbnB1dC4gSXQncyAnVFpEYXRlJyBmb3Igb3V0cHV0IGxpa2UgZXZlbnQgaGFuZGxlci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfFRaRGF0ZX0gW2VuZF0gLSBUaGUgZW5kIHRpbWUuIEl0J3MgJ3N0cmluZycgZm9yIGlucHV0LiBJdCdzICdUWkRhdGUnIGZvciBvdXRwdXQgbGlrZSBldmVudCBoYW5kbGVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtnb2luZ0R1cmF0aW9uXSAtIFRoZSB0cmF2ZWwgdGltZTogR29pbmcgZHVyYXRpb24gbWludXRlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjb21pbmdEdXJhdGlvbl0gLSBUaGUgdHJhdmVsIHRpbWU6IENvbWluZyBkdXJhdGlvbiBtaW51dGVzXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc0FsbERheV0gLSBUaGUgYWxsIGRheSBzY2hlZHVsZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjYXRlZ29yeV0gLSBUaGUgc2NoZWR1bGUgdHlwZSgnbWlsZXN0b25lJywgJ3Rhc2snLCBhbGxkYXknLCAndGltZScpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2R1ZURhdGVDbGFzc10gLSBUaGUgdGFzayBzY2hlZHVsZSB0eXBlIHN0cmluZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhbnkgc3RyaW5nIHZhbHVlIGlzIG9rIGFuZCBtYW5kYXRvcnkgaWYgY2F0ZWdvcnkgaXMgJ3Rhc2snKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsb2NhdGlvbl0gLSBUaGUgbG9jYXRpb25cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz59IFthdHRlbmRlZXNdIC0gVGhlIGF0dGVuZGVlc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtyZWN1cnJlbmNlUnVsZV0gLSBUaGUgcmVjdXJyZW5jZSBydWxlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc1BlbmRpbmddIC0gVGhlIGluIHByb2dyZXNzIGZsYWcgdG8gZG8gc29tZXRoaW5nIGxpa2UgbmV0d29yayBqb2IoVGhlIHNjaGVkdWxlIHdpbGwgYmUgdHJhbnNwYXJlbnQuKVxuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNGb2N1c2VkXSAtIFRoZSBmb2N1c2VkIHNjaGVkdWxlIGZsYWdcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzVmlzaWJsZV0gLSBUaGUgc2NoZWR1bGUgdmlzaWJpbGl0eSBmbGFnXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc1JlYWRPbmx5XSAtIFRoZSBzY2hlZHVsZSByZWFkLW9ubHkgZmxhZ1xuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNQcml2YXRlXSAtIFRoZSBwcml2YXRlIHNjaGVkdWxlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbG9yXSAtIFRoZSBzY2hlZHVsZSB0ZXh0IGNvbG9yXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2JnQ29sb3JdIC0gVGhlIHNjaGVkdWxlIGJhY2tncm91bmQgY29sb3JcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZHJhZ0JnQ29sb3JdIC0gVGhlIHNjaGVkdWxlIGJhY2tncm91bmQgY29sb3Igd2hlbiBkcmFnZ2luZyBpdFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtib3JkZXJDb2xvcl0gLSBUaGUgc2NoZWR1bGUgbGVmdCBib3JkZXIgY29sb3JcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY3VzdG9tU3R5bGVdIC0gVGhlIHNjaGVkdWxlJ3MgY3VzdG9tIGNzcyBjbGFzc1xuICogQHByb3BlcnR5IHthbnl9IFtyYXddIC0gVGhlIHVzZXIgZGF0YVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzdGF0ZV0gLSBUaGUgc2NoZWR1bGUncyBzdGF0ZSAoJ2J1c3knLCAnZnJlZScpXG4gKi9cblxuLyoqXG4gKiBUZW1wbGF0ZSBmdW5jdGlvbnMgdG8gc3VwcG9ydCBjdXN0b21lciByZW5kZXJlclxuICogQHR5cGVkZWYge29iamVjdH0gVGVtcGxhdGVcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFttaWxlc3RvbmVUaXRsZV0gLSBUaGUgbWlsZXN0b25lIHRpdGxlKGF0IGxlZnQgY29sdW1uKSB0ZW1wbGF0ZSBmdW5jdGlvblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW21pbGVzdG9uZV0gLSBUaGUgbWlsZXN0b25lIHRlbXBsYXRlIGZ1bmN0aW9uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbdGFza1RpdGxlXSAtIFRoZSB0YXNrIHRpdGxlKGF0IGxlZnQgY29sdW1uKSB0ZW1wbGF0ZSBmdW5jdGlvblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW3Rhc2tdIC0gVGhlIHRhc2sgdGVtcGxhdGUgZnVuY3Rpb25cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFthbGxkYXlUaXRsZV0gLSBUaGUgYWxsZGF5IHRpdGxlKGF0IGxlZnQgY29sdW1uKSB0ZW1wbGF0ZSBmdW5jdGlvblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW2FsbGRheV0gLSBUaGUgYWxsZGF5IHRlbXBsYXRlIGZ1bmN0aW9uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbdGltZV0gLSBUaGUgdGltZSB0ZW1wbGF0ZSBmdW5jdGlvblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW2dvaW5nRHVyYXRpb25dIC0gVGhlIHRyYXZlbCB0aW1lKGdvaW5nIGR1cmF0aW9uKSB0ZW1wbGF0ZSBmdW5jdGlvblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW2NvbWluZ0R1cmF0aW9uXSAtIFRoZSB0cmF2ZWwgdGltZShjb21pbmcgZHVyYXRpb24pIHRlbXBsYXRlIGZ1bmN0aW9uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbbW9udGhNb3JlVGl0bGVEYXRlXSAtIFRoZSBtb250aCBtb3JlIGxheWVyIHRpdGxlIHRlbXBsYXRlIGZ1bmN0aW9uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbbW9udGhNb3JlQ2xvc2VdIC0gVGhlIG1vbnRoIG1vcmUgbGF5ZXIgY2xvc2UgYnV0dG9uIHRlbXBsYXRlIGZ1bmN0aW9uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbbW9udGhHcmlkSGVhZGVyXSAtIFRoZSBtb250aCBncmlkIGhlYWRlcihkYXRlLCBkZWNvcmF0b3IsIHRpdGxlKSB0ZW1wbGF0ZSBmdW5jdGlvblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW21vbnRoR3JpZEhlYWRlckV4Y2VlZF0gLSBUaGUgbW9udGggZ3JpZCBoZWFkZXIoZXhjZWVkIHNjaGVkdWxlIGNvdW50KSB0ZW1wbGF0ZSBmdW5jdGlvblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW21vbnRoR3JpZEZvb3Rlcl0gLSBUaGUgbW9udGggZ3JpZCBmb290ZXIoZGF0ZSwgZGVjb3JhdG9yLCB0aXRsZSkgdGVtcGxhdGUgZnVuY3Rpb25cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFttb250aEdyaWRGb290ZXJFeGNlZWRdIC0gVGhlIG1vbnRoIGdyaWQgZm9vdGVyKGV4Y2VlZCBzY2hlZHVsZSBjb3VudCkgdGVtcGxhdGUgZnVuY3Rpb25cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFttb250aERheW5hbWVdIC0gVGhlIG1vbnRobHkgZGF5bmFtZSB0ZW1wbGF0ZSBmdW5jdGlvblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW3dlZWtEYXluYW1lXSAtIFRoZSB3ZWVrbHkgZGF5bmFtZSB0ZW1wbGF0ZSBmdW5jdGlvblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW3dlZWtHcmlkRm9vdGVyRXhjZWVkXSAtIFRoZSB3ZWVrL2RheSBncmlkIGZvb3RlcihleGNlZWQgc2NoZWR1bGUgY291bnQpIHRlbXBsYXRlIGZ1bmN0aW9uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbZGF5R3JpZFRpdGxlXSAtIFRoZSB3ZWVrL2RheSBncmlkIHRpdGxlIHRlbXBsYXRlIGZ1bmN0aW9uKGUuZy4gbWlsZXN0b25lLCB0YXNrLCBhbGxkYXkpXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbc2NoZWR1bGVdIC0gVGhlIHdlZWsvZGF5IHNjaGVkdWxlIHRlbXBsYXRlIGZ1bmN0aW9uKFdoZW4gdGhlIHNjaGVkdWxlIGNhdGVnb3J5IGF0dHJpYnV0ZSBpcyBtaWxlc3RvbmUsIHRhc2ssIG9yIGFsbCBkYXkpXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbY29sbGFwc2VCdG5UaXRsZV0gLSBUaGUgd2Vlay9kYXkgKGV4Y2VlZCBzY2hlZHVsZSBtb3JlIHZpZXcpIGNvbGxhcHNlIGJ1dHRvbiB0aXRsZSB0ZW1wbGF0ZSBmdW5jdGlvblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW3RpbWV6b25lRGlzcGxheUxhYmVsXSAtIFRoZSB0aW1lem9uZSBkaXNwbGF5IGxhYmVsIHRlbXBsYXRlIGZ1bmN0aW9uIGluIHRpbWUgZ3JpZFxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW3RpbWVncmlkRGlzcGxheVByaW1heVRpbWVdIC0gRGVwcmVjYXRlZDogdXNlICd0aW1lZ3JpZERpc3BsYXlQcmltYXJ5VGltZSdcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFt0aW1lZ3JpZERpc3BsYXlQcmltYXJ5VGltZV0gLSBUaGUgZGlzcGxheSBsYWJlbCB0ZW1wbGF0ZSBmdW5jdGlvbiBvZiBwcmltYXJ5IHRpbWV6b25lIGluIHRpbWUgZ3JpZFxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW3RpbWVncmlkRGlzcGxheVRpbWVdIC0gVGhlIGRpc3BsYXkgdGltZSB0ZW1wbGF0ZSBmdW5jdGlvbiBpbiB0aW1lIGdyaWRcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFt0aW1lZ3JpZEN1cnJlbnRUaW1lXSAtIFRoZSBjdXJyZW50IHRpbWUgdGVtcGxhdGUgZnVuY3Rpb24gaW4gdGltZSBncmlkXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbcG9wdXBJc0FsbERheV0gLSBUaGUgYWxsIGRheSBjaGVja2JveCBsYWJlbCB0ZXh0IHRlbXBsYXRlIGZ1bmN0aW9uIGluIHRoZSBkZWZhdWx0IGNyZWF0aW9uIHBvcHVwXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbcG9wdXBTdGF0ZUZyZWVdIC0gVGhlIGZyZWUgb3B0aW9uIHRlbXBsYXRlIGZ1bmN0aW9uIGluIHRoZSBzdGF0ZSBzZWxlY3QgYm94IG9mIHRoZSBkZWZhdWx0IGNyZWF0aW9uIHBvcHVwXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbcG9wdXBTdGF0ZUJ1c3ldIC0gVGhlIGJ1c3kgb3B0aW9uIHRlbXBsYXRlIGZ1bmN0aW9uIGluIHRoZSBzdGF0ZSBzZWxlY3QgYm94IG9mIHRoZSBkZWZhdWx0IGNyZWF0aW9uIHBvcHVwXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbdGl0bGVQbGFjZWhvbGRlcl0gLSBUaGUgdGl0bGUgaW5wdXQgcGxhY2Vob2xkZXIgdGV4dCB0ZW1wbGF0ZSBmdW5jdGlvbiBpbiB0aGUgZGVmYXVsdCBjcmVhdGlvbiBwb3B1cFxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW2xvY2F0aW9uUGxhY2Vob2xkZXJdIC0gVGhlIGxvY2F0aW9uIGlucHV0IHBsYWNlaG9sZGVyIHRleHQgdGVtcGxhdGUgZnVuY3Rpb24gaW4gdGhlIGRlZmF1bHQgY3JlYXRpb24gcG9wdXBcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtzdGFydERhdGVQbGFjZWhvbGRlcl0gLSBUaGUgc3RhcnQgZGF0ZSBpbnB1dCBwbGFjZWhvbGRlciB0ZXh0IHRlbXBsYXRlIGZ1bmN0aW9uIGluIHRoZSBkZWZhdWx0IGNyZWF0aW9uIHBvcHVwXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbZW5kRGF0ZVBsYWNlaG9sZGVyXSAtIFRoZSBlbmQgZGF0ZSBpbnB1dCBwbGFjZWhvbGRlciB0ZXh0IHRlbXBsYXRlIGZ1bmN0aW9uIGluIHRoZSBkZWZhdWx0IGNyZWF0aW9uIHBvcHVwXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbcG9wdXBTYXZlXSAtIFRoZSAnU2F2ZScgYnV0dG9uIHRleHQgdGVtcGxhdGUgZnVuY3Rpb24gaW4gdGhlIGRlZmF1bHQgY3JlYXRpb24gcG9wdXBcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtwb3B1cFVwZGF0ZV0gLSBUaGUgJ1VwZGF0ZScgYnV0dG9uIHRleHQgdGVtcGxhdGUgZnVuY3Rpb24gaW4gdGhlIGRlZmF1bHQgY3JlYXRpb24gcG9wdXAgd2hlbiBpbiBlZGl0IG1vZGVcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtwb3B1cERldGFpbERhdGVdIC0gVGhlIHNjaGVkdWxlIGRhdGUgaW5mb3JtYXRpb24ncyB0ZW1wbGF0ZSBmdW5jdGlvbiBvbiB0aGUgZGVmYXVsdCBkZXRhaWwgcG9wdXBcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtwb3B1cERldGFpbExvY2F0aW9uXSAtIFRoZSBzY2hlZHVsZSBsb2NhdGlvbiB0ZXh0IGluZm9ybWF0aW9uJ3MgdGVtcGxhdGUgZnVuY3Rpb24gb24gdGhlIGRlZmF1bHQgZGV0YWlsIHBvcHVwXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbcG9wdXBEZXRhaWxVc2VyXSAtIFRoZSBzY2hlZHVsZSB1c2VyIHRleHQgaW5mb3JtYXRpb24ncyB0ZW1wbGF0ZSBmdW5jdGlvbiBvbiB0aGUgZGVmYXVsdCBkZXRhaWwgcG9wdXBcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtwb3B1cERldGFpbFN0YXRlXSAtIFRoZSBzY2hlZHVsZSBzdGF0ZShidXN5IG9yIGZyZWUpIHRleHQgaW5mb3JtYXRpb24ncyB0ZW1wbGF0ZSBmdW5jdGlvbiBvbiB0aGUgZGVmYXVsdCBkZXRhaWwgcG9wdXBcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtwb3B1cERldGFpbFJlcGVhdF0gLSBUaGUgc2NoZWR1bGUgcmVwZWF0IGluZm9ybWF0aW9uJ3MgdGVtcGxhdGUgZnVuY3Rpb24gb24gdGhlIGRlZmF1bHQgZGV0YWlsIHBvcHVwXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbcG9wdXBEZXRhaWxCb2R5XSAtIFRoZSBzY2hlZHVsZSBib2R5IHRleHQgaW5mb3JtYXRpb24ncyB0ZW1wbGF0ZSBmdW5jdGlvbiBvbiB0aGUgZGVmYXVsdCBkZXRhaWwgcG9wdXBcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtwb3B1cEVkaXRdIC0gVGhlICdFZGl0JyBidXR0b24gdGV4dCB0ZW1wbGF0ZSBmdW5jdGlvbiBvbiB0aGUgZGVmYXVsdCBkZXRhaWwgcG9wdXBcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtwb3B1cERlbGV0ZV0gLSBUaGUgJ0RlbGV0ZScgYnV0dG9uIHRleHQgdGVtcGxhdGUgZnVuY3Rpb24gb24gdGhlIGRlZmF1bHQgZGV0YWlsIHBvcHVwXG4gKiBAZXhhbXBsZVxuICogdmFyIGNhbGVuZGFyID0gbmV3IHR1aS5DYWxlbmRhcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXInKSwge1xuICogICAgIC4uLlxuICogICAgIHRlbXBsYXRlOiB7XG4gKiAgICAgICAgIG1pbGVzdG9uZTogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAqICAgICAgICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJjYWxlbmRhci1mb250LWljb24gaWMtbWlsZXN0b25lLWJcIj48L3NwYW4+IDxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogJyArIHNjaGVkdWxlLmJnQ29sb3IgKyAnXCI+JyArIHNjaGVkdWxlLnRpdGxlICsgJzwvc3Bhbj4nO1xuICogICAgICAgICB9LFxuICogICAgICAgICBtaWxlc3RvbmVUaXRsZTogZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwidHVpLWZ1bGwtY2FsZW5kYXItbGVmdC1jb250ZW50XCI+TUlMRVNUT05FPC9zcGFuPic7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHRhc2s6IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJyMnICsgc2NoZWR1bGUudGl0bGU7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHRhc2tUaXRsZTogZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwidHVpLWZ1bGwtY2FsZW5kYXItbGVmdC1jb250ZW50XCI+VEFTSzwvc3Bhbj4nO1xuICogICAgICAgICB9LFxuICogICAgICAgICBhbGxkYXk6IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gZ2V0VGltZVRlbXBsYXRlKHNjaGVkdWxlLCB0cnVlKTtcbiAqICAgICAgICAgfSxcbiAqICAgICAgICAgYWxsZGF5VGl0bGU6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cInR1aS1mdWxsLWNhbGVuZGFyLWxlZnQtY29udGVudFwiPkFMTCBEQVk8L3NwYW4+JztcbiAqICAgICAgICAgfSxcbiAqICAgICAgICAgdGltZTogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAqICAgICAgICAgICAgIHJldHVybiAnPHN0cm9uZz4nICsgbW9tZW50KHNjaGVkdWxlLnN0YXJ0LmdldFRpbWUoKSkuZm9ybWF0KCdISDptbScpICsgJzwvc3Ryb25nPiAnICsgc2NoZWR1bGUudGl0bGU7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIGdvaW5nRHVyYXRpb246IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiY2FsZW5kYXItaWNvbiBpYy10cmF2ZWwtdGltZVwiPjwvc3Bhbj4nICsgc2NoZWR1bGUuZ29pbmdEdXJhdGlvbiArICdtaW4uJztcbiAqICAgICAgICAgfSxcbiAqICAgICAgICAgY29taW5nRHVyYXRpb246IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiY2FsZW5kYXItaWNvbiBpYy10cmF2ZWwtdGltZVwiPjwvc3Bhbj4nICsgc2NoZWR1bGUuY29taW5nRHVyYXRpb24gKyAnbWluLic7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIG1vbnRoTW9yZVRpdGxlRGF0ZTogZnVuY3Rpb24oZGF0ZSwgZGF5bmFtZSkge1xuICogICAgICAgICAgICAgdmFyIGRheSA9IGRhdGUuc3BsaXQoJy4nKVsyXTtcbiAqXG4gKiAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwidHVpLWZ1bGwtY2FsZW5kYXItbW9udGgtbW9yZS10aXRsZS1kYXlcIj4nICsgZGF5ICsgJzwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0dWktZnVsbC1jYWxlbmRhci1tb250aC1tb3JlLXRpdGxlLWRheS1sYWJlbFwiPicgKyBkYXluYW1lICsgJzwvc3Bhbj4nO1xuICogICAgICAgICB9LFxuICogICAgICAgICBtb250aE1vcmVDbG9zZTogZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwidHVpLWZ1bGwtY2FsZW5kYXItaWNvbiB0dWktZnVsbC1jYWxlbmRhci1pYy1jbG9zZVwiPjwvc3Bhbj4nO1xuICogICAgICAgICB9LFxuICogICAgICAgICBtb250aEdyaWRIZWFkZXI6IGZ1bmN0aW9uKGRheU1vZGVsKSB7XG4gKiAgICAgICAgICAgICB2YXIgZGF0ZSA9IHBhcnNlSW50KGRheU1vZGVsLmRhdGUuc3BsaXQoJy0nKVsyXSwgMTApO1xuICogICAgICAgICAgICAgdmFyIGNsYXNzTmFtZXMgPSBbJ3R1aS1mdWxsLWNhbGVuZGFyLXdlZWtkYXktZ3JpZC1kYXRlICddO1xuICpcbiAqICAgICAgICAgICAgIGlmIChkYXlNb2RlbC5pc1RvZGF5KSB7XG4gKiAgICAgICAgICAgICAgICAgY2xhc3NOYW1lcy5wdXNoKCd0dWktZnVsbC1jYWxlbmRhci13ZWVrZGF5LWdyaWQtZGF0ZS1kZWNvcmF0b3InKTtcbiAqICAgICAgICAgICAgIH1cbiAqXG4gKiAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiJyArIGNsYXNzTmFtZXMuam9pbignICcpICsgJ1wiPicgKyBkYXRlICsgJzwvc3Bhbj4nO1xuICogICAgICAgICB9LFxuICogICAgICAgICBtb250aEdyaWRIZWFkZXJFeGNlZWQ6IGZ1bmN0aW9uKGhpZGRlblNjaGVkdWxlcykge1xuICogICAgICAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIndlZWtkYXktZ3JpZC1tb3JlLXNjaGVkdWxlc1wiPisnICsgaGlkZGVuU2NoZWR1bGVzICsgJzwvc3Bhbj4nO1xuICogICAgICAgICB9LFxuICogICAgICAgICBtb250aEdyaWRGb290ZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgcmV0dXJuICcnO1xuICogICAgICAgICB9LFxuICogICAgICAgICBtb250aEdyaWRGb290ZXJFeGNlZWQ6IGZ1bmN0aW9uKGhpZGRlblNjaGVkdWxlcykge1xuICogICAgICAgICAgICAgcmV0dXJuICcnO1xuICogICAgICAgICB9LFxuICogICAgICAgICBtb250aERheW5hbWU6IGZ1bmN0aW9uKG1vZGVsKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gKG1vZGVsLmxhYmVsKS50b1N0cmluZygpLnRvTG9jYWxlVXBwZXJDYXNlKCk7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHdlZWtEYXluYW1lOiBmdW5jdGlvbihtb2RlbCkge1xuICogICAgICAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cInR1aS1mdWxsLWNhbGVuZGFyLWRheW5hbWUtZGF0ZVwiPicgKyBtb2RlbC5kYXRlICsgJzwvc3Bhbj4mbmJzcDsmbmJzcDs8c3BhbiBjbGFzcz1cInR1aS1mdWxsLWNhbGVuZGFyLWRheW5hbWUtbmFtZVwiPicgKyBtb2RlbC5kYXlOYW1lICsgJzwvc3Bhbj4nO1xuICogICAgICAgICB9LFxuICogICAgICAgICB3ZWVrR3JpZEZvb3RlckV4Y2VlZDogZnVuY3Rpb24oaGlkZGVuU2NoZWR1bGVzKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJysnICsgaGlkZGVuU2NoZWR1bGVzO1xuICogICAgICAgICB9LFxuICogICAgICAgICBkYXlHcmlkVGl0bGU6IGZ1bmN0aW9uKHZpZXdOYW1lKSB7XG4gKlxuICogICAgICAgICAgICAgLy8gdXNlIGFub3RoZXIgZnVuY3Rpb25zIGluc3RlYWQgb2YgJ2RheUdyaWRUaXRsZSdcbiAqICAgICAgICAgICAgIC8vIG1pbGVzdG9uZVRpdGxlOiBmdW5jdGlvbigpIHsuLi59XG4gKiAgICAgICAgICAgICAvLyB0YXNrVGl0bGU6IGZ1bmN0aW9uKCkgey4uLn1cbiAqICAgICAgICAgICAgIC8vIGFsbGRheVRpdGxlOiBmdW5jdGlvbigpIHsuLi59XG4gKlxuICogICAgICAgICAgICAgdmFyIHRpdGxlID0gJyc7XG4gKiAgICAgICAgICAgICBzd2l0Y2godmlld05hbWUpIHtcbiAqICAgICAgICAgICAgICAgICBjYXNlICdtaWxlc3RvbmUnOlxuICogICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICc8c3BhbiBjbGFzcz1cInR1aS1mdWxsLWNhbGVuZGFyLWxlZnQtY29udGVudFwiPk1JTEVTVE9ORTwvc3Bhbj4nO1xuICogICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAqICAgICAgICAgICAgICAgICBjYXNlICd0YXNrJzpcbiAqICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAnPHNwYW4gY2xhc3M9XCJ0dWktZnVsbC1jYWxlbmRhci1sZWZ0LWNvbnRlbnRcIj5UQVNLPC9zcGFuPic7XG4gKiAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICogICAgICAgICAgICAgICAgIGNhc2UgJ2FsbGRheSc6XG4gKiAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gJzxzcGFuIGNsYXNzPVwidHVpLWZ1bGwtY2FsZW5kYXItbGVmdC1jb250ZW50XCI+QUxMIERBWTwvc3Bhbj4nO1xuICogICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAqICAgICAgICAgICAgIH1cbiAqXG4gKiAgICAgICAgICAgICByZXR1cm4gdGl0bGU7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHNjaGVkdWxlOiBmdW5jdGlvbihzY2hlZHVsZSkge1xuICpcbiAqICAgICAgICAgICAgIC8vIHVzZSBhbm90aGVyIGZ1bmN0aW9ucyBpbnN0ZWFkIG9mICdzY2hlZHVsZSdcbiAqICAgICAgICAgICAgIC8vIG1pbGVzdG9uZTogZnVuY3Rpb24oKSB7Li4ufVxuICogICAgICAgICAgICAgLy8gdGFzazogZnVuY3Rpb24oKSB7Li4ufVxuICogICAgICAgICAgICAgLy8gYWxsZGF5OiBmdW5jdGlvbigpIHsuLi59XG4gKlxuICogICAgICAgICAgICAgdmFyIHRwbDtcbiAqXG4gKiAgICAgICAgICAgICBzd2l0Y2goY2F0ZWdvcnkpIHtcbiAqICAgICAgICAgICAgICAgICBjYXNlICdtaWxlc3RvbmUnOlxuICogICAgICAgICAgICAgICAgICAgICB0cGwgPSAnPHNwYW4gY2xhc3M9XCJjYWxlbmRhci1mb250LWljb24gaWMtbWlsZXN0b25lLWJcIj48L3NwYW4+IDxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogJyArIHNjaGVkdWxlLmJnQ29sb3IgKyAnXCI+JyArIHNjaGVkdWxlLnRpdGxlICsgJzwvc3Bhbj4nO1xuICogICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAqICAgICAgICAgICAgICAgICBjYXNlICd0YXNrJzpcbiAqICAgICAgICAgICAgICAgICAgICAgdHBsID0gJyMnICsgc2NoZWR1bGUudGl0bGU7XG4gKiAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICogICAgICAgICAgICAgICAgIGNhc2UgJ2FsbGRheSc6XG4gKiAgICAgICAgICAgICAgICAgICAgIHRwbCA9IGdldFRpbWVUZW1wbGF0ZShzY2hlZHVsZSwgdHJ1ZSk7XG4gKiAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICogICAgICAgICAgICAgfVxuICpcbiAqICAgICAgICAgICAgIHJldHVybiB0cGw7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIGNvbGxhcHNlQnRuVGl0bGU6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cInR1aS1mdWxsLWNhbGVuZGFyLWljb24gdHVpLWZ1bGwtY2FsZW5kYXItaWMtYXJyb3ctc29saWQtdG9wXCI+PC9zcGFuPic7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHRpbWV6b25lRGlzcGxheUxhYmVsOiBmdW5jdGlvbih0aW1lem9uZU9mZnNldCwgZGlzcGxheUxhYmVsKSB7XG4gKiAgICAgICAgICAgICB2YXIgZ210LCBob3VyLCBtaW51dGVzO1xuICpcbiAqICAgICAgICAgICAgIGlmICghZGlzcGxheUxhYmVsKSB7XG4gKiAgICAgICAgICAgICAgICAgZ210ID0gdGltZXpvbmVPZmZzZXQgPCAwID8gJy0nIDogJysnO1xuICogICAgICAgICAgICAgICAgIGhvdXIgPSBNYXRoLmFicyhwYXJzZUludCh0aW1lem9uZU9mZnNldCAvIDYwLCAxMCkpO1xuICogICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBNYXRoLmFicyh0aW1lem9uZU9mZnNldCAlIDYwKTtcbiAqICAgICAgICAgICAgICAgICBkaXNwbGF5TGFiZWwgPSBnbXQgKyBnZXRQYWRTdGFydChob3VyKSArICc6JyArIGdldFBhZFN0YXJ0KG1pbnV0ZXMpO1xuICogICAgICAgICAgICAgfVxuICpcbiAqICAgICAgICAgICAgIHJldHVybiBkaXNwbGF5TGFiZWw7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHRpbWVncmlkRGlzcGxheVByaW1heVRpbWU6IGZ1bmN0aW9uKHRpbWUpIHtcbiAqICAgICAgICAgICAgIC8vIHdpbGwgYmUgZGVwcmVjYXRlZC4gdXNlICd0aW1lZ3JpZERpc3BsYXlQcmltYXJ5VGltZSdcbiAqICAgICAgICAgICAgIHZhciBtZXJpZGllbSA9ICdhbSc7XG4gKiAgICAgICAgICAgICB2YXIgaG91ciA9IHRpbWUuaG91cjtcbiAqXG4gKiAgICAgICAgICAgICBpZiAodGltZS5ob3VyID4gMTIpIHtcbiAqICAgICAgICAgICAgICAgICBtZXJpZGllbSA9ICdwbSc7XG4gKiAgICAgICAgICAgICAgICAgaG91ciA9IHRpbWUuaG91ciAtIDEyO1xuICogICAgICAgICAgICAgfVxuICpcbiAqICAgICAgICAgICAgIHJldHVybiBob3VyICsgJyAnICsgbWVyaWRpZW07XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHRpbWVncmlkRGlzcGxheVByaW1hcnlUaW1lOiBmdW5jdGlvbih0aW1lKSB7XG4gKiAgICAgICAgICAgICB2YXIgbWVyaWRpZW0gPSAnYW0nO1xuICogICAgICAgICAgICAgdmFyIGhvdXIgPSB0aW1lLmhvdXI7XG4gKlxuICogICAgICAgICAgICAgaWYgKHRpbWUuaG91ciA+IDEyKSB7XG4gKiAgICAgICAgICAgICAgICAgbWVyaWRpZW0gPSAncG0nO1xuICogICAgICAgICAgICAgICAgIGhvdXIgPSB0aW1lLmhvdXIgLSAxMjtcbiAqICAgICAgICAgICAgIH1cbiAqXG4gKiAgICAgICAgICAgICByZXR1cm4gaG91ciArICcgJyArIG1lcmlkaWVtO1xuICogICAgICAgICB9LFxuICogICAgICAgICB0aW1lZ3JpZERpc3BsYXlUaW1lOiBmdW5jdGlvbih0aW1lKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gZ2V0UGFkU3RhcnQodGltZS5ob3VyKSArICc6JyArIGdldFBhZFN0YXJ0KHRpbWUuaG91cik7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHRpbWVncmlkQ3VycmVudFRpbWU6IGZ1bmN0aW9uKHRpbWV6b25lKSB7XG4gKiAgICAgICAgICAgICB2YXIgdGVtcGxhdGVzID0gW107XG4gKlxuICogICAgICAgICAgICAgaWYgKHRpbWV6b25lLmRhdGVEaWZmZXJlbmNlKSB7XG4gKiAgICAgICAgICAgICAgICAgdGVtcGxhdGVzLnB1c2goJ1snICsgdGltZXpvbmUuZGF0ZURpZmZlcmVuY2VTaWduICsgdGltZXpvbmUuZGF0ZURpZmZlcmVuY2UgKyAnXTxicj4nKTtcbiAqICAgICAgICAgICAgIH1cbiAqXG4gKiAgICAgICAgICAgICB0ZW1wbGF0ZXMucHVzaChtb21lbnQodGltZXpvbmUuaG91cm1hcmtlcikuZm9ybWF0KCdISDptbSBhJykpO1xuICpcbiAqICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZXMuam9pbignJyk7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHBvcHVwSXNBbGxEYXk6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgcmV0dXJuICdBbGwgRGF5JztcbiAqICAgICAgICAgfSxcbiAqICAgICAgICAgcG9wdXBTdGF0ZUZyZWU6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgcmV0dXJuICdGcmVlJztcbiAqICAgICAgICAgfSxcbiAqICAgICAgICAgcG9wdXBTdGF0ZUJ1c3k6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgcmV0dXJuICdCdXN5JztcbiAqICAgICAgICAgfSxcbiAqICAgICAgICAgdGl0bGVQbGFjZWhvbGRlcjogZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJ1N1YmplY3QnO1xuICogICAgICAgICB9LFxuICogICAgICAgICBsb2NhdGlvblBsYWNlaG9sZGVyOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIHJldHVybiAnTG9jYXRpb24nO1xuICogICAgICAgICB9LFxuICogICAgICAgICBzdGFydERhdGVQbGFjZWhvbGRlcjogZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJ1N0YXJ0IGRhdGUnO1xuICogICAgICAgICB9LFxuICogICAgICAgICBlbmREYXRlUGxhY2Vob2xkZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgcmV0dXJuICdFbmQgZGF0ZSc7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHBvcHVwU2F2ZTogZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJ1NhdmUnO1xuICogICAgICAgICB9LFxuICogICAgICAgICBwb3B1cFVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJ1VwZGF0ZSc7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHBvcHVwRGV0YWlsRGF0ZTogZnVuY3Rpb24oaXNBbGxEYXksIHN0YXJ0LCBlbmQpIHtcbiAqICAgICAgICAgICAgIHZhciBpc1NhbWVEYXRlID0gbW9tZW50KHN0YXJ0KS5pc1NhbWUoZW5kKTtcbiAqICAgICAgICAgICAgIHZhciBlbmRGb3JtYXQgPSAoaXNTYW1lRGF0ZSA/ICcnIDogJ1lZWVkuTU0uREQgJykgKyAnaGg6bW0gYSc7XG4gKlxuICogICAgICAgICAgICAgaWYgKGlzQWxsRGF5KSB7XG4gKiAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbWVudChzdGFydCkuZm9ybWF0KCdZWVlZLk1NLkREJykgKyAoaXNTYW1lRGF0ZSA/ICcnIDogJyAtICcgKyBtb21lbnQoZW5kKS5mb3JtYXQoJ1lZWVkuTU0uREQnKSk7XG4gKiAgICAgICAgICAgICB9XG4gKlxuICogICAgICAgICAgICAgcmV0dXJuIChtb21lbnQoc3RhcnQpLmZvcm1hdCgnWVlZWS5NTS5ERCBoaDptbSBhJykgKyAnIC0gJyArIG1vbWVudChlbmQpLmZvcm1hdChlbmRGb3JtYXQpKTtcbiAqICAgICAgICAgfSxcbiAqICAgICAgICAgcG9wdXBEZXRhaWxMb2NhdGlvbjogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAqICAgICAgICAgICAgIHJldHVybiAnTG9jYXRpb24gOiAnICsgc2NoZWR1bGUubG9jYXRpb247XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHBvcHVwRGV0YWlsVXNlcjogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAqICAgICAgICAgICAgIHJldHVybiAnVXNlciA6ICcgKyAoc2NoZWR1bGUuYXR0ZW5kZWVzIHx8IFtdKS5qb2luKCcsICcpO1xuICogICAgICAgICB9LFxuICogICAgICAgICBwb3B1cERldGFpbFN0YXRlOiBmdW5jdGlvbihzY2hlZHVsZSkge1xuICogICAgICAgICAgICAgcmV0dXJuICdTdGF0ZSA6ICcgKyBzY2hlZHVsZS5zdGF0ZSB8fCAnQnVzeSc7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHBvcHVwRGV0YWlsUmVwZWF0OiBmdW5jdGlvbihzY2hlZHVsZSkge1xuICogICAgICAgICAgICAgcmV0dXJuICdSZXBlYXQgOiAnICsgc2NoZWR1bGUucmVjdXJyZW5jZVJ1bGU7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHBvcHVwRGV0YWlsQm9keTogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAqICAgICAgICAgICAgIHJldHVybiAnQm9keSA6ICcgKyBzY2hlZHVsZS5ib2R5O1xuICogICAgICAgICB9LFxuICogICAgICAgICBwb3B1cEVkaXQ6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgcmV0dXJuICdFZGl0JztcbiAqICAgICAgICAgfSxcbiAqICAgICAgICAgcG9wdXBEZWxldGU6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgcmV0dXJuICdEZWxldGUnO1xuICogICAgICAgICB9XG4gKiAgICAgfVxuICogfVxuICovXG5cbi8qKlxuICogT3B0aW9ucyBmb3IgZGFpbHksIHdlZWtseSB2aWV3LlxuICogQHR5cGVkZWYge29iamVjdH0gV2Vla09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc3RhcnREYXlPZldlZWs9MF0gLSBUaGUgc3RhcnQgZGF5IG9mIHdlZWssXG4gKiBAcHJvcGVydHkge0FycmF5LjxzdHJpbmc+fSBbZGF5bmFtZXNdIC0gVGhlIGRheSBuYW1lcyBpbiB3ZWVrbHkgYW5kIGRhaWx5LiBEZWZhdWx0IHZhbHVlcyBhcmUgWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbbmFycm93V2Vla2VuZD1mYWxzZV0gLSBNYWtlIHdlZWtlbmQgY29sdW1uIG5hcnJvdygxLzIgd2lkdGgpXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3b3Jrd2Vlaz1mYWxzZV0gLSBTaG93IG9ubHkgNSBkYXlzIGV4Y2VwdCBmb3Igd2Vla2VuZFxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hvd1RpbWV6b25lQ29sbGFwc2VCdXR0b249ZmFsc2VdIC0gU2hvdyBhIGNvbGxhcHNlIGJ1dHRvbiB0byBjbG9zZSBtdWx0aXBsZSB0aW1lem9uZXNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3RpbWV6b25lc0NvbGxhcHNlZD1mYWxzZV0gLSBBbiBpbml0aWFsIG11bHRpcGxlIHRpbWV6b25lcyBjb2xsYXBzZWQgc3RhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaG91clN0YXJ0PTBdIC0gQ2FuIGxpbWl0IG9mIHJlbmRlciBob3VyIHN0YXJ0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtob3VyRW5kPTI0XSAtIENhbiBsaW1pdCBvZiByZW5kZXIgaG91ciBlbmQuXG4gKi9cblxuLyoqXG4gKiBPcHRpb25zIGZvciBtb250aGx5IHZpZXcuXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBNb250aE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz59IFtkYXluYW1lc10gLSBUaGUgZGF5IG5hbWVzIGluIG1vbnRobHkuIERlZmF1bHQgdmFsdWVzIGFyZSBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3N0YXJ0RGF5T2ZXZWVrPTBdIC0gVGhlIHN0YXJ0IGRheSBvZiB3ZWVrXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtuYXJyb3dXZWVrZW5kPWZhbHNlXSAtIE1ha2Ugd2Vla2VuZCBjb2x1bW4gbmFycm93KDEvMiB3aWR0aClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdmlzaWJsZVdlZWtzQ291bnQ9Nl0gLSBUaGUgdmlzaWJsZSB3ZWVrIGNvdW50IGluIG1vbnRobHkoMCBvciBudWxsIGFyZSBzYW1lIHdpdGggNilcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzQWx3YXlzNldlZWs9dHJ1ZV0gLSBBbHdheXMgc2hvdyA2IHdlZWtzLiBJZiBmYWxzZSwgc2hvdyA1IHdlZWtzIG9yIDYgd2Vla3MgYmFzZWQgb24gdGhlIG1vbnRoLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd29ya3dlZWs9ZmFsc2VdIC0gU2hvdyBvbmx5IDUgZGF5cyBleGNlcHQgZm9yIHdlZWtlbmRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdmlzaWJsZVNjaGVkdWxlQ291bnRdIC0gVGhlIHZpc2libGUgc2NoZWR1bGUgY291bnQgaW4gbW9udGhseSBncmlkXG4gKiBAcHJvcGVydHkge29iamVjdH0gW21vcmVMYXllclNpemVdIC0gVGhlIG1vcmUgbGF5ZXIgc2l6ZVxuICogQHByb3BlcnR5IHtvYmplY3R9IFttb3JlTGF5ZXJTaXplLndpZHRoPW51bGxdIC0gVGhlIGNzcyB3aWR0aCB2YWx1ZShweCwgJ2F1dG8nKS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgZGVmYXVsdCB2YWx1ZSAnbnVsbCcgaXMgdG8gZml0IGEgZ3JpZCBjZWxsLlxuICogQHByb3BlcnR5IHtvYmplY3R9IFttb3JlTGF5ZXJTaXplLmhlaWdodD1udWxsXSAtIFRoZSBjc3MgaGVpZ2h0IHZhbHVlKHB4LCAnYXV0bycpLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgZGVmYXVsdCB2YWx1ZSAnbnVsbCcgaXMgdG8gZml0IGEgZ3JpZCBjZWxsLlxuICogQHByb3BlcnR5IHtvYmplY3R9IFtncmlkXSAtIFRoZSBncmlkJ3MgaGVhZGVyIGFuZCBmb290ZXIgaW5mb3JtYXRpb25cbiAqICBAcHJvcGVydHkge29iamVjdH0gW2dyaWQuaGVhZGVyXSAtIFRoZSBncmlkJ3MgaGVhZGVyIGluZm9ybWF0aW9pblxuICogICBAcHJvcGVydHkge251bWJlcn0gW2dyaWQuaGVhZGVyLmhlaWdodD0zNF0gLSBUaGUgZ3JpZCdzIGhlYWRlciBoZWlnaHRcbiAqICBAcHJvcGVydHkge29iamVjdH0gW2dyaWQuZm9vdGVyXSAtIFRoZSBncmlkJ3MgZm9vdGVyIGluZm9ybWF0aW9pblxuICogICBAcHJvcGVydHkge251bWJlcn0gW2dyaWQuZm9vdGVyLmhlaWdodD0zNF0gLSBUaGUgZ3JpZCdzIGZvb3RlciBoZWlnaHRcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtzY2hlZHVsZUZpbHRlcj1udWxsXSAtIFRoZSBmaWx0ZXIgc2NoZWR1bGVzIG9uIG1vbnRoIHZpZXcuIEEgcGFyYW1ldGVyIGlzIHtTY2hlZHVsZX0gb2JqZWN0LlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gQ2FsZW5kYXJDb2xvclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjb2xvcl0gLSBUaGUgY2FsZW5kYXIgY29sb3JcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYmdDb2xvcl0gLSBUaGUgY2FsZW5kYXIgYmFja2dyb3VuZCBjb2xvclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtib3JkZXJDb2xvcl0gLSBUaGUgY2FsZW5kYXIgbGVmdCBib3JkZXIgY29sb3JcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZHJhZ0JnQ29sb3JdIC0gVGhlIEJhY2tncm91bmQgY29sb3IgZGlzcGxheWVkIHdoZW4geW91IGRyYWcgYSBjYWxlbmRhcidzIHNjaGVkdWxlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBUaW1lem9uZVxuICogQHByb3BlcnR5IHtBcnJheS48Wm9uZT59IFt6b25lc10gLSB7QGxpbmsgWm9uZX0gYXJyYXkuIFNldCB0aGUgbGlzdCBvZiB0aW1lIHpvbmVzLlxuICogIFRoZSBmaXJzdCB6b25lIGVsZW1lbnQgaXMgcHJpbWFyeVxuICogIFRoZSByZXN0IHpvbmUgZWxlbWVudHMgYXJlIHNob3duIGluIGxlZnQgdGltZWdyaWQgb2Ygd2Vla2x5L2RhaWx5IHZpZXdcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtvZmZzZXRDYWxjdWxhdG9yID0gbnVsbF0gLSBJZiB5b3UgZGVmaW5lIHRoZSAnb2Zmc2V0Q2FsY3VsYXRvcicgcHJvcGVydHksIHRoZSBvZmZzZXQgY2FsY3VsYXRpb24gaXMgZG9uZSB3aXRoIHRoaXMgZnVuY3Rpb24uXG4gKiBUaGUgb2Zmc2V0Q2FsY3VsYXRvciBvcHRpb24gYWxsb3dzIHlvdSB0byBzZXQgdXAgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHRpbWV6b25lIG9mZnNldCBmb3IgdGhhdCB0aW1lIHVzaW5nIGRhdGUgbGlicmFyaWVzIGxpa2UgWydqcy1qb2RhJ10oaHR0cHM6Ly9qcy1qb2RhLmdpdGh1Yi5pby9qcy1qb2RhLykgYW5kIFsnbW9tZW50LXRpbWV6b25lJ10oaHR0cHM6Ly9tb21lbnRqcy5jb20vdGltZXpvbmUvKS5cbiAqIFRoZSAnb2Zmc2V0Q2FsY3VsYXRvcicgb3B0aW9uIGlzIHVzZWZ1bCB3aGVuIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0ICdJbnRsLkRhdGVUaW1lRm9ybWF0JyBhbmQgJ2Zvcm1hdFRvUGFydCcsIG9yIHlvdSB3YW50IHRvIHVzZSB0aGUgZGF0ZSBsaWJyYXJ5IHlvdSBhcmUgZmFtaWxpYXIgd2l0aC5cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGNhbCA9IG5ldyBDYWxlbmRhcignI2NhbGVuZGFyJywge1xuICogICB0aW1lem9uZToge1xuICogICAgIHpvbmVzOiBbXG4gKiAgICAgICB7XG4gKiAgICAgICAgIHRpbWV6b25lTmFtZTogJ0FzaWEvU2VvdWwnLFxuICogICAgICAgICBkaXNwbGF5TGFiZWw6ICdHTVQrMDk6MDAnLFxuICogICAgICAgICB0b29sdGlwOiAnU2VvdWwnXG4gKiAgICAgICB9LFxuICogICAgICAge1xuICogICAgICAgICB0aW1lem9uZU5hbWU6ICdBbWVyaWNhL05ld19Zb3JrJyxcbiAqICAgICAgICAgZGlzcGxheUxhYmVsOiAnR01ULTA1OjAwJyxcbiAqICAgICAgICAgdG9vbHRpcDogJ05ldyBZb3JrJyxcbiAqICAgICAgIH1cbiAqICAgICBdLFxuICogICAgIG9mZnNldENhbGN1bGF0b3I6IGZ1bmN0aW9uKHRpbWV6b25lTmFtZSwgdGltZXN0YW1wKXtcbiAqICAgICAgIC8vIG1hdGNoZXMgJ2dldFRpbWV6b25lT2Zmc2V0KCknIG9mIERhdGUgQVBJXG4gKiAgICAgICAvLyBlLmcuICswOTowMCA9PiAtNTQwLCAtMDQ6MDAgPT4gMjQwXG4gKiAgICAgICByZXR1cm4gbW9tZW50LnR6LnpvbmUodGltZXpvbmVOYW1lKS51dGNPZmZzZXQodGltZXN0YW1wKTtcbiAqICAgICB9LFxuICogICB9XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFpvbmVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdGltZXpvbmVOYW1lXSAtIHRpbWV6b25lIG5hbWUgKHRpbWUgem9uZSBuYW1lcyBvZiB0aGUgSUFOQSB0aW1lIHpvbmUgZGF0YWJhc2UsIHN1Y2ggYXMgJ0FzaWEvU2VvdWwnLCAnQW1lcmljYS9OZXdfWW9yaycpLlxuICogIEJhc2ljYWxseSwgaXQgd2lsbCBjYWxjdWxhdGUgdGhlIG9mZnNldCB1c2luZyAnSW50bC5EYXRlVGltZUZvcm1hdCcgd2l0aCB0aGUgdmFsdWUgb2YgdGhlIHRoaXMgcHJvcGVydHkgZW50ZXJlZC5cbiAqICBUaGlzIHByb3BlcnR5IGlzIHJlcXVpcmVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtkaXNwbGF5TGFiZWxdIC0gIFRoZSBkaXNwbGF5IGxhYmVsIG9mIHlvdXIgdGltZXpvbmUgYXQgd2Vla2x5L2RhaWx5IHZpZXcoZS5nLiAnR01UKzA5OjAwJylcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdG9vbHRpcF0gLSAgVGhlIHRvb2x0aXAoZS5nLiAnU2VvdWwnKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lem9uZU9mZnNldF0gLSBUaGUgbWludXRlcyBmb3IgeW91ciB0aW1lem9uZSBvZmZzZXQuIElmIG51bGwsIHVzZSB0aGUgYnJvd3NlcidzIHRpbWV6b25lLiBSZWZlciB0byBEYXRlLnByb3RvdHlwZS5nZXRUaW1lem9uZU9mZnNldCgpLlxuICogIFRoaXMgcHJvcGVydHkgd2lsbCBiZSBkZXByZWNhdGVkLiAoc2luY2UgdmVyc2lvbiAxLjEzKVxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgY2FsID0gbmV3IENhbGVuZGFyKCcjY2FsZW5kYXInLCB7XG4gKiAgIHRpbWV6b25lOiB7XG4gKiAgICAgem9uZXM6IFtcbiAqICAgICAgIHtcbiAqICAgICAgICAgdGltZXpvbmVOYW1lOiAnQXNpYS9TZW91bCcsXG4gKiAgICAgICAgIGRpc3BsYXlMYWJlbDogJ0dNVCswOTowMCcsXG4gKiAgICAgICAgIHRvb2x0aXA6ICdTZW91bCdcbiAqICAgICAgIH0sXG4gKiAgICAgICB7XG4gKiAgICAgICAgIHRpbWV6b25lTmFtZTogJ0FtZXJpY2EvTmV3X1lvcmsnLFxuICogICAgICAgICBkaXNwbGF5TGFiZWw6ICdHTVQtMDU6MDAnLFxuICogICAgICAgICB0b29sdGlwOiAnTmV3IFlvcmsnLFxuICogICAgICAgfVxuICogICAgIF0sXG4gKiAgIH1cbiAqIH0pO1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gQ2FsZW5kYXJQcm9wc1xuICogQHByb3BlcnR5IHtzdHJpbmd8bnVtYmVyfSBpZCAtIFRoZSBjYWxlbmRhciBpZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWUgLSBUaGUgY2FsZW5kYXIgbmFtZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbG9yIC0gVGhlIHRleHQgY29sb3Igd2hlbiBzY2hlZHVsZSBpcyBkaXNwbGF5ZWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiZ0NvbG9yIC0gVGhlIGJhY2tncm91bmQgY29sb3Igc2NoZWR1bGUgaXMgZGlzcGxheWVkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYm9yZGVyQ29sb3IgLSBUaGUgY29sb3Igb2YgbGVmdCBib3JkZXIgb3IgYnVsbGV0IHBvaW50IHdoZW4gc2NoZWR1bGUgaXMgZGlzcGxheWVkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZHJhZ0JnQ29sb3IgLSBUaGUgYmFja2dyb3VuZCBjb2xvciB3aGVuIHNjaGVkdWxlIGRyYWdnaW5nXG4gKiBAZXhhbXBsZVxuICogdmFyIGNhbCA9IG5ldyBDYWxlbmRhcignI2NhbGVuZGFyJywge1xuICogICAuLi5cbiAqICAgY2FsZW5kYXJzOiBbXG4gKiAgICAge1xuICogICAgICAgaWQ6ICcxJyxcbiAqICAgICAgIG5hbWU6ICdNeSBDYWxlbmRhcicsXG4gKiAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICogICAgICAgYmdDb2xvcjogJyM5ZTVmZmYnLFxuICogICAgICAgZHJhZ0JnQ29sb3I6ICcjOWU1ZmZmJyxcbiAqICAgICAgIGJvcmRlckNvbG9yOiAnIzllNWZmZidcbiAqICAgICB9LFxuICogICAgIHtcbiAqICAgICAgIGlkOiAnMicsXG4gKiAgICAgICBuYW1lOiAnQ29tcGFueScsXG4gKiAgICAgICBjb2xvcjogJyMwMGE5ZmYnLFxuICogICAgICAgYmdDb2xvcjogJyMwMGE5ZmYnLFxuICogICAgICAgZHJhZ0JnQ29sb3I6ICcjMDBhOWZmJyxcbiAqICAgICAgIGJvcmRlckNvbG9yOiAnIzAwYTlmZidcbiAqICAgICB9LFxuICogICBdXG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IE9wdGlvbnMgLSBDYWxlbmRhciBvcHRpb24gb2JqZWN0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2RlZmF1bHRWaWV3PSd3ZWVrJ10gLSBEZWZhdWx0IHZpZXcgb2YgY2FsZW5kYXIuIFRoZSBkZWZhdWx0IHZhbHVlIGlzICd3ZWVrJy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbnxBcnJheS48c3RyaW5nPn0gW3Rhc2tWaWV3PXRydWVdIC0gU2hvdyB0aGUgbWlsZXN0b25lIGFuZCB0YXNrIGluIHdlZWtseSwgZGFpbHkgdmlldy4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS4gSWYgdGhlIHZhbHVlIGlzIGFycmF5LCBpdCBjYW4gYmUgJiM5MTsnbWlsZXN0b25lJywgJ3Rhc2snJiM5MzsuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW58QXJyYXkuPHN0cmluZz59IFtzY2hlZHVsZVZpZXc9dHJ1ZV0gLSBTaG93IHRoZSBhbGwgZGF5IGFuZCB0aW1lIGdyaWQgaW4gd2Vla2x5LCBkYWlseSB2aWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS4gSWYgdGhlIHZhbHVlIGlzIGFycmF5LCBpdCBjYW4gYmUgJiM5MTsnYWxsZGF5JywgJ3RpbWUnJiM5MzsuXG4gKiBAcHJvcGVydHkge3RoZW1lQ29uZmlnfSBbdGhlbWU9dGhlbWVDb25maWddIC0ge0BsaW5rIHRoZW1lQ29uZmlnfSBmb3IgY3VzdG9tIHN0eWxlLlxuICogQHByb3BlcnR5IHtUZW1wbGF0ZX0gW3RlbXBsYXRlPXt9XSAtIHtAbGluayBUZW1wbGF0ZX0gZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb25cbiAqIEBwcm9wZXJ0eSB7V2Vla09wdGlvbnN9IFt3ZWVrPXt9XSAtIHtAbGluayBXZWVrT3B0aW9uc30gZm9yIHdlZWsgdmlld1xuICogQHByb3BlcnR5IHtNb250aE9wdGlvbnN9IFttb250aD17fV0gLSB7QGxpbmsgTW9udGhPcHRpb25zfSBmb3IgbW9udGggdmlld1xuICogQHByb3BlcnR5IHtBcnJheS48Q2FsZW5kYXJQcm9wcz59IFtjYWxlbmRhcnM9W11dIC0ge0BsaW5rIENhbGVuZGFyUHJvcHN9IExpc3QgdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgbmV3IHNjaGVkdWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBbXS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUNyZWF0aW9uUG9wdXA9ZmFsc2VdIC0gV2hldGhlciB1c2UgZGVmYXVsdCBjcmVhdGlvbiBwb3B1cCBvciBub3QuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlRGV0YWlsUG9wdXA9ZmFsc2VdIC0gV2hldGhlciB1c2UgZGVmYXVsdCBkZXRhaWwgcG9wdXAgb3Igbm90LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAqIEBwcm9wZXJ0eSB7VGltZXpvbmV9IFt0aW1lem9uZV0gLSB7QGxpbmsgVGltZXpvbmV9IC0gU2V0IGEgY3VzdG9tIHRpbWUgem9uZS4gWW91IGNhbiBhZGQgc2Vjb25kYXJ5IHRpbWV6b25lIGluIHRoZSB3ZWVrbHkvZGFpbHkgdmlldy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2Rpc2FibGVEYmxDbGljaz1mYWxzZV0gLSBEaXNhYmxlIGRvdWJsZSBjbGljayB0byBjcmVhdGUgYSBzY2hlZHVsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkaXNhYmxlQ2xpY2s9ZmFsc2VdIC0gRGlzYWJsZSBjbGljayB0byBjcmVhdGUgYSBzY2hlZHVsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc1JlYWRPbmx5PWZhbHNlXSAtIHtAbGluayBDYWxlbmRhcn0gaXMgcmVhZC1vbmx5IG1vZGUgYW5kIGEgdXNlciBjYW4ndCBjcmVhdGUgYW5kIG1vZGlmeSBhbnkgc2NoZWR1bGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNhZ2VTdGF0aXN0aWNzPXRydWVdIC0gTGV0IHVzIGtub3cgdGhlIGhvc3RuYW1lLiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZW5kIHRoZSBob3N0bmFtZSwgcGxlYXNlIHNldCB0byBmYWxzZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPFRpbWV6b25lPn0gW3RpbWV6b25lc10gLSBUaGlzIHByb3BlcnR5IHdpbGwgYmUgZGVwcmVjYXRlZC4gKHNpbmNlIHZlcnNpb24gMS4xMykgUGxlYXNlIHVzZSB0aW1lem9uZSBwcm9wZXJ0eS5cbiAqL1xuXG4vKipcbiAqIHtAbGluayBodHRwczovL25obi5naXRodWIuaW8vdHVpLmNvZGUtc25pcHBldC9sYXRlc3QvQ3VzdG9tRXZlbnRzIEN1c3RvbUV2ZW50c30gZG9jdW1lbnQgYXQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9uaG4vdHVpLmNvZGUtc25pcHBldCB0dWktY29kZS1zbmlwcGV0fVxuICogQHR5cGVkZWYge2NsYXNzfSBDdXN0b21FdmVudHNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFRpbWVDcmVhdGlvbkd1aWRlIC0gVGltZSBjcmVhdGlvbiBndWlkZSBpbnN0YW5jZSB0byBwcmVzZW50IHNlbGVjdGVkIHRpbWUgcGVyaW9kXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBndWlkZUVsZW1lbnQgLSBHdWlkZSBlbGVtZW50XG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBIVE1MRWxlbWVudD59IGd1aWRlRWxlbWVudHMgLSBNYXAgYnkga2V5LiBJdCBjYW4gYmUgdXNlZCBpbiBtb250aGx5IHZpZXdcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGNsZWFyR3VpZGVFbGVtZW50IC0gSGlkZSB0aGUgY3JlYXRpb24gZ3VpZGVcbiAqIEBleGFtcGxlXG4gKiBjYWxlbmRhci5vbignYmVmb3JlQ3JlYXRlU2NoZWR1bGUnLCBmdW5jdGlvbihldmVudCkge1xuICogICAgIHZhciBndWlkZSA9IGV2ZW50Lmd1aWRlO1xuICogICAgIC8vIFVzZSBndWlkZUVsJCdzIGxlZnQsIHRvcCB0byBsb2NhdGUgeW91ciBzY2hlZHVsZSBjcmVhdGlvbiBwb3B1cFxuICogICAgIHZhciBndWlkZUVsJCA9IGd1aWRlLmd1aWRlRWxlbWVudCA/XG4gKiAgICAgICAgICBndWlkZS5ndWlkZUVsZW1lbnQgOiBndWlkZS5ndWlkZUVsZW1lbnRzW09iamVjdC5rZXlzKGd1aWRlLmd1aWRlRWxlbWVudHMpWzBdXTtcbiAqXG4gKiAgICAgLy8gQWZ0ZXIgdGhhdCBjYWxsIHRoaXMgdG8gaGlkZSB0aGUgY3JlYXRpb24gZ3VpZGVcbiAqICAgICBndWlkZS5jbGVhckd1aWRlRWxlbWVudCgpO1xuICogfSk7XG4gKi9cblxuLyoqXG4gKiBDYWxlbmRhciBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKiBAbWl4ZXMgQ3VzdG9tRXZlbnRzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fHN0cmluZ30gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBlbGVtZW50IG9yIHNlbGVjdG9yIGlkXG4gKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgLSBUaGUgY2FsZW5kYXIge0BsaW5rIE9wdGlvbnN9IG9iamVjdFxuICogQGV4YW1wbGVcbiAqIHZhciBjYWxlbmRhciA9IG5ldyB0dWkuQ2FsZW5kYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFyJyksIHtcbiAqICAgICBkZWZhdWx0VmlldzogJ3dlZWsnLFxuICogICAgIHRhc2tWaWV3OiB0cnVlLCAgICAvLyBDYW4gYmUgYWxzbyBbJ21pbGVzdG9uZScsICd0YXNrJ11cbiAqICAgICBzY2hlZHVsZVZpZXc6IHRydWUsICAvLyBDYW4gYmUgYWxzbyBbJ2FsbGRheScsICd0aW1lJ11cbiAqICAgICB0ZW1wbGF0ZToge1xuICogICAgICAgICBtaWxlc3RvbmU6IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIHN0eWxlPVwiY29sb3I6cmVkO1wiPjxpIGNsYXNzPVwiZmEgZmEtZmxhZ1wiPjwvaT4gJyArIHNjaGVkdWxlLnRpdGxlICsgJzwvc3Bhbj4nO1xuICogICAgICAgICB9LFxuICogICAgICAgICBtaWxlc3RvbmVUaXRsZTogZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJ01pbGVzdG9uZSc7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHRhc2s6IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJyZuYnNwOyZuYnNwOyMnICsgc2NoZWR1bGUudGl0bGU7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHRhc2tUaXRsZTogZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJzxsYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgLz5UYXNrPC9sYWJlbD4nO1xuICogICAgICAgICB9LFxuICogICAgICAgICBhbGxkYXk6IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gc2NoZWR1bGUudGl0bGUgKyAnIDxpIGNsYXNzPVwiZmEgZmEtcmVmcmVzaFwiPjwvaT4nO1xuICogICAgICAgICB9LFxuICogICAgICAgICBhbGxkYXlUaXRsZTogZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gJ0FsbCBEYXknO1xuICogICAgICAgICB9LFxuICogICAgICAgICB0aW1lOiBmdW5jdGlvbihzY2hlZHVsZSkge1xuICogICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlLnRpdGxlICsgJyA8aSBjbGFzcz1cImZhIGZhLXJlZnJlc2hcIj48L2k+JyArIHNjaGVkdWxlLnN0YXJ0O1xuICogICAgICAgICB9XG4gKiAgICAgfSxcbiAqICAgICBtb250aDoge1xuICogICAgICAgICBkYXluYW1lczogWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXSxcbiAqICAgICAgICAgc3RhcnREYXlPZldlZWs6IDAsXG4gKiAgICAgICAgIG5hcnJvd1dlZWtlbmQ6IHRydWVcbiAqICAgICB9LFxuICogICAgIHdlZWs6IHtcbiAqICAgICAgICAgZGF5bmFtZXM6IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J10sXG4gKiAgICAgICAgIHN0YXJ0RGF5T2ZXZWVrOiAwLFxuICogICAgICAgICBuYXJyb3dXZWVrZW5kOiB0cnVlXG4gKiAgICAgfVxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIENhbGVuZGFyKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB1dGlsLmV4dGVuZChcbiAgICAgICAge1xuICAgICAgICAgICAgdXNhZ2VTdGF0aXN0aWNzOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnNcbiAgICApO1xuXG4gICAgaWYgKG9wdGlvbnMudXNhZ2VTdGF0aXN0aWNzID09PSB0cnVlICYmIHV0aWwuc2VuZEhvc3RuYW1lKSB7XG4gICAgICAgIHV0aWwuc2VuZEhvc3RuYW1lKCdjYWxlbmRhcicsIEdBX1RSQUNLSU5HX0lEKTtcbiAgICB9XG5cbiAgICBpZiAodXRpbC5pc1N0cmluZyhjb250YWluZXIpKSB7XG4gICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxlbmRhciBjb2xvciBtYXBcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fY2FsZW5kYXJDb2xvciA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCByZW5kZXJlZCBkYXRlXG4gICAgICogQHR5cGUge1RaRGF0ZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3JlbmRlckRhdGUgPSBkYXRldGltZS5zdGFydCgpO1xuXG4gICAgLyoqXG4gICAgICogc3RhcnQgYW5kIGVuZCBkYXRlIG9mIHdlZWtseSwgbW9udGhseVxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9yZW5kZXJSYW5nZSA9IHtcbiAgICAgICAgc3RhcnQ6IG51bGwsXG4gICAgICAgIGVuZDogbnVsbFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBiYXNlIGNvbnRyb2xsZXJcbiAgICAgKiBAdHlwZSB7QmFzZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2NvbnRyb2xsZXIgPSBfY3JlYXRlQ29udHJvbGxlcihvcHRpb25zKTtcbiAgICB0aGlzLl9jb250cm9sbGVyLnNldENhbGVuZGFycyhvcHRpb25zLmNhbGVuZGFycyk7XG5cbiAgICAvKipcbiAgICAgKiBsYXlvdXQgdmlldyAobGF5b3V0IG1hbmFnZXIpXG4gICAgICogQHR5cGUge0xheW91dH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2xheW91dCA9IG5ldyBMYXlvdXQoY29udGFpbmVyLCB0aGlzLl9jb250cm9sbGVyLnRoZW1lKTtcblxuICAgIC8qKlxuICAgICAqIGdsb2JhbCBkcmFnIGhhbmRsZXJcbiAgICAgKiBAdHlwZSB7RHJhZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2RyYWdIYW5kbGVyID0gbmV3IERyYWcoe2Rpc3RhbmNlOiAxMH0sIHRoaXMuX2xheW91dC5jb250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogY3VycmVudCByZW5kZXJlZCB2aWV3IG5hbWUuICgnZGF5JywgJ3dlZWsnLCAnbW9udGgnKVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJ3dlZWsnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl92aWV3TmFtZSA9IG9wdGlvbnMuZGVmYXVsdFZpZXcgfHwgJ3dlZWsnO1xuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaCBtZXRob2QuIGl0IGNhbiBiZSByZWYgZGlmZmVyZW50IGZ1bmN0aW9ucyBmb3IgZWFjaCB2aWV3IG1vZGVzLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3JlZnJlc2hNZXRob2QgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2Nyb2xsIHRvIG5vdy4gSXQgY2FuIGJlIGNhbGxlZCBmb3IgJ3dlZWsnLCAnZGF5JyB2aWV3IG1vZGVzLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3Njcm9sbFRvTm93TWV0aG9kID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEl0J3MgdHJ1ZSBpZiBDYWxlbmRhci5wcm90b3R5cGUuc2Nyb2xsVG9Ob3coKSBpcyBjYWxsZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9yZXF1ZXN0U2Nyb2xsVG9Ob3cgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIE9wZW4gc2NoZWR1bGUgY3JlYXRpb24gcG9wdXBcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9vcGVuQ3JlYXRpb25Qb3B1cCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHRoZSBtb3JlIHZpZXdcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9oaWRlTW9yZVZpZXcgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIGlkIGZvciByZXF1ZXN0QW5pbUZyYW1lKClcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fcmVxdWVzdFJlbmRlciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBjYWxlbmRhciBvcHRpb25zXG4gICAgICogQHR5cGUge09wdGlvbnN9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9vcHRpb25zID0ge307XG5cbiAgICB0aGlzLl9pbml0aWFsaXplKG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIGRlc3Ryb3kgY2FsZW5kYXIgaW5zdGFuY2UuXG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fZHJhZ0hhbmRsZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuX2NvbnRyb2xsZXIub2ZmKCk7XG4gICAgdGhpcy5fbGF5b3V0LmNsZWFyKCk7XG4gICAgdGhpcy5fbGF5b3V0LmRlc3Ryb3koKTtcblxuICAgIHV0aWwuZm9yRWFjaCh0aGlzLl9vcHRpb25zLnRlbXBsYXRlLCBmdW5jdGlvbihmdW5jLCBuYW1lKSB7XG4gICAgICAgIGlmIChmdW5jKSB7XG4gICAgICAgICAgICBIYW5kbGViYXJzLnVucmVnaXN0ZXJIZWxwZXIobmFtZSArICctdG1wbCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fcmVuZGVyRGF0ZSA9IHRoaXMuX2NvbnRyb2xsZXJcbiAgICAgICAgPSB0aGlzLl9sYXlvdXQgPSB0aGlzLl9kcmFnSGFuZGxlciA9IHRoaXMuX3ZpZXdOYW1lID0gdGhpcy5fcmVmcmVzaE1ldGhvZFxuICAgICAgICA9IHRoaXMuX3Njcm9sbFRvTm93TWV0aG9kID0gbnVsbDtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBjYWxlbmRhclxuICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIC0gY2FsZW5kYXIgb3B0aW9uc1xuICogQHByaXZhdGVcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbkNhbGVuZGFyLnByb3RvdHlwZS5faW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgY29udHJvbGxlciA9IHRoaXMuX2NvbnRyb2xsZXIsXG4gICAgICAgIHZpZXdOYW1lID0gdGhpcy5fdmlld05hbWU7XG5cbiAgICB0aGlzLl9vcHRpb25zID0gdXRpbC5leHRlbmQoXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlZmF1bHRWaWV3OiB2aWV3TmFtZSxcbiAgICAgICAgICAgIHRhc2tWaWV3OiB0cnVlLFxuICAgICAgICAgICAgc2NoZWR1bGVWaWV3OiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGU6IHV0aWwuZXh0ZW5kKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsZGF5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1dGlsLnBpY2sob3B0aW9ucywgJ3RlbXBsYXRlJykgfHwge31cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3ZWVrOiB1dGlsLmV4dGVuZCh7fSwgdXRpbC5waWNrKG9wdGlvbnMsICd3ZWVrJykgfHwge30pLFxuICAgICAgICAgICAgbW9udGg6IHV0aWwuZXh0ZW5kKHt9LCB1dGlsLnBpY2sob3B0aW9ucywgJ21vbnRoJykgfHwge30pLFxuICAgICAgICAgICAgY2FsZW5kYXJzOiBbXSxcbiAgICAgICAgICAgIHVzZUNyZWF0aW9uUG9wdXA6IGZhbHNlLFxuICAgICAgICAgICAgdXNlRGV0YWlsUG9wdXA6IGZhbHNlLFxuICAgICAgICAgICAgdGltZXpvbmVzOiBvcHRpb25zLnRpbWV6b25lICYmIG9wdGlvbnMudGltZXpvbmUuem9uZXMgPyBvcHRpb25zLnRpbWV6b25lLnpvbmVzIDogW10sXG4gICAgICAgICAgICBkaXNhYmxlRGJsQ2xpY2s6IGZhbHNlLFxuICAgICAgICAgICAgZGlzYWJsZUNsaWNrOiBmYWxzZSxcbiAgICAgICAgICAgIGlzUmVhZE9ubHk6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnNcbiAgICApO1xuXG4gICAgdGhpcy5fb3B0aW9ucy53ZWVrID0gdXRpbC5leHRlbmQoXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXJ0RGF5T2ZXZWVrOiAwLFxuICAgICAgICAgICAgd29ya3dlZWs6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHV0aWwucGljayh0aGlzLl9vcHRpb25zLCAnd2VlaycpIHx8IHt9XG4gICAgKTtcblxuICAgIHRoaXMuX29wdGlvbnMudGltZXpvbmUgPSB1dGlsLmV4dGVuZCh7em9uZXM6IFtdfSwgdXRpbC5waWNrKG9wdGlvbnMsICd0aW1lem9uZScpIHx8IHt9KTtcblxuICAgIHRoaXMuX29wdGlvbnMubW9udGggPSB1dGlsLmV4dGVuZChcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhcnREYXlPZldlZWs6IDAsXG4gICAgICAgICAgICB3b3Jrd2VlazogZmFsc2UsXG4gICAgICAgICAgICBzY2hlZHVsZUZpbHRlcjogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICBCb29sZWFuKHNjaGVkdWxlLmlzVmlzaWJsZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgKHNjaGVkdWxlLmNhdGVnb3J5ID09PSAnYWxsZGF5JyB8fCBzY2hlZHVsZS5jYXRlZ29yeSA9PT0gJ3RpbWUnKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHV0aWwucGljayhvcHRpb25zLCAnbW9udGgnKSB8fCB7fVxuICAgICk7XG5cbiAgICBpZiAodGhpcy5fb3B0aW9ucy5pc1JlYWRPbmx5KSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMudXNlQ3JlYXRpb25Qb3B1cCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuX2xheW91dC5jb250cm9sbGVyID0gY29udHJvbGxlcjtcblxuICAgIHRoaXMuX3NldEFkZGl0aW9uYWxJbnRlcm5hbE9wdGlvbnModGhpcy5fb3B0aW9ucyk7XG5cbiAgICB0aGlzLmNoYW5nZVZpZXcodmlld05hbWUsIHRydWUpO1xufTtcblxuLyoqXG4gKiBTZXQgYWRkaXRpb25hbCBpbnRlcm5hbCBvcHRpb25zXG4gKiAxLiBSZWdpc3RlciB0byB0aGUgdGVtcGxhdGUgaGFuZGxlYmFyXG4gKiAyLiBVcGRhdGUgdGhlIGNhbGVuZGFyIGxpc3QgYW5kIHNldCB0aGUgY29sb3Igb2YgdGhlIGNhbGVuZGFyLlxuICogMy4gQ2hhbmdlIHRoZSBwcmltYXJ5IHRpbWV6b25lIG9mZnNldCBvZiB0aGUgdGltZXpvbmVzLlxuICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIC0gY2FsZW5kYXIgb3B0aW9uc1xuICogQHByaXZhdGVcbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLl9zZXRBZGRpdGlvbmFsSW50ZXJuYWxPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciB0aW1lem9uZSA9IG9wdGlvbnMudGltZXpvbmU7XG4gICAgdmFyIHpvbmVzLCBvZmZzZXRDYWxjdWxhdG9yO1xuXG4gICAgdXRpbC5mb3JFYWNoKG9wdGlvbnMudGVtcGxhdGUsIGZ1bmN0aW9uKGZ1bmMsIG5hbWUpIHtcbiAgICAgICAgaWYgKGZ1bmMpIHtcbiAgICAgICAgICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIobmFtZSArICctdG1wbCcsIGZ1bmMpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB1dGlsLmZvckVhY2goXG4gICAgICAgIG9wdGlvbnMuY2FsZW5kYXJzIHx8IFtdLFxuICAgICAgICBmdW5jdGlvbihjYWxlbmRhcikge1xuICAgICAgICAgICAgdGhpcy5zZXRDYWxlbmRhckNvbG9yKGNhbGVuZGFyLmlkLCBjYWxlbmRhciwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXNcbiAgICApO1xuXG4gICAgaWYgKHRpbWV6b25lKSB7XG4gICAgICAgIG9mZnNldENhbGN1bGF0b3IgPSB0aW1lem9uZS5vZmZzZXRDYWxjdWxhdG9yO1xuXG4gICAgICAgIGlmICh1dGlsLmlzRnVuY3Rpb24ob2Zmc2V0Q2FsY3VsYXRvcikpIHtcbiAgICAgICAgICAgIHR6LnNldE9mZnNldENhbGN1bGF0b3Iob2Zmc2V0Q2FsY3VsYXRvcik7XG4gICAgICAgIH1cblxuICAgICAgICB6b25lcyA9IHRpbWV6b25lLnpvbmVzO1xuXG4gICAgICAgIGlmICh6b25lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHR6LnNldFByaW1hcnlUaW1lem9uZUJ5T3B0aW9uKHpvbmVzWzBdKTtcblxuICAgICAgICAgICAgaWYgKHV0aWwuaXNOdW1iZXIoem9uZXNbMF0udGltZXpvbmVPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgLy8gQGRlcHJlY2F0ZWQgdGltZXpvbmVPZmZzZXQgcHJvcGVydHkgd2lsbCBiZSBkZXByZWNhdGVkLiB1c2UgdGltZXpvbmUgcHJvcGVydHlcbiAgICAgICAgICAgICAgICB0ei5zZXRPZmZzZXRCeVRpbWV6b25lT3B0aW9uKHpvbmVzWzBdLnRpbWV6b25lT2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKioqKioqKioqXG4gKiBDUlVEIE1ldGhvZHNcbiAqKioqKioqKioqL1xuXG4vKipcbiAqIENyZWF0ZSBzY2hlZHVsZXMgYW5kIHJlbmRlciBjYWxlbmRhci5cbiAqIEBwYXJhbSB7QXJyYXkuPFNjaGVkdWxlPn0gc2NoZWR1bGVzIC0ge0BsaW5rIFNjaGVkdWxlfSBkYXRhIGxpc3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NpbGVudD1mYWxzZV0gLSBubyBhdXRvIHJlbmRlciBhZnRlciBjcmVhdGlvbiB3aGVuIHNldCB0cnVlXG4gKiBAZXhhbXBsZVxuICogY2FsZW5kYXIuY3JlYXRlU2NoZWR1bGVzKFtcbiAqICAgICB7XG4gKiAgICAgICAgIGlkOiAnMScsXG4gKiAgICAgICAgIGNhbGVuZGFySWQ6ICcxJyxcbiAqICAgICAgICAgdGl0bGU6ICdteSBzY2hlZHVsZScsXG4gKiAgICAgICAgIGNhdGVnb3J5OiAndGltZScsXG4gKiAgICAgICAgIGR1ZURhdGVDbGFzczogJycsXG4gKiAgICAgICAgIHN0YXJ0OiAnMjAxOC0wMS0xOFQyMjozMDowMCswOTowMCcsXG4gKiAgICAgICAgIGVuZDogJzIwMTgtMDEtMTlUMDI6MzA6MDArMDk6MDAnXG4gKiAgICAgfSxcbiAqICAgICB7XG4gKiAgICAgICAgIGlkOiAnMicsXG4gKiAgICAgICAgIGNhbGVuZGFySWQ6ICcxJyxcbiAqICAgICAgICAgdGl0bGU6ICdzZWNvbmQgc2NoZWR1bGUnLFxuICogICAgICAgICBjYXRlZ29yeTogJ3RpbWUnLFxuICogICAgICAgICBkdWVEYXRlQ2xhc3M6ICcnLFxuICogICAgICAgICBzdGFydDogJzIwMTgtMDEtMThUMTc6MzA6MDArMDk6MDAnLFxuICogICAgICAgICBlbmQ6ICcyMDE4LTAxLTE5VDE3OjMxOjAwKzA5OjAwJ1xuICogICAgIH1cbiAqIF0pO1xuICovXG5DYWxlbmRhci5wcm90b3R5cGUuY3JlYXRlU2NoZWR1bGVzID0gZnVuY3Rpb24oc2NoZWR1bGVzLCBzaWxlbnQpIHtcbiAgICB1dGlsLmZvckVhY2goXG4gICAgICAgIHNjaGVkdWxlcyxcbiAgICAgICAgZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRTY2hlZHVsZUNvbG9yKG9iai5jYWxlbmRhcklkLCBvYmopO1xuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgKTtcblxuICAgIHRoaXMuX2NvbnRyb2xsZXIuY3JlYXRlU2NoZWR1bGVzKHNjaGVkdWxlcywgc2lsZW50KTtcblxuICAgIGlmICghc2lsZW50KSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZXQgYSB7QGxpbmsgU2NoZWR1bGV9IG9iamVjdCBieSBzY2hlZHVsZSBpZCBhbmQgY2FsZW5kYXIgaWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2NoZWR1bGVJZCAtIElEIG9mIHNjaGVkdWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FsZW5kYXJJZCAtIGNhbGVuZGFySWQgb2YgdGhlIHNjaGVkdWxlXG4gKiBAcmV0dXJucyB7U2NoZWR1bGV9IHNjaGVkdWxlIG9iamVjdFxuICogQGV4YW1wbGVcbiAqIHZhciBzY2hlZHVsZSA9IGNhbGVuZGFyLmdldFNjaGVkdWxlKHNjaGVkdWxlSWQsIGNhbGVuZGFySWQpO1xuICogY29uc29sZS5sb2coc2NoZWR1bGUudGl0bGUpO1xuICovXG5DYWxlbmRhci5wcm90b3R5cGUuZ2V0U2NoZWR1bGUgPSBmdW5jdGlvbihzY2hlZHVsZUlkLCBjYWxlbmRhcklkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRyb2xsZXIuc2NoZWR1bGVzLnNpbmdsZShmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICByZXR1cm4gbW9kZWwuaWQgPT09IHNjaGVkdWxlSWQgJiYgbW9kZWwuY2FsZW5kYXJJZCA9PT0gY2FsZW5kYXJJZDtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogVXBkYXRlIHRoZSBzY2hlZHVsZVxuICogQHBhcmFtIHtzdHJpbmd9IHNjaGVkdWxlSWQgLSBJRCBvZiB0aGUgb3JpZ2luYWwgc2NoZWR1bGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FsZW5kYXJJZCAtIFRoZSBjYWxlbmRhcklkIG9mIHRoZSBvcmlnaW5hbCBzY2hlZHVsZSB0byB1cGRhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBjaGFuZ2VzIC0gVGhlIHtAbGluayBTY2hlZHVsZX0gcHJvcGVydGllcyBhbmQgdmFsdWVzIHdpdGggY2hhbmdlcyB0byB1cGRhdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NpbGVudD1mYWxzZV0gLSBObyBhdXRvIHJlbmRlciBhZnRlciBjcmVhdGlvbiB3aGVuIHNldCB0cnVlXG4gKiBAZXhhbXBsZVxuICogY2FsZW5kYXIudXBkYXRlU2NoZWR1bGUoc2NoZWR1bGUuaWQsIHNjaGVkdWxlLmNhbGVuZGFySWQsIHtcbiAqICAgICB0aXRsZTogJ0NoYW5nZWQgc2NoZWR1bGUnLFxuICogICAgIHN0YXJ0OiBuZXcgRGF0ZSgnMjAxOS0xMS0wNVQwOTowMDowMCcpLFxuICogICAgIGVuZDogbmV3IERhdGUoJzIwMTktMTEtMDVUMTA6MDA6MDAnKSxcbiAqICAgICBjYXRlZ29yeTogJ3RpbWUnXG4gKiB9KTtcbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLnVwZGF0ZVNjaGVkdWxlID0gZnVuY3Rpb24oc2NoZWR1bGVJZCwgY2FsZW5kYXJJZCwgY2hhbmdlcywgc2lsZW50KSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzLl9jb250cm9sbGVyLFxuICAgICAgICBvd25TY2hlZHVsZXMgPSBjdHJsLnNjaGVkdWxlcyxcbiAgICAgICAgc2NoZWR1bGUgPSBvd25TY2hlZHVsZXMuc2luZ2xlKGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kZWwuaWQgPT09IHNjaGVkdWxlSWQgJiYgbW9kZWwuY2FsZW5kYXJJZCA9PT0gY2FsZW5kYXJJZDtcbiAgICAgICAgfSk7XG4gICAgdmFyIGhhc0NoYW5nZWRDYWxlbmRhciA9IGZhbHNlO1xuXG4gICAgaWYgKCFjaGFuZ2VzIHx8ICFzY2hlZHVsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaGFzQ2hhbmdlZENhbGVuZGFyID0gdGhpcy5faGFzQ2hhbmdlZENhbGVuZGFyKHNjaGVkdWxlLCBjaGFuZ2VzKTtcbiAgICBjaGFuZ2VzID0gaGFzQ2hhbmdlZENhbGVuZGFyID8gdGhpcy5fc2V0U2NoZWR1bGVDb2xvcihjaGFuZ2VzLmNhbGVuZGFySWQsIGNoYW5nZXMpIDogY2hhbmdlcztcblxuICAgIGN0cmwudXBkYXRlU2NoZWR1bGUoc2NoZWR1bGUsIGNoYW5nZXMpO1xuXG4gICAgaWYgKCFzaWxlbnQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG59O1xuXG5DYWxlbmRhci5wcm90b3R5cGUuX2hhc0NoYW5nZWRDYWxlbmRhciA9IGZ1bmN0aW9uKHNjaGVkdWxlLCBjaGFuZ2VzKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlICYmIGNoYW5nZXMuY2FsZW5kYXJJZCAmJiBzY2hlZHVsZS5jYWxlbmRhcklkICE9PSBjaGFuZ2VzLmNhbGVuZGFySWQ7XG59O1xuXG5DYWxlbmRhci5wcm90b3R5cGUuX3NldFNjaGVkdWxlQ29sb3IgPSBmdW5jdGlvbihjYWxlbmRhcklkLCBzY2hlZHVsZSkge1xuICAgIHZhciBjYWxDb2xvciA9IHRoaXMuX2NhbGVuZGFyQ29sb3I7XG4gICAgdmFyIGNvbG9yID0gY2FsQ29sb3JbY2FsZW5kYXJJZF07XG5cbiAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgc2NoZWR1bGUuY29sb3IgPSBzY2hlZHVsZS5jb2xvciB8fCBjb2xvci5jb2xvcjtcbiAgICAgICAgc2NoZWR1bGUuYmdDb2xvciA9IHNjaGVkdWxlLmJnQ29sb3IgfHwgY29sb3IuYmdDb2xvcjtcbiAgICAgICAgc2NoZWR1bGUuYm9yZGVyQ29sb3IgPSBzY2hlZHVsZS5ib3JkZXJDb2xvciB8fCBjb2xvci5ib3JkZXJDb2xvcjtcbiAgICAgICAgc2NoZWR1bGUuZHJhZ0JnQ29sb3IgPSBzY2hlZHVsZS5kcmFnQmdDb2xvciB8fCBjb2xvci5kcmFnQmdDb2xvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gc2NoZWR1bGU7XG59O1xuXG4vKipcbiAqIERlbGV0ZSBhIHNjaGVkdWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNjaGVkdWxlSWQgLSBJRCBvZiBzY2hlZHVsZSB0byBkZWxldGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYWxlbmRhcklkIC0gVGhlIENhbGVuZGFySWQgb2YgdGhlIHNjaGVkdWxlIHRvIGRlbGV0ZVxuICogQHBhcmFtIHtib29sZWFufSBbc2lsZW50PWZhbHNlXSAtIE5vIGF1dG8gcmVuZGVyIGFmdGVyIGNyZWF0aW9uIHdoZW4gc2V0IHRydWVcbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLmRlbGV0ZVNjaGVkdWxlID0gZnVuY3Rpb24oc2NoZWR1bGVJZCwgY2FsZW5kYXJJZCwgc2lsZW50KSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzLl9jb250cm9sbGVyLFxuICAgICAgICBvd25TY2hlZHVsZXMgPSBjdHJsLnNjaGVkdWxlcyxcbiAgICAgICAgc2NoZWR1bGUgPSBvd25TY2hlZHVsZXMuc2luZ2xlKGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kZWwuaWQgPT09IHNjaGVkdWxlSWQgJiYgbW9kZWwuY2FsZW5kYXJJZCA9PT0gY2FsZW5kYXJJZDtcbiAgICAgICAgfSk7XG5cbiAgICBpZiAoIXNjaGVkdWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjdHJsLmRlbGV0ZVNjaGVkdWxlKHNjaGVkdWxlKTtcbiAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbn07XG5cbi8qKioqKioqKioqXG4gKiBQcml2YXRlIE1ldGhvZHNcbiAqKioqKioqKioqL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfERhdGV9IGRhdGUgLSBUaGUgRGF0ZSB0byBzaG93IGluIGNhbGVuZGFyXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0RGF5T2ZXZWVrPTBdIC0gVGhlIFN0YXJ0IGRheSBvZiB3ZWVrXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt3b3Jrd2Vlaz1mYWxzZV0gLSBUaGUgb25seSBzaG93IHdvcmsgd2Vla1xuICogQHJldHVybnMge2FycmF5fSByZW5kZXIgcmFuZ2VcbiAqIEBwcml2YXRlXG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5fZ2V0V2Vla0RheVJhbmdlID0gZnVuY3Rpb24oZGF0ZSwgc3RhcnREYXlPZldlZWssIHdvcmt3ZWVrKSB7XG4gICAgdmFyIGRheTtcbiAgICB2YXIgc3RhcnQ7XG4gICAgdmFyIGVuZDtcbiAgICB2YXIgcmFuZ2U7XG5cbiAgICBzdGFydERheU9mV2VlayA9IChzdGFydERheU9mV2VlayB8fCAwKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGRhdGUgPSB1dGlsLmlzRGF0ZShkYXRlKSA/IGRhdGUgOiBuZXcgVFpEYXRlKGRhdGUpO1xuICAgIGRheSA9IGRhdGUuZ2V0RGF5KCk7XG5cbiAgICAvLyBjYWxjdWxhdGUgZGVmYXVsdCByZW5kZXIgcmFuZ2UgZmlyc3QuXG4gICAgc3RhcnQgPSBuZXcgVFpEYXRlKGRhdGUpLmFkZERhdGUoLWRheSArIHN0YXJ0RGF5T2ZXZWVrKTtcblxuICAgIGVuZCA9IG5ldyBUWkRhdGUoc3RhcnQpLmFkZERhdGUoNik7XG5cbiAgICBpZiAoZGF5IDwgc3RhcnREYXlPZldlZWspIHtcbiAgICAgICAgc3RhcnQgPSBuZXcgVFpEYXRlKHN0YXJ0KS5hZGREYXRlKC03KTtcbiAgICAgICAgZW5kID0gbmV3IFRaRGF0ZShlbmQpLmFkZERhdGUoLTcpO1xuICAgIH1cblxuICAgIGlmICh3b3Jrd2Vlaykge1xuICAgICAgICByYW5nZSA9IGRhdGV0aW1lLnJhbmdlKFxuICAgICAgICAgICAgZGF0ZXRpbWUuc3RhcnQoc3RhcnQpLFxuICAgICAgICAgICAgZGF0ZXRpbWUuZW5kKGVuZCksXG4gICAgICAgICAgICBkYXRldGltZS5NSUxMSVNFQ09ORFNfUEVSX0RBWVxuICAgICAgICApO1xuXG4gICAgICAgIHJhbmdlID0gdXRpbC5maWx0ZXIocmFuZ2UsIGZ1bmN0aW9uKHdlZWtkYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAhZGF0ZXRpbWUuaXNXZWVrZW5kKHdlZWtkYXkuZ2V0RGF5KCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdGFydCA9IHJhbmdlWzBdO1xuICAgICAgICBlbmQgPSByYW5nZVtyYW5nZS5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICBzdGFydCA9IGRhdGV0aW1lLnN0YXJ0KHN0YXJ0KTtcbiAgICBlbmQgPSBkYXRldGltZS5zdGFydChlbmQpO1xuXG4gICAgcmV0dXJuIFtzdGFydCwgZW5kXTtcbn07XG5cbi8qKlxuICogVG9nZ2xlIHNjaGVkdWxlcycgdmlzaWJpbGl0eSBieSBjYWxlbmRhciBJRFxuICogQHBhcmFtIHtzdHJpbmd9IGNhbGVuZGFySWQgLSBUaGUgY2FsZW5kYXIgaWQgdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdG9IaWRlIC0gU2V0IHRydWUgdG8gaGlkZSBzY2hlZHVsZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbmRlcj10cnVlXSAtIHNldCB0cnVlIHRoZW4gcmVuZGVyIGFmdGVyIGNoYW5nZSB2aXNpYmxlIHByb3BlcnR5IGVhY2ggbW9kZWxzXG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS50b2dnbGVTY2hlZHVsZXMgPSBmdW5jdGlvbihjYWxlbmRhcklkLCB0b0hpZGUsIHJlbmRlcikge1xuICAgIHZhciBvd25TY2hlZHVsZXMgPSB0aGlzLl9jb250cm9sbGVyLnNjaGVkdWxlcztcblxuICAgIHJlbmRlciA9IHV0aWwuaXNFeGlzdHkocmVuZGVyKSA/IHJlbmRlciA6IHRydWU7XG4gICAgY2FsZW5kYXJJZCA9IHV0aWwuaXNBcnJheShjYWxlbmRhcklkKSA/IGNhbGVuZGFySWQgOiBbY2FsZW5kYXJJZF07XG5cbiAgICBvd25TY2hlZHVsZXMuZWFjaChmdW5jdGlvbihzY2hlZHVsZSkge1xuICAgICAgICBpZiAofnV0aWwuaW5BcnJheShzY2hlZHVsZS5jYWxlbmRhcklkLCBjYWxlbmRhcklkKSkge1xuICAgICAgICAgICAgc2NoZWR1bGUuc2V0KCdpc1Zpc2libGUnLCAhdG9IaWRlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHJlbmRlcikge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbn07XG5cbi8qKioqKioqKioqXG4gKiBHZW5lcmFsIE1ldGhvZHNcbiAqKioqKioqKioqL1xuXG4vKipcbiAqIFJlbmRlciB0aGUgY2FsZW5kYXIuIFRoZSByZWFsIHJlbmRlcmluZyBvY2N1cnMgYWZ0ZXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLlxuICogSWYgeW91IGhhdmUgdG8gcmVuZGVyIGltbWVkaWF0ZWx5LCB1c2UgdGhlICdpbW1lZGlhdGVseScgcGFyYW1ldGVyIGFzIHRydWUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpbW1lZGlhdGVseT1mYWxzZV0gLSBSZW5kZXIgaXQgaW1tZWRpYXRlbHlcbiAqIEBleGFtcGxlXG4gKiB2YXIgc2lsZW50ID0gdHJ1ZTtcbiAqIGNhbGVuZGFyLmNsZWFyKCk7XG4gKiBjYWxlbmRhci5jcmVhdGVTY2hlZHVsZXMoc2NoZWR1bGVzLCBzaWxlbnQpO1xuICogY2FsZW5kYXIucmVuZGVyKCk7XG4gKiBAZXhhbXBsZVxuICogLy8gUmVuZGVyIGEgY2FsZW5kYXIgd2hlbiByZXNpemluZyBhIHdpbmRvdy5cbiAqIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcbiAqICAgICBjYWxlbmRhci5yZW5kZXIoKTtcbiAqIH0pO1xuICovXG5DYWxlbmRhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oaW1tZWRpYXRlbHkpIHtcbiAgICBpZiAodGhpcy5fcmVxdWVzdFJlbmRlcikge1xuICAgICAgICByZXFBbmltRnJhbWUuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX3JlcXVlc3RSZW5kZXIpO1xuICAgIH1cblxuICAgIGlmIChpbW1lZGlhdGVseSkge1xuICAgICAgICB0aGlzLl9yZW5kZXJGdW5jKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdFJlbmRlciA9IHJlcUFuaW1GcmFtZS5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3JlbmRlckZ1bmMsIHRoaXMpO1xuICAgIH1cbn07XG5cbi8qKlxuICogUmVuZGVyIGFuZCByZWZyZXNoIGFsbCBsYXlvdXQgYW5kIHByb2Nlc3MgcmVxdWVzdHMuXG4gKiBAcHJpdmF0ZVxuICovXG5DYWxlbmRhci5wcm90b3R5cGUuX3JlbmRlckZ1bmMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fcmVmcmVzaE1ldGhvZCkge1xuICAgICAgICB0aGlzLl9yZWZyZXNoTWV0aG9kKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9sYXlvdXQpIHtcbiAgICAgICAgdGhpcy5fbGF5b3V0LnJlbmRlcigpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc2Nyb2xsVG9Ob3dNZXRob2QgJiYgdGhpcy5fcmVxdWVzdFNjcm9sbFRvTm93KSB7XG4gICAgICAgIHRoaXMuX3Njcm9sbFRvTm93TWV0aG9kKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVxdWVzdFNjcm9sbFRvTm93ID0gZmFsc2U7XG4gICAgdGhpcy5fcmVxdWVzdFJlbmRlciA9IG51bGw7XG59O1xuXG4vKipcbiAqIERlbGV0ZSBhbGwgc2NoZWR1bGVzIGFuZCBjbGVhciB2aWV3LiBUaGUgcmVhbCByZW5kZXJpbmcgb2NjdXJzIGFmdGVyIHJlcXVlc3RBbmltYXRpb25GcmFtZS5cbiAqIElmIHlvdSBoYXZlIHRvIHJlbmRlciBpbW1lZGlhdGVseSwgdXNlIHRoZSAnaW1tZWRpYXRlbHknIHBhcmFtZXRlciBhcyB0cnVlLlxuICogQHBhcmFtIHtib29sZWFufSBbaW1tZWRpYXRlbHk9ZmFsc2VdIC0gUmVuZGVyIGl0IGltbWVkaWF0ZWx5XG4gKiBAZXhhbXBsZVxuICogY2FsZW5kYXIuY2xlYXIoKTtcbiAqIGNhbGVuZGFyLmNyZWF0ZVNjaGVkdWxlcyhzY2hlZHVsZXMsIHRydWUpO1xuICogY2FsZW5kYXIucmVuZGVyKCk7XG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKGltbWVkaWF0ZWx5KSB7XG4gICAgdGhpcy5fY29udHJvbGxlci5jbGVhclNjaGVkdWxlcygpO1xuICAgIHRoaXMucmVuZGVyKGltbWVkaWF0ZWx5KTtcbn07XG5cbi8qKlxuICogU2Nyb2xsIHRvIGN1cnJlbnQgdGltZSBvbiB0b2RheSBpbiBjYXNlIG9mIGRhaWx5LCB3ZWVrbHkgdmlld1xuICogQGV4YW1wbGVcbiAqIGZ1bmN0aW9uIG9uTmV3U2NoZWR1bGVzKHNjaGVkdWxlcykge1xuICogICAgIGNhbGVuZGFyLmNyZWF0ZVNjaGVkdWxlcyhzY2hlZHVsZXMpO1xuICogICAgIGlmIChjYWxlbmRhci5nZXRWaWV3TmFtZSgpICE9PSAnbW9udGgnKSB7XG4gKiAgICAgICAgIGNhbGVuZGFyLnNjcm9sbFRvTm93KCk7XG4gKiAgICAgfVxuICogfVxuICovXG5DYWxlbmRhci5wcm90b3R5cGUuc2Nyb2xsVG9Ob3cgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsVG9Ob3dNZXRob2QpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdFNjcm9sbFRvTm93ID0gdHJ1ZTtcbiAgICAgICAgLy8gdGhpcy5fc2Nyb2xsVG9Ob3dNZXRob2QoKSB3aWxsIGJlIGNhbGxlZCBhdCBuZXh0IGZyYW1lIHJlbmRlcmluZy5cbiAgICB9XG59O1xuXG4vKipcbiAqIE1vdmUgdG8gdG9kYXkuXG4gKiBAZXhhbXBsZVxuICogZnVuY3Rpb24gb25DbGlja1RvZGF5QnRuKCkge1xuICogICAgIGNhbGVuZGFyLnRvZGF5KCk7XG4gKiB9XG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS50b2RheSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3JlbmRlckRhdGUgPSBkYXRldGltZS5zdGFydCgpO1xuXG4gICAgdGhpcy5fc2V0Vmlld05hbWUodGhpcy5fdmlld05hbWUpO1xuICAgIHRoaXMubW92ZSgpO1xuICAgIHRoaXMucmVuZGVyKCk7XG59O1xuXG4vKipcbiAqIE1vdmUgdGhlIGNhbGVuZGFyIGFtb3VudCBvZiBvZmZzZXQgdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBUaGUgb2Zmc2V0IHZhbHVlLlxuICogQHByaXZhdGVcbiAqIEBleGFtcGxlXG4gKiAvLyBtb3ZlIHByZXZpb3VzIHdlZWsgd2hlbiBcIndlZWtcIiB2aWV3LlxuICogLy8gbW92ZSBwcmV2aW91cyBtb250aCB3aGVuIFwibW9udGhcIiB2aWV3LlxuICogY2FsZW5kYXIubW92ZSgtMSk7XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5DYWxlbmRhci5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uKG9mZnNldCkge1xuICAgIHZhciByZW5kZXJEYXRlID0gZHcoZGF0ZXRpbWUuc3RhcnQodGhpcy5fcmVuZGVyRGF0ZSkpLFxuICAgICAgICB2aWV3TmFtZSA9IHRoaXMuX3ZpZXdOYW1lLFxuICAgICAgICB2aWV3ID0gdGhpcy5fZ2V0Q3VycmVudFZpZXcoKSxcbiAgICAgICAgcmVjdXJzaXZlU2V0ID0gX3NldE9wdGlvblJlY3Vyc2VpdmVseSxcbiAgICAgICAgc3RhcnREYXRlLFxuICAgICAgICBlbmREYXRlLFxuICAgICAgICB0ZW1wRGF0ZSxcbiAgICAgICAgc3RhcnREYXlPZldlZWssXG4gICAgICAgIHZpc2libGVXZWVrc0NvdW50LFxuICAgICAgICB3b3Jrd2VlayxcbiAgICAgICAgaXNBbHdheXM2V2VlayxcbiAgICAgICAgZGF0ZXRpbWVPcHRpb25zO1xuXG4gICAgb2Zmc2V0ID0gdXRpbC5pc0V4aXN0eShvZmZzZXQpID8gb2Zmc2V0IDogMDtcblxuICAgIGlmICh2aWV3TmFtZSA9PT0gJ21vbnRoJykge1xuICAgICAgICBzdGFydERheU9mV2VlayA9IHV0aWwucGljayh0aGlzLl9vcHRpb25zLCAnbW9udGgnLCAnc3RhcnREYXlPZldlZWsnKSB8fCAwO1xuICAgICAgICB2aXNpYmxlV2Vla3NDb3VudCA9IG1taW4odXRpbC5waWNrKHRoaXMuX29wdGlvbnMsICdtb250aCcsICd2aXNpYmxlV2Vla3NDb3VudCcpIHx8IDAsIDYpO1xuICAgICAgICB3b3Jrd2VlayA9IHV0aWwucGljayh0aGlzLl9vcHRpb25zLCAnbW9udGgnLCAnd29ya3dlZWsnKSB8fCBmYWxzZTtcbiAgICAgICAgaXNBbHdheXM2V2VlayA9IHV0aWwucGljayh0aGlzLl9vcHRpb25zLCAnbW9udGgnLCAnaXNBbHdheXM2V2VlaycpO1xuXG4gICAgICAgIGlmICh2aXNpYmxlV2Vla3NDb3VudCkge1xuICAgICAgICAgICAgZGF0ZXRpbWVPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHN0YXJ0RGF5T2ZXZWVrOiBzdGFydERheU9mV2VlayxcbiAgICAgICAgICAgICAgICBpc0Fsd2F5czZXZWVrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlV2Vla3NDb3VudDogdmlzaWJsZVdlZWtzQ291bnQsXG4gICAgICAgICAgICAgICAgd29ya3dlZWs6IHdvcmt3ZWVrXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZW5kZXJEYXRlLmFkZERhdGUob2Zmc2V0ICogNyAqIGRhdGV0aW1lT3B0aW9ucy52aXNpYmxlV2Vla3NDb3VudCk7XG4gICAgICAgICAgICB0ZW1wRGF0ZSA9IGRhdGV0aW1lLmFycjJkQ2FsZW5kYXIocmVuZGVyRGF0ZS5kLCBkYXRldGltZU9wdGlvbnMpO1xuXG4gICAgICAgICAgICByZWN1cnNpdmVTZXQodmlldywgZnVuY3Rpb24oY2hpbGRWaWV3LCBvcHQpIHtcbiAgICAgICAgICAgICAgICBvcHQucmVuZGVyTW9udGggPSBuZXcgVFpEYXRlKHJlbmRlckRhdGUuZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGV0aW1lT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBzdGFydERheU9mV2Vlazogc3RhcnREYXlPZldlZWssXG4gICAgICAgICAgICAgICAgaXNBbHdheXM2V2VlazogaXNBbHdheXM2V2VlayxcbiAgICAgICAgICAgICAgICB3b3Jrd2Vlazogd29ya3dlZWtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlbmRlckRhdGUuYWRkTW9udGgob2Zmc2V0KTtcbiAgICAgICAgICAgIHRlbXBEYXRlID0gZGF0ZXRpbWUuYXJyMmRDYWxlbmRhcihyZW5kZXJEYXRlLmQsIGRhdGV0aW1lT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHJlY3Vyc2l2ZVNldCh2aWV3LCBmdW5jdGlvbihjaGlsZFZpZXcsIG9wdCkge1xuICAgICAgICAgICAgICAgIG9wdC5yZW5kZXJNb250aCA9IG5ldyBUWkRhdGUocmVuZGVyRGF0ZS5kKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnREYXRlID0gdGVtcERhdGVbMF1bMF07XG4gICAgICAgIGVuZERhdGUgPSB0ZW1wRGF0ZVt0ZW1wRGF0ZS5sZW5ndGggLSAxXVt0ZW1wRGF0ZVt0ZW1wRGF0ZS5sZW5ndGggLSAxXS5sZW5ndGggLSAxXTtcbiAgICB9IGVsc2UgaWYgKHZpZXdOYW1lID09PSAnd2VlaycpIHtcbiAgICAgICAgcmVuZGVyRGF0ZS5hZGREYXRlKG9mZnNldCAqIDcpO1xuICAgICAgICBzdGFydERheU9mV2VlayA9IHV0aWwucGljayh0aGlzLl9vcHRpb25zLCAnd2VlaycsICdzdGFydERheU9mV2VlaycpIHx8IDA7XG4gICAgICAgIHdvcmt3ZWVrID0gdXRpbC5waWNrKHRoaXMuX29wdGlvbnMsICd3ZWVrJywgJ3dvcmt3ZWVrJykgfHwgZmFsc2U7XG4gICAgICAgIHRlbXBEYXRlID0gdGhpcy5fZ2V0V2Vla0RheVJhbmdlKHJlbmRlckRhdGUuZCwgc3RhcnREYXlPZldlZWssIHdvcmt3ZWVrKTtcblxuICAgICAgICBzdGFydERhdGUgPSB0ZW1wRGF0ZVswXTtcbiAgICAgICAgZW5kRGF0ZSA9IHRlbXBEYXRlWzFdO1xuXG4gICAgICAgIHJlY3Vyc2l2ZVNldCh2aWV3LCBmdW5jdGlvbihjaGlsZFZpZXcsIG9wdCkge1xuICAgICAgICAgICAgb3B0LnJlbmRlclN0YXJ0RGF0ZSA9IG5ldyBUWkRhdGUoc3RhcnREYXRlKTtcbiAgICAgICAgICAgIG9wdC5yZW5kZXJFbmREYXRlID0gbmV3IFRaRGF0ZShlbmREYXRlKTtcblxuICAgICAgICAgICAgY2hpbGRWaWV3LnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBjb2xsYXBzZWQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHZpZXdOYW1lID09PSAnZGF5Jykge1xuICAgICAgICByZW5kZXJEYXRlLmFkZERhdGUob2Zmc2V0KTtcbiAgICAgICAgc3RhcnREYXRlID0gZGF0ZXRpbWUuc3RhcnQocmVuZGVyRGF0ZS5kKTtcbiAgICAgICAgZW5kRGF0ZSA9IGRhdGV0aW1lLmVuZChyZW5kZXJEYXRlLmQpO1xuXG4gICAgICAgIHJlY3Vyc2l2ZVNldCh2aWV3LCBmdW5jdGlvbihjaGlsZFZpZXcsIG9wdCkge1xuICAgICAgICAgICAgb3B0LnJlbmRlclN0YXJ0RGF0ZSA9IG5ldyBUWkRhdGUoc3RhcnREYXRlKTtcbiAgICAgICAgICAgIG9wdC5yZW5kZXJFbmREYXRlID0gbmV3IFRaRGF0ZShlbmREYXRlKTtcblxuICAgICAgICAgICAgY2hpbGRWaWV3LnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBjb2xsYXBzZWQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZW5kZXJEYXRlID0gcmVuZGVyRGF0ZS5kO1xuICAgIHRoaXMuX3JlbmRlclJhbmdlID0ge1xuICAgICAgICBzdGFydDogc3RhcnREYXRlLFxuICAgICAgICBlbmQ6IGVuZERhdGVcbiAgICB9O1xufTtcblxuLyoqXG4gKiBNb3ZlIHRvIHNwZWNpZmljIGRhdGVcbiAqIEBwYXJhbSB7KERhdGV8c3RyaW5nKX0gZGF0ZSAtIFRoZSBkYXRlIHRvIG1vdmVcbiAqIEBleGFtcGxlXG4gKiBjYWxlbmRhci5vbignY2xpY2tEYXluYW1lJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgICBpZiAoY2FsZW5kYXIuZ2V0Vmlld05hbWUoKSA9PT0gJ3dlZWsnKSB7XG4gKiAgICAgICAgIGNhbGVuZGFyLnNldERhdGUobmV3IERhdGUoZXZlbnQuZGF0ZSkpO1xuICogICAgICAgICBjYWxlbmRhci5jaGFuZ2VWaWV3KCdkYXknLCB0cnVlKTtcbiAqICAgICB9XG4gKiB9KTtcbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLnNldERhdGUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgaWYgKHV0aWwuaXNTdHJpbmcoZGF0ZSkpIHtcbiAgICAgICAgZGF0ZSA9IGRhdGV0aW1lLnBhcnNlKGRhdGUpO1xuICAgIH1cblxuICAgIHRoaXMuX3JlbmRlckRhdGUgPSBuZXcgVFpEYXRlKGRhdGUpO1xuICAgIHRoaXMuX3NldFZpZXdOYW1lKHRoaXMuX3ZpZXdOYW1lKTtcbiAgICB0aGlzLm1vdmUoMCk7XG4gICAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogTW92ZSB0aGUgY2FsZW5kYXIgZm9yd2FyZCBhIGRheSwgYSB3ZWVrLCBhIG1vbnRoLCAyIHdlZWtzLCAzIHdlZWtzLlxuICogQGV4YW1wbGVcbiAqIGZ1bmN0aW9uIG1vdmVUb05leHRPclByZXZSYW5nZSh2YWwpIHtcbiAgICBpZiAodmFsID09PSAtMSkge1xuICAgICAgICBjYWxlbmRhci5wcmV2KCk7XG4gICAgfSBlbHNlIGlmICh2YWwgPT09IDEpIHtcbiAgICAgICAgY2FsZW5kYXIubmV4dCgpO1xuICAgIH1cbn1cbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm1vdmUoMSk7XG4gICAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogTW92ZSB0aGUgY2FsZW5kYXIgYmFja3dhcmQgYSBkYXksIGEgd2VlaywgYSBtb250aCwgMiB3ZWVrcywgMyB3ZWVrcy5cbiAqIEBleGFtcGxlXG4gKiBmdW5jdGlvbiBtb3ZlVG9OZXh0T3JQcmV2UmFuZ2UodmFsKSB7XG4gICAgaWYgKHZhbCA9PT0gLTEpIHtcbiAgICAgICAgY2FsZW5kYXIucHJldigpO1xuICAgIH0gZWxzZSBpZiAodmFsID09PSAxKSB7XG4gICAgICAgIGNhbGVuZGFyLm5leHQoKTtcbiAgICB9XG59XG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5tb3ZlKC0xKTtcbiAgICB0aGlzLnJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gY3VycmVudCByZW5kZXJlZCB2aWV3LlxuICogQHJldHVybnMge1ZpZXd9IGN1cnJlbnQgdmlldyBpbnN0YW5jZVxuICogQHByaXZhdGVcbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLl9nZXRDdXJyZW50VmlldyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3TmFtZSA9IHRoaXMuX3ZpZXdOYW1lO1xuXG4gICAgaWYgKHZpZXdOYW1lID09PSAnZGF5Jykge1xuICAgICAgICB2aWV3TmFtZSA9ICd3ZWVrJztcbiAgICB9XG5cbiAgICByZXR1cm4gdXRpbC5waWNrKHRoaXMuX2xheW91dC5jaGlsZHJlbi5pdGVtcywgdmlld05hbWUpO1xufTtcblxuLyoqXG4gKiBDaGFuZ2UgY2FsZW5kYXIncyBzY2hlZHVsZSBjb2xvciB3aXRoIG9wdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IGNhbGVuZGFySWQgLSBUaGUgY2FsZW5kYXIgSURcbiAqIEBwYXJhbSB7Q2FsZW5kYXJDb2xvcn0gb3B0aW9uIC0gVGhlIHtAbGluayBDYWxlbmRhckNvbG9yfSBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NpbGVudD1mYWxzZV0gLSBObyBhdXRvIHJlbmRlciBhZnRlciBjcmVhdGlvbiB3aGVuIHNldCB0cnVlXG4gKiBAZXhhbXBsZVxuICogY2FsZW5kYXIuc2V0Q2FsZW5kYXJDb2xvcignMScsIHtcbiAqICAgICBjb2xvcjogJyNlOGU4ZTgnLFxuICogICAgIGJnQ29sb3I6ICcjNTg1ODU4JyxcbiAqICAgICBib3JkZXJDb2xvcjogJyNhMWI1NmMnXG4gKiAgICAgZHJhZ0JnQ29sb3I6ICcjNTg1ODU4JyxcbiAqIH0pO1xuICogY2FsZW5kYXIuc2V0Q2FsZW5kYXJDb2xvcignMicsIHtcbiAqICAgICBjb2xvcjogJyMyODI4MjgnLFxuICogICAgIGJnQ29sb3I6ICcjZGM5NjU2JyxcbiAqICAgICBib3JkZXJDb2xvcjogJyNhMWI1NmMnLFxuICogICAgIGRyYWdCZ0NvbG9yOiAnI2RjOTY1NicsXG4gKiB9KTtcbiAqIGNhbGVuZGFyLnNldENhbGVuZGFyQ29sb3IoJzMnLCB7XG4gKiAgICAgY29sb3I6ICcjYTE2OTQ2JyxcbiAqICAgICBiZ0NvbG9yOiAnI2FiNDY0MicsXG4gKiAgICAgYm9yZGVyQ29sb3I6ICcjYTFiNTZjJyxcbiAqICAgICBkcmFnQmdDb2xvcjogJyNhYjQ2NDInLFxuICogfSk7XG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5zZXRDYWxlbmRhckNvbG9yID0gZnVuY3Rpb24oY2FsZW5kYXJJZCwgb3B0aW9uLCBzaWxlbnQpIHtcbiAgICB2YXIgY2FsQ29sb3IgPSB0aGlzLl9jYWxlbmRhckNvbG9yLFxuICAgICAgICBvd25TY2hlZHVsZXMgPSB0aGlzLl9jb250cm9sbGVyLnNjaGVkdWxlcyxcbiAgICAgICAgb3duQ29sb3IgPSBjYWxDb2xvcltjYWxlbmRhcklkXTtcblxuICAgIGlmICghdXRpbC5pc09iamVjdChvcHRpb24pKSB7XG4gICAgICAgIGNvbmZpZy50aHJvd0Vycm9yKFxuICAgICAgICAgICAgXCJDYWxlbmRhciNjaGFuZ2VDYWxlbmRhckNvbG9yKCk6IGNvbG9yIOuKlCB7Y29sb3I6ICcnLCBiZ0NvbG9yOiAnJ30g7ZiV7YOc7Jes7JW8IO2VqeuLiOuLpC5cIlxuICAgICAgICApO1xuICAgIH1cblxuICAgIG93bkNvbG9yID0gY2FsQ29sb3JbY2FsZW5kYXJJZF0gPSB1dGlsLmV4dGVuZChcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3I6ICcjMDAwJyxcbiAgICAgICAgICAgIGJnQ29sb3I6ICcjYTFiNTZjJyxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2ExYjU2YycsXG4gICAgICAgICAgICBkcmFnQmdDb2xvcjogJyNhMWI1NmMnXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvblxuICAgICk7XG5cbiAgICBvd25TY2hlZHVsZXMuZWFjaChmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICBpZiAobW9kZWwuY2FsZW5kYXJJZCAhPT0gY2FsZW5kYXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbW9kZWwuY29sb3IgPSBvd25Db2xvci5jb2xvcjtcbiAgICAgICAgbW9kZWwuYmdDb2xvciA9IG93bkNvbG9yLmJnQ29sb3I7XG4gICAgICAgIG1vZGVsLmJvcmRlckNvbG9yID0gb3duQ29sb3IuYm9yZGVyQ29sb3I7XG4gICAgICAgIG1vZGVsLmRyYWdCZ0NvbG9yID0gb3duQ29sb3IuZHJhZ0JnQ29sb3I7XG4gICAgfSk7XG5cbiAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbn07XG5cbi8qKioqKioqKioqXG4gKiBDdXN0b20gRXZlbnRzXG4gKioqKioqKioqKi9cblxuLyoqXG4gKiBBIGJyaWRnZS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciBjb25uZWN0aW5nIGEgY2xpY2sgaGFuZGxlciB0byBhIHVzZXIgY2xpY2sgZXZlbnQgaGFuZGxlciBmb3IgZWFjaCB2aWV3XG4gKiBAZmlyZXMgQ2FsZW5kYXIjY2xpY2tTY2hlZHVsZVxuICogQHBhcmFtIHtvYmplY3R9IGNsaWNrU2NoZWR1bGVEYXRhIC0gVGhlIGV2ZW50IGRhdGEgb2YgJ2NsaWNrU2NoZWR1bGUnIGhhbmRsZXJcbiAqIEBwcml2YXRlXG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uKGNsaWNrU2NoZWR1bGVEYXRhKSB7XG4gICAgLyoqXG4gICAgICogRmlyZSB0aGlzIGV2ZW50IHdoZW4gY2xpY2sgYSBzY2hlZHVsZS5cbiAgICAgKiBAZXZlbnQgQ2FsZW5kYXIjY2xpY2tTY2hlZHVsZVxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtTY2hlZHVsZX0gc2NoZWR1bGUgLSBUaGUge0BsaW5rIFNjaGVkdWxlfSBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TW91c2VFdmVudH0gZXZlbnQgLSBNb3VzZUV2ZW50XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjYWxlbmRhci5vbignY2xpY2tTY2hlZHVsZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICogICAgIHZhciBzY2hlZHVsZSA9IGV2ZW50LnNjaGVkdWxlO1xuICAgICAqXG4gICAgICogICAgIGlmIChsYXN0Q2xpY2tTY2hlZHVsZSkge1xuICAgICAqICAgICAgICAgY2FsZW5kYXIudXBkYXRlU2NoZWR1bGUobGFzdENsaWNrU2NoZWR1bGUuaWQsIGxhc3RDbGlja1NjaGVkdWxlLmNhbGVuZGFySWQsIHtcbiAgICAgKiAgICAgICAgICAgICBpc0ZvY3VzZWQ6IGZhbHNlXG4gICAgICogICAgICAgICB9KTtcbiAgICAgKiAgICAgfVxuICAgICAqICAgICBjYWxlbmRhci51cGRhdGVTY2hlZHVsZShzY2hlZHVsZS5pZCwgc2NoZWR1bGUuY2FsZW5kYXJJZCwge1xuICAgICAqICAgICAgICAgaXNGb2N1c2VkOiB0cnVlXG4gICAgICogICAgIH0pO1xuICAgICAqXG4gICAgICogICAgIGxhc3RDbGlja1NjaGVkdWxlID0gc2NoZWR1bGU7XG4gICAgICogICAgIC8vIG9wZW4gZGV0YWlsIHZpZXdcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2NsaWNrU2NoZWR1bGUnLCBjbGlja1NjaGVkdWxlRGF0YSk7XG59O1xuXG4vKipcbiAqIEEgYnJpZGdlLWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIGNvbm5lY3RpbmcgYSBjbGljayBoYW5kbGVyIHRvIGEgdXNlciBjbGljayBldmVudCBoYW5kbGVyIGZvciBlYWNoIHZpZXdcbiAqIEBmaXJlcyBDYWxlbmRhciNjbGlja01vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBjbGlja01vcmVTY2hlZHVsZSAtIFRoZSBldmVudCBkYXRhIG9mICdjbGlja01vcmUnIGhhbmRsZXJcbiAqIEBwcml2YXRlXG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5fb25DbGlja01vcmUgPSBmdW5jdGlvbihjbGlja01vcmVTY2hlZHVsZSkge1xuICAgIC8qKlxuICAgICAqIEZpcmUgdGhpcyBldmVudCB3aGVuIGNsaWNrIGEgc2NoZWR1bGUuXG4gICAgICogQGV2ZW50IENhbGVuZGFyI2NsaWNrTW9yZVxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtEYXRlfSBkYXRlIC0gVGhlIENsaWNrZWQgZGF0ZVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIFRoZSBtb3JlIGVsZW1lbnRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNhbGVuZGFyLm9uKCdjbGlja01vcmUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnY2xpY2tNb3JlJywgZXZlbnQuZGF0ZSwgZXZlbnQudGFyZ2V0KTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2NsaWNrTW9yZScsIGNsaWNrTW9yZVNjaGVkdWxlKTtcbn07XG5cbi8qKlxuICogZGF5bmFtZSBjbGljayBldmVudCBoYW5kbGVyXG4gKiBAZmlyZXMgQ2FsZW5kYXIjY2xpY2tEYXluYW1lXG4gKiBAcGFyYW0ge29iamVjdH0gY2xpY2tTY2hlZHVsZURhdGEgLSBUaGUgZXZlbnQgZGF0YSBvZiAnY2xpY2tEYXluYW1lJyBoYW5kbGVyXG4gKiBAcHJpdmF0ZVxuICovXG5DYWxlbmRhci5wcm90b3R5cGUuX29uQ2xpY2tEYXluYW1lID0gZnVuY3Rpb24oY2xpY2tTY2hlZHVsZURhdGEpIHtcbiAgICAvKipcbiAgICAgKiBGaXJlIHRoaXMgZXZlbnQgd2hlbiBjbGljayBhIGRheSBuYW1lIGluIHdlZWtseS5cbiAgICAgKiBAZXZlbnQgQ2FsZW5kYXIjY2xpY2tEYXluYW1lXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gZGF0ZSAtIFRoZSBkYXRlIHN0cmluZyBieSBmb3JtYXQgJ1lZWVktTU0tREQnXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjYWxlbmRhci5vbignY2xpY2tEYXluYW1lJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgKiAgICAgaWYgKGNhbGVuZGFyLmdldFZpZXdOYW1lKCkgPT09ICd3ZWVrJykge1xuICAgICAqICAgICAgICAgY2FsZW5kYXIuc2V0RGF0ZShuZXcgRGF0ZShldmVudC5kYXRlKSk7XG4gICAgICogICAgICAgICBjYWxlbmRhci5jaGFuZ2VWaWV3KCdkYXknLCB0cnVlKTtcbiAgICAgKiAgICAgfVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnY2xpY2tEYXluYW1lJywgY2xpY2tTY2hlZHVsZURhdGEpO1xufTtcblxuLyoqXG4gKiBAZmlyZXMge0NhbGVuZGFyI24oJ2JlZm9yZUNyZWF0ZVNjaGVkdWxlJywgZnVuY3Rpb259XG4gKiBAcGFyYW0ge29iamVjdH0gY3JlYXRlU2NoZWR1bGVEYXRhIC0gc2VsZWN0IHNjaGVkdWxlIGRhdGEgZnJvbSBhbGxkYXksIHRpbWVcbiAqIEBwcml2YXRlXG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5fb25CZWZvcmVDcmVhdGUgPSBmdW5jdGlvbihjcmVhdGVTY2hlZHVsZURhdGEpIHtcbiAgICBpZiAodGhpcy5fb3B0aW9ucy51c2VDcmVhdGlvblBvcHVwICYmICFjcmVhdGVTY2hlZHVsZURhdGEudXNlQ3JlYXRpb25Qb3B1cCkge1xuICAgICAgICBpZiAodGhpcy5fc2hvd0NyZWF0aW9uUG9wdXApIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dDcmVhdGlvblBvcHVwKGNyZWF0ZVNjaGVkdWxlRGF0YSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaXJlIHRoaXMgZXZlbnQgd2hlbiBzZWxlY3QgdGltZSBwZXJpb2QgaW4gZGFpbHksIHdlZWtseSwgbW9udGhseS5cbiAgICAgKiBAZXZlbnQgQ2FsZW5kYXIjYmVmb3JlQ3JlYXRlU2NoZWR1bGVcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNBbGxEYXkgLSBUaGUgYWxsZGF5IHNjaGVkdWxlXG4gICAgICogQHByb3BlcnR5IHtEYXRlfSBzdGFydCAtIFRoZSBzZWxlY3RlZCBzdGFydCB0aW1lXG4gICAgICogQHByb3BlcnR5IHtEYXRlfSBlbmQgLSBUaGUgc2VsZWN0ZWQgZW5kIHRpbWVcbiAgICAgKiBAcHJvcGVydHkge1RpbWVDcmVhdGlvbkd1aWRlfSBndWlkZSAtIHtAbGluayBUaW1lQ3JlYXRpb25HdWlkZX0gaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gdHJpZ2dlckV2ZW50TmFtZSAtIFRoZSBldmVudCBuYW1lIGxpa2UgJ2NsaWNrJywgJ2RibGNsaWNrJ1xuICAgICAqIEBleGFtcGxlXG4gICAgICogY2FsZW5kYXIub24oJ2JlZm9yZUNyZWF0ZVNjaGVkdWxlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgKiAgICAgdmFyIHN0YXJ0VGltZSA9IGV2ZW50LnN0YXJ0O1xuICAgICAqICAgICB2YXIgZW5kVGltZSA9IGV2ZW50LmVuZDtcbiAgICAgKiAgICAgdmFyIGlzQWxsRGF5ID0gZXZlbnQuaXNBbGxEYXk7XG4gICAgICogICAgIHZhciBndWlkZSA9IGV2ZW50Lmd1aWRlO1xuICAgICAqICAgICB2YXIgdHJpZ2dlckV2ZW50TmFtZSA9IGV2ZW50LnRyaWdnZXJFdmVudE5hbWU7XG4gICAgICogICAgIHZhciBzY2hlZHVsZTtcbiAgICAgKlxuICAgICAqICAgICBpZiAodHJpZ2dlckV2ZW50TmFtZSA9PT0gJ2NsaWNrJykge1xuICAgICAqICAgICAgICAgLy8gb3BlbiB3cml0aW5nIHNpbXBsZSBzY2hlZHVsZSBwb3B1cFxuICAgICAqICAgICAgICAgc2NoZWR1bGUgPSB7Li4ufTtcbiAgICAgKiAgICAgfSBlbHNlIGlmICh0cmlnZ2VyRXZlbnROYW1lID09PSAnZGJsY2xpY2snKSB7XG4gICAgICogICAgICAgICAvLyBvcGVuIHdyaXRpbmcgZGV0YWlsIHNjaGVkdWxlIHBvcHVwXG4gICAgICogICAgICAgICBzY2hlZHVsZSA9IHsuLi59O1xuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiAgICAgY2FsZW5kYXIuY3JlYXRlU2NoZWR1bGVzKFtzY2hlZHVsZV0pO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnYmVmb3JlQ3JlYXRlU2NoZWR1bGUnLCBjcmVhdGVTY2hlZHVsZURhdGEpO1xufTtcblxuLyoqXG4gKiBAZmlyZXMgQ2FsZW5kYXIjYmVmb3JlVXBkYXRlU2NoZWR1bGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB1cGRhdGVTY2hlZHVsZURhdGEgLSB1cGRhdGUge0BsaW5rIFNjaGVkdWxlfSBkYXRhXG4gKiBAcHJpdmF0ZVxuICovXG5DYWxlbmRhci5wcm90b3R5cGUuX29uQmVmb3JlVXBkYXRlID0gZnVuY3Rpb24odXBkYXRlU2NoZWR1bGVEYXRhKSB7XG4gICAgLyoqXG4gICAgICogRmlyZSB0aGlzIGV2ZW50IHdoZW4gZHJhZyBhIHNjaGVkdWxlIHRvIGNoYW5nZSB0aW1lIGluIGRhaWx5LCB3ZWVrbHksIG1vbnRobHkuXG4gICAgICogQGV2ZW50IENhbGVuZGFyI2JlZm9yZVVwZGF0ZVNjaGVkdWxlXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1NjaGVkdWxlfSBzY2hlZHVsZSAtIFRoZSBvcmlnaW5hbCB7QGxpbmsgU2NoZWR1bGV9IGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtvYmplY3R9IGNoYW5nZXMgLSBUaGUge0BsaW5rIFNjaGVkdWxlfSBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgd2l0aCBjaGFuZ2VzIHRvIHVwZGF0ZVxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gc3RhcnQgLSBEZXByZWNhdGVkOiBzdGFydCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gZW5kIC0gRGVwcmVjYXRlZDogZW5kIHRpbWUgdG8gdXBkYXRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjYWxlbmRhci5vbignYmVmb3JlVXBkYXRlU2NoZWR1bGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAqICAgICB2YXIgc2NoZWR1bGUgPSBldmVudC5zY2hlZHVsZTtcbiAgICAgKiAgICAgdmFyIGNoYW5nZXMgPSBldmVudC5jaGFuZ2VzO1xuICAgICAqXG4gICAgICogICAgIGNhbGVuZGFyLnVwZGF0ZVNjaGVkdWxlKHNjaGVkdWxlLmlkLCBzY2hlZHVsZS5jYWxlbmRhcklkLCBjaGFuZ2VzKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywgdXBkYXRlU2NoZWR1bGVEYXRhKTtcbn07XG5cbi8qKlxuICogQGZpcmVzIENhbGVuZGFyI2JlZm9yZURlbGV0ZVNjaGVkdWxlXG4gKiBAcGFyYW0ge29iamVjdH0gZGVsZXRlU2NoZWR1bGVEYXRhIC0gZGVsZXRlIHNjaGVkdWxlIGRhdGFcbiAqIEBwcml2YXRlXG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5fb25CZWZvcmVEZWxldGUgPSBmdW5jdGlvbihkZWxldGVTY2hlZHVsZURhdGEpIHtcbiAgICAvKipcbiAgICAgKiBGaXJlIHRoaXMgZXZlbnQgd2hlbiBkZWxldGUgYSBzY2hlZHVsZS5cbiAgICAgKiBAZXZlbnQgQ2FsZW5kYXIjYmVmb3JlRGVsZXRlU2NoZWR1bGVcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7U2NoZWR1bGV9IHNjaGVkdWxlIC0gVGhlIHtAbGluayBTY2hlZHVsZX0gaW5zdGFuY2UgdG8gZGVsZXRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjYWxlbmRhci5vbignYmVmb3JlRGVsZXRlU2NoZWR1bGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAqICAgICB2YXIgc2NoZWR1bGUgPSBldmVudC5zY2hlZHVsZTtcbiAgICAgKiAgICAgYWxlcnQoJ1RoZSBzY2hlZHVsZSBpcyByZW1vdmVkLicsIHNjaGVkdWxlKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2JlZm9yZURlbGV0ZVNjaGVkdWxlJywgZGVsZXRlU2NoZWR1bGVEYXRhKTtcbn07XG5cbi8qKlxuICogQGZpcmVzIENhbGVuZGFyI2FmdGVyUmVuZGVyU2NoZWR1bGVcbiAqIEBwYXJhbSB7U2NoZWR1bGV9IHNjaGVkdWxlRGF0YSAtIFRoZSBzY2hlZHVsZSBkYXRhXG4gKiBAcHJpdmF0ZVxuICovXG5DYWxlbmRhci5wcm90b3R5cGUuX29uQWZ0ZXJSZW5kZXJTY2hlZHVsZSA9IGZ1bmN0aW9uKHNjaGVkdWxlRGF0YSkge1xuICAgIC8qKlxuICAgICAqIEZpcmUgdGhpcyBldmVudCBieSBldmVyeSBzaW5nbGUgc2NoZWR1bGUgYWZ0ZXIgcmVuZGVyaW5nIHdob2xlIGNhbGVuZGFyLlxuICAgICAqIEBldmVudCBDYWxlbmRhciNhZnRlclJlbmRlclNjaGVkdWxlXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1NjaGVkdWxlfSBzY2hlZHVsZSAtIEEgcmVuZGVyZWQge0BsaW5rIFNjaGVkdWxlfSBpbnN0YW5jZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogY2FsZW5kYXIub24oJ2FmdGVyUmVuZGVyU2NoZWR1bGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAqICAgICB2YXIgc2NoZWR1bGUgPSBldmVudC5zY2hlZHVsZTtcbiAgICAgKiAgICAgdmFyIGVsZW1lbnQgPSBjYWxlbmRhci5nZXRFbGVtZW50KHNjaGVkdWxlLmlkLCBzY2hlZHVsZS5jYWxlbmRhcklkKTtcbiAgICAgKiAgICAgLy8gdXNlIHRoZSBlbGVtZW50XG4gICAgICogICAgIGNvbnNvbGUubG9nKGVsZW1lbnQpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnYWZ0ZXJSZW5kZXJTY2hlZHVsZScsIHNjaGVkdWxlRGF0YSk7XG59O1xuXG4vKipcbiAqIEBmaXJlcyBDYWxlbmRhciNjbGlja1RpbWV6b25lc0NvbGxhcHNlQnRuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHRpbWV6b25lc0NvbGxhcHNlZCAtIHRpbWV6b25lcyBjb2xsYXBzZWQgZmxhZ1xuICogQHByaXZhdGVcbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLl9vbkNsaWNrVGltZXpvbmVzQ29sbGFwc2VCdG4gPSBmdW5jdGlvbih0aW1lem9uZXNDb2xsYXBzZWQpIHtcbiAgICAvKipcbiAgICAgKiBGaXJlIHRoaXMgZXZlbnQgYnkgY2xpY2tpbmcgdGltZXpvbmVzIGNvbGxhcHNlIGJ1dHRvblxuICAgICAqIEBldmVudCBDYWxlbmRhciNjbGlja1RpbWV6b25lc0NvbGxhcHNlQnRuXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRpbWV6b25lc0NvbGxhcHNlZCAtIFRoZSB0aW1lem9uZXMgY29sbGFwZXMgZmxhZ1xuICAgICAqIEBleGFtcGxlXG4gICAgICogY2FsZW5kYXIub24oJ2NsaWNrVGltZXpvbmVzQ29sbGFwc2VCdG4nLCBmdW5jdGlvbih0aW1lem9uZXNDb2xsYXBzZWQpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2codGltZXpvbmVzQ29sbGFwc2VkKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2NsaWNrVGltZXpvbmVzQ29sbGFwc2VCdG4nLCB0aW1lem9uZXNDb2xsYXBzZWQpO1xufTtcblxuLyoqXG4gKiBUb2dnbGUgY2FsZW5kYXIgZmFjdG9yeSBjbGFzcywgbWFpbiB2aWV3LCB3YWxsdmlldyBldmVudCBjb25uZWN0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzQXR0YWNoIC0gYXR0YWNoIGV2ZW50cyBpZiB0cnVlLlxuICogQHBhcmFtIHtXZWVrfE1vbnRofSB2aWV3IC0gV2Vla2x5IHZpZXcgb3IgTW9udGhseSB2aWV3XG4gKiBAcHJpdmF0ZVxuICovXG5DYWxlbmRhci5wcm90b3R5cGUuX3RvZ2dsZVZpZXdTY2hlZHVsZSA9IGZ1bmN0aW9uKGlzQXR0YWNoLCB2aWV3KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBoYW5kbGVyID0gdmlldy5oYW5kbGVyLFxuICAgICAgICBtZXRob2QgPSBpc0F0dGFjaCA/ICdvbicgOiAnb2ZmJztcblxuICAgIHV0aWwuZm9yRWFjaChoYW5kbGVyLmNsaWNrLCBmdW5jdGlvbihjbGlja0hhbmRsZXIpIHtcbiAgICAgICAgY2xpY2tIYW5kbGVyW21ldGhvZF0oJ2NsaWNrU2NoZWR1bGUnLCBzZWxmLl9vbkNsaWNrLCBzZWxmKTtcbiAgICB9KTtcblxuICAgIHV0aWwuZm9yRWFjaChoYW5kbGVyLmRheW5hbWUsIGZ1bmN0aW9uKGNsaWNrSGFuZGxlcikge1xuICAgICAgICBjbGlja0hhbmRsZXJbbWV0aG9kXSgnY2xpY2tEYXluYW1lJywgc2VsZi5fb25DbGlja0RheW5hbWUsIHNlbGYpO1xuICAgIH0pO1xuXG4gICAgdXRpbC5mb3JFYWNoKGhhbmRsZXIuY3JlYXRpb24sIGZ1bmN0aW9uKGNyZWF0aW9uSGFuZGxlcikge1xuICAgICAgICBjcmVhdGlvbkhhbmRsZXJbbWV0aG9kXSgnYmVmb3JlQ3JlYXRlU2NoZWR1bGUnLCBzZWxmLl9vbkJlZm9yZUNyZWF0ZSwgc2VsZik7XG4gICAgICAgIGNyZWF0aW9uSGFuZGxlclttZXRob2RdKCdiZWZvcmVEZWxldGVTY2hlZHVsZScsIHNlbGYuX29uQmVmb3JlRGVsZXRlLCBzZWxmKTtcbiAgICB9KTtcblxuICAgIHV0aWwuZm9yRWFjaChoYW5kbGVyLm1vdmUsIGZ1bmN0aW9uKG1vdmVIYW5kbGVyKSB7XG4gICAgICAgIG1vdmVIYW5kbGVyW21ldGhvZF0oJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywgc2VsZi5fb25CZWZvcmVVcGRhdGUsIHNlbGYpO1xuICAgIH0pO1xuXG4gICAgdXRpbC5mb3JFYWNoKGhhbmRsZXIucmVzaXplLCBmdW5jdGlvbihyZXNpemVIYW5kbGVyKSB7XG4gICAgICAgIHJlc2l6ZUhhbmRsZXJbbWV0aG9kXSgnYmVmb3JlVXBkYXRlU2NoZWR1bGUnLCBzZWxmLl9vbkJlZm9yZVVwZGF0ZSwgc2VsZik7XG4gICAgfSk7XG5cbiAgICAvLyBieXBhc3MgZXZlbnRzIGZyb20gdmlld1xuICAgIHZpZXdbbWV0aG9kXSgnYWZ0ZXJSZW5kZXJTY2hlZHVsZScsIHNlbGYuX29uQWZ0ZXJSZW5kZXJTY2hlZHVsZSwgc2VsZik7XG4gICAgdmlld1ttZXRob2RdKCdjbGlja1RpbWV6b25lc0NvbGxhcHNlQnRuJywgc2VsZi5fb25DbGlja1RpbWV6b25lc0NvbGxhcHNlQnRuLCBzZWxmKTtcbiAgICB2aWV3W21ldGhvZF0oJ2NsaWNrTW9yZScsIHNlbGYuX29uQ2xpY2tNb3JlLCBzZWxmKTtcbn07XG5cbi8qKlxuICogQ2hhbmdlIGN1cnJlbnQgdmlldyB3aXRoIHZpZXcgbmFtZSgnZGF5JywgJ3dlZWsnLCAnbW9udGgnKVxuICogQHBhcmFtIHtzdHJpbmd9IG5ld1ZpZXdOYW1lIC0gVGhlIE5ldyB2aWV3IG5hbWUgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlIC0gRm9yY2UgcmVuZGVyIGRlc3BpdGUgb2YgY3VycmVudCB2aWV3IGFuZCBuZXcgdmlldyBhcmUgZXF1YWxcbiAqIEBleGFtcGxlXG4gKiAvLyBkYWlseSB2aWV3XG4gKiBjYWxlbmRhci5jaGFuZ2VWaWV3KCdkYXknLCB0cnVlKTtcbiAqXG4gKiAvLyB3ZWVrbHkgdmlld1xuICogY2FsZW5kYXIuY2hhbmdlVmlldygnd2VlaycsIHRydWUpO1xuICpcbiAqIC8vIG1vbnRobHkgdmlldyhkZWZhdWx0IDYgd2Vla3MgdmlldylcbiAqIGNhbGVuZGFyLnNldE9wdGlvbnMoe21vbnRoOiB7dmlzaWJsZVdlZWtzQ291bnQ6IDZ9fSwgdHJ1ZSk7IC8vIG9yIG51bGxcbiAqIGNhbGVuZGFyLmNoYW5nZVZpZXcoJ21vbnRoJywgdHJ1ZSk7XG4gKlxuICogLy8gMiB3ZWVrcyBtb250aGx5IHZpZXdcbiAqIGNhbGVuZGFyLnNldE9wdGlvbnMoe21vbnRoOiB7dmlzaWJsZVdlZWtzQ291bnQ6IDJ9fSwgdHJ1ZSk7XG4gKiBjYWxlbmRhci5jaGFuZ2VWaWV3KCdtb250aCcsIHRydWUpO1xuICpcbiAqIC8vIDMgd2Vla3MgbW9udGhseSB2aWV3XG4gKiBjYWxlbmRhci5zZXRPcHRpb25zKHttb250aDoge3Zpc2libGVXZWVrc0NvdW50OiAzfX0sIHRydWUpO1xuICogY2FsZW5kYXIuY2hhbmdlVmlldygnbW9udGgnLCB0cnVlKTtcbiAqXG4gKiAvLyBuYXJyb3cgd2Vla2VuZFxuICogY2FsZW5kYXIuc2V0T3B0aW9ucyh7bW9udGg6IHtuYXJyb3dXZWVrZW5kOiB0cnVlfX0sIHRydWUpO1xuICogY2FsZW5kYXIuc2V0T3B0aW9ucyh7d2Vlazoge25hcnJvd1dlZWtlbmQ6IHRydWV9fSwgdHJ1ZSk7XG4gKiBjYWxlbmRhci5jaGFuZ2VWaWV3KGNhbGVuZGFyLmdldFZpZXdOYW1lKCksIHRydWUpO1xuICpcbiAqIC8vIGNoYW5nZSBzdGFydCBkYXkgb2Ygd2Vlayhmcm9tIG1vbmRheSlcbiAqIGNhbGVuZGFyLnNldE9wdGlvbnMoe3dlZWs6IHtzdGFydERheU9mV2VlazogMX19LCB0cnVlKTtcbiAqIGNhbGVuZGFyLnNldE9wdGlvbnMoe21vbnRoOiB7c3RhcnREYXlPZldlZWs6IDF9fSwgdHJ1ZSk7XG4gKiBjYWxlbmRhci5jaGFuZ2VWaWV3KGNhbGVuZGFyLmdldFZpZXdOYW1lKCksIHRydWUpO1xuICpcbiAqIC8vIHdvcmsgd2Vla1xuICogY2FsZW5kYXIuc2V0T3B0aW9ucyh7d2Vlazoge3dvcmt3ZWVrOiB0cnVlfX0sIHRydWUpO1xuICogY2FsZW5kYXIuc2V0T3B0aW9ucyh7bW9udGg6IHt3b3Jrd2VlazogdHJ1ZX19LCB0cnVlKTtcbiAqIGNhbGVuZGFyLmNoYW5nZVZpZXcoY2FsZW5kYXIuZ2V0Vmlld05hbWUoKSwgdHJ1ZSk7XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5DYWxlbmRhci5wcm90b3R5cGUuY2hhbmdlVmlldyA9IGZ1bmN0aW9uKG5ld1ZpZXdOYW1lLCBmb3JjZSkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgbGF5b3V0ID0gdGhpcy5fbGF5b3V0LFxuICAgICAgICBjb250cm9sbGVyID0gdGhpcy5fY29udHJvbGxlcixcbiAgICAgICAgZHJhZ0hhbmRsZXIgPSB0aGlzLl9kcmFnSGFuZGxlcixcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnMsXG4gICAgICAgIHZpZXdOYW1lID0gdGhpcy5fdmlld05hbWUsXG4gICAgICAgIGNyZWF0ZWQ7XG5cbiAgICBpZiAoIWZvcmNlICYmIHZpZXdOYW1lID09PSBuZXdWaWV3TmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0Vmlld05hbWUobmV3Vmlld05hbWUpO1xuXG4gICAgLy8gY29udmVydCBkYXkgdG8gd2Vla1xuICAgIGlmICh2aWV3TmFtZSA9PT0gJ2RheScpIHtcbiAgICAgICAgdmlld05hbWUgPSAnd2Vlayc7XG4gICAgfVxuXG4gICAgaWYgKG5ld1ZpZXdOYW1lID09PSAnZGF5Jykge1xuICAgICAgICBuZXdWaWV3TmFtZSA9ICd3ZWVrJztcbiAgICB9XG4gICAgbGF5b3V0LmNoaWxkcmVuLmRvV2hlbkhhcyh2aWV3TmFtZSwgZnVuY3Rpb24odmlldykge1xuICAgICAgICBzZWxmLl90b2dnbGVWaWV3U2NoZWR1bGUoZmFsc2UsIHZpZXcpO1xuICAgIH0pO1xuXG4gICAgbGF5b3V0LmNsZWFyKCk7XG5cbiAgICBpZiAobmV3Vmlld05hbWUgPT09ICdtb250aCcpIHtcbiAgICAgICAgY3JlYXRlZCA9IF9jcmVhdGVNb250aFZpZXcoY29udHJvbGxlciwgbGF5b3V0LmNvbnRhaW5lciwgZHJhZ0hhbmRsZXIsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAobmV3Vmlld05hbWUgPT09ICd3ZWVrJykge1xuICAgICAgICBjcmVhdGVkID0gX2NyZWF0ZVdlZWtWaWV3KFxuICAgICAgICAgICAgY29udHJvbGxlcixcbiAgICAgICAgICAgIGxheW91dC5jb250YWluZXIsXG4gICAgICAgICAgICBkcmFnSGFuZGxlcixcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICB0aGlzLmdldFZpZXdOYW1lKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsYXlvdXQuYWRkQ2hpbGQoY3JlYXRlZC52aWV3KTtcblxuICAgIGxheW91dC5jaGlsZHJlbi5kb1doZW5IYXMobmV3Vmlld05hbWUsIGZ1bmN0aW9uKHZpZXcpIHtcbiAgICAgICAgc2VsZi5fdG9nZ2xlVmlld1NjaGVkdWxlKHRydWUsIHZpZXcpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVmcmVzaE1ldGhvZCA9IGNyZWF0ZWQucmVmcmVzaDtcbiAgICB0aGlzLl9zY3JvbGxUb05vd01ldGhvZCA9IGNyZWF0ZWQuc2Nyb2xsVG9Ob3c7XG4gICAgdGhpcy5fb3BlbkNyZWF0aW9uUG9wdXAgPSBjcmVhdGVkLm9wZW5DcmVhdGlvblBvcHVwO1xuICAgIHRoaXMuX3Nob3dDcmVhdGlvblBvcHVwID0gY3JlYXRlZC5zaG93Q3JlYXRpb25Qb3B1cDtcbiAgICB0aGlzLl9oaWRlTW9yZVZpZXcgPSBjcmVhdGVkLmhpZGVNb3JlVmlldztcblxuICAgIHRoaXMubW92ZSgpO1xuICAgIHRoaXMucmVuZGVyKCk7XG59O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBUb2dnbGUgdGFzayB2aWV3KCdNaWxlc3RvbmUnLCAnVGFzaycpIHBhbmVsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgLSB1c2UgdGFzayB2aWV3XG4gKiBAZXhhbXBsZVxuICogLy8gVGhlcmUgaXMgbm8gbWlsZXN0b25lLCB0YXNrLCBzbyBoaWRlIHRob3NlIHZpZXcgcGFuZWxcbiAqIGNhbGVuZGFyLnRvZ2dsZVRhc2tWaWV3KGZhbHNlKTtcbiAqXG4gKiAvLyBUaGVyZSBhcmUgc29tZSBtaWxlc3RvbmUsIHRhc2ssIHNvIHNob3cgdGhvc2UgdmlldyBwYW5lbC5cbiAqIGNhbGVuZGFyLnRvZ2dsZVRhc2tWaWV3KHRydWUpO1xuICovXG5DYWxlbmRhci5wcm90b3R5cGUudG9nZ2xlVGFza1ZpZXcgPSBmdW5jdGlvbihlbmFibGVkKSB7XG4gICAgdmFyIHZpZXdOYW1lID0gdGhpcy5fdmlld05hbWUsXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zO1xuXG4gICAgb3B0aW9ucy50YXNrVmlldyA9IGVuYWJsZWQ7XG5cbiAgICB0aGlzLmNoYW5nZVZpZXcodmlld05hbWUsIHRydWUpO1xufTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVG9nZ2xlIHNjaGVkdWxlIHZpZXcoJ0FsbERheScsIFRpbWVHcmlkJykgcGFuZWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCAtIHVzZSB0YXNrIHZpZXdcbiAqIEBleGFtcGxlXG4gKiAvLyBoaWRlIHRob3NlIHZpZXcgcGFuZWwgdG8gc2hvdyBvbmx5ICdNaWxlc3RvbmUnLCAnVGFzaydcbiAqIGNhbGVuZGFyLnRvZ2dsZVNjaGVkdWxlVmlldyhmYWxzZSk7XG4gKlxuICogLy8gc2hvdyB0aG9zZSB2aWV3IHBhbmVsLlxuICogY2FsZW5kYXIudG9nZ2xlU2NoZWR1bGVWaWV3KHRydWUpO1xuICovXG5DYWxlbmRhci5wcm90b3R5cGUudG9nZ2xlU2NoZWR1bGVWaWV3ID0gZnVuY3Rpb24oZW5hYmxlZCkge1xuICAgIHZhciB2aWV3TmFtZSA9IHRoaXMuX3ZpZXdOYW1lLFxuICAgICAgICBvcHRpb25zID0gdGhpcy5fb3B0aW9ucztcblxuICAgIG9wdGlvbnMuc2NoZWR1bGVWaWV3ID0gZW5hYmxlZDtcblxuICAgIHRoaXMuY2hhbmdlVmlldyh2aWV3TmFtZSwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFNldCBjdXJyZW50IHZpZXcgbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHZpZXdOYW1lIC0gbmV3IHZpZXcgbmFtZSB0byByZW5kZXJcbiAqIEBwcml2YXRlXG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5fc2V0Vmlld05hbWUgPSBmdW5jdGlvbih2aWV3TmFtZSkge1xuICAgIHRoaXMuX3ZpZXdOYW1lID0gdmlld05hbWU7XG59O1xuXG4vKipcbiAqIEdldCBhIHNjaGVkdWxlIGVsZW1lbnQgYnkgc2NoZWR1bGUgaWQgYW5kIGNhbGVuZGFyIGlkLlxuICogQHBhcmFtIHtzdHJpbmd9IHNjaGVkdWxlSWQgLSBJRCBvZiBzY2hlZHVsZVxuICogQHBhcmFtIHtzdHJpbmd9IGNhbGVuZGFySWQgLSBjYWxlbmRhcklkIG9mIHNjaGVkdWxlXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IHNjaGVkdWxlIGVsZW1lbnQgaWYgZm91bmQgb3IgbnVsbFxuICogQGV4YW1wbGVcbiAqIHZhciBlbGVtZW50ID0gY2FsZW5kYXIuZ2V0RWxlbWVudChzY2hlZHVsZUlkLCBjYWxlbmRhcklkKTtcbiAqIGNvbnNvbGUubG9nKGVsZW1lbnQpO1xuICovXG5DYWxlbmRhci5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKHNjaGVkdWxlSWQsIGNhbGVuZGFySWQpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSB0aGlzLmdldFNjaGVkdWxlKHNjaGVkdWxlSWQsIGNhbGVuZGFySWQpO1xuICAgIGlmIChzY2hlZHVsZSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICdbZGF0YS1zY2hlZHVsZS1pZD1cIicgKyBzY2hlZHVsZUlkICsgJ1wiXVtkYXRhLWNhbGVuZGFyLWlkPVwiJyArIGNhbGVuZGFySWQgKyAnXCJdJ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBTZXQgYSB0aGVtZS4gSWYgc29tZSBrZXlzIGFyZSBub3QgZGVmaW5lZCBpbiB0aGUgcHJlc2V0LCB3aWxsIGJlIHJldHVybi5cbiAqIEBwYXJhbSB7b2JqZWN0fSB0aGVtZSAtIG11bHRpcGxlIHN0eWxlcyBtYXBcbiAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn0ga2V5cyAtIGVycm9yIGtleXMgbm90IHByZWRlZmluZWQuXG4gKiBAZXhhbXBsZVxuICogY2FsLnNldFRoZW1lKHtcbiAgICAnbW9udGguZGF5bmFtZS5oZWlnaHQnOiAnMzFweCcsXG4gICAgJ2NvbW1vbi5kYXluYW1lLmNvbG9yJzogJyMzMzMnLFxuICAgICdtb250aC5kYXluYW1lLmJvcmRlckJvdHRvbSc6ICcxcHggc29saWQgI2U1ZTVlNScgLy8gTm90IHZhbGlkIGtleSAgd2lsbCBiZSByZXR1cm4uXG4gKiB9KTtcbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLnNldFRoZW1lID0gZnVuY3Rpb24odGhlbWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5fY29udHJvbGxlci5zZXRUaGVtZSh0aGVtZSk7XG4gICAgdGhpcy5yZW5kZXIodHJ1ZSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBTZXQgb3B0aW9ucyBvZiBjYWxlbmRhclxuICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIC0gc2V0IHtAbGluayBPcHRpb25zfVxuICogQHBhcmFtIHtib29sZWFufSBbc2lsZW50PWZhbHNlXSAtIG5vIGF1dG8gcmVuZGVyIGFmdGVyIGNyZWF0aW9uIHdoZW4gc2V0IHRydWVcbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zLCBzaWxlbnQpIHtcbiAgICB1dGlsLmZvckVhY2goXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgICAgICBpZiAodXRpbC5pc09iamVjdCh2YWx1ZSkgJiYgIXV0aWwuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB1dGlsLmZvckVhY2goXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihpbm5lclZhbHVlLCBpbm5lck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnNbbmFtZV1baW5uZXJOYW1lXSA9IGlubmVyVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXNcbiAgICApO1xuXG4gICAgdGhpcy5fc2V0QWRkaXRpb25hbEludGVybmFsT3B0aW9ucyhvcHRpb25zKTtcblxuICAgIGlmICghc2lsZW50KSB7XG4gICAgICAgIHRoaXMuY2hhbmdlVmlldyh0aGlzLl92aWV3TmFtZSwgdHJ1ZSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZXQgY3VycmVudCB7QGxpbmsgT3B0aW9uc30uXG4gKiBAcmV0dXJucyB7T3B0aW9uc30gb3B0aW9uc1xuICovXG5DYWxlbmRhci5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xufTtcblxuLyoqXG4gKiBDdXJyZW50IHJlbmRlcmVkIGRhdGUgKHtAbGluayBUWkRhdGV9IGZvciBmdXJ0aGVyIGluZm9ybWF0aW9uKVxuICogQHJldHVybnMge1RaRGF0ZX1cbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLmdldERhdGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVuZGVyRGF0ZTtcbn07XG5cbi8qKlxuICogU3RhcnQgdGltZSBvZiByZW5kZXJlZCBkYXRlIHJhbmdlICh7QGxpbmsgVFpEYXRlfSBmb3IgZnVydGhlciBpbmZvcm1hdGlvbilcbiAqIEByZXR1cm5zIHtUWkRhdGV9XG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5nZXREYXRlUmFuZ2VTdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9yZW5kZXJSYW5nZS5zdGFydDtcbn07XG5cbi8qKlxuICogRW5kIHRpbWUgb2YgcmVuZGVyZWQgZGF0ZSByYW5nZSAoe0BsaW5rIFRaRGF0ZX0gZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24pXG4gKiBAcmV0dXJucyB7VFpEYXRlfVxuICovXG5DYWxlbmRhci5wcm90b3R5cGUuZ2V0RGF0ZVJhbmdlRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlclJhbmdlLmVuZDtcbn07XG5cbi8qKlxuICogR2V0IGN1cnJlbnQgdmlldyBuYW1lKCdkYXknLCAnd2VlaycsICdtb250aCcpXG4gKiBAcmV0dXJucyB7c3RyaW5nfSB2aWV3IG5hbWVcbiAqL1xuQ2FsZW5kYXIucHJvdG90eXBlLmdldFZpZXdOYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdOYW1lO1xufTtcblxuLyoqXG4gKiBTZXQgY2FsZW5kYXIgbGlzdFxuICogQHBhcmFtIHtBcnJheS48Q2FsZW5kYXJQcm9wcz59IGNhbGVuZGFycyAtIHtAbGluayBDYWxlbmRhclByb3BzfSBMaXN0XG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5zZXRDYWxlbmRhcnMgPSBmdW5jdGlvbihjYWxlbmRhcnMpIHtcbiAgICB1dGlsLmZvckVhY2goXG4gICAgICAgIGNhbGVuZGFycyB8fCBbXSxcbiAgICAgICAgZnVuY3Rpb24oY2FsZW5kYXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2FsZW5kYXJDb2xvcihjYWxlbmRhci5pZCwgY2FsZW5kYXIsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgKTtcblxuICAgIHRoaXMuX2NvbnRyb2xsZXIuc2V0Q2FsZW5kYXJzKGNhbGVuZGFycyk7XG5cbiAgICB0aGlzLnJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBPcGVuIHNjaGVkdWxlIGNyZWF0aW9uIHBvcHVwXG4gKiBAcGFyYW0ge1NjaGVkdWxlfSBzY2hlZHVsZSAtIFRoZSBwcmVzZXQge0BsaW5rIFNjaGVkdWxlfSBkYXRhXG4gKi9cbkNhbGVuZGFyLnByb3RvdHlwZS5vcGVuQ3JlYXRpb25Qb3B1cCA9IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gICAgaWYgKHRoaXMuX29wZW5DcmVhdGlvblBvcHVwKSB7XG4gICAgICAgIHRoaXMuX29wZW5DcmVhdGlvblBvcHVwKHNjaGVkdWxlKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEhpZGUgdGhlIG1vcmUgdmlld1xuICovXG5DYWxlbmRhci5wcm90b3R5cGUuaGlkZU1vcmVWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2hpZGVNb3JlVmlldykge1xuICAgICAgICB0aGlzLl9oaWRlTW9yZVZpZXcoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldCB0aW1lem9uZSBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBUaGUgb2Zmc2V0IChtaW4pXG4gKiBAc3RhdGljXG4gKiBAZGVwcmVjYXRlZFxuICogQGV4YW1wbGVcbiAqIHZhciB0aW1lem9uZU5hbWUgPSBtb21lbnQudHouZ3Vlc3MoKTtcbiAqIHR1aS5DYWxlbmRhci5zZXRUaW1lem9uZU9mZnNldChtb21lbnQudHouem9uZSh0aW1lem9uZU5hbWUpLnV0Y09mZnNldChtb21lbnQoKSkpO1xuICovXG5DYWxlbmRhci5zZXRUaW1lem9uZU9mZnNldCA9IGZ1bmN0aW9uKG9mZnNldCkge1xuICAgIHR6LnNldE9mZnNldChvZmZzZXQpO1xufTtcblxuLyoqXG4gKiBTZXQgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBnZXQgdGltZXpvbmUgb2Zmc2V0IGJ5IHRpbWVzdGFtcFxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAqIEBzdGF0aWNcbiAqIEBkZXByZWNhdGVkXG4gKiBAZXhhbXBsZVxuICogdmFyIHRpbWV6b25lTmFtZSA9IG1vbWVudC50ei5ndWVzcygpO1xuICogdHVpLkNhbGVuZGFyLnNldFRpbWV6b25lT2Zmc2V0Q2FsbGJhY2soZnVuY3Rpb24odGltZXN0YW1wKSB7XG4gKiAgICAgIHJldHVybiBtb21lbnQudHouem9uZSh0aW1lem9uZU5hbWUpLnV0Y09mZnNldCh0aW1lc3RhbXApKTtcbiAqIH0pO1xuICovXG5DYWxlbmRhci5zZXRUaW1lem9uZU9mZnNldENhbGxiYWNrID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0ei5zZXRPZmZzZXRDYWxsYmFjayhjYWxsYmFjayk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBjb250cm9sbGVyIGluc3RhbmNlXG4gKiBAcmV0dXJucyB7QmFzZX0gY29udHJvbGxlciBpbnN0YW5jZVxuICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIC0gY2FsZW5kYXIgb3B0aW9uc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NyZWF0ZUNvbnRyb2xsZXIob3B0aW9ucykge1xuICAgIHJldHVybiBjb250cm9sbGVyRmFjdG9yeShvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgd2VlayB2aWV3IGluc3RhbmNlIGJ5IGRlcGVuZGVudCBtb2R1bGUgaW5zdGFuY2VzXG4gKiBAcGFyYW0ge0Jhc2V9IGNvbnRyb2xsZXIgLSBjb250cm9sbGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgLSBjb250YWluZXIgZWxlbWVudFxuICogQHBhcmFtIHtEcmFnfSBkcmFnSGFuZGxlciAtIGdsb2JhbCBkcmFnIGhhbmRsZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3Igd2VlayB2aWV3XG4gKiBAcGFyYW0ge3N0cmluZ30gdmlld05hbWUgLSAnd2VlaycsICdkYXknXG4gKiBAcmV0dXJucyB7V2Vla30gd2VlayB2aWV3IGluc3RhbmNlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY3JlYXRlV2Vla1ZpZXcoY29udHJvbGxlciwgY29udGFpbmVyLCBkcmFnSGFuZGxlciwgb3B0aW9ucywgdmlld05hbWUpIHtcbiAgICByZXR1cm4gd2Vla1ZpZXdGYWN0b3J5KGNvbnRyb2xsZXIsIGNvbnRhaW5lciwgZHJhZ0hhbmRsZXIsIG9wdGlvbnMsIHZpZXdOYW1lKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgd2VlayB2aWV3IGluc3RhbmNlIGJ5IGRlcGVuZGVudCBtb2R1bGUgaW5zdGFuY2VzXG4gKiBAcGFyYW0ge0Jhc2V9IGNvbnRyb2xsZXIgLSBjb250cm9sbGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgLSBjb250YWluZXIgZWxlbWVudFxuICogQHBhcmFtIHtEcmFnfSBkcmFnSGFuZGxlciAtIGdsb2JhbCBkcmFnIGhhbmRsZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3Igd2VlayB2aWV3XG4gKiBAcmV0dXJucyB7TW9udGh9IG1vbnRoIHZpZXcgaW5zdGFuY2VcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9jcmVhdGVNb250aFZpZXcoY29udHJvbGxlciwgY29udGFpbmVyLCBkcmFnSGFuZGxlciwgb3B0aW9ucykge1xuICAgIHJldHVybiBtb250aFZpZXdGYWN0b3J5KGNvbnRyb2xsZXIsIGNvbnRhaW5lciwgZHJhZ0hhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFNldCBjaGlsZCB2aWV3J3Mgb3B0aW9ucyByZWN1cnNpdmVseVxuICogQHBhcmFtIHtWaWV3fSB2aWV3IC0gcGFyZW50IHZpZXdcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgLSBvcHRpb24gbWFuaXB1bGF0ZSBmdW5jdGlvblxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3NldE9wdGlvblJlY3Vyc2VpdmVseSh2aWV3LCBmdW5jKSB7XG4gICAgdmlldy5yZWN1cnNpdmUoZnVuY3Rpb24oY2hpbGRWaWV3KSB7XG4gICAgICAgIHZhciBvcHQgPSBjaGlsZFZpZXcub3B0aW9ucztcblxuICAgICAgICBpZiAoIW9wdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuYyhjaGlsZFZpZXcsIG9wdCk7XG4gICAgfSk7XG59XG5cbnV0aWwuQ3VzdG9tRXZlbnRzLm1peGluKENhbGVuZGFyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYWxlbmRhcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9mYWN0b3J5L2NvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2ZhY3RvcnkvY29udHJvbGxlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ29udHJvbGxlciBmYWN0b3J5IG1vZHVsZS5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBCYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29udHJvbGxlci9iYXNlICovIFwiLi9zcmMvanMvY29udHJvbGxlci9iYXNlLmpzXCIpLFxuICAgIENvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb250cm9sbGVyL3ZpZXdNaXhpbi9jb3JlICovIFwiLi9zcmMvanMvY29udHJvbGxlci92aWV3TWl4aW4vY29yZS5qc1wiKSxcbiAgICBXZWVrID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29udHJvbGxlci92aWV3TWl4aW4vd2VlayAqLyBcIi4vc3JjL2pzL2NvbnRyb2xsZXIvdmlld01peGluL3dlZWsuanNcIiksXG4gICAgTW9udGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb250cm9sbGVyL3ZpZXdNaXhpbi9tb250aCAqLyBcIi4vc3JjL2pzL2NvbnRyb2xsZXIvdmlld01peGluL21vbnRoLmpzXCIpO1xuXG4vKipcbiAqIE1peGluIG9iamVjdC4gY3JlYXRlIG9iamVjdCBwcm9wZXJ0eSB0byB0YXJnZXQgYW5kIG1peCB0byB0aGF0XG4gKiBAcGFyYW0ge29iamVjdH0gZnJvbSAtIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7b2JqZWN0fSB0byAtIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWUgLSBwcm9wZXJ0eSBuYW1lXG4gKi9cbmZ1bmN0aW9uIG1peGluKGZyb20sIHRvLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICB2YXIgb2JqID0gdG9bcHJvcGVydHlOYW1lXSA9IHt9O1xuXG4gICAgdXRpbC5mb3JFYWNoKGZyb20sIGZ1bmN0aW9uKG1ldGhvZCwgbWV0aG9kTmFtZSkge1xuICAgICAgICBvYmpbbWV0aG9kTmFtZV0gPSBtZXRob2QuYmluZCh0byk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBiYXNlIGNvbnRyb2xsZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLmdyb3VwRnVuY10gLSBmdW5jdGlvbiBmb3IgZ3JvdXAgZWFjaCBtb2RlbHMge0BzZWUgQ29sbGVjdGlvbiNncm91cEJ5fVxuICogQHJldHVybnMge0Jhc2V9IFRoZSBjb250cm9sbGVyIGluc3RhbmNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBCYXNlKG9wdGlvbnMpO1xuXG4gICAgbWl4aW4oQ29yZSwgY29udHJvbGxlciwgJ0NvcmUnKTtcbiAgICBtaXhpbihXZWVrLCBjb250cm9sbGVyLCAnV2VlaycpO1xuICAgIG1peGluKE1vbnRoLCBjb250cm9sbGVyLCAnTW9udGgnKTtcblxuICAgIC8vIGZvciBUaGVtZVxuICAgIGNvbnRyb2xsZXIuQ29yZS50aGVtZSA9IGNvbnRyb2xsZXIudGhlbWU7XG4gICAgY29udHJvbGxlci5XZWVrLnRoZW1lID0gY29udHJvbGxlci50aGVtZTtcbiAgICBjb250cm9sbGVyLk1vbnRoLnRoZW1lID0gY29udHJvbGxlci50aGVtZTtcblxuICAgIHJldHVybiBjb250cm9sbGVyO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9mYWN0b3J5L21vbnRoVmlldy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9mYWN0b3J5L21vbnRoVmlldy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBNb250aCB2aWV3IGZhY3RvcnkgbW9kdWxlXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpLFxuICAgIGFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2FycmF5ICovIFwiLi9zcmMvanMvY29tbW9uL2FycmF5LmpzXCIpLFxuICAgIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpLFxuICAgIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpLFxuICAgIGNvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9jb21tb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29tbW9uLmpzXCIpLFxuICAgIE1vbnRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdmlldy9tb250aC9tb250aCAqLyBcIi4vc3JjL2pzL3ZpZXcvbW9udGgvbW9udGguanNcIiksXG4gICAgTW9udGhDbGljayA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hhbmRsZXIvbW9udGgvY2xpY2sgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL21vbnRoL2NsaWNrLmpzXCIpLFxuICAgIE1vbnRoQ3JlYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oYW5kbGVyL21vbnRoL2NyZWF0aW9uICovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9jcmVhdGlvbi5qc1wiKSxcbiAgICBNb250aFJlc2l6ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hhbmRsZXIvbW9udGgvcmVzaXplICovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9yZXNpemUuanNcIiksXG4gICAgTW9udGhNb3ZlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGFuZGxlci9tb250aC9tb3ZlICovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9tb3ZlLmpzXCIpLFxuICAgIE1vcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi92aWV3L21vbnRoL21vcmUgKi8gXCIuL3NyYy9qcy92aWV3L21vbnRoL21vcmUuanNcIiksXG4gICAgU2NoZWR1bGVDcmVhdGlvblBvcHVwID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdmlldy9wb3B1cC9zY2hlZHVsZUNyZWF0aW9uUG9wdXAgKi8gXCIuL3NyYy9qcy92aWV3L3BvcHVwL3NjaGVkdWxlQ3JlYXRpb25Qb3B1cC5qc1wiKSxcbiAgICBTY2hlZHVsZURldGFpbFBvcHVwID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdmlldy9wb3B1cC9zY2hlZHVsZURldGFpbFBvcHVwICovIFwiLi9zcmMvanMvdmlldy9wb3B1cC9zY2hlZHVsZURldGFpbFBvcHVwLmpzXCIpLFxuICAgIFNjaGVkdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vbW9kZWwvc2NoZWR1bGUgKi8gXCIuL3NyYy9qcy9tb2RlbC9zY2hlZHVsZS5qc1wiKTtcblxuLyoqXG4gKiBHZXQgdGhlIHZpZXcgbW9kZWwgZm9yIG1vcmUgbGF5ZXJcbiAqIEBwYXJhbSB7VFpEYXRlfSBkYXRlIC0gZGF0ZSBoYXMgbW9yZSBzY2hlZHVsZXNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIHRhcmdldCBlbGVtZW50XG4gKiBAcGFyYW0ge0NvbGxlY3Rpb259IHNjaGVkdWxlcyAtIHNjaGVkdWxlIGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nW119IGRheW5hbWVzIC0gZGF5bmFtZXMgdG8gdXNlIHVwc2lkZSBvZiBtb250aCBtb3JlIHZpZXdcbiAqIEByZXR1cm5zIHtvYmplY3R9IHZpZXcgbW9kZWxcbiAqL1xuZnVuY3Rpb24gZ2V0Vmlld01vZGVsRm9yTW9yZUxheWVyKGRhdGUsIHRhcmdldCwgc2NoZWR1bGVzLCBkYXluYW1lcykge1xuICAgIHNjaGVkdWxlcy5lYWNoKGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gICAgICAgIHZhciBtb2RlbCA9IHNjaGVkdWxlLm1vZGVsO1xuICAgICAgICBzY2hlZHVsZS5oYXNNdWx0aURhdGVzID0gZGF0ZXRpbWUuaGFzTXVsdGlEYXRlcyhtb2RlbC5zdGFydCwgbW9kZWwuZW5kKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICBkYXRlOiBkYXRldGltZS5mb3JtYXQoZGF0ZSwgJ1lZWVkuTU0uREQnKSxcbiAgICAgICAgZGF5bmFtZTogZGF5bmFtZXNbZGF0ZS5nZXREYXkoKV0sXG4gICAgICAgIHNjaGVkdWxlczogc2NoZWR1bGVzLnNvcnQoYXJyYXkuY29tcGFyZS5zY2hlZHVsZS5hc2MpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Jhc2V9IGJhc2VDb250cm9sbGVyIC0gY29udHJvbGxlciBpbnN0YW5jZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbGF5b3V0Q29udGFpbmVyIC0gY29udGFpbmVyIGVsZW1lbnQgZm9yIG1vbnRoIHZpZXdcbiAqIEBwYXJhbSB7RHJhZ30gZHJhZ0hhbmRsZXIgLSBkcmFnIGhhbmRsZXIgaW5zdGFuY2VcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICogQHJldHVybnMge29iamVjdH0gdmlldyBpbnN0YW5jZSBhbmQgcmVmcmVzaCBtZXRob2RcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTW9udGhWaWV3KGJhc2VDb250cm9sbGVyLCBsYXlvdXRDb250YWluZXIsIGRyYWdIYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgdmFyIG1vbnRoVmlld0NvbnRhaW5lciwgbW9udGhWaWV3LCBtb3JlVmlldywgY3JlYXRlVmlldztcbiAgICB2YXIgY2xpY2tIYW5kbGVyLCBjcmVhdGlvbkhhbmRsZXIsIHJlc2l6ZUhhbmRsZXIsIG1vdmVIYW5kbGVyLCBjbGVhclNjaGVkdWxlc0hhbmRsZXIsIG9uVXBkYXRlU2NoZWR1bGU7XG4gICAgdmFyIG9uU2hvd0NyZWF0aW9uUG9wdXAsIG9uU2F2ZU5ld1NjaGVkdWxlLCBvblNob3dFZGl0UG9wdXA7XG4gICAgdmFyIGRldGFpbFZpZXcsIG9uU2hvd0RldGFpbFBvcHVwLCBvbkRlbGV0ZVNjaGVkdWxlLCBvbkVkaXRTY2hlZHVsZTtcblxuICAgIG1vbnRoVmlld0NvbnRhaW5lciA9IGRvbXV0aWwuYXBwZW5kSFRNTEVsZW1lbnQoXG4gICAgICAgICdkaXYnLCBsYXlvdXRDb250YWluZXIsIGNvbmZpZy5jbGFzc25hbWUoJ21vbnRoJykpO1xuXG4gICAgbW9udGhWaWV3ID0gbmV3IE1vbnRoKG9wdGlvbnMsIG1vbnRoVmlld0NvbnRhaW5lciwgYmFzZUNvbnRyb2xsZXIuTW9udGgpO1xuICAgIG1vcmVWaWV3ID0gbmV3IE1vcmUob3B0aW9ucy5tb250aCwgbGF5b3V0Q29udGFpbmVyLCBiYXNlQ29udHJvbGxlci50aGVtZSk7XG5cbiAgICAvLyBoYW5kbGVyc1xuICAgIGNsaWNrSGFuZGxlciA9IG5ldyBNb250aENsaWNrKGRyYWdIYW5kbGVyLCBtb250aFZpZXcsIGJhc2VDb250cm9sbGVyKTtcbiAgICBpZiAoIW9wdGlvbnMuaXNSZWFkT25seSkge1xuICAgICAgICBjcmVhdGlvbkhhbmRsZXIgPSBuZXcgTW9udGhDcmVhdGlvbihkcmFnSGFuZGxlciwgbW9udGhWaWV3LCBiYXNlQ29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgICAgIHJlc2l6ZUhhbmRsZXIgPSBuZXcgTW9udGhSZXNpemUoZHJhZ0hhbmRsZXIsIG1vbnRoVmlldywgYmFzZUNvbnRyb2xsZXIpO1xuICAgICAgICBtb3ZlSGFuZGxlciA9IG5ldyBNb250aE1vdmUoZHJhZ0hhbmRsZXIsIG1vbnRoVmlldywgYmFzZUNvbnRyb2xsZXIpO1xuICAgIH1cblxuICAgIGNsZWFyU2NoZWR1bGVzSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAobW9yZVZpZXcpIHtcbiAgICAgICAgICAgIG1vcmVWaWV3LmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBvblVwZGF0ZVNjaGVkdWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChtb3JlVmlldykge1xuICAgICAgICAgICAgbW9yZVZpZXcucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGJpbmRpbmcgK24gY2xpY2sgc2NoZWR1bGVcbiAgICBjbGlja0hhbmRsZXIub24oJ2NsaWNrTW9yZScsIGZ1bmN0aW9uKGNsaWNrTW9yZVNjaGVkdWxlKSB7XG4gICAgICAgIHZhciBkYXRlID0gY2xpY2tNb3JlU2NoZWR1bGUuZGF0ZSxcbiAgICAgICAgICAgIHRhcmdldCA9IGNsaWNrTW9yZVNjaGVkdWxlLnRhcmdldCxcbiAgICAgICAgICAgIHNjaGVkdWxlcyA9IHV0aWwucGljayhiYXNlQ29udHJvbGxlci5maW5kQnlEYXRlUmFuZ2UoXG4gICAgICAgICAgICAgICAgZGF0ZXRpbWUuc3RhcnQoZGF0ZSksXG4gICAgICAgICAgICAgICAgZGF0ZXRpbWUuZW5kKGRhdGUpXG4gICAgICAgICAgICApLCBjbGlja01vcmVTY2hlZHVsZS55bWQpO1xuXG4gICAgICAgIHNjaGVkdWxlcy5pdGVtcyA9IHV0aWwuZmlsdGVyKHNjaGVkdWxlcy5pdGVtcywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMubW9udGguc2NoZWR1bGVGaWx0ZXIoaXRlbS5tb2RlbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzY2hlZHVsZXMgJiYgc2NoZWR1bGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgbW9yZVZpZXcucmVuZGVyKGdldFZpZXdNb2RlbEZvck1vcmVMYXllcihkYXRlLCB0YXJnZXQsIHNjaGVkdWxlcywgbW9udGhWaWV3Lm9wdGlvbnMuZGF5bmFtZXMpKTtcblxuICAgICAgICAgICAgc2NoZWR1bGVzLmVhY2goZnVuY3Rpb24oc2NoZWR1bGVWaWV3TW9kZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZWR1bGVWaWV3TW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEBldmVudCBNb3JlI2FmdGVyUmVuZGVyU2NoZWR1bGVcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoVmlldy5maXJlKCdhZnRlclJlbmRlclNjaGVkdWxlJywge3NjaGVkdWxlOiBzY2hlZHVsZVZpZXdNb2RlbC5tb2RlbH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtb250aFZpZXcuZmlyZSgnY2xpY2tNb3JlJywge1xuICAgICAgICAgICAgICAgIGRhdGU6IGNsaWNrTW9yZVNjaGVkdWxlLmRhdGUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBtb3JlVmlldy5nZXRNb3JlVmlld0VsZW1lbnQoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGJpbmRpbmcgcG9wdXAgZm9yIHNjaGVkdWxlcyBjcmVhdGlvblxuICAgIGlmIChvcHRpb25zLnVzZUNyZWF0aW9uUG9wdXApIHtcbiAgICAgICAgY3JlYXRlVmlldyA9IG5ldyBTY2hlZHVsZUNyZWF0aW9uUG9wdXAobGF5b3V0Q29udGFpbmVyLCBiYXNlQ29udHJvbGxlci5jYWxlbmRhcnMsIG9wdGlvbnMudXNhZ2VTdGF0aXN0aWNzKTtcblxuICAgICAgICBvblNhdmVOZXdTY2hlZHVsZSA9IGZ1bmN0aW9uKHNjaGVkdWxlRGF0YSkge1xuICAgICAgICAgICAgY3JlYXRpb25IYW5kbGVyLmZpcmUoJ2JlZm9yZUNyZWF0ZVNjaGVkdWxlJywgdXRpbC5leHRlbmQoc2NoZWR1bGVEYXRhLCB7XG4gICAgICAgICAgICAgICAgdXNlQ3JlYXRpb25Qb3B1cDogdHJ1ZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICBjcmVhdGVWaWV3Lm9uKCdiZWZvcmVDcmVhdGVTY2hlZHVsZScsIG9uU2F2ZU5ld1NjaGVkdWxlKTtcbiAgICB9XG5cbiAgICAvLyBiaW5kaW5nIHBvcHVwIGZvciBzY2hlZHVsZSBkZXRhaWxcbiAgICBpZiAob3B0aW9ucy51c2VEZXRhaWxQb3B1cCkge1xuICAgICAgICBkZXRhaWxWaWV3ID0gbmV3IFNjaGVkdWxlRGV0YWlsUG9wdXAobGF5b3V0Q29udGFpbmVyLCBiYXNlQ29udHJvbGxlci5jYWxlbmRhcnMpO1xuICAgICAgICBvblNob3dEZXRhaWxQb3B1cCA9IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xuICAgICAgICAgICAgdmFyIHNjaGVkdWxlSWQgPSBldmVudERhdGEuc2NoZWR1bGUuY2FsZW5kYXJJZDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jYWxlbmRhciA9IGNvbW1vbi5maW5kKGJhc2VDb250cm9sbGVyLmNhbGVuZGFycywgZnVuY3Rpb24oY2FsZW5kYXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsZW5kYXIuaWQgPT09IHNjaGVkdWxlSWQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNSZWFkT25seSkge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zY2hlZHVsZSA9IHV0aWwuZXh0ZW5kKHt9LCBldmVudERhdGEuc2NoZWR1bGUsIHtpc1JlYWRPbmx5OiB0cnVlfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRldGFpbFZpZXcucmVuZGVyKGV2ZW50RGF0YSk7XG4gICAgICAgIH07XG4gICAgICAgIG9uRGVsZXRlU2NoZWR1bGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICAgICAgICAgIGlmIChjcmVhdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGlvbkhhbmRsZXIuZmlyZSgnYmVmb3JlRGVsZXRlU2NoZWR1bGUnLCBldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBvbkVkaXRTY2hlZHVsZSA9IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xuICAgICAgICAgICAgbW92ZUhhbmRsZXIuZmlyZSgnYmVmb3JlVXBkYXRlU2NoZWR1bGUnLCBldmVudERhdGEpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNsaWNrSGFuZGxlci5vbignY2xpY2tTY2hlZHVsZScsIG9uU2hvd0RldGFpbFBvcHVwKTtcblxuICAgICAgICBkZXRhaWxWaWV3Lm9uKCdiZWZvcmVEZWxldGVTY2hlZHVsZScsIG9uRGVsZXRlU2NoZWR1bGUpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnVzZUNyZWF0aW9uUG9wdXApIHtcbiAgICAgICAgICAgIG9uU2hvd0VkaXRQb3B1cCA9IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVZpZXcuc2V0Q2FsZW5kYXJzKGJhc2VDb250cm9sbGVyLmNhbGVuZGFycyk7XG4gICAgICAgICAgICAgICAgY3JlYXRlVmlldy5yZW5kZXIoZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjcmVhdGVWaWV3Lm9uKCdiZWZvcmVVcGRhdGVTY2hlZHVsZScsIG9uRWRpdFNjaGVkdWxlKTtcbiAgICAgICAgICAgIGRldGFpbFZpZXcub24oJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywgb25TaG93RWRpdFBvcHVwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRldGFpbFZpZXcub24oJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywgb25FZGl0U2NoZWR1bGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYmluZGluZyBjbGVhciBzY2hlZHVsZXNcbiAgICBiYXNlQ29udHJvbGxlci5vbignY2xlYXJTY2hlZHVsZXMnLCBjbGVhclNjaGVkdWxlc0hhbmRsZXIpO1xuXG4gICAgLy8gYmluZCB1cGRhdGUgc2NoZWR1bGUgZXZlbnRcbiAgICBiYXNlQ29udHJvbGxlci5vbigndXBkYXRlU2NoZWR1bGUnLCBvblVwZGF0ZVNjaGVkdWxlKTtcblxuICAgIGlmIChtb3ZlSGFuZGxlcikge1xuICAgICAgICBtb3ZlSGFuZGxlci5vbignbW9udGhNb3ZlU3RhcnRfZnJvbV9tb3JlbGF5ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1vcmVWaWV3LmhpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbW9udGhWaWV3LmhhbmRsZXIgPSB7XG4gICAgICAgIGNsaWNrOiB7XG4gICAgICAgICAgICAnZGVmYXVsdCc6IGNsaWNrSGFuZGxlclxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmICghb3B0aW9ucy5pc1JlYWRPbmx5KSB7XG4gICAgICAgIG1vbnRoVmlldy5oYW5kbGVyID0gdXRpbC5leHRlbmQobW9udGhWaWV3LmhhbmRsZXIsIHtcbiAgICAgICAgICAgIGNyZWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiBjcmVhdGlvbkhhbmRsZXJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNpemU6IHtcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHJlc2l6ZUhhbmRsZXJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3ZlOiB7XG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiBtb3ZlSGFuZGxlclxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtb250aFZpZXcuX2JlZm9yZURlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbW9yZVZpZXcuZGVzdHJveSgpO1xuICAgICAgICBiYXNlQ29udHJvbGxlci5vZmYoJ2NsZWFyU2NoZWR1bGVzJywgY2xlYXJTY2hlZHVsZXNIYW5kbGVyKTtcbiAgICAgICAgYmFzZUNvbnRyb2xsZXIub2ZmKCd1cGRhdGVTY2hlZHVsZScsIG9uVXBkYXRlU2NoZWR1bGUpO1xuXG4gICAgICAgIHV0aWwuZm9yRWFjaChtb250aFZpZXcuaGFuZGxlciwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgdXRpbC5mb3JFYWNoKHR5cGUsIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLm9mZigpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnVzZUNyZWF0aW9uUG9wdXAgJiYgb3B0aW9ucy51c2VEZXRhaWxQb3B1cCkge1xuICAgICAgICAgICAgY3JlYXRlVmlldy5vZmYoJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywgb25VcGRhdGVTY2hlZHVsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy51c2VDcmVhdGlvblBvcHVwKSB7XG4gICAgICAgICAgICBpZiAoY3JlYXRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRpb25IYW5kbGVyLm9mZignYmVmb3JlQ3JlYXRlU2NoZWR1bGUnLCBvblNob3dDcmVhdGlvblBvcHVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWF0ZVZpZXcub2ZmKCdzYXZlU2NoZWR1bGUnLCBvblNhdmVOZXdTY2hlZHVsZSk7XG4gICAgICAgICAgICBjcmVhdGVWaWV3LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnVzZURldGFpbFBvcHVwKSB7XG4gICAgICAgICAgICBjbGlja0hhbmRsZXIub2ZmKCdjbGlja1NjaGVkdWxlJywgb25TaG93RGV0YWlsUG9wdXApO1xuICAgICAgICAgICAgZGV0YWlsVmlldy5vZmYoJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywgb25VcGRhdGVTY2hlZHVsZSk7XG4gICAgICAgICAgICBkZXRhaWxWaWV3Lm9mZignYmVmb3JlRGVsZXRlU2NoZWR1bGUnLCBvbkRlbGV0ZVNjaGVkdWxlKTtcbiAgICAgICAgICAgIGRldGFpbFZpZXcuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGFkZCBjb250cm9sbGVyXG4gICAgbW9udGhWaWV3LmNvbnRyb2xsZXIgPSBiYXNlQ29udHJvbGxlci5Nb250aDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHZpZXc6IG1vbnRoVmlldyxcbiAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtb250aFZpZXcudkxheW91dC5yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9wZW5DcmVhdGlvblBvcHVwOiBmdW5jdGlvbihzY2hlZHVsZSkge1xuICAgICAgICAgICAgaWYgKGNyZWF0ZVZpZXcgJiYgY3JlYXRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRpb25IYW5kbGVyLmludm9rZUNyZWF0aW9uQ2xpY2soU2NoZWR1bGUuY3JlYXRlKHNjaGVkdWxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNob3dDcmVhdGlvblBvcHVwOiBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICAgICAgICAgIGlmIChjcmVhdGVWaWV3KSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlVmlldy5zZXRDYWxlbmRhcnMoYmFzZUNvbnRyb2xsZXIuY2FsZW5kYXJzKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVWaWV3LnJlbmRlcihldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBoaWRlTW9yZVZpZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKG1vcmVWaWV3KSB7XG4gICAgICAgICAgICAgICAgbW9yZVZpZXcuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVNb250aFZpZXc7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvZmFjdG9yeS93ZWVrVmlldy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2ZhY3Rvcnkvd2Vla1ZpZXcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBGYWN0b3J5IG1vZHVsZSBmb3IgV2Vla1ZpZXdcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIik7XG52YXIgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIik7XG52YXIgY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2NvbW1vbiAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb21tb24uanNcIik7XG52YXIgVkxheW91dCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi92bGF5b3V0ICovIFwiLi9zcmMvanMvY29tbW9uL3ZsYXlvdXQuanNcIik7XG52YXIgcmVxQW5pbUZyYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL3JlcUFuaW1GcmFtZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9yZXFBbmltRnJhbWUuanNcIik7XG52YXIgU2NoZWR1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9tb2RlbC9zY2hlZHVsZSAqLyBcIi4vc3JjL2pzL21vZGVsL3NjaGVkdWxlLmpzXCIpO1xuLy8gUGFyZW50IHZpZXdzXG52YXIgV2VlayA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3ZpZXcvd2Vlay93ZWVrICovIFwiLi9zcmMvanMvdmlldy93ZWVrL3dlZWsuanNcIik7XG5cbi8vIFN1YiB2aWV3c1xudmFyIERheU5hbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi92aWV3L3dlZWsvZGF5bmFtZSAqLyBcIi4vc3JjL2pzL3ZpZXcvd2Vlay9kYXluYW1lLmpzXCIpO1xudmFyIERheUdyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi92aWV3L3dlZWsvZGF5R3JpZCAqLyBcIi4vc3JjL2pzL3ZpZXcvd2Vlay9kYXlHcmlkLmpzXCIpO1xudmFyIFRpbWVHcmlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdmlldy93ZWVrL3RpbWVHcmlkICovIFwiLi9zcmMvanMvdmlldy93ZWVrL3RpbWVHcmlkLmpzXCIpO1xudmFyIFNjaGVkdWxlQ3JlYXRpb25Qb3B1cCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3ZpZXcvcG9wdXAvc2NoZWR1bGVDcmVhdGlvblBvcHVwICovIFwiLi9zcmMvanMvdmlldy9wb3B1cC9zY2hlZHVsZUNyZWF0aW9uUG9wdXAuanNcIik7XG52YXIgU2NoZWR1bGVEZXRhaWxQb3B1cCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3ZpZXcvcG9wdXAvc2NoZWR1bGVEZXRhaWxQb3B1cCAqLyBcIi4vc3JjL2pzL3ZpZXcvcG9wdXAvc2NoZWR1bGVEZXRhaWxQb3B1cC5qc1wiKTtcblxuLy8gSGFuZGxlcnNcbnZhciBEYXlOYW1lQ2xpY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oYW5kbGVyL3RpbWUvY2xpY2tEYXluYW1lICovIFwiLi9zcmMvanMvaGFuZGxlci90aW1lL2NsaWNrRGF5bmFtZS5qc1wiKTtcbnZhciBEYXlHcmlkQ2xpY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oYW5kbGVyL2RheWdyaWQvY2xpY2sgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvY2xpY2suanNcIik7XG52YXIgRGF5R3JpZENyZWF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGFuZGxlci9kYXlncmlkL2NyZWF0aW9uICovIFwiLi9zcmMvanMvaGFuZGxlci9kYXlncmlkL2NyZWF0aW9uLmpzXCIpO1xudmFyIERheUdyaWRNb3ZlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGFuZGxlci9kYXlncmlkL21vdmUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvbW92ZS5qc1wiKTtcbnZhciBEYXlHcmlkUmVzaXplID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGFuZGxlci9kYXlncmlkL3Jlc2l6ZSAqLyBcIi4vc3JjL2pzL2hhbmRsZXIvZGF5Z3JpZC9yZXNpemUuanNcIik7XG52YXIgVGltZUNsaWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGFuZGxlci90aW1lL2NsaWNrICovIFwiLi9zcmMvanMvaGFuZGxlci90aW1lL2NsaWNrLmpzXCIpO1xudmFyIFRpbWVDcmVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hhbmRsZXIvdGltZS9jcmVhdGlvbiAqLyBcIi4vc3JjL2pzL2hhbmRsZXIvdGltZS9jcmVhdGlvbi5qc1wiKTtcbnZhciBUaW1lTW92ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hhbmRsZXIvdGltZS9tb3ZlICovIFwiLi9zcmMvanMvaGFuZGxlci90aW1lL21vdmUuanNcIik7XG52YXIgVGltZVJlc2l6ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hhbmRsZXIvdGltZS9yZXNpemUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL3RpbWUvcmVzaXplLmpzXCIpO1xuXG52YXIgREFZR1JJRF9IQU5ETERFUlMgPSB7XG4gICAgJ2NsaWNrJzogRGF5R3JpZENsaWNrLFxuICAgICdjcmVhdGlvbic6IERheUdyaWRDcmVhdGlvbixcbiAgICAnbW92ZSc6IERheUdyaWRNb3ZlLFxuICAgICdyZXNpemUnOiBEYXlHcmlkUmVzaXplXG59O1xudmFyIFRJTUVHUklEX0hBTkRMRVJTID0ge1xuICAgICdjbGljayc6IFRpbWVDbGljayxcbiAgICAnY3JlYXRpb24nOiBUaW1lQ3JlYXRpb24sXG4gICAgJ21vdmUnOiBUaW1lTW92ZSxcbiAgICAncmVzaXplJzogVGltZVJlc2l6ZVxufTtcbnZhciBERUZBVUxUX1BBTkVMUyA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdtaWxlc3RvbmUnLFxuICAgICAgICB0eXBlOiAnZGF5Z3JpZCcsXG4gICAgICAgIG1pbkhlaWdodDogMjAsXG4gICAgICAgIG1heEhlaWdodDogODAsXG4gICAgICAgIHNob3dFeHBhbmRhYmxlQnV0dG9uOiB0cnVlLFxuICAgICAgICBtYXhFeHBhbmRhYmxlSGVpZ2h0OiAyMTAsXG4gICAgICAgIGhhbmRsZXJzOiBbJ2NsaWNrJ10sXG4gICAgICAgIHNob3c6IHRydWVcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3Rhc2snLFxuICAgICAgICB0eXBlOiAnZGF5Z3JpZCcsXG4gICAgICAgIG1pbkhlaWdodDogNDAsXG4gICAgICAgIG1heEhlaWdodDogMTIwLFxuICAgICAgICBzaG93RXhwYW5kYWJsZUJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgbWF4RXhwYW5kYWJsZUhlaWdodDogMjEwLFxuICAgICAgICBoYW5kbGVyczogWydjbGljaycsICdtb3ZlJ10sXG4gICAgICAgIHNob3c6IHRydWVcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2FsbGRheScsXG4gICAgICAgIHR5cGU6ICdkYXlncmlkJyxcbiAgICAgICAgbWluSGVpZ2h0OiAzMCxcbiAgICAgICAgbWF4SGVpZ2h0OiA4MCxcbiAgICAgICAgc2hvd0V4cGFuZGFibGVCdXR0b246IHRydWUsXG4gICAgICAgIG1heEV4cGFuZGFibGVIZWlnaHQ6IDIxMCxcbiAgICAgICAgaGFuZGxlcnM6IFsnY2xpY2snLCAnY3JlYXRpb24nLCAnbW92ZScsICdyZXNpemUnXSxcbiAgICAgICAgc2hvdzogdHJ1ZVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAndGltZScsXG4gICAgICAgIHR5cGU6ICd0aW1lZ3JpZCcsXG4gICAgICAgIGF1dG9IZWlnaHQ6IHRydWUsXG4gICAgICAgIGhhbmRsZXJzOiBbJ2NsaWNrJywgJ2NyZWF0aW9uJywgJ21vdmUnLCAncmVzaXplJ10sXG4gICAgICAgIHNob3c6IHRydWVcbiAgICB9XG5dO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBjb21wbGV4aXR5Ki9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYmFzZUNvbnRyb2xsZXIsIGxheW91dENvbnRhaW5lciwgZHJhZ0hhbmRsZXIsIG9wdGlvbnMsIHZpZXdOYW1lKSB7XG4gICAgdmFyIHBhbmVscyA9IFtdLFxuICAgICAgICB2cGFuZWxzID0gW107XG4gICAgdmFyIHdlZWtWaWV3LCBkYXlOYW1lQ29udGFpbmVyLCBkYXlOYW1lVmlldywgdkxheW91dENvbnRhaW5lciwgdkxheW91dDtcbiAgICB2YXIgY3JlYXRlVmlldywgb25TYXZlTmV3U2NoZWR1bGUsIG9uU2V0Q2FsZW5kYXJzLCBsYXN0VlBhbmVsO1xuICAgIHZhciBkZXRhaWxWaWV3LCBvblNob3dEZXRhaWxQb3B1cCwgb25EZWxldGVTY2hlZHVsZSwgb25TaG93RWRpdFBvcHVwLCBvbkVkaXRTY2hlZHVsZTtcbiAgICB2YXIgdGFza1ZpZXcgPSBvcHRpb25zLnRhc2tWaWV3O1xuICAgIHZhciBzY2hlZHVsZVZpZXcgPSBvcHRpb25zLnNjaGVkdWxlVmlldztcbiAgICB2YXIgdmlld1Zpc2liaWxpdGllcyA9IHtcbiAgICAgICAgJ21pbGVzdG9uZSc6IHV0aWwuaXNBcnJheSh0YXNrVmlldykgPyB1dGlsLmluQXJyYXkoJ21pbGVzdG9uZScsIHRhc2tWaWV3KSA+PSAwIDogdGFza1ZpZXcsXG4gICAgICAgICd0YXNrJzogdXRpbC5pc0FycmF5KHRhc2tWaWV3KSA/IHV0aWwuaW5BcnJheSgndGFzaycsIHRhc2tWaWV3KSA+PSAwIDogdGFza1ZpZXcsXG4gICAgICAgICdhbGxkYXknOiB1dGlsLmlzQXJyYXkoc2NoZWR1bGVWaWV3KSA/IHV0aWwuaW5BcnJheSgnYWxsZGF5Jywgc2NoZWR1bGVWaWV3KSA+PSAwIDogc2NoZWR1bGVWaWV3LFxuICAgICAgICAndGltZSc6IHV0aWwuaXNBcnJheShzY2hlZHVsZVZpZXcpID8gdXRpbC5pbkFycmF5KCd0aW1lJywgc2NoZWR1bGVWaWV3KSA+PSAwIDogc2NoZWR1bGVWaWV3XG4gICAgfTtcblxuICAgIC8vIE1ha2UgcGFuZWxzIGJ5IHZpZXcgc2VxdWVuY2UgYW5kIHZpc2liaWxpdGllc1xuICAgIHV0aWwuZm9yRWFjaChERUZBVUxUX1BBTkVMUywgZnVuY3Rpb24ocGFuZWwpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBwYW5lbC5uYW1lO1xuXG4gICAgICAgIHBhbmVsID0gdXRpbC5leHRlbmQoe30sIHBhbmVsKTtcbiAgICAgICAgcGFuZWxzLnB1c2gocGFuZWwpO1xuXG4gICAgICAgIC8vIENoYW5nZSB2aXNpYmlsaXRpZXNcbiAgICAgICAgcGFuZWwuc2hvdyA9IHZpZXdWaXNpYmlsaXRpZXNbbmFtZV07XG5cbiAgICAgICAgaWYgKHBhbmVsLnNob3cpIHtcbiAgICAgICAgICAgIGlmICh2cGFuZWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZwYW5lbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlzU3BsaXR0ZXI6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZwYW5lbHMucHVzaCh1dGlsLmV4dGVuZCh7fSwgcGFuZWwpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHZwYW5lbHMubGVuZ3RoKSB7XG4gICAgICAgIGxhc3RWUGFuZWwgPSB2cGFuZWxzW3ZwYW5lbHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGxhc3RWUGFuZWwuYXV0b0hlaWdodCA9IHRydWU7XG4gICAgICAgIGxhc3RWUGFuZWwubWF4SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgbGFzdFZQYW5lbC5zaG93RXhwYW5kYWJsZUJ1dHRvbiA9IGZhbHNlO1xuXG4gICAgICAgIHV0aWwuZm9yRWFjaChwYW5lbHMsIGZ1bmN0aW9uKHBhbmVsKSB7XG4gICAgICAgICAgICBpZiAocGFuZWwubmFtZSA9PT0gbGFzdFZQYW5lbC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgcGFuZWwuc2hvd0V4cGFuZGFibGVCdXR0b24gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHV0aWwuZXh0ZW5kKG9wdGlvbnMud2Vlaywge3BhbmVsczogcGFuZWxzfSk7XG5cbiAgICB3ZWVrVmlldyA9IG5ldyBXZWVrKG51bGwsIG9wdGlvbnMud2VlaywgbGF5b3V0Q29udGFpbmVyLCBwYW5lbHMsIHZpZXdOYW1lKTtcbiAgICB3ZWVrVmlldy5oYW5kbGVyID0ge1xuICAgICAgICBjbGljazoge30sXG4gICAgICAgIGRheW5hbWU6IHt9LFxuICAgICAgICBjcmVhdGlvbjoge30sXG4gICAgICAgIG1vdmU6IHt9LFxuICAgICAgICByZXNpemU6IHt9XG4gICAgfTtcblxuICAgIGRheU5hbWVDb250YWluZXIgPSBkb211dGlsLmFwcGVuZEhUTUxFbGVtZW50KCdkaXYnLCB3ZWVrVmlldy5jb250YWluZXIsIGNvbmZpZy5jbGFzc25hbWUoJ2RheW5hbWUtbGF5b3V0JykpO1xuXG4gICAgLyoqKioqKioqKipcbiAgICAgKiBEYXkgbmFtZSAodG9wIHJvdyhNb24sIFR1ZSwgV2VkLi4uKSlcbiAgICAgKioqKioqKioqKi9cbiAgICBkYXlOYW1lVmlldyA9IG5ldyBEYXlOYW1lKG9wdGlvbnMsIGRheU5hbWVDb250YWluZXIsIGJhc2VDb250cm9sbGVyLnRoZW1lKTtcbiAgICB3ZWVrVmlldy5oYW5kbGVyLmRheW5hbWUuZGF0ZSA9IG5ldyBEYXlOYW1lQ2xpY2soZHJhZ0hhbmRsZXIsIGRheU5hbWVWaWV3LCBiYXNlQ29udHJvbGxlcik7XG4gICAgd2Vla1ZpZXcuYWRkQ2hpbGQoZGF5TmFtZVZpZXcpO1xuXG4gICAgLyoqKioqKioqKipcbiAgICAgKiBJbml0aWFsaXplIHZlcnRpY2FsIGxheW91dCBtb2R1bGVcbiAgICAgKioqKioqKioqKi9cbiAgICB2TGF5b3V0Q29udGFpbmVyID0gZG9tdXRpbC5hcHBlbmRIVE1MRWxlbWVudCgnZGl2Jywgd2Vla1ZpZXcuY29udGFpbmVyLCBjb25maWcuY2xhc3NuYW1lKCd2bGF5b3V0LWFyZWEnKSk7XG4gICAgdkxheW91dENvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAoZG9tdXRpbC5nZXRTaXplKHdlZWtWaWV3LmNvbnRhaW5lcilbMV0gLSBkYXlOYW1lVmlldy5jb250YWluZXIub2Zmc2V0SGVpZ2h0KSArICdweCc7XG5cbiAgICB2TGF5b3V0ID0gbmV3IFZMYXlvdXQoe1xuICAgICAgICBwYW5lbHM6IHZwYW5lbHMsXG4gICAgICAgIHBhbmVsSGVpZ2h0czogb3B0aW9ucy53ZWVrLnBhbmVsSGVpZ2h0cyB8fCBbXVxuICAgIH0sIHZMYXlvdXRDb250YWluZXIsIGJhc2VDb250cm9sbGVyLnRoZW1lKTtcblxuICAgIHdlZWtWaWV3LnZMYXlvdXQgPSB2TGF5b3V0O1xuXG4gICAgdXRpbC5mb3JFYWNoKHBhbmVscywgZnVuY3Rpb24ocGFuZWwpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBwYW5lbC5uYW1lO1xuICAgICAgICB2YXIgaGFuZGxlcnMgPSBwYW5lbC5oYW5kbGVycztcbiAgICAgICAgdmFyIHZpZXc7XG5cbiAgICAgICAgaWYgKCFwYW5lbC5zaG93KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFuZWwudHlwZSA9PT0gJ2RheWdyaWQnKSB7XG4gICAgICAgICAgICAvKioqKioqKioqKlxuICAgICAgICAgICAgICogU2NoZWR1bGUgcGFuZWwgYnkgR3JpZFxuICAgICAgICAgICAgICoqKioqKioqKiovXG4gICAgICAgICAgICB2aWV3ID0gbmV3IERheUdyaWQobmFtZSwgb3B0aW9ucywgdkxheW91dC5nZXRQYW5lbEJ5TmFtZShwYW5lbC5uYW1lKS5jb250YWluZXIsIGJhc2VDb250cm9sbGVyLnRoZW1lKTtcbiAgICAgICAgICAgIHZpZXcub24oJ2FmdGVyUmVuZGVyJywgZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICAgICAgdkxheW91dC5nZXRQYW5lbEJ5TmFtZShuYW1lKS5zZXRIZWlnaHQobnVsbCwgdmlld01vZGVsLmhlaWdodCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd2Vla1ZpZXcuYWRkQ2hpbGQodmlldyk7XG5cbiAgICAgICAgICAgIHV0aWwuZm9yRWFjaChoYW5kbGVycywgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5pc1JlYWRPbmx5IHx8IHR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2Vla1ZpZXcuaGFuZGxlclt0eXBlXVtuYW1lXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgREFZR1JJRF9IQU5ETERFUlNbdHlwZV0oZHJhZ0hhbmRsZXIsIHZpZXcsIGJhc2VDb250cm9sbGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5hZGRIYW5kbGVyKHR5cGUsIHdlZWtWaWV3LmhhbmRsZXJbdHlwZV1bbmFtZV0sIHZMYXlvdXQuZ2V0UGFuZWxCeU5hbWUobmFtZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHBhbmVsLnR5cGUgPT09ICd0aW1lZ3JpZCcpIHtcbiAgICAgICAgICAgIC8qKioqKioqKioqXG4gICAgICAgICAgICAgKiBTY2hlZHVsZSBwYW5lbCBieSBUaW1lR3JpZFxuICAgICAgICAgICAgICoqKioqKioqKiovXG4gICAgICAgICAgICB2aWV3ID0gbmV3IFRpbWVHcmlkKG5hbWUsIG9wdGlvbnMsIHZMYXlvdXQuZ2V0UGFuZWxCeU5hbWUobmFtZSkuY29udGFpbmVyKTtcbiAgICAgICAgICAgIHdlZWtWaWV3LmFkZENoaWxkKHZpZXcpO1xuICAgICAgICAgICAgdXRpbC5mb3JFYWNoKGhhbmRsZXJzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmlzUmVhZE9ubHkgfHwgdHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgICAgICAgICAgICB3ZWVrVmlldy5oYW5kbGVyW3R5cGVdW25hbWVdID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUSU1FR1JJRF9IQU5ETEVSU1t0eXBlXShkcmFnSGFuZGxlciwgdmlldywgYmFzZUNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2aWV3Lm9uKCdjbGlja1RpbWV6b25lc0NvbGxhcHNlZEJ0bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciB0aW1lem9uZXNDb2xsYXBzZWQgPSAhd2Vla1ZpZXcuc3RhdGUudGltZXpvbmVzQ29sbGFwc2VkO1xuXG4gICAgICAgICAgICAgICAgd2Vla1ZpZXcuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB0aW1lem9uZXNDb2xsYXBzZWQ6IHRpbWV6b25lc0NvbGxhcHNlZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlcUFuaW1GcmFtZS5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdlZWtWaWV3Lmludm9rZSgnY2xpY2tUaW1lem9uZXNDb2xsYXBzZUJ0bicsIHRpbWV6b25lc0NvbGxhcHNlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlZWtWaWV3LnJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdkxheW91dC5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlcUFuaW1GcmFtZS5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2Vla1ZpZXcucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gYmluZGluZyBjcmVhdGUgc2NoZWR1bGVzIGV2ZW50XG4gICAgaWYgKG9wdGlvbnMudXNlQ3JlYXRpb25Qb3B1cCkge1xuICAgICAgICBjcmVhdGVWaWV3ID0gbmV3IFNjaGVkdWxlQ3JlYXRpb25Qb3B1cChsYXlvdXRDb250YWluZXIsIGJhc2VDb250cm9sbGVyLmNhbGVuZGFycywgb3B0aW9ucy51c2FnZVN0YXRpc3RpY3MpO1xuXG4gICAgICAgIG9uU2F2ZU5ld1NjaGVkdWxlID0gZnVuY3Rpb24oc2NoZWR1bGVEYXRhKSB7XG4gICAgICAgICAgICB1dGlsLmV4dGVuZChzY2hlZHVsZURhdGEsIHtcbiAgICAgICAgICAgICAgICB1c2VDcmVhdGlvblBvcHVwOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzY2hlZHVsZURhdGEuaXNBbGxEYXkpIHtcbiAgICAgICAgICAgICAgICB3ZWVrVmlldy5oYW5kbGVyLmNyZWF0aW9uLmFsbGRheS5maXJlKCdiZWZvcmVDcmVhdGVTY2hlZHVsZScsIHNjaGVkdWxlRGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdlZWtWaWV3LmhhbmRsZXIuY3JlYXRpb24udGltZS5maXJlKCdiZWZvcmVDcmVhdGVTY2hlZHVsZScsIHNjaGVkdWxlRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNyZWF0ZVZpZXcub24oJ2JlZm9yZUNyZWF0ZVNjaGVkdWxlJywgb25TYXZlTmV3U2NoZWR1bGUpO1xuICAgIH1cblxuICAgIG9uU2V0Q2FsZW5kYXJzID0gZnVuY3Rpb24oY2FsZW5kYXJzKSB7XG4gICAgICAgIGlmIChjcmVhdGVWaWV3KSB7XG4gICAgICAgICAgICBjcmVhdGVWaWV3LnNldENhbGVuZGFycyhjYWxlbmRhcnMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGJhc2VDb250cm9sbGVyLm9uKCdzZXRDYWxlbmRhcnMnLCBvblNldENhbGVuZGFycyk7XG5cbiAgICAvLyBiaW5kaW5nIHBvcHVwIGZvciBzY2hlZHVsZSBkZXRhaWxcbiAgICBpZiAob3B0aW9ucy51c2VEZXRhaWxQb3B1cCkge1xuICAgICAgICBkZXRhaWxWaWV3ID0gbmV3IFNjaGVkdWxlRGV0YWlsUG9wdXAobGF5b3V0Q29udGFpbmVyLCBiYXNlQ29udHJvbGxlci5jYWxlbmRhcnMpO1xuICAgICAgICBvblNob3dEZXRhaWxQb3B1cCA9IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xuICAgICAgICAgICAgdmFyIHNjaGVkdWxlSWQgPSBldmVudERhdGEuc2NoZWR1bGUuY2FsZW5kYXJJZDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jYWxlbmRhciA9IGNvbW1vbi5maW5kKGJhc2VDb250cm9sbGVyLmNhbGVuZGFycywgZnVuY3Rpb24oY2FsZW5kYXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsZW5kYXIuaWQgPT09IHNjaGVkdWxlSWQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNSZWFkT25seSkge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zY2hlZHVsZSA9IHV0aWwuZXh0ZW5kKHt9LCBldmVudERhdGEuc2NoZWR1bGUsIHtpc1JlYWRPbmx5OiB0cnVlfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRldGFpbFZpZXcucmVuZGVyKGV2ZW50RGF0YSk7XG4gICAgICAgIH07XG4gICAgICAgIG9uRGVsZXRlU2NoZWR1bGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICAgICAgICAgIGlmIChldmVudERhdGEuaXNBbGxEYXkpIHtcbiAgICAgICAgICAgICAgICB3ZWVrVmlldy5oYW5kbGVyLmNyZWF0aW9uLmFsbGRheS5maXJlKCdiZWZvcmVEZWxldGVTY2hlZHVsZScsIGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdlZWtWaWV3LmhhbmRsZXIuY3JlYXRpb24udGltZS5maXJlKCdiZWZvcmVEZWxldGVTY2hlZHVsZScsIGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG9uRWRpdFNjaGVkdWxlID0gZnVuY3Rpb24oZXZlbnREYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnREYXRhLmlzQWxsRGF5KSB7XG4gICAgICAgICAgICAgICAgd2Vla1ZpZXcuaGFuZGxlci5tb3ZlLmFsbGRheS5maXJlKCdiZWZvcmVVcGRhdGVTY2hlZHVsZScsIGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdlZWtWaWV3LmhhbmRsZXIubW92ZS50aW1lLmZpcmUoJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywgZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB1dGlsLmZvckVhY2god2Vla1ZpZXcuaGFuZGxlci5jbGljaywgZnVuY3Rpb24ocGFuZWwpIHtcbiAgICAgICAgICAgIHBhbmVsLm9uKCdjbGlja1NjaGVkdWxlJywgb25TaG93RGV0YWlsUG9wdXApO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9wdGlvbnMudXNlQ3JlYXRpb25Qb3B1cCkge1xuICAgICAgICAgICAgb25TaG93RWRpdFBvcHVwID0gZnVuY3Rpb24oZXZlbnREYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhbGVuZGFycyA9IGJhc2VDb250cm9sbGVyLmNhbGVuZGFycztcbiAgICAgICAgICAgICAgICBldmVudERhdGEuaXNFZGl0TW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgY3JlYXRlVmlldy5zZXRDYWxlbmRhcnMoY2FsZW5kYXJzKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVWaWV3LnJlbmRlcihldmVudERhdGEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNyZWF0ZVZpZXcub24oJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywgb25FZGl0U2NoZWR1bGUpO1xuICAgICAgICAgICAgZGV0YWlsVmlldy5vbignYmVmb3JlVXBkYXRlU2NoZWR1bGUnLCBvblNob3dFZGl0UG9wdXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV0YWlsVmlldy5vbignYmVmb3JlVXBkYXRlU2NoZWR1bGUnLCBvbkVkaXRTY2hlZHVsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGV0YWlsVmlldy5vbignYmVmb3JlRGVsZXRlU2NoZWR1bGUnLCBvbkRlbGV0ZVNjaGVkdWxlKTtcbiAgICB9XG5cbiAgICB3ZWVrVmlldy5vbignYWZ0ZXJSZW5kZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdkxheW91dC5yZWZyZXNoKCk7XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgY29udHJvbGxlclxuICAgIHdlZWtWaWV3LmNvbnRyb2xsZXIgPSBiYXNlQ29udHJvbGxlci5XZWVrO1xuXG4gICAgLy8gYWRkIGRlc3Ryb3lcbiAgICB3ZWVrVmlldy5fYmVmb3JlRGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB1dGlsLmZvckVhY2god2Vla1ZpZXcuaGFuZGxlciwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgdXRpbC5mb3JFYWNoKHR5cGUsIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLm9mZigpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnVzZUNyZWF0aW9uUG9wdXApIHtcbiAgICAgICAgICAgIGNyZWF0ZVZpZXcub2ZmKCdiZWZvcmVDcmVhdGVTY2hlZHVsZScsIG9uU2F2ZU5ld1NjaGVkdWxlKTtcbiAgICAgICAgICAgIGNyZWF0ZVZpZXcuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudXNlRGV0YWlsUG9wdXApIHtcbiAgICAgICAgICAgIGRldGFpbFZpZXcub2ZmKCdiZWZvcmVEZWxldGVTY2hlZHVsZScsIG9uRGVsZXRlU2NoZWR1bGUpO1xuICAgICAgICAgICAgZGV0YWlsVmlldy5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB3ZWVrVmlldy5vZmYoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmlldzogd2Vla1ZpZXcsXG4gICAgICAgIHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHdlZWtWaWV3SGVpZ2h0ID0gd2Vla1ZpZXcuZ2V0Vmlld0JvdW5kKCkuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGRheW5hbWVWaWV3SGVpZ2h0ID0gZG9tdXRpbC5nZXRCQ1JlY3QoXG4gICAgICAgICAgICAgICAgICAgIGRheU5hbWVWaWV3LmNvbnRhaW5lclxuICAgICAgICAgICAgICAgICkuaGVpZ2h0O1xuXG4gICAgICAgICAgICB2TGF5b3V0LmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPVxuICAgICAgICAgICAgICAgIHdlZWtWaWV3SGVpZ2h0IC0gZGF5bmFtZVZpZXdIZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgdkxheW91dC5yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNjcm9sbFRvTm93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdlZWtWaWV3LmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oY2hpbGRWaWV3KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkVmlldy5zY3JvbGxUb05vdykge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZFZpZXcuc2Nyb2xsVG9Ob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb3BlbkNyZWF0aW9uUG9wdXA6IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gICAgICAgICAgICBpZiAoY3JlYXRlVmlldykge1xuICAgICAgICAgICAgICAgIGlmIChzY2hlZHVsZS5pc0FsbERheSkge1xuICAgICAgICAgICAgICAgICAgICB3ZWVrVmlldy5oYW5kbGVyLmNyZWF0aW9uLmFsbGRheS5pbnZva2VDcmVhdGlvbkNsaWNrKFNjaGVkdWxlLmNyZWF0ZShzY2hlZHVsZSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtWaWV3LmhhbmRsZXIuY3JlYXRpb24udGltZS5pbnZva2VDcmVhdGlvbkNsaWNrKFNjaGVkdWxlLmNyZWF0ZShzY2hlZHVsZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2hvd0NyZWF0aW9uUG9wdXA6IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xuICAgICAgICAgICAgaWYgKGNyZWF0ZVZpZXcpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVWaWV3LnNldENhbGVuZGFycyhiYXNlQ29udHJvbGxlci5jYWxlbmRhcnMpO1xuICAgICAgICAgICAgICAgIGNyZWF0ZVZpZXcucmVuZGVyKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvY2xpY2suanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvZGF5Z3JpZC9jbGljay5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ2xpY2sgaGFuZGxlIG1vZHVsZSBmb3IgZGF5Z3JpZCBzY2hlZHVsZXNcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIik7XG52YXIgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIik7XG52YXIgRGF5R3JpZE1vdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21vdmUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvbW92ZS5qc1wiKTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBpbXBsZW1lbnRzIHtIYW5kbGVyfVxuICogQG1peGVzIEN1c3RvbUV2ZW50c1xuICogQHBhcmFtIHtEcmFnfSBbZHJhZ0hhbmRsZXJdIC0gRHJhZyBoYW5kbGVyIGluc3RhbmNlLlxuICogQHBhcmFtIHtEYXlHcmlkfSBbdmlld10gLSBkYXlncmlkIHZpZXcgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0Jhc2V9IFtjb250cm9sbGVyXSAtIEJhc2UgY29udHJvbGxlciBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gRGF5R3JpZENsaWNrKGRyYWdIYW5kbGVyLCB2aWV3LCBjb250cm9sbGVyKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0RyYWd9XG4gICAgICovXG4gICAgdGhpcy5kcmFnSGFuZGxlciA9IGRyYWdIYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0RheUdyaWR9XG4gICAgICovXG4gICAgdGhpcy52aWV3ID0gdmlldztcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCYXNlfVxuICAgICAqL1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG5cbiAgICBkcmFnSGFuZGxlci5vbih7XG4gICAgICAgICdjbGljayc6IHRoaXMuX29uQ2xpY2tcbiAgICB9LCB0aGlzKTtcbn1cblxuLyoqXG4gKiBEZXN0cm95IGhhbmRsZXIgbW9kdWxlXG4gKi9cbkRheUdyaWRDbGljay5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIub2ZmKHRoaXMpO1xuICAgIHRoaXMudmlldyA9IHRoaXMuY29udHJvbGxlciA9IHRoaXMuZHJhZ0hhbmRsZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDaGVjayB0YXJnZXQgZWxlbWVudCBpcyBleHBlY3RlZCBjb25kaXRpb24gZm9yIGFjdGl2YXRlIHRoaXMgcGx1Z2lucy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIFRoZSBlbGVtZW50IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIG1vZGVsIGlkXG4gKi9cbkRheUdyaWRDbGljay5wcm90b3R5cGUuY2hlY2tFeHBlY3RDb25kaXRpb24gPSBEYXlHcmlkTW92ZS5wcm90b3R5cGUuY2hlY2tFeHBlY3RlZENvbmRpdGlvbjtcblxuLyoqXG4gKiBDbGljayBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge29iamVjdH0gY2xpY2tFdmVudCAtIGNsaWNrIGV2ZW50IGRhdGFcbiAqIEBlbWl0cyBEYXlHcmlkQ2xpY2sjY2xpY2tTY2hlZHVsZVxuICogQGVtaXRzIERheUdyaWRDbGljayNjb2xsYXBzZVxuICogQGVtaXRzIERheUdyaWRDbGljayNleHBhbmRcbiAqL1xuRGF5R3JpZENsaWNrLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uKGNsaWNrRXZlbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHRhcmdldCA9IGNsaWNrRXZlbnQudGFyZ2V0LFxuICAgICAgICBkYXlHcmlkU2NoZWR1bGVWaWV3ID0gdGhpcy5jaGVja0V4cGVjdENvbmRpdGlvbih0YXJnZXQpLFxuICAgICAgICBzY2hlZHVsZUNvbGxlY3Rpb24gPSB0aGlzLmNvbnRyb2xsZXIuc2NoZWR1bGVzLFxuICAgICAgICBjb2xsYXBzZUJ0bkVsZW1lbnQgPSBkb211dGlsLmNsb3Nlc3QoXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICBjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheS1jb2xsYXBzZS1idG4nKVxuICAgICAgICApLFxuICAgICAgICBleHBhbmRCdG5FbGVtZW50ID0gZG9tdXRpbC5jbG9zZXN0KFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgY29uZmlnLmNsYXNzbmFtZSgnLndlZWtkYXktZXhjZWVkLWluLXdlZWsnKVxuICAgICAgICApLFxuICAgICAgICBjb250YWluc1RhcmdldCA9IHRoaXMudmlldy5jb250YWluZXIuY29udGFpbnModGFyZ2V0KTtcbiAgICB2YXIgYmxvY2tFbGVtZW50LCBzY2hlZHVsZUVsZW1lbnQ7XG5cbiAgICBpZiAoIWNvbnRhaW5zVGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY29sbGFwc2VCdG5FbGVtZW50KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjbGljayBjb2xscGFzZSBidG4gZXZlbnRcbiAgICAgICAgICogQGV2ZW50cyBEYXlHcmlkQ2xpY2sjY29sbGFwc2VcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuZmlyZSgnY29sbGFwc2UnKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV4cGFuZEJ0bkVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldFN0YXRlKHtcbiAgICAgICAgICAgIGNsaWNrZWRFeHBhbmRCdG5JbmRleDogcGFyc2VJbnQoZG9tdXRpbC5nZXREYXRhKGV4cGFuZEJ0bkVsZW1lbnQsICdpbmRleCcpLCAxMClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNsaWNrIGV4cGFuZCBidG4gZXZlbnRcbiAgICAgICAgICogQGV2ZW50cyBEYXlHcmlkQ2xpY2sjZXhwYW5kXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmZpcmUoJ2V4cGFuZCcpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRheUdyaWRTY2hlZHVsZVZpZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjaGVkdWxlRWxlbWVudCA9IGRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsIGNvbmZpZy5jbGFzc25hbWUoJy53ZWVrZGF5LXNjaGVkdWxlJykpO1xuICAgIGlmIChzY2hlZHVsZUVsZW1lbnQpIHtcbiAgICAgICAgYmxvY2tFbGVtZW50ID0gZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnLndlZWtkYXktc2NoZWR1bGUtYmxvY2snKSk7XG4gICAgICAgIHNjaGVkdWxlQ29sbGVjdGlvbi5kb1doZW5IYXMoZG9tdXRpbC5nZXREYXRhKGJsb2NrRWxlbWVudCwgJ2lkJyksIGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBldmVudHMgRGF5R3JpZENsaWNrI2NsaWNrU2NoZWR1bGVcbiAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge1NjaGVkdWxlfSBzY2hlZHVsZSAtIHNjaGVkdWxlIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge01vdXNlRXZlbnR9IGV2ZW50IC0gTW91c2VFdmVudCBvYmplY3RcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2VsZi5maXJlKCdjbGlja1NjaGVkdWxlJywge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZSxcbiAgICAgICAgICAgICAgICBldmVudDogY2xpY2tFdmVudC5vcmlnaW5FdmVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnV0aWwuQ3VzdG9tRXZlbnRzLm1peGluKERheUdyaWRDbGljayk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF5R3JpZENsaWNrO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2hhbmRsZXIvZGF5Z3JpZC9jb3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvZGF5Z3JpZC9jb3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50IG5vLXNoYWRvdzogMCAqL1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEJhc2UgbWl4aW4gb2JqZWN0IGZvciBoYW5kbGVyL2RheWdyaWRcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciBkb21ldmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb21ldmVudCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb21ldmVudC5qc1wiKTtcbnZhciBjb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vY29tbW9uICovIFwiLi9zcmMvanMvY29tbW9uL2NvbW1vbi5qc1wiKTtcbnZhciBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKTtcblxudmFyIG1tYXggPSBNYXRoLm1heCxcbiAgICBtbWluID0gTWF0aC5taW47XG5cbi8qKlxuICogQG1peGluIGRheUdyaWRDb3JlXG4gKi9cbnZhciBkYXlHcmlkQ29yZSA9IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3ZpZXd9IHZpZXcgLSB2aWV3IGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gbW91c2VFdmVudCAtIG1vdXNlIHNjaGVkdWxlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb258Ym9vbGVhbn0gZnVuY3Rpb24gdGhhdCByZXR1cm4gc2NoZWR1bGUgZGF0YSBieSBtb3VzZSBldmVudHMuXG4gICAgICovXG4gICAgX3JldHJpdmVTY2hlZHVsZURhdGE6IGZ1bmN0aW9uKHZpZXcsIG1vdXNlRXZlbnQpIHtcbiAgICAgICAgdmFyIHdlZWtkYXlWaWV3ID0gdmlldy5jaGlsZHJlbi5zaW5nbGUoKSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGRhdGVzSW5SYW5nZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcldpZHRoLFxuICAgICAgICAgICAgbW91c2VQb3MsXG4gICAgICAgICAgICBkcmFnU3RhcnRYSW5kZXgsXG4gICAgICAgICAgICBncmlkcyxcbiAgICAgICAgICAgIHJhbmdlO1xuXG4gICAgICAgIGlmICghd2Vla2RheVZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lciA9IHdlZWtkYXlWaWV3LmNvbnRhaW5lcjtcbiAgICAgICAgcmFuZ2UgPSB3ZWVrZGF5Vmlldy5nZXRSZW5kZXJEYXRlUmFuZ2UoKTtcbiAgICAgICAgZGF0ZXNJblJhbmdlID0gcmFuZ2UubGVuZ3RoO1xuICAgICAgICBncmlkcyA9IHdlZWtkYXlWaWV3LmdldFJlbmRlckRhdGVHcmlkcygpO1xuXG4gICAgICAgIGNvbnRhaW5lcldpZHRoID0gZG9tdXRpbC5nZXRTaXplKGNvbnRhaW5lcilbMF07XG4gICAgICAgIG1vdXNlUG9zID0gZG9tZXZlbnQuZ2V0TW91c2VQb3NpdGlvbihtb3VzZUV2ZW50LCBjb250YWluZXIpO1xuICAgICAgICBkcmFnU3RhcnRYSW5kZXggPSBnZXRYKGdyaWRzLCBjb21tb24ucmF0aW8oY29udGFpbmVyV2lkdGgsIDEwMCwgbW91c2VQb3NbMF0pKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gbW91c2Ugc2NoZWR1bGUgaW4gZHJhZyBhY3Rpb25zLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBzY2hlZHVsZSBkYXRhLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG1vdXNlRXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSBkb21ldmVudC5nZXRNb3VzZVBvc2l0aW9uKG1vdXNlRXZlbnQsIGNvbnRhaW5lciksXG4gICAgICAgICAgICAgICAgbW91c2VYID0gcG9zWzBdLFxuICAgICAgICAgICAgICAgIHhJbmRleCA9IGdldFgoZ3JpZHMsIGNvbW1vbi5yYXRpbyhjb250YWluZXJXaWR0aCwgMTAwLCBtb3VzZVgpKTtcblxuICAgICAgICAgICAgLy8gYXBwbHkgbGltaXRhdGlvbiBvZiBjcmVhdGlvbiBzY2hlZHVsZSBYIGluZGV4LlxuICAgICAgICAgICAgeEluZGV4ID0gbW1heCh4SW5kZXgsIDApO1xuICAgICAgICAgICAgeEluZGV4ID0gbW1pbih4SW5kZXgsIGRhdGVzSW5SYW5nZSAtIDEpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlbGF0ZWRWaWV3OiB2aWV3LFxuICAgICAgICAgICAgICAgIGRyYWdTdGFydFhJbmRleDogZHJhZ1N0YXJ0WEluZGV4LFxuICAgICAgICAgICAgICAgIGRhdGVzSW5SYW5nZTogZGF0ZXNJblJhbmdlLFxuICAgICAgICAgICAgICAgIHhJbmRleDogeEluZGV4LFxuICAgICAgICAgICAgICAgIHRyaWdnZXJFdmVudDogbW91c2VFdmVudC50eXBlLFxuICAgICAgICAgICAgICAgIGdyaWRzOiBncmlkcyxcbiAgICAgICAgICAgICAgICByYW5nZTogcmFuZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7dmlld30gdmlldyAtIHZpZXcgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtUWkRhdGV9IHN0YXJ0RGF0ZSAtIHN0YXJ0IGRhdGVcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBzY2hlZHVsZSBkYXRhIGJ5IG1vdXNlIGV2ZW50cy5cbiAgICAgKi9cbiAgICBfcmV0cml2ZVNjaGVkdWxlRGF0YUZyb21EYXRlOiBmdW5jdGlvbih2aWV3LCBzdGFydERhdGUpIHtcbiAgICAgICAgdmFyIHdlZWtkYXlWaWV3ID0gdmlldy5jaGlsZHJlbi5zaW5nbGUoKSxcbiAgICAgICAgICAgIHhJbmRleCA9IDAsXG4gICAgICAgICAgICBkYXRlc0luUmFuZ2UsXG4gICAgICAgICAgICBkcmFnU3RhcnRYSW5kZXggPSAwLFxuICAgICAgICAgICAgZ3JpZHMsXG4gICAgICAgICAgICByYW5nZTtcblxuICAgICAgICBpZiAoIXdlZWtkYXlWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByYW5nZSA9IHdlZWtkYXlWaWV3LmdldFJlbmRlckRhdGVSYW5nZSgpO1xuICAgICAgICBkYXRlc0luUmFuZ2UgPSByYW5nZS5sZW5ndGg7XG4gICAgICAgIGdyaWRzID0gd2Vla2RheVZpZXcuZ2V0UmVuZGVyRGF0ZUdyaWRzKCk7XG5cbiAgICAgICAgdXRpbC5mb3JFYWNoKHJhbmdlLCBmdW5jdGlvbihkYXRlLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKGRhdGV0aW1lLmlzU2FtZURhdGUoZGF0ZSwgc3RhcnREYXRlKSkge1xuICAgICAgICAgICAgICAgIHhJbmRleCA9IGRyYWdTdGFydFhJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhcHBseSBsaW1pdGF0aW9uIG9mIGNyZWF0aW9uIHNjaGVkdWxlIFggaW5kZXguXG4gICAgICAgIHhJbmRleCA9IG1tYXgoeEluZGV4LCAwKTtcbiAgICAgICAgeEluZGV4ID0gbW1pbih4SW5kZXgsIGRhdGVzSW5SYW5nZSAtIDEpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWxhdGVkVmlldzogdmlldyxcbiAgICAgICAgICAgIGRyYWdTdGFydFhJbmRleDogZHJhZ1N0YXJ0WEluZGV4LFxuICAgICAgICAgICAgZGF0ZXNJblJhbmdlOiBkYXRlc0luUmFuZ2UsXG4gICAgICAgICAgICB4SW5kZXg6IHhJbmRleCxcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudDogJ21hbnVhbCcsXG4gICAgICAgICAgICBncmlkczogZ3JpZHMsXG4gICAgICAgICAgICByYW5nZTogcmFuZ2VcbiAgICAgICAgfTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEdldCB0aGUgbGVmdCBpbmRleFxuICogQHBhcmFtIHtBcnJheX0gZ3JpZHMgLSBncmlkIHNpemUgaW5mb3JtYXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IC0gbGVmdCBwb3NpdGlvbihwZXJjZW50KVxuICogQHJldHVybnMge251bWJlcn0gZ3JpZCBsZWZ0IGluZGV4XG4gKi9cbmZ1bmN0aW9uIGdldFgoZ3JpZHMsIGxlZnQpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbmd0aCA9IGdyaWRzLmxlbmd0aDtcbiAgICB2YXIgZ3JpZDtcbiAgICBpZiAobGVmdCA8IDApIHtcbiAgICAgICAgbGVmdCA9IDA7XG4gICAgfVxuXG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBncmlkID0gZ3JpZHNbaV07XG4gICAgICAgIGlmIChncmlkLmxlZnQgPD0gbGVmdCAmJiBsZWZ0IDw9IChncmlkLmxlZnQgKyBncmlkLndpZHRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkYXlHcmlkQ29yZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvY3JlYXRpb24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvZGF5Z3JpZC9jcmVhdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgSGFuZGxlciBtb2R1bGUgZm9yIFdlZWtkYXlJbldlZWsgdmlldydzIGNyZWF0aW9uIGFjdGlvbnMuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIGNvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9jb21tb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29tbW9uLmpzXCIpO1xudmFyIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpO1xudmFyIGRvbWV2ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbWV2ZW50ICovIFwiLi9zcmMvanMvY29tbW9uL2RvbWV2ZW50LmpzXCIpO1xudmFyIGRheUdyaWRDb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb3JlICovIFwiLi9zcmMvanMvaGFuZGxlci9kYXlncmlkL2NvcmUuanNcIik7XG52YXIgRGF5R3JpZENyZWF0aW9uR3VpZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NyZWF0aW9uR3VpZGUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvY3JlYXRpb25HdWlkZS5qc1wiKTtcbnZhciBUWkRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vdGltZXpvbmUgKi8gXCIuL3NyYy9qcy9jb21tb24vdGltZXpvbmUuanNcIikuRGF0ZTtcblxudmFyIENMSUNLX0RFTEFZID0gMzAwO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMge0hhbmRsZXJ9XG4gKiBAbWl4ZXMgZGF5R3JpZENvcmVcbiAqIEBtaXhlcyBDdXRvbUV2ZW50c1xuICogQHBhcmFtIHtEcmFnfSBbZHJhZ0hhbmRsZXJdIC0gRHJhZyBoYW5kbGVyIGluc3RhbmNlLlxuICogQHBhcmFtIHtEYXlHcmlkfSBbdmlld10gLSBEYXlHcmlkIHZpZXcgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0Jhc2V9IFtjb250cm9sbGVyXSAtIEJhc2UgY29udHJvbGxlciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIC0gY2FsZW5kYXIgT3B0aW9uc1xuICovXG5mdW5jdGlvbiBEYXlHcmlkQ3JlYXRpb24oZHJhZ0hhbmRsZXIsIHZpZXcsIGNvbnRyb2xsZXIsIG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBEcmFnIGhhbmRsZXIgaW5zdGFuY2UuXG4gICAgICogQHR5cGUge0RyYWd9XG4gICAgICovXG4gICAgdGhpcy5kcmFnSGFuZGxlciA9IGRyYWdIYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogdmlldyBpbnN0YW5jZS5cbiAgICAgKiBAdHlwZSB7RGF5R3JpZH1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBjb250cm9sbGVyIGluc3RhbmNlLlxuICAgICAqIEB0eXBlIHtCYXNlfVxuICAgICAqL1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5nZXRTY2hlZHVsZURhdGFGdW5jID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEYXlHcmlkQ3JlYXRpb25HdWlkZX1cbiAgICAgKi9cbiAgICB0aGlzLmd1aWRlID0gbmV3IERheUdyaWRDcmVhdGlvbkd1aWRlKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5fcmVxdWVzdE9uQ2xpY2sgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuX2Rpc2FibGVEYmxDbGljayA9IG9wdGlvbnMuZGlzYWJsZURibENsaWNrO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5fZGlzYWJsZUNsaWNrID0gb3B0aW9ucy5kaXNhYmxlQ2xpY2s7XG5cbiAgICBkcmFnSGFuZGxlci5vbignZHJhZ1N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQsIHRoaXMpO1xuICAgIGRyYWdIYW5kbGVyLm9uKCdjbGljaycsIHRoaXMuX29uQ2xpY2ssIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuX2Rpc2FibGVEYmxDbGljaykge1xuICAgICAgICBDTElDS19ERUxBWSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9tZXZlbnQub24odmlldy5jb250YWluZXIsICdkYmxjbGljaycsIHRoaXMuX29uRGJsQ2xpY2ssIHRoaXMpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBEZXN0cm95IG1ldGhvZFxuICovXG5EYXlHcmlkQ3JlYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmd1aWRlLmRlc3Ryb3koKTtcbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih0aGlzKTtcblxuICAgIGlmICh0aGlzLnZpZXcgJiYgdGhpcy52aWV3LmNvbnRhaW5lcikge1xuICAgICAgICBkb21ldmVudC5vZmYodGhpcy52aWV3LmNvbnRhaW5lciwgJ2RibGNsaWNrJywgdGhpcy5fb25EYmxDbGljaywgdGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5kcmFnSGFuZGxlciA9IHRoaXMudmlldyA9IHRoaXMuY29udHJvbGxlciA9IHRoaXMuZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IG51bGw7XG59O1xuXG4vKipcbiAqIENoZWNrIGRyYWdzdGFydCB0YXJnZXQgaXMgZXhwZWN0ZWQgY29uZGl0aW9ucyBmb3IgdGhpcyBoYW5kbGVyLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gZHJhZ3N0YXJ0IGV2ZW50IGhhbmRsZXIncyB0YXJnZXQgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufFdlZWtkYXlJbldlZWt9IHJldHVybiBXZWVrZGF5SW5XZWVrIHZpZXcgaW5zdGFuY2Ugd2hlbiBzYXRpYXRlIGNvbmRpdGlvbi5cbiAqL1xuRGF5R3JpZENyZWF0aW9uLnByb3RvdHlwZS5jaGVja0V4cGVjdGVkQ29uZGl0aW9uID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgdmFyIGNzc0NsYXNzID0gZG9tdXRpbC5nZXRDbGFzcyh0YXJnZXQpLnRyaW0oKTtcbiAgICB2YXIgZXhjbHVkZVRhcmdldCA9IHRydWU7XG4gICAgdmFyIG1hdGNoZXMsIHNjaGVkdWxlc0VsZW1lbnQ7XG5cbiAgICBpZiAoZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnLndlZWtkYXktZXhjZWVkLWluLXdlZWsnKSlcbiAgICAgICAgfHwgZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnLndlZWtkYXktY29sbGFwc2UtYnRuJykpXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnLndlZWtkYXktc2NoZWR1bGUtYmxvY2snKSwgZXhjbHVkZVRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHNjaGVkdWxlc0VsZW1lbnQgPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheS1zY2hlZHVsZXMnKSk7XG4gICAgaWYgKCFzY2hlZHVsZXNFbGVtZW50ICYmIGNzc0NsYXNzICE9PSBjb25maWcuY2xhc3NuYW1lKCd3ZWVrZGF5LXNjaGVkdWxlcycpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBzY2hlZHVsZXNFbGVtZW50ID8gc2NoZWR1bGVzRWxlbWVudC5wYXJlbnROb2RlIDogdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgY3NzQ2xhc3MgPSBkb211dGlsLmdldENsYXNzKHRhcmdldCk7XG4gICAgbWF0Y2hlcyA9IGNzc0NsYXNzLm1hdGNoKGNvbmZpZy5kYXlncmlkLmdldFZpZXdJRFJlZ0V4cCk7XG5cbiAgICBpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXRpbC5waWNrKHRoaXMudmlldy5jaGlsZHJlbi5pdGVtcywgbWF0Y2hlc1sxXSk7XG59O1xuXG4vKipcbiAqIFJlcXVlc3Qgc2NoZWR1bGUgbW9kZWwgY3JlYXRpb24gdG8gY29udHJvbGxlciBieSBjdXN0b20gc2NoZWR1bGVzLlxuICogQGZpcmVzIHtEYXlHcmlkQ3JlYXRpb24jYmVmb3JlQ3JlYXRlU2NoZWR1bGV9XG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZWR1bGVEYXRhIC0gc2NoZWR1bGUgZGF0YSBmcm9tIERheUdyaWRDcmVhdGlvbiBtb2R1bGUuXG4gKi9cbkRheUdyaWRDcmVhdGlvbi5wcm90b3R5cGUuX2NyZWF0ZVNjaGVkdWxlID0gZnVuY3Rpb24oc2NoZWR1bGVEYXRhKSB7XG4gICAgdmFyIGRhdGVSYW5nZSA9IHNjaGVkdWxlRGF0YS5yYW5nZSxcbiAgICAgICAgc3RhcnRYSW5kZXggPSBzY2hlZHVsZURhdGEuZHJhZ1N0YXJ0WEluZGV4LFxuICAgICAgICB4SW5kZXggPSBzY2hlZHVsZURhdGEueEluZGV4LFxuICAgICAgICBzdGFydCwgZW5kO1xuXG4gICAgLy8gd2hlbiBpbnZlcnNlIHN0YXJ0LCBlbmQgdGhlbiBjaGFuZ2UgaXQuXG4gICAgaWYgKHhJbmRleCA8IHN0YXJ0WEluZGV4KSB7XG4gICAgICAgIHN0YXJ0WEluZGV4ID0geEluZGV4ICsgc3RhcnRYSW5kZXg7XG4gICAgICAgIHhJbmRleCA9IHN0YXJ0WEluZGV4IC0geEluZGV4O1xuICAgICAgICBzdGFydFhJbmRleCA9IHN0YXJ0WEluZGV4IC0geEluZGV4O1xuICAgIH1cblxuICAgIHN0YXJ0ID0gbmV3IFRaRGF0ZShkYXRlUmFuZ2Vbc3RhcnRYSW5kZXhdKTtcbiAgICBlbmQgPSBkYXRldGltZS5lbmQoZGF0ZVJhbmdlW3hJbmRleF0pO1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IHtEYXlHcmlkQ3JlYXRpb24jYmVmb3JlQ3JlYXRlU2NoZWR1bGV9XG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gY2F0ZWdvcnkgLSBzY2hlZHVsZSBjYXRlZ29yeVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNBbGxEYXkgLSB3aGV0aGVyIHNjaGVkdWxlIGlzIGZpcmVkIGluIHZpZXcgYXJlYT9cbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IHN0YXJ0IC0gc2VsZWN0IHN0YXJ0IHRpbWVcbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IGVuZCAtIHNlbGVjdCBlbmQgdGltZVxuICAgICAqIEBwcm9wZXJ0eSB7RGF5R3JpZENyZWF0aW9uR3VpZGV9IGd1aWRlIC0gRGF5R3JpZENyZWF0aW9uR3VpZGUgaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gdHJpZ2dlckV2ZW50TmFtZSAtIGV2ZW50IG5hbWVcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2JlZm9yZUNyZWF0ZVNjaGVkdWxlJywge1xuICAgICAgICBjYXRlZ29yeTogdGhpcy52aWV3Lm9wdGlvbnMudmlld05hbWUsXG4gICAgICAgIGlzQWxsRGF5OiB0cnVlLFxuICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgIGVuZDogZW5kLFxuICAgICAgICBndWlkZTogdGhpcy5ndWlkZSxcbiAgICAgICAgdHJpZ2dlckV2ZW50TmFtZTogc2NoZWR1bGVEYXRhLnRyaWdnZXJFdmVudFxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBEcmFnU3RhcnQgZXZlbnQgaGFuZGxlciBtZXRob2QuXG4gKiBAZW1pdHMgRGF5R3JpZENyZWF0aW9uI2RyYWdzdGFydFxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdTdGFydEV2ZW50RGF0YSAtIERyYWcjZHJhZ1N0YXJ0IGV2ZW50IGhhbmRsZXIgc2NoZWR1bGUgZGF0YS5cbiAqL1xuRGF5R3JpZENyZWF0aW9uLnByb3RvdHlwZS5fb25EcmFnU3RhcnQgPSBmdW5jdGlvbihkcmFnU3RhcnRFdmVudERhdGEpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZHJhZ1N0YXJ0RXZlbnREYXRhLnRhcmdldCxcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jaGVja0V4cGVjdGVkQ29uZGl0aW9uKHRhcmdldCksXG4gICAgICAgIGdldFNjaGVkdWxlRGF0YUZ1bmMsXG4gICAgICAgIHNjaGVkdWxlRGF0YTtcblxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9uKHtcbiAgICAgICAgZHJhZzogdGhpcy5fb25EcmFnLFxuICAgICAgICBkcmFnRW5kOiB0aGlzLl9vbkRyYWdFbmRcbiAgICB9LCB0aGlzKTtcblxuICAgIGdldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLl9yZXRyaXZlU2NoZWR1bGVEYXRhKHRoaXMudmlldywgZHJhZ1N0YXJ0RXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcbiAgICB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmMgPSBnZXRTY2hlZHVsZURhdGFGdW5jO1xuXG4gICAgc2NoZWR1bGVEYXRhID0gZ2V0U2NoZWR1bGVEYXRhRnVuYyhkcmFnU3RhcnRFdmVudERhdGEub3JpZ2luRXZlbnQpO1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IERheUdyaWRDcmVhdGlvbiNkcmFnc3RhcnRcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7RGF5R3JpZFZpZXd9IHJlbGF0ZWRWaWV3IC0gdmlldyBpbnN0YW5jZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZGF0ZXNJblJhbmdlIC0gZGF0ZSBjb3VudCBvZiB0aGlzIHZpZXcuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYWdTdGFydFhJbmRleCAtIGluZGV4IG51bWJlciBvZiBkcmFnc3RhcnQgZ3JpZCBpbmRleC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geEluZGV4IC0gaW5kZXggbnVtYmVyIG9mIG1vdXNlIHBvc2l0aW9ucy5cbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2RyYWdzdGFydCcsIHNjaGVkdWxlRGF0YSk7XG59O1xuXG4vKipcbiAqIERyYWcgZXZlbnQgaGFuZGxlciBtZXRob2QuXG4gKiBAZW1pdHMgRGF5R3JpZENyZWF0aW9uI2RyYWdcbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRXZlbnREYXRhIC0gRHJhZyNkcmFnIGV2ZW50IGhhbmRsZXIgc2NoZWR1bGVkYXRhLlxuICovXG5EYXlHcmlkQ3JlYXRpb24ucHJvdG90eXBlLl9vbkRyYWcgPSBmdW5jdGlvbihkcmFnRXZlbnREYXRhKSB7XG4gICAgdmFyIGdldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmMsXG4gICAgICAgIHNjaGVkdWxlRGF0YTtcblxuICAgIGlmICghZ2V0U2NoZWR1bGVEYXRhRnVuYykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2NoZWR1bGVEYXRhID0gZ2V0U2NoZWR1bGVEYXRhRnVuYyhkcmFnRXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBEYXlHcmlkQ3JlYXRpb24jZHJhZ1xuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtEYXlHcmlkVmlld30gcmVsYXRlZFZpZXcgLSB2aWV3IGluc3RhbmNlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRlc0luUmFuZ2UgLSBkYXRlIGNvdW50IG9mIHRoaXMgdmlldy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZHJhZ1N0YXJ0WEluZGV4IC0gaW5kZXggbnVtYmVyIG9mIGRyYWdzdGFydCBncmlkIGluZGV4LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4SW5kZXggLSBpbmRleCBudW1iZXIgb2YgbW91c2UgcG9zaXRpb25zLlxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnZHJhZycsIHNjaGVkdWxlRGF0YSk7XG59O1xuXG4vKipcbiAqIERyYWdFbmQgZXZlbnQgaGFuZGVyIG1ldGhvZC5cbiAqIEBlbWl0cyBEYXlHcmlkQ3JlYXRpb24jZHJhZ2VuZFxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdFbmRFdmVudERhdGEgLSBEcmFnI2RyYWdFbmQgZXZlbnQgaGFuZGxlciBkYXRhLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvdmVycmlkZUV2ZW50TmFtZV0gLSBvdmVycmlkZSBlbWl0dGVkIGV2ZW50IG5hbWUgd2hlbiBzdXBwbGllZC5cbiAqL1xuRGF5R3JpZENyZWF0aW9uLnByb3RvdHlwZS5fb25EcmFnRW5kID0gZnVuY3Rpb24oZHJhZ0VuZEV2ZW50RGF0YSwgb3ZlcnJpZGVFdmVudE5hbWUpIHtcbiAgICB2YXIgZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuZ2V0U2NoZWR1bGVEYXRhRnVuYztcbiAgICB2YXIgc2NoZWR1bGVEYXRhO1xuXG4gICAgaWYgKCFnZXRTY2hlZHVsZURhdGFGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih7XG4gICAgICAgIGRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgZHJhZ0VuZDogdGhpcy5fb25EcmFnRW5kXG4gICAgfSwgdGhpcyk7XG5cbiAgICBzY2hlZHVsZURhdGEgPSBnZXRTY2hlZHVsZURhdGFGdW5jKGRyYWdFbmRFdmVudERhdGEub3JpZ2luRXZlbnQpO1xuXG4gICAgdGhpcy5fY3JlYXRlU2NoZWR1bGUoc2NoZWR1bGVEYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBEYXlHcmlkQ3JlYXRpb24jZHJhZ2VuZFxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtEYXlHcmlkVmlld30gcmVsYXRlZFZpZXcgLSB2aWV3IGluc3RhbmNlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRlc0luUmFuZ2UgLSBkYXRlIGNvdW50IG9mIHRoaXMgdmlldy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZHJhZ1N0YXJ0WEluZGV4IC0gaW5kZXggbnVtYmVyIG9mIGRyYWdzdGFydCBncmlkIGluZGV4LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4SW5kZXggLSBpbmRleCBudW1iZXIgb2YgbW91c2UgcG9zaXRpb25zLlxuICAgICAqL1xuICAgIHRoaXMuZmlyZShvdmVycmlkZUV2ZW50TmFtZSB8fCAnZHJhZ2VuZCcsIHNjaGVkdWxlRGF0YSk7XG5cbiAgICB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmMgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDbGljayBldmVudCBoYW5kbGVyIG1ldGhvZC5cbiAqIEBlbWl0cyBEYXlHcmlkQ3JlYXRpb24jY2xpY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBjbGlja0V2ZW50RGF0YSAtIERyYWcjY2xpY2sgZXZlbnQgaGFuZGxlciBkYXRhLlxuICovXG5EYXlHcmlkQ3JlYXRpb24ucHJvdG90eXBlLl9vbkNsaWNrID0gZnVuY3Rpb24oY2xpY2tFdmVudERhdGEpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGdldFNjaGVkdWxlRGF0YUZ1bmMsIHNjaGVkdWxlRGF0YTtcblxuICAgIGlmICghdGhpcy5jaGVja0V4cGVjdGVkQ29uZGl0aW9uKGNsaWNrRXZlbnREYXRhLnRhcmdldCkgfHwgdGhpcy5fZGlzYWJsZUNsaWNrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBnZXRTY2hlZHVsZURhdGFGdW5jID0gdGhpcy5fcmV0cml2ZVNjaGVkdWxlRGF0YSh0aGlzLnZpZXcsIGNsaWNrRXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcbiAgICBzY2hlZHVsZURhdGEgPSBnZXRTY2hlZHVsZURhdGFGdW5jKGNsaWNrRXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcblxuICAgIHRoaXMuX3JlcXVlc3RPbkNsaWNrID0gdHJ1ZTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2VsZi5fcmVxdWVzdE9uQ2xpY2spIHtcbiAgICAgICAgICAgIHNlbGYuZmlyZSgnY2xpY2snLCBzY2hlZHVsZURhdGEpO1xuICAgICAgICAgICAgc2VsZi5fY3JlYXRlU2NoZWR1bGUoc2NoZWR1bGVEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLl9yZXF1ZXN0T25DbGljayA9IGZhbHNlO1xuICAgIH0sIENMSUNLX0RFTEFZKTtcbn07XG5cbi8qKlxuICogRGJsY2xpY2sgZXZlbnQgaGFuZGxlciBtZXRob2QuXG4gKiBAZW1pdHMgRGF5R3JpZENyZWF0aW9uI2NsaWNrXG4gKiBAcGFyYW0ge29iamVjdH0gY2xpY2tFdmVudERhdGEgLSBEcmFnI0NsaWNrIGV2ZW50IGhhbmRsZXIgZGF0YS5cbiAqL1xuRGF5R3JpZENyZWF0aW9uLnByb3RvdHlwZS5fb25EYmxDbGljayA9IGZ1bmN0aW9uKGNsaWNrRXZlbnREYXRhKSB7XG4gICAgdmFyIGdldFNjaGVkdWxlRGF0YUZ1bmMsIHNjaGVkdWxlRGF0YTtcblxuICAgIGlmICghdGhpcy5jaGVja0V4cGVjdGVkQ29uZGl0aW9uKGNsaWNrRXZlbnREYXRhLnRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGdldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLl9yZXRyaXZlU2NoZWR1bGVEYXRhKHRoaXMudmlldywgY2xpY2tFdmVudERhdGEpO1xuICAgIHNjaGVkdWxlRGF0YSA9IGdldFNjaGVkdWxlRGF0YUZ1bmMoY2xpY2tFdmVudERhdGEpO1xuXG4gICAgdGhpcy5maXJlKCdjbGljaycsIHNjaGVkdWxlRGF0YSk7XG5cbiAgICB0aGlzLl9jcmVhdGVTY2hlZHVsZShzY2hlZHVsZURhdGEpO1xuXG4gICAgdGhpcy5fcmVxdWVzdE9uQ2xpY2sgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNyZWF0aW9uIGNsaWNrXG4gKiBAcGFyYW0ge1NjaGVkdWxlfSBzY2hlZHVsZSAtIHNjaGVkdWxlIGluc3RhbmNlXG4gKi9cbkRheUdyaWRDcmVhdGlvbi5wcm90b3R5cGUuaW52b2tlQ3JlYXRpb25DbGljayA9IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gICAgdmFyIHNjaGVkdWxlRGF0YSA9IHRoaXMuX3JldHJpdmVTY2hlZHVsZURhdGFGcm9tRGF0ZSh0aGlzLnZpZXcsIHNjaGVkdWxlLnN0YXJ0KTtcblxuICAgIHRoaXMuZmlyZSgnY2xpY2snLCBzY2hlZHVsZURhdGEpO1xuXG4gICAgdGhpcy5fY3JlYXRlU2NoZWR1bGUoc2NoZWR1bGVEYXRhKTtcbn07XG5cbmNvbW1vbi5taXhpbihkYXlHcmlkQ29yZSwgRGF5R3JpZENyZWF0aW9uKTtcbnV0aWwuQ3VzdG9tRXZlbnRzLm1peGluKERheUdyaWRDcmVhdGlvbik7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF5R3JpZENyZWF0aW9uO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2hhbmRsZXIvZGF5Z3JpZC9jcmVhdGlvbkd1aWRlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvZGF5Z3JpZC9jcmVhdGlvbkd1aWRlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEd1aWRlIGVsZW1lbnQgZm9yIERheUdyaWQuQ3JlYXRpb25cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciByZXFBbmltRnJhbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vcmVxQW5pbUZyYW1lICovIFwiLi9zcmMvanMvY29tbW9uL3JlcUFuaW1GcmFtZS5qc1wiKTtcblxuLyoqXG4gKiBDbGFzcyBmb3IgRGF5R3JpZC5DcmVhdGlvbiBkcmFnZ2luZyBlZmZlY3QuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7RGF5R3JpZENyZWF0aW9ufSBjcmVhdGlvbiAtIGluc3RhbmNlIG9mIERheUdyaWRDcmVhdGlvbi5cbiAqL1xuZnVuY3Rpb24gRGF5R3JpZENyZWF0aW9uR3VpZGUoY3JlYXRpb24pIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RGF5R3JpZENyZWF0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY3JlYXRpb24gPSBjcmVhdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtIVE1MRElWRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnNjaGVkdWxlQ29udGFpbmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtIVE1MRElWRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmd1aWRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdGhpcy5pbml0aWFsaXplR3VpZGVFbGVtZW50KCk7XG4gICAgdGhpcy5hcHBseVRoZW1lKGNyZWF0aW9uLmNvbnRyb2xsZXIudGhlbWUpO1xuXG4gICAgY3JlYXRpb24ub24oe1xuICAgICAgICBkcmFnc3RhcnQ6IHRoaXMuX2NyZWF0ZUd1aWRlRWxlbWVudCxcbiAgICAgICAgZHJhZzogdGhpcy5fb25EcmFnLFxuICAgICAgICBjbGljazogdGhpcy5fY3JlYXRlR3VpZGVFbGVtZW50XG4gICAgfSwgdGhpcyk7XG59XG5cbi8qKlxuICogRGVzdHJveSBtZXRob2RcbiAqL1xuRGF5R3JpZENyZWF0aW9uR3VpZGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNsZWFyR3VpZGVFbGVtZW50KCk7XG4gICAgdGhpcy5jcmVhdGlvbi5vZmYodGhpcyk7XG4gICAgdGhpcy5jcmVhdGlvbiA9IHRoaXMuc2NoZWR1bGVDb250YWluZXIgPSB0aGlzLmd1aWRlRWxlbWVudCA9IG51bGw7XG59O1xuXG4vKipcbiAqIGluaXRpYWxpemUgZ3VpZGUgZWxlbWVudCdzIGRlZmF1bHQgc3R5bGUuXG4gKi9cbkRheUdyaWRDcmVhdGlvbkd1aWRlLnByb3RvdHlwZS5pbml0aWFsaXplR3VpZGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgZG9tdXRpbC5hZGRDbGFzcyh0aGlzLmd1aWRlRWxlbWVudCwgY29uZmlnLmNsYXNzbmFtZSgnZGF5Z3JpZC1ndWlkZS1jcmVhdGlvbi1ibG9jaycpKTtcbn07XG5cbi8qKlxuICogRHJhZyBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZWR1bGVEYXRhIC0gc2NoZWR1bGUgZGF0YSBmcm9tIERheUdyaWQuQ3JlYXRpb24gaGFuZGxlci5cbiAqL1xuRGF5R3JpZENyZWF0aW9uR3VpZGUucHJvdG90eXBlLl9vbkRyYWcgPSBmdW5jdGlvbihzY2hlZHVsZURhdGEpIHtcbiAgICB0aGlzLl9yZWZyZXNoR3VpZGVFbGVtZW50KHNjaGVkdWxlRGF0YSwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIEdldCBlbGVtZW50IHdpZHRoIGJhc2VkIG9uIG5hcnJvd1dlZWtlbmRcbiAqIEBwYXJhbSB7bnVtYmVyfSBkcmFnU3RhcnRJbmRleCAtIGdyaWQgc3RhcnQgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBkcmFnRW5kSW5kZXggLSBncmlkIGVuZCBpbmRleFxuICogQHBhcmFtIHtBcnJheX0gZ3JpZHMgLSBkYXRlcyBpbmZvcm1hdGlvblxuICogQHJldHVybnMge251bWJlcn0gZWxlbWVudCB3aWR0aFxuICovXG5EYXlHcmlkQ3JlYXRpb25HdWlkZS5wcm90b3R5cGUuX2dldEd1aWRlV2lkdGggPSBmdW5jdGlvbihkcmFnU3RhcnRJbmRleCwgZHJhZ0VuZEluZGV4LCBncmlkcykge1xuICAgIHZhciB3aWR0aCA9IDA7XG4gICAgdmFyIGkgPSBkcmFnU3RhcnRJbmRleDtcbiAgICBmb3IgKDsgaSA8PSBkcmFnRW5kSW5kZXg7IGkgKz0gMSkge1xuICAgICAgICB3aWR0aCArPSBncmlkc1tpXSA/IGdyaWRzW2ldLndpZHRoIDogMDtcbiAgICB9XG5cbiAgICByZXR1cm4gd2lkdGg7XG59O1xuXG4vKipcbiAqIFJlZnJlc2ggZ3VpZGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzY2hlZHVsZURhdGEgLSBzY2hlZHVsZSBkYXRhIGZyb20gRGF5R3JpZC5DcmVhdGlvbiBoYW5kbGVyLlxuICogQHBhcmFtIHtib29sZWFufSBkZWZlciAtIElmIHNldCB0byB0cnVlLCBzZXQgc3R5bGUgaW4gdGhlIG5leHQgZnJhbWVcbiAqL1xuRGF5R3JpZENyZWF0aW9uR3VpZGUucHJvdG90eXBlLl9yZWZyZXNoR3VpZGVFbGVtZW50ID0gZnVuY3Rpb24oc2NoZWR1bGVEYXRhLCBkZWZlcikge1xuICAgIHZhciBndWlkZUVsZW1lbnQgPSB0aGlzLmd1aWRlRWxlbWVudCxcbiAgICAgICAgZGF0YSA9IHNjaGVkdWxlRGF0YSxcbiAgICAgICAgZHJhZ1N0YXJ0WEluZGV4ID0gZGF0YS5kcmFnU3RhcnRYSW5kZXggPCBkYXRhLnhJbmRleCA/IGRhdGEuZHJhZ1N0YXJ0WEluZGV4IDogZGF0YS54SW5kZXgsXG4gICAgICAgIGRyYWdFbmRYSW5kZXggPSBkYXRhLmRyYWdTdGFydFhJbmRleCA8IGRhdGEueEluZGV4ID8gZGF0YS54SW5kZXggOiBkYXRhLmRyYWdTdGFydFhJbmRleCxcbiAgICAgICAgbGVmdFBlcmNlbnQsXG4gICAgICAgIHdpZHRoUGVyY2VudDtcblxuICAgIGxlZnRQZXJjZW50ID0gZGF0YS5ncmlkc1tkcmFnU3RhcnRYSW5kZXhdID8gZGF0YS5ncmlkc1tkcmFnU3RhcnRYSW5kZXhdLmxlZnQgOiAwO1xuICAgIHdpZHRoUGVyY2VudCA9IHRoaXMuX2dldEd1aWRlV2lkdGgoZHJhZ1N0YXJ0WEluZGV4LCBkcmFnRW5kWEluZGV4LCBkYXRhLmdyaWRzKTtcblxuICAgIC8qKiBlc2xpbnQtZGlzYWJsZSByZXF1aXJlLWpzZG9jICovXG4gICAgZnVuY3Rpb24gc2V0U3R5bGUoKSB7XG4gICAgICAgIGd1aWRlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgZ3VpZGVFbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0UGVyY2VudCArICclJztcbiAgICAgICAgZ3VpZGVFbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGhQZXJjZW50ICsgJyUnO1xuICAgIH1cblxuICAgIGlmIChkZWZlcikge1xuICAgICAgICByZXFBbmltRnJhbWUucmVxdWVzdEFuaW1GcmFtZShzZXRTdHlsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U3R5bGUoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIENsZWFyIGd1aWRlIGVsZW1lbnQuXG4gKi9cbkRheUdyaWRDcmVhdGlvbkd1aWRlLnByb3RvdHlwZS5jbGVhckd1aWRlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBndWlkZUVsZW1lbnQgPSB0aGlzLmd1aWRlRWxlbWVudDtcblxuICAgIGRvbXV0aWwucmVtb3ZlKGd1aWRlRWxlbWVudCk7XG5cbiAgICBndWlkZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBndWlkZUVsZW1lbnQuc3R5bGUubGVmdCA9ICcnO1xuICAgIGd1aWRlRWxlbWVudC5zdHlsZS53aWR0aCA9ICcnO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgZ3VpZGUgZWxlbWVudFxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdTdGFydEV2ZW50RGF0YSAtIHNjaGVkdWxlIGRhdGEgb2JqZWN0IG9mIERheUdyaWQuQ3JlYXRpb24uXG4gKi9cbkRheUdyaWRDcmVhdGlvbkd1aWRlLnByb3RvdHlwZS5fY3JlYXRlR3VpZGVFbGVtZW50ID0gZnVuY3Rpb24oZHJhZ1N0YXJ0RXZlbnREYXRhKSB7XG4gICAgdmFyIGNyZWF0aW9uID0gdGhpcy5jcmVhdGlvbixcbiAgICAgICAgdmlldyA9IGNyZWF0aW9uLnZpZXcsXG4gICAgICAgIGNvbnRhaW5lciA9IHZpZXcuY29udGFpbmVyLFxuICAgICAgICBzY2hlZHVsZUNvbnRhaW5lciA9IGRvbXV0aWwuZmluZChjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheS1ncmlkJyksIGNvbnRhaW5lcik7XG5cbiAgICBzY2hlZHVsZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmd1aWRlRWxlbWVudCk7XG4gICAgdGhpcy5fcmVmcmVzaEd1aWRlRWxlbWVudChkcmFnU3RhcnRFdmVudERhdGEpO1xufTtcblxuLyoqXG4gKiBEcmFnIGV2ZW50IGhhbmRsZXIuXG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ0V2ZW50RGF0YSAtIGV2ZW50IGRhdGEgb2JqZWN0IG9mIERheUdyaWQuQ3JlYXRpb24uXG4gKi9cbkRheUdyaWRDcmVhdGlvbkd1aWRlLnByb3RvdHlwZS5fb25EcmFnID0gZnVuY3Rpb24oZHJhZ0V2ZW50RGF0YSkge1xuICAgIHRoaXMuX3JlZnJlc2hHdWlkZUVsZW1lbnQoZHJhZ0V2ZW50RGF0YSk7XG59O1xuXG5EYXlHcmlkQ3JlYXRpb25HdWlkZS5wcm90b3R5cGUuYXBwbHlUaGVtZSA9IGZ1bmN0aW9uKHRoZW1lKSB7XG4gICAgdmFyIHN0eWxlID0gdGhpcy5ndWlkZUVsZW1lbnQuc3R5bGU7XG5cbiAgICBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS5jb21tb24uY3JlYXRpb25HdWlkZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgc3R5bGUuYm9yZGVyID0gdGhlbWUuY29tbW9uLmNyZWF0aW9uR3VpZGUuYm9yZGVyO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXlHcmlkQ3JlYXRpb25HdWlkZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvbW92ZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvbW92ZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBNb3ZlIGhhbmRsZXIgZm9yIERheUdyaWQgdmlldy5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIik7XG52YXIgY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2NvbW1vbiAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb21tb24uanNcIik7XG52YXIgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIik7XG52YXIgZGF5R3JpZENvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvcmUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvY29yZS5qc1wiKTtcbnZhciBEYXlHcmlkTW92ZUd1aWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9tb3ZlR3VpZGUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvbW92ZUd1aWRlLmpzXCIpO1xudmFyIFRaRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMge0hhbmRsZXJ9XG4gKiBAbWl4ZXMgZGF5R3JpZENvcmVcbiAqIEBtaXhlcyBDdXN0b21FdmVudHNcbiAqIEBwYXJhbSB7RHJhZ30gZHJhZ0hhbmRsZXIgLSBEcmFnIGhhbmRsZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0RheUdyaWR9IHZpZXcgLSB2aWV3IGluc3RhbmNlLlxuICogQHBhcmFtIHtCYXNlfSBjb250cm9sbGVyIC0gQmFzZSBjb250cm9sbGVyIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBEYXlHcmlkTW92ZShkcmFnSGFuZGxlciwgdmlldywgY29udHJvbGxlcikge1xuICAgIC8qKlxuICAgICAqIERyYWcgaGFuZGxlciBpbnN0YW5jZS5cbiAgICAgKiBAdHlwZSB7RHJhZ31cbiAgICAgKi9cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gZHJhZ0hhbmRsZXI7XG5cbiAgICAvKipcbiAgICAgKiB2aWV3IGluc3RhbmNlLlxuICAgICAqIEB0eXBlIHtEYXlHcmlkfVxuICAgICAqL1xuICAgIHRoaXMudmlldyA9IHZpZXc7XG5cbiAgICAvKipcbiAgICAgKiBCYXNlIGNvbnRyb2xsZXIgaW5zdGFuY2UuXG4gICAgICogQHR5cGUge0Jhc2V9XG4gICAgICovXG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcblxuICAgIC8qKlxuICAgICAqIFRlbXBvcmFyeSB2YXJpYWJsZSBmb3IgZHJhZ3N0YXJ0IGV2ZW50IGRhdGEuXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLl9kcmFnU3RhcnQgPSBudWxsO1xuXG4gICAgZHJhZ0hhbmRsZXIub24oe1xuICAgICAgICBkcmFnU3RhcnQ6IHRoaXMuX29uRHJhZ1N0YXJ0XG4gICAgfSwgdGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RGF5R3JpZE1vdmVHdWlkZX1cbiAgICAgKi9cbiAgICB0aGlzLmd1aWRlID0gbmV3IERheUdyaWRNb3ZlR3VpZGUodGhpcyk7XG59XG5cbkRheUdyaWRNb3ZlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5ndWlkZS5kZXN0cm95KCk7XG4gICAgdGhpcy5kcmFnSGFuZGxlci5vZmYodGhpcyk7XG4gICAgdGhpcy5kcmFnSGFuZGxlciA9IHRoaXMudmlldyA9IHRoaXMuY29udHJvbGxlciA9XG4gICAgICAgIHRoaXMuZ3VpZGUgPSB0aGlzLl9kcmFnU3RhcnQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDaGVjayBkcmFnc3RhcnQgdGFyZ2V0IGlzIGV4cGVjdGVkIGNvbmRpdGlvbnMgZm9yIHRoaXMgaGFuZGxlci5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIGRyYWdzdGFydCBldmVudCBoYW5kbGVyJ3MgdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbnxEYXlHcmlkU2NoZWR1bGV9IHJldHVybiBEYXlHcmlkU2NoZWR1bGUgdmlldyBpbnN0YW5jZSB3aGVuIHNhdGlhdGUgY29uZGl0aW9uLlxuICovXG5EYXlHcmlkTW92ZS5wcm90b3R5cGUuY2hlY2tFeHBlY3RlZENvbmRpdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBjc3NDbGFzcyA9IGRvbXV0aWwuZ2V0Q2xhc3ModGFyZ2V0KSxcbiAgICAgICAgcGFyZW50VmlldyxcbiAgICAgICAgbWF0Y2hlcztcblxuICAgIGlmICh+Y3NzQ2xhc3MuaW5kZXhPZihjb25maWcuY2xhc3NuYW1lKCd3ZWVrZGF5LXJlc2l6ZS1oYW5kbGUnKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHBhcmVudFZpZXcgPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheScpKTtcblxuICAgIGlmICghcGFyZW50Vmlldykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY3NzQ2xhc3MgPSBkb211dGlsLmdldENsYXNzKHBhcmVudFZpZXcpO1xuICAgIG1hdGNoZXMgPSBjc3NDbGFzcy5tYXRjaChjb25maWcuZGF5Z3JpZC5nZXRWaWV3SURSZWdFeHApO1xuXG4gICAgaWYgKCFtYXRjaGVzIHx8IG1hdGNoZXMubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWwucGljayh0aGlzLnZpZXcuY2hpbGRyZW4uaXRlbXMsIG1hdGNoZXNbMV0pO1xufTtcblxuLyoqXG4gKiBEcmFnU3RhcnQgZXZlbnQgaGFuZGxlciBtZXRob2QuXG4gKiBAZW1pdHMgRGF5R3JpZE1vdmUjZHJhZ3N0YXJ0XG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ1N0YXJ0RXZlbnREYXRhIC0gRHJhZyNkcmFnU3RhcnQgZXZlbnQgaGFuZGxlciBldmVudCBkYXRhLlxuICovXG5EYXlHcmlkTW92ZS5wcm90b3R5cGUuX29uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZHJhZ1N0YXJ0RXZlbnREYXRhKSB7XG4gICAgdmFyIHRhcmdldCA9IGRyYWdTdGFydEV2ZW50RGF0YS50YXJnZXQsXG4gICAgICAgIHJlc3VsdCA9IHRoaXMuY2hlY2tFeHBlY3RlZENvbmRpdGlvbih0YXJnZXQpLFxuICAgICAgICBjb250cm9sbGVyID0gdGhpcy5jb250cm9sbGVyLFxuICAgICAgICBleGNsdWRlVGFyZ2V0ID0gdHJ1ZSxcbiAgICAgICAgc2NoZWR1bGVCbG9ja0VsZW1lbnQsXG4gICAgICAgIG1vZGVsSUQsXG4gICAgICAgIHRhcmdldE1vZGVsLFxuICAgICAgICBnZXRTY2hlZHVsZURhdGFGdW5jLFxuICAgICAgICBzY2hlZHVsZURhdGE7XG5cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2NoZWR1bGVCbG9ja0VsZW1lbnQgPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheS1zY2hlZHVsZS1ibG9jaycpLCBleGNsdWRlVGFyZ2V0KTtcbiAgICBpZiAoIXNjaGVkdWxlQmxvY2tFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtb2RlbElEID0gZG9tdXRpbC5nZXREYXRhKHNjaGVkdWxlQmxvY2tFbGVtZW50LCAnaWQnKTtcbiAgICB0YXJnZXRNb2RlbCA9IGNvbnRyb2xsZXIuc2NoZWR1bGVzLml0ZW1zW21vZGVsSURdO1xuXG4gICAgaWYgKCF0YXJnZXRNb2RlbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRhcmdldE1vZGVsLmlzUmVhZE9ubHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGdldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLl9yZXRyaXZlU2NoZWR1bGVEYXRhKHRoaXMudmlldywgZHJhZ1N0YXJ0RXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcbiAgICB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmMgPSBnZXRTY2hlZHVsZURhdGFGdW5jO1xuICAgIHNjaGVkdWxlRGF0YSA9IHRoaXMuX2RyYWdTdGFydCA9IGdldFNjaGVkdWxlRGF0YUZ1bmMoZHJhZ1N0YXJ0RXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcblxuICAgIHV0aWwuZXh0ZW5kKHNjaGVkdWxlRGF0YSwge1xuICAgICAgICBzY2hlZHVsZUJsb2NrRWxlbWVudDogc2NoZWR1bGVCbG9ja0VsZW1lbnQsXG4gICAgICAgIG1vZGVsOiB0YXJnZXRNb2RlbFxuICAgIH0pO1xuXG4gICAgdGhpcy5kcmFnSGFuZGxlci5vbih7XG4gICAgICAgIGRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgZHJhZ0VuZDogdGhpcy5fb25EcmFnRW5kLFxuICAgICAgICBjbGljazogdGhpcy5fb25DbGlja1xuICAgIH0sIHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IERheUdyaWRNb3ZlI2RyYWdzdGFydFxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtEYXlHcmlkfSByZWxhdGVkVmlldyAtIHZpZXcgaW5zdGFuY2UuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRhdGVzSW5SYW5nZSAtIGRhdGUgY291bnQgb2YgdGhpcyB2aWV3LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkcmFnU3RhcnRYSW5kZXggLSBpbmRleCBudW1iZXIgb2YgZHJhZ3N0YXJ0IGdyaWQgaW5kZXguXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHhJbmRleCAtIGluZGV4IG51bWJlciBvZiBtb3VzZSBwb3NpdGlvbnMuXG4gICAgICogQHByb3BlcnR5IHtTY2hlZHVsZX0gbW9kZWwgLSBkYXRhIG9iamVjdCBvZiBtb2RlbCBpc250YW5jZS5cbiAgICAgKiBAcHJvcGVydHkge0hUTUxEaXZFbGVtZW50fSBzY2hlZHVsZUJsb2NrRWxlbWVudCAtIHRhcmdldCBzY2hlZHVsZSBibG9jayBlbGVtZW50LlxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnZHJhZ3N0YXJ0Jywgc2NoZWR1bGVEYXRhKTtcbn07XG5cbi8qKlxuICogRHJhZyBldmVudCBoYW5kbGVyIG1ldGhvZC5cbiAqIEBlbWl0cyBEYXlHcmlkTW92ZSNkcmFnXG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ0V2ZW50RGF0YSAtIERyYWcjZHJhZyBldmVudCBoYW5kbGVyIGV2ZW50ZGF0YS5cbiAqL1xuRGF5R3JpZE1vdmUucHJvdG90eXBlLl9vbkRyYWcgPSBmdW5jdGlvbihkcmFnRXZlbnREYXRhKSB7XG4gICAgdmFyIGdldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmM7XG5cbiAgICBpZiAoIWdldFNjaGVkdWxlRGF0YUZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBzY2hlZHVsZSBEYXlHcmlkTW92ZSNkcmFnXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0RheUdyaWR9IHJlbGF0ZWRWaWV3IC0gdmlldyBpbnN0YW5jZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZGF0ZXNJblJhbmdlIC0gZGF0ZSBjb3VudCBvZiB0aGlzIHZpZXcuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYWdTdGFydFhJbmRleCAtIGluZGV4IG51bWJlciBvZiBkcmFnc3RhcnQgZ3JpZCBpbmRleC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geEluZGV4IC0gaW5kZXggbnVtYmVyIG9mIG1vdXNlIHBvc2l0aW9ucy5cbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2RyYWcnLCBnZXRTY2hlZHVsZURhdGFGdW5jKGRyYWdFdmVudERhdGEub3JpZ2luRXZlbnQpKTtcbn07XG5cbi8qKlxuICogUmVxdWVzdCB1cGRhdGUgc2NoZWR1bGUgbW9kZWwgdG8gYmFzZSBjb250cm9sbGVyLlxuICogQGZpcmVzIERheUdyaWRNb3ZlI2JlZm9yZVVwZGF0ZVNjaGVkdWxlXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZWR1bGVEYXRhIC0gc2NoZWR1bGUgZGF0YSBmcm9tIERheUdyaWRNb3ZlIGhhbmRsZXIgbW9kdWxlLlxuICovXG5EYXlHcmlkTW92ZS5wcm90b3R5cGUuX3VwZGF0ZVNjaGVkdWxlID0gZnVuY3Rpb24oc2NoZWR1bGVEYXRhKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2NoZWR1bGVEYXRhLnRhcmdldE1vZGVsLFxuICAgICAgICBkYXRlT2Zmc2V0ID0gc2NoZWR1bGVEYXRhLnhJbmRleCAtIHNjaGVkdWxlRGF0YS5kcmFnU3RhcnRYSW5kZXgsXG4gICAgICAgIG5ld1N0YXJ0cyA9IG5ldyBUWkRhdGUoc2NoZWR1bGUuc3RhcnQpLFxuICAgICAgICBuZXdFbmRzID0gbmV3IFRaRGF0ZShzY2hlZHVsZS5lbmQpO1xuXG4gICAgbmV3U3RhcnRzID0gbmV3U3RhcnRzLmFkZERhdGUoZGF0ZU9mZnNldCk7XG4gICAgbmV3RW5kcyA9IG5ld0VuZHMuYWRkRGF0ZShkYXRlT2Zmc2V0KTtcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBEYXlHcmlkTW92ZSNiZWZvcmVVcGRhdGVTY2hlZHVsZVxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtTY2hlZHVsZX0gc2NoZWR1bGUgLSBUaGUgb3JpZ2luYWwgc2NoZWR1bGUgaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IHN0YXJ0IC0gRGVwcmVjYXRlZDogc3RhcnQgdGltZSB0byB1cGRhdGVcbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IGVuZCAtIERlcHJlY2F0ZWQ6IGVuZCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBjaGFuZ2VzIC0gc3RhcnQgYW5kIGVuZCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqICBAcHJvcGVydHkge0RhdGV9IHN0YXJ0IC0gc3RhcnQgdGltZSB0byB1cGRhdGVcbiAgICAgKiAgQHByb3BlcnR5IHtEYXRlfSBlbmQgLSBlbmQgdGltZSB0byB1cGRhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywge1xuICAgICAgICBzY2hlZHVsZTogc2NoZWR1bGUsXG4gICAgICAgIGNoYW5nZXM6IHtcbiAgICAgICAgICAgIHN0YXJ0OiBuZXdTdGFydHMsXG4gICAgICAgICAgICBlbmQ6IG5ld0VuZHNcbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnQ6IG5ld1N0YXJ0cyxcbiAgICAgICAgZW5kOiBuZXdFbmRzXG4gICAgfSk7XG59O1xuXG4vKipcbiAqIERyYWdFbmQgZXZlbnQgaGFuZGVyIG1ldGhvZC5cbiAqIEBlbWl0cyBEYXlHcmlkTW92ZSNkcmFnZW5kXG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ0VuZEV2ZW50RGF0YSAtIERyYWcjRHJhZ0VuZCBldmVudCBoYW5kbGVyIGRhdGEuXG4gKiBAcGFyYW0ge3N0cmluZ30gW292ZXJyaWRlRXZlbnROYW1lXSAtIG92ZXJyaWRlIGVtaXR0ZWQgZXZlbnQgbmFtZSB3aGVuIHN1cHBsaWVkLlxuICogQHBhcmFtIHs/Ym9vbGVhbn0gc2tpcFVwZGF0ZSAtIHRydWUgdGhlbiBza2lwIHVwZGF0ZSBzY2hlZHVsZSBtb2RlbC5cbiAqL1xuRGF5R3JpZE1vdmUucHJvdG90eXBlLl9vbkRyYWdFbmQgPSBmdW5jdGlvbihkcmFnRW5kRXZlbnREYXRhLCBvdmVycmlkZUV2ZW50TmFtZSwgc2tpcFVwZGF0ZSkge1xuICAgIHZhciBnZXRTY2hlZHVsZURhdGFGdW5jID0gdGhpcy5nZXRTY2hlZHVsZURhdGFGdW5jLFxuICAgICAgICBkcmFnU3RhcnQgPSB0aGlzLl9kcmFnU3RhcnQsXG4gICAgICAgIHNjaGVkdWxlRGF0YTtcblxuICAgIGlmICghZ2V0U2NoZWR1bGVEYXRhRnVuYyB8fCAhZHJhZ1N0YXJ0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih7XG4gICAgICAgIGRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgZHJhZ0VuZDogdGhpcy5fb25EcmFnRW5kLFxuICAgICAgICBjbGljazogdGhpcy5fb25DbGlja1xuICAgIH0sIHRoaXMpO1xuXG4gICAgc2NoZWR1bGVEYXRhID0gZ2V0U2NoZWR1bGVEYXRhRnVuYyhkcmFnRW5kRXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcbiAgICB1dGlsLmV4dGVuZChzY2hlZHVsZURhdGEsIHtcbiAgICAgICAgdGFyZ2V0TW9kZWw6IGRyYWdTdGFydC5tb2RlbFxuICAgIH0pO1xuXG4gICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjaGVkdWxlKHNjaGVkdWxlRGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IERheUdyaWRNb3ZlI2RyYWdlbmRcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7RGF5R3JpZH0gcmVsYXRlZFZpZXcgLSB2aWV3IGluc3RhbmNlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRlc0luUmFuZ2UgLSBkYXRlIGNvdW50IG9mIHRoaXMgdmlldy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZHJhZ1N0YXJ0WEluZGV4IC0gaW5kZXggbnVtYmVyIG9mIGRyYWdzdGFydCBncmlkIGluZGV4LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4SW5kZXggLSBpbmRleCBudW1iZXIgb2YgbW91c2UgcG9zaXRpb25zLlxuICAgICAqL1xuICAgIHRoaXMuZmlyZShvdmVycmlkZUV2ZW50TmFtZSB8fCAnZHJhZ2VuZCcsIHNjaGVkdWxlRGF0YSk7XG5cbiAgICB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLl9kcmFnU3RhcnQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDbGljayBldmVudCBoYW5kbGVyIG1ldGhvZC5cbiAqIEBlbWl0cyBEYXlHcmlkTW92ZSNjbGlja1xuICogQHBhcmFtIHtvYmplY3R9IGNsaWNrRXZlbnREYXRhIC0gRHJhZyNDbGljayBldmVudCBoYW5kbGVyIGRhdGEuXG4gKi9cbkRheUdyaWRNb3ZlLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uKGNsaWNrRXZlbnREYXRhKSB7XG4gICAgLyoqXG4gICAgICogQGV2ZW50IERheUdyaWRNb3ZlI2NsaWNrXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0RheUdyaWR9IHJlbGF0ZWRWaWV3IC0gdmlldyBpbnN0YW5jZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZGF0ZXNJblJhbmdlIC0gZGF0ZSBjb3VudCBvZiB0aGlzIHZpZXcuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYWdTdGFydFhJbmRleCAtIGluZGV4IG51bWJlciBvZiBkcmFnc3RhcnQgZ3JpZCBpbmRleC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geEluZGV4IC0gaW5kZXggbnVtYmVyIG9mIG1vdXNlIHBvc2l0aW9ucy5cbiAgICAgKi9cbiAgICB0aGlzLl9vbkRyYWdFbmQoY2xpY2tFdmVudERhdGEsICdjbGljaycsIHRydWUpO1xufTtcblxuY29tbW9uLm1peGluKGRheUdyaWRDb3JlLCBEYXlHcmlkTW92ZSk7XG51dGlsLkN1c3RvbUV2ZW50cy5taXhpbihEYXlHcmlkTW92ZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF5R3JpZE1vdmU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvaGFuZGxlci9kYXlncmlkL21vdmVHdWlkZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvZGF5Z3JpZC9tb3ZlR3VpZGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIEBmaWxlb3ZlcnZpZXcgRWZmZWN0IG1vZHVsZSBmb3IgRGF5R3JpZC5Nb3ZlXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpO1xudmFyIHJlcUFuaW1GcmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9yZXFBbmltRnJhbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vcmVxQW5pbUZyYW1lLmpzXCIpO1xuXG4vKipcbiAqIENsYXNzIGZvciBEYXlHcmlkLk1vdmUgZHJhZ2dpbmcgZWZmZWN0LlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0RheUdyaWRNb3ZlfSBkYXlncmlkTW92ZSAtIGluc3RhbmNlIG9mIERheUdyaWRNb3ZlLlxuICovXG5mdW5jdGlvbiBEYXlHcmlkTW92ZUd1aWRlKGRheWdyaWRNb3ZlKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0RheUdyaWRNb3ZlfVxuICAgICAqL1xuICAgIHRoaXMuZGF5Z3JpZE1vdmUgPSBkYXlncmlkTW92ZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBlbGVtZW50IHRoYXQgYWN0dWFsbHkgY29udGFpbnMgdGhlIGV2ZW50IGVsZW1lbnRcbiAgICAgKiBAdHlwZSB7SFRNTERJVkVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5zY2hlZHVsZUNvbnRhaW5lciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX2RyYWdTdGFydFhJbmRleCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTERJVkVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5ndWlkZUVsZW1lbnQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50W119XG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50cyA9IG51bGw7XG5cbiAgICBkYXlncmlkTW92ZS5vbih7XG4gICAgICAgICdkcmFnc3RhcnQnOiB0aGlzLl9vbkRyYWdTdGFydCxcbiAgICAgICAgJ2RyYWcnOiB0aGlzLl9vbkRyYWcsXG4gICAgICAgICdkcmFnZW5kJzogdGhpcy5fY2xlYXJHdWlkZUVsZW1lbnQsXG4gICAgICAgICdjbGljayc6IHRoaXMuX2NsZWFyR3VpZGVFbGVtZW50XG4gICAgfSwgdGhpcyk7XG59XG5cbi8qKlxuICogRGVzdHJveSBtZXRob2RcbiAqL1xuRGF5R3JpZE1vdmVHdWlkZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2NsZWFyR3VpZGVFbGVtZW50KCk7XG4gICAgdGhpcy5kYXlncmlkTW92ZS5vZmYodGhpcyk7XG4gICAgdGhpcy5kYXlncmlkTW92ZSA9IHRoaXMuc2NoZWR1bGVDb250YWluZXIgPSB0aGlzLl9kcmFnU3RhcnRYSW5kZXggPVxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gdGhpcy5ndWlkZUVsZW1lbnQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDbGVhciBndWlkZSBlbGVtZW50LlxuICovXG5EYXlHcmlkTW92ZUd1aWRlLnByb3RvdHlwZS5fY2xlYXJHdWlkZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9zaG93T3JpZ2luU2NoZWR1bGVCbG9ja3MoKTtcblxuICAgIGRvbXV0aWwucmVtb3ZlKHRoaXMuZ3VpZGVFbGVtZW50KTtcblxuICAgIGlmICghdXRpbC5icm93c2VyLm1zaWUpIHtcbiAgICAgICAgZG9tdXRpbC5yZW1vdmVDbGFzcyhnbG9iYWwuZG9jdW1lbnQuYm9keSwgY29uZmlnLmNsYXNzbmFtZSgnZHJhZ2dpbmcnKSk7XG4gICAgfVxuXG4gICAgdGhpcy5fZHJhZ1N0YXJ0WEluZGV4ID0gdGhpcy5nZXRTY2hlZHVsZURhdGFGdW5jID0gdGhpcy5ndWlkZUVsZW1lbnQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBEaW0gZWxlbWVudCBibG9ja3NcbiAqIEBwYXJhbSB7bnVtYmVyfSBtb2RlbElEIC0gU2NoZWR1bGUgbW9kZWwgaW5zdGFuY2UgSURcbiAqL1xuRGF5R3JpZE1vdmVHdWlkZS5wcm90b3R5cGUuX2hpZGVPcmlnaW5TY2hlZHVsZUJsb2NrcyA9IGZ1bmN0aW9uKG1vZGVsSUQpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1zY2hlZHVsZS1ibG9jay1kcmFnZ2luZy1kaW0nKTtcbiAgICB2YXIgc2NoZWR1bGVCbG9ja3MgPSBkb211dGlsLmZpbmQoXG4gICAgICAgIGNvbmZpZy5jbGFzc25hbWUoJy53ZWVrZGF5LXNjaGVkdWxlLWJsb2NrJyksXG4gICAgICAgIHRoaXMuZGF5Z3JpZE1vdmUudmlldy5jb250YWluZXIsXG4gICAgICAgIHRydWVcbiAgICApO1xuXG4gICAgdGhpcy5lbGVtZW50cyA9IHV0aWwuZmlsdGVyKHNjaGVkdWxlQmxvY2tzLCBmdW5jdGlvbihzY2hlZHVsZSkge1xuICAgICAgICByZXR1cm4gZG9tdXRpbC5nZXREYXRhKHNjaGVkdWxlLCAnaWQnKSA9PT0gbW9kZWxJRDtcbiAgICB9KTtcblxuICAgIHV0aWwuZm9yRWFjaCh0aGlzLmVsZW1lbnRzLCBmdW5jdGlvbihlbCkge1xuICAgICAgICBkb211dGlsLmFkZENsYXNzKGVsLCBjbGFzc05hbWUpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBTaG93IGVsZW1lbnQgYmxvY2tzXG4gKi9cbkRheUdyaWRNb3ZlR3VpZGUucHJvdG90eXBlLl9zaG93T3JpZ2luU2NoZWR1bGVCbG9ja3MgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1zY2hlZHVsZS1ibG9jay1kcmFnZ2luZy1kaW0nKTtcblxuICAgIHV0aWwuZm9yRWFjaCh0aGlzLmVsZW1lbnRzLCBmdW5jdGlvbihlbCkge1xuICAgICAgICBkb211dGlsLnJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBIaWdobGlnaHQgZWxlbWVudCBibG9ja3NcbiAqIEBwYXJhbSB7U2NoZWR1bGV9IG1vZGVsIC0gbW9kZWxcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudCAtIHBhcmVudCBlbGVtZW50XG4gKi9cbkRheUdyaWRNb3ZlR3VpZGUucHJvdG90eXBlLl9oaWdobGlnaHRTY2hlZHVsZUJsb2NrcyA9IGZ1bmN0aW9uKG1vZGVsLCBwYXJlbnQpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBkb211dGlsLmZpbmQoY29uZmlnLmNsYXNzbmFtZSgnLndlZWtkYXktc2NoZWR1bGUnKSwgcGFyZW50LCB0cnVlKTtcblxuICAgIHV0aWwuZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgZWwuc3R5bGUubWFyZ2luID0gJzAnO1xuXG4gICAgICAgIGlmICghbW9kZWwuaXNGb2N1c2VkKSB7XG4gICAgICAgICAgICBlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBtb2RlbC5kcmFnQmdDb2xvcjtcbiAgICAgICAgICAgIGVsLnN0eWxlLmJvcmRlckxlZnRDb2xvciA9IG1vZGVsLmJvcmRlckNvbG9yO1xuICAgICAgICAgICAgZWwuc3R5bGUuY29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmVmcmVzaCBndWlkZSBlbGVtZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IGxlZnRQZXJjZW50IC0gbGVmdCBwZXJjZW50IG9mIGd1aWRlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGhQZXJjZW50IC0gd2lkdGggcGVyY2VudCBvZiBndWlkZSBlbGVtZW50LlxuICogQHBhcmFtIHtib29sZWFufSBpc0V4Y2VlZGVkTGVmdCAtIHNjaGVkdWxlIHN0YXJ0IGlzIGZhc3RlciB0aGVuIHJlbmRlciBzdGFydCBkYXRlP1xuICogQHBhcmFtIHtib29sZWFufSBpc0V4Y2VlZGVkUmlnaHQgLSBzY2hlZHVsZSBlbmQgaXMgbGF0ZXIgdGhlbiByZW5kZXIgZW5kIGRhdGU/XG4gKi9cbkRheUdyaWRNb3ZlR3VpZGUucHJvdG90eXBlLnJlZnJlc2hHdWlkZUVsZW1lbnQgPSBmdW5jdGlvbihsZWZ0UGVyY2VudCwgd2lkdGhQZXJjZW50LCBpc0V4Y2VlZGVkTGVmdCwgaXNFeGNlZWRlZFJpZ2h0KSB7XG4gICAgdmFyIGd1aWRlRWxlbWVudCA9IHRoaXMuZ3VpZGVFbGVtZW50O1xuXG4gICAgcmVxQW5pbUZyYW1lLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgIGd1aWRlRWxlbWVudC5zdHlsZS5sZWZ0ID0gbGVmdFBlcmNlbnQgKyAnJSc7XG4gICAgICAgIGd1aWRlRWxlbWVudC5zdHlsZS53aWR0aCA9IHdpZHRoUGVyY2VudCArICclJztcblxuICAgICAgICBpZiAoaXNFeGNlZWRlZExlZnQpIHtcbiAgICAgICAgICAgIGRvbXV0aWwuYWRkQ2xhc3MoZ3VpZGVFbGVtZW50LCBjb25maWcuY2xhc3NuYW1lKCd3ZWVrZGF5LWV4Y2VlZC1sZWZ0JykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9tdXRpbC5yZW1vdmVDbGFzcyhndWlkZUVsZW1lbnQsIGNvbmZpZy5jbGFzc25hbWUoJ3dlZWtkYXktZXhjZWVkLWxlZnQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNFeGNlZWRlZFJpZ2h0KSB7XG4gICAgICAgICAgICBkb211dGlsLmFkZENsYXNzKGd1aWRlRWxlbWVudCwgY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1leGNlZWQtcmlnaHQnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb211dGlsLnJlbW92ZUNsYXNzKGd1aWRlRWxlbWVudCwgY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1leGNlZWQtcmlnaHQnKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxuICogR2V0IHNjaGVkdWxlIGJsb2NrIGluZm9ybWF0aW9uIGZyb20gc2NoZWR1bGUgZGF0YS5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgdGhlcmUgaXMgc2luZ2xlIHNjaGVkdWxlIGhhcyAxMCBsZW5ndGguIGJ1dCByZW5kZXIgcmFuZ2UgaW4gdmlldyBpcyA1IHRoZW5cbiAqIHJlbmRlcmVkIGJsb2NrIG11c3QgYmUgY3V0IG91dCB0byByZW5kZXIgcHJvcGVybHkuIGluIHRoaXMgY2FzZSwgdGhpcyBtZXRob2QgcmV0dXJuXG4gKiBob3cgbWFueSBibG9jayBhcmUgY3V0IGJlZm9yZSByZW5kZXJpbmcuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdTdGFydEV2ZW50RGF0YSAtIHNjaGVkdWxlIGRhdGEgZnJvbSBEYXlHcmlkLk1vdmUgaGFuZGxlci5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gZnVuY3Rpb24gdGhhdCByZXR1cm4gc2NoZWR1bGUgYmxvY2sgaW5mb3JtYXRpb24uXG4gKi9cbkRheUdyaWRNb3ZlR3VpZGUucHJvdG90eXBlLl9nZXRTY2hlZHVsZUJsb2NrRGF0YUZ1bmMgPSBmdW5jdGlvbihkcmFnU3RhcnRFdmVudERhdGEpIHtcbiAgICB2YXIgbW9kZWwgPSBkcmFnU3RhcnRFdmVudERhdGEubW9kZWwsXG4gICAgICAgIGRhdGVzSW5SYW5nZSA9IGRyYWdTdGFydEV2ZW50RGF0YS5kYXRlc0luUmFuZ2UsXG4gICAgICAgIHJhbmdlID0gZHJhZ1N0YXJ0RXZlbnREYXRhLnJhbmdlLFxuICAgICAgICBiYXNlV2lkdGhQZXJjZW50ID0gKDEwMCAvIGRhdGVzSW5SYW5nZSksXG4gICAgICAgIG9yaWdpblNjaGVkdWxlU3RhcnRzID0gZGF0ZXRpbWUuc3RhcnQobW9kZWwuc3RhcnQpLFxuICAgICAgICBvcmlnaW5TY2hlZHVsZUVuZHMgPSBkYXRldGltZS5lbmQobW9kZWwuZW5kKSxcbiAgICAgICAgcmVuZGVyU3RhcnREYXRlID0gZGF0ZXRpbWUuc3RhcnQocmFuZ2VbMF0pLFxuICAgICAgICByZW5kZXJFbmREYXRlID0gZGF0ZXRpbWUuZW5kKHJhbmdlW3JhbmdlLmxlbmd0aCAtIDFdKSxcbiAgICAgICAgZnJvbUxlZnQgPSBNYXRoLmNlaWwoKG9yaWdpblNjaGVkdWxlU3RhcnRzLmdldFRpbWUoKSAtXG4gICAgICAgICAgICByZW5kZXJTdGFydERhdGUuZ2V0VGltZSgpKSAvIGRhdGV0aW1lLk1JTExJU0VDT05EU19QRVJfREFZKSB8fCAwLFxuICAgICAgICBmcm9tUmlnaHQgPSBNYXRoLmNlaWwoKG9yaWdpblNjaGVkdWxlRW5kcy5nZXRUaW1lKCkgLVxuICAgICAgICAgICAgcmVuZGVyRW5kRGF0ZS5nZXRUaW1lKCkpIC8gZGF0ZXRpbWUuTUlMTElTRUNPTkRTX1BFUl9EQVkpIHx8IDA7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oaW5kZXhPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhc2VXaWR0aFBlcmNlbnQ6IGJhc2VXaWR0aFBlcmNlbnQsXG4gICAgICAgICAgICBmcm9tTGVmdDogZnJvbUxlZnQgKyBpbmRleE9mZnNldCxcbiAgICAgICAgICAgIGZyb21SaWdodDogZnJvbVJpZ2h0ICsgaW5kZXhPZmZzZXRcbiAgICAgICAgfTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBEcmFnU3RhcnQgZXZlbnQgaGFuZGxlci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnU3RhcnRFdmVudERhdGEgLSBzY2hlZHVsZSBkYXRhLlxuICovXG5EYXlHcmlkTW92ZUd1aWRlLnByb3RvdHlwZS5fb25EcmFnU3RhcnQgPSBmdW5jdGlvbihkcmFnU3RhcnRFdmVudERhdGEpIHtcbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5kYXlncmlkTW92ZS52aWV3LmNvbnRhaW5lcixcbiAgICAgICAgZ3VpZGVFbGVtZW50ID0gdGhpcy5ndWlkZUVsZW1lbnQgPSBkcmFnU3RhcnRFdmVudERhdGEuc2NoZWR1bGVCbG9ja0VsZW1lbnQuY2xvbmVOb2RlKHRydWUpLFxuICAgICAgICBzY2hlZHVsZUNvbnRhaW5lcjtcblxuICAgIGlmICghdXRpbC5icm93c2VyLm1zaWUpIHtcbiAgICAgICAgZG9tdXRpbC5hZGRDbGFzcyhnbG9iYWwuZG9jdW1lbnQuYm9keSwgY29uZmlnLmNsYXNzbmFtZSgnZHJhZ2dpbmcnKSk7XG4gICAgfVxuXG4gICAgdGhpcy5faGlkZU9yaWdpblNjaGVkdWxlQmxvY2tzKFN0cmluZyhkcmFnU3RhcnRFdmVudERhdGEubW9kZWwuY2lkKCkpKTtcblxuICAgIHNjaGVkdWxlQ29udGFpbmVyID0gZG9tdXRpbC5maW5kKGNvbmZpZy5jbGFzc25hbWUoJy53ZWVrZGF5LXNjaGVkdWxlcycpLCBjb250YWluZXIpO1xuICAgIGRvbXV0aWwuYXBwZW5kSFRNTEVsZW1lbnQoJ2RpdicsIGd1aWRlRWxlbWVudCwgY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1zY2hlZHVsZS1jb3ZlcicpKTtcbiAgICBzY2hlZHVsZUNvbnRhaW5lci5hcHBlbmRDaGlsZChndWlkZUVsZW1lbnQpO1xuXG4gICAgdGhpcy5fZHJhZ1N0YXJ0WEluZGV4ID0gZHJhZ1N0YXJ0RXZlbnREYXRhLnhJbmRleDtcbiAgICB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLl9nZXRTY2hlZHVsZUJsb2NrRGF0YUZ1bmMoZHJhZ1N0YXJ0RXZlbnREYXRhKTtcblxuICAgIHRoaXMuX2hpZ2hsaWdodFNjaGVkdWxlQmxvY2tzKGRyYWdTdGFydEV2ZW50RGF0YS5tb2RlbCwgZ3VpZGVFbGVtZW50KTtcbn07XG5cbi8qKlxuICogRHJhZyBldmVudCBoYW5kbGVyLlxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdFdmVudERhdGEgLSBzY2hlZHVsZSBkYXRhLlxuICovXG5EYXlHcmlkTW92ZUd1aWRlLnByb3RvdHlwZS5fb25EcmFnID0gZnVuY3Rpb24oZHJhZ0V2ZW50RGF0YSkge1xuICAgIHZhciBnZXRTY2hlZHVsZURhdGFGdW5jID0gdGhpcy5nZXRTY2hlZHVsZURhdGFGdW5jLFxuICAgICAgICBkcmFnU3RhcnRYSW5kZXggPSB0aGlzLl9kcmFnU3RhcnRYSW5kZXgsXG4gICAgICAgIGRhdGVzSW5SYW5nZSA9IGRyYWdFdmVudERhdGEuZGF0ZXNJblJhbmdlLFxuICAgICAgICBncmlkcyA9IGRyYWdFdmVudERhdGEuZ3JpZHMsXG4gICAgICAgIHNjaGVkdWxlRGF0YSxcbiAgICAgICAgaXNFeGNlZWRlZExlZnQsXG4gICAgICAgIGlzRXhjZWVkZWRSaWdodCxcbiAgICAgICAgb3JpZ2luTGVuZ3RoLFxuICAgICAgICBsZWZ0SW5kZXgsXG4gICAgICAgIHNpemUsXG4gICAgICAgIG5ld0xlZnQsXG4gICAgICAgIG5ld1dpZHRoO1xuXG4gICAgaWYgKCFnZXRTY2hlZHVsZURhdGFGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY2hlZHVsZURhdGEgPSBnZXRTY2hlZHVsZURhdGFGdW5jKGRyYWdFdmVudERhdGEueEluZGV4IC0gZHJhZ1N0YXJ0WEluZGV4KTtcbiAgICBpc0V4Y2VlZGVkTGVmdCA9IHNjaGVkdWxlRGF0YS5mcm9tTGVmdCA8IDA7XG4gICAgaXNFeGNlZWRlZFJpZ2h0ID0gc2NoZWR1bGVEYXRhLmZyb21SaWdodCA+IDA7XG5cbiAgICBsZWZ0SW5kZXggPSBNYXRoLm1heCgwLCBzY2hlZHVsZURhdGEuZnJvbUxlZnQpO1xuICAgIG9yaWdpbkxlbmd0aCA9IChzY2hlZHVsZURhdGEuZnJvbUxlZnQgKiAtMSkgKyAoZGF0ZXNJblJhbmdlICsgc2NoZWR1bGVEYXRhLmZyb21SaWdodCk7XG4gICAgc2l6ZSA9IGlzRXhjZWVkZWRMZWZ0ID8gKG9yaWdpbkxlbmd0aCArIHNjaGVkdWxlRGF0YS5mcm9tTGVmdCkgOiBvcmlnaW5MZW5ndGg7XG4gICAgc2l6ZSA9IGlzRXhjZWVkZWRSaWdodCA/IChzaXplIC0gc2NoZWR1bGVEYXRhLmZyb21SaWdodCkgOiBzaXplO1xuXG4gICAgbmV3TGVmdCA9IGdyaWRzW2xlZnRJbmRleF0gPyBncmlkc1tsZWZ0SW5kZXhdLmxlZnQgOiAwO1xuICAgIG5ld1dpZHRoID0gZ2V0U2NoZWR1bGVCbG9ja1dpZHRoKGxlZnRJbmRleCwgc2l6ZSwgZ3JpZHMpO1xuXG4gICAgdGhpcy5yZWZyZXNoR3VpZGVFbGVtZW50KG5ld0xlZnQsIG5ld1dpZHRoLCBpc0V4Y2VlZGVkTGVmdCwgaXNFeGNlZWRlZFJpZ2h0KTtcbn07XG5cbi8qKlxuICogR2V0IHNjaGVkdWxlIHdpZHRoIGJhc2VkIG9uIGdyaWRzXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCAtIGxlZnQgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gc2NoZWR1bGUgd2lkdGhcbiAqIEBwYXJhbSB7QXJyYXl9IGdyaWRzIC0gZGF0ZXMgaW5mb3JtYXRpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IGVsZW1lbnQgd2lkdGhcbiAqL1xuZnVuY3Rpb24gZ2V0U2NoZWR1bGVCbG9ja1dpZHRoKGxlZnQsIHNpemUsIGdyaWRzKSB7XG4gICAgdmFyIHdpZHRoID0gMDtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbmd0aCA9IGdyaWRzLmxlbmd0aDtcbiAgICBmb3IgKDsgaSA8IHNpemU7IGkgKz0gMSkge1xuICAgICAgICBsZWZ0ID0gKGxlZnQgKyBpKSAlIGxlbmd0aDtcbiAgICAgICAgaWYgKGxlZnQgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHdpZHRoICs9IGdyaWRzW2xlZnRdID8gZ3JpZHNbbGVmdF0ud2lkdGggOiAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpZHRoO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERheUdyaWRNb3ZlR3VpZGU7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2hhbmRsZXIvZGF5Z3JpZC9yZXNpemUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvcmVzaXplLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgUmVzaXplIGhhbmRsZXIgbW9kdWxlIGZvciBEYXlHcmlkIHZpZXcuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpO1xudmFyIGNvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9jb21tb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29tbW9uLmpzXCIpO1xudmFyIGRheUdyaWRDb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb3JlICovIFwiLi9zcmMvanMvaGFuZGxlci9kYXlncmlkL2NvcmUuanNcIik7XG52YXIgRGF5R3JpZFJlc2l6ZUd1aWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9yZXNpemVHdWlkZSAqLyBcIi4vc3JjL2pzL2hhbmRsZXIvZGF5Z3JpZC9yZXNpemVHdWlkZS5qc1wiKTtcbnZhciBUWkRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vdGltZXpvbmUgKi8gXCIuL3NyYy9qcy9jb21tb24vdGltZXpvbmUuanNcIikuRGF0ZTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBpbXBsZW1lbnRzIHtIYW5kbGVyfVxuICogQG1peGVzIGRheUdyaWRDb3JlXG4gKiBAbWl4ZXMgQ3VzdG9tRXZlbnRzXG4gKiBAcGFyYW0ge0RyYWd9IFtkcmFnSGFuZGxlcl0gLSBEcmFnIGhhbmRsZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0RheUdyaWR9IFt2aWV3XSAtIHZpZXcgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0Jhc2V9IFtjb250cm9sbGVyXSAtIEJhc2UgY29udHJvbGxlciBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gRGF5R3JpZFJlc2l6ZShkcmFnSGFuZGxlciwgdmlldywgY29udHJvbGxlcikge1xuICAgIC8qKlxuICAgICAqIERyYWcgaGFuZGxlciBpbnN0YW5jZS5cbiAgICAgKiBAdHlwZSB7RHJhZ31cbiAgICAgKi9cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gZHJhZ0hhbmRsZXI7XG5cbiAgICAvKipcbiAgICAgKiB2aWV3IGluc3RhbmNlLlxuICAgICAqIEB0eXBlIHtEYXlHcmlkfVxuICAgICAqL1xuICAgIHRoaXMudmlldyA9IHZpZXc7XG5cbiAgICAvKipcbiAgICAgKiBCYXNlIGNvbnRyb2xsZXIgaW5zdGFuY2UuXG4gICAgICogQHR5cGUge0Jhc2V9XG4gICAgICovXG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcblxuICAgIC8qKlxuICAgICAqIFRlbXBvcmFyeSB2YXJpYWJsZSBmb3IgZHJhZ1N0YXJ0IGV2ZW50IGRhdGEuXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLl9kcmFnU3RhcnQgPSBudWxsO1xuXG4gICAgZHJhZ0hhbmRsZXIub24oe1xuICAgICAgICBkcmFnU3RhcnQ6IHRoaXMuX29uRHJhZ1N0YXJ0XG4gICAgfSwgdGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RGF5R3JpZFJlc2l6ZUd1aWRlfVxuICAgICAqL1xuICAgIHRoaXMuZ3VpZGUgPSBuZXcgRGF5R3JpZFJlc2l6ZUd1aWRlKHRoaXMpO1xufVxuXG4vKipcbiAqIERlc3Ryb3kgbWV0aG9kXG4gKi9cbkRheUdyaWRSZXNpemUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmd1aWRlLmRlc3Ryb3koKTtcbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih0aGlzKTtcbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gdGhpcy52aWV3ID0gdGhpcy5jb250cm9sbGVyID1cbiAgICAgICAgdGhpcy5ndWlkZSA9IHRoaXMuX2RyYWdTdGFydCA9IG51bGw7XG59O1xuXG4vKipcbiAqIENoZWNrIGRyYWdzdGFydCB0YXJnZXQgaXMgZXhwZWN0ZWQgY29uZGl0aW9ucyBmb3IgdGhpcyBoYW5kbGVyLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gZHJhZ3N0YXJ0IGV2ZW50IGhhbmRsZXIncyB0YXJnZXQgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufFdlZWtkYXlJbldlZWt9IHJldHVybiBXZWVrZGF5SW5XZWVrIHZpZXcgaW5zdGFuY2Ugd2hlbiBzYXRpYXRlIGNvbmRpdGlvbi5cbiAqL1xuRGF5R3JpZFJlc2l6ZS5wcm90b3R5cGUuY2hlY2tFeHBlY3RlZENvbmRpdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBjc3NDbGFzcyA9IGRvbXV0aWwuZ2V0Q2xhc3ModGFyZ2V0KSxcbiAgICAgICAgbWF0Y2hlcztcblxuICAgIGlmICghfmNzc0NsYXNzLmluZGV4T2YoY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1yZXNpemUtaGFuZGxlJykpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheScpKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjc3NDbGFzcyA9IGRvbXV0aWwuZ2V0Q2xhc3ModGFyZ2V0KTtcbiAgICBtYXRjaGVzID0gY3NzQ2xhc3MubWF0Y2goY29uZmlnLmRheWdyaWQuZ2V0Vmlld0lEUmVnRXhwKTtcblxuICAgIGlmICghbWF0Y2hlcyB8fCBtYXRjaGVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB1dGlsLnBpY2sodGhpcy52aWV3LmNoaWxkcmVuLml0ZW1zLCBtYXRjaGVzWzFdKTtcbn07XG5cbi8qKlxuICogRHJhZ1N0YXJ0IGV2ZW50IGhhbmRsZXIuXG4gKiBAZW1pdHMgRGF5R3JpZFJlc2l6ZSNkcmFnc3RhcnRcbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnU3RhcnRFdmVudERhdGEgLSBzY2hlZHVsZSBkYXRhLlxuICovXG5EYXlHcmlkUmVzaXplLnByb3RvdHlwZS5fb25EcmFnU3RhcnQgPSBmdW5jdGlvbihkcmFnU3RhcnRFdmVudERhdGEpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZHJhZ1N0YXJ0RXZlbnREYXRhLnRhcmdldCxcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jaGVja0V4cGVjdGVkQ29uZGl0aW9uKHRhcmdldCksXG4gICAgICAgIGNvbnRyb2xsZXIgPSB0aGlzLmNvbnRyb2xsZXIsXG4gICAgICAgIHNjaGVkdWxlQmxvY2tFbGVtZW50LFxuICAgICAgICBtb2RlbElELFxuICAgICAgICB0YXJnZXRNb2RlbCxcbiAgICAgICAgZ2V0U2NoZWR1bGVEYXRhRnVuYyxcbiAgICAgICAgc2NoZWR1bGVEYXRhO1xuXG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjaGVkdWxlQmxvY2tFbGVtZW50ID0gZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnLndlZWtkYXktc2NoZWR1bGUtYmxvY2snKSk7XG4gICAgbW9kZWxJRCA9IGRvbXV0aWwuZ2V0RGF0YShzY2hlZHVsZUJsb2NrRWxlbWVudCwgJ2lkJyk7XG4gICAgdGFyZ2V0TW9kZWwgPSBjb250cm9sbGVyLnNjaGVkdWxlcy5pdGVtc1ttb2RlbElEXTtcblxuICAgIGlmICghdGFyZ2V0TW9kZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGdldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLl9yZXRyaXZlU2NoZWR1bGVEYXRhKHRoaXMudmlldywgZHJhZ1N0YXJ0RXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcbiAgICB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmMgPSBnZXRTY2hlZHVsZURhdGFGdW5jO1xuICAgIHNjaGVkdWxlRGF0YSA9IHRoaXMuX2RyYWdTdGFydCA9IGdldFNjaGVkdWxlRGF0YUZ1bmMoZHJhZ1N0YXJ0RXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcblxuICAgIHV0aWwuZXh0ZW5kKHNjaGVkdWxlRGF0YSwge1xuICAgICAgICBzY2hlZHVsZUJsb2NrRWxlbWVudDogc2NoZWR1bGVCbG9ja0VsZW1lbnQsXG4gICAgICAgIG1vZGVsOiB0YXJnZXRNb2RlbFxuICAgIH0pO1xuXG4gICAgdGhpcy5kcmFnSGFuZGxlci5vbih7XG4gICAgICAgIGRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgZHJhZ0VuZDogdGhpcy5fb25EcmFnRW5kLFxuICAgICAgICBjbGljazogdGhpcy5fb25DbGlja1xuICAgIH0sIHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IERheUdyaWRSZXNpemUjZHJhZ3N0YXJ0XG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1ZpZXd9IHJlbGF0ZWRWaWV3IC0gdmlldyBpbnN0YW5jZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZGF0ZXNJblJhbmdlIC0gZGF0ZSBjb3VudCBvZiB0aGlzIHZpZXcuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYWdTdGFydFhJbmRleCAtIGluZGV4IG51bWJlciBvZiBkcmFnc3RhcnQgZ3JpZCBpbmRleC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geEluZGV4IC0gaW5kZXggbnVtYmVyIG9mIG1vdXNlIHBvc2l0aW9ucy5cbiAgICAgKiBAcHJvcGVydHkge1NjaGVkdWxlfSBtb2RlbCAtIGRhdGEgb2JqZWN0IG9mIG1vZGVsIGlzbnRhbmNlLlxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTERpdkVsZW1lbnR9IHNjaGVkdWxlQmxvY2tFbGVtZW50IC0gdGFyZ2V0IHNjaGVkdWxlIGJsb2NrIGVsZW1lbnQuXG4gICAgICovXG4gICAgdGhpcy5maXJlKCdkcmFnc3RhcnQnLCBzY2hlZHVsZURhdGEpO1xufTtcblxuLyoqXG4gKiBEcmFnIGV2ZW50IGhhbmRsZXIgbWV0aG9kLlxuICogQGVtaXRzIERheUdyaWRSZXNpemUjZHJhZ1xuICogQHBhcmFtIHtvYmplY3R9IGRyYWdFdmVudERhdGEgLSBEcmFnI2RyYWcgZXZlbnQgaGFuZGxlciBzY2hlZHVsZWRhdGEuXG4gKi9cbkRheUdyaWRSZXNpemUucHJvdG90eXBlLl9vbkRyYWcgPSBmdW5jdGlvbihkcmFnRXZlbnREYXRhKSB7XG4gICAgdmFyIGdldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmM7XG5cbiAgICBpZiAoIWdldFNjaGVkdWxlRGF0YUZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBldmVudCBEYXlHcmlkUmVzaXplI2RyYWdcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7Vmlld30gcmVsYXRlZFZpZXcgLSB2aWV3IGluc3RhbmNlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRlc0luUmFuZ2UgLSBkYXRlIGNvdW50IG9mIHRoaXMgdmlldy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZHJhZ1N0YXJ0WEluZGV4IC0gaW5kZXggbnVtYmVyIG9mIGRyYWdzdGFydCBncmlkIGluZGV4LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4SW5kZXggLSBpbmRleCBudW1iZXIgb2YgbW91c2UgcG9zaXRpb25zLlxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnZHJhZycsIGdldFNjaGVkdWxlRGF0YUZ1bmMoZHJhZ0V2ZW50RGF0YS5vcmlnaW5FdmVudCkpO1xufTtcblxuLyoqXG4gKiBSZXF1ZXN0IHVwZGF0ZSBzY2hlZHVsZSBpbnN0YW5jZSB0byBiYXNlIGNvbnRyb2xsZXIuXG4gKiBAZmlyZXMgRGF5R3JpZFJlc2l6ZSNiZWZvcmVVcGRhdGVTY2hlZHVsZVxuICogQHBhcmFtIHtvYmplY3R9IHNjaGVkdWxlRGF0YSAtIHNjaGVkdWxlIGRhdGEgZnJvbSBEYXlHcmlkUmVzaXplIGhhbmRsZXIuXG4gKi9cbkRheUdyaWRSZXNpemUucHJvdG90eXBlLl91cGRhdGVTY2hlZHVsZSA9IGZ1bmN0aW9uKHNjaGVkdWxlRGF0YSkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNjaGVkdWxlRGF0YS50YXJnZXRNb2RlbCxcbiAgICAgICAgZGF0ZU9mZnNldCA9IHNjaGVkdWxlRGF0YS54SW5kZXggLSBzY2hlZHVsZURhdGEuZHJhZ1N0YXJ0WEluZGV4LFxuICAgICAgICBuZXdFbmRzID0gbmV3IFRaRGF0ZShzY2hlZHVsZS5lbmQpO1xuICAgIHZhciBjaGFuZ2VzO1xuXG4gICAgbmV3RW5kcyA9IG5ld0VuZHMuYWRkRGF0ZShkYXRlT2Zmc2V0KTtcbiAgICBuZXdFbmRzID0gbmV3IFRaRGF0ZShjb21tb24ubWF4RGF0ZShkYXRldGltZS5lbmQoc2NoZWR1bGUuc3RhcnQpLCBuZXdFbmRzKSk7XG5cbiAgICBjaGFuZ2VzID0gY29tbW9uLmdldFNjaGVkdWxlQ2hhbmdlcyhcbiAgICAgICAgc2NoZWR1bGUsXG4gICAgICAgIFsnZW5kJ10sXG4gICAgICAgIHtlbmQ6IG5ld0VuZHN9XG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBEYXlHcmlkUmVzaXplI2JlZm9yZVVwZGF0ZVNjaGVkdWxlXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1NjaGVkdWxlfSBzY2hlZHVsZSAtIFRoZSBvcmlnaW5hbCBzY2hlZHVsZSBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gc3RhcnQgLSBEZXByZWNhdGVkOiBzdGFydCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gZW5kIC0gRGVwcmVjYXRlZDogZW5kIHRpbWUgdG8gdXBkYXRlXG4gICAgICogQHByb3BlcnR5IHtvYmplY3R9IGNoYW5nZXMgLSBlbmQgdGltZSB0byB1cGRhdGVcbiAgICAgKiAgQHByb3BlcnR5IHtkYXRlfSBlbmQgLSBlbmQgdGltZSB0byB1cGRhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywge1xuICAgICAgICBzY2hlZHVsZTogc2NoZWR1bGUsXG4gICAgICAgIGNoYW5nZXM6IGNoYW5nZXMsXG4gICAgICAgIHN0YXJ0OiBzY2hlZHVsZS5nZXRTdGFydHMoKSxcbiAgICAgICAgZW5kOiBuZXdFbmRzXG4gICAgfSk7XG59O1xuXG4vKipcbiAqIERyYWdFbmQgZXZlbnQgaGFuZGVyIG1ldGhvZC5cbiAqIEBlbWl0cyBEYXlHcmlkUmVzaXplI2RyYWdlbmRcbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRW5kRXZlbnREYXRhIC0gRHJhZyNEcmFnRW5kIGV2ZW50IGhhbmRsZXIgZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3ZlcnJpZGVFdmVudE5hbWVdIC0gb3ZlcnJpZGUgZW1pdHRlZCBldmVudCBuYW1lIHdoZW4gc3VwcGxpZWQuXG4gKiBAcGFyYW0gez9ib29sZWFufSBza2lwVXBkYXRlIC0gdHJ1ZSB0aGVuIHNraXAgdXBkYXRlIHNjaGVkdWxlIG1vZGVsLlxuICovXG5EYXlHcmlkUmVzaXplLnByb3RvdHlwZS5fb25EcmFnRW5kID0gZnVuY3Rpb24oZHJhZ0VuZEV2ZW50RGF0YSwgb3ZlcnJpZGVFdmVudE5hbWUsIHNraXBVcGRhdGUpIHtcbiAgICB2YXIgZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuZ2V0U2NoZWR1bGVEYXRhRnVuYyxcbiAgICAgICAgZHJhZ1N0YXJ0ID0gdGhpcy5fZHJhZ1N0YXJ0LFxuICAgICAgICBzY2hlZHVsZURhdGE7XG5cbiAgICBpZiAoIWdldFNjaGVkdWxlRGF0YUZ1bmMgfHwgIWRyYWdTdGFydCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5kcmFnSGFuZGxlci5vZmYoe1xuICAgICAgICBkcmFnOiB0aGlzLl9vbkRyYWcsXG4gICAgICAgIGRyYWdFbmQ6IHRoaXMuX29uRHJhZ0VuZCxcbiAgICAgICAgY2xpY2s6IHRoaXMuX29uQ2xpY2tcbiAgICB9LCB0aGlzKTtcblxuICAgIHNjaGVkdWxlRGF0YSA9IGdldFNjaGVkdWxlRGF0YUZ1bmMoZHJhZ0VuZEV2ZW50RGF0YS5vcmlnaW5FdmVudCk7XG4gICAgdXRpbC5leHRlbmQoc2NoZWR1bGVEYXRhLCB7XG4gICAgICAgIHRhcmdldE1vZGVsOiBkcmFnU3RhcnQubW9kZWxcbiAgICB9KTtcblxuICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICB0aGlzLl91cGRhdGVTY2hlZHVsZShzY2hlZHVsZURhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBldmVudCBEYXlHcmlkUmVzaXplI2RyYWdlbmRcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7Vmlld30gcmVsYXRlZFZpZXcgLSB2aWV3IGluc3RhbmNlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRlc0luUmFuZ2UgLSBkYXRlIGNvdW50IG9mIHRoaXMgdmlldy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZHJhZ1N0YXJ0WEluZGV4IC0gaW5kZXggbnVtYmVyIG9mIGRyYWdzdGFydCBncmlkIGluZGV4LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4SW5kZXggLSBpbmRleCBudW1iZXIgb2YgbW91c2UgcG9zaXRpb25zLlxuICAgICAqL1xuICAgIHRoaXMuZmlyZShvdmVycmlkZUV2ZW50TmFtZSB8fCAnZHJhZ2VuZCcsIHNjaGVkdWxlRGF0YSk7XG5cbiAgICB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLl9kcmFnU3RhcnQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDbGljayBldmVudCBoYW5kbGVyIG1ldGhvZC5cbiAqIEBlbWl0cyBEYXlHcmlkUmVzaXplI2NsaWNrXG4gKiBAcGFyYW0ge29iamVjdH0gY2xpY2tFdmVudERhdGEgLSBEcmFnI0NsaWNrIGV2ZW50IGhhbmRsZXIgZGF0YS5cbiAqL1xuRGF5R3JpZFJlc2l6ZS5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbihjbGlja0V2ZW50RGF0YSkge1xuICAgIC8qKlxuICAgICAqIEBldmVudCBEYXlHcmlkUmVzaXplI2NsaWNrXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1ZpZXd9IHJlbGF0ZWRWaWV3IC0gdmlldyBpbnN0YW5jZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZGF0ZXNJblJhbmdlIC0gZGF0ZSBjb3VudCBvZiB0aGlzIHZpZXcuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYWdTdGFydFhJbmRleCAtIGluZGV4IG51bWJlciBvZiBkcmFnc3RhcnQgZ3JpZCBpbmRleC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geEluZGV4IC0gaW5kZXggbnVtYmVyIG9mIG1vdXNlIHBvc2l0aW9ucy5cbiAgICAgKi9cbiAgICB0aGlzLl9vbkRyYWdFbmQoY2xpY2tFdmVudERhdGEsICdjbGljaycsIHRydWUpO1xufTtcblxuY29tbW9uLm1peGluKGRheUdyaWRDb3JlLCBEYXlHcmlkUmVzaXplKTtcbnV0aWwuQ3VzdG9tRXZlbnRzLm1peGluKERheUdyaWRSZXNpemUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERheUdyaWRSZXNpemU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvaGFuZGxlci9kYXlncmlkL3Jlc2l6ZUd1aWRlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9oYW5kbGVyL2RheWdyaWQvcmVzaXplR3VpZGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qKlxuICogQGZpbGVvdmVydmlldyBSZXNpemUgR3VpZGUgbW9kdWxlLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKTtcbnZhciByZXFBbmltRnJhbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vcmVxQW5pbUZyYW1lICovIFwiLi9zcmMvanMvY29tbW9uL3JlcUFuaW1GcmFtZS5qc1wiKTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7RGF5R3JpZFJlc2l6ZX0gcmVzaXplSGFuZGxlciAtIGluc3RhbmNlIG9mIERheUdyaWRSZXNpemVcbiAqL1xuZnVuY3Rpb24gRGF5R3JpZFJlc2l6ZUd1aWRlKHJlc2l6ZUhhbmRsZXIpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RGF5R3JpZFJlc2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnJlc2l6ZUhhbmRsZXIgPSByZXNpemVIYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQgdGhhdCBhY3R1YWxseSBjb250YWlucyB0aGUgZXZlbnQgZWxlbWVudFxuICAgICAqIEB0eXBlIHtIVE1MRElWRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnNjaGVkdWxlQ29udGFpbmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxESVZFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuZ3VpZGVFbGVtZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtIVE1MRElWRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnNjaGVkdWxlQmxvY2tFbGVtZW50ID0gbnVsbDtcblxuICAgIHJlc2l6ZUhhbmRsZXIub24oe1xuICAgICAgICAnZHJhZ3N0YXJ0JzogdGhpcy5fb25EcmFnU3RhcnQsXG4gICAgICAgICdkcmFnJzogdGhpcy5fb25EcmFnLFxuICAgICAgICAnZHJhZ2VuZCc6IHRoaXMuX2NsZWFyR3VpZGVFbGVtZW50LFxuICAgICAgICAnY2xpY2snOiB0aGlzLl9jbGVhckd1aWRlRWxlbWVudFxuICAgIH0sIHRoaXMpO1xufVxuXG4vKipcbiAqIERlc3Ryb3kgbWV0aG9kXG4gKi9cbkRheUdyaWRSZXNpemVHdWlkZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2NsZWFyR3VpZGVFbGVtZW50KCk7XG4gICAgdGhpcy5yZXNpemVIYW5kbGVyLm9mZih0aGlzKTtcbiAgICB0aGlzLnJlc2l6ZUhhbmRsZXIgPSB0aGlzLnNjaGVkdWxlQ29udGFpbmVyID0gdGhpcy5nZXRTY2hlZHVsZURhdGFGdW5jID1cbiAgICAgICAgdGhpcy5ndWlkZUVsZW1lbnQgPSB0aGlzLnNjaGVkdWxlQmxvY2tFbGVtZW50ID0gbnVsbDtcbn07XG5cbi8qKlxuICogQ2xlYXIgZ3VpZGUgZWxlbWVudC5cbiAqL1xuRGF5R3JpZFJlc2l6ZUd1aWRlLnByb3RvdHlwZS5fY2xlYXJHdWlkZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICBkb211dGlsLnJlbW92ZSh0aGlzLmd1aWRlRWxlbWVudCk7XG5cbiAgICBpZiAoIXV0aWwuYnJvd3Nlci5tc2llKSB7XG4gICAgICAgIGRvbXV0aWwucmVtb3ZlQ2xhc3MoZ2xvYmFsLmRvY3VtZW50LmJvZHksIGNvbmZpZy5jbGFzc25hbWUoJ3Jlc2l6aW5nLXgnKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2NoZWR1bGVCbG9ja0VsZW1lbnQpIHtcbiAgICAgICAgZG9tdXRpbC5yZW1vdmVDbGFzcyh0aGlzLnNjaGVkdWxlQmxvY2tFbGVtZW50LCBjb25maWcuY2xhc3NuYW1lKCd3ZWVrZGF5LXNjaGVkdWxlLWJsb2NrLWRyYWdnaW5nLWRpbScpKTtcbiAgICB9XG5cbiAgICB0aGlzLmdldFNjaGVkdWxlRGF0YUZ1bmMgPSBudWxsO1xufTtcblxuLyoqXG4gKiBSZWZyZXNoIGd1aWRlIGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdXaWR0aCAtIG5ldyB3aWR0aCBwZXJjZW50YWdlIHZhbHVlIHRvIHJlc2l6ZSBndWlkZSBlbGVtZW50LlxuICovXG5EYXlHcmlkUmVzaXplR3VpZGUucHJvdG90eXBlLnJlZnJlc2hHdWlkZUVsZW1lbnQgPSBmdW5jdGlvbihuZXdXaWR0aCkge1xuICAgIHZhciBndWlkZUVsZW1lbnQgPSB0aGlzLmd1aWRlRWxlbWVudDtcblxuICAgIHJlcUFuaW1GcmFtZS5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICBndWlkZUVsZW1lbnQuc3R5bGUud2lkdGggPSBuZXdXaWR0aCArICclJztcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGZ1bmN0aW9uIHRoYXQgY2FsY3VsYXRlIGd1aWRlIGVsZW1lbnQncyBuZXcgd2lkdGggcGVyY2VudGFnZSB2YWx1ZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnU3RhcnRFdmVudERhdGEgLSBkcmFnc3RhcnQgc2NoZWR1bGUgZGF0YS5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gcmV0dXJuIGZ1bmN0aW9uIHRoYXQgY2FsY3VsYXRlIGd1aWRlIGVsZW1lbnQgbmV3IHdpZHRoIHBlcmNlbnRhZ2UuXG4gKi9cbkRheUdyaWRSZXNpemVHdWlkZS5wcm90b3R5cGUuZ2V0R3VpZGVFbGVtZW50V2lkdGhGdW5jID0gZnVuY3Rpb24oZHJhZ1N0YXJ0RXZlbnREYXRhKSB7XG4gICAgdmFyIG1vZGVsID0gZHJhZ1N0YXJ0RXZlbnREYXRhLm1vZGVsLFxuICAgICAgICB2aWV3T3B0aW9ucyA9IHRoaXMucmVzaXplSGFuZGxlci52aWV3Lm9wdGlvbnMsXG4gICAgICAgIGZyb21MZWZ0ID0gTWF0aC5jZWlsKFxuICAgICAgICAgICAgKG1vZGVsLnN0YXJ0IC0gdmlld09wdGlvbnMucmVuZGVyU3RhcnREYXRlKSAvIGRhdGV0aW1lLk1JTExJU0VDT05EU19QRVJfREFZXG4gICAgICAgICkgfHwgMCxcbiAgICAgICAgZ3JpZHMgPSBkcmFnU3RhcnRFdmVudERhdGEuZ3JpZHM7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oeEluZGV4KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IDA7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGdyaWRzLmxlbmd0aDtcbiAgICAgICAgd2lkdGggKz0gZ3JpZHNbZnJvbUxlZnRdID8gZ3JpZHNbZnJvbUxlZnRdLndpZHRoIDogMDtcblxuICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpZiAoaSA+IGZyb21MZWZ0ICYmIGkgPD0geEluZGV4KSB7XG4gICAgICAgICAgICAgICAgd2lkdGggKz0gZ3JpZHNbaV0gPyBncmlkc1tpXS53aWR0aCA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgfTtcbn07XG5cbi8qKlxuICogRHJhZ1N0YXJ0IGV2ZW50IGhhbmRsZXIuXG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ1N0YXJ0RXZlbnREYXRhIC0gc2NoZWR1bGUgZGF0YS5cbiAqL1xuRGF5R3JpZFJlc2l6ZUd1aWRlLnByb3RvdHlwZS5fb25EcmFnU3RhcnQgPSBmdW5jdGlvbihkcmFnU3RhcnRFdmVudERhdGEpIHtcbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5yZXNpemVIYW5kbGVyLnZpZXcuY29udGFpbmVyLFxuICAgICAgICBzY2hlZHVsZUJsb2NrRWxlbWVudCA9IHRoaXMuc2NoZWR1bGVCbG9ja0VsZW1lbnQgPSBkcmFnU3RhcnRFdmVudERhdGEuc2NoZWR1bGVCbG9ja0VsZW1lbnQsXG4gICAgICAgIGd1aWRlRWxlbWVudCA9IHRoaXMuZ3VpZGVFbGVtZW50ID0gc2NoZWR1bGVCbG9ja0VsZW1lbnQuY2xvbmVOb2RlKHRydWUpLFxuICAgICAgICBzY2hlZHVsZUNvbnRhaW5lcjtcblxuICAgIGlmICghdXRpbC5icm93c2VyLm1zaWUpIHtcbiAgICAgICAgZG9tdXRpbC5hZGRDbGFzcyhnbG9iYWwuZG9jdW1lbnQuYm9keSwgY29uZmlnLmNsYXNzbmFtZSgncmVzaXppbmcteCcpKTtcbiAgICB9XG5cbiAgICBzY2hlZHVsZUNvbnRhaW5lciA9IGRvbXV0aWwuZmluZChjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheS1zY2hlZHVsZXMnKSwgY29udGFpbmVyKTtcbiAgICBkb211dGlsLmFkZENsYXNzKGd1aWRlRWxlbWVudCwgY29uZmlnLmNsYXNzbmFtZSgnZGF5Z3JpZC1ndWlkZS1tb3ZlJykpO1xuICAgIGRvbXV0aWwuYWRkQ2xhc3Moc2NoZWR1bGVCbG9ja0VsZW1lbnQsIGNvbmZpZy5jbGFzc25hbWUoJ3dlZWtkYXktc2NoZWR1bGUtYmxvY2stZHJhZ2dpbmctZGltJykpO1xuXG4gICAgc2NoZWR1bGVDb250YWluZXIuYXBwZW5kQ2hpbGQoZ3VpZGVFbGVtZW50KTtcblxuICAgIHRoaXMuZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuZ2V0R3VpZGVFbGVtZW50V2lkdGhGdW5jKGRyYWdTdGFydEV2ZW50RGF0YSk7XG59O1xuXG4vKipcbiAqIERyYWcgZXZlbnQgaGFuZGxlci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRXZlbnREYXRhIC0gc2NoZWR1bGUgZGF0YS5cbiAqL1xuRGF5R3JpZFJlc2l6ZUd1aWRlLnByb3RvdHlwZS5fb25EcmFnID0gZnVuY3Rpb24oZHJhZ0V2ZW50RGF0YSkge1xuICAgIHZhciBmdW5jID0gdGhpcy5nZXRTY2hlZHVsZURhdGFGdW5jO1xuXG4gICAgaWYgKCFmdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnJlZnJlc2hHdWlkZUVsZW1lbnQoZnVuYyhkcmFnRXZlbnREYXRhLnhJbmRleCkpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXlHcmlkUmVzaXplR3VpZGU7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2hhbmRsZXIvZHJhZy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvaGFuZGxlci9kcmFnLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIEBmaWxlb3ZlcnZpZXcgRHJhZyBoYW5kbGVyIGZvciBjYWxlbmRhci5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciBkb21ldmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9kb21ldmVudCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb21ldmVudC5qc1wiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIik7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAbWl4ZXMgQ3VzdG9tRXZlbnRzXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgZm9yIGRyYWcgaGFuZGxlclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRpc3RhbmNlPTEwXSAtIGRpc3RhbmNlIGluIHBpeGVscyBhZnRlciBtb3VzZSBtdXN0IG1vdmUgYmVmb3JlIGRyYWdnaW5nIHNob3VsZCBzdGFydFxuICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMuZXhjbHVkZV0gLSBmaWx0ZXIgZnVuY3Rpb24gZm9yIGRvbid0IGZpcmUgZHJhZyBldmVudHMgdGhhdCBzcGVjaWZpYyBjb25kaXRpb25zLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyIGVsZW1lbnQgdG8gd2F0Y2hpbmcgZHJhZyBpbnRlcmFjdGlvbi5cbiAqL1xuZnVuY3Rpb24gRHJhZyhvcHRpb25zLCBjb250YWluZXIpIHtcbiAgICBkb21ldmVudC5vbihjb250YWluZXIsICdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93biwgdGhpcyk7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB1dGlsLmV4dGVuZCh7XG4gICAgICAgIGRpc3RhbmNlOiAxMCxcbiAgICAgICAgZXhjbHVkZTogbnVsbFxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuXG4gICAgLyoqXG4gICAgICogRmxhZyBmb3IgcmVwcmVzZW50IGN1cnJlbnQgZHJhZ2dpbmcgc2Vzc2lvbiBoYXMgYmVlbiBjYW5jZWxsZWQgZm9yIGV4Y2x1ZGUgb3B0aW9uLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuX2NhbmNlbGxlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5faXNNb3ZlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogZHJhZ2dpbmcgZGlzdGFuY2UgaW4gcGl4ZWwgYmV0d2VlbiBtb3VzZWRvd24gYW5kIGZpcmluZyBkcmFnU3RhcnQgZXZlbnRzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLl9kaXN0YW5jZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLl9kcmFnU3RhcnRGaXJlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLl9kcmFnU3RhcnRFdmVudERhdGEgPSBudWxsO1xufVxuXG4vKipcbiAqIERlc3Ryb3kgbWV0aG9kLlxuICovXG5EcmFnLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgZG9tZXZlbnQub2ZmKHRoaXMuY29udGFpbmVyLCAnbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZURvd24sIHRoaXMpO1xuICAgIHRoaXMuX2lzTW92ZWQgPSBudWxsO1xuICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcbn07XG5cbi8qKlxuICogQ2xlYXIgY2FjaGUgZGF0YSBmb3Igc2luZ2xlIGRyYWdnaW5nIHNlc3Npb24uXG4gKi9cbkRyYWcucHJvdG90eXBlLl9jbGVhckRhdGEgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9kaXN0YW5jZSA9IDA7XG4gICAgdGhpcy5faXNNb3ZlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2RyYWdTdGFydEZpcmVkID0gZmFsc2U7XG4gICAgdGhpcy5fZHJhZ1N0YXJ0RXZlbnREYXRhID0gbnVsbDtcbn07XG5cbi8qKlxuICogVG9nZ2xlIGV2ZW50cyBmb3IgbW91c2UgZHJhZ2dpbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHRvQmluZCAtIGJpbmQgZXZlbnRzIHJlbGF0ZWQgd2l0aCBkcmFnZ2luZyB3aGVuIHN1cHBsaWVkIFwidHJ1ZVwiXG4gKi9cbkRyYWcucHJvdG90eXBlLl90b2dnbGVEcmFnRXZlbnQgPSBmdW5jdGlvbih0b0JpbmQpIHtcbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXG4gICAgICAgIGRvbU1ldGhvZCxcbiAgICAgICAgbWV0aG9kO1xuXG4gICAgaWYgKHRvQmluZCkge1xuICAgICAgICBkb21NZXRob2QgPSAnb24nO1xuICAgICAgICBtZXRob2QgPSAnZGlzYWJsZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9tTWV0aG9kID0gJ29mZic7XG4gICAgICAgIG1ldGhvZCA9ICdlbmFibGUnO1xuICAgIH1cblxuICAgIGRvbXV0aWxbbWV0aG9kICsgJ1RleHRTZWxlY3Rpb24nXShjb250YWluZXIsIHByZXZlbnREZWZhdWx0V2hlbk5vdFBvcHVwKTtcbiAgICBkb211dGlsW21ldGhvZCArICdJbWFnZURyYWcnXShjb250YWluZXIsIHByZXZlbnREZWZhdWx0V2hlbk5vdFBvcHVwKTtcbiAgICBkb21ldmVudFtkb21NZXRob2RdKGdsb2JhbC5kb2N1bWVudCwge1xuICAgICAgICBtb3VzZW1vdmU6IHRoaXMuX29uTW91c2VNb3ZlLFxuICAgICAgICBtb3VzZXVwOiB0aGlzLl9vbk1vdXNlVXBcbiAgICB9LCB0aGlzKTtcbn07XG5cbi8qKlxuICogTm9ybWFsaXplIG1vdXNlIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gbW91c2VFdmVudCAtIG1vdXNlIGV2ZW50IG9iamVjdC5cbiAqIEByZXR1cm5zIHtvYmplY3R9IG5vcm1hbGl6ZWQgbW91c2UgZXZlbnQgZGF0YS5cbiAqL1xuRHJhZy5wcm90b3R5cGUuX2dldEV2ZW50RGF0YSA9IGZ1bmN0aW9uKG1vdXNlRXZlbnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXQ6IGRvbWV2ZW50LmdldEV2ZW50VGFyZ2V0KG1vdXNlRXZlbnQpLFxuICAgICAgICBvcmlnaW5FdmVudDogbW91c2VFdmVudFxuICAgIH07XG59O1xuXG4vKipcbiAqIE1vdXNlRG93biBET00gZXZlbnQgaGFuZGxlci5cbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gbW91c2VEb3duRXZlbnQgTW91c2VEb3duIGV2ZW50IG9iamVjdC5cbiAqL1xuRHJhZy5wcm90b3R5cGUuX29uTW91c2VEb3duID0gZnVuY3Rpb24obW91c2VEb3duRXZlbnQpIHtcbiAgICB2YXIgb3B0ID0gdGhpcy5vcHRpb25zLFxuICAgICAgICB0YXJnZXQgPSBkb21ldmVudC5nZXRFdmVudFRhcmdldChtb3VzZURvd25FdmVudCk7XG5cbiAgICAvLyBvbmx5IHByaW1hcnkgYnV0dG9uIGNhbiBzdGFydCBkcmFnLlxuICAgIGlmIChkb21ldmVudC5nZXRNb3VzZUJ1dHRvbihtb3VzZURvd25FdmVudCkgIT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvcHQuZXhjbHVkZSAmJiBvcHQuZXhjbHVkZSh0YXJnZXQpKSB7XG4gICAgICAgIHRoaXMuX2NhbmNlbGxlZCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2NsZWFyRGF0YSgpO1xuICAgIHRoaXMuX2RyYWdTdGFydEV2ZW50RGF0YSA9IHRoaXMuX2dldEV2ZW50RGF0YShtb3VzZURvd25FdmVudCk7XG5cbiAgICB0aGlzLl90b2dnbGVEcmFnRXZlbnQodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBtb3VzZWRvd24gZXZlbnQgZm9yIGZpcmVmb3ggYnVnLiBjYW5jZWxhYmxlLlxuICAgICAqIEBldmVudCBEcmFnI21vdXNlRG93blxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gdGFyZ2V0IGVsZW1lbnQgaW4gdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge01vdXNlRXZlbnR9IG9yaWdpbkV2ZW50IC0gb3JpZ2luYWwgbW91c2UgZXZlbnQgb2JqZWN0LlxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnbW91c2Vkb3duJywgdGhpcy5fZHJhZ1N0YXJ0RXZlbnREYXRhKTtcbn07XG5cbi8qKlxuICogTW91c2VNb3ZlIERPTSBldmVudCBoYW5kbGVyLlxuICogQGVtaXRzIERyYWcjZHJhZ1xuICogQGVtaXRzIERyYWcjZHJhZ1N0YXJ0XG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IG1vdXNlTW92ZUV2ZW50IE1vdXNlTW92ZSBldmVudCBvYmplY3QuXG4gKi9cbkRyYWcucHJvdG90eXBlLl9vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKG1vdXNlTW92ZUV2ZW50KSB7XG4gICAgdmFyIGRpc3RhbmNlO1xuXG4gICAgaWYgKHRoaXMuX2NhbmNlbGxlZCkge1xuICAgICAgICB0aGlzLl9jbGVhckRhdGEoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuZGlzdGFuY2U7XG4gICAgLy8gcHJldmVudCBhdXRvbWF0aWMgc2Nyb2xsaW5nLlxuICAgIHByZXZlbnREZWZhdWx0V2hlbk5vdFBvcHVwKG1vdXNlTW92ZUV2ZW50KTtcblxuICAgIGlmICh0aGlzLl9kaXN0YW5jZSA8IGRpc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuX2Rpc3RhbmNlICs9IDE7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pc01vdmVkID0gdHJ1ZTtcblxuICAgIGlmICghdGhpcy5fZHJhZ1N0YXJ0RmlyZWQpIHtcbiAgICAgICAgdGhpcy5fZHJhZ1N0YXJ0RmlyZWQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEcmFnIHN0YXJ0IGV2ZW50cy4gY2FuY2VsYWJsZS5cbiAgICAgICAgICogQGV2ZW50IERyYWcjZHJhZ1N0YXJ0XG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIHRhcmdldCBlbGVtZW50IGluIHRoaXMgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7TW91c2VFdmVudH0gb3JpZ2luRXZlbnQgLSBvcmlnaW5hbCBtb3VzZSBldmVudCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoIXRoaXMuaW52b2tlKCdkcmFnU3RhcnQnLCB0aGlzLl9kcmFnU3RhcnRFdmVudERhdGEpKSB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVEcmFnRXZlbnQoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJEYXRhKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbEV2ZW50cyB3aGlsZSBkcmFnZ2luZy5cbiAgICAgKiBAZXZlbnQgRHJhZyNkcmFnXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSB0YXJnZXQgLSB0YXJnZXQgZWxlbWVudCBpbiB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7TW91c2VFdmVudH0gb3JpZ2luRXZlbnQgLSBvcmlnaW5hbCBtb3VzZSBldmVudCBvYmplY3QuXG4gICAgICovXG4gICAgdGhpcy5maXJlKCdkcmFnJywgdGhpcy5fZ2V0RXZlbnREYXRhKG1vdXNlTW92ZUV2ZW50KSk7XG59O1xuXG4vKipcbiAqIE1vdXNlVXAgRE9NIGV2ZW50IGhhbmRsZXIuXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IG1vdXNlVXBFdmVudCBNb3VzZVVwIGV2ZW50IG9iamVjdC5cbiAqIEBlbWl0cyBEcmFnI2RyYWdFbmRcbiAqIEBlbWl0cyBEcmFnI2NsaWNrXG4gKi9cbkRyYWcucHJvdG90eXBlLl9vbk1vdXNlVXAgPSBmdW5jdGlvbihtb3VzZVVwRXZlbnQpIHtcbiAgICBpZiAodGhpcy5fY2FuY2VsbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl90b2dnbGVEcmFnRXZlbnQoZmFsc2UpO1xuXG4gICAgLy8gZW1pdCBcImNsaWNrXCIgZXZlbnQgd2hlbiBub3QgZW1pdHRlZCBkcmFnIGV2ZW50IGJldHdlZW4gbW91c2Vkb3duIGFuZCBtb3VzZXVwLlxuICAgIGlmICh0aGlzLl9pc01vdmVkKSB7XG4gICAgICAgIHRoaXMuX2lzTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERyYWcgZW5kIGV2ZW50cy5cbiAgICAgICAgICogQGV2ZW50IERyYWcjZHJhZ0VuZFxuICAgICAgICAgKiBAdHlwZSB7TW91c2VFdmVudH1cbiAgICAgICAgICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gdGFyZ2V0IGVsZW1lbnQgaW4gdGhpcyBldmVudC5cbiAgICAgICAgICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fSBvcmlnaW5FdmVudCAtIG9yaWdpbmFsIG1vdXNlIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlyZSgnZHJhZ0VuZCcsIHRoaXMuX2dldEV2ZW50RGF0YShtb3VzZVVwRXZlbnQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2xpY2sgZXZlbnRzLlxuICAgICAgICAgKiBAZXZlbnQgRHJhZyNjbGlja1xuICAgICAgICAgKiBAdHlwZSB7TW91c2VFdmVudH1cbiAgICAgICAgICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gdGFyZ2V0IGVsZW1lbnQgaW4gdGhpcyBldmVudC5cbiAgICAgICAgICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fSBvcmlnaW5FdmVudCAtIG9yaWdpbmFsIG1vdXNlIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlyZSgnY2xpY2snLCB0aGlzLl9nZXRFdmVudERhdGEobW91c2VVcEV2ZW50KSk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2xlYXJEYXRhKCk7XG59O1xuXG4vKipcbiAqIElmIHRoZSB0YXJnZXQgaXMgbm90IGEgcG9wdXAsIGl0IHByZXZlbnRzIHRoZSBkZWZhdWx0LlxuICogQG1ldGhvZFxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIE1vdXNlIGV2ZW50IG9iamVjdFxuICovXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdFdoZW5Ob3RQb3B1cChldmVudCkge1xuICAgIHZhciBwb3B1cCA9IGRvbXV0aWwuY2xvc2VzdChldmVudC50YXJnZXQsIGNvbmZpZy5jbGFzc25hbWUoJy5wb3B1cCcpKTtcblxuICAgIGlmICghcG9wdXApIHtcbiAgICAgICAgZG9tZXZlbnQucHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgIH1cbn1cblxudXRpbC5DdXN0b21FdmVudHMubWl4aW4oRHJhZyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRHJhZztcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMgKi8gXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCIpKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9jbGljay5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvbW9udGgvY2xpY2suanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDbGljayBoYW5kbGVyIGZvciBtb250aCB2aWV3XG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpLFxuICAgIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpLFxuICAgIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMge0hhbmRsZXJ9XG4gKiBAbWl4ZXMgdXRpbC5DdXN0b21FdmVudHNcbiAqIEBwYXJhbSB7RHJhZ30gW2RyYWdIYW5kbGVyXSAtIERyYWcgaGFuZGxlciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7TW9udGh9IFttb250aFZpZXddIC0gTW9udGggdmlldyBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7QmFzZX0gW2Jhc2VDb250cm9sbGVyXSAtIEJhc2UgY29udHJvbGxlciBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gTW9udGhDbGljayhkcmFnSGFuZGxlciwgbW9udGhWaWV3LCBiYXNlQ29udHJvbGxlcikge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEcmFnfVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSBkcmFnSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNb250aH1cbiAgICAgKi9cbiAgICB0aGlzLm1vbnRoVmlldyA9IG1vbnRoVmlldztcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCYXNlfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZUNvbnRyb2xsZXIgPSBiYXNlQ29udHJvbGxlcjtcblxuICAgIGRyYWdIYW5kbGVyLm9uKHtcbiAgICAgICAgJ2NsaWNrJzogdGhpcy5fb25DbGlja1xuICAgIH0sIHRoaXMpO1xufVxuXG4vKipcbiAqIERlc3RydWN0b3JcbiAqL1xuTW9udGhDbGljay5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIub2ZmKHRoaXMpO1xuICAgIHRoaXMubW9udGhWaWV3ID0gdGhpcy5iYXNlQ29udHJvbGxlciA9IHRoaXMuZHJhZ0hhbmRsZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBAZmlyZXMgTW9udGhDbGljayNjbGlja01vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBjbGlja0V2ZW50IC0gY2xpY2sgZXZlbnQgb2JqZWN0XG4gKi9cbk1vbnRoQ2xpY2sucHJvdG90eXBlLl9vbkNsaWNrID0gZnVuY3Rpb24oY2xpY2tFdmVudCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgbW9yZUVsZW1lbnQsXG4gICAgICAgIHNjaGVkdWxlQ29sbGVjdGlvbiA9IHRoaXMuYmFzZUNvbnRyb2xsZXIuc2NoZWR1bGVzLFxuICAgICAgICBibG9ja0VsZW1lbnQgPSBkb211dGlsLmNsb3Nlc3QoY2xpY2tFdmVudC50YXJnZXQsIGNvbmZpZy5jbGFzc25hbWUoJy53ZWVrZGF5LXNjaGVkdWxlLWJsb2NrJykpXG4gICAgICAgICAgICAgICAgICAgIHx8IGRvbXV0aWwuY2xvc2VzdChjbGlja0V2ZW50LnRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnLm1vbnRoLW1vcmUtc2NoZWR1bGUnKSk7XG5cbiAgICBtb3JlRWxlbWVudCA9IGRvbXV0aWwuY2xvc2VzdChcbiAgICAgICAgY2xpY2tFdmVudC50YXJnZXQsXG4gICAgICAgIGNvbmZpZy5jbGFzc25hbWUoJy53ZWVrZGF5LWV4Y2VlZC1pbi1tb250aCcpXG4gICAgKTtcblxuICAgIGlmIChtb3JlRWxlbWVudCkge1xuICAgICAgICBzZWxmLmZpcmUoJ2NsaWNrTW9yZScsIHtcbiAgICAgICAgICAgIGRhdGU6IGRhdGV0aW1lLnBhcnNlKGRvbXV0aWwuZ2V0RGF0YShtb3JlRWxlbWVudCwgJ3ltZCcpKSxcbiAgICAgICAgICAgIHRhcmdldDogbW9yZUVsZW1lbnQsXG4gICAgICAgICAgICB5bWQ6IGRvbXV0aWwuZ2V0RGF0YShtb3JlRWxlbWVudCwgJ3ltZCcpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChibG9ja0VsZW1lbnQpIHtcbiAgICAgICAgc2NoZWR1bGVDb2xsZWN0aW9uLmRvV2hlbkhhcyhkb211dGlsLmdldERhdGEoYmxvY2tFbGVtZW50LCAnaWQnKSwgZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQGV2ZW50cyBBbGxkYXlDbGljayNjbGlja1NjaGVkdWxlXG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtTY2hlZHVsZX0gc2NoZWR1bGUgLSBzY2hlZHVsZSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fSBldmVudCAtIE1vdXNlRXZlbnQgb2JqZWN0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNlbGYuZmlyZSgnY2xpY2tTY2hlZHVsZScsIHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZTogc2NoZWR1bGUsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IGNsaWNrRXZlbnQub3JpZ2luRXZlbnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG51dGlsLkN1c3RvbUV2ZW50cy5taXhpbihNb250aENsaWNrKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb250aENsaWNrO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2hhbmRsZXIvbW9udGgvY29yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvaGFuZGxlci9tb250aC9jb3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGVzbGludC1kaXNhYmxlIGNvbXBsZXhpdHkgKi9cbi8qKlxuICogQGZpbGVvdmVydmlldyBNb2R1bGUgZm9yIGNhbGN1bGF0ZSBkYXRlIGJ5IG1vbnRoIHZpZXcgYW5kIG1vdXNlIGV2ZW50IG9iamVjdFxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9jb21tb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29tbW9uLmpzXCIpLFxuICAgIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpLFxuICAgIGRvbWV2ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbWV2ZW50ICovIFwiLi9zcmMvanMvY29tbW9uL2RvbWV2ZW50LmpzXCIpLFxuICAgIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIG1mbG9vciA9IE1hdGguZmxvb3I7XG5cbi8qKlxuICogR2V0IGhpZ2ggb3JkZXIgZnVuY3Rpb24gdGhhdCBjYW4gY2FsYyBkYXRlIGluIG1vdXNlIHBvaW50XG4gKiBAcGFyYW0ge01vbnRofSBtb250aFZpZXcgLSBtb250aCB2aWV3XG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IGZ1bmN0aW9uIHJldHVybiBldmVudCBkYXRhIGJ5IG1vdXNlIGV2ZW50IG9iamVjdFxuICovXG5mdW5jdGlvbiBnZXRNb3VzZVBvc0RhdGUobW9udGhWaWV3KSB7XG4gICAgdmFyIHdlZWtDb2xsID0gbW9udGhWaWV3LmNoaWxkcmVuLFxuICAgICAgICB3ZWVrcyA9IHdlZWtDb2xsLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWwuc3RhbXAoYSkgLSB1dGlsLnN0YW1wKGIpO1xuICAgICAgICB9KSxcbiAgICAgICAgd2Vla0NvdW50ID0gd2Vla0NvbGwubGVuZ3RoLFxuICAgICAgICBkYXlzID0gd2Vla0NvbGwuc2luZ2xlKCkuZ2V0UmVuZGVyRGF0ZVJhbmdlKCksXG4gICAgICAgIGRheUNvdW50ID0gZGF5cy5sZW5ndGgsXG4gICAgICAgIHJlbGF0aXZlQ29udGFpbmVyID0gdXRpbC5waWNrKG1vbnRoVmlldy52TGF5b3V0LnBhbmVsc1sxXSwgJ2NvbnRhaW5lcicpLFxuICAgICAgICBzaXplID0gZG9tdXRpbC5nZXRTaXplKHJlbGF0aXZlQ29udGFpbmVyKSxcbiAgICAgICAgZ3JpZHMgPSBtb250aFZpZXcuZ3JpZHM7XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxlZnQgaW5kZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCAtIGxlZnQgcG9zaXRpb24ocGVyY2VudClcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBncmlkIGxlZnQgaW5kZXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRYKGxlZnQpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgbGVuZ3RoID0gZ3JpZHMubGVuZ3RoO1xuICAgICAgICB2YXIgZ3JpZDtcbiAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgZ3JpZCA9IGdyaWRzW2ldO1xuICAgICAgICAgICAgaWYgKGdyaWQubGVmdCA8PSBsZWZ0ICYmIGxlZnQgPD0gKGdyaWQubGVmdCArIGdyaWQud2lkdGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGVmdCA8IDAgPyAtMSA6IGk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGRhdGUgcmVsYXRlZCB3aXRoIG1vdXNlIGV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtb3VzZUV2ZW50IC0gY2xpY2sgZXZlbnQgZGF0YVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGRhdGEgcmVsYXRlZCB3aXRoIG1vdXNlIGV2ZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RGF0ZShtb3VzZUV2ZW50KSB7XG4gICAgICAgIHZhciBwb3MgPSBkb21ldmVudC5nZXRNb3VzZVBvc2l0aW9uKG1vdXNlRXZlbnQsIHJlbGF0aXZlQ29udGFpbmVyKSxcbiAgICAgICAgICAgIHggPSBnZXRYKGNvbW1vbi5yYXRpbyhzaXplWzBdLCAxMDAsIHBvc1swXSkpLFxuICAgICAgICAgICAgeSA9IG1mbG9vcihjb21tb24ucmF0aW8oc2l6ZVsxXSwgd2Vla0NvdW50LCBwb3NbMV0pKSxcbiAgICAgICAgICAgIHdlZWtkYXlWaWV3LFxuICAgICAgICAgICAgZGF0ZSxcbiAgICAgICAgICAgIGRhdGVSYW5nZTtcblxuICAgICAgICBpZiAoeSA8IDApIHtcbiAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh5ID49IHdlZWtzLmxlbmd0aCkge1xuICAgICAgICAgICAgeSA9IHdlZWtzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICB3ZWVrZGF5VmlldyA9IHV0aWwucGljayh3ZWVrcywgeSk7XG5cbiAgICAgICAgaWYgKCF3ZWVrZGF5Vmlldykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRlUmFuZ2UgPSB3ZWVrZGF5Vmlldy5nZXRSZW5kZXJEYXRlUmFuZ2UoKTtcbiAgICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA+PSBkYXRlUmFuZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICB4ID0gZGF0ZVJhbmdlLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRlID0gdXRpbC5waWNrKGRhdGVSYW5nZSwgeCk7XG5cbiAgICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHNpemVYOiBkYXlDb3VudCxcbiAgICAgICAgICAgIHNpemVZOiB3ZWVrQ291bnQsXG4gICAgICAgICAgICBkYXRlOiBkYXRldGltZS5lbmQoZGF0ZSksXG4gICAgICAgICAgICB3ZWVrZGF5Vmlldzogd2Vla2RheVZpZXcsXG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQ6IG1vdXNlRXZlbnQudHlwZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBnZXREYXRlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE1vdXNlUG9zRGF0ZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9oYW5kbGVyL21vbnRoL2NyZWF0aW9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvaGFuZGxlci9tb250aC9jcmVhdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENyZWF0aW9uIGhhbmRsZXIgZm9yIG1vbnRoIHZpZXdcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcblxudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKTtcbnZhciBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKTtcbnZhciBhcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9hcnJheSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9hcnJheS5qc1wiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciBkb21ldmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb21ldmVudCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb21ldmVudC5qc1wiKTtcbnZhciBnZXRNb3VzZVBvc0RhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvcmUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL21vbnRoL2NvcmUuanNcIik7XG52YXIgR3VpZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NyZWF0aW9uR3VpZGUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL21vbnRoL2NyZWF0aW9uR3VpZGUuanNcIik7XG52YXIgVFpEYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpLkRhdGU7XG5cbnZhciBDTElDS19ERUxBWSA9IDMwMDtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7RHJhZ30gZHJhZ0hhbmRsZXIgLSBEcmFnIGhhbmRsZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge01vbnRofSBtb250aFZpZXcgLSBNb250aCB2aWV3IGluc3RhbmNlLlxuICogQHBhcmFtIHtCYXNlfSBiYXNlQ29udHJvbGxlciAtIEJhc2UgY29udHJvbGxlciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIC0gY2FsZW5kYXIgT3B0aW9uc1xuICovXG5mdW5jdGlvbiBNb250aENyZWF0aW9uKGRyYWdIYW5kbGVyLCBtb250aFZpZXcsIGJhc2VDb250cm9sbGVyLCBvcHRpb25zKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0RyYWd9XG4gICAgICovXG4gICAgdGhpcy5kcmFnSGFuZGxlciA9IGRyYWdIYW5kbGVyO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge01vbnRofVxuICAgICAqL1xuICAgIHRoaXMubW9udGhWaWV3ID0gbW9udGhWaWV3O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0Jhc2V9XG4gICAgICovXG4gICAgdGhpcy5iYXNlQ29udHJvbGxlciA9IGJhc2VDb250cm9sbGVyO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuZ2V0U2NoZWR1bGVEYXRhID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENhY2hlIGZvciBkcmFnZ2luZyBzZXNzaW9uXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLl9jYWNoZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TW9udGhDcmVhdGlvbkd1aWRlfVxuICAgICAqL1xuICAgIHRoaXMuZ3VpZGUgPSBuZXcgR3VpZGUodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLl9yZXF1ZXN0T25DbGljayA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5fZGlzYWJsZURibENsaWNrID0gb3B0aW9ucy5kaXNhYmxlRGJsQ2xpY2s7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLl9kaXNhYmxlQ2xpY2sgPSBvcHRpb25zLmRpc2FibGVDbGljaztcblxuICAgIGRyYWdIYW5kbGVyLm9uKCdkcmFnU3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCwgdGhpcyk7XG4gICAgZHJhZ0hhbmRsZXIub24oJ2NsaWNrJywgdGhpcy5fb25DbGljaywgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5fZGlzYWJsZURibENsaWNrKSB7XG4gICAgICAgIENMSUNLX0RFTEFZID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb21ldmVudC5vbihtb250aFZpZXcuY29udGFpbmVyLCAnZGJsY2xpY2snLCB0aGlzLl9vbkRibENsaWNrLCB0aGlzKTtcbiAgICB9XG59XG5cbi8qKlxuICogRGVzdHJ1Y3RvclxuICovXG5Nb250aENyZWF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5kcmFnSGFuZGxlci5vZmYodGhpcyk7XG4gICAgdGhpcy5ndWlkZS5kZXN0cm95KCk7XG5cbiAgICBpZiAodGhpcy5tb250aFZpZXcgJiYgdGhpcy5tb250aFZpZXcuY29udGFpbmVyKSB7XG4gICAgICAgIGRvbWV2ZW50Lm9mZih0aGlzLm1vbnRoVmlldy5jb250YWluZXIsICdkYmxjbGljaycsIHRoaXMuX29uRGJsQ2xpY2ssIHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSB0aGlzLm1vbnRoVmlldyA9IHRoaXMuYmFzZUNvbnRyb2xsZXIgPVxuICAgICAgICB0aGlzLmdldFNjaGVkdWxlRGF0YSA9IHRoaXMuX2NhY2hlID0gdGhpcy5ndWlkZSA9IG51bGw7XG59O1xuXG4vKipcbiAqIEZpcmUgYmVmb3JlIGNyZWF0ZSBzY2hlZHVsZVxuICogQGZpcmVzIHtNb250aENyZWF0aW9uI2JlZm9yZUNyZWF0ZVNjaGVkdWxlfVxuICogQHBhcmFtIHtvYmplY3R9IGV2ZW50RGF0YSAtIGNhY2hlIGRhdGEgZnJvbSBzaW5nbGUgZHJhZ2dpbmcgc2Vzc2lvblxuICovXG5Nb250aENyZWF0aW9uLnByb3RvdHlwZS5fY3JlYXRlU2NoZWR1bGUgPSBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICAvKipcbiAgICAgKiBAZXZlbnQge01vbnRoQ3JlYXRpb24jYmVmb3JlQ3JlYXRlU2NoZWR1bGV9XG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzQWxsRGF5IC0gd2hldGhlciBzY2hlZHVsZSBpcyBmaXJlZCBpbiBhbGxkYXkgdmlldyBhcmVhP1xuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gc3RhcnQgLSBzZWxlY3Qgc3RhcnQgdGltZVxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gZW5kIC0gc2VsZWN0IGVuZCB0aW1lXG4gICAgICogQHByb3BlcnR5IHtUaW1lQ3JlYXRpb25HdWlkZX0gZ3VpZGUgLSBUaW1lQ3JlYXRpb25HdWlkZSBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0cmlnZ2VyRXZlbnROYW1lIC0gZXZlbnQgbmFtZVxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnYmVmb3JlQ3JlYXRlU2NoZWR1bGUnLCB7XG4gICAgICAgIGlzQWxsRGF5OiBldmVudERhdGEuaXNBbGxEYXksXG4gICAgICAgIHN0YXJ0OiBldmVudERhdGEuc3RhcnQsXG4gICAgICAgIGVuZDogZXZlbnREYXRhLmVuZCxcbiAgICAgICAgZ3VpZGU6IHRoaXMuZ3VpZGUuZ3VpZGUsXG4gICAgICAgIHRyaWdnZXJFdmVudE5hbWU6IGV2ZW50RGF0YS50cmlnZ2VyRXZlbnRcbiAgICB9KTtcbn07XG5cbi8qKlxuICogRHJhZ1N0YXJ0IGV2ZW50IGhhbmRsZXJcbiAqIEBmaXJlcyB7TW9udGhDcmVhdGlvbiNtb250aENyZWF0aW9uRHJhZ3N0YXJ0fVxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdTdGFydEV2ZW50IC0gZHJhZ1N0YXJ0IGV2ZW50IGRhdGFcbiAqL1xuTW9udGhDcmVhdGlvbi5wcm90b3R5cGUuX29uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZHJhZ1N0YXJ0RXZlbnQpIHtcbiAgICB2YXIgZXZlbnREYXRhO1xuXG4gICAgaWYgKCFpc0VsZW1lbnRXZWVrZGF5R3JpZChkcmFnU3RhcnRFdmVudC50YXJnZXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9uKHtcbiAgICAgICAgZHJhZzogdGhpcy5fb25EcmFnLFxuICAgICAgICBkcmFnRW5kOiB0aGlzLl9vbkRyYWdFbmRcbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuZ2V0U2NoZWR1bGVEYXRhID0gZ2V0TW91c2VQb3NEYXRlKHRoaXMubW9udGhWaWV3KTtcblxuICAgIGV2ZW50RGF0YSA9IHRoaXMuZ2V0U2NoZWR1bGVEYXRhKGRyYWdTdGFydEV2ZW50Lm9yaWdpbkV2ZW50KTtcblxuICAgIHRoaXMuX2NhY2hlID0ge1xuICAgICAgICBzdGFydDogbmV3IFRaRGF0ZShldmVudERhdGEuZGF0ZSlcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IHtNb250aENyZWF0aW9uI21vbnRoQ3JlYXRpb25EcmFnc3RhcnR9XG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geCAtIHggaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geSAtIHkgaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IGRhdGUgLSBkcmFnIGRhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ21vbnRoQ3JlYXRpb25EcmFnc3RhcnQnLCBldmVudERhdGEpO1xufTtcblxuLyoqXG4gKiBEcmFnIGV2ZW50IGhhbmRsZXJcbiAqIEBmaXJlcyB7TW9udGhDcmVhdGlvbiNtb250aENyZWF0aW9uRHJhZ31cbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRXZlbnQgLSBkcmFnIGV2ZW50IGRhdGFcbiAqL1xuTW9udGhDcmVhdGlvbi5wcm90b3R5cGUuX29uRHJhZyA9IGZ1bmN0aW9uKGRyYWdFdmVudCkge1xuICAgIHZhciBldmVudERhdGE7XG5cbiAgICBpZiAoIXRoaXMuZ2V0U2NoZWR1bGVEYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldmVudERhdGEgPSB0aGlzLmdldFNjaGVkdWxlRGF0YShkcmFnRXZlbnQub3JpZ2luRXZlbnQpO1xuXG4gICAgaWYgKCFldmVudERhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBldmVudCB7TW9udGhDcmVhdGlvbiNtb250aENyZWF0aW9uRHJhZ31cbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4IC0geCBpbmRleFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5IC0geSBpbmRleFxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gZGF0ZSAtIGRyYWcgZGF0ZVxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnbW9udGhDcmVhdGlvbkRyYWcnLCBldmVudERhdGEpO1xufTtcblxuLyoqXG4gKiBEcmFnRW5kIGV2ZW50IGhhbmRsZXJcbiAqIEBmaXJlcyB7TW9udGhDcmVhdGlvbiNtb250aENyZWF0aW9uRHJhZ2VuZH1cbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRW5kRXZlbnQgLSBkcmFnIGVuZCBldmVudCBkYXRhXG4gKi9cbk1vbnRoQ3JlYXRpb24ucHJvdG90eXBlLl9vbkRyYWdFbmQgPSBmdW5jdGlvbihkcmFnRW5kRXZlbnQpIHtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLl9jYWNoZTtcbiAgICB2YXIgZXZlbnREYXRhO1xuICAgIHZhciB0aW1lcztcblxuICAgIHRoaXMuZHJhZ0hhbmRsZXIub2ZmKHtcbiAgICAgICAgZHJhZzogdGhpcy5fb25EcmFnLFxuICAgICAgICBkcmFnRW5kOiB0aGlzLl9vbkRyYWdFbmRcbiAgICB9LCB0aGlzKTtcblxuICAgIGlmICghdGhpcy5nZXRTY2hlZHVsZURhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50RGF0YSA9IHRoaXMuZ2V0U2NoZWR1bGVEYXRhKGRyYWdFbmRFdmVudC5vcmlnaW5FdmVudCk7XG5cbiAgICBpZiAoZXZlbnREYXRhKSB7XG4gICAgICAgIGNhY2hlLmVuZCA9IG5ldyBUWkRhdGUoZXZlbnREYXRhLmRhdGUpO1xuICAgICAgICBjYWNoZS5pc0FsbERheSA9IHRydWU7XG5cbiAgICAgICAgdGltZXMgPSBbXG4gICAgICAgICAgICBjYWNoZS5zdGFydCxcbiAgICAgICAgICAgIGNhY2hlLmVuZFxuICAgICAgICBdLnNvcnQoYXJyYXkuY29tcGFyZS5udW0uYXNjKTtcblxuICAgICAgICBjYWNoZS5zdGFydCA9IG5ldyBUWkRhdGUodGltZXNbMF0pO1xuICAgICAgICBjYWNoZS5lbmQgPSBkYXRldGltZS5lbmQodGltZXNbMV0pO1xuXG4gICAgICAgIHRoaXMuX2NyZWF0ZVNjaGVkdWxlKGNhY2hlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQge01vbnRoQ3JlYXRpb24jbW9udGhDcmVhdGlvbkRyYWdlbmR9XG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geCAtIHggaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geSAtIHkgaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IGRhdGUgLSBkcmFnIGRhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ21vbnRoQ3JlYXRpb25EcmFnZW5kJywgZXZlbnREYXRhKTtcblxuICAgIHRoaXMuZ2V0U2NoZWR1bGVEYXRhID0gdGhpcy5fY2FjaGUgPSBudWxsO1xufTtcblxuLyoqXG4gKiBEYmxjbGljayBldmVudCBoYW5kbGVyXG4gKiBAZmlyZXMge01vbnRoQ3JlYXRpb24jbW9udGhDcmVhdGlvbkRyYWdzdGFydH1cbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIE5hdGl2ZSBNb3VzZUV2ZW50XG4gKi9cbk1vbnRoQ3JlYXRpb24ucHJvdG90eXBlLl9vbkRibENsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciBldmVudERhdGEsIHJhbmdlO1xuXG4gICAgaWYgKCFpc0VsZW1lbnRXZWVrZGF5R3JpZChlLnRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50RGF0YSA9IGdldE1vdXNlUG9zRGF0ZSh0aGlzLm1vbnRoVmlldykoZSk7XG5cbiAgICB0aGlzLmZpcmUoJ21vbnRoQ3JlYXRpb25DbGljaycsIGV2ZW50RGF0YSk7XG5cbiAgICByYW5nZSA9IHRoaXMuX2FkanVzdFN0YXJ0QW5kRW5kVGltZShuZXcgVFpEYXRlKGV2ZW50RGF0YS5kYXRlKSwgbmV3IFRaRGF0ZShldmVudERhdGEuZGF0ZSkpO1xuXG4gICAgdGhpcy5fY3JlYXRlU2NoZWR1bGUoe1xuICAgICAgICBzdGFydDogcmFuZ2Uuc3RhcnQsXG4gICAgICAgIGVuZDogcmFuZ2UuZW5kLFxuICAgICAgICBpc0FsbERheTogZmFsc2UsXG4gICAgICAgIHRyaWdnZXJFdmVudDogZXZlbnREYXRhLnRyaWdnZXJFdmVudFxuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVxdWVzdE9uQ2xpY2sgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogQ2xpY2sgZXZlbnQgaGFuZGxlclxuICogQGZpcmVzIHtNb250aENyZWF0aW9uI21vbnRoQ3JlYXRpb25EcmFnc3RhcnR9XG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBOYXRpdmUgTW91c2VFdmVudFxuICovXG5Nb250aENyZWF0aW9uLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGV2ZW50RGF0YSwgcmFuZ2U7XG5cbiAgICBpZiAoIWlzRWxlbWVudFdlZWtkYXlHcmlkKGUudGFyZ2V0KSB8fCB0aGlzLl9kaXNhYmxlQ2xpY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50RGF0YSA9IGdldE1vdXNlUG9zRGF0ZSh0aGlzLm1vbnRoVmlldykoZS5vcmlnaW5FdmVudCk7XG5cbiAgICB0aGlzLl9yZXF1ZXN0T25DbGljayA9IHRydWU7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNlbGYuX3JlcXVlc3RPbkNsaWNrKSB7XG4gICAgICAgICAgICBzZWxmLmZpcmUoJ21vbnRoQ3JlYXRpb25DbGljaycsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIHJhbmdlID0gc2VsZi5fYWRqdXN0U3RhcnRBbmRFbmRUaW1lKG5ldyBUWkRhdGUoZXZlbnREYXRhLmRhdGUpLCBuZXcgVFpEYXRlKGV2ZW50RGF0YS5kYXRlKSk7XG5cbiAgICAgICAgICAgIHNlbGYuX2NyZWF0ZVNjaGVkdWxlKHtcbiAgICAgICAgICAgICAgICBzdGFydDogcmFuZ2Uuc3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kOiByYW5nZS5lbmQsXG4gICAgICAgICAgICAgICAgaXNBbGxEYXk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRyaWdnZXJFdmVudDogZXZlbnREYXRhLnRyaWdnZXJFdmVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5fcmVxdWVzdE9uQ2xpY2sgPSBmYWxzZTtcbiAgICB9LCBDTElDS19ERUxBWSk7XG59O1xuXG4vKipcbiAqIEFkanVzdCB0aW1lIHRvIG91ciBvJ2Nsb2NrXG4gKiBAcGFyYW0ge1RaRGF0ZX0gc3RhcnQgLSBzdGFydCB0aW1lXG4gKiBAcGFyYW0ge1RaRGF0ZX0gZW5kIC0gZW5kIHRpbWVcbiAqIEByZXR1cm5zIHtPYmplY3R9IHN0YXJ0IGFuZCBlbmRcbiAqL1xuTW9udGhDcmVhdGlvbi5wcm90b3R5cGUuX2FkanVzdFN0YXJ0QW5kRW5kVGltZSA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgbm93ID0gbmV3IFRaRGF0ZSgpO1xuICAgIHZhciBob3VycyA9IG5vdy5nZXRIb3VycygpO1xuICAgIHZhciBtaW51dGVzID0gbm93LmdldE1pbnV0ZXMoKTtcblxuICAgIC8vIGFkanVzdCBzdGFydCB0byBsZXNzIHRpbWUuIEFkanVzdGluZyBoYWQgYmVlbiBncmVhdGVyIHRpbWUgaW4gbW9udGhseSB2aWV3IHdoZW4gY2xpY2tpbmcgZ3JpZFxuICAgIGlmIChtaW51dGVzIDw9IDMwKSB7XG4gICAgICAgIG1pbnV0ZXMgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1pbnV0ZXMgPSAzMDtcbiAgICB9XG4gICAgc3RhcnQuc2V0SG91cnMoaG91cnMsIG1pbnV0ZXMsIDAsIDApO1xuICAgIGVuZC5zZXRIb3Vycyhob3VycyArIDEsIG1pbnV0ZXMsIDAsIDApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZFxuICAgIH07XG59O1xuXG4vKipcbiAqIEludm9rZSBjcmVhdGlvbiBjbGlja1xuICogQHBhcmFtIHtTY2hlZHVsZX0gc2NoZWR1bGUgLSBzY2hlZHVsZSBpbnN0YW5jZVxuICovXG5Nb250aENyZWF0aW9uLnByb3RvdHlwZS5pbnZva2VDcmVhdGlvbkNsaWNrID0gZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICB2YXIgZXZlbnREYXRhID0ge1xuICAgICAgICBtb2RlbDogc2NoZWR1bGVcbiAgICB9O1xuXG4gICAgdGhpcy5maXJlKCdtb250aENyZWF0aW9uQ2xpY2snLCBldmVudERhdGEpO1xuXG4gICAgdGhpcy5fY3JlYXRlU2NoZWR1bGUoe1xuICAgICAgICBzdGFydDogc2NoZWR1bGUuc3RhcnQsXG4gICAgICAgIGVuZDogc2NoZWR1bGUuZW5kLFxuICAgICAgICBpc0FsbERheTogc2NoZWR1bGUuaXNBbGxEYXksXG4gICAgICAgIHRyaWdnZXJFdmVudDogJ21hbnVhbCdcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBlbGVtZW50IGlzIFdlZWtkYXktU2NoZWR1bGUuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIHRhcmdldCBlbGVtZW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNFbGVtZW50V2Vla2RheUdyaWQoZWwpIHtcbiAgICByZXR1cm4gZG9tdXRpbC5jbG9zZXN0KGVsLCBjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheS1ncmlkJykpXG4gICAgICAgICYmICFkb211dGlsLmNsb3Nlc3QoZWwsIGNvbmZpZy5jbGFzc25hbWUoJy53ZWVrZGF5LWV4Y2VlZC1pbi1tb250aCcpKTtcbn1cblxudXRpbC5DdXN0b21FdmVudHMubWl4aW4oTW9udGhDcmVhdGlvbik7XG5cbm1vZHVsZS5leHBvcnRzID0gTW9udGhDcmVhdGlvbjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9oYW5kbGVyL21vbnRoL2NyZWF0aW9uR3VpZGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvbW9udGgvY3JlYXRpb25HdWlkZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ3JlYXRpb24gZ3VpZGUgbW9kdWxlIGZvciBtb250aCB2aWV3XG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciBNb250aEd1aWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ndWlkZSAqLyBcIi4vc3JjL2pzL2hhbmRsZXIvbW9udGgvZ3VpZGUuanNcIik7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge01vbnRoQ3JlYXRpb259IG1vbnRoQ3JlYXRpb24gLSBpbnN0YW5jZSBvZiBNb250aENyZWF0aW9uXG4gKi9cbmZ1bmN0aW9uIE1vbnRoQ3JlYXRpb25HdWlkZShtb250aENyZWF0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge01vbnRoQ3JlYXRpb259XG4gICAgICovXG4gICAgdGhpcy5tb250aENyZWF0aW9uID0gbW9udGhDcmVhdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNb250aEd1aWRlfVxuICAgICAqL1xuICAgIHRoaXMuZ3VpZGUgPSBudWxsO1xuXG4gICAgbW9udGhDcmVhdGlvbi5vbih7XG4gICAgICAgIG1vbnRoQ3JlYXRpb25EcmFnc3RhcnQ6IHRoaXMuX2NyZWF0ZUd1aWRlRWxlbWVudCxcbiAgICAgICAgbW9udGhDcmVhdGlvbkRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgbW9udGhDcmVhdGlvbkRyYWdlbmQ6IHRoaXMuX29uRHJhZ0VuZCxcbiAgICAgICAgbW9udGhDcmVhdGlvbkNsaWNrOiB0aGlzLl9jcmVhdGVHdWlkZUVsZW1lbnRcbiAgICB9LCB0aGlzKTtcbn1cblxuLyoqXG4gKiBEZXN0cnVjdG9yXG4gKi9cbk1vbnRoQ3JlYXRpb25HdWlkZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubW9udGhDcmVhdGlvbi5vZmYodGhpcyk7XG5cbiAgICBpZiAodGhpcy5ndWlkZSkge1xuICAgICAgICB0aGlzLmd1aWRlLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICB0aGlzLmd1aWRlID0gdGhpcy5tb250aENyZWF0aW9uID0gbnVsbDtcbn07XG5cbi8qKlxuICogRHJhZyBzdGFydCBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ1N0YXJ0RXZlbnQgLSBzY2hlZHVsZSBkYXRhIGZyb20gTW9udGhDcmVhdGlvblxuICovXG5Nb250aENyZWF0aW9uR3VpZGUucHJvdG90eXBlLl9jcmVhdGVHdWlkZUVsZW1lbnQgPSBmdW5jdGlvbihkcmFnU3RhcnRFdmVudCkge1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBpc0NyZWF0aW9uTW9kZTogdHJ1ZSxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIHRvcDogMFxuICAgIH07XG5cbiAgICB0aGlzLmd1aWRlID0gbmV3IE1vbnRoR3VpZGUob3B0aW9ucywgdGhpcy5tb250aENyZWF0aW9uLm1vbnRoVmlldyk7XG4gICAgdGhpcy5ndWlkZS5zdGFydChkcmFnU3RhcnRFdmVudCk7XG59O1xuXG4vKipcbiAqIERyYWcgZXZlbnQgaGFuZGxlclxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdFdmVudCAtIHNjaGVkdWxlIGRhdGEgZnJvbSBNb250aENyZWF0aW9uXG4gKi9cbk1vbnRoQ3JlYXRpb25HdWlkZS5wcm90b3R5cGUuX29uRHJhZyA9IGZ1bmN0aW9uKGRyYWdFdmVudCkge1xuICAgIHRoaXMuZ3VpZGUudXBkYXRlKGRyYWdFdmVudC54LCBkcmFnRXZlbnQueSk7XG59O1xuXG4vKipcbiAqIERyYWcgZW5kIGV2ZW50IGhhbmRsZXJcbiAqL1xuTW9udGhDcmVhdGlvbkd1aWRlLnByb3RvdHlwZS5fb25EcmFnRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gRG8gbm90aGluZy4gVXNlciBjYWxscyBkZXN0cm95IGRpcmVjdGx5LlxuICAgIHRoaXMuZ3VpZGUgPSBudWxsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb250aENyZWF0aW9uR3VpZGU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9ndWlkZS5oYnNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvaGFuZGxlci9tb250aC9ndWlkZS5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzWydkZWZhdWx0J10gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzMj1jb250YWluZXIubGFtYmRhLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMxKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6MzB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIm1vbnRoLWNyZWF0aW9uLWd1aWRlXFxcIiBzdHlsZT1cXFwiYm9yZGVyOiBcIlxuICAgICsgYWxpYXMxKGFsaWFzMigoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJhY2tncm91bmQtY29sb3I6IFwiXG4gICAgKyBhbGlhczEoYWxpYXMyKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJhY2tncm91bmRDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXFwiPjwvZGl2PlxcblwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczU9Y29udGFpbmVyLmxhbWJkYSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6NSxcImNvbHVtblwiOjMwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LXNjaGVkdWxlXFxcIlxcbiAgICAgICAgc3R5bGU9XFxcImhlaWdodDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVIZWlnaHRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGxpbmUtaGVpZ2h0OiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUhlaWdodFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgbWFyZ2luLXRvcDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVHdXR0ZXJcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJvcmRlci1yYWRpdXM6XCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyUmFkaXVzXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBtYXJnaW4tbGVmdDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwibWFyZ2luTGVmdFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgbWFyZ2luLXJpZ2h0OiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJtYXJnaW5SaWdodFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG4gICAgICAgICAgICBjb2xvcjpcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJjb2xvclwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJjb2xvclwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY29sb3JcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjE4fSxcImVuZFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6Mjd9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjtib3JkZXItY29sb3I6XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiYm9yZGVyQ29sb3JcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiYm9yZGVyQ29sb3JcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImJvcmRlckNvbG9yXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjo0MX0sXCJlbmRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjU2fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCI7YmFja2dyb3VuZC1jb2xvcjpcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJiZ0NvbG9yXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImJnQ29sb3JcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImJnQ29sb3JcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjc0fSxcImVuZFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6ODV9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6OCxcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjo4LFwiY29sdW1uXCI6MzR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUtdGl0bGVcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJpc0FsbERheVwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oNiwgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjksXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjoxOX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE1LFwiY29sdW1uXCI6MjB9LFwiZW5kXCI6e1wibGluZVwiOjE1LFwiY29sdW1uXCI6MzR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktcmVzaXplLWhhbmRsZSBoYW5kbGUteVxcXCIgc3R5bGU9XFxcImxpbmUtaGVpZ2h0OiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUhlaWdodFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXFwiPiZuYnNwOzwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cIjtcbn0sXCI0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJhbGxkYXktdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJhbGxkYXktdG1wbFwiKSl8fGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksZGVwdGgwLHtcIm5hbWVcIjpcImFsbGRheS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEwLFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjEwLFwiY29sdW1uXCI6Mzh9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuXCI7XG59LFwiNlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidGltZS10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRpbWUtdG1wbFwiKSl8fGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksZGVwdGgwLHtcIm5hbWVcIjpcInRpbWUtdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjM2fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcblwiO1xufSxcImNvbXBpbGVyXCI6WzgsXCI+PSA0LjMuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIm1vbnRoLWd1aWRlLWJsb2NrXFxcIiBzdHlsZT1cXFwidG9wOlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInRvcFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ0b3BcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInRvcFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6NTZ9LFwiZW5kXCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjo2M319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiO2hlaWdodDpcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJoZWlnaHRcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaGVpZ2h0XCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJoZWlnaHRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjcxfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6ODF9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjtkaXNwbGF5Om5vbmVcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJpc0NyZWF0aW9uTW9kZVwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oMywgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjo0fSxcImVuZFwiOntcImxpbmVcIjoxNyxcImNvbHVtblwiOjExfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvZGl2PlxcblwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2hhbmRsZXIvbW9udGgvZ3VpZGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9oYW5kbGVyL21vbnRoL2d1aWRlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgR3VpZGUgZWxlbWVudCBjb250cm9sbGVyIGZvciBjcmVhdGlvbiwgcmVzaXplIGluIG1vbnRoIHZpZXdcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIiksXG4gICAgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIiksXG4gICAgZGF0ZXRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZGF0ZXRpbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanNcIiksXG4gICAgVFpEYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpLkRhdGUsXG4gICAgdG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZ3VpZGUuaGJzICovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9ndWlkZS5oYnNcIik7XG52YXIgbW1heCA9IE1hdGgubWF4LFxuICAgIG1taW4gPSBNYXRoLm1pbixcbiAgICBtYWJzID0gTWF0aC5hYnMsXG4gICAgbWZsb29yID0gTWF0aC5mbG9vcjtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBvcHRpb25zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZUhhbmRsZT1mYWxzZV0gLSB3aGV0aGVyIGRpc3BsYXlpbmcgcmVzaXplIGhhbmRsZSBvblxuICogIGd1aWRlIGVsZW1lbnQ/XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzUmVzaXplTW9kZT1mYWxzZV0gLSB3aGV0aGVyIHJlc2l6ZSBtb2RlP1xuICogQHBhcmFtIHtNb250aH0gbW9udGhWaWV3IC0gTW9udGggdmlldyBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBNb250aEd1aWRlKG9wdGlvbnMsIG1vbnRoVmlldykge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5vcHRpb25zID0gdXRpbC5leHRlbmQoe1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGhlaWdodDogJzIwcHgnLFxuICAgICAgICBiZ0NvbG9yOiAnI2Y3Y2E4OCcsXG4gICAgICAgIGxhYmVsOiAnTmV3IGV2ZW50JyxcbiAgICAgICAgaXNSZXNpemVNb2RlOiBmYWxzZSxcbiAgICAgICAgaXNDcmVhdGlvbk1vZGU6IGZhbHNlLFxuICAgICAgICBzdHlsZXM6IHRoaXMuX2dldFN0eWxlcyhtb250aFZpZXcuY29udHJvbGxlci50aGVtZSlcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNb250aH1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXcgPSBtb250aFZpZXc7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V2Vla2RheUluTW9udGhbXX1cbiAgICAgKi9cbiAgICB0aGlzLndlZWtzID0gbW9udGhWaWV3LmNoaWxkcmVuLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gdXRpbC5zdGFtcChhKSAtIHV0aWwuc3RhbXAoYik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGF5cyA9IG1vbnRoVmlldy5jaGlsZHJlbi5zaW5nbGUoKS5nZXRSZW5kZXJEYXRlUmFuZ2UoKS5sZW5ndGg7XG5cbiAgICAvKipcbiAgICAgKiBzdGFydCBjb29yZGluYXRlIG9mIGd1aWRlIGVmZmVjdC4gKHgsIHkpIChkYXlzLCB3ZWVrcykgZWZmZWN0IGNhbid0XG4gICAgICogIHN0YXJ0IGxvd2VyIHRoYW4gdGhpcyBjb29yZGluYXRlLlxuICAgICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0Q29vcmQgPSBbMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsIEhUTUxFbGVtZW50Pn1cbiAgICAgKi9cbiAgICB0aGlzLmd1aWRlRWxlbWVudHMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIGhvcml6b250YWwgZ3JpZCBpbmZvcm1hdGlvblxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5ncmlkcyA9IG1vbnRoVmlldy5ncmlkcztcbn1cblxuLyoqXG4gKiBEZXN0cnVjdG9yXG4gKi9cbk1vbnRoR3VpZGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLnZpZXcgPSB0aGlzLndlZWtzID0gdGhpcy5kYXlzID1cbiAgICAgICAgdGhpcy5zdGFydENvb3JkID0gdGhpcy5ndWlkZUVsZW1lbnRzID0gbnVsbDtcbn07XG5cbk1vbnRoR3VpZGUucHJvdG90eXBlLmNsZWFyR3VpZGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5kZXN0cm95KCk7XG59O1xuXG4vKipcbiAqIEdldCByYXRpbyB2YWx1ZSBpbiB3ZWVrLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gdmFsdWUgZm9yIGNhbGMgcmF0aW8gaW4gd2Vla1xuICogQHJldHVybnMge251bWJlcn0gcGVyY2VudCB2YWx1ZVxuICovXG5Nb250aEd1aWRlLnByb3RvdHlwZS5fZ2V0UmF0aW9WYWx1ZUluV2VlayA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGdyaWQgPSB0aGlzLmdyaWRzW3ZhbHVlXSB8fCB7bGVmdDogMTAwfTtcblxuICAgIHJldHVybiBncmlkLmxlZnQ7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBndWlkZSBlbGVtZW50XG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IGd1aWRlIGVsZW1lbnRcbiAqL1xuTW9udGhHdWlkZS5wcm90b3R5cGUuX2NyZWF0ZUd1aWRlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBndWlkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgZ3VpZGUuaW5uZXJIVE1MID0gdG1wbCh0aGlzLm9wdGlvbnMpO1xuXG4gICAgcmV0dXJuIGd1aWRlLmZpcnN0Q2hpbGQ7XG59O1xuXG4vKipcbiAqIEdldCBndWlkZSBlbGVtZW50LiBpZiBub3QgZXhpc3QgdGhlbiBjcmVhdGUgb25lXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIHkgY29vcmRpbmF0ZVxuICogQHJldHVybnMgez9IVE1MRWxlbWVudH0gZ3VpZGUgZWxlbWVudFxuICovXG5Nb250aEd1aWRlLnByb3RvdHlwZS5fZ2V0R3VpZGVFbGVtZW50ID0gZnVuY3Rpb24oeSkge1xuICAgIHZhciBndWlkZUVsZW1lbnRzID0gdGhpcy5ndWlkZUVsZW1lbnRzLFxuICAgICAgICBndWlkZSA9IGd1aWRlRWxlbWVudHNbeV0sXG4gICAgICAgIHdlZWtkYXlWaWV3ID0gdGhpcy53ZWVrc1t5XSxcbiAgICAgICAgY29udGFpbmVyO1xuXG4gICAgaWYgKCF3ZWVrZGF5Vmlldykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIWd1aWRlKSB7XG4gICAgICAgIGd1aWRlID0gdGhpcy5fY3JlYXRlR3VpZGVFbGVtZW50KCk7XG4gICAgICAgIGNvbnRhaW5lciA9IHdlZWtkYXlWaWV3LmNvbnRhaW5lcjtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGd1aWRlKTtcbiAgICAgICAgZ3VpZGVFbGVtZW50c1t5XSA9IGd1aWRlO1xuICAgIH1cblxuICAgIHJldHVybiBndWlkZTtcbn07XG5cbi8qKlxuICogR2V0IGNvb3JkaW5hdGUgYnkgc3VwcGxpZWQgZGF0ZSBpbiBtb250aFxuICogQHBhcmFtIHtUWkRhdGV9IGRhdGUgLSBkYXRlIHRvIGZpbmQgY29vcmRpbmF0ZVxuICogQHJldHVybnMge251bWJlcltdfSBjb29yZGluYXRlICh4LCB5KVxuICovXG5Nb250aEd1aWRlLnByb3RvdHlwZS5fZ2V0Q29vcmRCeURhdGUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIFdFRUtFTkRfREFZUyA9IDI7XG4gICAgdmFyIHdlZWtzID0gdGhpcy53ZWVrcztcbiAgICB2YXIgaXNXb3JrV2VlayA9IHV0aWwucGljayh0aGlzLnZpZXcsICdvcHRpb25zJywgJ3dvcmt3ZWVrJyk7XG4gICAgdmFyIGRheXMgPSBpc1dvcmtXZWVrID8gdGhpcy5kYXlzICsgV0VFS0VORF9EQVlTIDogdGhpcy5kYXlzO1xuXG4gICAgdmFyIGdldElkeEZyb21EaWZmID0gZnVuY3Rpb24oZDEsIGQyKSB7XG4gICAgICAgICAgICByZXR1cm4gbWZsb29yKGRhdGV0aW1lLm1pbGxpc2Vjb25kc1RvKCdkYXknLCBtYWJzKGQyIC0gZDEpKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG1vbnRoU3RhcnQgPSBkYXRldGltZS5zdGFydCh3ZWVrc1swXS5vcHRpb25zLnJlbmRlclN0YXJ0RGF0ZSksXG4gICAgICAgIGlzQmVmb3JlID0gZGF0ZSA8IG1vbnRoU3RhcnQsXG4gICAgICAgIHN0YXJ0ID0gbmV3IFRaRGF0ZShtb250aFN0YXJ0KSxcbiAgICAgICAgZW5kID0gbmV3IFRaRGF0ZShtb250aFN0YXJ0KS5hZGREYXRlKGlzQmVmb3JlID8gLWRheXMgOiBkYXlzKS5hZGREYXRlKC0xKSxcbiAgICAgICAgeCA9IGdldElkeEZyb21EaWZmKGRhdGUsIHN0YXJ0KSxcbiAgICAgICAgeSA9IDA7XG5cbiAgICB3aGlsZSAoIWRhdGV0aW1lLmlzQmV0d2VlbldpdGhEYXRlKGRhdGUsIHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgIHN0YXJ0LmFkZERhdGUoaXNCZWZvcmUgPyAtZGF5cyA6IGRheXMpO1xuICAgICAgICBlbmQgPSBuZXcgVFpEYXRlKHN0YXJ0KS5hZGREYXRlKGRheXMgLSAxKTtcbiAgICAgICAgeCA9IGdldElkeEZyb21EaWZmKGRhdGUsIHN0YXJ0KTtcbiAgICAgICAgeSArPSAoaXNCZWZvcmUgPyAtMSA6IDEpO1xuICAgIH1cblxuICAgIHJldHVybiBbeCwgeV07XG59O1xuXG4vKipcbiAqIEdldCBsaW1pdGVkIGNvb3JkaW5hdGUgYnkgc3VwcGxpZWQgY29vZGluYXRlc1xuICogQHBhcmFtIHtudW1iZXJbXX0gY29vcmQgLSBjb29yZGluYXRlIG5lZWQgdG8gbGltaXRcbiAqIEBwYXJhbSB7bnVtYmVyW119IFttaW5dIC0gbWluaW11bSBsaW1pdGFpb24gb2YgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtudW1iZXJbXX0gW21heF0gLSBtYXhpbXVtIGxpbWl0YXRpb24gb2YgY29vcmRpbmF0ZVxuICogQHJldHVybnMge251bWJlcltdfSBsaW1pdGVkIGNvb3JkaWF0ZVxuICovXG5Nb250aEd1aWRlLnByb3RvdHlwZS5fZ2V0TGltaXRlZENvb3JkID0gZnVuY3Rpb24oY29vcmQsIG1pbiwgbWF4KSB7XG4gICAgdmFyIHRvSW5kZXggPSAxLFxuICAgICAgICB4ID0gY29vcmRbMF0sXG4gICAgICAgIHkgPSBjb29yZFsxXSxcbiAgICAgICAgcmVzdWx0O1xuXG4gICAgbWluID0gbWluIHx8IFswLCAwXTtcbiAgICBtYXggPSBtYXggfHwgW3RoaXMuZGF5cyAtIHRvSW5kZXgsIHRoaXMud2Vla3MubGVuZ3RoIC0gdG9JbmRleF07XG5cbiAgICBpZiAoeSA8IG1pblsxXSkge1xuICAgICAgICByZXN1bHQgPSBtaW4uc2xpY2UoMCk7XG4gICAgfSBlbHNlIGlmICh5ID4gbWF4WzFdKSB7XG4gICAgICAgIHJlc3VsdCA9IG1heC5zbGljZSgwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB4ID0gbW1heChtaW5bMF0sIHgpO1xuICAgICAgICB4ID0gbW1pbihtYXhbMF0sIHgpO1xuICAgICAgICByZXN1bHQgPSBbeCwgeV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogUHJlcGFyZSBndWlkZSBlbGVtZW50IG1vZGlmaWNhdGlvblxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdTdGFydEV2ZW50IC0gZHJhZ1N0YXJ0IHNjaGVkdWxlIGRhdGEgZnJvbSAqZ3VpZGVcbiAqL1xuTW9udGhHdWlkZS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbihkcmFnU3RhcnRFdmVudCkge1xuICAgIHZhciBvcHQgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHRhcmdldCA9IGRyYWdTdGFydEV2ZW50LnRhcmdldCxcbiAgICAgICAgbW9kZWwgPSBkcmFnU3RhcnRFdmVudC5tb2RlbCxcbiAgICAgICAgeCA9IGRyYWdTdGFydEV2ZW50LngsXG4gICAgICAgIHkgPSBkcmFnU3RhcnRFdmVudC55LFxuICAgICAgICByZW5kZXJNb250aCA9IG5ldyBUWkRhdGUodGhpcy52aWV3Lm9wdGlvbnMucmVuZGVyTW9udGgpLFxuICAgICAgICB0ZW1wO1xuXG4gICAgaWYgKG9wdC5pc0NyZWF0aW9uTW9kZSkge1xuICAgICAgICBpZiAobW9kZWwgJiYgIWRhdGV0aW1lLmlzU2FtZU1vbnRoKHJlbmRlck1vbnRoLCBtb2RlbC5zdGFydCkpIHtcbiAgICAgICAgICAgIG1vZGVsLnN0YXJ0LnNldE1vbnRoKHJlbmRlck1vbnRoLmdldE1vbnRoKCkpO1xuICAgICAgICAgICAgbW9kZWwuc3RhcnQuc2V0RGF0ZSgxKTtcbiAgICAgICAgICAgIG1vZGVsLmVuZC5zZXRNb250aChyZW5kZXJNb250aC5nZXRNb250aCgpKTtcbiAgICAgICAgICAgIG1vZGVsLmVuZC5zZXREYXRlKDEpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcCA9IHRoaXMuX2dldENvb3JkQnlEYXRlKG1vZGVsLmdldFN0YXJ0cygpKTtcbiAgICAgICAgeCA9IHRlbXBbMF07XG4gICAgICAgIHkgPSB0ZW1wWzFdO1xuXG4gICAgICAgIHV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucywge1xuICAgICAgICAgICAgdG9wOiBwYXJzZUludCh0YXJnZXQuc3R5bGUudG9wLCAxMCkgKyAncHgnLFxuICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludCh0YXJnZXQuc3R5bGUuaGVpZ2h0LCAxMCkgKyAncHgnLFxuICAgICAgICAgICAgbGFiZWw6IG1vZGVsLnRpdGxlXG4gICAgICAgIH0sIG1vZGVsKTtcbiAgICB9XG5cbiAgICBpZiAodXRpbC5pc1VuZGVmaW5lZCh4KSB8fCB1dGlsLmlzVW5kZWZpbmVkKHkpKSB7XG4gICAgICAgIHRlbXAgPSB0aGlzLl9nZXRDb29yZEJ5RGF0ZShtb2RlbC5nZXRTdGFydHMoKSk7XG4gICAgICAgIHggPSB0ZW1wWzBdO1xuICAgICAgICB5ID0gdGVtcFsxXTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0Q29vcmQgPSBbeCwgeV07XG4gICAgdGhpcy51cGRhdGUoeCwgeSk7XG59O1xuXG4vKipcbiAqIERhdGEgZm9yIHVwZGF0ZSBzZXZlcmFsIGd1aWRlIGVsZW1lbnRzXG4gKiBAdHlwZWRlZiBVcGRhdGVJbmRpY2F0aW9uXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gZ3VpZGUgLSBndWlkZSBlbGVtZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gbGVmdCAtIGxlZnQgc3R5bGUgdmFsdWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCAtIHdpZHRoIHN0eWxlIHZhbHVlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtleGNlZWRMPWZhbHNlXSAtIHdoZXRoZXIgc2NoZWR1bGUgaXMgZXhjZWVkZWQgcGFzdCB3ZWVrcz9cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2V4Y2VlZFI9ZmFsc2VdIC0gd2hldGhlciBzY2hlZHVsZSBpcyBleGNlZWRlZCBmdXR1cmUgd2Vla3M/XG4gKi9cblxuLyoqXG4gKiBNb2RpZnkgSFRNTCBlbGVtZW50IHRoYXQgdXNlcyBmb3IgZ3VpZGUgZWxlbWVudFxuICogQHBhcmFtIHtVcGRhdGVJbmRpY2F0aW9uW119IGluZHMgLSBpbmRpY2F0aW9uIG9mIHVwZGF0ZSBzZXZlcmVsIGd1aWRlIGVsZW1lbnRcbiAqL1xuTW9udGhHdWlkZS5wcm90b3R5cGUuX3VwZGF0ZUd1aWRlcyA9IGZ1bmN0aW9uKGluZHMpIHtcbiAgICB1dGlsLmZvckVhY2goaW5kcywgZnVuY3Rpb24oaW5kKSB7XG4gICAgICAgIHZhciBndWlkZSA9IGluZC5ndWlkZSxcbiAgICAgICAgICAgIGV4Y2VlZExDbGFzcyA9IGNvbmZpZy5jbGFzc25hbWUoJ21vbnRoLWV4Y2VlZC1sZWZ0JyksXG4gICAgICAgICAgICBleGNlZWRSQ2xhc3MgPSBjb25maWcuY2xhc3NuYW1lKCdtb250aC1leGNlZWQtcmlnaHQnKTtcblxuICAgICAgICBndWlkZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgZ3VpZGUuc3R5bGUubGVmdCA9IGluZC5sZWZ0ICsgJyUnO1xuICAgICAgICBndWlkZS5zdHlsZS53aWR0aCA9IGluZC53aWR0aCArICclJztcblxuICAgICAgICBpZiAoaW5kLmV4Y2VlZEwpIHtcbiAgICAgICAgICAgIGRvbXV0aWwuYWRkQ2xhc3MoZ3VpZGUsIGV4Y2VlZExDbGFzcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb211dGlsLnJlbW92ZUNsYXNzKGd1aWRlLCBleGNlZWRMQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZC5leGNlZWRSKSB7XG4gICAgICAgICAgICBkb211dGlsLmFkZENsYXNzKGd1aWRlLCBleGNlZWRSQ2xhc3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9tdXRpbC5yZW1vdmVDbGFzcyhndWlkZSwgZXhjZWVkUkNsYXNzKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBHZXQgZ3VpZGUgZWxlbWVudCBpbmRpY2F0ZSBmb3Igb3JpZ2luIHdlZWtcbiAqIEBwYXJhbSB7bnVtYmVyW119IHN0YXJ0Q29vcmQgLSBkcmFnIHN0YXJ0IGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7bnVtYmVyW119IG1vdXNlQ29vcmQgLSBtb3VzZSBjb29yZGluYXRlXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBpbmRpY2F0ZVxuICovXG5Nb250aEd1aWRlLnByb3RvdHlwZS5fZ2V0T3JpZ2luSW5kaWNhdGUgPSBmdW5jdGlvbihzdGFydENvb3JkLCBtb3VzZUNvb3JkKSB7XG4gICAgdmFyIGxlZnQgPSBtbWluKHN0YXJ0Q29vcmRbMF0sIG1vdXNlQ29vcmRbMF0pLFxuICAgICAgICByaWdodCA9IG1tYXgoc3RhcnRDb29yZFswXSwgbW91c2VDb29yZFswXSkgKyAxLFxuICAgICAgICBleGNlZWRMLCBleGNlZWRSO1xuXG4gICAgaWYgKG1vdXNlQ29vcmRbMV0gPiBzdGFydENvb3JkWzFdKSB7XG4gICAgICAgIGxlZnQgPSBzdGFydENvb3JkWzBdO1xuICAgICAgICByaWdodCA9IHRoaXMuZGF5cztcbiAgICAgICAgZXhjZWVkUiA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChtb3VzZUNvb3JkWzFdIDwgc3RhcnRDb29yZFsxXSkge1xuICAgICAgICBsZWZ0ID0gMDtcbiAgICAgICAgcmlnaHQgPSBzdGFydENvb3JkWzBdICsgMTtcbiAgICAgICAgZXhjZWVkTCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogdGhpcy5fZ2V0UmF0aW9WYWx1ZUluV2VlayhsZWZ0KSxcbiAgICAgICAgd2lkdGg6IHRoaXMuX2dldFJhdGlvVmFsdWVJbldlZWsocmlnaHQpIC1cbiAgICAgICAgICAgIHRoaXMuX2dldFJhdGlvVmFsdWVJbldlZWsobGVmdCksXG4gICAgICAgIGV4Y2VlZEw6IGV4Y2VlZEwsXG4gICAgICAgIGV4Y2VlZFI6IGV4Y2VlZFJcbiAgICB9O1xufTtcblxuLyoqXG4gKiBHZXQgZ3VpZGUgZWxlbWVudCBpbmRpY2F0ZSBmb3Igd2VlayByZWxhdGVkIHdpdGggbW91c2UgcG9zaXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyW119IHN0YXJ0Q29vcmQgLSBkcmFnIHN0YXJ0IGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7bnVtYmVyW119IG1vdXNlQ29vcmQgLSBtb3VzZSBjb29yZGluYXRlXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBpbmRpY2F0ZVxuICovXG5Nb250aEd1aWRlLnByb3RvdHlwZS5fZ2V0TW91c2VJbmRpY2F0ZSA9IGZ1bmN0aW9uKHN0YXJ0Q29vcmQsIG1vdXNlQ29vcmQpIHtcbiAgICB2YXIgbGVmdCA9IG1vdXNlQ29vcmRbMF0sXG4gICAgICAgIHJpZ2h0ID0gbW91c2VDb29yZFswXSArIDEsXG4gICAgICAgIGV4Y2VlZEwsIGV4Y2VlZFI7XG5cbiAgICBpZiAobW91c2VDb29yZFsxXSA+IHN0YXJ0Q29vcmRbMV0pIHtcbiAgICAgICAgbGVmdCA9IDA7XG4gICAgICAgIGV4Y2VlZEwgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAobW91c2VDb29yZFsxXSA8IHN0YXJ0Q29vcmRbMV0pIHtcbiAgICAgICAgcmlnaHQgPSB0aGlzLmRheXM7XG4gICAgICAgIGV4Y2VlZFIgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IHRoaXMuX2dldFJhdGlvVmFsdWVJbldlZWsobGVmdCksXG4gICAgICAgIHdpZHRoOiB0aGlzLl9nZXRSYXRpb1ZhbHVlSW5XZWVrKHJpZ2h0KSAtXG4gICAgICAgICAgICB0aGlzLl9nZXRSYXRpb1ZhbHVlSW5XZWVrKGxlZnQpLFxuICAgICAgICBleGNlZWRMOiBleGNlZWRMLFxuICAgICAgICBleGNlZWRSOiBleGNlZWRSXG4gICAgfTtcbn07XG5cbi8qKlxuICogR2V0IGd1aWRlIGVsZW1lbnQgaW5kaWNhdGUgZm9yIGNvbnRhaW5lZCB3ZWVrc1xuICogQHJldHVybnMge29iamVjdH0gaW5kaWNhdGVcbiAqL1xuTW9udGhHdWlkZS5wcm90b3R5cGUuX2dldENvbnRhaW5JbmRpY2F0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHdpZHRoOiAxMDAsXG4gICAgICAgIGV4Y2VlZEw6IHRydWUsXG4gICAgICAgIGV4Y2VlZFI6IHRydWVcbiAgICB9O1xufTtcblxuLyoqXG4gKiBSZW1vdmUgc2V2ZXJhbCBndWlkZSBlbGVtZW50IHRoYXQgc3VwcGxpZWQgYnkgcGFyYW1ldGVyXG4gKiBAcGFyYW0ge251bWJlcltdfSB5Q29vcmRzIC0gYXJyYXkgb2YgeSBjb29yZGluYXRlIHRvIHJlbW92ZSBndWlkZSBlbGVtZW50XG4gKi9cbk1vbnRoR3VpZGUucHJvdG90eXBlLl9yZW1vdmVHdWlkZUVsZW1lbnRzID0gZnVuY3Rpb24oeUNvb3Jkcykge1xuICAgIHZhciBndWlkZXMgPSB0aGlzLmd1aWRlRWxlbWVudHM7XG5cbiAgICB1dGlsLmZvckVhY2goeUNvb3JkcywgZnVuY3Rpb24oeSkge1xuICAgICAgICBkb211dGlsLnJlbW92ZShndWlkZXNbeV0pO1xuICAgICAgICBkZWxldGUgZ3VpZGVzW3ldO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBHZXQgZXhjbHVkZWQgbnVtYmVycyBpbiByYW5nZVxuICogQHBhcmFtIHtudW1iZXJbXX0gcmFuZ2UgLSB0aGUgcmFuZ2UuIHZhbHVlIG11c3QgYmUgc2VxdWVuY2lhbC5cbiAqIEBwYXJhbSB7bnVtYmVyW119IG51bWJlcnMgLSBudW1iZXJzIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7bnVtYmVyW119IGV4Y2x1ZGVkIG51bWJlcnNcbiAqL1xuTW9udGhHdWlkZS5wcm90b3R5cGUuX2dldEV4Y2x1ZGVzSW5SYW5nZSA9IGZ1bmN0aW9uKHJhbmdlLCBudW1iZXJzKSB7XG4gICAgdmFyIG1pbiA9IG1taW4uYXBwbHkobnVsbCwgcmFuZ2UpLFxuICAgICAgICBtYXggPSBtbWF4LmFwcGx5KG51bGwsIHJhbmdlKSxcbiAgICAgICAgZXhjbHVkZXMgPSBbXTtcblxuICAgIHV0aWwuZm9yRWFjaChudW1iZXJzLCBmdW5jdGlvbihudW0pIHtcbiAgICAgICAgbnVtID0gcGFyc2VJbnQobnVtLCAxMCk7XG4gICAgICAgIGlmIChudW0gPCBtaW4gfHwgbnVtID4gbWF4KSB7XG4gICAgICAgICAgICBleGNsdWRlcy5wdXNoKG51bSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBleGNsdWRlcztcbn07XG5cbi8qKlxuICogVXBkYXRlIGd1aWRlIGVsZW1lbnRzIGJ5IGNvb3JkaW5hdGUgaW4gbW9udGggZ3JpZCBmcm9tIG1vdXNlbW92ZSBldmVudFxuICogQHBhcmFtIHtudW1iZXJ9IHggLSB4IGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0geSBjb29yZGluYXRlXG4gKi9cbk1vbnRoR3VpZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHN0YXJ0Q29vcmQgPSB0aGlzLnN0YXJ0Q29vcmQsXG4gICAgICAgIG1vdXNlQ29vcmQgPSBbeCwgeV0sXG4gICAgICAgIGxpbWl0ZWRDb29yZCA9IHRoaXMub3B0aW9ucy5pc1Jlc2l6ZU1vZGUgP1xuICAgICAgICAgICAgdGhpcy5fZ2V0TGltaXRlZENvb3JkKG1vdXNlQ29vcmQsIHN0YXJ0Q29vcmQpIDogbW91c2VDb29yZCxcbiAgICAgICAgcmVuZGVyZWRZSW5kZXggPSB1dGlsLmtleXModGhpcy5ndWlkZUVsZW1lbnRzKSxcbiAgICAgICAgeUNvb3Jkc1RvVXBkYXRlID0gdXRpbC5yYW5nZShcbiAgICAgICAgICAgIG1taW4oc3RhcnRDb29yZFsxXSwgbGltaXRlZENvb3JkWzFdKSxcbiAgICAgICAgICAgIG1tYXgoc3RhcnRDb29yZFsxXSwgbGltaXRlZENvb3JkWzFdKSArIDFcbiAgICAgICAgKSxcbiAgICAgICAgeUNvb3Jkc1RvUmVtb3ZlID0gdGhpcy5fZ2V0RXhjbHVkZXNJblJhbmdlKFxuICAgICAgICAgICAgeUNvb3Jkc1RvVXBkYXRlLFxuICAgICAgICAgICAgcmVuZGVyZWRZSW5kZXhcbiAgICAgICAgKSxcbiAgICAgICAgcmVuZGVySW5kaWNhdGlvbiA9IHt9O1xuXG4gICAgdGhpcy5fcmVtb3ZlR3VpZGVFbGVtZW50cyh5Q29vcmRzVG9SZW1vdmUpO1xuXG4gICAgdXRpbC5mb3JFYWNoKHlDb29yZHNUb1VwZGF0ZSwgZnVuY3Rpb24oZ3VpZGVZQ29vcmQpIHtcbiAgICAgICAgdmFyIGd1aWRlID0gc2VsZi5fZ2V0R3VpZGVFbGVtZW50KGd1aWRlWUNvb3JkKSxcbiAgICAgICAgICAgIGluZGljYXRlO1xuXG4gICAgICAgIGlmICghZ3VpZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChndWlkZVlDb29yZCA9PT0gc3RhcnRDb29yZFsxXSkge1xuICAgICAgICAgICAgaW5kaWNhdGUgPSBzZWxmLl9nZXRPcmlnaW5JbmRpY2F0ZShzdGFydENvb3JkLCBsaW1pdGVkQ29vcmQpO1xuICAgICAgICB9IGVsc2UgaWYgKGd1aWRlWUNvb3JkID09PSBtb3VzZUNvb3JkWzFdKSB7XG4gICAgICAgICAgICBpbmRpY2F0ZSA9IHNlbGYuX2dldE1vdXNlSW5kaWNhdGUoc3RhcnRDb29yZCwgbW91c2VDb29yZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRpY2F0ZSA9IHNlbGYuX2dldENvbnRhaW5JbmRpY2F0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVySW5kaWNhdGlvbltndWlkZVlDb29yZF0gPSB1dGlsLmV4dGVuZCh7XG4gICAgICAgICAgICBndWlkZTogZ3VpZGVcbiAgICAgICAgfSwgaW5kaWNhdGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fdXBkYXRlR3VpZGVzKHJlbmRlckluZGljYXRpb24pO1xufTtcblxuLyoqXG4gKiBDbGVhciBhbGwgZ3VpZGUgZWxlbWVudHNcbiAqL1xuTW9udGhHdWlkZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICB1dGlsLmZvckVhY2godGhpcy5ndWlkZUVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGRvbXV0aWwucmVtb3ZlKGVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5ndWlkZUVsZW1lbnRzID0ge307XG59O1xuXG4vKipcbiAqIEdldCB0aGUgc3R5bGVzIGZyb20gdGhlbWVcbiAqIEBwYXJhbSB7VGhlbWV9IHRoZW1lIC0gdGhlbWUgaW5zdGFuY2VcbiAqIEByZXR1cm5zIHtvYmplY3R9IHN0eWxlcyAtIHN0eWxlcyBvYmplY3RcbiAqL1xuTW9udGhHdWlkZS5wcm90b3R5cGUuX2dldFN0eWxlcyA9IGZ1bmN0aW9uKHRoZW1lKSB7XG4gICAgdmFyIHN0eWxlcyA9IHt9O1xuXG4gICAgaWYgKHRoZW1lKSB7XG4gICAgICAgIHN0eWxlcy5ib3JkZXIgPSB0aGVtZS5jb21tb24uY3JlYXRpb25HdWlkZS5ib3JkZXI7XG4gICAgICAgIHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS5jb21tb24uY3JlYXRpb25HdWlkZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHN0eWxlcy5zY2hlZHVsZUhlaWdodCA9IHRoZW1lLm1vbnRoLnNjaGVkdWxlLmhlaWdodDtcbiAgICAgICAgc3R5bGVzLnNjaGVkdWxlR3V0dGVyID0gdGhlbWUubW9udGguc2NoZWR1bGUubWFyZ2luVG9wO1xuICAgICAgICBzdHlsZXMubWFyZ2luTGVmdCA9IHRoZW1lLm1vbnRoLnNjaGVkdWxlLm1hcmdpbkxlZnQ7XG4gICAgICAgIHN0eWxlcy5tYXJnaW5SaWdodCA9IHRoZW1lLm1vbnRoLnNjaGVkdWxlLm1hcmdpblJpZ2h0O1xuICAgICAgICBzdHlsZXMuYm9yZGVyUmFkaXVzID0gdGhlbWUubW9udGguc2NoZWR1bGUuYm9yZGVyUmFkaXVzO1xuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vbnRoR3VpZGU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9tb3ZlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9oYW5kbGVyL21vbnRoL21vdmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE1vdmUgaGFuZGxlciBmb3IgbW9udGggdmlld1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xuXG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpLFxuICAgIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpLFxuICAgIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpLFxuICAgIGdldE1vdXNlUG9zRGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29yZSAqLyBcIi4vc3JjL2pzL2hhbmRsZXIvbW9udGgvY29yZS5qc1wiKSxcbiAgICBNb250aE1vdmVHdWlkZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbW92ZUd1aWRlICovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9tb3ZlR3VpZGUuanNcIiksXG4gICAgVFpEYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpLkRhdGU7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAbWl4ZXMgQ3VzdG9tRXZlbnRzXG4gKiBAcGFyYW0ge0RyYWd9IGRyYWdIYW5kbGVyIC0gRHJhZyBoYW5kbGVyIGluc3RhbmNlLlxuICogQHBhcmFtIHtNb250aH0gbW9udGhWaWV3IC0gTW9udGggdmlldyBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7QmFzZX0gYmFzZUNvbnRyb2xsZXIgLSBCYXNlIGNvbnRyb2xsZXIgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIE1vbnRoTW92ZShkcmFnSGFuZGxlciwgbW9udGhWaWV3LCBiYXNlQ29udHJvbGxlcikge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEcmFnfVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSBkcmFnSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNb250aH1cbiAgICAgKi9cbiAgICB0aGlzLm1vbnRoVmlldyA9IG1vbnRoVmlldztcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCYXNlfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZUNvbnRyb2xsZXIgPSBiYXNlQ29udHJvbGxlcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmdldFNjaGVkdWxlRGF0YSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuX2NhY2hlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNb250aE1vdmVHdWlkZX1cbiAgICAgKi9cbiAgICB0aGlzLmd1aWRlID0gbmV3IE1vbnRoTW92ZUd1aWRlKHRoaXMpO1xuXG4gICAgZHJhZ0hhbmRsZXIub24oJ2RyYWdTdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0LCB0aGlzKTtcbn1cblxuLyoqXG4gKiBEZXN0cnVjdG9yXG4gKi9cbk1vbnRoTW92ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIub2ZmKHRoaXMpO1xuXG4gICAgdGhpcy5kcmFnSGFuZGxlciA9IHRoaXMubW9udGhWaWV3ID0gdGhpcy5iYXNlQ29udHJvbGxlciA9IG51bGw7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSB0YXJnZXQgc2NoZWR1bGVcbiAqIEBmaXJlcyB7TW9udGhNb3ZlI2JlZm9yZVVwZGF0ZVNjaGVkdWxlfVxuICogQHBhcmFtIHtvYmplY3R9IHNjaGVkdWxlQ2FjaGUgLSBjYWNoZSBvYmplY3QgdGhhdCByZXN1bHQgb2Ygc2luZ2xlIGRyYWdnaW5nXG4gKiAgc2Vzc2lvbi5cbiAqL1xuTW9udGhNb3ZlLnByb3RvdHlwZS51cGRhdGVTY2hlZHVsZSA9IGZ1bmN0aW9uKHNjaGVkdWxlQ2FjaGUpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzY2hlZHVsZUNhY2hlLm1vZGVsO1xuICAgIHZhciBkdXJhdGlvbiA9IHNjaGVkdWxlLmR1cmF0aW9uKCk7XG4gICAgdmFyIHN0YXJ0RGF0ZVJhdyA9IGRhdGV0aW1lLnJhdyhzY2hlZHVsZS5zdGFydCk7XG4gICAgdmFyIGRyYWdFbmRUaW1lID0gbmV3IFRaRGF0ZShzY2hlZHVsZUNhY2hlLmVuZCk7XG4gICAgdmFyIG5ld1N0YXJ0RGF0ZSA9IG5ldyBUWkRhdGUoZHJhZ0VuZFRpbWUpO1xuXG4gICAgbmV3U3RhcnREYXRlLnNldEhvdXJzKHN0YXJ0RGF0ZVJhdy5oLCBzdGFydERhdGVSYXcubSwgc3RhcnREYXRlUmF3LnMsIHN0YXJ0RGF0ZVJhdy5tcyk7XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgTW9udGhNb3ZlI2JlZm9yZVVwZGF0ZVNjaGVkdWxlXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1NjaGVkdWxlfSBzY2hlZHVsZSAtIFRoZSBvcmlnaW5hbCBzY2hlZHVsZSBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gc3RhcnQgLSBEZXByZWNhdGVkOiBzdGFydCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gZW5kIC0gRGVwcmVjYXRlZDogZW5kIHRpbWUgdG8gdXBkYXRlXG4gICAgICogQHByb3BlcnR5IHtvYmplY3R9IGNoYW5nZXMgLSBzdGFydCBhbmQgZW5kIHRpbWUgdG8gdXBkYXRlXG4gICAgICogIEBwcm9wZXJ0eSB7RGF0ZX0gc3RhcnQgLSBzdGFydCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqICBAcHJvcGVydHkge0RhdGV9IGVuZCAtIGVuZCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnYmVmb3JlVXBkYXRlU2NoZWR1bGUnLCB7XG4gICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZSxcbiAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgc3RhcnQ6IG5ld1N0YXJ0RGF0ZSxcbiAgICAgICAgICAgIGVuZDogbmV3IFRaRGF0ZShuZXdTdGFydERhdGUpLmFkZE1pbGxpc2Vjb25kcyhkdXJhdGlvbilcbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnQ6IG5ld1N0YXJ0RGF0ZSxcbiAgICAgICAgZW5kOiBuZXcgVFpEYXRlKG5ld1N0YXJ0RGF0ZSkuYWRkTWlsbGlzZWNvbmRzKGR1cmF0aW9uKVxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBHZXQgc2NoZWR1bGUgYmxvY2sgdG8gY2xvbmUgZm9yIG1vbnRoIGd1aWRlIGVmZmVjdFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gdGFyZ2V0IGVsZW1lbnQgdGhhdCByZWxhdGVkIHdpdGggZHJhZyBzY2hlZHVsZVxuICogQHJldHVybnMge0hUTUxFbGVtZW50fSBlbGVtZW50IHRvIGNyZWF0ZSBndWlkZSBlZmZlY3RcbiAqL1xuTW9udGhNb3ZlLnByb3RvdHlwZS5nZXRNb250aFNjaGVkdWxlQmxvY2sgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB2YXIgYmxvY2tTZWxlY3RvciA9IGNvbmZpZy5jbGFzc25hbWUoJy53ZWVrZGF5LXNjaGVkdWxlLWJsb2NrJyk7XG5cbiAgICByZXR1cm4gZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgYmxvY2tTZWxlY3Rvcik7XG59O1xuXG4vKipcbiAqIEdldCBzY2hlZHVsZSBibG9jayBmcm9tIG1vcmUgbGF5ZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIGVsZW1lbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gc2NoZWR1bGUgZWxlbWVudFxuICovXG5Nb250aE1vdmUucHJvdG90eXBlLmdldE1vcmVMYXllclNjaGVkdWxlQmxvY2sgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzbmFtZSgnLm1vbnRoLW1vcmUtc2NoZWR1bGUnKTtcblxuICAgIHJldHVybiBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjbGFzc05hbWUpO1xufTtcblxuLyoqXG4gKiBDaGVjayBoYW5kbGVyIGhhcyBwZXJtaXNzaW9uIHRvIGhhbmRsZSBmaXJlZCBzY2hlZHVsZVxuICogQGZpcmVzIHtNb250aE1vdmUjbW9udGhNb3ZlU3RhcnRfZnJvbV9tb3JlbGF5ZXJ9XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgLSB0YXJnZXQgZWxlbWVudCBvZiBmaXJlZCBzY2hlZHVsZVxuICogQHJldHVybnMgeyhzdHJpbmd8bnVsbCl9IG1vZGVsIGluc3RhbmNlIElEIHJlbGF0ZWQgd2l0aCBzY2hlZHVsZS4gaWYgaGFuZGxlXG4gKiAgaGFzIG5vdCBwZXJtaXNzaW9uIHRvIGhhbmRsZSB0aGUgc2NoZWR1bGUgdGhlbiByZXR1cm4gbnVsbC5cbiAqL1xuTW9udGhNb3ZlLnByb3RvdHlwZS5oYXNQZXJtaXNzaW9uVG9IYW5kbGUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB2YXIgbW9kZWxJRCA9IG51bGw7XG4gICAgdmFyIGJsb2NrRWxlbWVudDtcblxuICAgIGlmIChkb211dGlsLmhhc0NsYXNzKHRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1yZXNpemUtaGFuZGxlJykpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGJsb2NrRWxlbWVudCA9IHRoaXMuZ2V0TW9udGhTY2hlZHVsZUJsb2NrKHRhcmdldCk7XG5cbiAgICBpZiAoYmxvY2tFbGVtZW50KSB7XG4gICAgICAgIG1vZGVsSUQgPSBkb211dGlsLmdldERhdGEoYmxvY2tFbGVtZW50LCAnaWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBibG9ja0VsZW1lbnQgPSB0aGlzLmdldE1vcmVMYXllclNjaGVkdWxlQmxvY2sodGFyZ2V0KTtcblxuICAgICAgICBpZiAoYmxvY2tFbGVtZW50KSB7XG4gICAgICAgICAgICBtb2RlbElEID0gZG9tdXRpbC5nZXREYXRhKGJsb2NrRWxlbWVudCwgJ2lkJyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpcmUgZm9yIG5vdGlmaWNhdGUgdGhhdCB0aGUgZHJhZyBzY2hlZHVsZSBzdGFydCBhdCBtb3JlIGxheWVyIHZpZXcuXG4gICAgICAgICAgICAgKiBAZXZlbnQge01vbnRoTW92ZSNtb250aE1vdmVTdGFydF9mcm9tX21vcmVsYXllcn1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5maXJlKCdtb250aE1vdmVTdGFydF9mcm9tX21vcmVsYXllcicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsSUQ7XG59O1xuXG4vKipcbiAqIEV2ZW50IGhhbmRsZXIgZm9yIERyYWcjZHJhZ1N0YXJ0XG4gKiBAZmlyZXMge01vbnRoTW92ZSNtb250aE1vdmVEcmFnc3RhcnR9XG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ1N0YXJ0RXZlbnQgLSBkcmFnIHN0YXJ0IHNjaGVkdWxlIGRhdGFcbiAqL1xuTW9udGhNb3ZlLnByb3RvdHlwZS5fb25EcmFnU3RhcnQgPSBmdW5jdGlvbihkcmFnU3RhcnRFdmVudCkge1xuICAgIHZhciB0YXJnZXQgPSBkcmFnU3RhcnRFdmVudC50YXJnZXQsXG4gICAgICAgIG1vZGVsSUQgPSB0aGlzLmhhc1Blcm1pc3Npb25Ub0hhbmRsZSh0YXJnZXQpLFxuICAgICAgICBtb2RlbCA9IHRoaXMuYmFzZUNvbnRyb2xsZXIuc2NoZWR1bGVzLml0ZW1zW21vZGVsSURdLFxuICAgICAgICBzY2hlZHVsZURhdGE7XG5cbiAgICBpZiAoIW1vZGVsSUQgfHwgIW1vZGVsIHx8IG1vZGVsLmlzUmVhZE9ubHkgfHwgbW9kZWwuaXNQZW5kaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9uKHtcbiAgICAgICAgZHJhZzogdGhpcy5fb25EcmFnLFxuICAgICAgICBkcmFnRW5kOiB0aGlzLl9vbkRyYWdFbmRcbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuZ2V0U2NoZWR1bGVEYXRhID0gZ2V0TW91c2VQb3NEYXRhKHRoaXMubW9udGhWaWV3KTtcblxuICAgIHNjaGVkdWxlRGF0YSA9IHRoaXMuZ2V0U2NoZWR1bGVEYXRhKGRyYWdTdGFydEV2ZW50Lm9yaWdpbkV2ZW50KTtcbiAgICBzY2hlZHVsZURhdGEub3JpZ2luRXZlbnQgPSBkcmFnU3RhcnRFdmVudC5vcmlnaW5FdmVudDtcbiAgICBzY2hlZHVsZURhdGEudGFyZ2V0ID0gdGhpcy5nZXRNb250aFNjaGVkdWxlQmxvY2sodGFyZ2V0KTtcbiAgICBzY2hlZHVsZURhdGEubW9kZWwgPSBtb2RlbDtcblxuICAgIHRoaXMuX2NhY2hlID0ge1xuICAgICAgICBtb2RlbDogbW9kZWwsXG4gICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICBzdGFydDogbmV3IFRaRGF0ZShOdW1iZXIoc2NoZWR1bGVEYXRhLmRhdGUpKVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQge01vbnRoTW92ZSNtb250aE1vdmVEcmFnc3RhcnR9XG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geCAtIHggaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geSAtIHkgaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IGRhdGUgLSBkcmFnIGRhdGVcbiAgICAgKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSB0YXJnZXQgLSBzY2hlZHVsZSBibG9jayBlbGVtZW50XG4gICAgICogQHByb3BlcnR5IHtTY2hlZHVsZX0gbW9kZWwgLSBtb2RlbCBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnbW9udGhNb3ZlRHJhZ3N0YXJ0Jywgc2NoZWR1bGVEYXRhKTtcbn07XG5cbi8qKlxuICogQGZpcmVzIHtNb250aE1vdmUjbW9udGhNb3ZlRHJhZ31cbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRXZlbnQgLSBkcmFnIGV2ZW50IGRhdGFcbiAqL1xuTW9udGhNb3ZlLnByb3RvdHlwZS5fb25EcmFnID0gZnVuY3Rpb24oZHJhZ0V2ZW50KSB7XG4gICAgdmFyIHNjaGVkdWxlRGF0YTtcblxuICAgIGlmICghdGhpcy5nZXRTY2hlZHVsZURhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjaGVkdWxlRGF0YSA9IHV0aWwuZXh0ZW5kKHtcbiAgICAgICAgb3JpZ2luRXZlbnQ6IGRyYWdFdmVudC5vcmlnaW5FdmVudFxuICAgIH0sIHRoaXMuZ2V0U2NoZWR1bGVEYXRhKGRyYWdFdmVudC5vcmlnaW5FdmVudCkpO1xuXG4gICAgaWYgKCFzY2hlZHVsZURhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBldmVudCB7TW9udGhNb3ZlI21vbnRoTW92ZURyYWd9XG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geCAtIHggaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geSAtIHkgaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IGRhdGUgLSBkcmFnIGRhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ21vbnRoTW92ZURyYWcnLCBzY2hlZHVsZURhdGEpO1xufTtcblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIGZvciBEcmFnI2RyYWdFbmRcbiAqIEBmaXJlcyB7TW9udGhNb3ZlI21vbnRoTW92ZURyYWdlbmR9XG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ0VuZEV2ZW50IC0gZHJhZ2VuZCBldmVudCBkYXRhXG4gKi9cbk1vbnRoTW92ZS5wcm90b3R5cGUuX29uRHJhZ0VuZCA9IGZ1bmN0aW9uKGRyYWdFbmRFdmVudCkge1xuICAgIHZhciBjYWNoZSA9IHRoaXMuX2NhY2hlO1xuICAgIHZhciBzY2hlZHVsZURhdGE7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih7XG4gICAgICAgIGRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgZHJhZ0VuZDogdGhpcy5fb25EcmFnRW5kXG4gICAgfSwgdGhpcyk7XG5cbiAgICBpZiAoIXRoaXMuZ2V0U2NoZWR1bGVEYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY2hlZHVsZURhdGEgPSB0aGlzLmdldFNjaGVkdWxlRGF0YShkcmFnRW5kRXZlbnQub3JpZ2luRXZlbnQpO1xuXG4gICAgaWYgKHNjaGVkdWxlRGF0YSkge1xuICAgICAgICBjYWNoZS5lbmQgPSBuZXcgVFpEYXRlKHNjaGVkdWxlRGF0YS5kYXRlKTtcbiAgICAgICAgdGhpcy51cGRhdGVTY2hlZHVsZShjYWNoZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IHtNb250aFJlc2l6ZSNtb250aE1vdmVEcmFnZW5kfVxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHggLSB4IGluZGV4XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHkgLSB5IGluZGV4XG4gICAgICogQHByb3BlcnR5IHtEYXRlfSBkYXRlIC0gZHJhZyBkYXRlXG4gICAgICovXG4gICAgdGhpcy5maXJlKCdtb250aE1vdmVEcmFnZW5kJywgc2NoZWR1bGVEYXRhKTtcblxuICAgIHRoaXMuZ2V0U2NoZWR1bGVEYXRhID0gdGhpcy5fY2FjaGUgPSBudWxsO1xufTtcblxudXRpbC5DdXN0b21FdmVudHMubWl4aW4oTW9udGhNb3ZlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb250aE1vdmU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9tb3ZlR3VpZGUuaGJzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9oYW5kbGVyL21vbnRoL21vdmVHdWlkZS5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1snZGVmYXVsdCddIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgIGJvcmRlci1sZWZ0OjNweCBzb2xpZCBcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJvcmRlckNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcbiAgICAgICAgICAgIFwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgPHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjE3fSxcImVuZFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjMxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LXNjaGVkdWxlLWJ1bGxldCBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTQsXCJjb2x1bW5cIjo1NX0sXCJlbmRcIjp7XCJsaW5lXCI6MTQsXCJjb2x1bW5cIjo2OX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1zY2hlZHVsZS1idWxsZXQtZm9jdXNlZFxcXCIgc3R5bGU9XFxcInRvcDogXCJcbiAgICArIGFsaWFzNChjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInNjaGVkdWxlQnVsbGV0VG9wXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwicHg7XFxcIj48L3NwYW4+XFxuXCI7XG59LFwiNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjoxMTB9LFwiZW5kXCI6e1wibGluZVwiOjE2LFwiY29sdW1uXCI6MTI0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LXNjaGVkdWxlLXRpdGxlLWZvY3VzZWRcIjtcbn0sXCI3XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcImFsbGRheS10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImFsbGRheS10bXBsXCIpKXx8Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiYWxsZGF5LXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTgsXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6MTgsXCJjb2x1bW5cIjozNX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXG5cIjtcbn0sXCI5XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcInRpbWUtdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ0aW1lLXRtcGxcIikpfHxjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJ0aW1lLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjAsXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6MjAsXCJjb2x1bW5cIjozM319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXG5cIjtcbn0sXCJjb21waWxlclwiOls4LFwiPj0gNC4zLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXM1PWNvbnRhaW5lci5sYW1iZGEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjoyNn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwibW9udGgtZ3VpZGUgXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjozOH0sXCJlbmRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjUyfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJtb250aC1ndWlkZS1mb2N1c2VkXFxcIlxcbiAgICAgc3R5bGU9XFxcInRvcDogLTUwJTtcXG4gICAgICAgICAgICBsZWZ0OiAtNTAlO1xcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6XCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJkcmFnQmdDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG4gICAgICAgICAgICBoZWlnaHQ6XCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVIZWlnaHRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJweDtcXG4gICAgICAgICAgICBsaW5lLWhlaWdodDpcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUhlaWdodFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcInB4O1xcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJvcmRlclJhZGl1c1wiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJpc0FsbERheVwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEwLFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6MTl9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNBbGxEYXlcIikgOiBzdGFjazEpLHtcIm5hbWVcIjpcInVubGVzc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjo0fSxcImVuZFwiOntcImxpbmVcIjoxNSxcImNvbHVtblwiOjE1fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjozMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwibW9udGgtbW92ZS1ndWlkZSBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjo0N30sXCJlbmRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjo2MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1zY2hlZHVsZS10aXRsZSBcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNBbGxEYXlcIikgOiBzdGFjazEpLHtcIm5hbWVcIjpcInVubGVzc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg1LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjo4NH0sXCJlbmRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjoxNjV9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJpc0FsbERheVwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oOSwgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE3LFwiY29sdW1uXCI6OH0sXCJlbmRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjoxNX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgPC9kaXY+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI0LFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjI0LFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIm1vbnRoLWd1aWRlLWNvdmVyXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OlwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInNjaGVkdWxlSGVpZ2h0XCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwicHg7IGJvcmRlci1yYWRpdXM6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJvcmRlclJhZGl1c1wiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXFwiPjwvZGl2PlxcblwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2hhbmRsZXIvbW9udGgvbW92ZUd1aWRlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvbW9udGgvbW92ZUd1aWRlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qKlxuICogQGZpbGVvdmVydmlldyBNb2R1bGUgZm9yIG1vZGlmaWNhdGlvbiBvZiBndWlkZSBlbGVtZW50IGZvciBtb3ZlIGluIG1vbnRoIHZpZXdcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcblxudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKSxcbiAgICBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKSxcbiAgICBkb21ldmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb21ldmVudCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb21ldmVudC5qc1wiKSxcbiAgICBGbG9hdGluZ0xheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2Zsb2F0aW5nTGF5ZXIgKi8gXCIuL3NyYy9qcy9jb21tb24vZmxvYXRpbmdMYXllci5qc1wiKSxcbiAgICB0bXBsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9tb3ZlR3VpZGUuaGJzICovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9tb3ZlR3VpZGUuaGJzXCIpLFxuICAgIFNjaGVkdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbW9kZWwvc2NoZWR1bGUgKi8gXCIuL3NyYy9qcy9tb2RlbC9zY2hlZHVsZS5qc1wiKTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7TW9udGhNb3ZlfSBtb250aE1vdmUgLSBtb250aC9tb3ZlIG1vZHVsZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBNb250aE1vdmVHdWlkZShtb250aE1vdmUpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TW9udGhNb3ZlfVxuICAgICAqL1xuICAgIHRoaXMubW9udGhNb3ZlID0gbW9udGhNb3ZlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50W119XG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50cyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RmxvYXRpbmdMYXllcn1cbiAgICAgKi9cbiAgICB0aGlzLmxheWVyID0gbnVsbDtcblxuICAgIG1vbnRoTW92ZS5vbih7XG4gICAgICAgIG1vbnRoTW92ZURyYWdzdGFydDogdGhpcy5fb25EcmFnU3RhcnQsXG4gICAgICAgIG1vbnRoTW92ZURyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgbW9udGhNb3ZlRHJhZ2VuZDogdGhpcy5fb25EcmFnRW5kXG4gICAgfSwgdGhpcyk7XG59XG5cbi8qKlxuICogRGVzdHJ1Y3RvclxuICovXG5Nb250aE1vdmVHdWlkZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubW9udGhNb3ZlLm9mZih0aGlzKTtcbiAgICB0aGlzLl9jbGVhckdyaWRCZ0NvbG9yKCk7XG5cbiAgICBpZiAodGhpcy5sYXllcikge1xuICAgICAgICB0aGlzLmxheWVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgIGRvbXV0aWwucmVtb3ZlKHRoaXMuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5tb250aE1vdmUgPSB0aGlzLmVsZW1lbnRzID0gdGhpcy5sYXllciA9IG51bGw7XG59O1xuXG4vKipcbiAqIEhpZGUgZWxlbWVudCBibG9ja3MgZm9yIHJlc2l6ZSBlZmZlY3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBtb2RlbElEIC0gU2NoZWR1bGUgbW9kZWwgaW5zdGFuY2UgSURcbiAqL1xuTW9udGhNb3ZlR3VpZGUucHJvdG90eXBlLl9oaWRlT3JpZ2luU2NoZWR1bGVCbG9ja3MgPSBmdW5jdGlvbihtb2RlbElEKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzc25hbWUoJ3dlZWtkYXktc2NoZWR1bGUtYmxvY2stZHJhZ2dpbmctZGltJyk7XG5cbiAgICB0aGlzLmVsZW1lbnRzID0gZG9tdXRpbC5maW5kKFxuICAgICAgICBjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheS1zY2hlZHVsZS1ibG9jay0nICsgbW9kZWxJRCksXG4gICAgICAgIHRoaXMubW9udGhNb3ZlLm1vbnRoVmlldy5jb250YWluZXIsXG4gICAgICAgIHRydWVcbiAgICApO1xuXG4gICAgdXRpbC5mb3JFYWNoKHRoaXMuZWxlbWVudHMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIGRvbXV0aWwuYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFNob3cgZWxlbWVudCBibG9ja3NcbiAqL1xuTW9udGhNb3ZlR3VpZGUucHJvdG90eXBlLl9zaG93T3JpZ2luU2NoZWR1bGVCbG9ja3MgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1zY2hlZHVsZS1ibG9jay1kcmFnZ2luZy1kaW0nKTtcblxuICAgIHV0aWwuZm9yRWFjaCh0aGlzLmVsZW1lbnRzLCBmdW5jdGlvbihlbCkge1xuICAgICAgICBkb211dGlsLnJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBDbGVhciBiYWNrZ3JvdW5kIGNvbG9yIGZvciBmaWxsZWQgZ3JpZCBlbGVtZW50LlxuICovXG5Nb250aE1vdmVHdWlkZS5wcm90b3R5cGUuX2NsZWFyR3JpZEJnQ29sb3IgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZWN0b3IgPSBjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheS1maWxsZWQnKSxcbiAgICAgICAgY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1maWxsZWQnKSxcbiAgICAgICAgYmVmb3JlR3JpZEVsZW1lbnQgPSBkb211dGlsLmZpbmQoc2VsZWN0b3IsXG4gICAgICAgICAgICB0aGlzLm1vbnRoTW92ZS5tb250aFZpZXcuY29udGFpbmVyKTtcblxuICAgIGlmIChiZWZvcmVHcmlkRWxlbWVudCkge1xuICAgICAgICBkb211dGlsLnJlbW92ZUNsYXNzKGJlZm9yZUdyaWRFbGVtZW50LCBjbGFzc05hbWUpO1xuICAgIH1cbn07XG5cbi8qKlxuICogRmlsbCBiYWNrZ3JvdW5kIGNvbG9yIG9mIGRhdGUgZ3JpZHMgcmVsYXRpZWQgd2l0aCBtb2RlbCB1cGRhdGVzLlxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdFdmVudCAtIGRyYWcgZXZlbnQgZGF0YSBmcm9tIE1vbnRoTW92ZUd1aWRlI19vbkRyYWdcbiAqL1xuTW9udGhNb3ZlR3VpZGUucHJvdG90eXBlLl91cGRhdGVHcmlkQmdDb2xvciA9IGZ1bmN0aW9uKGRyYWdFdmVudCkge1xuICAgIHZhciBncmlkRWxlbWVudHMgPSBkb211dGlsLmZpbmQoY29uZmlnLmNsYXNzbmFtZSgnLndlZWtkYXktZ3JpZC1saW5lJyksIHRoaXMubW9udGhNb3ZlLm1vbnRoVmlldy5jb250YWluZXIsIHRydWUpLFxuICAgICAgICBjbGFzc05hbWUgPSBjb25maWcuY2xhc3NuYW1lKCd3ZWVrZGF5LWZpbGxlZCcpLFxuICAgICAgICB0YXJnZXRJbmRleCA9IChkcmFnRXZlbnQueCArIChkcmFnRXZlbnQuc2l6ZVggKiBkcmFnRXZlbnQueSkpO1xuXG4gICAgdGhpcy5fY2xlYXJHcmlkQmdDb2xvcigpO1xuXG4gICAgaWYgKCFncmlkRWxlbWVudHMgfHwgIWdyaWRFbGVtZW50c1t0YXJnZXRJbmRleF0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRvbXV0aWwuYWRkQ2xhc3MoZ3JpZEVsZW1lbnRzW3RhcmdldEluZGV4XSwgY2xhc3NOYW1lKTtcbn07XG5cbi8qKlxuICogSGFuZGxlciBmb3IgTW9udGhNb3ZlI2RyYWdTdGFydFxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdTdGFydEV2ZW50IC0gZHJhZ1N0YXJ0IHNjaGVkdWxlIGRhdGEgb2JqZWN0XG4gKi9cbk1vbnRoTW92ZUd1aWRlLnByb3RvdHlwZS5fb25EcmFnU3RhcnQgPSBmdW5jdGlvbihkcmFnU3RhcnRFdmVudCkge1xuICAgIHZhciBtb250aFZpZXcgPSB0aGlzLm1vbnRoTW92ZS5tb250aFZpZXcsXG4gICAgICAgIGZpcnN0V2Vla2RheVZpZXcgPSBtb250aFZpZXcuY2hpbGRyZW4uc2luZ2xlKCksXG4gICAgICAgIHdlZWtkYXlPcHRpb25zID0gZmlyc3RXZWVrZGF5Vmlldy5vcHRpb25zLFxuICAgICAgICB3aWR0aFBlcmNlbnQgPSAxMDAgLyBmaXJzdFdlZWtkYXlWaWV3LmdldFJlbmRlckRhdGVSYW5nZSgpLmxlbmd0aCxcbiAgICAgICAgaGVpZ2h0ID0gd2Vla2RheU9wdGlvbnMuc2NoZWR1bGVHdXR0ZXIgKyB3ZWVrZGF5T3B0aW9ucy5zY2hlZHVsZUhlaWdodCxcbiAgICAgICAgY29udGFpbmVyID0gbW9udGhWaWV3LmNvbnRhaW5lcixcbiAgICAgICAgbW91c2VQb3MgPSBkb21ldmVudC5nZXRNb3VzZVBvc2l0aW9uKGRyYWdTdGFydEV2ZW50Lm9yaWdpbkV2ZW50LCBjb250YWluZXIpLFxuICAgICAgICBtb2RlbCA9IGRyYWdTdGFydEV2ZW50Lm1vZGVsLFxuICAgICAgICBsYXllciA9IG5ldyBGbG9hdGluZ0xheWVyKG51bGwsIGNvbnRhaW5lcik7XG5cbiAgICB0aGlzLl9oaWRlT3JpZ2luU2NoZWR1bGVCbG9ja3MobW9kZWwuY2lkKCkpO1xuXG4gICAgdGhpcy5sYXllciA9IGxheWVyO1xuICAgIGxheWVyLnNldFNpemUod2lkdGhQZXJjZW50ICsgJyUnLCBoZWlnaHQpO1xuICAgIGxheWVyLnNldFBvc2l0aW9uKG1vdXNlUG9zWzBdLCBtb3VzZVBvc1sxXSk7XG4gICAgbGF5ZXIuc2V0Q29udGVudCh0bXBsKHtcbiAgICAgICAgbW9kZWw6IHV0aWwuZXh0ZW5kKFxuICAgICAgICAgICAgU2NoZWR1bGUuY3JlYXRlKG1vZGVsKSxcbiAgICAgICAgICAgIG1vZGVsXG4gICAgICAgICksXG4gICAgICAgIHN0eWxlczoge1xuICAgICAgICAgICAgc2NoZWR1bGVIZWlnaHQ6IHdlZWtkYXlPcHRpb25zLnNjaGVkdWxlSGVpZ2h0LFxuICAgICAgICAgICAgc2NoZWR1bGVCdWxsZXRUb3A6IHdlZWtkYXlPcHRpb25zLnNjaGVkdWxlSGVpZ2h0IC8gMyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogbW9udGhWaWV3LmNvbnRyb2xsZXIudGhlbWUubW9udGguc2NoZWR1bGUuYm9yZGVyUmFkaXVzXG4gICAgICAgIH1cbiAgICB9KSk7XG4gICAgbGF5ZXIuc2hvdygpO1xuXG4gICAgaWYgKCF1dGlsLmJyb3dzZXIubXNpZSkge1xuICAgICAgICBkb211dGlsLmFkZENsYXNzKGdsb2JhbC5kb2N1bWVudC5ib2R5LCBjb25maWcuY2xhc3NuYW1lKCdkcmFnZ2luZycpKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZXIgZm9yIE1vbnRoTW92ZSNkcmFnXG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ0V2ZW50IC0gZHJhZyBldmVudCBkYXRhIG9iamVjdFxuICovXG5Nb250aE1vdmVHdWlkZS5wcm90b3R5cGUuX29uRHJhZyA9IGZ1bmN0aW9uKGRyYWdFdmVudCkge1xuICAgIHZhciBjb250YWluZXIgPSB0aGlzLm1vbnRoTW92ZS5tb250aFZpZXcuY29udGFpbmVyLFxuICAgICAgICBtb3VzZVBvcyA9IGRvbWV2ZW50LmdldE1vdXNlUG9zaXRpb24oXG4gICAgICAgICAgICBkcmFnRXZlbnQub3JpZ2luRXZlbnQsXG4gICAgICAgICAgICBjb250YWluZXJcbiAgICAgICAgKTtcblxuICAgIHRoaXMuX3VwZGF0ZUdyaWRCZ0NvbG9yKGRyYWdFdmVudCk7XG5cbiAgICBpZiAoIXRoaXMubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubGF5ZXIuc2V0UG9zaXRpb24obW91c2VQb3NbMF0sIG1vdXNlUG9zWzFdKTtcbn07XG5cbi8qKlxuICogSGFuZGxlciBmb3IgTW9udGhNb3ZlI2RyYWdFbmRcbiAqL1xuTW9udGhNb3ZlR3VpZGUucHJvdG90eXBlLl9vbkRyYWdFbmQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9zaG93T3JpZ2luU2NoZWR1bGVCbG9ja3MoKTtcblxuICAgIGlmICghdXRpbC5icm93c2VyLm1zaWUpIHtcbiAgICAgICAgZG9tdXRpbC5yZW1vdmVDbGFzcyhnbG9iYWwuZG9jdW1lbnQuYm9keSwgY29uZmlnLmNsYXNzbmFtZSgnZHJhZ2dpbmcnKSk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2xlYXJHcmlkQmdDb2xvcigpO1xuICAgIHRoaXMubGF5ZXIuZGVzdHJveSgpO1xuICAgIHRoaXMubGF5ZXIgPSBudWxsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb250aE1vdmVHdWlkZTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMgKi8gXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCIpKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9yZXNpemUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvaGFuZGxlci9tb250aC9yZXNpemUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgTW9kdWxlIGZvciByZXNpemUgc2NoZWR1bGUgaW4gbW9udGggdmlld1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xuXG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpLFxuICAgIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpLFxuICAgIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpLFxuICAgIGdldE1vdXNlUG9zRGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29yZSAqLyBcIi4vc3JjL2pzL2hhbmRsZXIvbW9udGgvY29yZS5qc1wiKSxcbiAgICBNb250aFJlc2l6ZUd1aWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9yZXNpemVHdWlkZSAqLyBcIi4vc3JjL2pzL2hhbmRsZXIvbW9udGgvcmVzaXplR3VpZGUuanNcIiksXG4gICAgVFpEYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpLkRhdGU7XG5cbnZhciBjb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vY29tbW9uICovIFwiLi9zcmMvanMvY29tbW9uL2NvbW1vbi5qc1wiKTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7RHJhZ30gZHJhZ0hhbmRsZXIgLSBEcmFnIGhhbmRsZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge01vbnRofSBtb250aFZpZXcgLSBNb250aCB2aWV3IGluc3RhbmNlLlxuICogQHBhcmFtIHtCYXNlfSBiYXNlQ29udHJvbGxlciAtIEJhc2UgY29udHJvbGxlciBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gTW9udGhSZXNpemUoZHJhZ0hhbmRsZXIsIG1vbnRoVmlldywgYmFzZUNvbnRyb2xsZXIpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RHJhZ31cbiAgICAgKi9cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gZHJhZ0hhbmRsZXI7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TW9udGh9XG4gICAgICovXG4gICAgdGhpcy5tb250aFZpZXcgPSBtb250aFZpZXc7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QmFzZX1cbiAgICAgKi9cbiAgICB0aGlzLmJhc2VDb250cm9sbGVyID0gYmFzZUNvbnRyb2xsZXI7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5nZXRTY2hlZHVsZURhdGEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLl9jYWNoZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TW9udGhSZXNpemVHdWlkZX1cbiAgICAgKi9cbiAgICB0aGlzLmd1aWRlID0gbmV3IE1vbnRoUmVzaXplR3VpZGUodGhpcyk7XG5cbiAgICBkcmFnSGFuZGxlci5vbignZHJhZ1N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQsIHRoaXMpO1xufVxuXG4vKipcbiAqIERlc3RydWN0b3JcbiAqL1xuTW9udGhSZXNpemUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih0aGlzKTtcblxuICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSB0aGlzLm1vbnRoVmlldyA9IHRoaXMuYmFzZUNvbnRyb2xsZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBGaXJlIGV2ZW50IGZvciB1cGRhdGUgbW9kZWxcbiAqIEBmaXJlcyB7TW9udGhSZXNpemUjYmVmb3JlVXBkYXRlU2NoZWR1bGV9XG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZWR1bGVDYWNoZSAtIGNhY2hlIG9iamVjdCB0aGF0IHJlc3VsdCBvZiBzaW5nbGUgZHJhZ2dpbmdcbiAqICBzZXNzaW9uLlxuICovXG5Nb250aFJlc2l6ZS5wcm90b3R5cGUuX3VwZGF0ZVNjaGVkdWxlID0gZnVuY3Rpb24oc2NoZWR1bGVDYWNoZSkge1xuICAgIC8vIFlvdSBjYW4gbm90IGNoYW5nZSB0aGUgc3RhcnQgZGF0ZSBvZiB0aGUgZXZlbnQuIE9ubHkgdGhlIGVuZCB0aW1lIGNhbiBiZSBjaGFuZ2VkLlxuICAgIHZhciBuZXdFbmQgPSBkYXRldGltZS5lbmQobmV3IFRaRGF0ZShzY2hlZHVsZUNhY2hlLmVuZCkpLFxuICAgICAgICBzY2hlZHVsZSA9IHNjaGVkdWxlQ2FjaGUuc2NoZWR1bGU7XG4gICAgdmFyIGNoYW5nZXMgPSBjb21tb24uZ2V0U2NoZWR1bGVDaGFuZ2VzKFxuICAgICAgICBzY2hlZHVsZSxcbiAgICAgICAgWydlbmQnXSxcbiAgICAgICAge2VuZDogbmV3RW5kfVxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgTW9udGhSZXNpemUjYmVmb3JlVXBkYXRlU2NoZWR1bGVcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7U2NoZWR1bGV9IHNjaGVkdWxlIC0gVGhlIG9yaWdpbmFsIHNjaGVkdWxlIGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtEYXRlfSBzdGFydCAtIERlcHJlY2F0ZWQ6IHN0YXJ0IHRpbWUgdG8gdXBkYXRlXG4gICAgICogQHByb3BlcnR5IHtEYXRlfSBlbmQgLSBEZXByZWNhdGVkOiBlbmQgdGltZSB0byB1cGRhdGVcbiAgICAgKiBAcHJvcGVydHkge29iamVjdH0gY2hhbmdlcyAtIGVuZCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqICBAcHJvcGVydHkge2RhdGV9IGVuZCAtIGVuZCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnYmVmb3JlVXBkYXRlU2NoZWR1bGUnLCB7XG4gICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZSxcbiAgICAgICAgY2hhbmdlczogY2hhbmdlcyxcbiAgICAgICAgc3RhcnQ6IG5ldyBUWkRhdGUoc2NoZWR1bGUuZ2V0U3RhcnRzKCkpLFxuICAgICAgICBlbmQ6IG5ld0VuZFxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIGZvciBEcmFnI2RyYWdTdGFydFxuICogQGZpcmVzIHtNb250aFJlc2l6ZSNtb250aFJlc2l6ZURyYWdzdGFydH1cbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnU3RhcnRFdmVudCAtIGRyYWcgc3RhcnQgZXZlbnQgZGF0YVxuICovXG5Nb250aFJlc2l6ZS5wcm90b3R5cGUuX29uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZHJhZ1N0YXJ0RXZlbnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZHJhZ1N0YXJ0RXZlbnQudGFyZ2V0LFxuICAgICAgICBtb2RlbElELCBzY2hlZHVsZSxcbiAgICAgICAgc2NoZWR1bGVEYXRhO1xuXG4gICAgaWYgKCFkb211dGlsLmhhc0NsYXNzKHRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1yZXNpemUtaGFuZGxlJykpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheS1zY2hlZHVsZS1ibG9jaycpKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtb2RlbElEID0gZG9tdXRpbC5nZXREYXRhKHRhcmdldCwgJ2lkJyk7XG4gICAgc2NoZWR1bGUgPSB0aGlzLmJhc2VDb250cm9sbGVyLnNjaGVkdWxlcy5pdGVtc1ttb2RlbElEXTtcblxuICAgIHRoaXMuZHJhZ0hhbmRsZXIub24oe1xuICAgICAgICBkcmFnOiB0aGlzLl9vbkRyYWcsXG4gICAgICAgIGRyYWdFbmQ6IHRoaXMuX29uRHJhZ0VuZFxuICAgIH0sIHRoaXMpO1xuXG4gICAgdGhpcy5nZXRTY2hlZHVsZURhdGEgPSBnZXRNb3VzZVBvc0RhdGEodGhpcy5tb250aFZpZXcpO1xuICAgIHNjaGVkdWxlRGF0YSA9IHRoaXMuZ2V0U2NoZWR1bGVEYXRhKGRyYWdTdGFydEV2ZW50Lm9yaWdpbkV2ZW50KTtcbiAgICBzY2hlZHVsZURhdGEudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHNjaGVkdWxlRGF0YS5tb2RlbCA9IHNjaGVkdWxlO1xuXG4gICAgdGhpcy5fY2FjaGUgPSB7XG4gICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZSxcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgIHN0YXJ0OiBuZXcgVFpEYXRlKHNjaGVkdWxlRGF0YS5kYXRlKVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQge01vbnRoQ3JlYXRpb24jbW9udGhSZXNpemVEcmFnc3RhcnR9XG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geCAtIHggaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geSAtIHkgaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IGRhdGUgLSBkcmFnIGRhdGVcbiAgICAgKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSB0YXJnZXQgLSBzY2hlZHVsZSBibG9jayBlbGVtZW50XG4gICAgICogQHByb3BlcnR5IHtTY2hlZHVsZX0gbW9kZWwgLSBtb2RlbCBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnbW9udGhSZXNpemVEcmFnc3RhcnQnLCBzY2hlZHVsZURhdGEpO1xufTtcblxuLyoqXG4gKiBAZmlyZXMge01vbnRoUmVzaXplI21vbnRoUmVzaXplRHJhZ31cbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRXZlbnQgLSBkcmFnIGV2ZW50IGRhdGFcbiAqL1xuTW9udGhSZXNpemUucHJvdG90eXBlLl9vbkRyYWcgPSBmdW5jdGlvbihkcmFnRXZlbnQpIHtcbiAgICB2YXIgc2NoZWR1bGVEYXRhO1xuXG4gICAgaWYgKCF0aGlzLmdldFNjaGVkdWxlRGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2NoZWR1bGVEYXRhID0gdGhpcy5nZXRTY2hlZHVsZURhdGEoZHJhZ0V2ZW50Lm9yaWdpbkV2ZW50KTtcblxuICAgIGlmICghc2NoZWR1bGVEYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQge01vbnRoUmVzaXplI21vbnRoUmVzaXplRHJhZ31cbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4IC0geCBpbmRleFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5IC0geSBpbmRleFxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gZGF0ZSAtIGRyYWcgZGF0ZVxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnbW9udGhSZXNpemVEcmFnJywgc2NoZWR1bGVEYXRhKTtcbn07XG5cbi8qKlxuICogQGZpcmVzIHtNb250aFJlc2l6ZSNtb250aFJlc2l6ZURyYWdlbmR9XG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ0VuZEV2ZW50IC0gZHJhZyBlbmQgZXZlbnQgZGF0YVxuICovXG5Nb250aFJlc2l6ZS5wcm90b3R5cGUuX29uRHJhZ0VuZCA9IGZ1bmN0aW9uKGRyYWdFbmRFdmVudCkge1xuICAgIHZhciBjYWNoZSA9IHRoaXMuX2NhY2hlO1xuICAgIHZhciBzY2hlZHVsZURhdGE7XG4gICAgdmFyIHN0YXJ0LCBlbmQ7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih7XG4gICAgICAgIGRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgZHJhZ0VuZDogdGhpcy5fb25EcmFnRW5kXG4gICAgfSwgdGhpcyk7XG5cbiAgICBpZiAoIXRoaXMuZ2V0U2NoZWR1bGVEYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY2hlZHVsZURhdGEgPSB0aGlzLmdldFNjaGVkdWxlRGF0YShkcmFnRW5kRXZlbnQub3JpZ2luRXZlbnQpO1xuXG4gICAgaWYgKHNjaGVkdWxlRGF0YSkge1xuICAgICAgICBzdGFydCA9IG5ldyBUWkRhdGUoY2FjaGUuc2NoZWR1bGUuZ2V0U3RhcnRzKCkpO1xuICAgICAgICBlbmQgPSBuZXcgVFpEYXRlKHNjaGVkdWxlRGF0YS5kYXRlKTtcbiAgICAgICAgY2FjaGUuZW5kID0gZW5kO1xuXG4gICAgICAgIGlmIChzdGFydCA8PSBjYWNoZS5lbmQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNjaGVkdWxlKGNhY2hlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBldmVudCB7TW9udGhSZXNpemUjbW9udGhSZXNpemVEcmFnZW5kfVxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHggLSB4IGluZGV4XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHkgLSB5IGluZGV4XG4gICAgICogQHByb3BlcnR5IHtEYXRlfSBkYXRlIC0gZHJhZyBkYXRlXG4gICAgICovXG4gICAgdGhpcy5maXJlKCdtb250aFJlc2l6ZURyYWdlbmQnLCBzY2hlZHVsZURhdGEpO1xuXG4gICAgdGhpcy5nZXRTY2hlZHVsZURhdGEgPSB0aGlzLl9jYWNoZSA9IG51bGw7XG59O1xuXG51dGlsLkN1c3RvbUV2ZW50cy5taXhpbihNb250aFJlc2l6ZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTW9udGhSZXNpemU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvaGFuZGxlci9tb250aC9yZXNpemVHdWlkZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvbW9udGgvcmVzaXplR3VpZGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIEBmaWxlb3ZlcnZpZXcgTW9kdWxlIGZvciBtb2RpZmljYXRpb24gb2YgZ3VpZGUgZWxlbWVudCBpbiBzY2hlZHVsZSByZXNpemVcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcblxudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKSxcbiAgICBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKSxcbiAgICBNb250aEd1aWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ndWlkZSAqLyBcIi4vc3JjL2pzL2hhbmRsZXIvbW9udGgvZ3VpZGUuanNcIik7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge01vbnRoUmVzaXplfSBtb250aFJlc2l6ZSAtIG1vbnRoL3Jlc2l6ZSBtb2R1bGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gTW9udGhSZXNpemVHdWlkZShtb250aFJlc2l6ZSkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNb250aFJlc2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLm1vbnRoUmVzaXplID0gbW9udGhSZXNpemU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnRbXX1cbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnRzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNb250aEd1aWRlfVxuICAgICAqL1xuICAgIHRoaXMuZ3VpZGUgPSBudWxsO1xuXG4gICAgbW9udGhSZXNpemUub24oe1xuICAgICAgICBtb250aFJlc2l6ZURyYWdzdGFydDogdGhpcy5fb25EcmFnU3RhcnQsXG4gICAgICAgIG1vbnRoUmVzaXplRHJhZzogdGhpcy5fb25EcmFnLFxuICAgICAgICBtb250aFJlc2l6ZURyYWdlbmQ6IHRoaXMuX29uRHJhZ0VuZFxuICAgIH0sIHRoaXMpO1xufVxuXG4vKipcbiAqIERlc3RydWN0b3JcbiAqL1xuTW9udGhSZXNpemVHdWlkZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubW9udGhSZXNpemUub2ZmKHRoaXMpO1xuICAgIHRoaXMuZ3VpZGUuZGVzdHJveSgpO1xuXG4gICAgdGhpcy5ndWlkZSA9IHRoaXMubW9udGhSZXNpemUgPSBudWxsO1xufTtcblxuLyoqXG4gKiBIaWRlIGVsZW1lbnQgYmxvY2tzIGZvciByZXNpemUgZWZmZWN0XG4gKiBAcGFyYW0ge251bWJlcn0gbW9kZWxJRCAtIFNjaGVkdWxlIG1vZGVsIGluc3RhbmNlIElEXG4gKi9cbk1vbnRoUmVzaXplR3VpZGUucHJvdG90eXBlLl9oaWRlU2NoZWR1bGVCbG9ja3MgPSBmdW5jdGlvbihtb2RlbElEKSB7XG4gICAgdGhpcy5lbGVtZW50cyA9IGRvbXV0aWwuZmluZChcbiAgICAgICAgY29uZmlnLmNsYXNzbmFtZSgnLndlZWtkYXktc2NoZWR1bGUtYmxvY2stJyArIG1vZGVsSUQpLFxuICAgICAgICB0aGlzLm1vbnRoUmVzaXplLm1vbnRoVmlldy5jb250YWluZXIsXG4gICAgICAgIHRydWVcbiAgICApO1xuXG4gICAgdXRpbC5mb3JFYWNoKHRoaXMuZWxlbWVudHMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFNob3cgZWxlbWVudCBibG9ja3NcbiAqL1xuTW9udGhSZXNpemVHdWlkZS5wcm90b3R5cGUuX3Nob3dTY2hlZHVsZUJsb2NrcyA9IGZ1bmN0aW9uKCkge1xuICAgIHV0aWwuZm9yRWFjaCh0aGlzLmVsZW1lbnRzLCBmdW5jdGlvbihlbCkge1xuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9KTtcbn07XG5cbi8qKlxuICogRHJhZyBzdGFydCBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ1N0YXJ0RXZlbnQgLSBzY2hlZHVsZSBkYXRhIGZyb20gTW9udGhSZXNpemVcbiAqL1xuTW9udGhSZXNpemVHdWlkZS5wcm90b3R5cGUuX29uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZHJhZ1N0YXJ0RXZlbnQpIHtcbiAgICB0aGlzLmd1aWRlID0gbmV3IE1vbnRoR3VpZGUoe1xuICAgICAgICBpc1Jlc2l6ZU1vZGU6IHRydWVcbiAgICB9LCB0aGlzLm1vbnRoUmVzaXplLm1vbnRoVmlldyk7XG5cbiAgICB0aGlzLmd1aWRlLnN0YXJ0KGRyYWdTdGFydEV2ZW50KTtcblxuICAgIHRoaXMuX2hpZGVTY2hlZHVsZUJsb2NrcyhkcmFnU3RhcnRFdmVudC5tb2RlbC5jaWQoKSk7XG5cbiAgICBpZiAoIXV0aWwuYnJvd3Nlci5tc2llKSB7XG4gICAgICAgIGRvbXV0aWwuYWRkQ2xhc3MoZ2xvYmFsLmRvY3VtZW50LmJvZHksIGNvbmZpZy5jbGFzc25hbWUoJ3Jlc2l6aW5nLXgnKSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBEcmFnIGV2ZW50IGhhbmRsZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRXZlbnQgLSBldmVudCBkYXRhIGZyb20gTW9udGhDcmVhdGlvblxuICovXG5Nb250aFJlc2l6ZUd1aWRlLnByb3RvdHlwZS5fb25EcmFnID0gZnVuY3Rpb24oZHJhZ0V2ZW50KSB7XG4gICAgdGhpcy5ndWlkZS51cGRhdGUoZHJhZ0V2ZW50LngsIGRyYWdFdmVudC55KTtcbn07XG5cbi8qKlxuICogRHJhZyBlbmQgZXZlbnQgaGFuZGxlclxuICovXG5Nb250aFJlc2l6ZUd1aWRlLnByb3RvdHlwZS5fb25EcmFnRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fc2hvd1NjaGVkdWxlQmxvY2tzKCk7XG5cbiAgICB0aGlzLmd1aWRlLmRlc3Ryb3koKTtcbiAgICB0aGlzLmVsZW1lbnRzID0gdGhpcy5ndWlkZSA9IG51bGw7XG5cbiAgICBpZiAoIXV0aWwuYnJvd3Nlci5tc2llKSB7XG4gICAgICAgIGRvbXV0aWwucmVtb3ZlQ2xhc3MoZ2xvYmFsLmRvY3VtZW50LmJvZHksIGNvbmZpZy5jbGFzc25hbWUoJ3Jlc2l6aW5nLXgnKSk7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb250aFJlc2l6ZUd1aWRlO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanNcIikpKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9oYW5kbGVyL3RpbWUvY2xpY2suanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvdGltZS9jbGljay5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQWxsZGF5IGV2ZW50IGNsaWNrIGV2ZW50IGhhbmRlciBtb2R1bGVcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIik7XG52YXIgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIik7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAaW1wbGVtZW50cyB7SGFuZGxlcn1cbiAqIEBtaXhlcyB1dGlsLkN1c3RvbUV2ZW50c1xuICogQHBhcmFtIHtEcmFnfSBbZHJhZ0hhbmRsZXJdIC0gRHJhZyBoYW5kbGVyIGluc3RhbmNlLlxuICogQHBhcmFtIHtUaW1lR3JpZH0gW3RpbWVHcmlkVmlld10gLSBUaW1lR3JpZCB2aWV3IGluc3RhbmNlLlxuICogQHBhcmFtIHtCYXNlfSBbYmFzZUNvbnRyb2xsZXJdIC0gQmFzZSBjb250cm9sbGVyIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBUaW1lQ2xpY2soZHJhZ0hhbmRsZXIsIHRpbWVHcmlkVmlldywgYmFzZUNvbnRyb2xsZXIpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RHJhZ31cbiAgICAgKi9cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gZHJhZ0hhbmRsZXI7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VGltZUdyaWR9XG4gICAgICovXG4gICAgdGhpcy50aW1lR3JpZFZpZXcgPSB0aW1lR3JpZFZpZXc7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QmFzZX1cbiAgICAgKi9cbiAgICB0aGlzLmJhc2VDb250cm9sbGVyID0gYmFzZUNvbnRyb2xsZXI7XG5cbiAgICBkcmFnSGFuZGxlci5vbih7XG4gICAgICAgICdjbGljayc6IHRoaXMuX29uQ2xpY2tcbiAgICB9LCB0aGlzKTtcbn1cblxuLyoqXG4gKiBEZXN0cm95IG1ldGhvZFxuICovXG5UaW1lQ2xpY2sucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih0aGlzKTtcbiAgICB0aGlzLnRpbWVHcmlkVmlldyA9IHRoaXMuYmFzZUNvbnRyb2xsZXIgPSB0aGlzLmRyYWdIYW5kbGVyID0gbnVsbDtcbn07XG5cbi8qKlxuICogQ2hlY2sgdGFyZ2V0IGVsZW1lbnQgaXMgZXhwZWN0ZWQgY29uZGl0aW9uIGZvciBhY3RpdmF0ZSB0aGlzIHBsdWdpbnMuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgLSBUaGUgZWxlbWVudCB0byBjaGVja1xuICogQHJldHVybnMge3N0cmluZ30gLSBtb2RlbCBpZFxuICovXG5UaW1lQ2xpY2sucHJvdG90eXBlLmNoZWNrRXhwZWN0Q29uZGl0aW9uID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgdmFyIGNvbnRhaW5lcixcbiAgICAgICAgbWF0Y2hlcztcblxuICAgIGNvbnRhaW5lciA9IGRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsIGNvbmZpZy5jbGFzc25hbWUoJy50aW1lLWRhdGUnKSk7XG5cbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbWF0Y2hlcyA9IGRvbXV0aWwuZ2V0Q2xhc3MoY29udGFpbmVyKS5tYXRjaChjb25maWcudGltZS5nZXRWaWV3SURSZWdFeHApO1xuXG4gICAgaWYgKCFtYXRjaGVzIHx8IG1hdGNoZXMubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWwucGljayh0aGlzLnRpbWVHcmlkVmlldy5jaGlsZHJlbi5pdGVtcywgTnVtYmVyKG1hdGNoZXNbMV0pKTtcbn07XG5cbi8qKlxuICogQ2xpY2sgZXZlbnQgaGFuZGVyXG4gKiBAcGFyYW0ge29iamVjdH0gY2xpY2tFdmVudCAtIGNsaWNrIGV2ZW50IGZyb20ge0BsaW5rIERyYWd9XG4gKiBAZW1pdHMgVGltZUNsaWNrI2NsaWNrRXZlbnRcbiAqL1xuVGltZUNsaWNrLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uKGNsaWNrRXZlbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHRhcmdldCA9IGNsaWNrRXZlbnQudGFyZ2V0LFxuICAgICAgICB0aW1lVmlldyA9IHRoaXMuY2hlY2tFeHBlY3RDb25kaXRpb24odGFyZ2V0KSxcbiAgICAgICAgYmxvY2tFbGVtZW50ID0gZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnLnRpbWUtZGF0ZS1zY2hlZHVsZS1ibG9jaycpKSxcbiAgICAgICAgc2NoZWR1bGVzQ29sbGVjdGlvbiA9IHRoaXMuYmFzZUNvbnRyb2xsZXIuc2NoZWR1bGVzO1xuXG4gICAgaWYgKCF0aW1lVmlldyB8fCAhYmxvY2tFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY2hlZHVsZXNDb2xsZWN0aW9uLmRvV2hlbkhhcyhkb211dGlsLmdldERhdGEoYmxvY2tFbGVtZW50LCAnaWQnKSwgZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudHMgVGltZUNsaWNrI2NsaWNrU2NoZWR1bGVcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtTY2hlZHVsZX0gc2NoZWR1bGUgLSBzY2hlZHVsZSBpbnN0YW5jZVxuICAgICAgICAgKiBAcHJvcGVydHkge01vdXNlRXZlbnR9IGV2ZW50IC0gTW91c2VFdmVudCBvYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIHNlbGYuZmlyZSgnY2xpY2tTY2hlZHVsZScsIHtcbiAgICAgICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZSxcbiAgICAgICAgICAgIGV2ZW50OiBjbGlja0V2ZW50Lm9yaWdpbkV2ZW50XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxudXRpbC5DdXN0b21FdmVudHMubWl4aW4oVGltZUNsaWNrKTtcblxubW9kdWxlLmV4cG9ydHMgPSBUaW1lQ2xpY2s7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvaGFuZGxlci90aW1lL2NsaWNrRGF5bmFtZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvdGltZS9jbGlja0RheW5hbWUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBEYXluYW1lIGNsaWNrIGV2ZW50IGhhbmRlciBtb2R1bGVcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIik7XG52YXIgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIik7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAaW1wbGVtZW50cyB7SGFuZGxlcn1cbiAqIEBtaXhlcyB1dGlsLkN1c3RvbUV2ZW50c1xuICogQHBhcmFtIHtEcmFnfSBbZHJhZ0hhbmRsZXJdIC0gRHJhZyBoYW5kbGVyIGluc3RhbmNlLlxuICogQHBhcmFtIHtEYXlOYW1lfSBbZGF5TmFtZVZpZXddIC0gRGF5TmFtZSB2aWV3IGluc3RhbmNlLlxuICogQHBhcmFtIHtCYXNlfSBbYmFzZUNvbnRyb2xsZXJdIC0gQmFzZSBjb250cm9sbGVyIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBEYXlOYW1lQ2xpY2soZHJhZ0hhbmRsZXIsIGRheU5hbWVWaWV3LCBiYXNlQ29udHJvbGxlcikge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEcmFnfVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSBkcmFnSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEYXlOYW1lfVxuICAgICAqL1xuICAgIHRoaXMuZGF5TmFtZVZpZXcgPSBkYXlOYW1lVmlldztcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCYXNlfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZUNvbnRyb2xsZXIgPSBiYXNlQ29udHJvbGxlcjtcblxuICAgIGRyYWdIYW5kbGVyLm9uKHtcbiAgICAgICAgJ2NsaWNrJzogdGhpcy5fb25DbGlja1xuICAgIH0sIHRoaXMpO1xufVxuXG4vKipcbiAqIERlc3Ryb3kgbWV0aG9kXG4gKi9cbkRheU5hbWVDbGljay5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIub2ZmKHRoaXMpO1xuICAgIHRoaXMuZGF5TmFtZVZpZXcgPSB0aGlzLmJhc2VDb250cm9sbGVyID0gdGhpcy5kcmFnSGFuZGxlciA9IG51bGw7XG59O1xuXG4vKipcbiAqIENoZWNrIHRhcmdldCBlbGVtZW50IGlzIGV4cGVjdGVkIGNvbmRpdGlvbiBmb3IgYWN0aXZhdGUgdGhpcyBwbHVnaW5zLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gVGhlIGVsZW1lbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gbW9kZWwgaWRcbiAqL1xuRGF5TmFtZUNsaWNrLnByb3RvdHlwZS5jaGVja0V4cGVjdENvbmRpdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBjb250YWluZXIgPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcuZGF5bmFtZS1kYXRlLWFyZWEnKSk7XG5cbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIENsaWNrIGV2ZW50IGhhbmRlclxuICogQHBhcmFtIHtvYmplY3R9IGNsaWNrRXZlbnQgLSBjbGljayBldmVudCBmcm9tIHtAbGluayBEcmFnfVxuICogQGVtaXRzIERheU5hbWVDbGljayNjbGlja0RheW5hbWVcbiAqL1xuRGF5TmFtZUNsaWNrLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uKGNsaWNrRXZlbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHRhcmdldCA9IGNsaWNrRXZlbnQudGFyZ2V0LFxuICAgICAgICBkYXluYW1lVmlldyA9IHRoaXMuY2hlY2tFeHBlY3RDb25kaXRpb24odGFyZ2V0KSxcbiAgICAgICAgYmxvY2tFbGVtZW50ID0gZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnLmRheW5hbWUnKSk7XG5cbiAgICBpZiAoIWRheW5hbWVWaWV3IHx8ICFibG9ja0VsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBldmVudHMgRGF5TmFtZUNsaWNrI2NsaWNrRGF5bmFtZVxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGRhdGUgLSBjbGljayBkYXRlXG4gICAgICovXG4gICAgc2VsZi5maXJlKCdjbGlja0RheW5hbWUnLCB7XG4gICAgICAgIGRhdGU6IGRvbXV0aWwuZ2V0RGF0YShibG9ja0VsZW1lbnQsICdkYXRlJylcbiAgICB9KTtcbn07XG5cbnV0aWwuQ3VzdG9tRXZlbnRzLm1peGluKERheU5hbWVDbGljayk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF5TmFtZUNsaWNrO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2hhbmRsZXIvdGltZS9jb3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvdGltZS9jb3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENvcmUgbWV0aG9kcyBmb3IgZHJhZ2dpbmcgYWN0aW9uc1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9jb21tb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29tbW9uLmpzXCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIGRvbWV2ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbWV2ZW50ICovIFwiLi9zcmMvanMvY29tbW9uL2RvbWV2ZW50LmpzXCIpO1xudmFyIFBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3BvaW50ICovIFwiLi9zcmMvanMvY29tbW9uL3BvaW50LmpzXCIpO1xudmFyIFRaRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlO1xuXG4vKipcbiAqIEBtaXhpbiBUaW1lLkNvcmVcbiAqL1xudmFyIHRpbWVDb3JlID0ge1xuICAgIC8qKlxuICAgICAqIEdldCBZIGluZGV4IHJhdGlvKGhvdXIpIGluIHRpbWUgZ3JpZHMgYnkgc3VwcGxpZWQgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmFzZU1pbCAtIGJhc2UgbWlsbGlzZWNvbmRzIG51bWJlciBmb3Igc3VwcGxpZWQgaGVpZ2h0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBjb250YWluZXIgZWxlbWVudCBoZWlnaHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZIGNvb3JkaW5hdGUgdG8gY2FsY3VsYXRlIGhvdXIgcmF0aW8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gaG91ciBpbmRleCByYXRpbyB2YWx1ZS5cbiAgICAgKi9cbiAgICBfY2FsY0dyaWRZSW5kZXg6IGZ1bmN0aW9uKGJhc2VNaWwsIGhlaWdodCwgeSkge1xuICAgICAgICAvLyBnZXQgcmF0aW8gZnJvbSByaWdodCBleHByZXNzaW9uID4gcG9pbnQueSA6IHggPSBzZXNzaW9uLmhlaWdodCA6IGJhc2VNaWxcbiAgICAgICAgLy8gYW5kIGNvbnZlcnQgbWlsbGlzZWNvbmRzIHZhbHVlIHRvIGhvdXJzLlxuICAgICAgICB2YXIgcmVzdWx0ID0gZGF0ZXRpbWUubWlsbGlzZWNvbmRzVG8oJ2hvdXInLCAoeSAqIGJhc2VNaWwpIC8gaGVpZ2h0KSxcbiAgICAgICAgICAgIGZsb29yZWQgPSByZXN1bHQgfCAwLFxuICAgICAgICAgICAgbmVhcmVzdCA9IGNvbW1vbi5uZWFyZXN0KHJlc3VsdCAtIGZsb29yZWQsIFswLCAxXSk7XG5cbiAgICAgICAgcmV0dXJuIGZsb29yZWQgKyAobmVhcmVzdCA/IDAuNSA6IDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgZnVuY3Rpb24gdG8gbWFrZXMgZXZlbnQgZGF0YSBmcm9tIFRpbWUgYW5kIG1vdXNlRXZlbnRcbiAgICAgKiBAcGFyYW0ge1RpbWV9IHRpbWVWaWV3IC0gSW5zdGFuY2Ugb2YgdGltZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbn0gLSBGdW5jdGlvbiB0aGF0IHJldHVybiBldmVudCBkYXRhIGZyb20gbW91c2UgZXZlbnQuXG4gICAgICovXG4gICAgX3JldHJpdmVTY2hlZHVsZURhdGE6IGZ1bmN0aW9uKHRpbWVWaWV3KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IHRpbWVWaWV3LmNvbnRhaW5lcixcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aW1lVmlldy5vcHRpb25zLFxuICAgICAgICAgICAgdmlld0hlaWdodCA9IHRpbWVWaWV3LmdldFZpZXdCb3VuZCgpLmhlaWdodCxcbiAgICAgICAgICAgIHZpZXdUaW1lID0gdGltZVZpZXcuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgaG91ckxlbmd0aCA9IG9wdGlvbnMuaG91ckVuZCAtIG9wdGlvbnMuaG91clN0YXJ0LFxuICAgICAgICAgICAgYmFzZU1pbCA9IGRhdGV0aW1lLm1pbGxpc2Vjb25kc0Zyb20oJ2hvdXInLCBob3VyTGVuZ3RoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gbW91c2UgZXZlbnQgb2JqZWN0IHRvIGdldCBjb21tb24gZXZlbnQgZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtleHRlbmRdIC0gb2JqZWN0IHRvIGV4dGVuZCBldmVudCBkYXRhIGJlZm9yZSByZXR1cm4uXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gY29tbW9uIGV2ZW50IGRhdGEgZm9yIHRpbWVcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihtb3VzZUV2ZW50LCBleHRlbmQpIHtcbiAgICAgICAgICAgIHZhciBtb3VzZVkgPSBQb2ludC5uKGRvbWV2ZW50LmdldE1vdXNlUG9zaXRpb24obW91c2VFdmVudCwgY29udGFpbmVyKSkueSxcbiAgICAgICAgICAgICAgICBncmlkWSA9IGNvbW1vbi5yYXRpbyh2aWV3SGVpZ2h0LCBob3VyTGVuZ3RoLCBtb3VzZVkpLFxuICAgICAgICAgICAgICAgIHRpbWVZID0gbmV3IFRaRGF0ZSh2aWV3VGltZSkuYWRkTWludXRlcyhkYXRldGltZS5taW51dGVzRnJvbUhvdXJzKGdyaWRZKSksXG4gICAgICAgICAgICAgICAgbmVhcmVzdEdyaWRZID0gc2VsZi5fY2FsY0dyaWRZSW5kZXgoYmFzZU1pbCwgdmlld0hlaWdodCwgbW91c2VZKSxcbiAgICAgICAgICAgICAgICBuZWFyZXN0R3JpZFRpbWVZID0gbmV3IFRaRGF0ZSh2aWV3VGltZSkuYWRkTWludXRlcyhcbiAgICAgICAgICAgICAgICAgICAgZGF0ZXRpbWUubWludXRlc0Zyb21Ib3VycyhuZWFyZXN0R3JpZFkgKyBvcHRpb25zLmhvdXJTdGFydClcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gdXRpbC5leHRlbmQoe1xuICAgICAgICAgICAgICAgIHRhcmdldDogZG9tZXZlbnQuZ2V0RXZlbnRUYXJnZXQobW91c2VFdmVudCksXG4gICAgICAgICAgICAgICAgcmVsYXRlZFZpZXc6IHRpbWVWaWV3LFxuICAgICAgICAgICAgICAgIG9yaWdpbkV2ZW50OiBtb3VzZUV2ZW50LFxuICAgICAgICAgICAgICAgIG1vdXNlWTogbW91c2VZLFxuICAgICAgICAgICAgICAgIGdyaWRZOiBncmlkWSxcbiAgICAgICAgICAgICAgICB0aW1lWTogdGltZVksXG4gICAgICAgICAgICAgICAgbmVhcmVzdEdyaWRZOiBuZWFyZXN0R3JpZFksXG4gICAgICAgICAgICAgICAgbmVhcmVzdEdyaWRUaW1lWTogbmVhcmVzdEdyaWRUaW1lWSxcbiAgICAgICAgICAgICAgICB0cmlnZ2VyRXZlbnQ6IG1vdXNlRXZlbnQudHlwZVxuICAgICAgICAgICAgfSwgZXh0ZW5kKTtcbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGZ1bmN0aW9uIHRvIG1ha2VzIGV2ZW50IGRhdGEgZnJvbSBUaW1lIGFuZCBtb3VzZUV2ZW50XG4gICAgICogQHBhcmFtIHtUaW1lfSB0aW1lVmlldyAtIEluc3RhbmNlIG9mIHRpbWUgdmlldy5cbiAgICAgKiBAcGFyYW0ge1RaRGF0ZX0gc3RhcnREYXRlIC0gc3RhcnQgZGF0ZVxuICAgICAqIEBwYXJhbSB7VFpEYXRlfSBlbmREYXRlIC0gZW5kIGRhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91clN0YXJ0IENhbiBsaW1pdCBvZiByZW5kZXIgaG91ciBzdGFydC5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIGNvbW1vbiBldmVudCBkYXRhIGZvciB0aW1lIGZyb20gbW91c2UgZXZlbnQuXG4gICAgICovXG4gICAgX3JldHJpdmVTY2hlZHVsZURhdGFGcm9tRGF0ZTogZnVuY3Rpb24odGltZVZpZXcsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgaG91clN0YXJ0KSB7XG4gICAgICAgIHZhciB2aWV3VGltZSA9IHRpbWVWaWV3LmdldERhdGUoKTtcbiAgICAgICAgdmFyIGdyaWRZLCB0aW1lWSwgbmVhcmVzdEdyaWRZLCBuZWFyZXN0R3JpZFRpbWVZLCBuZWFyZXN0R3JpZEVuZFksIG5lYXJlc3RHcmlkRW5kVGltZVk7XG5cbiAgICAgICAgZ3JpZFkgPSBzdGFydERhdGUuZ2V0SG91cnMoKSAtIGhvdXJTdGFydCArIGdldE5lYXJlc3RIb3VyKHN0YXJ0RGF0ZS5nZXRNaW51dGVzKCkpO1xuICAgICAgICB0aW1lWSA9IG5ldyBUWkRhdGUodmlld1RpbWUpLmFkZE1pbnV0ZXMoZGF0ZXRpbWUubWludXRlc0Zyb21Ib3VycyhncmlkWSkpO1xuICAgICAgICBuZWFyZXN0R3JpZFkgPSBncmlkWTtcbiAgICAgICAgbmVhcmVzdEdyaWRUaW1lWSA9IG5ldyBUWkRhdGUodmlld1RpbWUpLmFkZE1pbnV0ZXMoZGF0ZXRpbWUubWludXRlc0Zyb21Ib3VycyhuZWFyZXN0R3JpZFkpKTtcbiAgICAgICAgbmVhcmVzdEdyaWRFbmRZID0gZW5kRGF0ZS5nZXRIb3VycygpIC0gaG91clN0YXJ0ICsgZ2V0TmVhcmVzdEhvdXIoZW5kRGF0ZS5nZXRNaW51dGVzKCkpO1xuICAgICAgICBuZWFyZXN0R3JpZEVuZFRpbWVZID0gbmV3IFRaRGF0ZSh2aWV3VGltZSkuYWRkTWludXRlcyhkYXRldGltZS5taW51dGVzRnJvbUhvdXJzKG5lYXJlc3RHcmlkRW5kWSkpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0YXJnZXQ6IHRpbWVWaWV3LFxuICAgICAgICAgICAgcmVsYXRlZFZpZXc6IHRpbWVWaWV3LFxuICAgICAgICAgICAgZ3JpZFk6IGdyaWRZLFxuICAgICAgICAgICAgdGltZVk6IHRpbWVZLFxuICAgICAgICAgICAgbmVhcmVzdEdyaWRZOiBuZWFyZXN0R3JpZFksXG4gICAgICAgICAgICBuZWFyZXN0R3JpZFRpbWVZOiBuZWFyZXN0R3JpZFRpbWVZLFxuICAgICAgICAgICAgbmVhcmVzdEdyaWRFbmRZOiBuZWFyZXN0R3JpZEVuZFksXG4gICAgICAgICAgICBuZWFyZXN0R3JpZEVuZFRpbWVZOiBuZWFyZXN0R3JpZEVuZFRpbWVZLFxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50OiAnbWFudWFsJyxcbiAgICAgICAgICAgIGhvdXJTdGFydDogaG91clN0YXJ0XG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1peGluIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0geyhUaW1lQ3JlYXRpb258VGltZU1vdmUpfSBvYmogLSBDb25zdHJ1Y3RvciBmdW5jdGlvbnNcbiAgICAgKi9cbiAgICBtaXhpbjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBwcm90byA9IG9iai5wcm90b3R5cGU7XG4gICAgICAgIHV0aWwuZm9yRWFjaCh0aW1lQ29yZSwgZnVuY3Rpb24obWV0aG9kLCBtZXRob2ROYW1lKSB7XG4gICAgICAgICAgICBpZiAobWV0aG9kTmFtZSA9PT0gJ21peGluJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJvdG9bbWV0aG9kTmFtZV0gPSBtZXRob2Q7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogR2V0IHRoZSBuZWFyZXN0IGhvdXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW51dGVzIC0gbWludXRlc1xuICogQHJldHVybnMge251bWJlcn0gaG91clxuICovXG5mdW5jdGlvbiBnZXROZWFyZXN0SG91cihtaW51dGVzKSB7XG4gICAgdmFyIG5lYXJlc3RIb3VyO1xuICAgIGlmIChtaW51dGVzID09PSAwKSB7XG4gICAgICAgIG5lYXJlc3RIb3VyID0gMDtcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPiAzMCkge1xuICAgICAgICBuZWFyZXN0SG91ciA9IDE7XG4gICAgfSBlbHNlIGlmIChtaW51dGVzIDw9IDMwKSB7XG4gICAgICAgIG5lYXJlc3RIb3VyID0gMC41O1xuICAgIH1cblxuICAgIHJldHVybiBuZWFyZXN0SG91cjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0aW1lQ29yZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9oYW5kbGVyL3RpbWUvY3JlYXRpb24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvdGltZS9jcmVhdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgSGFuZGxpbmcgY3JlYXRpb24gZXZlbnRzIGZyb20gZHJhZyBoYW5kbGVyIGFuZCB0aW1lIGdyaWQgdmlld1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKTtcbnZhciBhcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9hcnJheSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9hcnJheS5qc1wiKTtcbnZhciBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciBkb21ldmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb21ldmVudCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb21ldmVudC5qc1wiKTtcbnZhciBjb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vY29tbW9uICovIFwiLi9zcmMvanMvY29tbW9uL2NvbW1vbi5qc1wiKTtcbnZhciBUaW1lQ3JlYXRpb25HdWlkZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY3JlYXRpb25HdWlkZSAqLyBcIi4vc3JjL2pzL2hhbmRsZXIvdGltZS9jcmVhdGlvbkd1aWRlLmpzXCIpO1xudmFyIFRaRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlO1xudmFyIHRpbWVDb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb3JlICovIFwiLi9zcmMvanMvaGFuZGxlci90aW1lL2NvcmUuanNcIik7XG5cbnZhciBDTElDS19ERUxBWSA9IDMwMDtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBpbXBsZW1lbnRzIHtIYW5kbGVyfVxuICogQG1peGVzIHRpbWVDb3JlXG4gKiBAbWl4ZXMgQ3VzdG9tRXZlbnRzXG4gKiBAcGFyYW0ge0RyYWd9IFtkcmFnSGFuZGxlcl0gLSBEcmFnIGhhbmRsZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge1RpbWVHcmlkfSBbdGltZUdyaWRWaWV3XSAtIFRpbWVHcmlkIHZpZXcgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0Jhc2V9IFtiYXNlQ29udHJvbGxlcl0gLSBCYXNlIGNvbnRyb2xsZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSAtIGNhbGVuZGFyIE9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gVGltZUNyZWF0aW9uKGRyYWdIYW5kbGVyLCB0aW1lR3JpZFZpZXcsIGJhc2VDb250cm9sbGVyLCBvcHRpb25zKSB7XG4gICAgLyoqXG4gICAgICogRHJhZyBoYW5kbGVyIGluc3RhbmNlLlxuICAgICAqIEB0eXBlIHtEcmFnfVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSBkcmFnSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIFRpbWVHcmlkIHZpZXcgaW5zdGFuY2UuXG4gICAgICogQHR5cGUge1RpbWVHcmlkfVxuICAgICAqL1xuICAgIHRoaXMudGltZUdyaWRWaWV3ID0gdGltZUdyaWRWaWV3O1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBjb250cm9sbGVyIGluc3RhbmNlLlxuICAgICAqIEB0eXBlIHtCYXNlfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZUNvbnRyb2xsZXIgPSBiYXNlQ29udHJvbGxlcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtUaW1lQ3JlYXRpb25HdWlkZX1cbiAgICAgKi9cbiAgICB0aGlzLmd1aWRlID0gbmV3IFRpbWVDcmVhdGlvbkd1aWRlKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogVGVtcG9yYXJ5IGZ1bmN0aW9uIGZvciBzaW5nbGUgZHJhZyBzZXNzaW9uJ3MgY2FsYy5cbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5fZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUZW1wb3JhcnkgZnVuY3Rpb24gZm9yIGRyYWcgc3RhcnQgZGF0YSBjYWNoZS5cbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuX2RyYWdTdGFydCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLl9yZXF1ZXN0T25DbGljayA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5fZGlzYWJsZURibENsaWNrID0gb3B0aW9ucy5kaXNhYmxlRGJsQ2xpY2s7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLl9kaXNhYmxlQ2xpY2sgPSBvcHRpb25zLmRpc2FibGVDbGljaztcblxuICAgIGRyYWdIYW5kbGVyLm9uKCdkcmFnU3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCwgdGhpcyk7XG4gICAgZHJhZ0hhbmRsZXIub24oJ2NsaWNrJywgdGhpcy5fb25DbGljaywgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5fZGlzYWJsZURibENsaWNrKSB7XG4gICAgICAgIENMSUNLX0RFTEFZID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb21ldmVudC5vbih0aW1lR3JpZFZpZXcuY29udGFpbmVyLCAnZGJsY2xpY2snLCB0aGlzLl9vbkRibENsaWNrLCB0aGlzKTtcbiAgICB9XG59XG5cbi8qKlxuICogRGVzdHJveSBtZXRob2RcbiAqL1xuVGltZUNyZWF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRpbWVHcmlkVmlldyA9IHRoaXMudGltZUdyaWRWaWV3O1xuXG4gICAgdGhpcy5ndWlkZS5kZXN0cm95KCk7XG4gICAgdGhpcy5kcmFnSGFuZGxlci5vZmYodGhpcyk7XG5cbiAgICBpZiAodGltZUdyaWRWaWV3ICYmIHRpbWVHcmlkVmlldy5jb250YWluZXIpIHtcbiAgICAgICAgZG9tZXZlbnQub2ZmKHRpbWVHcmlkVmlldy5jb250YWluZXIsICdkYmxjbGljaycsIHRoaXMuX29uRGJsQ2xpY2ssIHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSB0aGlzLnRpbWVHcmlkVmlldyA9IHRoaXMuYmFzZUNvbnRyb2xsZXIgPVxuICAgICAgICB0aGlzLl9nZXRTY2hlZHVsZURhdGFGdW5jID0gdGhpcy5fZHJhZ1N0YXJ0ID0gdGhpcy5ndWlkZSA9IG51bGw7XG59O1xuXG4vKipcbiAqIENoZWNrIHRhcmdldCBlbGVtZW50IGlzIGV4cGVjdGVkIGNvbmRpdGlvbiBmb3IgYWN0aXZhdGUgdGhpcyBwbHVnaW5zLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gVGhlIGVsZW1lbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHsoYm9vbGVhbnxUaW1lKX0gLSByZXR1cm4gVGltZSB2aWV3IGluc3RhbmNlIHdoZW4gc2F0aWF0ZSBjb25kaXRpb24uXG4gKi9cblRpbWVDcmVhdGlvbi5wcm90b3R5cGUuY2hlY2tFeHBlY3RlZENvbmRpdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBjc3NDbGFzcyA9IGRvbXV0aWwuZ2V0Q2xhc3ModGFyZ2V0KSxcbiAgICAgICAgbWF0Y2hlcztcblxuICAgIGlmIChjc3NDbGFzcyA9PT0gY29uZmlnLmNsYXNzbmFtZSgndGltZS1kYXRlLXNjaGVkdWxlLWJsb2NrLXdyYXAnKSkge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgICAgY3NzQ2xhc3MgPSBkb211dGlsLmdldENsYXNzKHRhcmdldCk7XG4gICAgfVxuXG4gICAgbWF0Y2hlcyA9IGNzc0NsYXNzLm1hdGNoKGNvbmZpZy50aW1lLmdldFZpZXdJRFJlZ0V4cCk7XG5cbiAgICBpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXRpbC5waWNrKHRoaXMudGltZUdyaWRWaWV3LmNoaWxkcmVuLml0ZW1zLCBtYXRjaGVzWzFdKTtcbn07XG5cbi8qKlxuICogRHJhZyNkcmFnU3RhcnQgZXZlbnQgaGFuZGxlci5cbiAqIEBlbWl0cyBUaW1lQ3JlYXRpb24jdGltZUNyZWF0aW9uRHJhZ3N0YXJ0XG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ1N0YXJ0RXZlbnREYXRhIC0gRHJhZyNkcmFnU3RhcnQgZXZlbnQgZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3ZlcnJpZGVFdmVudE5hbWVdIC0gb3ZlcnJpZGUgZW1pdHRlZCBldmVudCBuYW1lIHdoZW4gc3VwcGxpZWQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbcmV2aXNlXSAtIHN1cHBseSBmdW5jdGlvbiBmb3IgcmV2aXNlIGV2ZW50IGRhdGEgYmVmb3JlIGVtaXQuXG4gKi9cblRpbWVDcmVhdGlvbi5wcm90b3R5cGUuX29uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZHJhZ1N0YXJ0RXZlbnREYXRhLCBvdmVycmlkZUV2ZW50TmFtZSwgcmV2aXNlKSB7XG4gICAgdmFyIHRhcmdldCA9IGRyYWdTdGFydEV2ZW50RGF0YS50YXJnZXQsXG4gICAgICAgIHJlc3VsdCA9IHRoaXMuY2hlY2tFeHBlY3RlZENvbmRpdGlvbih0YXJnZXQpLFxuICAgICAgICBnZXRTY2hlZHVsZURhdGFGdW5jLFxuICAgICAgICBldmVudERhdGE7XG5cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuX2dldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLl9yZXRyaXZlU2NoZWR1bGVEYXRhKHJlc3VsdCk7XG4gICAgZXZlbnREYXRhID0gdGhpcy5fZHJhZ1N0YXJ0ID0gZ2V0U2NoZWR1bGVEYXRhRnVuYyhkcmFnU3RhcnRFdmVudERhdGEub3JpZ2luRXZlbnQpO1xuXG4gICAgaWYgKHJldmlzZSkge1xuICAgICAgICByZXZpc2UoZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9uKHtcbiAgICAgICAgZHJhZzogdGhpcy5fb25EcmFnLFxuICAgICAgICBkcmFnRW5kOiB0aGlzLl9vbkRyYWdFbmRcbiAgICB9LCB0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBUaW1lQ3JlYXRpb24jdGltZUNyZWF0aW9uRHJhZ3N0YXJ0XG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1RpbWV9IHJlbGF0ZWRWaWV3IC0gdGltZSB2aWV3IGluc3RhbmNlIHJlbGF0ZWQgd2l0aCBtb3VzZSBwb3NpdGlvbi5cbiAgICAgKiBAcHJvcGVydHkge01vdXNlRXZlbnR9IG9yaWdpbkV2ZW50IC0gbW91c2UgZXZlbnQgb2JqZWN0LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtb3VzZVkgLSBtb3VzZSBZIHB4IG1vdXNlIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBncmlkWSAtIGdyaWQgWSBpbmRleCB2YWx1ZSByZWxhdGVkIHdpdGggbW91c2VZIHZhbHVlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lWSAtIG1pbGxpc2Vjb25kcyB2YWx1ZSBvZiBtb3VzZVkgcG9pbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBuZWFyZXN0R3JpZFkgLSBuZWFyZXN0IGdyaWQgaW5kZXggcmVsYXRlZCB3aXRoIG1vdXNlWSB2YWx1ZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbmVhcmVzdEdyaWRUaW1lWSAtIHRpbWUgdmFsdWUgZm9yIG5lYXJlc3RHcmlkWS5cbiAgICAgKi9cbiAgICB0aGlzLmZpcmUob3ZlcnJpZGVFdmVudE5hbWUgfHwgJ3RpbWVDcmVhdGlvbkRyYWdzdGFydCcsIGV2ZW50RGF0YSk7XG59O1xuXG4vKipcbiAqIERyYWcjZHJhZyBldmVudCBoYW5kbGVyXG4gKiBAZW1pdHMgVGltZUNyZWF0aW9uI3RpbWVDcmVhdGlvbkRyYWdcbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRXZlbnREYXRhIC0gZXZlbnQgZGF0YSBmcm9tIERyYWcjZHJhZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3ZlcnJpZGVFdmVudE5hbWVdIC0gb3ZlcnJpZGUgZW1pdHRlZCBldmVudCBuYW1lIHdoZW4gc3VwcGxpZWQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbcmV2aXNlXSAtIHN1cHBseSBmdW5jdGlvbiBmb3IgcmV2aXNlIGV2ZW50IGRhdGEgYmVmb3JlIGVtaXQuXG4gKi9cblRpbWVDcmVhdGlvbi5wcm90b3R5cGUuX29uRHJhZyA9IGZ1bmN0aW9uKGRyYWdFdmVudERhdGEsIG92ZXJyaWRlRXZlbnROYW1lLCByZXZpc2UpIHtcbiAgICB2YXIgZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuX2dldFNjaGVkdWxlRGF0YUZ1bmMsXG4gICAgICAgIGV2ZW50RGF0YTtcblxuICAgIGlmICghZ2V0U2NoZWR1bGVEYXRhRnVuYykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZlbnREYXRhID0gZ2V0U2NoZWR1bGVEYXRhRnVuYyhkcmFnRXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcblxuICAgIGlmIChyZXZpc2UpIHtcbiAgICAgICAgcmV2aXNlKGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IFRpbWVDcmVhdGlvbiN0aW1lQ3JlYXRpb25EcmFnXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1RpbWV9IHJlbGF0ZWRWaWV3IC0gdGltZSB2aWV3IGluc3RhbmNlIHJlbGF0ZWQgd2l0aCBtb3VzZSBwb3NpdGlvbi5cbiAgICAgKiBAcHJvcGVydHkge01vdXNlRXZlbnR9IG9yaWdpbkV2ZW50IC0gbW91c2UgZXZlbnQgb2JqZWN0LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtb3VzZVkgLSBtb3VzZSBZIHB4IG1vdXNlIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBncmlkWSAtIGdyaWQgWSBpbmRleCB2YWx1ZSByZWxhdGVkIHdpdGggbW91c2VZIHZhbHVlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lWSAtIG1pbGxpc2Vjb25kcyB2YWx1ZSBvZiBtb3VzZVkgcG9pbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBuZWFyZXN0R3JpZFkgLSBuZWFyZXN0IGdyaWQgaW5kZXggcmVsYXRlZCB3aXRoIG1vdXNlWSB2YWx1ZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbmVhcmVzdEdyaWRUaW1lWSAtIHRpbWUgdmFsdWUgZm9yIG5lYXJlc3RHcmlkWS5cbiAgICAgKi9cbiAgICB0aGlzLmZpcmUob3ZlcnJpZGVFdmVudE5hbWUgfHwgJ3RpbWVDcmVhdGlvbkRyYWcnLCBldmVudERhdGEpO1xufTtcblxuLyoqXG4gKiBAZmlyZXMgVGltZUNyZWF0aW9uI2JlZm9yZUNyZWF0ZVNjaGVkdWxlXG4gKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gZXZlbnQgZGF0YSBvYmplY3QgZnJvbSBUaW1lQ3JlYXRpb24jdGltZUNyZWF0aW9uRHJhZ2VuZFxuICogb3IgVGltZUNyZWF0aW9uI3RpbWVDcmVhdGlvbkNsaWNrXG4gKi9cblRpbWVDcmVhdGlvbi5wcm90b3R5cGUuX2NyZWF0ZVNjaGVkdWxlID0gZnVuY3Rpb24oZXZlbnREYXRhKSB7XG4gICAgdmFyIHJlbGF0ZWRWaWV3ID0gZXZlbnREYXRhLnJlbGF0ZWRWaWV3LFxuICAgICAgICBjcmVhdGVSYW5nZSA9IGV2ZW50RGF0YS5jcmVhdGVSYW5nZSxcbiAgICAgICAgbmVhcmVzdEdyaWRUaW1lWSA9IGV2ZW50RGF0YS5uZWFyZXN0R3JpZFRpbWVZLFxuICAgICAgICBuZWFyZXN0R3JpZEVuZFRpbWVZID0gZXZlbnREYXRhLm5lYXJlc3RHcmlkRW5kVGltZVlcbiAgICAgICAgICAgID8gZXZlbnREYXRhLm5lYXJlc3RHcmlkRW5kVGltZVlcbiAgICAgICAgICAgIDogbmV3IFRaRGF0ZShuZWFyZXN0R3JpZFRpbWVZKS5hZGRNaW51dGVzKDMwKSxcbiAgICAgICAgYmFzZURhdGUsXG4gICAgICAgIGRhdGVTdGFydCxcbiAgICAgICAgZGF0ZUVuZCxcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZDtcblxuICAgIGlmICghY3JlYXRlUmFuZ2UpIHtcbiAgICAgICAgY3JlYXRlUmFuZ2UgPSBbXG4gICAgICAgICAgICBuZWFyZXN0R3JpZFRpbWVZLFxuICAgICAgICAgICAgbmVhcmVzdEdyaWRFbmRUaW1lWVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGJhc2VEYXRlID0gbmV3IFRaRGF0ZShyZWxhdGVkVmlldy5nZXREYXRlKCkpO1xuICAgIGRhdGVTdGFydCA9IGRhdGV0aW1lLnN0YXJ0KGJhc2VEYXRlKTtcbiAgICBkYXRlRW5kID0gZGF0ZXRpbWUuZ2V0U3RhcnRPZk5leHREYXkoYmFzZURhdGUpO1xuICAgIHN0YXJ0ID0gY29tbW9uLmxpbWl0RGF0ZShjcmVhdGVSYW5nZVswXSwgZGF0ZVN0YXJ0LCBkYXRlRW5kKTtcbiAgICBlbmQgPSBjb21tb24ubGltaXREYXRlKGNyZWF0ZVJhbmdlWzFdLCBkYXRlU3RhcnQsIGRhdGVFbmQpO1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IFRpbWVDcmVhdGlvbiNiZWZvcmVDcmVhdGVTY2hlZHVsZVxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBpc0FsbERheSAtIHdoZXRoZXIgc2NoZWR1bGUgaXMgZmlyZWQgaW4gYWxsZGF5IHZpZXcgYXJlYT9cbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IHN0YXJ0IC0gc2VsZWN0IHN0YXJ0IHRpbWVcbiAgICAgKiBAcHJvcGVydHkge0RhdGV9IGVuZCAtIHNlbGVjdCBlbmQgdGltZVxuICAgICAqIEBwcm9wZXJ0eSB7VGltZUNyZWF0aW9uR3VpZGV9IGd1aWRlIC0gVGltZUNyZWF0aW9uR3VpZGUgaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gdHJpZ2dlckV2ZW50TmFtZSAtIGV2ZW50IG5hbWVcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ2JlZm9yZUNyZWF0ZVNjaGVkdWxlJywge1xuICAgICAgICBpc0FsbERheTogZmFsc2UsXG4gICAgICAgIHN0YXJ0OiBuZXcgVFpEYXRlKHN0YXJ0KSxcbiAgICAgICAgZW5kOiBuZXcgVFpEYXRlKGVuZCksXG4gICAgICAgIGd1aWRlOiB0aGlzLmd1aWRlLFxuICAgICAgICB0cmlnZ2VyRXZlbnROYW1lOiBldmVudERhdGEudHJpZ2dlckV2ZW50XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIERyYWcjZHJhZ0VuZCBldmVudCBoYW5kbGVyXG4gKiBAZW1pdHMgVGltZUNyZWF0aW9uI3RpbWVDcmVhdGlvbkRyYWdlbmRcbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRW5kRXZlbnREYXRhIC0gZXZlbnQgZGF0YSBmcm9tIERyYWcjZHJhZ2VuZFxuICovXG5UaW1lQ3JlYXRpb24ucHJvdG90eXBlLl9vbkRyYWdFbmQgPSBmdW5jdGlvbihkcmFnRW5kRXZlbnREYXRhKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBkcmFnU3RhcnQgPSB0aGlzLl9kcmFnU3RhcnQ7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih7XG4gICAgICAgIGRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgZHJhZ0VuZDogdGhpcy5fb25EcmFnRW5kXG4gICAgfSwgdGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiBmb3IgbWFuaXB1bGF0ZSBldmVudCBkYXRhIGJlZm9yZSBmaXJpbmcgZXZlbnRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gZXZlbnQgZGF0YVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJldmlzZUZ1bmMoZXZlbnREYXRhKSB7XG4gICAgICAgIHZhciByYW5nZSA9IFtcbiAgICAgICAgICAgIGRyYWdTdGFydC5uZWFyZXN0R3JpZFRpbWVZLFxuICAgICAgICAgICAgZXZlbnREYXRhLm5lYXJlc3RHcmlkVGltZVlcbiAgICAgICAgXS5zb3J0KGFycmF5LmNvbXBhcmUubnVtLmFzYyk7XG4gICAgICAgIHJhbmdlWzFdLmFkZE1pbnV0ZXMoMzApO1xuXG4gICAgICAgIGV2ZW50RGF0YS5jcmVhdGVSYW5nZSA9IHJhbmdlO1xuXG4gICAgICAgIHNlbGYuX2NyZWF0ZVNjaGVkdWxlKGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IFRpbWVDcmVhdGlvbiN0aW1lQ3JlYXRpb25EcmFnZW5kXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1RpbWV9IHJlbGF0ZWRWaWV3IC0gdGltZSB2aWV3IGluc3RhbmNlIHJlbGF0ZWQgd2l0aCBtb3VzZSBwb3NpdGlvbi5cbiAgICAgKiBAcHJvcGVydHkge01vdXNlRXZlbnR9IG9yaWdpbkV2ZW50IC0gbW91c2UgZXZlbnQgb2JqZWN0LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtb3VzZVkgLSBtb3VzZSBZIHB4IG1vdXNlIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBncmlkWSAtIGdyaWQgWSBpbmRleCB2YWx1ZSByZWxhdGVkIHdpdGggbW91c2VZIHZhbHVlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lWSAtIG1pbGxpc2Vjb25kcyB2YWx1ZSBvZiBtb3VzZVkgcG9pbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBuZWFyZXN0R3JpZFkgLSBuZWFyZXN0IGdyaWQgaW5kZXggcmVsYXRlZCB3aXRoIG1vdXNlWSB2YWx1ZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbmVhcmVzdEdyaWRUaW1lWSAtIHRpbWUgdmFsdWUgZm9yIG5lYXJlc3RHcmlkWS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcltdfSBjcmVhdGVSYW5nZSAtIG1pbGxpc2Vjb25kcyByYW5nZSBiZXR3ZWVuIGRyYWcgc3RhcnQgYW5kIGVuZCB0byBjcmVhdGUuXG4gICAgICovXG4gICAgdGhpcy5fb25EcmFnKGRyYWdFbmRFdmVudERhdGEsICd0aW1lQ3JlYXRpb25EcmFnZW5kJywgcmV2aXNlRnVuYyk7XG5cbiAgICB0aGlzLl9kcmFnU3RhcnQgPSB0aGlzLl9nZXRTY2hlZHVsZURhdGFGdW5jID0gbnVsbDtcbn07XG5cbi8qKlxuICogRHJhZyNjbGljayBldmVudCBoYW5kbGVyXG4gKiBAZW1pdHMgVGltZUNyZWF0aW9uI3RpbWVDcmVhdGlvbkNsaWNrXG4gKiBAcGFyYW0ge29iamVjdH0gY2xpY2tFdmVudERhdGEgLSBldmVudCBkYXRhIGZyb20gRHJhZyNjbGljay5cbiAqL1xuVGltZUNyZWF0aW9uLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uKGNsaWNrRXZlbnREYXRhKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBjb25kUmVzdWx0LCBnZXRTY2hlZHVsZURhdGFGdW5jLCBldmVudERhdGE7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih7XG4gICAgICAgIGRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgZHJhZ0VuZDogdGhpcy5fb25EcmFnRW5kXG4gICAgfSwgdGhpcyk7XG5cbiAgICBjb25kUmVzdWx0ID0gdGhpcy5jaGVja0V4cGVjdGVkQ29uZGl0aW9uKGNsaWNrRXZlbnREYXRhLnRhcmdldCk7XG4gICAgaWYgKCFjb25kUmVzdWx0IHx8IHRoaXMuX2Rpc2FibGVDbGljaykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuX3JldHJpdmVTY2hlZHVsZURhdGEoY29uZFJlc3VsdCk7XG4gICAgZXZlbnREYXRhID0gZ2V0U2NoZWR1bGVEYXRhRnVuYyhjbGlja0V2ZW50RGF0YS5vcmlnaW5FdmVudCk7XG5cbiAgICB0aGlzLl9yZXF1ZXN0T25DbGljayA9IHRydWU7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNlbGYuX3JlcXVlc3RPbkNsaWNrKSB7XG4gICAgICAgICAgICBzZWxmLmZpcmUoJ3RpbWVDcmVhdGlvbkNsaWNrJywgZXZlbnREYXRhKTtcbiAgICAgICAgICAgIHNlbGYuX2NyZWF0ZVNjaGVkdWxlKGV2ZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5fcmVxdWVzdE9uQ2xpY2sgPSBmYWxzZTtcbiAgICB9LCBDTElDS19ERUxBWSk7XG4gICAgdGhpcy5fZHJhZ1N0YXJ0ID0gdGhpcy5fZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IG51bGw7XG59O1xuXG4vKipcbiAqIERibGNsaWNrIGV2ZW50IGhhbmRsZXJcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIE5hdGl2ZSBNb3VzZUV2ZW50XG4gKi9cblRpbWVDcmVhdGlvbi5wcm90b3R5cGUuX29uRGJsQ2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNvbmRSZXN1bHQsIGdldFNjaGVkdWxlRGF0YUZ1bmMsIGV2ZW50RGF0YTtcblxuICAgIGNvbmRSZXN1bHQgPSB0aGlzLmNoZWNrRXhwZWN0ZWRDb25kaXRpb24oZS50YXJnZXQpO1xuICAgIGlmICghY29uZFJlc3VsdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuX3JldHJpdmVTY2hlZHVsZURhdGEoY29uZFJlc3VsdCk7XG4gICAgZXZlbnREYXRhID0gZ2V0U2NoZWR1bGVEYXRhRnVuYyhlKTtcblxuICAgIHRoaXMuZmlyZSgndGltZUNyZWF0aW9uQ2xpY2snLCBldmVudERhdGEpO1xuXG4gICAgdGhpcy5fY3JlYXRlU2NoZWR1bGUoZXZlbnREYXRhKTtcblxuICAgIHRoaXMuX3JlcXVlc3RPbkNsaWNrID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIEludm9rZSBjcmVhdGlvbiBjbGlja1xuICogQHBhcmFtIHtTY2hlZHVsZX0gc2NoZWR1bGUgLSBzY2hlZHVsZSBpbnN0YW5jZVxuICovXG5UaW1lQ3JlYXRpb24ucHJvdG90eXBlLmludm9rZUNyZWF0aW9uQ2xpY2sgPSBmdW5jdGlvbihzY2hlZHVsZSkge1xuICAgIHZhciBvcHQgPSB0aGlzLnRpbWVHcmlkVmlldy5vcHRpb25zLFxuICAgICAgICByYW5nZSA9IGRhdGV0aW1lLnJhbmdlKFxuICAgICAgICAgICAgb3B0LnJlbmRlclN0YXJ0RGF0ZSxcbiAgICAgICAgICAgIG9wdC5yZW5kZXJFbmREYXRlLFxuICAgICAgICAgICAgZGF0ZXRpbWUuTUlMTElTRUNPTkRTX1BFUl9EQVkpLFxuICAgICAgICBob3VyU3RhcnQgPSBvcHQuaG91clN0YXJ0LFxuICAgICAgICB0YXJnZXREYXRlID0gc2NoZWR1bGUuc3RhcnQ7XG4gICAgdmFyIGV2ZW50RGF0YSwgdGltZVZpZXc7XG5cbiAgICB1dGlsLmZvckVhY2gocmFuZ2UsIGZ1bmN0aW9uKGRhdGUsIGluZGV4KSB7XG4gICAgICAgIGlmIChkYXRldGltZS5pc1NhbWVEYXRlKGRhdGUsIHRhcmdldERhdGUpKSB7XG4gICAgICAgICAgICB0aW1lVmlldyA9IHRoaXMudGltZUdyaWRWaWV3LmNoaWxkcmVuLnRvQXJyYXkoKVtpbmRleF07XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIC8vIElmIHN0YXJ0IGRhdGUgaXMgbm90IGluIGN1cnJlbnQgZGF0ZSwgc2V0IHN0YXJ0IGRhdGUgYXMgZmlyc3QgZGF0ZS5cbiAgICBpZiAoIXRpbWVWaWV3KSB7XG4gICAgICAgIHRpbWVWaWV3ID0gdGhpcy50aW1lR3JpZFZpZXcuY2hpbGRyZW4udG9BcnJheSgpWzBdO1xuICAgIH1cblxuICAgIGV2ZW50RGF0YSA9IHRoaXMuX3JldHJpdmVTY2hlZHVsZURhdGFGcm9tRGF0ZSh0aW1lVmlldywgc2NoZWR1bGUuc3RhcnQsIHNjaGVkdWxlLmVuZCwgaG91clN0YXJ0KTtcblxuICAgIHRoaXMuZmlyZSgndGltZUNyZWF0aW9uQ2xpY2snLCBldmVudERhdGEpO1xuXG4gICAgdGhpcy5fY3JlYXRlU2NoZWR1bGUoZXZlbnREYXRhKTtcbn07XG5cbnRpbWVDb3JlLm1peGluKFRpbWVDcmVhdGlvbik7XG51dGlsLkN1c3RvbUV2ZW50cy5taXhpbihUaW1lQ3JlYXRpb24pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRpbWVDcmVhdGlvbjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9oYW5kbGVyL3RpbWUvY3JlYXRpb25HdWlkZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9oYW5kbGVyL3RpbWUvY3JlYXRpb25HdWlkZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIEBmaWxlb3ZlcnZpZXcgTW9kdWxlIGZvciBUaW1lLkNyZWF0aW9uIGVmZmVjdCB3aGlsZSBkcmFnZ2luZy5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIGNvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9jb21tb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29tbW9uLmpzXCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciByZXFBbmltRnJhbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vcmVxQW5pbUZyYW1lICovIFwiLi9zcmMvanMvY29tbW9uL3JlcUFuaW1GcmFtZS5qc1wiKTtcbnZhciByYXRpbyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9jb21tb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29tbW9uLmpzXCIpLnJhdGlvO1xudmFyIFRaRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlO1xudmFyIE1JTjYwID0gKGRhdGV0aW1lLk1JTExJU0VDT05EU19QRVJfTUlOVVRFUyAqIDYwKTtcblxuLyoqXG4gKiBDbGFzcyBmb3IgVGltZS5DcmVhdGlvbiBkcmFnZ2luZyBlZmZlY3QuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7VGltZUNyZWF0aW9ufSB0aW1lQ3JlYXRpb24gLSBpbnN0YW5jZSBvZiBUaW1lQ3JlYXRpb24uXG4gKi9cbmZ1bmN0aW9uIFRpbWVDcmVhdGlvbkd1aWRlKHRpbWVDcmVhdGlvbikge1xuICAgIC8qKlxuICAgICAqIEd1aWRlIGVsZW1lbnQgZm9yIGNyZWF0aW9uIGVmZmVjdC5cbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5ndWlkZUVsZW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5ndWlkZVRpbWVFbGVtZW50ID0gZG9tdXRpbC5hcHBlbmRIVE1MRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB0aGlzLmd1aWRlRWxlbWVudCxcbiAgICAgICAgY29uZmlnLmNsYXNzbmFtZSgndGltZS1ndWlkZS1jcmVhdGlvbi1sYWJlbCcpXG4gICAgKTtcblxuICAgIGRvbXV0aWwuYWRkQ2xhc3ModGhpcy5ndWlkZUVsZW1lbnQsIGNvbmZpZy5jbGFzc25hbWUoJ3RpbWUtZ3VpZGUtY3JlYXRpb24nKSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VGltZUNyZWF0aW9ufVxuICAgICAqL1xuICAgIHRoaXMudGltZUNyZWF0aW9uID0gdGltZUNyZWF0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuX3N0eWxlVW5pdCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7YXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5fc3R5bGVTdGFydCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5fc3R5bGVGdW5jID0gbnVsbDtcblxuICAgIHRpbWVDcmVhdGlvbi5vbih7XG4gICAgICAgIHRpbWVDcmVhdGlvbkRyYWdzdGFydDogdGhpcy5fY3JlYXRlR3VpZGVFbGVtZW50LFxuICAgICAgICB0aW1lQ3JlYXRpb25EcmFnOiB0aGlzLl9vbkRyYWcsXG4gICAgICAgIHRpbWVDcmVhdGlvbkNsaWNrOiB0aGlzLl9jcmVhdGVHdWlkZUVsZW1lbnRcbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuYXBwbHlUaGVtZSh0aW1lQ3JlYXRpb24uYmFzZUNvbnRyb2xsZXIudGhlbWUpO1xufVxuXG4vKipcbiAqIERlc3Ryb3kgbWV0aG9kLlxuICovXG5UaW1lQ3JlYXRpb25HdWlkZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2xlYXJHdWlkZUVsZW1lbnQoKTtcbiAgICB0aGlzLnRpbWVDcmVhdGlvbi5vZmYodGhpcyk7XG4gICAgdGhpcy50aW1lQ3JlYXRpb24gPSB0aGlzLl9zdHlsZVVuaXQgPSB0aGlzLl9zdHlsZVN0YXJ0ID1cbiAgICAgICAgdGhpcy5fc3R5bGVGdW5jID0gdGhpcy5ndWlkZUVsZW1lbnQgPSB0aGlzLmd1aWRlVGltZUVsZW1lbnQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDbGVhciBndWlkZSBlbGVtZW50LlxuICovXG5UaW1lQ3JlYXRpb25HdWlkZS5wcm90b3R5cGUuY2xlYXJHdWlkZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZ3VpZGVFbGVtZW50ID0gdGhpcy5ndWlkZUVsZW1lbnQsXG4gICAgICAgIHRpbWVFbGVtZW50ID0gdGhpcy5ndWlkZVRpbWVFbGVtZW50O1xuXG4gICAgZG9tdXRpbC5yZW1vdmUoZ3VpZGVFbGVtZW50KTtcblxuICAgIHJlcUFuaW1GcmFtZS5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICBndWlkZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZ3VpZGVFbGVtZW50LnN0eWxlLnRvcCA9ICcnO1xuICAgICAgICBndWlkZUVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIHRpbWVFbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZWZyZXNoIGd1aWRlIGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgLSBUaGUgbnVtYmVyIG9mIGd1aWRlIGVsZW1lbnQncyBzdHlsZSB0b3BcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgbnVtYmVyIG9mIGd1aWRlIGVsZW1lbnQncyBzdHlsZSBoZWlnaHRcbiAqIEBwYXJhbSB7VFpEYXRlfSBzdGFydCAtIHN0YXJ0IHRpbWUgb2Ygc2NoZWR1bGUgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge1RaRGF0ZX0gZW5kIC0gZW5kIHRpbWUgb2Ygc2NoZWR1bGUgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJvdHRvbUxhYmVsIC0gaXMgbGFiZWwgbmVlZCB0byByZW5kZXIgYm90dG9tIG9mIGd1aWRlIGVsZW1lbnQ/XG4gKi9cblRpbWVDcmVhdGlvbkd1aWRlLnByb3RvdHlwZS5fcmVmcmVzaEd1aWRlRWxlbWVudCA9IGZ1bmN0aW9uKHRvcCwgaGVpZ2h0LCBzdGFydCwgZW5kLCBib3R0b21MYWJlbCkge1xuICAgIHZhciBndWlkZUVsZW1lbnQgPSB0aGlzLmd1aWRlRWxlbWVudDtcbiAgICB2YXIgdGltZUVsZW1lbnQgPSB0aGlzLmd1aWRlVGltZUVsZW1lbnQ7XG5cbiAgICBndWlkZUVsZW1lbnQuc3R5bGUudG9wID0gdG9wICsgJ3B4JztcbiAgICBndWlkZUVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICBndWlkZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICB0aW1lRWxlbWVudC5pbm5lckhUTUwgPSBkYXRldGltZS5mb3JtYXQoc3RhcnQsICdISDptbScpICtcbiAgICAgICAgJyAtICcgKyBkYXRldGltZS5mb3JtYXQoZW5kLCAnSEg6bW0nKTtcblxuICAgIGlmIChib3R0b21MYWJlbCkge1xuICAgICAgICBkb211dGlsLnJlbW92ZUNsYXNzKHRpbWVFbGVtZW50LCBjb25maWcuY2xhc3NuYW1lKCd0aW1lLWd1aWRlLWJvdHRvbScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb211dGlsLmFkZENsYXNzKHRpbWVFbGVtZW50LCBjb25maWcuY2xhc3NuYW1lKCd0aW1lLWd1aWRlLWJvdHRvbScpKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEdldCB1bml0IGRhdGEgb2YgY2FsY3VsYXRpbmcgbmV3IHN0eWxlIG9mIGd1aWRlIGVsZW1lbnQgYnkgdXNlciBpbnRlcmFjdGlvblxuICogQHBhcmFtIHtUaW1lfSByZWxhdGVkVmlldyAtIHRpbWUgdmlldyBpbnN0YW5jZSByZWxhdGVkIHdpdGggc2NoZWR1bGVcbiAqIEByZXR1cm5zIHthcnJheX0gdW5pdCBkYXRhLlxuICovXG5UaW1lQ3JlYXRpb25HdWlkZS5wcm90b3R5cGUuX2dldFVuaXREYXRhID0gZnVuY3Rpb24ocmVsYXRlZFZpZXcpIHtcbiAgICB2YXIgdmlld09wdCA9IHJlbGF0ZWRWaWV3Lm9wdGlvbnMsXG4gICAgICAgIHZpZXdIZWlnaHQgPSByZWxhdGVkVmlldy5nZXRWaWV3Qm91bmQoKS5oZWlnaHQsXG4gICAgICAgIGhvdXJMZW5ndGggPSB2aWV3T3B0LmhvdXJFbmQgLSB2aWV3T3B0LmhvdXJTdGFydCxcbiAgICAgICAgdG9kYXlTdGFydCA9IGRhdGV0aW1lLnBhcnNlKHZpZXdPcHQueW1kKSxcbiAgICAgICAgdG9kYXlFbmQgPSBkYXRldGltZS5nZXRTdGFydE9mTmV4dERheSh0b2RheVN0YXJ0KTtcblxuICAgIHRvZGF5U3RhcnQuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgdG9kYXlTdGFydC5zZXRIb3Vycyh2aWV3T3B0LmhvdXJTdGFydCk7XG5cbiAgICAvLyBbMF0gaGVpZ2h0IG9mIHZpZXdcbiAgICAvLyBbMV0gaG91ciBsZW5ndGggb2Ygdmlld1xuICAgIC8vIFsyXSBzdGFydCB0aW1lIG9mIHZpZXdcbiAgICAvLyBbM10gZW5kIHRpbWUgb2Ygdmlld1xuICAgIC8vIFs0XSBoZWlnaHQgb2YgdmlldyBmb3Igb25lIGhvdXJcbiAgICByZXR1cm4gW1xuICAgICAgICB2aWV3SGVpZ2h0LFxuICAgICAgICBob3VyTGVuZ3RoLFxuICAgICAgICB0b2RheVN0YXJ0LFxuICAgICAgICB0b2RheUVuZCxcbiAgICAgICAgdmlld0hlaWdodCAvIGhvdXJMZW5ndGhcbiAgICBdO1xufTtcblxuLyoqXG4gKiBBcHBseWluZyBsaW1pdGF0aW9uIHRvIHN1cHBsaWVkIGRhdGEgYW5kIHJldHVybiBpdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgLSB0b3AgcGl4ZWwgb2YgZ3VpZGUgZWxlbWVudFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIGhlaWdodCBwaXhlbCBvZiBndWlkZSBlbGVtZW50XG4gKiBAcGFyYW0ge1RaRGF0ZX0gc3RhcnQgLSByZWxhdGl2ZSB0aW1lIHZhbHVlIG9mIGRyYWdzdGFydCBwb2ludFxuICogQHBhcmFtIHtUWkRhdGV9IGVuZCAtIHJlbGF0aXZlIHRpbWUgdmFsdWUgb2YgZHJhZ2VuZCBwb2ludFxuICogQHJldHVybnMge2FycmF5fSBsaW1pdGVkIHN0eWxlIGRhdGFcbiAqL1xuVGltZUNyZWF0aW9uR3VpZGUucHJvdG90eXBlLl9saW1pdFN0eWxlRGF0YSA9IGZ1bmN0aW9uKHRvcCwgaGVpZ2h0LCBzdGFydCwgZW5kKSB7XG4gICAgdmFyIHVuaXREYXRhID0gdGhpcy5fc3R5bGVVbml0O1xuXG4gICAgdG9wID0gY29tbW9uLmxpbWl0KHRvcCwgWzBdLCBbdW5pdERhdGFbMF1dKTtcbiAgICBoZWlnaHQgPSBjb21tb24ubGltaXQodG9wICsgaGVpZ2h0LCBbMF0sIFt1bml0RGF0YVswXV0pIC0gdG9wO1xuICAgIHN0YXJ0ID0gY29tbW9uLmxpbWl0RGF0ZShzdGFydCwgdW5pdERhdGFbMl0sIHVuaXREYXRhWzNdKTtcbiAgICBlbmQgPSBjb21tb24ubGltaXREYXRlKGVuZCwgdW5pdERhdGFbMl0sIHVuaXREYXRhWzNdKTtcblxuICAgIHJldHVybiBbdG9wLCBoZWlnaHQsIHN0YXJ0LCBlbmRdO1xufTtcblxuLyoqXG4gKiBHZXQgZnVuY3Rpb24gdG8gY2FsY3VsYXRlIGd1aWRlIGVsZW1lbnQgVUkgZGF0YSBmcm9tIHN1cHBsaWVkIHVuaXRzXG4gKiBAcGFyYW0ge251bWJlcn0gdmlld0hlaWdodCAtIHRvdGFsIGhlaWdodCBvZiB2aWV3J3MgY29udGFpbmVyIGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBob3VyTGVuZ3RoIC0gaG91ciBsZW5ndGggdGhhdCByZW5kZXJlZCBpbiB0aW1lIHZpZXdcbiAqIEBwYXJhbSB7VFpEYXRlfSB0b2RheVN0YXJ0IC0gdGltZSBmb3IgdmlldydzIHN0YXJ0IGRhdGVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gVUkgZGF0YSBjYWxjdWxhdG9yIGZ1bmN0aW9uXG4gKi9cblRpbWVDcmVhdGlvbkd1aWRlLnByb3RvdHlwZS5fZ2V0U3R5bGVEYXRhRnVuYyA9IGZ1bmN0aW9uKHZpZXdIZWlnaHQsIGhvdXJMZW5ndGgsIHRvZGF5U3RhcnQpIHtcbiAgICB2YXIgdG9kYXlTdGFydFRpbWUgPSB0b2RheVN0YXJ0O1xuICAgIHZhciB0b2RheUVuZFRpbWUgPSBkYXRldGltZS5lbmQodG9kYXlTdGFydCk7XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdG9wLCB0aW1lIHZhbHVlIGZyb20gc2NoZWR1bGUgZGF0YVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzY2hlZHVsZURhdGEgLSBzY2hlZHVsZSBkYXRhIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0gdG9wLCB0aW1lXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0U3R5bGVEYXRhKHNjaGVkdWxlRGF0YSkge1xuICAgICAgICB2YXIgbWluTWludXRlcyA9IDMwO1xuICAgICAgICB2YXIgZ3JpZFkgPSBzY2hlZHVsZURhdGEubmVhcmVzdEdyaWRZLFxuICAgICAgICAgICAgZ3JpZFRpbWVZID0gc2NoZWR1bGVEYXRhLm5lYXJlc3RHcmlkVGltZVksXG4gICAgICAgICAgICBncmlkRW5kVGltZVkgPSBzY2hlZHVsZURhdGEubmVhcmVzdEdyaWRFbmRUaW1lWSB8fCBuZXcgVFpEYXRlKGdyaWRUaW1lWSkuYWRkTWludXRlcyhtaW5NaW51dGVzKSxcbiAgICAgICAgICAgIHRvcCwgc3RhcnRUaW1lLCBlbmRUaW1lO1xuXG4gICAgICAgIHRvcCA9IGNvbW1vbi5saW1pdChyYXRpbyhob3VyTGVuZ3RoLCB2aWV3SGVpZ2h0LCBncmlkWSksIFswXSwgW3ZpZXdIZWlnaHRdKTtcbiAgICAgICAgc3RhcnRUaW1lID0gY29tbW9uLmxpbWl0RGF0ZShncmlkVGltZVksIHRvZGF5U3RhcnRUaW1lLCB0b2RheUVuZFRpbWUpO1xuICAgICAgICBlbmRUaW1lID0gY29tbW9uLmxpbWl0RGF0ZShncmlkRW5kVGltZVksIHRvZGF5U3RhcnRUaW1lLCB0b2RheUVuZFRpbWUpO1xuXG4gICAgICAgIHJldHVybiBbdG9wLCBzdGFydFRpbWUsIGVuZFRpbWVdO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRTdHlsZURhdGE7XG59O1xuXG4vKipcbiAqIERyYWdTdGFydCBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ1N0YXJ0RXZlbnREYXRhIC0gZHJhZ1N0YXJ0IHNjaGVkdWxlIGRhdGEuXG4gKi9cblRpbWVDcmVhdGlvbkd1aWRlLnByb3RvdHlwZS5fY3JlYXRlR3VpZGVFbGVtZW50ID0gZnVuY3Rpb24oZHJhZ1N0YXJ0RXZlbnREYXRhKSB7XG4gICAgdmFyIHJlbGF0ZWRWaWV3ID0gZHJhZ1N0YXJ0RXZlbnREYXRhLnJlbGF0ZWRWaWV3LFxuICAgICAgICBob3VyU3RhcnQgPSBkYXRldGltZS5taWxsaXNlY29uZHNGcm9tKCdob3VyJywgZHJhZ1N0YXJ0RXZlbnREYXRhLmhvdXJTdGFydCkgfHwgMCxcbiAgICAgICAgdW5pdERhdGEsIHN0eWxlRnVuYywgc3R5bGVEYXRhLCByZXN1bHQsIHRvcCwgaGVpZ2h0LCBzdGFydCwgZW5kO1xuXG4gICAgdW5pdERhdGEgPSB0aGlzLl9zdHlsZVVuaXQgPSB0aGlzLl9nZXRVbml0RGF0YShyZWxhdGVkVmlldyk7XG4gICAgc3R5bGVGdW5jID0gdGhpcy5fc3R5bGVGdW5jID0gdGhpcy5fZ2V0U3R5bGVEYXRhRnVuYy5hcHBseSh0aGlzLCB1bml0RGF0YSk7XG4gICAgc3R5bGVEYXRhID0gdGhpcy5fc3R5bGVTdGFydCA9IHN0eWxlRnVuYyhkcmFnU3RhcnRFdmVudERhdGEpO1xuXG4gICAgc3RhcnQgPSBuZXcgVFpEYXRlKHN0eWxlRGF0YVsxXSkuYWRkTWludXRlcyhkYXRldGltZS5taW51dGVzRnJvbUhvdXJzKGhvdXJTdGFydCkpO1xuICAgIGVuZCA9IG5ldyBUWkRhdGUoc3R5bGVEYXRhWzJdKS5hZGRNaW51dGVzKGRhdGV0aW1lLm1pbnV0ZXNGcm9tSG91cnMoaG91clN0YXJ0KSk7XG4gICAgdG9wID0gc3R5bGVEYXRhWzBdO1xuICAgIGhlaWdodCA9ICh1bml0RGF0YVs0XSAqIChlbmQgLSBzdGFydCkgLyBNSU42MCk7XG5cbiAgICByZXN1bHQgPSB0aGlzLl9saW1pdFN0eWxlRGF0YShcbiAgICAgICAgdG9wLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmRcbiAgICApO1xuXG4gICAgdGhpcy5fcmVmcmVzaEd1aWRlRWxlbWVudC5hcHBseSh0aGlzLCByZXN1bHQpO1xuXG4gICAgcmVsYXRlZFZpZXcuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZ3VpZGVFbGVtZW50KTtcbn07XG5cbi8qKlxuICogRHJhZyBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge29iamVjdH0gZHJhZ0V2ZW50RGF0YSAtIGRyYWcgc2NoZWR1bGUgZGF0YS5cbiAqL1xuVGltZUNyZWF0aW9uR3VpZGUucHJvdG90eXBlLl9vbkRyYWcgPSBmdW5jdGlvbihkcmFnRXZlbnREYXRhKSB7XG4gICAgdmFyIG1pbnV0ZXMzMCA9IDMwO1xuICAgIHZhciBzdHlsZUZ1bmMgPSB0aGlzLl9zdHlsZUZ1bmMsXG4gICAgICAgIHVuaXREYXRhID0gdGhpcy5fc3R5bGVVbml0LFxuICAgICAgICBzdGFydFN0eWxlID0gdGhpcy5fc3R5bGVTdGFydCxcbiAgICAgICAgcmVmcmVzaEd1aWRlRWxlbWVudCA9IHRoaXMuX3JlZnJlc2hHdWlkZUVsZW1lbnQuYmluZCh0aGlzKSxcbiAgICAgICAgaGVpZ2h0T2ZIYWxmSG91cixcbiAgICAgICAgZW5kU3R5bGUsXG4gICAgICAgIHJlc3VsdDtcblxuICAgIGlmICghc3R5bGVGdW5jIHx8ICF1bml0RGF0YSB8fCAhc3RhcnRTdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaGVpZ2h0T2ZIYWxmSG91ciA9ICh1bml0RGF0YVs0XSAvIDIpO1xuICAgIGVuZFN0eWxlID0gc3R5bGVGdW5jKGRyYWdFdmVudERhdGEpO1xuXG4gICAgaWYgKGVuZFN0eWxlWzBdID4gc3RhcnRTdHlsZVswXSkge1xuICAgICAgICByZXN1bHQgPSB0aGlzLl9saW1pdFN0eWxlRGF0YShcbiAgICAgICAgICAgIHN0YXJ0U3R5bGVbMF0sXG4gICAgICAgICAgICAoZW5kU3R5bGVbMF0gLSBzdGFydFN0eWxlWzBdKSArIGhlaWdodE9mSGFsZkhvdXIsXG4gICAgICAgICAgICBzdGFydFN0eWxlWzFdLFxuICAgICAgICAgICAgbmV3IFRaRGF0ZShlbmRTdHlsZVsxXSkuYWRkTWludXRlcyhtaW51dGVzMzApXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5fbGltaXRTdHlsZURhdGEoXG4gICAgICAgICAgICBlbmRTdHlsZVswXSxcbiAgICAgICAgICAgIChzdGFydFN0eWxlWzBdIC0gZW5kU3R5bGVbMF0pICsgaGVpZ2h0T2ZIYWxmSG91cixcbiAgICAgICAgICAgIGVuZFN0eWxlWzFdLFxuICAgICAgICAgICAgbmV3IFRaRGF0ZShzdGFydFN0eWxlWzFdKS5hZGRNaW51dGVzKG1pbnV0ZXMzMClcbiAgICAgICAgKTtcbiAgICAgICAgcmVzdWx0LnB1c2godHJ1ZSk7XG4gICAgfVxuXG4gICAgcmVxQW5pbUZyYW1lLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlZnJlc2hHdWlkZUVsZW1lbnQuYXBwbHkobnVsbCwgcmVzdWx0KTtcbiAgICB9KTtcbn07XG5cblRpbWVDcmVhdGlvbkd1aWRlLnByb3RvdHlwZS5hcHBseVRoZW1lID0gZnVuY3Rpb24odGhlbWUpIHtcbiAgICB2YXIgc3R5bGUgPSB0aGlzLmd1aWRlRWxlbWVudC5zdHlsZTtcbiAgICB2YXIgdGltZVN0eWxlID0gdGhpcy5ndWlkZVRpbWVFbGVtZW50LnN0eWxlO1xuXG4gICAgLy8gYmxvY2tcbiAgICBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS5jb21tb24uY3JlYXRpb25HdWlkZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgc3R5bGUuYm9yZGVyID0gdGhlbWUuY29tbW9uLmNyZWF0aW9uR3VpZGUuYm9yZGVyO1xuXG4gICAgLy8gbGFiZWxcbiAgICB0aW1lU3R5bGUuY29sb3IgPSB0aGVtZS53ZWVrLmNyZWF0aW9uR3VpZGUuY29sb3I7XG4gICAgdGltZVN0eWxlLmZvbnRTaXplID0gdGhlbWUud2Vlay5jcmVhdGlvbkd1aWRlLmZvbnRTaXplO1xuICAgIHRpbWVTdHlsZS5mb250V2VpZ2h0ID0gdGhlbWUud2Vlay5jcmVhdGlvbkd1aWRlLmZvbnRXZWlnaHQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRpbWVDcmVhdGlvbkd1aWRlO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanNcIikpKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9oYW5kbGVyL3RpbWUvbW92ZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9oYW5kbGVyL3RpbWUvbW92ZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBIYW5kbGluZyBtb3ZlIHNjaGVkdWxlcyBmcm9tIGRyYWcgaGFuZGxlciBhbmQgdGltZSBncmlkIHZpZXdcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIik7XG52YXIgZGF0ZXRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZGF0ZXRpbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanNcIik7XG52YXIgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIik7XG52YXIgZG9tZXZlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tZXZlbnQgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tZXZlbnQuanNcIik7XG52YXIgVFpEYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpLkRhdGU7XG52YXIgdGltZUNvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvcmUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL3RpbWUvY29yZS5qc1wiKTtcbnZhciBUaW1lTW92ZUd1aWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9tb3ZlR3VpZGUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL3RpbWUvbW92ZUd1aWRlLmpzXCIpO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMge0hhbmRsZXJ9XG4gKiBAbWl4ZXMgdGltZUNvcmVcbiAqIEBtaXhlcyB1dGlsLkN1c3RvbUV2ZW50c1xuICogQHBhcmFtIHtEcmFnfSBbZHJhZ0hhbmRsZXJdIC0gRHJhZyBoYW5kbGVyIGluc3RhbmNlLlxuICogQHBhcmFtIHtUaW1lR3JpZH0gW3RpbWVHcmlkVmlld10gLSBUaW1lR3JpZCB2aWV3IGluc3RhbmNlLlxuICogQHBhcmFtIHtCYXNlfSBbYmFzZUNvbnRyb2xsZXJdIC0gQmFzZSBjb250cm9sbGVyIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBUaW1lTW92ZShkcmFnSGFuZGxlciwgdGltZUdyaWRWaWV3LCBiYXNlQ29udHJvbGxlcikge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtEcmFnfVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSBkcmFnSGFuZGxlcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtUaW1lR3JpZH1cbiAgICAgKi9cbiAgICB0aGlzLnRpbWVHcmlkVmlldyA9IHRpbWVHcmlkVmlldztcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCYXNlfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZUNvbnRyb2xsZXIgPSBiYXNlQ29udHJvbGxlcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLl9nZXRTY2hlZHVsZURhdGFGdW5jID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5fZHJhZ1N0YXJ0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtUaW1lTW92ZUd1aWRlfVxuICAgICAqL1xuICAgIHRoaXMuX2d1aWRlID0gbmV3IFRpbWVNb3ZlR3VpZGUodGhpcyk7XG5cbiAgICBkcmFnSGFuZGxlci5vbignZHJhZ1N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQsIHRoaXMpO1xuICAgIGRyYWdIYW5kbGVyLm9uKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93biwgdGhpcyk7XG59XG5cbi8qKlxuICogRGVzdHJveSBtZXRob2QuXG4gKi9cblRpbWVNb3ZlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fZ3VpZGUuZGVzdHJveSgpO1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIub2ZmKHRoaXMpO1xuICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSB0aGlzLnRpbWVHcmlkVmlldyA9IHRoaXMuYmFzZUNvbnRyb2xsZXIgPVxuICAgICAgICB0aGlzLl9nZXRTY2hlZHVsZURhdGFGdW5jID0gdGhpcy5fZHJhZ1N0YXJ0ID0gdGhpcy5fZ3VpZGUgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDaGVjayB0YXJnZXQgZWxlbWVudCBpcyBleHBlY3RlZCBjb25kaXRpb24gZm9yIGFjdGl2YXRlIHRoaXMgcGx1Z2lucy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIFRoZSBlbGVtZW50IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbnxvYmplY3R9IC0gcmV0dXJuIG9iamVjdCB3aGVuIHNhdGlhdGUgY29uZGl0aW9uLlxuICovXG5UaW1lTW92ZS5wcm90b3R5cGUuY2hlY2tFeHBlY3RDb25kaXRpb24gPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICBpZiAoIWRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsIGNvbmZpZy5jbGFzc25hbWUoJy50aW1lLXNjaGVkdWxlJykpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fZ2V0VGltZVZpZXcodGFyZ2V0KTtcbn07XG5cbi8qKlxuICogR2V0IFRpbWUgdmlldyBjb250YWluZXIgZnJvbSBzdXBwbGllZCBlbGVtZW50LlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gZWxlbWVudCB0byBmaW5kIHRpbWUgdmlldyBjb250YWluZXIuXG4gKiBAcmV0dXJucyB7b2JqZWN0fGJvb2xlYW59IC0gcmV0dXJuIHRpbWUgdmlldyBpbnN0YW5jZSB3aGVuIGZpbmRlZC5cbiAqL1xuVGltZU1vdmUucHJvdG90eXBlLl9nZXRUaW1lVmlldyA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBjb250YWluZXIgPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcudGltZS1kYXRlJykpLFxuICAgICAgICBtYXRjaGVzO1xuXG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1hdGNoZXMgPSBkb211dGlsLmdldENsYXNzKGNvbnRhaW5lcikubWF0Y2goY29uZmlnLnRpbWUuZ2V0Vmlld0lEUmVnRXhwKTtcblxuICAgIGlmICghbWF0Y2hlcyB8fCBtYXRjaGVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB1dGlsLnBpY2sodGhpcy50aW1lR3JpZFZpZXcuY2hpbGRyZW4uaXRlbXMsIE51bWJlcihtYXRjaGVzWzFdKSk7XG59O1xuXG4vKipcbiAqIEBlbWl0cyBUaW1lTW92ZSNtb3VzZWRvd25cbiAqIEBwYXJhbSB7b2JqZWN0fSBtb3VzZURvd25FdmVudERhdGEgLSBEcmFnI21vdXNlZG93biBzY2hlZHVsZSBkYXRhLlxuICovXG5UaW1lTW92ZS5wcm90b3R5cGUuX29uTW91c2VEb3duID0gZnVuY3Rpb24obW91c2VEb3duRXZlbnREYXRhKSB7XG4gICAgdmFyIHRhcmdldCA9IG1vdXNlRG93bkV2ZW50RGF0YS50YXJnZXQsXG4gICAgICAgIHRpbWVWaWV3ID0gdGhpcy5jaGVja0V4cGVjdENvbmRpdGlvbih0YXJnZXQpLFxuICAgICAgICBibG9ja0VsZW1lbnQgPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcudGltZS1kYXRlLXNjaGVkdWxlLWJsb2NrJykpO1xuXG4gICAgaWYgKCF0aW1lVmlldyB8fCAhYmxvY2tFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBFdmVudFRhcmdldC50YXJnZXQgaXMgbm90IGNoYW5nZWQgaW4gbW91c2Vtb3ZlIGV2ZW50IGV2ZW4gaWYgbW91c2UgaXMgb3ZlciB0aGUgb3RoZXIgZWxlbWVudC5cbiAgICAvLyBJdCdzIGRpZmZlcmVudCB3aXRoIG90aGVyIGJyb3dzZXJzKElFLCBDaHJvbWUsIFNhZmFyaSlcbiAgICBpZiAodXRpbC5icm93c2VyLmZpcmVmb3gpIHtcbiAgICAgICAgZG9tZXZlbnQucHJldmVudERlZmF1bHQobW91c2VEb3duRXZlbnREYXRhLm9yaWdpbkV2ZW50KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEBlbWl0cyBUaW1lTW92ZSN0aW1lTW92ZURyYWdzdGFydFxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdTdGFydEV2ZW50RGF0YSAtIERyYWcjZHJhZ1N0YXJ0IHNjaGVkdWxlIGRhdGEuXG4gKi9cblRpbWVNb3ZlLnByb3RvdHlwZS5fb25EcmFnU3RhcnQgPSBmdW5jdGlvbihkcmFnU3RhcnRFdmVudERhdGEpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZHJhZ1N0YXJ0RXZlbnREYXRhLnRhcmdldCxcbiAgICAgICAgdGltZVZpZXcgPSB0aGlzLmNoZWNrRXhwZWN0Q29uZGl0aW9uKHRhcmdldCksXG4gICAgICAgIGJsb2NrRWxlbWVudCA9IGRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsIGNvbmZpZy5jbGFzc25hbWUoJy50aW1lLWRhdGUtc2NoZWR1bGUtYmxvY2snKSksXG4gICAgICAgIGdldFNjaGVkdWxlRGF0YUZ1bmMsXG4gICAgICAgIHNjaGVkdWxlRGF0YSxcbiAgICAgICAgY3RybCA9IHRoaXMuYmFzZUNvbnRyb2xsZXIsXG4gICAgICAgIHRhcmdldE1vZGVsSUQsXG4gICAgICAgIHRhcmdldE1vZGVsO1xuXG4gICAgaWYgKCF0aW1lVmlldyB8fCAhYmxvY2tFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0YXJnZXRNb2RlbElEID0gZG9tdXRpbC5nZXREYXRhKGJsb2NrRWxlbWVudCwgJ2lkJyk7XG4gICAgdGFyZ2V0TW9kZWwgPSBjdHJsLnNjaGVkdWxlcy5pdGVtc1t0YXJnZXRNb2RlbElEXTtcblxuICAgIGlmICh0YXJnZXRNb2RlbC5pc1JlYWRPbmx5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBnZXRTY2hlZHVsZURhdGFGdW5jID0gdGhpcy5fZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuX3JldHJpdmVTY2hlZHVsZURhdGEodGltZVZpZXcpO1xuICAgIHNjaGVkdWxlRGF0YSA9IHRoaXMuX2RyYWdTdGFydCA9IGdldFNjaGVkdWxlRGF0YUZ1bmMoXG4gICAgICAgIGRyYWdTdGFydEV2ZW50RGF0YS5vcmlnaW5FdmVudCwge1xuICAgICAgICAgICAgdGFyZ2V0TW9kZWxJRDogdGFyZ2V0TW9kZWxJRCxcbiAgICAgICAgICAgIG1vZGVsOiB0YXJnZXRNb2RlbFxuICAgICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMuZHJhZ0hhbmRsZXIub24oe1xuICAgICAgICBkcmFnOiB0aGlzLl9vbkRyYWcsXG4gICAgICAgIGRyYWdFbmQ6IHRoaXMuX29uRHJhZ0VuZCxcbiAgICAgICAgY2xpY2s6IHRoaXMuX29uQ2xpY2tcbiAgICB9LCB0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBUaW1lTW92ZSN0aW1lTW92ZURyYWdzdGFydFxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gY3VycmVudCB0YXJnZXQgaW4gbW91c2UgZXZlbnQgb2JqZWN0LlxuICAgICAqIEBwcm9wZXJ0eSB7VGltZX0gcmVsYXRlZFZpZXcgLSB0aW1lIHZpZXcgaW5zdGFuY2UgcmVsYXRlZCB3aXRoIG1vdXNlIHBvc2l0aW9uLlxuICAgICAqIEBwcm9wZXJ0eSB7TW91c2VFdmVudH0gb3JpZ2luRXZlbnQgLSBtb3VzZSBldmVudCBvYmplY3QuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG1vdXNlWSAtIG1vdXNlIFkgcHggbW91c2UgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGdyaWRZIC0gZ3JpZCBZIGluZGV4IHZhbHVlIHJlbGF0ZWQgd2l0aCBtb3VzZVkgdmFsdWUuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVZIC0gbWlsbGlzZWNvbmRzIHZhbHVlIG9mIG1vdXNlWSBwb2ludHMuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG5lYXJlc3RHcmlkWSAtIG5lYXJlc3QgZ3JpZCBpbmRleCByZWxhdGVkIHdpdGggbW91c2VZIHZhbHVlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBuZWFyZXN0R3JpZFRpbWVZIC0gdGltZSB2YWx1ZSBmb3IgbmVhcmVzdEdyaWRZLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0YXJnZXRNb2RlbElEIC0gVGhlIG1vZGVsIHVuaXF1ZSBpZCBlbWl0dGVkIG1vdmUgc2NoZWR1bGUuXG4gICAgICogQHByb3BlcnR5IHtTY2hlZHVsZX0gbW9kZWwgLSBtb2RlbCBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgndGltZU1vdmVEcmFnc3RhcnQnLCBzY2hlZHVsZURhdGEpO1xufTtcblxuLyoqXG4gKiBAZW1pdHMgVGltZU1vdmUjdGltZU1vdmVEcmFnXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGRyYWdFdmVudERhdGEgLSBtb3VzZW1vdmUgZXZlbnQgb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gW292ZXJyaWRlRXZlbnROYW1lXSAtIG5hbWUgb2YgZW1pdHRpbmcgZXZlbnQgdG8gb3ZlcnJpZGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbcmV2aXNlXSAtIHN1cHBseSBmdW5jdGlvbiBmb3IgcmV2aXNlIHNjaGVkdWxlIGRhdGEgYmVmb3JlIGVtaXQuXG4gKi9cblRpbWVNb3ZlLnByb3RvdHlwZS5fb25EcmFnID0gZnVuY3Rpb24oZHJhZ0V2ZW50RGF0YSwgb3ZlcnJpZGVFdmVudE5hbWUsIHJldmlzZSkge1xuICAgIHZhciBnZXRTY2hlZHVsZURhdGFGdW5jID0gdGhpcy5fZ2V0U2NoZWR1bGVEYXRhRnVuYyxcbiAgICAgICAgdGltZVZpZXcgPSB0aGlzLl9nZXRUaW1lVmlldyhkcmFnRXZlbnREYXRhLnRhcmdldCksXG4gICAgICAgIGRyYWdTdGFydCA9IHRoaXMuX2RyYWdTdGFydCxcbiAgICAgICAgc2NoZWR1bGVEYXRhO1xuXG4gICAgaWYgKCF0aW1lVmlldyB8fCAhZ2V0U2NoZWR1bGVEYXRhRnVuYyB8fCAhZHJhZ1N0YXJ0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY2hlZHVsZURhdGEgPSBnZXRTY2hlZHVsZURhdGFGdW5jKGRyYWdFdmVudERhdGEub3JpZ2luRXZlbnQsIHtcbiAgICAgICAgY3VycmVudFZpZXc6IHRpbWVWaWV3LFxuICAgICAgICB0YXJnZXRNb2RlbElEOiBkcmFnU3RhcnQudGFyZ2V0TW9kZWxJRFxuICAgIH0pO1xuXG4gICAgaWYgKHJldmlzZSkge1xuICAgICAgICByZXZpc2Uoc2NoZWR1bGVEYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgVGltZU1vdmUjdGltZU1vdmVEcmFnXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSB0YXJnZXQgLSBjdXJyZW50IHRhcmdldCBpbiBtb3VzZSBldmVudCBvYmplY3QuXG4gICAgICogQHByb3BlcnR5IHtUaW1lfSByZWxhdGVkVmlldyAtIHRpbWUgdmlldyBpbnN0YW5jZSByZWxhdGVkIHdpdGggZHJhZyBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcHJvcGVydHkge01vdXNlRXZlbnR9IG9yaWdpbkV2ZW50IC0gbW91c2UgZXZlbnQgb2JqZWN0LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtb3VzZVkgLSBtb3VzZSBZIHB4IG1vdXNlIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBncmlkWSAtIGdyaWQgWSBpbmRleCB2YWx1ZSByZWxhdGVkIHdpdGggbW91c2VZIHZhbHVlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lWSAtIG1pbGxpc2Vjb25kcyB2YWx1ZSBvZiBtb3VzZVkgcG9pbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBuZWFyZXN0R3JpZFkgLSBuZWFyZXN0IGdyaWQgaW5kZXggcmVsYXRlZCB3aXRoIG1vdXNlWSB2YWx1ZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbmVhcmVzdEdyaWRUaW1lWSAtIHRpbWUgdmFsdWUgZm9yIG5lYXJlc3RHcmlkWS5cbiAgICAgKiBAcHJvcGVydHkge1RpbWV9IGN1cnJlbnRWaWV3IC0gdGltZSB2aWV3IGluc3RhbmNlIHJlbGF0ZWQgd2l0aCBjdXJyZW50IG1vdXNlIHBvc2l0aW9uLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0YXJnZXRNb2RlbElEIC0gVGhlIG1vZGVsIHVuaXF1ZSBpZCBlbWl0dGVkIG1vdmUgc2NoZWR1bGUuXG4gICAgICovXG4gICAgdGhpcy5maXJlKG92ZXJyaWRlRXZlbnROYW1lIHx8ICd0aW1lTW92ZURyYWcnLCBzY2hlZHVsZURhdGEpO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgbW9kZWwgaW5zdGFuY2UgYnkgZHJhZ2VuZCBldmVudCByZXN1bHRzLlxuICogQGZpcmVzIFRpbWVNb3ZlI2JlZm9yZVVwZGF0ZVNjaGVkdWxlXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZWR1bGVEYXRhIC0gc2NoZWR1bGUgZGF0YSBmcm9tIFRpbWVNb3ZlI3RpbWVNb3ZlRHJhZ2VuZFxuICovXG5UaW1lTW92ZS5wcm90b3R5cGUuX3VwZGF0ZVNjaGVkdWxlID0gZnVuY3Rpb24oc2NoZWR1bGVEYXRhKSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzLmJhc2VDb250cm9sbGVyLFxuICAgICAgICBtb2RlbElEID0gc2NoZWR1bGVEYXRhLnRhcmdldE1vZGVsSUQsXG4gICAgICAgIHJhbmdlID0gc2NoZWR1bGVEYXRhLm5lYXJlc3RSYW5nZSxcbiAgICAgICAgdGltZURpZmYgPSByYW5nZVsxXSAtIHJhbmdlWzBdLFxuICAgICAgICBkYXRlRGlmZiA9IDAsXG4gICAgICAgIHNjaGVkdWxlID0gY3RybC5zY2hlZHVsZXMuaXRlbXNbbW9kZWxJRF0sXG4gICAgICAgIHJlbGF0ZWRWaWV3ID0gc2NoZWR1bGVEYXRhLnJlbGF0ZWRWaWV3LFxuICAgICAgICBjdXJyZW50VmlldyA9IHNjaGVkdWxlRGF0YS5jdXJyZW50VmlldyxcbiAgICAgICAgbmV3U3RhcnRzLFxuICAgICAgICBuZXdFbmRzO1xuXG4gICAgaWYgKCFzY2hlZHVsZSB8fCAhY3VycmVudFZpZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRpbWVEaWZmIC09IGRhdGV0aW1lLm1pbGxpc2Vjb25kc0Zyb20oJ21pbnV0ZXMnLCAzMCk7XG4gICAgbmV3U3RhcnRzID0gbmV3IFRaRGF0ZShzY2hlZHVsZS5nZXRTdGFydHMoKSkuYWRkTWlsbGlzZWNvbmRzKHRpbWVEaWZmKTtcbiAgICBuZXdFbmRzID0gbmV3IFRaRGF0ZShzY2hlZHVsZS5nZXRFbmRzKCkpLmFkZE1pbGxpc2Vjb25kcyh0aW1lRGlmZik7XG5cbiAgICBpZiAoY3VycmVudFZpZXcpIHtcbiAgICAgICAgZGF0ZURpZmYgPSBjdXJyZW50Vmlldy5nZXREYXRlKCkgLSByZWxhdGVkVmlldy5nZXREYXRlKCk7XG4gICAgfVxuXG4gICAgbmV3U3RhcnRzLmFkZE1pbGxpc2Vjb25kcyhkYXRlRGlmZik7XG4gICAgbmV3RW5kcy5hZGRNaWxsaXNlY29uZHMoZGF0ZURpZmYpO1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IFRpbWVNb3ZlI2JlZm9yZVVwZGF0ZVNjaGVkdWxlXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1NjaGVkdWxlfSBzY2hlZHVsZSAtIFRoZSBvcmlnaW5hbCBzY2hlZHVsZSBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gc3RhcnQgLSBEZXByZWNhdGVkOiBzdGFydCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqIEBwcm9wZXJ0eSB7RGF0ZX0gZW5kIC0gRGVwcmVjYXRlZDogZW5kIHRpbWUgdG8gdXBkYXRlXG4gICAgICogQHByb3BlcnR5IHtvYmplY3R9IGNoYW5nZXMgLSBzdGFydCBhbmQgZW5kIHRpbWUgdG8gdXBkYXRlXG4gICAgICogIEBwcm9wZXJ0eSB7RGF0ZX0gc3RhcnQgLSBzdGFydCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqICBAcHJvcGVydHkge0RhdGV9IGVuZCAtIGVuZCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnYmVmb3JlVXBkYXRlU2NoZWR1bGUnLCB7XG4gICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZSxcbiAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgc3RhcnQ6IG5ld1N0YXJ0cyxcbiAgICAgICAgICAgIGVuZDogbmV3RW5kc1xuICAgICAgICB9LFxuICAgICAgICBzdGFydDogbmV3U3RhcnRzLFxuICAgICAgICBlbmQ6IG5ld0VuZHNcbiAgICB9KTtcbn07XG5cbi8qKlxuICogQGVtaXRzIFRpbWVNb3ZlI3RpbWVNb3ZlRHJhZ2VuZFxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBkcmFnRW5kRXZlbnREYXRhIC0gbW91c2V1cCBtb3VzZSBldmVudCBvYmplY3QuXG4gKi9cblRpbWVNb3ZlLnByb3RvdHlwZS5fb25EcmFnRW5kID0gZnVuY3Rpb24oZHJhZ0VuZEV2ZW50RGF0YSkge1xuICAgIHZhciBnZXRTY2hlZHVsZURhdGFGdW5jID0gdGhpcy5fZ2V0U2NoZWR1bGVEYXRhRnVuYyxcbiAgICAgICAgY3VycmVudFZpZXcgPSB0aGlzLl9nZXRUaW1lVmlldyhkcmFnRW5kRXZlbnREYXRhLnRhcmdldCksXG4gICAgICAgIGRyYWdTdGFydCA9IHRoaXMuX2RyYWdTdGFydCxcbiAgICAgICAgc2NoZWR1bGVEYXRhO1xuXG4gICAgdGhpcy5kcmFnSGFuZGxlci5vZmYoe1xuICAgICAgICBkcmFnOiB0aGlzLl9vbkRyYWcsXG4gICAgICAgIGRyYWdFbmQ6IHRoaXMuX29uRHJhZ0VuZCxcbiAgICAgICAgY2xpY2s6IHRoaXMuX29uQ2xpY2tcbiAgICB9LCB0aGlzKTtcblxuICAgIGlmICghZ2V0U2NoZWR1bGVEYXRhRnVuYyB8fCAhZHJhZ1N0YXJ0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY2hlZHVsZURhdGEgPSBnZXRTY2hlZHVsZURhdGFGdW5jKGRyYWdFbmRFdmVudERhdGEub3JpZ2luRXZlbnQsIHtcbiAgICAgICAgY3VycmVudFZpZXc6IGN1cnJlbnRWaWV3LFxuICAgICAgICB0YXJnZXRNb2RlbElEOiBkcmFnU3RhcnQudGFyZ2V0TW9kZWxJRFxuICAgIH0pO1xuXG4gICAgc2NoZWR1bGVEYXRhLnJhbmdlID0gW1xuICAgICAgICBkcmFnU3RhcnQudGltZVksXG4gICAgICAgIG5ldyBUWkRhdGUoc2NoZWR1bGVEYXRhLnRpbWVZKS5hZGRNaW51dGVzKDMwKVxuICAgIF07XG5cbiAgICBzY2hlZHVsZURhdGEubmVhcmVzdFJhbmdlID0gW1xuICAgICAgICBkcmFnU3RhcnQubmVhcmVzdEdyaWRUaW1lWSxcbiAgICAgICAgbmV3IFRaRGF0ZShzY2hlZHVsZURhdGEubmVhcmVzdEdyaWRUaW1lWSkuYWRkTWludXRlcygzMClcbiAgICBdO1xuXG4gICAgdGhpcy5fdXBkYXRlU2NoZWR1bGUoc2NoZWR1bGVEYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBUaW1lTW92ZSN0aW1lTW92ZURyYWdlbmRcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIGN1cnJlbnQgdGFyZ2V0IGluIG1vdXNlIGV2ZW50IG9iamVjdC5cbiAgICAgKiBAcHJvcGVydHkge1RpbWV9IHJlbGF0ZWRWaWV3IC0gdGltZSB2aWV3IGluc3RhbmNlIHJlbGF0ZWQgd2l0aCBkcmFnIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwcm9wZXJ0eSB7VGltZX0gY3VycmVudFZpZXcgLSB0aW1lIHZpZXcgaW5zdGFuY2UgcmVsYXRlZCB3aXRoIGN1cnJlbnQgbW91c2UgcG9zaXRpb24uXG4gICAgICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fSBvcmlnaW5FdmVudCAtIG1vdXNlIGV2ZW50IG9iamVjdC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbW91c2VZIC0gbW91c2UgWSBweCBtb3VzZSBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZ3JpZFkgLSBncmlkIFkgaW5kZXggdmFsdWUgcmVsYXRlZCB3aXRoIG1vdXNlWSB2YWx1ZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGltZVkgLSBtaWxsaXNlY29uZHMgdmFsdWUgb2YgbW91c2VZIHBvaW50cy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbmVhcmVzdEdyaWRZIC0gbmVhcmVzdCBncmlkIGluZGV4IHJlbGF0ZWQgd2l0aCBtb3VzZVkgdmFsdWUuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG5lYXJlc3RHcmlkVGltZVkgLSB0aW1lIHZhbHVlIGZvciBuZWFyZXN0R3JpZFkuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHRhcmdldE1vZGVsSUQgLSBUaGUgbW9kZWwgdW5pcXVlIGlkIGVtaXR0ZWQgbW92ZSBzY2hlZHVsZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcltdfSByYW5nZSAtIG1pbGxpc2Vjb25kcyByYW5nZSBiZXR3ZWVuIGRyYWcgc3RhcnQgYW5kIGVuZC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcltdfSBuZWFyZXN0UmFuZ2UgLSBtaWxsaXNlY29uZHMgcmFuZ2UgcmVsYXRlZCB3aXRoIG5lYXJlc3RHcmlkWSBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmQuXG4gICAgICovXG4gICAgdGhpcy5maXJlKCd0aW1lTW92ZURyYWdlbmQnLCBzY2hlZHVsZURhdGEpO1xufTtcblxuLyoqXG4gKiBAZW1pdHMgVGltZU1vdmUjdGltZU1vdmVDbGlja1xuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBjbGlja0V2ZW50RGF0YSAtIGNsaWNrIG1vdXNlIGV2ZW50IG9iamVjdC5cbiAqL1xuVGltZU1vdmUucHJvdG90eXBlLl9vbkNsaWNrID0gZnVuY3Rpb24oY2xpY2tFdmVudERhdGEpIHtcbiAgICB2YXIgZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuX2dldFNjaGVkdWxlRGF0YUZ1bmMsXG4gICAgICAgIGRyYWdTdGFydCA9IHRoaXMuX2RyYWdTdGFydCxcbiAgICAgICAgc2NoZWR1bGVEYXRhO1xuXG4gICAgdGhpcy5kcmFnSGFuZGxlci5vZmYoe1xuICAgICAgICBkcmFnOiB0aGlzLl9vbkRyYWcsXG4gICAgICAgIGRyYWdFbmQ6IHRoaXMuX29uRHJhZ0VuZCxcbiAgICAgICAgY2xpY2s6IHRoaXMuX29uQ2xpY2tcbiAgICB9LCB0aGlzKTtcblxuICAgIGlmICghZ2V0U2NoZWR1bGVEYXRhRnVuYyB8fCAhZHJhZ1N0YXJ0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY2hlZHVsZURhdGEgPSBnZXRTY2hlZHVsZURhdGFGdW5jKGNsaWNrRXZlbnREYXRhLm9yaWdpbkV2ZW50LCB7XG4gICAgICAgIHRhcmdldE1vZGVsSUQ6IGRyYWdTdGFydC50YXJnZXRNb2RlbElEXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgVGltZU1vdmUjdGltZU1vdmVDbGlja1xuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gY3VycmVudCB0YXJnZXQgaW4gbW91c2UgZXZlbnQgb2JqZWN0LlxuICAgICAqIEBwcm9wZXJ0eSB7VGltZX0gcmVsYXRlZFZpZXcgLSB0aW1lIHZpZXcgaW5zdGFuY2UgcmVsYXRlZCB3aXRoIGRyYWcgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fSBvcmlnaW5FdmVudCAtIG1vdXNlIGV2ZW50IG9iamVjdC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbW91c2VZIC0gbW91c2UgWSBweCBtb3VzZSBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZ3JpZFkgLSBncmlkIFkgaW5kZXggdmFsdWUgcmVsYXRlZCB3aXRoIG1vdXNlWSB2YWx1ZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGltZVkgLSBtaWxsaXNlY29uZHMgdmFsdWUgb2YgbW91c2VZIHBvaW50cy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbmVhcmVzdEdyaWRZIC0gbmVhcmVzdCBncmlkIGluZGV4IHJlbGF0ZWQgd2l0aCBtb3VzZVkgdmFsdWUuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG5lYXJlc3RHcmlkVGltZVkgLSB0aW1lIHZhbHVlIGZvciBuZWFyZXN0R3JpZFkuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHRhcmdldE1vZGVsSUQgLSBUaGUgbW9kZWwgdW5pcXVlIGlkIGVtaXR0ZWQgbW92ZSBzY2hlZHVsZS5cbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ3RpbWVNb3ZlQ2xpY2snLCBzY2hlZHVsZURhdGEpO1xufTtcblxudGltZUNvcmUubWl4aW4oVGltZU1vdmUpO1xudXRpbC5DdXN0b21FdmVudHMubWl4aW4oVGltZU1vdmUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRpbWVNb3ZlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL2hhbmRsZXIvdGltZS9tb3ZlR3VpZGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9oYW5kbGVyL3RpbWUvbW92ZUd1aWRlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE1vZHVsZSBmb3IgVGltZS5Nb3ZlIGVmZmVjdCB3aGlsZSBkcmFnZ2luZy5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIik7XG52YXIgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIik7XG52YXIgcmVxQW5pbUZyYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3JlcUFuaW1GcmFtZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9yZXFBbmltRnJhbWUuanNcIik7XG52YXIgcmF0aW8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vY29tbW9uICovIFwiLi9zcmMvanMvY29tbW9uL2NvbW1vbi5qc1wiKS5yYXRpbztcbnZhciBGbG9hdGluZ0xheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2Zsb2F0aW5nTGF5ZXIgKi8gXCIuL3NyYy9qcy9jb21tb24vZmxvYXRpbmdMYXllci5qc1wiKTtcbnZhciB0bXBsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdmlldy90ZW1wbGF0ZS93ZWVrL3RpbWVNb3ZlR3VpZGUuaGJzICovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS93ZWVrL3RpbWVNb3ZlR3VpZGUuaGJzXCIpO1xudmFyIFRaRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlO1xudmFyIFNjaGVkdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbW9kZWwvc2NoZWR1bGUgKi8gXCIuL3NyYy9qcy9tb2RlbC9zY2hlZHVsZS5qc1wiKTtcbnZhciBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKTtcbnZhciBjb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vY29tbW9uICovIFwiLi9zcmMvanMvY29tbW9uL2NvbW1vbi5qc1wiKTtcblxudmFyIFNDSEVEVUxFX01JTl9EVVJBVElPTiA9IGRhdGV0aW1lLk1JTExJU0VDT05EU19TQ0hFRFVMRV9NSU5fRFVSQVRJT047XG5cbi8qKlxuICogQ2xhc3MgZm9yIFRpbWUuTW92ZSBlZmZlY3QuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7VGltZU1vdmV9IHRpbWVNb3ZlIC0gVGhlIGluc3RhbmNlIG9mIFRpbWVNb3ZlLlxuICovXG5mdW5jdGlvbiBUaW1lTW92ZUd1aWRlKHRpbWVNb3ZlKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0Zsb2F0aW5nTGF5ZXJ9XG4gICAgICovXG4gICAgdGhpcy5fZ3VpZGVMYXllciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAVHlwZSB7U2NoZWR1bGV9XG4gICAgICovXG4gICAgdGhpcy5fbW9kZWwgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLl92aWV3TW9kZWwgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLl9sYXN0RHJhZyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5ndWlkZUVsZW1lbnQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1RpbWVNb3ZlfVxuICAgICAqL1xuICAgIHRoaXMudGltZU1vdmUgPSB0aW1lTW92ZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLl9jb250YWluZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuX2dldFRvcEZ1bmMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLl9zdGFydEdyaWRZID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fc3RhcnRUb3BQaXhlbCA9IDA7XG5cbiAgICB0aW1lTW92ZS5vbih7XG4gICAgICAgICd0aW1lTW92ZURyYWdzdGFydCc6IHRoaXMuX29uRHJhZ1N0YXJ0LFxuICAgICAgICAndGltZU1vdmVEcmFnJzogdGhpcy5fb25EcmFnLFxuICAgICAgICAndGltZU1vdmVEcmFnZW5kJzogdGhpcy5fY2xlYXJHdWlkZUVsZW1lbnQsXG4gICAgICAgICd0aW1lTW92ZUNsaWNrJzogdGhpcy5fY2xlYXJHdWlkZUVsZW1lbnRcbiAgICB9LCB0aGlzKTtcbn1cblxuLyoqXG4gKiBEZXN0cm95IG1ldGhvZFxuICovXG5UaW1lTW92ZUd1aWRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fY2xlYXJHdWlkZUVsZW1lbnQoKTtcbiAgICB0aGlzLnRpbWVNb3ZlLm9mZih0aGlzKTtcbiAgICBpZiAodGhpcy5fZ3VpZGVMYXllcikge1xuICAgICAgICB0aGlzLl9ndWlkZUxheWVyLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5ndWlkZUVsZW1lbnQgPSB0aGlzLnRpbWVNb3ZlID0gdGhpcy5fY29udGFpbmVyID0gdGhpcy5fZ3VpZGVMYXllciA9IHRoaXMuX2xhc3REcmFnID1cbiAgICAgICAgdGhpcy5fZ2V0VG9wRnVuYyA9IHRoaXMuX3N0YXJ0R3JpZFkgPSB0aGlzLl9zdGFydFRvcFBpeGVsID0gdGhpcy5fdmlld01vZGVsID0gbnVsbDtcbn07XG5cbi8qKlxuICogQ2xlYXIgZ3VpZGUgZWxlbWVudC5cbiAqL1xuVGltZU1vdmVHdWlkZS5wcm90b3R5cGUuX2NsZWFyR3VpZGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF1dGlsLmJyb3dzZXIubXNpZSkge1xuICAgICAgICBkb211dGlsLnJlbW92ZUNsYXNzKGdsb2JhbC5kb2N1bWVudC5ib2R5LCBjb25maWcuY2xhc3NuYW1lKCdkcmFnZ2luZycpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2d1aWRlTGF5ZXIpIHtcbiAgICAgICAgdGhpcy5fZ3VpZGVMYXllci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2hvd09yaWdpblNjaGVkdWxlQmxvY2tzKCk7XG5cbiAgICB0aGlzLmd1aWRlRWxlbWVudCA9IHRoaXMuX2dldFRvcEZ1bmMgPSB0aGlzLl9ndWlkZUxheWVyID0gdGhpcy5fbW9kZWwgPSB0aGlzLl9sYXN0RHJhZyA9XG4gICAgICAgIHRoaXMuX3N0YXJ0R3JpZFkgPSB0aGlzLl9zdGFydFRvcFBpeGVsID0gdGhpcy5fdmlld01vZGVsID0gbnVsbDtcbn07XG5cbi8qKlxuICogRGltIGVsZW1lbnQgYmxvY2tzXG4gKiBAcGFyYW0ge251bWJlcn0gbW9kZWxJRCAtIFNjaGVkdWxlIG1vZGVsIGluc3RhbmNlIElEXG4gKi9cblRpbWVNb3ZlR3VpZGUucHJvdG90eXBlLl9oaWRlT3JpZ2luU2NoZWR1bGVCbG9ja3MgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzbmFtZSgndGltZS1kYXRlLXNjaGVkdWxlLWJsb2NrLWRyYWdnaW5nLWRpbScpO1xuICAgIGlmICh0aGlzLmd1aWRlRWxlbWVudCkge1xuICAgICAgICBkb211dGlsLmFkZENsYXNzKHRoaXMuZ3VpZGVFbGVtZW50LCBjbGFzc05hbWUpO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2hvdyBlbGVtZW50IGJsb2Nrc1xuICovXG5UaW1lTW92ZUd1aWRlLnByb3RvdHlwZS5fc2hvd09yaWdpblNjaGVkdWxlQmxvY2tzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzc25hbWUoJ3RpbWUtZGF0ZS1zY2hlZHVsZS1ibG9jay1kcmFnZ2luZy1kaW0nKTtcbiAgICBpZiAodGhpcy5ndWlkZUVsZW1lbnQpIHtcbiAgICAgICAgZG9tdXRpbC5yZW1vdmVDbGFzcyh0aGlzLmd1aWRlRWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlZnJlc2ggZ3VpZGUgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHRvcCAtIGd1aWRlIGVsZW1lbnQncyBzdHlsZSB0b3AuXG4gKiBAcGFyYW0ge1NjaGVkdWxlfSBtb2RlbCAtIHVwZGF0ZWQgbW9kZWxcbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWV3TW9kZWwgLSB2aWV3IG1vZGVsXG4gKi9cblRpbWVNb3ZlR3VpZGUucHJvdG90eXBlLl9yZWZyZXNoR3VpZGVFbGVtZW50ID0gZnVuY3Rpb24odG9wLCBtb2RlbCwgdmlld01vZGVsKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgcmVxQW5pbUZyYW1lLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghc2VsZi5fZ3VpZGVMYXllcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuX2d1aWRlTGF5ZXIuc2V0UG9zaXRpb24oMCwgdG9wKTtcbiAgICAgICAgc2VsZi5fZ3VpZGVMYXllci5zZXRDb250ZW50KHRtcGwodXRpbC5leHRlbmQoe21vZGVsOiBtb2RlbH0sIHZpZXdNb2RlbCkpKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogVGltZU1vdmUjdGltZU1vdmVEcmFnc3RhcnQgZXZlbnQgaGFuZGxlclxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdTdGFydEV2ZW50RGF0YSAtIGRyYWdzdGFydCBldmVudCBkYXRhXG4gKi9cblRpbWVNb3ZlR3VpZGUucHJvdG90eXBlLl9vbkRyYWdTdGFydCA9IGZ1bmN0aW9uKGRyYWdTdGFydEV2ZW50RGF0YSkge1xuICAgIHZhciBndWlkZUVsZW1lbnQgPSBkb211dGlsLmNsb3Nlc3QoXG4gICAgICAgIGRyYWdTdGFydEV2ZW50RGF0YS50YXJnZXQsXG4gICAgICAgIGNvbmZpZy5jbGFzc25hbWUoJy50aW1lLWRhdGUtc2NoZWR1bGUtYmxvY2snKVxuICAgICk7XG4gICAgdmFyIGR1cmF0aW9uLCBtb2RlbER1cmF0aW9uLCBnb2luZ0R1cmF0aW9uLCBjb21pbmdEdXJhdGlvbjtcblxuICAgIGlmICghZ3VpZGVFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zdGFydFRvcFBpeGVsID0gcGFyc2VGbG9hdChndWlkZUVsZW1lbnQuc3R5bGUudG9wKTtcbiAgICB0aGlzLl9zdGFydEdyaWRZID0gZHJhZ1N0YXJ0RXZlbnREYXRhLm5lYXJlc3RHcmlkWTtcbiAgICB0aGlzLmd1aWRlRWxlbWVudCA9IGd1aWRlRWxlbWVudDtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkcmFnU3RhcnRFdmVudERhdGEucmVsYXRlZFZpZXcuY29udGFpbmVyO1xuXG4gICAgdGhpcy5fbW9kZWwgPSB1dGlsLmV4dGVuZChcbiAgICAgICAgU2NoZWR1bGUuY3JlYXRlKGRyYWdTdGFydEV2ZW50RGF0YS5tb2RlbCksXG4gICAgICAgIGRyYWdTdGFydEV2ZW50RGF0YS5tb2RlbFxuICAgICk7XG5cbiAgICBtb2RlbER1cmF0aW9uID0gdGhpcy5fbW9kZWwuZHVyYXRpb24oKTtcbiAgICBtb2RlbER1cmF0aW9uID0gbW9kZWxEdXJhdGlvbiA+IFNDSEVEVUxFX01JTl9EVVJBVElPTiA/IG1vZGVsRHVyYXRpb24gOiBTQ0hFRFVMRV9NSU5fRFVSQVRJT047XG4gICAgZ29pbmdEdXJhdGlvbiA9IGRhdGV0aW1lLm1pbGxpc2Vjb25kc0Zyb20oJ21pbnV0ZXMnLCB0aGlzLl9tb2RlbC5nb2luZ0R1cmF0aW9uKTtcbiAgICBjb21pbmdEdXJhdGlvbiA9IGRhdGV0aW1lLm1pbGxpc2Vjb25kc0Zyb20oJ21pbnV0ZXMnLCB0aGlzLl9tb2RlbC5jb21pbmdEdXJhdGlvbik7XG4gICAgZHVyYXRpb24gPSBnb2luZ0R1cmF0aW9uICsgbW9kZWxEdXJhdGlvbiArIGNvbWluZ0R1cmF0aW9uO1xuXG4gICAgdGhpcy5fbGFzdERyYWcgPSBkcmFnU3RhcnRFdmVudERhdGE7XG4gICAgdGhpcy5fdmlld01vZGVsID0ge1xuICAgICAgICBoYXNHb2luZ0R1cmF0aW9uOiBnb2luZ0R1cmF0aW9uID4gMCxcbiAgICAgICAgaGFzQ29taW5nRHVyYXRpb246IGNvbWluZ0R1cmF0aW9uID4gMCxcbiAgICAgICAgZ29pbmdEdXJhdGlvbkhlaWdodDogY29tbW9uLnJhdGlvKGR1cmF0aW9uLCBnb2luZ0R1cmF0aW9uLCAxMDApLFxuICAgICAgICBtb2RlbER1cmF0aW9uSGVpZ2h0OiBjb21tb24ucmF0aW8oZHVyYXRpb24sIG1vZGVsRHVyYXRpb24sIDEwMCksXG4gICAgICAgIGNvbWluZ0R1cmF0aW9uSGVpZ2h0OiBjb21tb24ucmF0aW8oZHVyYXRpb24sIGNvbWluZ0R1cmF0aW9uLCAxMDApXG4gICAgfTtcblxuICAgIHRoaXMuX3Jlc2V0R3VpZGVMYXllcigpO1xuICAgIHRoaXMuX2hpZGVPcmlnaW5TY2hlZHVsZUJsb2NrcygpO1xufTtcblxuLyoqXG4gKiBUaW1lTW92ZSN0aW1lTW92ZURyYWcgZXZlbnQgaGFuZGxlclxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdFdmVudERhdGEgLSBkcmFnIGV2ZW50IGRhdGFcbiAqL1xuVGltZU1vdmVHdWlkZS5wcm90b3R5cGUuX29uRHJhZyA9IGZ1bmN0aW9uKGRyYWdFdmVudERhdGEpIHtcbiAgICB2YXIgdGltZVZpZXcgPSBkcmFnRXZlbnREYXRhLmN1cnJlbnRWaWV3LFxuICAgICAgICB2aWV3T3B0aW9ucyA9IHRpbWVWaWV3Lm9wdGlvbnMsXG4gICAgICAgIHZpZXdIZWlnaHQgPSB0aW1lVmlldy5nZXRWaWV3Qm91bmQoKS5oZWlnaHQsXG4gICAgICAgIGd1aWRlSGVpZ2h0ID0gcGFyc2VGbG9hdCh0aGlzLmd1aWRlRWxlbWVudC5zdHlsZS5oZWlnaHQpLFxuICAgICAgICBob3VyTGVuZ3RoID0gdmlld09wdGlvbnMuaG91ckVuZCAtIHZpZXdPcHRpb25zLmhvdXJTdGFydCxcbiAgICAgICAgZ3JpZFlPZmZzZXQgPSBkcmFnRXZlbnREYXRhLm5lYXJlc3RHcmlkWSAtIHRoaXMuX3N0YXJ0R3JpZFksXG4gICAgICAgIGdyaWRZT2Zmc2V0UGl4ZWwgPSByYXRpbyhob3VyTGVuZ3RoLCB2aWV3SGVpZ2h0LCBncmlkWU9mZnNldCksXG4gICAgICAgIGdyaWREaWZmID0gZHJhZ0V2ZW50RGF0YS5uZWFyZXN0R3JpZFkgLSB0aGlzLl9sYXN0RHJhZy5uZWFyZXN0R3JpZFksXG4gICAgICAgIGJvdHRvbUxpbWl0LFxuICAgICAgICB0b3A7XG5cbiAgICBpZiAoIXV0aWwuYnJvd3Nlci5tc2llKSB7XG4gICAgICAgIGRvbXV0aWwuYWRkQ2xhc3MoZ2xvYmFsLmRvY3VtZW50LmJvZHksIGNvbmZpZy5jbGFzc25hbWUoJ2RyYWdnaW5nJykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jb250YWluZXIgIT09IHRpbWVWaWV3LmNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSB0aW1lVmlldy5jb250YWluZXI7XG4gICAgICAgIHRoaXMuX3Jlc2V0R3VpZGVMYXllcigpO1xuICAgIH1cblxuICAgIHRvcCA9IHRoaXMuX3N0YXJ0VG9wUGl4ZWwgKyBncmlkWU9mZnNldFBpeGVsO1xuICAgIGJvdHRvbUxpbWl0ID0gdmlld0hlaWdodCAtIGd1aWRlSGVpZ2h0O1xuXG4gICAgdG9wID0gTWF0aC5tYXgodG9wLCAwKTtcbiAgICB0b3AgPSBNYXRoLm1pbih0b3AsIGJvdHRvbUxpbWl0KTtcblxuICAgIC8vIHVwZGF0ZSB0aW1lXG4gICAgdGhpcy5fbW9kZWwuc3RhcnQgPSBuZXcgVFpEYXRlKHRoaXMuX21vZGVsLmdldFN0YXJ0cygpKS5hZGRNaW51dGVzKGRhdGV0aW1lLm1pbnV0ZXNGcm9tSG91cnMoZ3JpZERpZmYpKTtcbiAgICB0aGlzLl9tb2RlbC5lbmQgPSBuZXcgVFpEYXRlKHRoaXMuX21vZGVsLmdldEVuZHMoKSkuYWRkTWludXRlcyhkYXRldGltZS5taW51dGVzRnJvbUhvdXJzKGdyaWREaWZmKSk7XG4gICAgdGhpcy5fbGFzdERyYWcgPSBkcmFnRXZlbnREYXRhO1xuXG4gICAgdGhpcy5fcmVmcmVzaEd1aWRlRWxlbWVudCh0b3AsIHRoaXMuX21vZGVsLCB0aGlzLl92aWV3TW9kZWwpO1xufTtcblxuVGltZU1vdmVHdWlkZS5wcm90b3R5cGUuX3Jlc2V0R3VpZGVMYXllciA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9ndWlkZUxheWVyKSB7XG4gICAgICAgIHRoaXMuX2d1aWRlTGF5ZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9ndWlkZUxheWVyID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5fZ3VpZGVMYXllciA9IG5ldyBGbG9hdGluZ0xheWVyKG51bGwsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgdGhpcy5fZ3VpZGVMYXllci5zZXRTaXplKHRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCwgdGhpcy5ndWlkZUVsZW1lbnQuc3R5bGUuaGVpZ2h0KTtcbiAgICB0aGlzLl9ndWlkZUxheWVyLnNldFBvc2l0aW9uKDAsIHRoaXMuZ3VpZGVFbGVtZW50LnN0eWxlLnRvcCk7XG4gICAgdGhpcy5fZ3VpZGVMYXllci5zZXRDb250ZW50KHRtcGwodXRpbC5leHRlbmQoe21vZGVsOiB0aGlzLl9tb2RlbH0sIHRoaXMuX3ZpZXdNb2RlbCkpKTtcbiAgICB0aGlzLl9ndWlkZUxheWVyLnNob3coKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVGltZU1vdmVHdWlkZTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMgKi8gXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCIpKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvaGFuZGxlci90aW1lL3Jlc2l6ZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvdGltZS9yZXNpemUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBIYW5kbGluZyByZXNpemUgc2NoZWR1bGVzIGZyb20gZHJhZyBoYW5kbGVyIGFuZCB0aW1lIGdyaWQgdmlld1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKTtcbnZhciBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciBUWkRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vdGltZXpvbmUgKi8gXCIuL3NyYy9qcy9jb21tb24vdGltZXpvbmUuanNcIikuRGF0ZTtcbnZhciBjb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vY29tbW9uICovIFwiLi9zcmMvanMvY29tbW9uL2NvbW1vbi5qc1wiKTtcbnZhciB0aW1lQ29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29yZSAqLyBcIi4vc3JjL2pzL2hhbmRsZXIvdGltZS9jb3JlLmpzXCIpO1xudmFyIFRpbWVSZXNpemVHdWlkZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVzaXplR3VpZGUgKi8gXCIuL3NyYy9qcy9oYW5kbGVyL3RpbWUvcmVzaXplR3VpZGUuanNcIik7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAaW1wbGVtZW50cyB7SGFuZGxlcn1cbiAqIEBtaXhlcyB0aW1lQ29yZVxuICogQG1peGVzIHV0aWwuQ3VzdG9tRXZlbnRzXG4gKiBAcGFyYW0ge0RyYWd9IFtkcmFnSGFuZGxlcl0gLSBEcmFnIGhhbmRsZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge1RpbWVHcmlkfSBbdGltZUdyaWRWaWV3XSAtIFRpbWVHcmlkIHZpZXcgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0Jhc2V9IFtiYXNlQ29udHJvbGxlcl0gLSBCYXNlIGNvbnRyb2xsZXIgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIFRpbWVSZXNpemUoZHJhZ0hhbmRsZXIsIHRpbWVHcmlkVmlldywgYmFzZUNvbnRyb2xsZXIpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RHJhZ31cbiAgICAgKi9cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gZHJhZ0hhbmRsZXI7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VGltZUdyaWR9XG4gICAgICovXG4gICAgdGhpcy50aW1lR3JpZFZpZXcgPSB0aW1lR3JpZFZpZXc7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QmFzZX1cbiAgICAgKi9cbiAgICB0aGlzLmJhc2VDb250cm9sbGVyID0gYmFzZUNvbnRyb2xsZXI7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5fZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuX2RyYWdTdGFydCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VGltZVJlc2l6ZUd1aWRlfVxuICAgICAqL1xuICAgIHRoaXMuX2d1aWRlID0gbmV3IFRpbWVSZXNpemVHdWlkZSh0aGlzKTtcblxuICAgIGRyYWdIYW5kbGVyLm9uKCdkcmFnU3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCwgdGhpcyk7XG59XG5cbi8qKlxuICogRGVzdHJveSBtZXRob2RcbiAqL1xuVGltZVJlc2l6ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2d1aWRlLmRlc3Ryb3koKTtcbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih0aGlzKTtcbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gdGhpcy50aW1lR3JpZFZpZXcgPSB0aGlzLmJhc2VDb250cm9sbGVyID1cbiAgICAgICAgdGhpcy5fZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuX2RyYWdTdGFydCA9IHRoaXMuX2d1aWRlID0gbnVsbDtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gZWxlbWVudCB0byBjaGVjayBjb25kaXRpb24uXG4gKiBAcmV0dXJucyB7b2JqZWN0fGJvb2xlYW59IC0gcmV0dXJuIHRpbWUgdmlldyBpbnN0YW5jZSBvciBmYWxzZVxuICovXG5UaW1lUmVzaXplLnByb3RvdHlwZS5jaGVja0V4cGVjdENvbmRpdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBjb250YWluZXIsXG4gICAgICAgIG1hdGNoZXM7XG5cbiAgICBpZiAoIWRvbXV0aWwuaGFzQ2xhc3ModGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCd0aW1lLXJlc2l6ZS1oYW5kbGUnKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnRhaW5lciA9IGRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsIGNvbmZpZy5jbGFzc25hbWUoJy50aW1lLWRhdGUnKSk7XG5cbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbWF0Y2hlcyA9IGRvbXV0aWwuZ2V0Q2xhc3MoY29udGFpbmVyKS5tYXRjaChjb25maWcudGltZS5nZXRWaWV3SURSZWdFeHApO1xuXG4gICAgaWYgKCFtYXRjaGVzIHx8IG1hdGNoZXMubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWwucGljayh0aGlzLnRpbWVHcmlkVmlldy5jaGlsZHJlbi5pdGVtcywgTnVtYmVyKG1hdGNoZXNbMV0pKTtcbn07XG5cbi8qKlxuICogQGVtaXRzIFRpbWVSZXNpemUjdGltZVJlc2l6ZURyYWdzdGFydFxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdTdGFydEV2ZW50RGF0YSAtIGV2ZW50IGRhdGEgb2YgRHJhZyNkcmFnc3RhcnRcbiAqL1xuVGltZVJlc2l6ZS5wcm90b3R5cGUuX29uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZHJhZ1N0YXJ0RXZlbnREYXRhKSB7XG4gICAgdmFyIHRhcmdldCA9IGRyYWdTdGFydEV2ZW50RGF0YS50YXJnZXQsXG4gICAgICAgIHRpbWVWaWV3ID0gdGhpcy5jaGVja0V4cGVjdENvbmRpdGlvbih0YXJnZXQpLFxuICAgICAgICBibG9ja0VsZW1lbnQgPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcudGltZS1kYXRlLXNjaGVkdWxlLWJsb2NrJykpLFxuICAgICAgICBjdHJsID0gdGhpcy5iYXNlQ29udHJvbGxlcixcbiAgICAgICAgdGFyZ2V0TW9kZWxJRCxcbiAgICAgICAgZ2V0U2NoZWR1bGVEYXRhRnVuYyxcbiAgICAgICAgc2NoZWR1bGVEYXRhO1xuXG4gICAgaWYgKCF0aW1lVmlldyB8fCAhYmxvY2tFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0YXJnZXRNb2RlbElEID0gZG9tdXRpbC5nZXREYXRhKGJsb2NrRWxlbWVudCwgJ2lkJyk7XG4gICAgZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuX2dldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLl9yZXRyaXZlU2NoZWR1bGVEYXRhKHRpbWVWaWV3KTtcbiAgICBzY2hlZHVsZURhdGEgPSB0aGlzLl9kcmFnU3RhcnQgPSBnZXRTY2hlZHVsZURhdGFGdW5jKFxuICAgICAgICBkcmFnU3RhcnRFdmVudERhdGEub3JpZ2luRXZlbnQsIHtcbiAgICAgICAgICAgIHRhcmdldE1vZGVsSUQ6IHRhcmdldE1vZGVsSUQsXG4gICAgICAgICAgICBzY2hlZHVsZTogY3RybC5zY2hlZHVsZXMuaXRlbXNbdGFyZ2V0TW9kZWxJRF1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9uKHtcbiAgICAgICAgZHJhZzogdGhpcy5fb25EcmFnLFxuICAgICAgICBkcmFnRW5kOiB0aGlzLl9vbkRyYWdFbmQsXG4gICAgICAgIGNsaWNrOiB0aGlzLl9vbkNsaWNrXG4gICAgfSwgdGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgVGltZVJlc2l6ZSN0aW1lUmVzaXplRHJhZ3N0YXJ0XG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSB0YXJnZXQgLSBjdXJyZW50IHRhcmdldCBpbiBtb3VzZSBldmVudCBvYmplY3QuXG4gICAgICogQHByb3BlcnR5IHtUaW1lfSByZWxhdGVkVmlldyAtIHRpbWUgdmlldyBpbnN0YW5jZSByZWxhdGVkIHdpdGggbW91c2UgcG9zaXRpb24uXG4gICAgICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fSBvcmlnaW5FdmVudCAtIG1vdXNlIGV2ZW50IG9iamVjdC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbW91c2VZIC0gbW91c2UgWSBweCBtb3VzZSBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZ3JpZFkgLSBncmlkIFkgaW5kZXggdmFsdWUgcmVsYXRlZCB3aXRoIG1vdXNlWSB2YWx1ZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGltZVkgLSBtaWxsaXNlY29uZHMgdmFsdWUgb2YgbW91c2VZIHBvaW50cy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbmVhcmVzdEdyaWRZIC0gbmVhcmVzdCBncmlkIGluZGV4IHJlbGF0ZWQgd2l0aCBtb3VzZVkgdmFsdWUuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG5lYXJlc3RHcmlkVGltZVkgLSB0aW1lIHZhbHVlIGZvciBuZWFyZXN0R3JpZFkuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHRhcmdldE1vZGVsSUQgLSBUaGUgbW9kZWwgdW5pcXVlIGlkIGVtaXR0ZWQgbW92ZSBzY2hlZHVsZS5cbiAgICAgKiBAcHJvcGVydHkge1NjaGVkdWxlfSBzY2hlZHVsZSAtIHNjaGVkdWxlIGRhdGFcbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ3RpbWVSZXNpemVEcmFnc3RhcnQnLCBzY2hlZHVsZURhdGEpO1xufTtcblxuLyoqXG4gKiBEcmFnI2RyYWcgZXZlbnQgaGFuZGxlclxuICogQGVtaXRzIFRpbWVSZXNpemUjdGltZVJlc2l6ZURyYWdcbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRXZlbnREYXRhIC0gZXZlbnQgZGF0YSBvZiBEcmFnI2RyYWcgY3VzdG9tIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IFtvdmVycmlkZUV2ZW50TmFtZV0gLSBvdmVycmlkZSBlbWl0dGVkIGV2ZW50IG5hbWUgd2hlbiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtyZXZpc2VdIC0gc3VwcGx5IGZ1bmN0aW9uIGZvciByZXZpc2Ugc2NoZWR1bGUgZGF0YSBiZWZvcmUgZW1pdC5cbiAqL1xuVGltZVJlc2l6ZS5wcm90b3R5cGUuX29uRHJhZyA9IGZ1bmN0aW9uKGRyYWdFdmVudERhdGEsIG92ZXJyaWRlRXZlbnROYW1lLCByZXZpc2UpIHtcbiAgICB2YXIgZ2V0U2NoZWR1bGVEYXRhRnVuYyA9IHRoaXMuX2dldFNjaGVkdWxlRGF0YUZ1bmMsXG4gICAgICAgIHN0YXJ0U2NoZWR1bGVEYXRhID0gdGhpcy5fZHJhZ1N0YXJ0LFxuICAgICAgICBzY2hlZHVsZURhdGE7XG5cbiAgICBpZiAoIWdldFNjaGVkdWxlRGF0YUZ1bmMgfHwgIXN0YXJ0U2NoZWR1bGVEYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY2hlZHVsZURhdGEgPSBnZXRTY2hlZHVsZURhdGFGdW5jKGRyYWdFdmVudERhdGEub3JpZ2luRXZlbnQsIHtcbiAgICAgICAgdGFyZ2V0TW9kZWxJRDogc3RhcnRTY2hlZHVsZURhdGEudGFyZ2V0TW9kZWxJRFxuICAgIH0pO1xuXG4gICAgaWYgKHJldmlzZSkge1xuICAgICAgICByZXZpc2Uoc2NoZWR1bGVEYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgVGltZVJlc2l6ZSN0aW1lUmVzaXplRHJhZ1xuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gY3VycmVudCB0YXJnZXQgaW4gbW91c2UgZXZlbnQgb2JqZWN0LlxuICAgICAqIEBwcm9wZXJ0eSB7VGltZX0gcmVsYXRlZFZpZXcgLSB0aW1lIHZpZXcgaW5zdGFuY2UgcmVsYXRlZCB3aXRoIGRyYWcgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fSBvcmlnaW5FdmVudCAtIG1vdXNlIGV2ZW50IG9iamVjdC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbW91c2VZIC0gbW91c2UgWSBweCBtb3VzZSBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZ3JpZFkgLSBncmlkIFkgaW5kZXggdmFsdWUgcmVsYXRlZCB3aXRoIG1vdXNlWSB2YWx1ZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGltZVkgLSBtaWxsaXNlY29uZHMgdmFsdWUgb2YgbW91c2VZIHBvaW50cy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbmVhcmVzdEdyaWRZIC0gbmVhcmVzdCBncmlkIGluZGV4IHJlbGF0ZWQgd2l0aCBtb3VzZVkgdmFsdWUuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG5lYXJlc3RHcmlkVGltZVkgLSB0aW1lIHZhbHVlIGZvciBuZWFyZXN0R3JpZFkuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHRhcmdldE1vZGVsSUQgLSBUaGUgbW9kZWwgdW5pcXVlIGlkIGVtaXR0ZWQgbW92ZSBzY2hlZHVsZS5cbiAgICAgKi9cbiAgICB0aGlzLmZpcmUob3ZlcnJpZGVFdmVudE5hbWUgfHwgJ3RpbWVSZXNpemVEcmFnJywgc2NoZWR1bGVEYXRhKTtcbn07XG5cbi8qKlxuICogVXBkYXRlIG1vZGVsIGluc3RhbmNlIGJ5IGRyYWdlbmQgZXZlbnQgcmVzdWx0cy5cbiAqIEBmaXJlcyBUaW1lUmVzaXplI2JlZm9yZVVwZGF0ZVNjaGVkdWxlXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZWR1bGVEYXRhIC0gc2NoZWR1bGUgZGF0YSBmcm9tIFRpbWVSZXNpemUjdGltZVJlc2l6ZURyYWdlbmRcbiAqL1xuVGltZVJlc2l6ZS5wcm90b3R5cGUuX3VwZGF0ZVNjaGVkdWxlID0gZnVuY3Rpb24oc2NoZWR1bGVEYXRhKSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzLmJhc2VDb250cm9sbGVyLFxuICAgICAgICBtb2RlbElEID0gc2NoZWR1bGVEYXRhLnRhcmdldE1vZGVsSUQsXG4gICAgICAgIHJhbmdlID0gc2NoZWR1bGVEYXRhLm5lYXJlc3RSYW5nZSxcbiAgICAgICAgdGltZURpZmYgPSByYW5nZVsxXSAtIHJhbmdlWzBdLFxuICAgICAgICBzY2hlZHVsZSA9IGN0cmwuc2NoZWR1bGVzLml0ZW1zW21vZGVsSURdLFxuICAgICAgICByZWxhdGVkVmlldyA9IHNjaGVkdWxlRGF0YS5yZWxhdGVkVmlldyxcbiAgICAgICAgZGF0ZUVuZCxcbiAgICAgICAgbmV3RW5kcyxcbiAgICAgICAgYmFzZURhdGU7XG4gICAgdmFyIGNoYW5nZXM7XG5cbiAgICBpZiAoIXNjaGVkdWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aW1lRGlmZiAtPSBkYXRldGltZS5taWxsaXNlY29uZHNGcm9tKCdtaW51dGVzJywgMzApO1xuXG4gICAgYmFzZURhdGUgPSBuZXcgVFpEYXRlKHJlbGF0ZWRWaWV3LmdldERhdGUoKSk7XG4gICAgZGF0ZUVuZCA9IGRhdGV0aW1lLmVuZChiYXNlRGF0ZSk7XG4gICAgbmV3RW5kcyA9IG5ldyBUWkRhdGUoc2NoZWR1bGUuZ2V0RW5kcygpKS5hZGRNaWxsaXNlY29uZHModGltZURpZmYpO1xuXG4gICAgaWYgKG5ld0VuZHMgPiBkYXRlRW5kKSB7XG4gICAgICAgIG5ld0VuZHMgPSBuZXcgVFpEYXRlKGRhdGVFbmQpO1xuICAgIH1cblxuICAgIGlmIChuZXdFbmRzLmdldFRpbWUoKSAtIHNjaGVkdWxlLmdldFN0YXJ0cygpLmdldFRpbWUoKSA8IGRhdGV0aW1lLm1pbGxpc2Vjb25kc0Zyb20oJ21pbnV0ZXMnLCAzMCkpIHtcbiAgICAgICAgbmV3RW5kcyA9IG5ldyBUWkRhdGUoc2NoZWR1bGUuZ2V0U3RhcnRzKCkpLmFkZE1pbnV0ZXMoMzApO1xuICAgIH1cblxuICAgIGNoYW5nZXMgPSBjb21tb24uZ2V0U2NoZWR1bGVDaGFuZ2VzKFxuICAgICAgICBzY2hlZHVsZSxcbiAgICAgICAgWydlbmQnXSxcbiAgICAgICAge2VuZDogbmV3RW5kc31cbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IFRpbWVSZXNpemUjYmVmb3JlVXBkYXRlU2NoZWR1bGVcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7U2NoZWR1bGV9IHNjaGVkdWxlIC0gVGhlIG9yaWdpbmFsIHNjaGVkdWxlIGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtEYXRlfSBzdGFydCAtIERlcHJlY2F0ZWQ6IHN0YXJ0IHRpbWUgdG8gdXBkYXRlXG4gICAgICogQHByb3BlcnR5IHtEYXRlfSBlbmQgLSBEZXByZWNhdGVkOiBlbmQgdGltZSB0byB1cGRhdGVcbiAgICAgKiBAcHJvcGVydHkge29iamVjdH0gY2hhbmdlcyAtIGVuZCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqICBAcHJvcGVydHkge2RhdGV9IGVuZCAtIGVuZCB0aW1lIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnYmVmb3JlVXBkYXRlU2NoZWR1bGUnLCB7XG4gICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZSxcbiAgICAgICAgY2hhbmdlczogY2hhbmdlcyxcbiAgICAgICAgc3RhcnQ6IHNjaGVkdWxlLmdldFN0YXJ0cygpLFxuICAgICAgICBlbmQ6IG5ld0VuZHNcbiAgICB9KTtcbn07XG5cbi8qKlxuICogRHJhZyNkcmFnRW5kIGV2ZW50IGhhbmRsZXJcbiAqIEBlbWl0cyBUaW1lUmVzaXplI3RpbWVSZXNpemVEcmFnZW5kXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGRyYWdFbmRFdmVudERhdGEgLSBNb3VzZSBldmVudCBvZiBEcmFnI2RyYWdFbmQgY3VzdG9tIGV2ZW50LlxuICovXG5UaW1lUmVzaXplLnByb3RvdHlwZS5fb25EcmFnRW5kID0gZnVuY3Rpb24oZHJhZ0VuZEV2ZW50RGF0YSkge1xuICAgIHZhciBnZXRTY2hlZHVsZURhdGFGdW5jID0gdGhpcy5fZ2V0U2NoZWR1bGVEYXRhRnVuYyxcbiAgICAgICAgZHJhZ1N0YXJ0ID0gdGhpcy5fZHJhZ1N0YXJ0LFxuICAgICAgICBzY2hlZHVsZURhdGE7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih7XG4gICAgICAgIGRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgZHJhZ0VuZDogdGhpcy5fb25EcmFnRW5kLFxuICAgICAgICBjbGljazogdGhpcy5fb25DbGlja1xuICAgIH0sIHRoaXMpO1xuXG4gICAgaWYgKCFnZXRTY2hlZHVsZURhdGFGdW5jIHx8ICFkcmFnU3RhcnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjaGVkdWxlRGF0YSA9IGdldFNjaGVkdWxlRGF0YUZ1bmMoZHJhZ0VuZEV2ZW50RGF0YS5vcmlnaW5FdmVudCwge1xuICAgICAgICB0YXJnZXRNb2RlbElEOiBkcmFnU3RhcnQudGFyZ2V0TW9kZWxJRFxuICAgIH0pO1xuXG4gICAgc2NoZWR1bGVEYXRhLnJhbmdlID0gW1xuICAgICAgICBkcmFnU3RhcnQudGltZVksXG4gICAgICAgIG5ldyBUWkRhdGUoc2NoZWR1bGVEYXRhLnRpbWVZKS5hZGRNaW51dGVzKDMwKVxuICAgIF07XG5cbiAgICBzY2hlZHVsZURhdGEubmVhcmVzdFJhbmdlID0gW1xuICAgICAgICBkcmFnU3RhcnQubmVhcmVzdEdyaWRUaW1lWSxcbiAgICAgICAgc2NoZWR1bGVEYXRhLm5lYXJlc3RHcmlkVGltZVkuYWRkTWludXRlcygzMClcbiAgICBdO1xuXG4gICAgdGhpcy5fdXBkYXRlU2NoZWR1bGUoc2NoZWR1bGVEYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBUaW1lUmVzaXplI3RpbWVSZXNpemVEcmFnZW5kXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSB0YXJnZXQgLSBjdXJyZW50IHRhcmdldCBpbiBtb3VzZSBldmVudCBvYmplY3QuXG4gICAgICogQHByb3BlcnR5IHtUaW1lfSByZWxhdGVkVmlldyAtIHRpbWUgdmlldyBpbnN0YW5jZSByZWxhdGVkIHdpdGggZHJhZyBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcHJvcGVydHkge01vdXNlRXZlbnR9IG9yaWdpbkV2ZW50IC0gbW91c2UgZXZlbnQgb2JqZWN0LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtb3VzZVkgLSBtb3VzZSBZIHB4IG1vdXNlIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBncmlkWSAtIGdyaWQgWSBpbmRleCB2YWx1ZSByZWxhdGVkIHdpdGggbW91c2VZIHZhbHVlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lWSAtIG1pbGxpc2Vjb25kcyB2YWx1ZSBvZiBtb3VzZVkgcG9pbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBuZWFyZXN0R3JpZFkgLSBuZWFyZXN0IGdyaWQgaW5kZXggcmVsYXRlZCB3aXRoIG1vdXNlWSB2YWx1ZS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbmVhcmVzdEdyaWRUaW1lWSAtIHRpbWUgdmFsdWUgZm9yIG5lYXJlc3RHcmlkWS5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gdGFyZ2V0TW9kZWxJRCAtIFRoZSBtb2RlbCB1bmlxdWUgaWQgZW1pdHRlZCBtb3ZlIHNjaGVkdWxlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyW119IHJhbmdlIC0gbWlsbGlzZWNvbmRzIHJhbmdlIGJldHdlZW4gZHJhZyBzdGFydCBhbmQgZW5kLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyW119IG5lYXJlc3RSYW5nZSAtIG1pbGxpc2Vjb25kcyByYW5nZSByZWxhdGVkIHdpdGggbmVhcmVzdEdyaWRZIGJldHdlZW4gc3RhcnQgYW5kIGVuZC5cbiAgICAgKi9cbiAgICB0aGlzLmZpcmUoJ3RpbWVSZXNpemVEcmFnZW5kJywgc2NoZWR1bGVEYXRhKTtcblxuICAgIHRoaXMuX2dldFNjaGVkdWxlRGF0YUZ1bmMgPSB0aGlzLl9kcmFnU3RhcnQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBAZW1pdHMgVGltZVJlc2l6ZSN0aW1lUmVzaXplQ2xpY2tcbiAqL1xuVGltZVJlc2l6ZS5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRyYWdIYW5kbGVyLm9mZih7XG4gICAgICAgIGRyYWc6IHRoaXMuX29uRHJhZyxcbiAgICAgICAgZHJhZ0VuZDogdGhpcy5fb25EcmFnRW5kLFxuICAgICAgICBjbGljazogdGhpcy5fb25DbGlja1xuICAgIH0sIHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IFRpbWVSZXNpemUjdGltZVJlc2l6ZUNsaWNrXG4gICAgICovXG4gICAgdGhpcy5maXJlKCd0aW1lUmVzaXplQ2xpY2snKTtcbn07XG5cbnRpbWVDb3JlLm1peGluKFRpbWVSZXNpemUpO1xudXRpbC5DdXN0b21FdmVudHMubWl4aW4oVGltZVJlc2l6ZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGltZVJlc2l6ZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy9oYW5kbGVyL3RpbWUvcmVzaXplR3VpZGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL2hhbmRsZXIvdGltZS9yZXNpemVHdWlkZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE1vZHVsZSBmb3IgVGltZS5SZXNpemUgZWZmZWN0IHdoaWxlIGRyYWdnaW5nLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciByZXFBbmltRnJhbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vcmVxQW5pbUZyYW1lICovIFwiLi9zcmMvanMvY29tbW9uL3JlcUFuaW1GcmFtZS5qc1wiKTtcbnZhciByYXRpbyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9jb21tb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29tbW9uLmpzXCIpLnJhdGlvO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xuXG4vKipcbiAqIENsYXNzIGZvciBUaW1lLlJlc2l6ZSBlZmZlY3QuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7VGltZVJlc2l6ZX0gdGltZVJlc2l6ZSAtIHRoZSBpbnN0YW5jZSBvZiBUaW1lUmVzaXplIGhhbmRsZXIuXG4gKi9cbmZ1bmN0aW9uIFRpbWVSZXNpemVHdWlkZSh0aW1lUmVzaXplKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuZ3VpZGVFbGVtZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtUaW1lUmVzaXplfVxuICAgICAqL1xuICAgIHRoaXMudGltZVJlc2l6ZSA9IHRpbWVSZXNpemU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5fZ2V0VG9wRnVuYyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5fb3JpZ2luU2NoZWR1bGVFbGVtZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fc3RhcnRUb3BQaXhlbCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX3N0YXJ0SGVpZ2h0UGl4ZWwgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLl9zdGFydEdyaWRZID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtTY2hlZHVsZX1cbiAgICAgKi9cbiAgICB0aGlzLl9zY2hlZHVsZSA9IG51bGw7XG5cbiAgICB0aW1lUmVzaXplLm9uKHtcbiAgICAgICAgJ3RpbWVSZXNpemVEcmFnc3RhcnQnOiB0aGlzLl9vbkRyYWdTdGFydCxcbiAgICAgICAgJ3RpbWVSZXNpemVEcmFnJzogdGhpcy5fb25EcmFnLFxuICAgICAgICAndGltZVJlc2l6ZURyYWdlbmQnOiB0aGlzLl9jbGVhckd1aWRlRWxlbWVudCxcbiAgICAgICAgJ3RpbWVSZXNpemVDbGljayc6IHRoaXMuX2NsZWFyR3VpZGVFbGVtZW50XG4gICAgfSwgdGhpcyk7XG59XG5cbi8qKlxuICogRGVzdHJveSBtZXRob2RcbiAqL1xuVGltZVJlc2l6ZUd1aWRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fY2xlYXJHdWlkZUVsZW1lbnQoKTtcbiAgICB0aGlzLnRpbWVSZXNpemUub2ZmKHRoaXMpO1xuICAgIHRoaXMuZ3VpZGVFbGVtZW50ID0gdGhpcy50aW1lUmVzaXplID0gdGhpcy5fZ2V0VG9wRnVuYyA9XG4gICAgICAgIHRoaXMuX29yaWdpblNjaGVkdWxlRWxlbWVudCA9IHRoaXMuX3N0YXJ0SGVpZ2h0UGl4ZWwgPVxuICAgICAgICB0aGlzLl9zdGFydEdyaWRZID0gdGhpcy5fc3RhcnRUb3BQaXhlbCA9IG51bGw7XG59O1xuXG4vKipcbiAqIENsZWFyIGd1aWRlIGVsZW1lbnQuXG4gKi9cblRpbWVSZXNpemVHdWlkZS5wcm90b3R5cGUuX2NsZWFyR3VpZGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGd1aWRlRWxlbWVudCA9IHRoaXMuZ3VpZGVFbGVtZW50LFxuICAgICAgICBvcmlnaW5FbGVtZW50ID0gdGhpcy5fb3JpZ2luU2NoZWR1bGVFbGVtZW50O1xuXG4gICAgaWYgKCF1dGlsLmJyb3dzZXIubXNpZSkge1xuICAgICAgICBkb211dGlsLnJlbW92ZUNsYXNzKGdsb2JhbC5kb2N1bWVudC5ib2R5LCBjb25maWcuY2xhc3NuYW1lKCdyZXNpemluZycpKTtcbiAgICB9XG5cbiAgICBpZiAob3JpZ2luRWxlbWVudCkge1xuICAgICAgICBvcmlnaW5FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cblxuICAgIGRvbXV0aWwucmVtb3ZlKGd1aWRlRWxlbWVudCk7XG5cbiAgICB0aGlzLmd1aWRlRWxlbWVudCA9IHRoaXMuX2dldFRvcEZ1bmMgPSB0aGlzLl9vcmlnaW5TY2hlZHVsZUVsZW1lbnQgPVxuICAgICAgICB0aGlzLl9zdGFydEhlaWdodFBpeGVsID0gdGhpcy5fc3RhcnRHcmlkWSA9IHRoaXMuX3N0YXJ0VG9wUGl4ZWwgPSBudWxsO1xufTtcblxuLyoqXG4gKiBSZWZyZXNoIGd1aWRlIGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBndWlkZUhlaWdodCAtIGd1aWRlIGVsZW1lbnQncyBzdHlsZSBoZWlnaHQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluVGltZUhlaWdodCAtIHRpbWUgZWxlbWVudCdzIG1pbiBoZWlnaHRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lSGVpZ2h0IC0gdGltZSBlbGVtZW50J3MgaGVpZ2h0LlxuICovXG5UaW1lUmVzaXplR3VpZGUucHJvdG90eXBlLl9yZWZyZXNoR3VpZGVFbGVtZW50ID0gZnVuY3Rpb24oZ3VpZGVIZWlnaHQsIG1pblRpbWVIZWlnaHQsIHRpbWVIZWlnaHQpIHtcbiAgICB2YXIgZ3VpZGVFbGVtZW50ID0gdGhpcy5ndWlkZUVsZW1lbnQ7XG4gICAgdmFyIHRpbWVFbGVtZW50O1xuXG4gICAgaWYgKCFndWlkZUVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRpbWVFbGVtZW50ID0gZG9tdXRpbC5maW5kKGNvbmZpZy5jbGFzc25hbWUoJy50aW1lLXNjaGVkdWxlLWNvbnRlbnQtdGltZScpLCBndWlkZUVsZW1lbnQpO1xuXG4gICAgcmVxQW5pbUZyYW1lLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgIGd1aWRlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBndWlkZUhlaWdodCArICdweCc7XG4gICAgICAgIGd1aWRlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICBpZiAodGltZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRpbWVFbGVtZW50LnN0eWxlLmhlaWdodCA9IHRpbWVIZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgdGltZUVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gbWluVGltZUhlaWdodCArICdweCc7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxuICogVGltZU1vdmUjdGltZU1vdmVEcmFnc3RhcnQgZXZlbnQgaGFuZGxlclxuICogQHBhcmFtIHtvYmplY3R9IGRyYWdTdGFydEV2ZW50RGF0YSAtIGRyYWdzdGFydCBldmVudCBkYXRhXG4gKi9cblRpbWVSZXNpemVHdWlkZS5wcm90b3R5cGUuX29uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZHJhZ1N0YXJ0RXZlbnREYXRhKSB7XG4gICAgdmFyIG9yaWdpbkVsZW1lbnQgPSBkb211dGlsLmNsb3Nlc3QoXG4gICAgICAgICAgICBkcmFnU3RhcnRFdmVudERhdGEudGFyZ2V0LFxuICAgICAgICAgICAgY29uZmlnLmNsYXNzbmFtZSgnLnRpbWUtZGF0ZS1zY2hlZHVsZS1ibG9jaycpXG4gICAgICAgICksXG4gICAgICAgIHNjaGVkdWxlID0gZHJhZ1N0YXJ0RXZlbnREYXRhLnNjaGVkdWxlLFxuICAgICAgICBndWlkZUVsZW1lbnQ7XG5cbiAgICBpZiAoIXV0aWwuYnJvd3Nlci5tc2llKSB7XG4gICAgICAgIGRvbXV0aWwuYWRkQ2xhc3MoZ2xvYmFsLmRvY3VtZW50LmJvZHksIGNvbmZpZy5jbGFzc25hbWUoJ3Jlc2l6aW5nJykpO1xuICAgIH1cblxuICAgIGlmICghb3JpZ2luRWxlbWVudCB8fCAhc2NoZWR1bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3N0YXJ0R3JpZFkgPSBkcmFnU3RhcnRFdmVudERhdGEubmVhcmVzdEdyaWRZO1xuICAgIHRoaXMuX3N0YXJ0SGVpZ2h0UGl4ZWwgPSBwYXJzZUZsb2F0KG9yaWdpbkVsZW1lbnQuc3R5bGUuaGVpZ2h0KTtcbiAgICB0aGlzLl9zdGFydFRvcFBpeGVsID0gcGFyc2VGbG9hdChvcmlnaW5FbGVtZW50LnN0eWxlLnRvcCk7XG5cbiAgICB0aGlzLl9vcmlnaW5TY2hlZHVsZUVsZW1lbnQgPSBvcmlnaW5FbGVtZW50O1xuICAgIHRoaXMuX3NjaGVkdWxlID0gc2NoZWR1bGU7XG5cbiAgICBndWlkZUVsZW1lbnQgPSB0aGlzLmd1aWRlRWxlbWVudCA9IG9yaWdpbkVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIGRvbXV0aWwuYWRkQ2xhc3MoZ3VpZGVFbGVtZW50LCBjb25maWcuY2xhc3NuYW1lKCd0aW1lLWd1aWRlLXJlc2l6ZScpKTtcblxuICAgIG9yaWdpbkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkcmFnU3RhcnRFdmVudERhdGEucmVsYXRlZFZpZXcuY29udGFpbmVyLmFwcGVuZENoaWxkKGd1aWRlRWxlbWVudCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBkcmFnRXZlbnREYXRhIC0gZXZlbnQgZGF0YSBmcm9tIERyYWcjZHJhZy5cbiAqL1xuVGltZVJlc2l6ZUd1aWRlLnByb3RvdHlwZS5fb25EcmFnID0gZnVuY3Rpb24oZHJhZ0V2ZW50RGF0YSkge1xuICAgIHZhciB0aW1lVmlldyA9IGRyYWdFdmVudERhdGEucmVsYXRlZFZpZXcsXG4gICAgICAgIHZpZXdPcHRpb25zID0gdGltZVZpZXcub3B0aW9ucyxcbiAgICAgICAgdmlld0hlaWdodCA9IHRpbWVWaWV3LmdldFZpZXdCb3VuZCgpLmhlaWdodCxcbiAgICAgICAgaG91ckxlbmd0aCA9IHZpZXdPcHRpb25zLmhvdXJFbmQgLSB2aWV3T3B0aW9ucy5ob3VyU3RhcnQsXG4gICAgICAgIGd1aWRlRWxlbWVudCA9IHRoaXMuZ3VpZGVFbGVtZW50LFxuICAgICAgICBndWlkZVRvcCA9IHBhcnNlRmxvYXQoZ3VpZGVFbGVtZW50LnN0eWxlLnRvcCksXG4gICAgICAgIGdyaWRZT2Zmc2V0ID0gZHJhZ0V2ZW50RGF0YS5uZWFyZXN0R3JpZFkgLSB0aGlzLl9zdGFydEdyaWRZLFxuICAgICAgICAvLyBob3VyTGVuZ3RoIDogdmlld0hlaWdodCA9IGdyaWRZT2Zmc2V0IDogWDtcbiAgICAgICAgZ3JpZFlPZmZzZXRQaXhlbCA9IHJhdGlvKGhvdXJMZW5ndGgsIHZpZXdIZWlnaHQsIGdyaWRZT2Zmc2V0KSxcbiAgICAgICAgZ29pbmdEdXJhdGlvbiA9IHRoaXMuX3NjaGVkdWxlLmdvaW5nRHVyYXRpb24sXG4gICAgICAgIG1vZGVsRHVyYXRpb24gPSB0aGlzLl9zY2hlZHVsZS5kdXJhdGlvbigpIC8gZGF0ZXRpbWUuTUlMTElTRUNPTkRTX1BFUl9NSU5VVEVTLFxuICAgICAgICBjb21pbmdEdXJhdGlvbiA9IHRoaXMuX3NjaGVkdWxlLmNvbWluZ0R1cmF0aW9uLFxuICAgICAgICBtaW51dGVzTGVuZ3RoID0gaG91ckxlbmd0aCAqIDYwLFxuICAgICAgICB0aW1lSGVpZ2h0LFxuICAgICAgICB0aW1lTWluSGVpZ2h0LFxuICAgICAgICBtaW5IZWlnaHQsXG4gICAgICAgIG1heEhlaWdodCxcbiAgICAgICAgaGVpZ2h0O1xuXG4gICAgaGVpZ2h0ID0gKHRoaXMuX3N0YXJ0SGVpZ2h0UGl4ZWwgKyBncmlkWU9mZnNldFBpeGVsKTtcbiAgICAvLyBhdCBsZWFzdCBsYXJnZSB0aGFuIDMwbWluIGZyb20gc2NoZWR1bGUgc3RhcnQgdGltZS5cbiAgICBtaW5IZWlnaHQgPSBndWlkZVRvcCArIHJhdGlvKGhvdXJMZW5ndGgsIHZpZXdIZWlnaHQsIDAuNSk7XG4gICAgbWluSGVpZ2h0IC09IHRoaXMuX3N0YXJ0VG9wUGl4ZWw7XG4gICAgdGltZU1pbkhlaWdodCA9IG1pbkhlaWdodDtcbiAgICBtaW5IZWlnaHQgKz0gcmF0aW8obWludXRlc0xlbmd0aCwgdmlld0hlaWdodCwgZ29pbmdEdXJhdGlvbikgKyByYXRpbyhtaW51dGVzTGVuZ3RoLCB2aWV3SGVpZ2h0LCBjb21pbmdEdXJhdGlvbik7XG4gICAgLy8gc21hbGxlciB0aGFuIDI0aFxuICAgIG1heEhlaWdodCA9IHZpZXdIZWlnaHQgLSBndWlkZVRvcDtcblxuICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgbWluSGVpZ2h0KTtcbiAgICBoZWlnaHQgPSBNYXRoLm1pbihoZWlnaHQsIG1heEhlaWdodCk7XG5cbiAgICB0aW1lSGVpZ2h0ID0gcmF0aW8obWludXRlc0xlbmd0aCwgdmlld0hlaWdodCwgbW9kZWxEdXJhdGlvbikgKyBncmlkWU9mZnNldFBpeGVsO1xuXG4gICAgdGhpcy5fcmVmcmVzaEd1aWRlRWxlbWVudChoZWlnaHQsIHRpbWVNaW5IZWlnaHQsIHRpbWVIZWlnaHQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUaW1lUmVzaXplR3VpZGU7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL21vZGVsL3NjaGVkdWxlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL21vZGVsL3NjaGVkdWxlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50IGNvbXBsZXhpdHk6IDAgKi9cbi8qKlxuICogQGZpbGVvdmVydmlldyBNb2RlbCBvZiBzY2hlZHVsZS5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciB0eiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKTtcbnZhciBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKTtcbnZhciBkaXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9kaXJ0eSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kaXJ0eS5qc1wiKTtcbnZhciBtb2RlbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9tb2RlbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9tb2RlbC5qc1wiKTtcbnZhciBUWkRhdGUgPSB0ei5EYXRlO1xudmFyIE1JTl9UT19NUyA9IDYwICogMTAwMDtcblxudmFyIFNDSEVEVUxFX01JTl9EVVJBVElPTiA9IGRhdGV0aW1lLk1JTExJU0VDT05EU19TQ0hFRFVMRV9NSU5fRFVSQVRJT047XG5cbi8qKlxuICogU2NoZWR1bGUgY2F0ZWdvcnlcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIFNDSEVEVUxFX0NBVEVHT1JZID0ge1xuICAgIC8qKiBtaWxlc3RvbmUgKi9cbiAgICBNSUxFU1RPTkU6ICdtaWxlc3RvbmUnLFxuXG4gICAgLyoqIHRhc2sgKi9cbiAgICBUQVNLOiAndGFzaycsXG5cbiAgICAvKiogYWxsLWRheSBzY2hlZHVsZSAqL1xuICAgIEFMTERBWTogJ2FsbGRheScsXG5cbiAgICAvKiogbm9ybWFsIHNjaGVkdWxlICovXG4gICAgVElNRTogJ3RpbWUnXG59O1xuXG4vKipcbiAqIEdldCBkdXJhdGlvbiBieSBwcmltYXJ5IHRpbWV6b25lXG4gKiBAcGFyYW0ge0RhdGV9IHN0YXJ0IHJlbmRlciBzdGFydCBkYXRlXG4gKiBAcGFyYW0ge0RhdGV9IGVuZCByZW5kZXIgZW5kIGRhdGVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGR1cmF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldER1cmF0aW9uQnlQcmltYXJ5VGltZXpvbmUoc3RhcnQsIGVuZCkge1xuICAgIHZhciBjaGVja09mZnNldCA9IHR6LmlzRGlmZmVyZW50T2Zmc2V0U3RhcnRBbmRFbmRUaW1lKHN0YXJ0LmdldFRpbWUoKSwgZW5kLmdldFRpbWUoKSk7XG4gICAgdmFyIGlzT2Zmc2V0Q2hhbmdlZCA9IGNoZWNrT2Zmc2V0LmlzT2Zmc2V0Q2hhbmdlZDtcbiAgICB2YXIgZHVyYXRpb24gPSBlbmQgLSBzdGFydDtcblxuICAgIGlmIChpc09mZnNldENoYW5nZWQgIT09IDApIHtcbiAgICAgICAgZHVyYXRpb24gKz0gY2hlY2tPZmZzZXQub2Zmc2V0RGlmZiAqIE1JTl9UT19NUztcbiAgICB9XG5cbiAgICByZXR1cm4gZHVyYXRpb247XG59XG5cbi8qKlxuICogR2V0IGR1cmF0aW9uIGJ5IG5hdGl2ZSB0aW1lem9uZVxuICogQHBhcmFtIHtUWkRhdGV9IHN0YXJ0IHJlbmRlciBzdGFydCBkYXRlXG4gKiBAcGFyYW0ge1RaRGF0ZX0gZW5kIHJlbmRlciBlbmQgZGF0ZVxuICogQHJldHVybnMge251bWJlcn0gZHVyYXRpb25cbiAqL1xuZnVuY3Rpb24gZ2V0RHVyYXRpb25CeU5hdGl2ZVRpbWV6b25lKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgc3RhcnRPZmZzZXQgPSBzdGFydC50b0RhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgIHZhciBlbmRPZmZzZXQgPSBlbmQudG9EYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblxuICAgIHJldHVybiAoZW5kIC0gc3RhcnQpICsgKChlbmRPZmZzZXQgLSBzdGFydE9mZnNldCkgKiBNSU5fVE9fTVMpO1xufVxuXG4vKipcbiAqIFRoZSBtb2RlbCBvZiBjYWxlbmRhciBzY2hlZHVsZXMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBtaXhlcyBkaXJ0eVxuICogQG1peGVzIG1vZGVsXG4gKi9cbmZ1bmN0aW9uIFNjaGVkdWxlKCkge1xuICAgIC8qKlxuICAgICAqIGBPcHRpb25hbGAgdW5pcXVlIGlkIGZvciB2YXJpb3VzIHVzZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuaWQgPSAnJztcblxuICAgIC8qKlxuICAgICAqIHRpdGxlIGZvciBzY2hlZHVsZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudGl0bGUgPSAnJztcblxuICAgIC8qKlxuICAgICAqIGJvZHkgZm9yIHNjaGVkdWxlLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5ib2R5ID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBpcyBzY2hlZHVsZSBpcyBhbGwgZGF5IHNjaGVkdWxlP1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaXNBbGxEYXkgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIHNjaGVkdWxlIHN0YXJ0XG4gICAgICogQHR5cGUge1RaRGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIHNjaGVkdWxlIGVuZFxuICAgICAqIEB0eXBlIHtUWkRhdGV9XG4gICAgICovXG4gICAgdGhpcy5lbmQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogc2NoZWR1bGUgdGV4dCBjb2xvclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jb2xvciA9ICcjMDAwJztcblxuICAgIC8qKlxuICAgICAqIHNjaGVkdWxlIGJsb2NrIHZpc2liaWxpdHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBzY2hlZHVsZSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmJnQ29sb3IgPSAnI2ExYjU2Yyc7XG5cbiAgICAvKipcbiAgICAgKiBzY2hlZHVsZSBiYWNrZ3JvdW5kIGNvbG9yIHdoZW4gZHJhZ2dpbmcgaXRcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ0JnQ29sb3IgPSAnI2ExYjU2Yyc7XG5cbiAgICAvKipcbiAgICAgKiBzY2hlZHVsZSBsZWZ0IGJvcmRlciBjb2xvclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5ib3JkZXJDb2xvciA9ICcjMDAwJztcblxuICAgIC8qKlxuICAgICAqIGNhbGVuZGFyIElEXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmNhbGVuZGFySWQgPSAnJztcblxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIGNhdGVnb3J5KG1pbGVzdG9uZSwgdGFzaywgYWxsZGF5LCB0aW1lKVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jYXRlZ29yeSA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogQ2xhc3NpZmljYXRpb24gb2Ygd29yayBzY2hlZHVsZXMgKGJlZm9yZSB3b3JrLCBiZWZvcmUgbHVuY2gsIGJlZm9yZSB3b3JrKVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5kdWVEYXRlQ2xhc3MgPSAnJztcblxuICAgIC8qKlxuICAgICAqIEN1c3RvbSBzdHlsZSBmb3Igc2NoZWR1bGUgZWxlbWVudFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jdXN0b21TdHlsZSA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogaW4gcHJvZ3Jlc3MgZmxhZyB0byBkbyBzb21ldGhpbmdcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmlzUGVuZGluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogZm9jdXNlZCBzY2hlZHVsZSBmbGFnXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIHJlYWQtb25seSBzY2hlZHVsZSBmbGFnXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc1JlYWRPbmx5ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlIHNjaGVkdWxlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc1ByaXZhdGUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIGxvY2F0aW9uXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmxvY2F0aW9uID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBhdHRlbmRlZXNcbiAgICAgKiBAdHlwZSB7QXJyYXkuPHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5hdHRlbmRlZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIHJlY3VycmVuY2UgcnVsZVxuICAgICAqIEB0eXBlIHthbnl9XG4gICAgICovXG4gICAgdGhpcy5yZWN1cnJlbmNlUnVsZSA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogc3RhdGUuICdCdXN5JyBpcyBkZWZhdWx0LlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5zdGF0ZSA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogdHJhdmVsVGltZTogZ29pbmctRHVyYXRpb24gbWludXRlc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5nb2luZ0R1cmF0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIHRyYXZlbFRpbWU6IGNvbWluZy1EdXJhdGlvbiBtaW51dGVzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbWluZ0R1cmF0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIFNlcGFyYXRlIGRhdGEgc3RvcmFnZSBzcGFjZSBpbmRlcGVuZGVudCBvZiByZW5kZXJpbmcuXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnJhdyA9IG51bGw7XG5cbiAgICAvLyBpbml0aWFsaXplIG1vZGVsIGlkXG4gICAgdXRpbC5zdGFtcCh0aGlzKTtcbn1cblxuLyoqKioqKioqKipcbiAqIHN0YXRpYyBwcm9wc1xuICoqKioqKioqKiovXG5cblNjaGVkdWxlLnNjaGVtYSA9IHtcbiAgICByZXF1aXJlZDogWyd0aXRsZSddLFxuICAgIGRhdGVSYW5nZTogWydzdGFydCcsICdlbmQnXVxufTtcblxuLyoqXG4gKiBjcmVhdGUgc2NoZWR1bGUgbW9kZWwgZnJvbSBqc29uKG9iamVjdCkgZGF0YS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIG9iamVjdCBmb3IgbW9kZWwuXG4gKiBAcmV0dXJucyB7U2NoZWR1bGV9IFNjaGVkdWxlIG1vZGVsIGluc3RhbmNlLlxuICovXG5TY2hlZHVsZS5jcmVhdGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIGluc3QgPSBuZXcgU2NoZWR1bGUoKTtcbiAgICBpbnN0LmluaXQoZGF0YSk7XG5cbiAgICByZXR1cm4gaW5zdDtcbn07XG5cbi8qKioqKioqKioqXG4gKiBwcm90b3R5cGUgcHJvcHNcbiAqKioqKioqKioqL1xuXG4vKipcbiAqIEluaXRpYWxpemUgc2NoZWR1bGUgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBvcHRpb25zLlxuICovXG5TY2hlZHVsZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gdXRpbC5leHRlbmQoe30sIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmNhdGVnb3J5ID09PSBTQ0hFRFVMRV9DQVRFR09SWS5BTExEQVkpIHtcbiAgICAgICAgb3B0aW9ucy5pc0FsbERheSA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQgfHwgJyc7XG4gICAgdGhpcy50aXRsZSA9IG9wdGlvbnMudGl0bGUgfHwgJyc7XG4gICAgdGhpcy5ib2R5ID0gb3B0aW9ucy5ib2R5IHx8ICcnO1xuICAgIHRoaXMuaXNBbGxEYXkgPSB1dGlsLmlzRXhpc3R5KG9wdGlvbnMuaXNBbGxEYXkpID8gb3B0aW9ucy5pc0FsbERheSA6IGZhbHNlO1xuICAgIHRoaXMuaXNWaXNpYmxlID0gdXRpbC5pc0V4aXN0eShvcHRpb25zLmlzVmlzaWJsZSkgPyBvcHRpb25zLmlzVmlzaWJsZSA6IHRydWU7XG5cbiAgICB0aGlzLmNvbG9yID0gb3B0aW9ucy5jb2xvciB8fCB0aGlzLmNvbG9yO1xuICAgIHRoaXMuYmdDb2xvciA9IG9wdGlvbnMuYmdDb2xvciB8fCB0aGlzLmJnQ29sb3I7XG4gICAgdGhpcy5kcmFnQmdDb2xvciA9IG9wdGlvbnMuZHJhZ0JnQ29sb3IgfHwgdGhpcy5kcmFnQmdDb2xvcjtcbiAgICB0aGlzLmJvcmRlckNvbG9yID0gb3B0aW9ucy5ib3JkZXJDb2xvciB8fCB0aGlzLmJvcmRlckNvbG9yO1xuICAgIHRoaXMuY2FsZW5kYXJJZCA9IG9wdGlvbnMuY2FsZW5kYXJJZCB8fCAnJztcbiAgICB0aGlzLmNhdGVnb3J5ID0gb3B0aW9ucy5jYXRlZ29yeSB8fCAnJztcbiAgICB0aGlzLmR1ZURhdGVDbGFzcyA9IG9wdGlvbnMuZHVlRGF0ZUNsYXNzIHx8ICcnO1xuICAgIHRoaXMuY3VzdG9tU3R5bGUgPSBvcHRpb25zLmN1c3RvbVN0eWxlIHx8ICcnO1xuICAgIHRoaXMubG9jYXRpb24gPSBvcHRpb25zLmxvY2F0aW9uIHx8ICcnO1xuICAgIHRoaXMuYXR0ZW5kZWVzID0gb3B0aW9ucy5hdHRlbmRlZXMgfHwgW107XG4gICAgdGhpcy5yZWN1cnJlbmNlUnVsZSA9IG9wdGlvbnMucmVjdXJyZW5jZVJ1bGUgfHwgJyc7XG4gICAgdGhpcy5pc1ByaXZhdGUgPSBvcHRpb25zLmlzUHJpdmF0ZSB8fCBmYWxzZTtcbiAgICB0aGlzLmlzUGVuZGluZyA9IG9wdGlvbnMuaXNQZW5kaW5nIHx8IGZhbHNlO1xuICAgIHRoaXMuaXNGb2N1c2VkID0gb3B0aW9ucy5pc0ZvY3VzZWQgfHwgZmFsc2U7XG4gICAgdGhpcy5pc1JlYWRPbmx5ID0gb3B0aW9ucy5pc1JlYWRPbmx5IHx8IGZhbHNlO1xuICAgIHRoaXMuZ29pbmdEdXJhdGlvbiA9IG9wdGlvbnMuZ29pbmdEdXJhdGlvbiB8fCAwO1xuICAgIHRoaXMuY29taW5nRHVyYXRpb24gPSBvcHRpb25zLmNvbWluZ0R1cmF0aW9uIHx8IDA7XG4gICAgdGhpcy5zdGF0ZSA9IG9wdGlvbnMuc3RhdGUgfHwgJyc7XG5cbiAgICBpZiAodGhpcy5pc0FsbERheSkge1xuICAgICAgICB0aGlzLnNldEFsbERheVBlcmlvZChvcHRpb25zLnN0YXJ0LCBvcHRpb25zLmVuZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRUaW1lUGVyaW9kKG9wdGlvbnMuc3RhcnQsIG9wdGlvbnMuZW5kKTtcbiAgICB9XG5cbiAgICB0aGlzLnJhdyA9IG9wdGlvbnMucmF3IHx8IG51bGw7XG59O1xuXG5TY2hlZHVsZS5wcm90b3R5cGUuc2V0QWxsRGF5UGVyaW9kID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgIC8vIElmIGl0IGlzIGFuIGFsbC1kYXkgc2NoZWR1bGUsIG9ubHkgdGhlIGRhdGUgaW5mb3JtYXRpb24gb2YgdGhlIHN0cmluZyBpcyB1c2VkLlxuICAgIGlmICh1dGlsLmlzU3RyaW5nKHN0YXJ0KSAmJiBzdGFydC5sZW5ndGggPT09IDEwKSB7XG4gICAgICAgIHN0YXJ0ID0gZGF0ZXRpbWUucGFyc2Uoc3RhcnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gbmV3IFRaRGF0ZShzdGFydCB8fCBEYXRlLm5vdygpKTtcbiAgICB9XG5cbiAgICBpZiAodXRpbC5pc1N0cmluZyhlbmQpICYmIGVuZC5sZW5ndGggPT09IDEwKSB7XG4gICAgICAgIGVuZCA9IGRhdGV0aW1lLnBhcnNlKGVuZCk7XG4gICAgICAgIGVuZC5zZXRIb3VycygyMywgNTksIDU5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSBuZXcgVFpEYXRlKGVuZCB8fCBzdGFydCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydCA9IGRhdGV0aW1lLnN0YXJ0KHN0YXJ0KTtcbiAgICB0aGlzLmVuZCA9IGRhdGV0aW1lLnJlbmRlckVuZChzdGFydCwgZW5kKTtcbn07XG5cblNjaGVkdWxlLnByb3RvdHlwZS5zZXRUaW1lUGVyaW9kID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgIHRoaXMuc3RhcnQgPSBuZXcgVFpEYXRlKHN0YXJ0IHx8IERhdGUubm93KCkpO1xuICAgIHRoaXMuZW5kID0gbmV3IFRaRGF0ZShlbmQgfHwgdGhpcy5zdGFydCk7XG5cbiAgICBpZiAoIWVuZCkge1xuICAgICAgICB0aGlzLmVuZC5zZXRNaW51dGVzKHRoaXMuZW5kLmdldE1pbnV0ZXMoKSArIDMwKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtEYXRlfSByZW5kZXIgc3RhcnQgZGF0ZS5cbiAqL1xuU2NoZWR1bGUucHJvdG90eXBlLmdldFN0YXJ0cyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXJ0O1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7RGF0ZX0gcmVuZGVyIGVuZCBkYXRlLlxuICovXG5TY2hlZHVsZS5wcm90b3R5cGUuZ2V0RW5kcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmVuZDtcbn07XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn0gaW5zdGFuY2UgdW5pcXVlIGlkLlxuICovXG5TY2hlZHVsZS5wcm90b3R5cGUuY2lkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHV0aWwuc3RhbXAodGhpcyk7XG59O1xuXG4vKipcbiAqIENoZWNrIHR3byBzY2hlZHVsZSBhcmUgZXF1YWxzIChtZWFucyB0aXRsZSwgaXNBbGxEYXksIHN0YXJ0LCBlbmQgYXJlIHNhbWUpXG4gKiBAcGFyYW0ge1NjaGVkdWxlfSBzY2hlZHVsZSBTY2hlZHVsZSBtb2RlbCBpbnN0YW5jZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybiBmYWxzZSB3aGVuIG5vdCBzYW1lLlxuICovXG5TY2hlZHVsZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICBpZiAodGhpcy5pZCAhPT0gc2NoZWR1bGUuaWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRpdGxlICE9PSBzY2hlZHVsZS50aXRsZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYm9keSAhPT0gc2NoZWR1bGUuYm9keSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNBbGxEYXkgIT09IHNjaGVkdWxlLmlzQWxsRGF5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZGF0ZXRpbWUuY29tcGFyZSh0aGlzLmdldFN0YXJ0cygpLCBzY2hlZHVsZS5nZXRTdGFydHMoKSkgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChkYXRldGltZS5jb21wYXJlKHRoaXMuZ2V0RW5kcygpLCBzY2hlZHVsZS5nZXRFbmRzKCkpICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb2xvciAhPT0gc2NoZWR1bGUuY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmJnQ29sb3IgIT09IHNjaGVkdWxlLmJnQ29sb3IpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRyYWdCZ0NvbG9yICE9PSBzY2hlZHVsZS5kcmFnQmdDb2xvcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYm9yZGVyQ29sb3IgIT09IHNjaGVkdWxlLmJvcmRlckNvbG9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogcmV0dXJuIGR1cmF0aW9uIGJldHdlZW4gc3RhcnQgYW5kIGVuZC5cbiAqIEByZXR1cm5zIHtEYXRlfSBkdXJhdGlvbiAoVVRDKVxuICovXG5TY2hlZHVsZS5wcm90b3R5cGUuZHVyYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmdldFN0YXJ0cygpLFxuICAgICAgICBlbmQgPSB0aGlzLmdldEVuZHMoKSxcbiAgICAgICAgZHVyYXRpb247XG4gICAgdmFyIGhhc1ByaW1hcnlUaW1lem9uZUN1c3RvbVNldHRpbmcgPSB0ei5oYXNQcmltYXJ5VGltZXpvbmVDdXN0b21TZXR0aW5nKCk7XG5cbiAgICBpZiAodGhpcy5pc0FsbERheSkge1xuICAgICAgICBkdXJhdGlvbiA9IGRhdGV0aW1lLmVuZChlbmQpIC0gZGF0ZXRpbWUuc3RhcnQoc3RhcnQpO1xuICAgIH0gZWxzZSBpZiAoaGFzUHJpbWFyeVRpbWV6b25lQ3VzdG9tU2V0dGluZyAmJiB0ei5pc1ByaW1hcnlVc2luZ0RTVFRpbWV6b25lKCkpIHtcbiAgICAgICAgZHVyYXRpb24gPSBnZXREdXJhdGlvbkJ5UHJpbWFyeVRpbWV6b25lKHN0YXJ0LCBlbmQpO1xuICAgIH0gZWxzZSBpZiAoaGFzUHJpbWFyeVRpbWV6b25lQ3VzdG9tU2V0dGluZyAmJiB0ei5pc05hdGl2ZU9zVXNpbmdEU1RUaW1lem9uZSgpKSB7XG4gICAgICAgIGR1cmF0aW9uID0gZ2V0RHVyYXRpb25CeU5hdGl2ZVRpbWV6b25lKHN0YXJ0LCBlbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGR1cmF0aW9uID0gZW5kIC0gc3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGR1cmF0aW9uO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIFNjaGVkdWxlIGNvaW5jaWRlcyB3aXRoIHRoZSBzYW1lIHRpbWUgYXMgdGhlXG4gKiBjYWxsaW5nIFNjaGVkdWxlLlxuICogQHBhcmFtIHtTY2hlZHVsZX0gc2NoZWR1bGUgVGhlIG90aGVyIHNjaGVkdWxlIHRvIGNvbXBhcmUgd2l0aCB0aGlzIFNjaGVkdWxlLlxuICogQHJldHVybnMge2Jvb2xlYW59IElmIHRoZSBvdGhlciBzY2hlZHVsZSBvY2N1cnMgd2l0aGluIHRoZSBzYW1lIHRpbWUgYXMgdGhlIGZpcnN0IG9iamVjdC5cbiAqL1xuU2NoZWR1bGUucHJvdG90eXBlLmNvbGxpZGVzV2l0aCA9IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gICAgdmFyIG93blN0YXJ0cyA9IHRoaXMuZ2V0U3RhcnRzKCksXG4gICAgICAgIG93bkVuZHMgPSB0aGlzLmdldEVuZHMoKSxcbiAgICAgICAgc3RhcnQgPSBzY2hlZHVsZS5nZXRTdGFydHMoKSxcbiAgICAgICAgZW5kID0gc2NoZWR1bGUuZ2V0RW5kcygpO1xuICAgIHZhciBvd25Hb2luZ0R1cmF0aW9uID0gZGF0ZXRpbWUubWlsbGlzZWNvbmRzRnJvbSgnbWludXRlcycsIHRoaXMuZ29pbmdEdXJhdGlvbiksXG4gICAgICAgIG93bkNvbWluZ0R1cmF0aW9uID0gZGF0ZXRpbWUubWlsbGlzZWNvbmRzRnJvbSgnbWludXRlcycsIHRoaXMuY29taW5nRHVyYXRpb24pLFxuICAgICAgICBnb2luZ0R1cmF0aW9uID0gZGF0ZXRpbWUubWlsbGlzZWNvbmRzRnJvbSgnbWludXRlcycsIHNjaGVkdWxlLmdvaW5nRHVyYXRpb24pLFxuICAgICAgICBjb21pbmdEdXJhdGlvbiA9IGRhdGV0aW1lLm1pbGxpc2Vjb25kc0Zyb20oJ21pbnV0ZXMnLCBzY2hlZHVsZS5jb21pbmdEdXJhdGlvbik7XG5cbiAgICBpZiAoTWF0aC5hYnMob3duRW5kcyAtIG93blN0YXJ0cykgPCBTQ0hFRFVMRV9NSU5fRFVSQVRJT04pIHtcbiAgICAgICAgb3duRW5kcyArPSBTQ0hFRFVMRV9NSU5fRFVSQVRJT047XG4gICAgfVxuXG4gICAgaWYgKE1hdGguYWJzKGVuZCAtIHN0YXJ0KSA8IFNDSEVEVUxFX01JTl9EVVJBVElPTikge1xuICAgICAgICBlbmQgKz0gU0NIRURVTEVfTUlOX0RVUkFUSU9OO1xuICAgIH1cblxuICAgIG93blN0YXJ0cyAtPSBvd25Hb2luZ0R1cmF0aW9uO1xuICAgIG93bkVuZHMgKz0gb3duQ29taW5nRHVyYXRpb247XG4gICAgc3RhcnQgLT0gZ29pbmdEdXJhdGlvbjtcbiAgICBlbmQgKz0gY29taW5nRHVyYXRpb247XG5cbiAgICBpZiAoXG4gICAgICAgIChzdGFydCA+IG93blN0YXJ0cyAmJiBzdGFydCA8IG93bkVuZHMpIHx8XG4gICAgICAgIChlbmQgPiBvd25TdGFydHMgJiYgZW5kIDwgb3duRW5kcykgfHxcbiAgICAgICAgKHN0YXJ0IDw9IG93blN0YXJ0cyAmJiBlbmQgPj0gb3duRW5kcylcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxubW9kZWwubWl4aW4oU2NoZWR1bGUucHJvdG90eXBlKTtcbmRpcnR5Lm1peGluKFNjaGVkdWxlLnByb3RvdHlwZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2NoZWR1bGU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvbW9kZWwvdmlld01vZGVsL3NjaGVkdWxlVmlld01vZGVsLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy9tb2RlbC92aWV3TW9kZWwvc2NoZWR1bGVWaWV3TW9kZWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE1vZGVsIGZvciB2aWV3c1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xuXG52YXIgU0NIRURVTEVfTUlOX0RVUkFUSU9OID0gZGF0ZXRpbWUuTUlMTElTRUNPTkRTX1NDSEVEVUxFX01JTl9EVVJBVElPTjtcblxuLyoqXG4gKiBTY2hlZHVsZSBWaWV3TW9kZWxcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtTY2hlZHVsZX0gc2NoZWR1bGUgU2NoZWR1bGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIFNjaGVkdWxlVmlld01vZGVsKHNjaGVkdWxlKSB7XG4gICAgLyoqXG4gICAgICogVGhlIG1vZGVsIG9mIHNjaGVkdWxlLlxuICAgICAqIEB0eXBlIHtTY2hlZHVsZX1cbiAgICAgKi9cbiAgICB0aGlzLm1vZGVsID0gc2NoZWR1bGU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudG9wID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZWZ0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudCBzY2hlZHVsZSBoYXMgY29sbGlkZSB3aXRoIG90aGVyIHNjaGVkdWxlcyB3aGVuIHJlbmRlcmluZy5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmhhc0NvbGxpZGUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEV4dHJhIHNwYWNlIGF0IHJpZ3RoIHNpZGUgb2YgdGhpcyBzY2hlZHVsZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZXh0cmFTcGFjZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiByZXByZXNlbnQgdGhpcyBzY2hlZHVsZSBibG9jayBpcyBub3QgdmlzaWJsZSBhZnRlciByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIGluIG1vbnRoIHZpZXcsIHNvbWUgdmlld21vZGVsIGluIGRhdGUgbmVlZCB0byBoaWRlIHdoZW4gYWxyZWFkeSByZW5kZXJlZCBiZWZvcmUgZGF0ZXMuXG4gICAgICpcbiAgICAgKiBzZXQgdHJ1ZSB0aGVuIGl0IGp1c3Qgc2hvd3MgZW1wdHkgc3BhY2UuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIHdoZXRoZXIgdGhlIHNjaGVkdWxlIGluY2x1ZGVzIG11bHRpcGxlIGRhdGVzXG4gICAgICovXG4gICAgdGhpcy5oYXNNdWx0aURhdGVzID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiByZXByZXNlbnQgcmVuZGVyIHN0YXJ0IGRhdGUgdXNlZCBhdCByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBpZiBzZXQgbnVsbCB0aGVuIHVzZSBtb2RlbCdzICdzdGFydCcgcHJvcGVydHkuXG4gICAgICogQHR5cGUge1RaRGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlclN0YXJ0cyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiB3aGV0aGVyIHRoZSBhY3R1YWwgc3RhcnQtZGF0ZSBpcyBiZWZvcmUgdGhlIHJlbmRlci1zdGFydC1kYXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5leGNlZWRMZWZ0ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiByZXByZXNlbnQgcmVuZGVyIGVuZCBkYXRlIHVzZWQgYXQgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogaWYgc2V0IG51bGwgdGhlbiB1c2UgbW9kZWwncyAnZW5kJyBwcm9wZXJ0eS5cbiAgICAgKiBAdHlwZSB7VFpEYXRlfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyRW5kcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiB3aGV0aGVyIHRoZSBhY3R1YWwgZW5kLWRhdGUgaXMgYWZ0ZXIgdGhlIHJlbmRlci1lbmQtZGF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZXhjZWVkUmlnaHQgPSBmYWxzZTtcbn1cblxuLyoqKioqKioqKipcbiAqIHN0YXRpYyBwcm9wc1xuICoqKioqKioqKiovXG5cbi8qKlxuICogU2NoZWR1bGVWaWV3TW9kZWwgZmFjdG9yeSBtZXRob2QuXG4gKiBAcGFyYW0ge1NjaGVkdWxlfSBzY2hlZHVsZSBTY2hlZHVsZSBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIHtTY2hlZHVsZVZpZXdNb2RlbH0gU2NoZWR1bGVWaWV3TW9kZWwgaW5zdGFuY2UuXG4gKi9cblNjaGVkdWxlVmlld01vZGVsLmNyZWF0ZSA9IGZ1bmN0aW9uKHNjaGVkdWxlKSB7XG4gICAgcmV0dXJuIG5ldyBTY2hlZHVsZVZpZXdNb2RlbChzY2hlZHVsZSk7XG59O1xuXG4vKioqKioqKioqKlxuICogcHJvdG90eXBlIHByb3BzXG4gKioqKioqKioqKi9cblxuLyoqXG4gKiByZXR1cm4gcmVuZGVyU3RhcnRzIHByb3BlcnR5IHRvIHJlbmRlciBwcm9wZXJseSB3aGVuIHNwZWNpZmljIHNjaGVkdWxlIHRoYXQgZXhjZWVkIHJlbmRlcmluZyBkYXRlIHJhbmdlLlxuICpcbiAqIGlmIHJlbmRlclN0YXJ0cyBpcyBub3Qgc2V0LiByZXR1cm4gbW9kZWwncyBzdGFydCBwcm9wZXJ0eS5cbiAqIEBvdmVycmlkZVxuICogQHJldHVybnMge0RhdGV9IHJlbmRlciBzdGFydCBkYXRlLlxuICovXG5TY2hlZHVsZVZpZXdNb2RlbC5wcm90b3R5cGUuZ2V0U3RhcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyU3RhcnRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlclN0YXJ0cztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tb2RlbC5zdGFydDtcbn07XG5cbi8qKlxuICogcmV0dXJuIHJlbmRlclN0YXJ0cyBwcm9wZXJ0eSB0byByZW5kZXIgcHJvcGVybHkgd2hlbiBzcGVjaWZpYyBzY2hlZHVsZSB0aGF0IGV4Y2VlZCByZW5kZXJpbmcgZGF0ZSByYW5nZS5cbiAqXG4gKiBpZiByZW5kZXJFbmRzIGlzIG5vdCBzZXQuIHJldHVybiBtb2RlbCdzIGVuZCBwcm9wZXJ0eS5cbiAqIEBvdmVycmlkZVxuICogQHJldHVybnMge0RhdGV9IHJlbmRlciBlbmQgZGF0ZS5cbiAqL1xuU2NoZWR1bGVWaWV3TW9kZWwucHJvdG90eXBlLmdldEVuZHMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJFbmRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckVuZHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuZW5kO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWUgbnVtYmVyIGZvciBtb2RlbC5cbiAqL1xuU2NoZWR1bGVWaWV3TW9kZWwucHJvdG90eXBlLmNpZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB1dGlsLnN0YW1wKHRoaXMubW9kZWwpO1xufTtcblxuLyoqXG4gKiBTaGFkb3dpbmcgdmFsdWVPZiBtZXRob2QgZm9yIHNjaGVkdWxlIHNvcnRpbmcuXG4gKiBAcmV0dXJucyB7U2NoZWR1bGV9IFRoZSBtb2RlbCBvZiBzY2hlZHVsZS5cbiAqL1xuU2NoZWR1bGVWaWV3TW9kZWwucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbDtcbn07XG5cbi8qKlxuICogTGluayBkdXJhdGlvbiBtZXRob2RcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFNjaGVkdWxlI2R1cmF0aW9uIHJlc3VsdC5cbiAqL1xuU2NoZWR1bGVWaWV3TW9kZWwucHJvdG90eXBlLmR1cmF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWwuZHVyYXRpb24oKTtcbn07XG5cbi8qKlxuICogTGluayBjb2xsaWRlc1dpdGggbWV0aG9kXG4gKiBAcGFyYW0ge1NjaGVkdWxlfFNjaGVkdWxlVmlld01vZGVsfSB2aWV3TW9kZWwgLSBNb2RlbCBvciB2aWV3bW9kZWwgaW5zdGFuY2Ugb2YgU2NoZWR1bGUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gU2NoZWR1bGUjY29sbGlkZXNXaXRoIHJlc3VsdC5cbiAqL1xuU2NoZWR1bGVWaWV3TW9kZWwucHJvdG90eXBlLmNvbGxpZGVzV2l0aCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgIHZhciBvd25TdGFydHMgPSB0aGlzLmdldFN0YXJ0cygpLFxuICAgICAgICBvd25FbmRzID0gdGhpcy5nZXRFbmRzKCksXG4gICAgICAgIHN0YXJ0ID0gdmlld01vZGVsLmdldFN0YXJ0cygpLFxuICAgICAgICBlbmQgPSB2aWV3TW9kZWwuZ2V0RW5kcygpO1xuICAgIHZhciBvd25Hb2luZ0R1cmF0aW9uID0gZGF0ZXRpbWUubWlsbGlzZWNvbmRzRnJvbSgnbWludXRlcycsIHRoaXMudmFsdWVPZigpLmdvaW5nRHVyYXRpb24pLFxuICAgICAgICBvd25Db21pbmdEdXJhdGlvbiA9IGRhdGV0aW1lLm1pbGxpc2Vjb25kc0Zyb20oJ21pbnV0ZXMnLCB0aGlzLnZhbHVlT2YoKS5jb21pbmdEdXJhdGlvbiksXG4gICAgICAgIGdvaW5nRHVyYXRpb24gPSBkYXRldGltZS5taWxsaXNlY29uZHNGcm9tKCdtaW51dGVzJywgdmlld01vZGVsLnZhbHVlT2YoKS5nb2luZ0R1cmF0aW9uKSxcbiAgICAgICAgY29taW5nRHVyYXRpb24gPSBkYXRldGltZS5taWxsaXNlY29uZHNGcm9tKCdtaW51dGVzJywgdmlld01vZGVsLnZhbHVlT2YoKS5jb21pbmdEdXJhdGlvbik7XG5cbiAgICBpZiAoTWF0aC5hYnMob3duRW5kcyAtIG93blN0YXJ0cykgPCBTQ0hFRFVMRV9NSU5fRFVSQVRJT04pIHtcbiAgICAgICAgb3duRW5kcyArPSBTQ0hFRFVMRV9NSU5fRFVSQVRJT047XG4gICAgfVxuXG4gICAgaWYgKE1hdGguYWJzKGVuZCAtIHN0YXJ0KSA8IFNDSEVEVUxFX01JTl9EVVJBVElPTikge1xuICAgICAgICBlbmQgKz0gU0NIRURVTEVfTUlOX0RVUkFUSU9OO1xuICAgIH1cblxuICAgIG93blN0YXJ0cyAtPSBvd25Hb2luZ0R1cmF0aW9uO1xuICAgIG93bkVuZHMgKz0gb3duQ29taW5nRHVyYXRpb247XG4gICAgc3RhcnQgLT0gZ29pbmdEdXJhdGlvbjtcbiAgICBlbmQgKz0gY29taW5nRHVyYXRpb247XG5cbiAgICBpZiAoKHN0YXJ0ID4gb3duU3RhcnRzICYmIHN0YXJ0IDwgb3duRW5kcykgfHxcbiAgICAgICAgKGVuZCA+IG93blN0YXJ0cyAmJiBlbmQgPCBvd25FbmRzKSB8fFxuICAgICAgICAoc3RhcnQgPD0gb3duU3RhcnRzICYmIGVuZCA+PSBvd25FbmRzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNjaGVkdWxlVmlld01vZGVsO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3RoZW1lL3N0YW5kYXJkLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3RoZW1lL3N0YW5kYXJkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoZSBzdGFuZGFyZCB0aGVtZVxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG4vKipcbiAqIFwiY29tbW9uXCIgcHJlZml4IGlzIGZvciBlbnRpcmUgY2FsZW5kYXIuIFwiY29tbW9uXCIgcHJvcGVydGllcyBjYW4gYmUgb3ZlcnJpZGVuIGJ5IFwid2Vla1wiLCBcIm1vbnRoXCIuXG4gKiBcIndlZWtcIiBwcmVmaXggaXMgZm9yIHdlZWtseSBhbmQgZGFpbHkgdmlldy5cbiAqIFwibW9udGhcIiBwcmVmaXggaXMgZm9yIG1vbnRobHkgdmlldy5cbiAqL1xudmFyIHRoZW1lID0ge1xuICAgICdjb21tb24uYm9yZGVyJzogJzFweCBzb2xpZCAjZTVlNWU1JyxcbiAgICAnY29tbW9uLmJhY2tncm91bmRDb2xvcic6ICd3aGl0ZScsXG4gICAgJ2NvbW1vbi5ob2xpZGF5LmNvbG9yJzogJyNmZjQwNDAnLFxuICAgICdjb21tb24uc2F0dXJkYXkuY29sb3InOiAnIzMzMycsXG4gICAgJ2NvbW1vbi5kYXluYW1lLmNvbG9yJzogJyMzMzMnLFxuICAgICdjb21tb24udG9kYXkuY29sb3InOiAnIzMzMycsXG5cbiAgICAvLyBjcmVhdGlvbiBndWlkZSBzdHlsZVxuICAgICdjb21tb24uY3JlYXRpb25HdWlkZS5iYWNrZ3JvdW5kQ29sb3InOiAncmdiYSg4MSwgOTIsIDIzMCwgMC4wNSknLFxuICAgICdjb21tb24uY3JlYXRpb25HdWlkZS5ib3JkZXInOiAnMXB4IHNvbGlkICM1MTVjZTYnLFxuXG4gICAgLy8gbW9udGggaGVhZGVyICdkYXluYW1lJ1xuICAgICdtb250aC5kYXluYW1lLmhlaWdodCc6ICczMXB4JyxcbiAgICAnbW9udGguZGF5bmFtZS5ib3JkZXJMZWZ0JzogJ25vbmUnLFxuICAgICdtb250aC5kYXluYW1lLnBhZGRpbmdMZWZ0JzogJzEwcHgnLFxuICAgICdtb250aC5kYXluYW1lLnBhZGRpbmdSaWdodCc6ICcwJyxcbiAgICAnbW9udGguZGF5bmFtZS5iYWNrZ3JvdW5kQ29sb3InOiAnaW5oZXJpdCcsXG4gICAgJ21vbnRoLmRheW5hbWUuZm9udFNpemUnOiAnMTJweCcsXG4gICAgJ21vbnRoLmRheW5hbWUuZm9udFdlaWdodCc6ICdub3JtYWwnLFxuICAgICdtb250aC5kYXluYW1lLnRleHRBbGlnbic6ICdsZWZ0JyxcblxuICAgIC8vIG1vbnRoIGRheSBncmlkIGNlbGwgJ2RheSdcbiAgICAnbW9udGguaG9saWRheUV4Y2VwdFRoaXNNb250aC5jb2xvcic6ICdyZ2JhKDI1NSwgNjQsIDY0LCAwLjQpJyxcbiAgICAnbW9udGguZGF5RXhjZXB0VGhpc01vbnRoLmNvbG9yJzogJ3JnYmEoNTEsIDUxLCA1MSwgMC40KScsXG4gICAgJ21vbnRoLndlZWtlbmQuYmFja2dyb3VuZENvbG9yJzogJ2luaGVyaXQnLFxuICAgICdtb250aC5kYXkuZm9udFNpemUnOiAnMTRweCcsXG5cbiAgICAvLyBtb250aCBzY2hlZHVsZSBzdHlsZVxuICAgICdtb250aC5zY2hlZHVsZS5ib3JkZXJSYWRpdXMnOiAnMnB4JyxcbiAgICAnbW9udGguc2NoZWR1bGUuaGVpZ2h0JzogJzI0cHgnLFxuICAgICdtb250aC5zY2hlZHVsZS5tYXJnaW5Ub3AnOiAnMnB4JyxcbiAgICAnbW9udGguc2NoZWR1bGUubWFyZ2luTGVmdCc6ICc4cHgnLFxuICAgICdtb250aC5zY2hlZHVsZS5tYXJnaW5SaWdodCc6ICc4cHgnLFxuXG4gICAgLy8gbW9udGggbW9yZSB2aWV3XG4gICAgJ21vbnRoLm1vcmVWaWV3LmJvcmRlcic6ICcxcHggc29saWQgI2Q1ZDVkNScsXG4gICAgJ21vbnRoLm1vcmVWaWV3LmJveFNoYWRvdyc6ICcwIDJweCA2cHggMCByZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgICdtb250aC5tb3JlVmlldy5iYWNrZ3JvdW5kQ29sb3InOiAnd2hpdGUnLFxuICAgICdtb250aC5tb3JlVmlldy5wYWRkaW5nQm90dG9tJzogJzE3cHgnLFxuICAgICdtb250aC5tb3JlVmlld1RpdGxlLmhlaWdodCc6ICc0NHB4JyxcbiAgICAnbW9udGgubW9yZVZpZXdUaXRsZS5tYXJnaW5Cb3R0b20nOiAnMTJweCcsXG4gICAgJ21vbnRoLm1vcmVWaWV3VGl0bGUuYm9yZGVyQm90dG9tJzogJ25vbmUnLFxuICAgICdtb250aC5tb3JlVmlld1RpdGxlLnBhZGRpbmcnOiAnMTJweCAxN3B4IDAgMTdweCcsXG4gICAgJ21vbnRoLm1vcmVWaWV3TGlzdC5wYWRkaW5nJzogJzAgMTdweCcsXG5cbiAgICAvLyB3ZWVrIGhlYWRlciAnZGF5bmFtZSdcbiAgICAnd2Vlay5kYXluYW1lLmhlaWdodCc6ICc0MnB4JyxcbiAgICAnd2Vlay5kYXluYW1lLmJvcmRlclRvcCc6ICcxcHggc29saWQgI2U1ZTVlNScsXG4gICAgJ3dlZWsuZGF5bmFtZS5ib3JkZXJCb3R0b20nOiAnMXB4IHNvbGlkICNlNWU1ZTUnLFxuICAgICd3ZWVrLmRheW5hbWUuYm9yZGVyTGVmdCc6ICdub25lJyxcbiAgICAnd2Vlay5kYXluYW1lLnBhZGRpbmdMZWZ0JzogJzAnLFxuICAgICd3ZWVrLmRheW5hbWUuYmFja2dyb3VuZENvbG9yJzogJ2luaGVyaXQnLFxuICAgICd3ZWVrLmRheW5hbWUudGV4dEFsaWduJzogJ2xlZnQnLFxuICAgICd3ZWVrLnRvZGF5LmNvbG9yJzogJ2luaGVyaXQnLFxuICAgICd3ZWVrLnBhc3REYXkuY29sb3InOiAnI2JiYicsXG5cbiAgICAvLyB3ZWVrIHZlcnRpY2FsIHBhbmVsICd2cGFuZWwnXG4gICAgJ3dlZWsudnBhbmVsU3BsaXR0ZXIuYm9yZGVyJzogJzFweCBzb2xpZCAjZTVlNWU1JyxcbiAgICAnd2Vlay52cGFuZWxTcGxpdHRlci5oZWlnaHQnOiAnM3B4JyxcblxuICAgIC8vIHdlZWsgZGF5Z3JpZCAnZGF5Z3JpZCdcbiAgICAnd2Vlay5kYXlncmlkLmJvcmRlclJpZ2h0JzogJzFweCBzb2xpZCAjZTVlNWU1JyxcbiAgICAnd2Vlay5kYXlncmlkLmJhY2tncm91bmRDb2xvcic6ICdpbmhlcml0JyxcblxuICAgICd3ZWVrLmRheWdyaWRMZWZ0LndpZHRoJzogJzcycHgnLFxuICAgICd3ZWVrLmRheWdyaWRMZWZ0LmJhY2tncm91bmRDb2xvcic6ICdpbmhlcml0JyxcbiAgICAnd2Vlay5kYXlncmlkTGVmdC5wYWRkaW5nUmlnaHQnOiAnOHB4JyxcbiAgICAnd2Vlay5kYXlncmlkTGVmdC5ib3JkZXJSaWdodCc6ICcxcHggc29saWQgI2U1ZTVlNScsXG5cbiAgICAnd2Vlay50b2RheS5iYWNrZ3JvdW5kQ29sb3InOiAncmdiYSg4MSwgOTIsIDIzMCwgMC4wNSknLFxuICAgICd3ZWVrLndlZWtlbmQuYmFja2dyb3VuZENvbG9yJzogJ2luaGVyaXQnLFxuXG4gICAgLy8gd2VlayB0aW1lZ3JpZCAndGltZWdyaWQnXG4gICAgJ3dlZWsudGltZWdyaWRMZWZ0LndpZHRoJzogJzcycHgnLFxuICAgICd3ZWVrLnRpbWVncmlkTGVmdC5iYWNrZ3JvdW5kQ29sb3InOiAnaW5oZXJpdCcsXG4gICAgJ3dlZWsudGltZWdyaWRMZWZ0LmJvcmRlclJpZ2h0JzogJzFweCBzb2xpZCAjZTVlNWU1JyxcbiAgICAnd2Vlay50aW1lZ3JpZExlZnQuZm9udFNpemUnOiAnMTFweCcsXG5cbiAgICAnd2Vlay50aW1lZ3JpZE9uZUhvdXIuaGVpZ2h0JzogJzUycHgnLFxuICAgICd3ZWVrLnRpbWVncmlkSGFsZkhvdXIuaGVpZ2h0JzogJzI2cHgnLFxuICAgICd3ZWVrLnRpbWVncmlkSGFsZkhvdXIuYm9yZGVyQm90dG9tJzogJ25vbmUnLFxuICAgICd3ZWVrLnRpbWVncmlkSG9yaXpvbnRhbExpbmUuYm9yZGVyQm90dG9tJzogJzFweCBzb2xpZCAjZTVlNWU1JyxcblxuICAgICd3ZWVrLnRpbWVncmlkLnBhZGRpbmdSaWdodCc6ICc4cHgnLFxuICAgICd3ZWVrLnRpbWVncmlkLmJvcmRlclJpZ2h0JzogJzFweCBzb2xpZCAjZTVlNWU1JyxcbiAgICAnd2Vlay50aW1lZ3JpZFNjaGVkdWxlLmJvcmRlclJhZGl1cyc6ICcycHgnLFxuICAgICd3ZWVrLnRpbWVncmlkU2NoZWR1bGUucGFkZGluZ0xlZnQnOiAnMnB4JyxcblxuICAgICd3ZWVrLmN1cnJlbnRUaW1lLmNvbG9yJzogJyM1MTVjZTYnLFxuICAgICd3ZWVrLmN1cnJlbnRUaW1lLmZvbnRTaXplJzogJzExcHgnLFxuICAgICd3ZWVrLmN1cnJlbnRUaW1lLmZvbnRXZWlnaHQnOiAnbm9ybWFsJyxcblxuICAgICd3ZWVrLmN1cnJlbnRUaW1lTGluZVBhc3QuYm9yZGVyJzogJzFweCBkYXNoZWQgIzUxNWNlNicsXG4gICAgJ3dlZWsuY3VycmVudFRpbWVMaW5lQnVsbGV0LmJhY2tncm91bmRDb2xvcic6ICcjNTE1Y2U2JyxcbiAgICAnd2Vlay5jdXJyZW50VGltZUxpbmVUb2RheS5ib3JkZXInOiAnMXB4IHNvbGlkICM1MTVjZTYnLFxuICAgICd3ZWVrLmN1cnJlbnRUaW1lTGluZUZ1dHVyZS5ib3JkZXInOiAnbm9uZScsXG5cbiAgICAvLyB3ZWVrIGNyZWF0aW9uIGd1aWRlIHN0eWxlXG4gICAgJ3dlZWsuY3JlYXRpb25HdWlkZS5jb2xvcic6ICcjNTE1Y2U2JyxcbiAgICAnd2Vlay5jcmVhdGlvbkd1aWRlLmZvbnRTaXplJzogJzExcHgnLFxuICAgICd3ZWVrLmNyZWF0aW9uR3VpZGUuZm9udFdlaWdodCc6ICdib2xkJyxcblxuICAgIC8vIHdlZWsgZGF5Z3JpZCBzY2hlZHVsZSBzdHlsZVxuICAgICd3ZWVrLmRheUdyaWRTY2hlZHVsZS5ib3JkZXJSYWRpdXMnOiAnMnB4JyxcbiAgICAnd2Vlay5kYXlHcmlkU2NoZWR1bGUuaGVpZ2h0JzogJzI0cHgnLFxuICAgICd3ZWVrLmRheUdyaWRTY2hlZHVsZS5tYXJnaW5Ub3AnOiAnMnB4JyxcbiAgICAnd2Vlay5kYXlHcmlkU2NoZWR1bGUubWFyZ2luTGVmdCc6ICc4cHgnLFxuICAgICd3ZWVrLmRheUdyaWRTY2hlZHVsZS5tYXJnaW5SaWdodCc6ICc4cHgnXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHRoZW1lO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3RoZW1lL3RoZW1lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3RoZW1lL3RoZW1lLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoZSBhbGwgY29uZmlndXJhdGlvbiBvZiBhIHRoZW1lXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgdGhlbWVTdGFuZGFyZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3RhbmRhcmQgKi8gXCIuL3NyYy9qcy90aGVtZS9zdGFuZGFyZC5qc1wiKTtcbnZhciB0aGVtZUNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdGhlbWVDb25maWcgKi8gXCIuL3NyYy9qcy90aGVtZS90aGVtZUNvbmZpZy5qc1wiKTtcbnZhciBjb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24vY29tbW9uICovIFwiLi9zcmMvanMvY29tbW9uL2NvbW1vbi5qc1wiKTtcblxuLyoqXG4gKiBUaGVtZSBtYW5hZ2VyXG4gKiBAcGFyYW0ge29iamVjdH0gY3VzdG9tVGhlbWUgLSBjdXN0b20gdGhlbWVcbiAqL1xuZnVuY3Rpb24gVGhlbWUoY3VzdG9tVGhlbWUpIHtcbiAgICB2YXIgdGhlbWUgPSBjdXN0b21UaGVtZSB8fCB0aGVtZVN0YW5kYXJkO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3V0aWwuSGFzaE1hcH1cbiAgICAgKi9cbiAgICB0aGlzLl9tYXAgPSBuZXcgdXRpbC5IYXNoTWFwKCk7XG5cbiAgICB0aGlzLnNldFN0eWxlcyh0aGVtZSk7XG59XG5cbi8qKlxuICogR2V0IGEgc3R5bGUgd2l0aCBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBrZXkgZm9yIGdldHRpbmcgYSBzdHlsZVxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IHN0eWxlXG4gKi9cblRoZW1lLnByb3RvdHlwZS5nZXRTdHlsZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0KGtleSk7XG59O1xuXG4vKipcbiAqIFNldCBhIHN0eWxlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0ga2V5IGZvciBzZXR0aW5nIGEgc3R5bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZSAtIHN0eWxlIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZ2l2ZSBrZXkgaXMgdmFsaWQgb3IgZmFsc2VcbiAqL1xuVGhlbWUucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24oa2V5LCBzdHlsZSkge1xuICAgIHZhciBzdHlsZXMgPSB7fTtcbiAgICBzdHlsZXNba2V5XSA9IHN0eWxlO1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0U3R5bGVzKHN0eWxlcykubGVuZ3RoID09PSAwO1xufTtcblxuLyoqXG4gKiBTZXQgc3R5bGVzXG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGVzIC0gbXVsdGlwbGUgc3R5bGVzIG1hcFxuICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fSBlcnJvciBrZXlzXG4gKi9cblRoZW1lLnByb3RvdHlwZS5zZXRTdHlsZXMgPSBmdW5jdGlvbihzdHlsZXMpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG5cbiAgICB1dGlsLmZvckVhY2goc3R5bGVzLCBmdW5jdGlvbihzdHlsZSwga2V5KSB7XG4gICAgICAgIGlmICh1dGlsLmlzVW5kZWZpbmVkKHRoZW1lQ29uZmlnW2tleV0pKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWFwLnNldChrZXksIHN0eWxlKTtcbiAgICAgICAgICAgIGNvbW1vbi5zZXQodGhpcywga2V5LCBzdHlsZSk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIC8vIGFwcGx5IG1pc3Npbmcgc3R5bGVzIHdoaWNoIGhhdmUgdG8gYmUgZGVmYXVsdFxuICAgIHV0aWwuZm9yRWFjaCh0aGVtZUNvbmZpZywgZnVuY3Rpb24oc3R5bGUsIGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0U3R5bGUoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLnNldChrZXksIHN0eWxlKTtcbiAgICAgICAgICAgIGNvbW1vbi5zZXQodGhpcywga2V5LCBzdHlsZSk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIHJldHVybiBlcnJvcnM7XG59O1xuXG4vKipcbiAqIERlbGV0ZSBhbGwgc3R5bGVzXG4gKi9cblRoZW1lLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBrZXlzID0gdGhpcy5fbWFwLmtleXMoKTtcbiAgICB2YXIgY2F0ZWdvcmllcyA9IHt9O1xuICAgIHV0aWwuZm9yRWFjaChrZXlzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIGNhdGVnb3J5ID0ga2V5LnNwbGl0KCcuJylbMF07XG4gICAgICAgIGlmICghY2F0ZWdvcmllc1tjYXRlZ29yeV0pIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXNbY2F0ZWdvcnldID0gY2F0ZWdvcnk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHV0aWwuZm9yRWFjaChjYXRlZ29yaWVzLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICBkZWxldGUgdGhpc1tjaGlsZF07XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLl9tYXAucmVtb3ZlQWxsKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRoZW1lO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3RoZW1lL3RoZW1lQ29uZmlnLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3RoZW1lL3RoZW1lQ29uZmlnLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoZSBhbGwgY29uZmlndXJhdGlvbiBvZiBhIHRoZW1lXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbi8qKlxuICogRnVsbCBjb25maWd1cmF0aW9uIGZvciB0aGVtZS5cbiAqIFwiY29tbW9uXCIgcHJlZml4IGlzIGZvciBlbnRpcmUgY2FsZW5kYXIuIFwiY29tbW9uXCIgcHJvcGVydGllcyBjYW4gYmUgb3ZlcnJpZGVuIGJ5IFwid2Vla1wiLCBcIm1vbnRoXCIuXG4gKiBcIndlZWtcIiBwcmVmaXggaXMgZm9yIHdlZWtseSBhbmQgZGFpbHkgdmlldy5cbiAqIFwibW9udGhcIiBwcmVmaXggaXMgZm9yIG1vbnRobHkgdmlldy5cbiAqIEB0eXBlZGVmIHtvYmplY3R9IHRoZW1lQ29uZmlnXG4gKiBAZXhhbXBsZVxuIC8vIGRlZmF1bHQga2V5cyBhbmQgc3R5bGVzXG4gdmFyIHRoZW1lQ29uZmlnID0ge1xuICAgICdjb21tb24uYm9yZGVyJzogJzFweCBzb2xpZCAjZTVlNWU1JyxcbiAgICAnY29tbW9uLmJhY2tncm91bmRDb2xvcic6ICd3aGl0ZScsXG4gICAgJ2NvbW1vbi5ob2xpZGF5LmNvbG9yJzogJyNmZjQwNDAnLFxuICAgICdjb21tb24uc2F0dXJkYXkuY29sb3InOiAnIzMzMycsXG4gICAgJ2NvbW1vbi5kYXluYW1lLmNvbG9yJzogJyMzMzMnLFxuICAgICdjb21tb24udG9kYXkuY29sb3InOiAnIzMzMycsXG5cbiAgICAvLyBjcmVhdGlvbiBndWlkZSBzdHlsZVxuICAgICdjb21tb24uY3JlYXRpb25HdWlkZS5iYWNrZ3JvdW5kQ29sb3InOiAncmdiYSg4MSwgOTIsIDIzMCwgMC4wNSknLFxuICAgICdjb21tb24uY3JlYXRpb25HdWlkZS5ib3JkZXInOiAnMXB4IHNvbGlkICM1MTVjZTYnLFxuXG4gICAgLy8gbW9udGggaGVhZGVyICdkYXluYW1lJ1xuICAgICdtb250aC5kYXluYW1lLmhlaWdodCc6ICczMXB4JyxcbiAgICAnbW9udGguZGF5bmFtZS5ib3JkZXJMZWZ0JzogJzFweCBzb2xpZCAjZTVlNWU1JyxcbiAgICAnbW9udGguZGF5bmFtZS5wYWRkaW5nTGVmdCc6ICcxMHB4JyxcbiAgICAnbW9udGguZGF5bmFtZS5wYWRkaW5nUmlnaHQnOiAnMTBweCcsXG4gICAgJ21vbnRoLmRheW5hbWUuYmFja2dyb3VuZENvbG9yJzogJ2luaGVyaXQnLFxuICAgICdtb250aC5kYXluYW1lLmZvbnRTaXplJzogJzEycHgnLFxuICAgICdtb250aC5kYXluYW1lLmZvbnRXZWlnaHQnOiAnbm9ybWFsJyxcbiAgICAnbW9udGguZGF5bmFtZS50ZXh0QWxpZ24nOiAnbGVmdCcsXG5cbiAgICAvLyBtb250aCBkYXkgZ3JpZCBjZWxsICdkYXknXG4gICAgJ21vbnRoLmhvbGlkYXlFeGNlcHRUaGlzTW9udGguY29sb3InOiAncmdiYSgyNTUsIDY0LCA2NCwgMC40KScsXG4gICAgJ21vbnRoLmRheUV4Y2VwdFRoaXNNb250aC5jb2xvcic6ICdyZ2JhKDUxLCA1MSwgNTEsIDAuNCknLFxuICAgICdtb250aC53ZWVrZW5kLmJhY2tncm91bmRDb2xvcic6ICdpbmhlcml0JyxcbiAgICAnbW9udGguZGF5LmZvbnRTaXplJzogJzE0cHgnLFxuXG4gICAgLy8gbW9udGggc2NoZWR1bGUgc3R5bGVcbiAgICAnbW9udGguc2NoZWR1bGUuYm9yZGVyUmFkaXVzJzogJzJweCcsXG4gICAgJ21vbnRoLnNjaGVkdWxlLmhlaWdodCc6ICcyNHB4JyxcbiAgICAnbW9udGguc2NoZWR1bGUubWFyZ2luVG9wJzogJzJweCcsXG4gICAgJ21vbnRoLnNjaGVkdWxlLm1hcmdpbkxlZnQnOiAnOHB4JyxcbiAgICAnbW9udGguc2NoZWR1bGUubWFyZ2luUmlnaHQnOiAnOHB4JyxcblxuICAgIC8vIG1vbnRoIG1vcmUgdmlld1xuICAgICdtb250aC5tb3JlVmlldy5ib3JkZXInOiAnMXB4IHNvbGlkICNkNWQ1ZDUnLFxuICAgICdtb250aC5tb3JlVmlldy5ib3hTaGFkb3cnOiAnMCAycHggNnB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpJyxcbiAgICAnbW9udGgubW9yZVZpZXcuYmFja2dyb3VuZENvbG9yJzogJ3doaXRlJyxcbiAgICAnbW9udGgubW9yZVZpZXcucGFkZGluZ0JvdHRvbSc6ICcxN3B4JyxcbiAgICAnbW9udGgubW9yZVZpZXdUaXRsZS5oZWlnaHQnOiAnNDRweCcsXG4gICAgJ21vbnRoLm1vcmVWaWV3VGl0bGUubWFyZ2luQm90dG9tJzogJzEycHgnLFxuICAgICdtb250aC5tb3JlVmlld1RpdGxlLmJhY2tncm91bmRDb2xvcic6ICdpbmhlcml0JyxcbiAgICAnbW9udGgubW9yZVZpZXdUaXRsZS5ib3JkZXJCb3R0b20nOiAnbm9uZScsXG4gICAgJ21vbnRoLm1vcmVWaWV3VGl0bGUucGFkZGluZyc6ICcxMnB4IDE3cHggMCAxN3B4JyxcbiAgICAnbW9udGgubW9yZVZpZXdMaXN0LnBhZGRpbmcnOiAnMCAxN3B4JyxcblxuICAgIC8vIHdlZWsgaGVhZGVyICdkYXluYW1lJ1xuICAgICd3ZWVrLmRheW5hbWUuaGVpZ2h0JzogJzQycHgnLFxuICAgICd3ZWVrLmRheW5hbWUuYm9yZGVyVG9wJzogJzFweCBzb2xpZCAjZTVlNWU1JyxcbiAgICAnd2Vlay5kYXluYW1lLmJvcmRlckJvdHRvbSc6ICcxcHggc29saWQgI2U1ZTVlNScsXG4gICAgJ3dlZWsuZGF5bmFtZS5ib3JkZXJMZWZ0JzogJ2luaGVyaXQnLFxuICAgICd3ZWVrLmRheW5hbWUucGFkZGluZ0xlZnQnOiAnMCcsXG4gICAgJ3dlZWsuZGF5bmFtZS5iYWNrZ3JvdW5kQ29sb3InOiAnaW5oZXJpdCcsXG4gICAgJ3dlZWsuZGF5bmFtZS50ZXh0QWxpZ24nOiAnbGVmdCcsXG4gICAgJ3dlZWsudG9kYXkuY29sb3InOiAnIzMzMycsXG4gICAgJ3dlZWsucGFzdERheS5jb2xvcic6ICcjYmJiJyxcblxuICAgIC8vIHdlZWsgdmVydGljYWwgcGFuZWwgJ3ZwYW5lbCdcbiAgICAnd2Vlay52cGFuZWxTcGxpdHRlci5ib3JkZXInOiAnMXB4IHNvbGlkICNlNWU1ZTUnLFxuICAgICd3ZWVrLnZwYW5lbFNwbGl0dGVyLmhlaWdodCc6ICczcHgnLFxuXG4gICAgLy8gd2VlayBkYXlncmlkICdkYXlncmlkJ1xuICAgICd3ZWVrLmRheWdyaWQuYm9yZGVyUmlnaHQnOiAnMXB4IHNvbGlkICNlNWU1ZTUnLFxuICAgICd3ZWVrLmRheWdyaWQuYmFja2dyb3VuZENvbG9yJzogJ2luaGVyaXQnLFxuXG4gICAgJ3dlZWsuZGF5Z3JpZExlZnQud2lkdGgnOiAnNzJweCcsXG4gICAgJ3dlZWsuZGF5Z3JpZExlZnQuYmFja2dyb3VuZENvbG9yJzogJ2luaGVyaXQnLFxuICAgICd3ZWVrLmRheWdyaWRMZWZ0LnBhZGRpbmdSaWdodCc6ICc4cHgnLFxuICAgICd3ZWVrLmRheWdyaWRMZWZ0LmJvcmRlclJpZ2h0JzogJzFweCBzb2xpZCAjZTVlNWU1JyxcblxuICAgICd3ZWVrLnRvZGF5LmJhY2tncm91bmRDb2xvcic6ICdyZ2JhKDgxLCA5MiwgMjMwLCAwLjA1KScsXG4gICAgJ3dlZWsud2Vla2VuZC5iYWNrZ3JvdW5kQ29sb3InOiAnaW5oZXJpdCcsXG5cbiAgICAvLyB3ZWVrIHRpbWVncmlkICd0aW1lZ3JpZCdcbiAgICAnd2Vlay50aW1lZ3JpZExlZnQud2lkdGgnOiAnNzJweCcsXG4gICAgJ3dlZWsudGltZWdyaWRMZWZ0LmJhY2tncm91bmRDb2xvcic6ICdpbmhlcml0JyxcbiAgICAnd2Vlay50aW1lZ3JpZExlZnQuYm9yZGVyUmlnaHQnOiAnMXB4IHNvbGlkICNlNWU1ZTUnLFxuICAgICd3ZWVrLnRpbWVncmlkTGVmdC5mb250U2l6ZSc6ICcxMXB4JyxcbiAgICAnd2Vlay50aW1lZ3JpZExlZnRUaW1lem9uZUxhYmVsLmhlaWdodCc6ICc0MHB4JyxcbiAgICAnd2Vlay50aW1lZ3JpZExlZnRBZGRpdGlvbmFsVGltZXpvbmUuYmFja2dyb3VuZENvbG9yJzogJ3doaXRlJyxcblxuICAgICd3ZWVrLnRpbWVncmlkT25lSG91ci5oZWlnaHQnOiAnNTJweCcsXG4gICAgJ3dlZWsudGltZWdyaWRIYWxmSG91ci5oZWlnaHQnOiAnMjZweCcsXG4gICAgJ3dlZWsudGltZWdyaWRIYWxmSG91ci5ib3JkZXJCb3R0b20nOiAnbm9uZScsXG4gICAgJ3dlZWsudGltZWdyaWRIb3Jpem9udGFsTGluZS5ib3JkZXJCb3R0b20nOiAnMXB4IHNvbGlkICNlNWU1ZTUnLFxuXG4gICAgJ3dlZWsudGltZWdyaWQucGFkZGluZ1JpZ2h0JzogJzhweCcsXG4gICAgJ3dlZWsudGltZWdyaWQuYm9yZGVyUmlnaHQnOiAnMXB4IHNvbGlkICNlNWU1ZTUnLFxuICAgICd3ZWVrLnRpbWVncmlkU2NoZWR1bGUuYm9yZGVyUmFkaXVzJzogJzJweCcsXG4gICAgJ3dlZWsudGltZWdyaWRTY2hlZHVsZS5wYWRkaW5nTGVmdCc6ICcycHgnLFxuXG4gICAgJ3dlZWsuY3VycmVudFRpbWUuY29sb3InOiAnIzUxNWNlNicsXG4gICAgJ3dlZWsuY3VycmVudFRpbWUuZm9udFNpemUnOiAnMTFweCcsXG4gICAgJ3dlZWsuY3VycmVudFRpbWUuZm9udFdlaWdodCc6ICdub3JtYWwnLFxuXG4gICAgJ3dlZWsucGFzdFRpbWUuY29sb3InOiAnI2JiYicsXG4gICAgJ3dlZWsucGFzdFRpbWUuZm9udFdlaWdodCc6ICdub3JtYWwnLFxuXG4gICAgJ3dlZWsuZnV0dXJlVGltZS5jb2xvcic6ICcjMzMzJyxcbiAgICAnd2Vlay5mdXR1cmVUaW1lLmZvbnRXZWlnaHQnOiAnbm9ybWFsJyxcblxuICAgICd3ZWVrLmN1cnJlbnRUaW1lTGluZVBhc3QuYm9yZGVyJzogJzFweCBkYXNoZWQgIzUxNWNlNicsXG4gICAgJ3dlZWsuY3VycmVudFRpbWVMaW5lQnVsbGV0LmJhY2tncm91bmRDb2xvcic6ICcjNTE1Y2U2JyxcbiAgICAnd2Vlay5jdXJyZW50VGltZUxpbmVUb2RheS5ib3JkZXInOiAnMXB4IHNvbGlkICM1MTVjZTYnLFxuICAgICd3ZWVrLmN1cnJlbnRUaW1lTGluZUZ1dHVyZS5ib3JkZXInOiAnbm9uZScsXG5cbiAgICAvLyB3ZWVrIGNyZWF0aW9uIGd1aWRlIHN0eWxlXG4gICAgJ3dlZWsuY3JlYXRpb25HdWlkZS5jb2xvcic6ICcjNTE1Y2U2JyxcbiAgICAnd2Vlay5jcmVhdGlvbkd1aWRlLmZvbnRTaXplJzogJzExcHgnLFxuICAgICd3ZWVrLmNyZWF0aW9uR3VpZGUuZm9udFdlaWdodCc6ICdib2xkJyxcblxuICAgIC8vIHdlZWsgZGF5Z3JpZCBzY2hlZHVsZSBzdHlsZVxuICAgICd3ZWVrLmRheUdyaWRTY2hlZHVsZS5ib3JkZXJSYWRpdXMnOiAnMnB4JyxcbiAgICAnd2Vlay5kYXlHcmlkU2NoZWR1bGUuaGVpZ2h0JzogJzI0cHgnLFxuICAgICd3ZWVrLmRheUdyaWRTY2hlZHVsZS5tYXJnaW5Ub3AnOiAnMnB4JyxcbiAgICAnd2Vlay5kYXlHcmlkU2NoZWR1bGUubWFyZ2luTGVmdCc6ICc4cHgnLFxuICAgICd3ZWVrLmRheUdyaWRTY2hlZHVsZS5tYXJnaW5SaWdodCc6ICc4cHgnXG59O1xuICovXG52YXIgdGhlbWVDb25maWcgPSB7XG4gICAgJ2NvbW1vbi5ib3JkZXInOiAnMXB4IHNvbGlkICNlNWU1ZTUnLFxuICAgICdjb21tb24uYmFja2dyb3VuZENvbG9yJzogJ3doaXRlJyxcbiAgICAnY29tbW9uLmhvbGlkYXkuY29sb3InOiAnI2ZmNDA0MCcsXG4gICAgJ2NvbW1vbi5zYXR1cmRheS5jb2xvcic6ICcjMzMzJyxcbiAgICAnY29tbW9uLmRheW5hbWUuY29sb3InOiAnIzMzMycsXG4gICAgJ2NvbW1vbi50b2RheS5jb2xvcic6ICcjMzMzJyxcblxuICAgIC8vIGNyZWF0aW9uIGd1aWRlIHN0eWxlXG4gICAgJ2NvbW1vbi5jcmVhdGlvbkd1aWRlLmJhY2tncm91bmRDb2xvcic6ICdyZ2JhKDgxLCA5MiwgMjMwLCAwLjA1KScsXG4gICAgJ2NvbW1vbi5jcmVhdGlvbkd1aWRlLmJvcmRlcic6ICcxcHggc29saWQgIzUxNWNlNicsXG5cbiAgICAvLyBtb250aCBoZWFkZXIgJ2RheW5hbWUnXG4gICAgJ21vbnRoLmRheW5hbWUuaGVpZ2h0JzogJzMxcHgnLFxuICAgICdtb250aC5kYXluYW1lLmJvcmRlckxlZnQnOiAnMXB4IHNvbGlkICNlNWU1ZTUnLFxuICAgICdtb250aC5kYXluYW1lLnBhZGRpbmdMZWZ0JzogJzEwcHgnLFxuICAgICdtb250aC5kYXluYW1lLnBhZGRpbmdSaWdodCc6ICcxMHB4JyxcbiAgICAnbW9udGguZGF5bmFtZS5iYWNrZ3JvdW5kQ29sb3InOiAnaW5oZXJpdCcsXG4gICAgJ21vbnRoLmRheW5hbWUuZm9udFNpemUnOiAnMTJweCcsXG4gICAgJ21vbnRoLmRheW5hbWUuZm9udFdlaWdodCc6ICdub3JtYWwnLFxuICAgICdtb250aC5kYXluYW1lLnRleHRBbGlnbic6ICdsZWZ0JyxcblxuICAgIC8vIG1vbnRoIGRheSBncmlkIGNlbGwgJ2RheSdcbiAgICAnbW9udGguaG9saWRheUV4Y2VwdFRoaXNNb250aC5jb2xvcic6ICdyZ2JhKDI1NSwgNjQsIDY0LCAwLjQpJyxcbiAgICAnbW9udGguZGF5RXhjZXB0VGhpc01vbnRoLmNvbG9yJzogJ3JnYmEoNTEsIDUxLCA1MSwgMC40KScsXG4gICAgJ21vbnRoLndlZWtlbmQuYmFja2dyb3VuZENvbG9yJzogJ2luaGVyaXQnLFxuICAgICdtb250aC5kYXkuZm9udFNpemUnOiAnMTRweCcsXG5cbiAgICAvLyBtb250aCBzY2hlZHVsZSBzdHlsZVxuICAgICdtb250aC5zY2hlZHVsZS5ib3JkZXJSYWRpdXMnOiAnMnB4JyxcbiAgICAnbW9udGguc2NoZWR1bGUuaGVpZ2h0JzogJzI0cHgnLFxuICAgICdtb250aC5zY2hlZHVsZS5tYXJnaW5Ub3AnOiAnMnB4JyxcbiAgICAnbW9udGguc2NoZWR1bGUubWFyZ2luTGVmdCc6ICc4cHgnLFxuICAgICdtb250aC5zY2hlZHVsZS5tYXJnaW5SaWdodCc6ICc4cHgnLFxuXG4gICAgLy8gbW9udGggbW9yZSB2aWV3XG4gICAgJ21vbnRoLm1vcmVWaWV3LmJvcmRlcic6ICcxcHggc29saWQgI2Q1ZDVkNScsXG4gICAgJ21vbnRoLm1vcmVWaWV3LmJveFNoYWRvdyc6ICcwIDJweCA2cHggMCByZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgICdtb250aC5tb3JlVmlldy5iYWNrZ3JvdW5kQ29sb3InOiAnd2hpdGUnLFxuICAgICdtb250aC5tb3JlVmlldy5wYWRkaW5nQm90dG9tJzogJzE3cHgnLFxuICAgICdtb250aC5tb3JlVmlld1RpdGxlLmhlaWdodCc6ICc0NHB4JyxcbiAgICAnbW9udGgubW9yZVZpZXdUaXRsZS5tYXJnaW5Cb3R0b20nOiAnMTJweCcsXG4gICAgJ21vbnRoLm1vcmVWaWV3VGl0bGUuYmFja2dyb3VuZENvbG9yJzogJ2luaGVyaXQnLFxuICAgICdtb250aC5tb3JlVmlld1RpdGxlLmJvcmRlckJvdHRvbSc6ICdub25lJyxcbiAgICAnbW9udGgubW9yZVZpZXdUaXRsZS5wYWRkaW5nJzogJzEycHggMTdweCAwIDE3cHgnLFxuICAgICdtb250aC5tb3JlVmlld0xpc3QucGFkZGluZyc6ICcwIDE3cHgnLFxuXG4gICAgLy8gd2VlayBoZWFkZXIgJ2RheW5hbWUnXG4gICAgJ3dlZWsuZGF5bmFtZS5oZWlnaHQnOiAnNDJweCcsXG4gICAgJ3dlZWsuZGF5bmFtZS5ib3JkZXJUb3AnOiAnMXB4IHNvbGlkICNlNWU1ZTUnLFxuICAgICd3ZWVrLmRheW5hbWUuYm9yZGVyQm90dG9tJzogJzFweCBzb2xpZCAjZTVlNWU1JyxcbiAgICAnd2Vlay5kYXluYW1lLmJvcmRlckxlZnQnOiAnaW5oZXJpdCcsXG4gICAgJ3dlZWsuZGF5bmFtZS5wYWRkaW5nTGVmdCc6ICcwJyxcbiAgICAnd2Vlay5kYXluYW1lLmJhY2tncm91bmRDb2xvcic6ICdpbmhlcml0JyxcbiAgICAnd2Vlay5kYXluYW1lLnRleHRBbGlnbic6ICdsZWZ0JyxcbiAgICAnd2Vlay50b2RheS5jb2xvcic6ICcjMzMzJyxcbiAgICAnd2Vlay5wYXN0RGF5LmNvbG9yJzogJyNiYmInLFxuXG4gICAgLy8gd2VlayB2ZXJ0aWNhbCBwYW5lbCAndnBhbmVsJ1xuICAgICd3ZWVrLnZwYW5lbFNwbGl0dGVyLmJvcmRlcic6ICcxcHggc29saWQgI2U1ZTVlNScsXG4gICAgJ3dlZWsudnBhbmVsU3BsaXR0ZXIuaGVpZ2h0JzogJzNweCcsXG5cbiAgICAvLyB3ZWVrIGRheWdyaWQgJ2RheWdyaWQnXG4gICAgJ3dlZWsuZGF5Z3JpZC5ib3JkZXJSaWdodCc6ICcxcHggc29saWQgI2U1ZTVlNScsXG4gICAgJ3dlZWsuZGF5Z3JpZC5iYWNrZ3JvdW5kQ29sb3InOiAnaW5oZXJpdCcsXG5cbiAgICAnd2Vlay5kYXlncmlkTGVmdC53aWR0aCc6ICc3MnB4JyxcbiAgICAnd2Vlay5kYXlncmlkTGVmdC5iYWNrZ3JvdW5kQ29sb3InOiAnaW5oZXJpdCcsXG4gICAgJ3dlZWsuZGF5Z3JpZExlZnQucGFkZGluZ1JpZ2h0JzogJzhweCcsXG4gICAgJ3dlZWsuZGF5Z3JpZExlZnQuYm9yZGVyUmlnaHQnOiAnMXB4IHNvbGlkICNlNWU1ZTUnLFxuXG4gICAgJ3dlZWsudG9kYXkuYmFja2dyb3VuZENvbG9yJzogJ3JnYmEoODEsIDkyLCAyMzAsIDAuMDUpJyxcbiAgICAnd2Vlay53ZWVrZW5kLmJhY2tncm91bmRDb2xvcic6ICdpbmhlcml0JyxcblxuICAgIC8vIHdlZWsgdGltZWdyaWQgJ3RpbWVncmlkJ1xuICAgICd3ZWVrLnRpbWVncmlkTGVmdC53aWR0aCc6ICc3MnB4JyxcbiAgICAnd2Vlay50aW1lZ3JpZExlZnQuYmFja2dyb3VuZENvbG9yJzogJ2luaGVyaXQnLFxuICAgICd3ZWVrLnRpbWVncmlkTGVmdC5ib3JkZXJSaWdodCc6ICcxcHggc29saWQgI2U1ZTVlNScsXG4gICAgJ3dlZWsudGltZWdyaWRMZWZ0LmZvbnRTaXplJzogJzExcHgnLFxuICAgICd3ZWVrLnRpbWVncmlkTGVmdFRpbWV6b25lTGFiZWwuaGVpZ2h0JzogJzQwcHgnLFxuICAgICd3ZWVrLnRpbWVncmlkTGVmdEFkZGl0aW9uYWxUaW1lem9uZS5iYWNrZ3JvdW5kQ29sb3InOiAnd2hpdGUnLFxuXG4gICAgJ3dlZWsudGltZWdyaWRPbmVIb3VyLmhlaWdodCc6ICc1MnB4JyxcbiAgICAnd2Vlay50aW1lZ3JpZEhhbGZIb3VyLmhlaWdodCc6ICcyNnB4JyxcbiAgICAnd2Vlay50aW1lZ3JpZEhhbGZIb3VyLmJvcmRlckJvdHRvbSc6ICdub25lJyxcbiAgICAnd2Vlay50aW1lZ3JpZEhvcml6b250YWxMaW5lLmJvcmRlckJvdHRvbSc6ICcxcHggc29saWQgI2U1ZTVlNScsXG5cbiAgICAnd2Vlay50aW1lZ3JpZC5wYWRkaW5nUmlnaHQnOiAnOHB4JyxcbiAgICAnd2Vlay50aW1lZ3JpZC5ib3JkZXJSaWdodCc6ICcxcHggc29saWQgI2U1ZTVlNScsXG4gICAgJ3dlZWsudGltZWdyaWRTY2hlZHVsZS5ib3JkZXJSYWRpdXMnOiAnMnB4JyxcbiAgICAnd2Vlay50aW1lZ3JpZFNjaGVkdWxlLnBhZGRpbmdMZWZ0JzogJzJweCcsXG5cbiAgICAnd2Vlay5jdXJyZW50VGltZS5jb2xvcic6ICcjNTE1Y2U2JyxcbiAgICAnd2Vlay5jdXJyZW50VGltZS5mb250U2l6ZSc6ICcxMXB4JyxcbiAgICAnd2Vlay5jdXJyZW50VGltZS5mb250V2VpZ2h0JzogJ25vcm1hbCcsXG5cbiAgICAnd2Vlay5wYXN0VGltZS5jb2xvcic6ICcjYmJiJyxcbiAgICAnd2Vlay5wYXN0VGltZS5mb250V2VpZ2h0JzogJ25vcm1hbCcsXG5cbiAgICAnd2Vlay5mdXR1cmVUaW1lLmNvbG9yJzogJyMzMzMnLFxuICAgICd3ZWVrLmZ1dHVyZVRpbWUuZm9udFdlaWdodCc6ICdub3JtYWwnLFxuXG4gICAgJ3dlZWsuY3VycmVudFRpbWVMaW5lUGFzdC5ib3JkZXInOiAnMXB4IGRhc2hlZCAjNTE1Y2U2JyxcbiAgICAnd2Vlay5jdXJyZW50VGltZUxpbmVCdWxsZXQuYmFja2dyb3VuZENvbG9yJzogJyM1MTVjZTYnLFxuICAgICd3ZWVrLmN1cnJlbnRUaW1lTGluZVRvZGF5LmJvcmRlcic6ICcxcHggc29saWQgIzUxNWNlNicsXG4gICAgJ3dlZWsuY3VycmVudFRpbWVMaW5lRnV0dXJlLmJvcmRlcic6ICdub25lJyxcblxuICAgIC8vIHdlZWsgY3JlYXRpb24gZ3VpZGUgc3R5bGVcbiAgICAnd2Vlay5jcmVhdGlvbkd1aWRlLmNvbG9yJzogJyM1MTVjZTYnLFxuICAgICd3ZWVrLmNyZWF0aW9uR3VpZGUuZm9udFNpemUnOiAnMTFweCcsXG4gICAgJ3dlZWsuY3JlYXRpb25HdWlkZS5mb250V2VpZ2h0JzogJ2JvbGQnLFxuXG4gICAgLy8gd2VlayBkYXlncmlkIHNjaGVkdWxlIHN0eWxlXG4gICAgJ3dlZWsuZGF5R3JpZFNjaGVkdWxlLmJvcmRlclJhZGl1cyc6ICcycHgnLFxuICAgICd3ZWVrLmRheUdyaWRTY2hlZHVsZS5oZWlnaHQnOiAnMjRweCcsXG4gICAgJ3dlZWsuZGF5R3JpZFNjaGVkdWxlLm1hcmdpblRvcCc6ICcycHgnLFxuICAgICd3ZWVrLmRheUdyaWRTY2hlZHVsZS5tYXJnaW5MZWZ0JzogJzhweCcsXG4gICAgJ3dlZWsuZGF5R3JpZFNjaGVkdWxlLm1hcmdpblJpZ2h0JzogJzhweCdcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdGhlbWVDb25maWc7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy9sYXlvdXQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy9sYXlvdXQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgTGF5b3V0IHZpZXcuIHdyYXAgYWxsIHZpZXcgY29udGFpbmVycyBhdCBvdXRzaWRlLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciBDb2xsZWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2NvbGxlY3Rpb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29sbGVjdGlvbi5qc1wiKTtcbnZhciBWaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi92aWV3ICovIFwiLi9zcmMvanMvdmlldy92aWV3LmpzXCIpO1xuXG4vKipcbiAqIExheW91dCB2aWV3IGZvciB0b2dnbGUgZWFjaCBjaGlsZCB2aWV3LiBJdCB3aWxsIGNvbnRyb2xsZWQgdmlhIG5hdmlnYXRpb24gVUkuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtWaWV3fVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyIENvbnRhaW5lciBlbGVtZW50IHRvIHVzZSBsYXlvdXQgdmlldy5cbiAqIEBwYXJhbSB7VGhlbWV9IHRoZW1lIC0gdGhlbWUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gTGF5b3V0KGNvbnRhaW5lciwgdGhlbWUpIHtcbiAgICBjb250YWluZXIgPSBkb211dGlsLmFwcGVuZEhUTUxFbGVtZW50KCdkaXYnLCBjb250YWluZXIsIGNvbmZpZy5jbGFzc25hbWUoJ2xheW91dCcpKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICAgIC8qZXNsaW50LWRpc2FibGUqL1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDb2xsZWN0aW9ufSBDaGlsZCB2aWV3IGNvbGxlY3Rpb24uXG4gICAgICovXG4gICAgdGhpcy5jaGlsZHJlbiA9IG5ldyBDb2xsZWN0aW9uKGZ1bmN0aW9uKGNoaWxkVmlldykge1xuICAgICAgICByZXR1cm4gY2hpbGRWaWV3LnZpZXdOYW1lO1xuICAgIH0pO1xuICAgIC8qIGVzbGludC1lbmFibGUqL1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1RoZW1lfVxuICAgICAqL1xuICAgIHRoaXMudGhlbWUgPSB0aGVtZTtcblxuICAgIHRoaXMuYXBwbHlUaGVtZSgpO1xufVxuXG51dGlsLmluaGVyaXQoTGF5b3V0LCBWaWV3KTtcblxuLyoqXG4gKiBDbGVhciBjaGlsZCB2aWV3cy5cbiAqL1xuTGF5b3V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2hpbGRyZW4uZWFjaChmdW5jdGlvbihjaGlsZFZpZXcpIHtcbiAgICAgICAgY2hpbGRWaWV3LmRlc3Ryb3koKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2hpbGRyZW4uY2xlYXIoKTtcbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGNoaWxkIHZpZXcuXG4gKiBAb3ZlcnJpZGVcbiAqIEBwYXJhbSB7KHN0cmluZ3xWaWV3KX0gdmlld05hbWUgLSBuYW1lIG9mIHZpZXcgb3IgaW5zdGFuY2UuXG4gKi9cbkxheW91dC5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbih2aWV3TmFtZSkge1xuICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlKHZpZXdOYW1lKTtcbn07XG5cbi8qKlxuICogVG9nZ2xlIGNoaWxkIHZpZXdzLlxuICogQHBhcmFtIHtzdHJpbmd9IHZpZXdOYW1lIC0gTmFtZSBvZiB2aWV3LlxuICovXG5MYXlvdXQucHJvdG90eXBlLnRvZ2dsZUNoaWxkVmlldyA9IGZ1bmN0aW9uKHZpZXdOYW1lKSB7XG4gICAgdmFyIGNvbnRhaW5lcixcbiAgICAgICAgcHJlZml4ID0gWydhZGQnLCAncmVtb3ZlJ10sXG4gICAgICAgIGZsYWc7XG5cbiAgICB0aGlzLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oY2hpbGRWaWV3KSB7XG4gICAgICAgIGNvbnRhaW5lciA9IGNoaWxkVmlldy5jb250YWluZXI7XG4gICAgICAgIGZsYWcgPSBOdW1iZXIoY2hpbGRWaWV3LnZpZXdOYW1lID09PSB2aWV3TmFtZSk7XG4gICAgICAgIGRvbXV0aWxbcHJlZml4W2ZsYWddICsgJ0NsYXNzJ10oY29udGFpbmVyLCBjb25maWcuY2xhc3NuYW1lKCdoaWRkZW4nKSk7XG4gICAgfSk7XG59O1xuXG5MYXlvdXQucHJvdG90eXBlLmFwcGx5VGhlbWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3R5bGUgPSB0aGlzLmNvbnRhaW5lci5zdHlsZTtcbiAgICB2YXIgdGhlbWUgPSB0aGlzLnRoZW1lLmNvbW1vbjtcblxuICAgIC8vIGJhY2tncm91bmQgY29sb3JcbiAgICBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS5iYWNrZ3JvdW5kQ29sb3I7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IExheW91dDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy92aWV3L21vbnRoL21vbnRoLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy9tb250aC9tb250aC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE1vbnRoIHZpZXdcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIiksXG4gICAgZGF0ZXRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZGF0ZXRpbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanNcIiksXG4gICAgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIiksXG4gICAgVFpEYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpLkRhdGUsXG4gICAgdG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RlbXBsYXRlL21vbnRoL21vbnRoLmhicyAqLyBcIi4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvbW9udGgvbW9udGguaGJzXCIpLFxuICAgIFZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi92aWV3ICovIFwiLi9zcmMvanMvdmlldy92aWV3LmpzXCIpLFxuICAgIFZMYXlvdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi8vY29tbW9uL3ZsYXlvdXQgKi8gXCIuL3NyYy9qcy9jb21tb24vdmxheW91dC5qc1wiKSxcbiAgICBXZWVrZGF5SW5Nb250aCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vd2Vla2RheUluTW9udGggKi8gXCIuL3NyYy9qcy92aWV3L21vbnRoL3dlZWtkYXlJbk1vbnRoLmpzXCIpO1xudmFyIG1taW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtWaWV3fVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5zY2hlZHVsZUZpbHRlcl0gLSBzY2hlZHVsZSBmaWx0ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGFydERheU9mV2Vlaz0wXSAtIHN0YXJ0IGRheSBvZiB3ZWVrXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucmVuZGVyTW9udGg9JzIwMTUtMTInXSAtIHJlbmRlciBtb250aFxuICogQHBhcmFtIHtzdHJpbmdbXX0gW29wdGlvbnMuZGF5bmFtZXNdIC0gZGF5bmFtZXMgdG8gdXNlIHVwc2lkZSBvZiBtb250aCB2aWV3XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgLSBjb250YWluZXIgZWxlbWVudFxuICogQHBhcmFtIHtCYXNlLk1vbnRofSBjb250cm9sbGVyIC0gY29udHJvbGxlciBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBNb250aChvcHRpb25zLCBjb250YWluZXIsIGNvbnRyb2xsZXIpIHtcbiAgICB2YXIgdGhlbWUgPSBjb250cm9sbGVyID8gY29udHJvbGxlci50aGVtZSA6IG51bGw7XG4gICAgdmFyIG1vbnRoT3B0aW9uO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgbW9udGhPcHRpb24gPSBvcHRpb25zID8gb3B0aW9ucy5tb250aCA6IHt9O1xuXG4gICAgVmlldy5jYWxsKHRoaXMsIGNvbnRhaW5lcik7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QmFzZS5Nb250aH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1ZMYXlvdXR9XG4gICAgICovXG4gICAgdGhpcy52TGF5b3V0ID0gbmV3IFZMYXlvdXQoe1xuICAgICAgICBwYW5lbHM6IFtcbiAgICAgICAgICAgIHtoZWlnaHQ6IHBhcnNlSW50KGNvbnRyb2xsZXIudGhlbWUubW9udGguZGF5bmFtZS5oZWlnaHQsIDEwKSB8fCA0Mn0sXG4gICAgICAgICAgICB7YXV0b0hlaWdodDogdHJ1ZX1cbiAgICAgICAgXVxuICAgIH0sIGNvbnRhaW5lciwgdGhlbWUpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLm9wdGlvbnMgPSB1dGlsLmV4dGVuZCh7XG4gICAgICAgIHNjaGVkdWxlRmlsdGVyOiBmdW5jdGlvbihzY2hlZHVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4oc2NoZWR1bGUuaXNWaXNpYmxlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnREYXlPZldlZWs6IDAsXG4gICAgICAgIHJlbmRlck1vbnRoOiAnMjAxOC0wMScsXG4gICAgICAgIGRheW5hbWVzOiBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddLFxuICAgICAgICBuYXJyb3dXZWVrZW5kOiBmYWxzZSxcbiAgICAgICAgdmlzaWJsZVdlZWtzQ291bnQ6IG51bGwsXG4gICAgICAgIGlzQWx3YXlzNldlZWs6IHRydWUsXG4gICAgICAgIGlzUmVhZE9ubHk6IG9wdGlvbnMuaXNSZWFkT25seSxcbiAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgaGVhZGVyOiB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAzNFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvb3Rlcjoge1xuICAgICAgICAgICAgICAgIGhlaWdodDogM1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgbW9udGhPcHRpb24pO1xuXG4gICAgdGhpcy5vcHRpb25zLmdyaWQuaGVhZGVyID0gdXRpbC5leHRlbmQoe1xuICAgICAgICBoZWlnaHQ6IDM0XG4gICAgfSwgdXRpbC5waWNrKG1vbnRoT3B0aW9uLCAnZ3JpZCcsICdoZWFkZXInKSk7XG4gICAgdGhpcy5vcHRpb25zLmdyaWQuZm9vdGVyID0gdXRpbC5leHRlbmQoe1xuICAgICAgICBoZWlnaHQ6IDNcbiAgICB9LCB1dGlsLnBpY2sobW9udGhPcHRpb24sICdncmlkJywgJ2Zvb3RlcicpKTtcblxuICAgIC8qKlxuICAgICAqIGhvcml6b250YWwgZ3JpZCBpbmZvcm1hdGlvblxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5ncmlkcyA9IGRhdGV0aW1lLmdldEdyaWRMZWZ0QW5kV2lkdGgoXG4gICAgICAgIHRoaXMub3B0aW9ucy5kYXluYW1lcy5sZW5ndGgsXG4gICAgICAgIHRoaXMub3B0aW9ucy5uYXJyb3dXZWVrZW5kLFxuICAgICAgICB0aGlzLm9wdGlvbnMuc3RhcnREYXlPZldlZWspO1xufVxuXG51dGlsLmluaGVyaXQoTW9udGgsIFZpZXcpO1xuXG4vKipcbiAqIE5hbWUgb2Ygdmlldy4gZm9yIG1hbmFnaW5nIHN1YnZpZXcgYXQgbGF5b3V0IHZpZXdcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbk1vbnRoLnByb3RvdHlwZS52aWV3TmFtZSA9ICdtb250aCc7XG5cbi8qKlxuICogR2V0IGNhbGVuZGFyIGFycmF5IGJ5IHN1cHBsaWVkIGRhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSByZW5kZXJNb250aCAtIG1vbnRoIHRvIHJlbmRlciBZWVlZLU1NLCB3ZWVrczIvMyB0byByZW5kZXIgWVlZWS1NTS1ERFxuICogQHJldHVybnMge2FycmF5LjxEYXRlW10+fSBjYWxlbmRhciBhcnJheVxuICovXG5Nb250aC5wcm90b3R5cGUuX2dldE1vbnRoQ2FsZW5kYXIgPSBmdW5jdGlvbihyZW5kZXJNb250aCkge1xuICAgIHZhciBkYXRlID0gbmV3IFRaRGF0ZShyZW5kZXJNb250aCk7XG4gICAgdmFyIHN0YXJ0RGF5T2ZXZWVrID0gdGhpcy5vcHRpb25zLnN0YXJ0RGF5T2ZXZWVrIHx8IDA7XG4gICAgdmFyIHZpc2libGVXZWVrc0NvdW50ID0gbW1pbih0aGlzLm9wdGlvbnMudmlzaWJsZVdlZWtzQ291bnQgfHwgMCwgNik7XG4gICAgdmFyIHdvcmt3ZWVrID0gdGhpcy5vcHRpb25zLndvcmt3ZWVrIHx8IGZhbHNlO1xuICAgIHZhciBkYXRldGltZU9wdGlvbnMsIGNhbGVuZGFyO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy52aXNpYmxlV2Vla3NDb3VudCkge1xuICAgICAgICBkYXRldGltZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzdGFydERheU9mV2Vlazogc3RhcnREYXlPZldlZWssXG4gICAgICAgICAgICBpc0Fsd2F5czZXZWVrOiBmYWxzZSxcbiAgICAgICAgICAgIHZpc2libGVXZWVrc0NvdW50OiB2aXNpYmxlV2Vla3NDb3VudCxcbiAgICAgICAgICAgIHdvcmt3ZWVrOiB3b3Jrd2Vla1xuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGV0aW1lT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHN0YXJ0RGF5T2ZXZWVrOiBzdGFydERheU9mV2VlayxcbiAgICAgICAgICAgIGlzQWx3YXlzNldlZWs6IHRoaXMub3B0aW9ucy5pc0Fsd2F5czZXZWVrLFxuICAgICAgICAgICAgd29ya3dlZWs6IHdvcmt3ZWVrXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY2FsZW5kYXIgPSBkYXRldGltZS5hcnIyZENhbGVuZGFyKGRhdGUsIGRhdGV0aW1lT3B0aW9ucyk7XG5cbiAgICByZXR1cm4gY2FsZW5kYXI7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBjaGlsZHJlbiB2aWV3ICh3ZWVrKSBhbmQgYWRkIGNoaWxkcmVuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgLSBjb250YWluZXIgZWxlbWVudCB0byByZW5kZXIgd2Vla3NcbiAqIEBwYXJhbSB7YXJyYXkuPERhdGVbXT59IGNhbGVuZGFyIC0gY2FsZW5kYXIgYXJyYXkgZnJvbSBkYXRldGltZSNhcnIyZENhbGVuZGFyXG4gKiBAcGFyYW0ge1RoZW1lfSB0aGVtZSAtIHRoZW1lIGluc3RhbmNlXG4gKi9cbk1vbnRoLnByb3RvdHlwZS5fcmVuZGVyQ2hpbGRyZW4gPSBmdW5jdGlvbihjb250YWluZXIsIGNhbGVuZGFyLCB0aGVtZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgd2Vla0NvdW50ID0gY2FsZW5kYXIubGVuZ3RoO1xuICAgIHZhciBoZWlnaHRQZXJjZW50ID0gMTAwIC8gd2Vla0NvdW50O1xuICAgIHZhciBvcHQgPSB0aGlzLm9wdGlvbnM7XG4gICAgdmFyIHJlbmRlck1vbnRoID0gb3B0LnJlbmRlck1vbnRoO1xuICAgIHZhciBuYXJyb3dXZWVrZW5kID0gb3B0Lm5hcnJvd1dlZWtlbmQ7XG4gICAgdmFyIHN0YXJ0RGF5T2ZXZWVrID0gb3B0LnN0YXJ0RGF5T2ZXZWVrO1xuICAgIHZhciB2aXNpYmxlV2Vla3NDb3VudCA9IG9wdC52aXNpYmxlV2Vla3NDb3VudDtcbiAgICB2YXIgdmlzaWJsZVNjaGVkdWxlQ291bnQgPSBvcHQudmlzaWJsZVNjaGVkdWxlQ291bnQ7XG4gICAgdmFyIGdyaWRPcHRpb24gPSBvcHQuZ3JpZDtcbiAgICB2YXIgaXNSZWFkT25seSA9IG9wdC5pc1JlYWRPbmx5O1xuXG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuY2hpbGRyZW4uY2xlYXIoKTtcblxuICAgIHV0aWwuZm9yRWFjaChjYWxlbmRhciwgZnVuY3Rpb24od2Vla0Fycikge1xuICAgICAgICB2YXIgc3RhcnQgPSBuZXcgVFpEYXRlKHdlZWtBcnJbMF0pLFxuICAgICAgICAgICAgZW5kID0gbmV3IFRaRGF0ZSh3ZWVrQXJyW3dlZWtBcnIubGVuZ3RoIC0gMV0pLFxuICAgICAgICAgICAgd2Vla2RheVZpZXdDb250YWluZXIsXG4gICAgICAgICAgICB3ZWVrZGF5VmlldztcblxuICAgICAgICB3ZWVrZGF5Vmlld0NvbnRhaW5lciA9IGRvbXV0aWwuYXBwZW5kSFRNTEVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JywgY29udGFpbmVyLCBjb25maWcuY2xhc3NuYW1lKCdtb250aC13ZWVrLWl0ZW0nKSk7XG5cbiAgICAgICAgd2Vla2RheVZpZXcgPSBuZXcgV2Vla2RheUluTW9udGgoe1xuICAgICAgICAgICAgcmVuZGVyTW9udGg6IHJlbmRlck1vbnRoLFxuICAgICAgICAgICAgaGVpZ2h0UGVyY2VudDogaGVpZ2h0UGVyY2VudCxcbiAgICAgICAgICAgIHJlbmRlclN0YXJ0RGF0ZTogc3RhcnQsXG4gICAgICAgICAgICByZW5kZXJFbmREYXRlOiBlbmQsXG4gICAgICAgICAgICBuYXJyb3dXZWVrZW5kOiBuYXJyb3dXZWVrZW5kLFxuICAgICAgICAgICAgc3RhcnREYXlPZldlZWs6IHN0YXJ0RGF5T2ZXZWVrLFxuICAgICAgICAgICAgdmlzaWJsZVdlZWtzQ291bnQ6IHZpc2libGVXZWVrc0NvdW50LFxuICAgICAgICAgICAgdmlzaWJsZVNjaGVkdWxlQ291bnQ6IHZpc2libGVTY2hlZHVsZUNvdW50LFxuICAgICAgICAgICAgZ3JpZDogZ3JpZE9wdGlvbixcbiAgICAgICAgICAgIHNjaGVkdWxlSGVpZ2h0OiBwYXJzZUludCh0aGVtZS5tb250aC5zY2hlZHVsZS5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgIHNjaGVkdWxlR3V0dGVyOiBwYXJzZUludCh0aGVtZS5tb250aC5zY2hlZHVsZS5tYXJnaW5Ub3AsIDEwKSxcbiAgICAgICAgICAgIGlzUmVhZE9ubHk6IGlzUmVhZE9ubHlcbiAgICAgICAgfSwgd2Vla2RheVZpZXdDb250YWluZXIpO1xuXG4gICAgICAgIHNlbGYuYWRkQ2hpbGQod2Vla2RheVZpZXcpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZW5kZXIgbW9udGggdmlld1xuICogQG92ZXJyaWRlXG4gKi9cbk1vbnRoLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIG9wdCA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgdkxheW91dCA9IHRoaXMudkxheW91dCxcbiAgICAgICAgY29udHJvbGxlciA9IHRoaXMuY29udHJvbGxlcixcbiAgICAgICAgZGF5bmFtZXMgPSBvcHQuZGF5bmFtZXMsXG4gICAgICAgIHdvcmt3ZWVrID0gb3B0Lndvcmt3ZWVrLFxuICAgICAgICBjYWxlbmRhciA9IHRoaXMuX2dldE1vbnRoQ2FsZW5kYXIob3B0LnJlbmRlck1vbnRoKSxcbiAgICAgICAgc2NoZWR1bGVGaWx0ZXIgPSBvcHQuc2NoZWR1bGVGaWx0ZXIsXG4gICAgICAgIHRoZW1lID0gY29udHJvbGxlciA/IGNvbnRyb2xsZXIudGhlbWUgOiBudWxsLFxuICAgICAgICBzdHlsZXMgPSB0aGlzLl9nZXRTdHlsZXModGhlbWUpLFxuICAgICAgICBncmlkcyxcbiAgICAgICAgZGF5bmFtZVZpZXdNb2RlbCxcbiAgICAgICAgYmFzZVZpZXdNb2RlbDtcblxuICAgIGdyaWRzID0gdGhpcy5ncmlkcyA9IGRhdGV0aW1lLmdldEdyaWRMZWZ0QW5kV2lkdGgoXG4gICAgICAgIG9wdC5kYXluYW1lcy5sZW5ndGgsXG4gICAgICAgIG9wdC5uYXJyb3dXZWVrZW5kLFxuICAgICAgICBvcHQuc3RhcnREYXlPZldlZWtcbiAgICApO1xuXG4gICAgZGF5bmFtZVZpZXdNb2RlbCA9IHV0aWwubWFwKFxuICAgICAgICB1dGlsLnJhbmdlKG9wdC5zdGFydERheU9mV2VlaywgNykuY29uY2F0KHV0aWwucmFuZ2UoNykpLnNsaWNlKDAsIDcpLFxuICAgICAgICBmdW5jdGlvbihkYXksIGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRheTogZGF5LFxuICAgICAgICAgICAgICAgIGxhYmVsOiBkYXluYW1lc1tkYXldLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBncmlkc1tpbmRleF0gPyBncmlkc1tpbmRleF0ud2lkdGggOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGdyaWRzW2luZGV4XSA/IGdyaWRzW2luZGV4XS5sZWZ0IDogMCxcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5fZ2V0RGF5TmFtZUNvbG9yKHRoZW1lLCBkYXkpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgKTtcblxuICAgIGlmICh3b3Jrd2Vlaykge1xuICAgICAgICBncmlkcyA9IHRoaXMuZ3JpZHMgPSBkYXRldGltZS5nZXRHcmlkTGVmdEFuZFdpZHRoKDUsIG9wdC5uYXJyb3dXZWVrZW5kLCBvcHQuc3RhcnREYXlPZldlZWssIHdvcmt3ZWVrKTtcblxuICAgICAgICBkYXluYW1lVmlld01vZGVsID0gdXRpbC5maWx0ZXIoZGF5bmFtZVZpZXdNb2RlbCwgZnVuY3Rpb24oZGF5bmFtZU1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gIWRhdGV0aW1lLmlzV2Vla2VuZChkYXluYW1lTW9kZWwuZGF5KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdXRpbC5mb3JFYWNoKGRheW5hbWVWaWV3TW9kZWwsIGZ1bmN0aW9uKGRheW5hbWVNb2RlbCwgaW5kZXgpIHtcbiAgICAgICAgICAgIGRheW5hbWVNb2RlbC53aWR0aCA9IGdyaWRzW2luZGV4XSA/IGdyaWRzW2luZGV4XS53aWR0aCA6IDA7XG4gICAgICAgICAgICBkYXluYW1lTW9kZWwubGVmdCA9IGdyaWRzW2luZGV4XSA/IGdyaWRzW2luZGV4XS5sZWZ0IDogMDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmFzZVZpZXdNb2RlbCA9IHtcbiAgICAgICAgZGF5bmFtZXM6IGRheW5hbWVWaWV3TW9kZWwsXG4gICAgICAgIHN0eWxlczogc3R5bGVzXG4gICAgfTtcblxuICAgIHZMYXlvdXQucGFuZWxzWzBdLmNvbnRhaW5lci5pbm5lckhUTUwgPSB0bXBsKGJhc2VWaWV3TW9kZWwpO1xuXG4gICAgdGhpcy5fcmVuZGVyQ2hpbGRyZW4odkxheW91dC5wYW5lbHNbMV0uY29udGFpbmVyLCBjYWxlbmRhciwgdGhlbWUpO1xuXG4gICAgYmFzZVZpZXdNb2RlbC5wYW5lbEhlaWdodCA9IHZMYXlvdXQucGFuZWxzWzFdLmdldEhlaWdodCgpO1xuXG4gICAgdGhpcy5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGNoaWxkVmlldykge1xuICAgICAgICB2YXIgc3RhcnQgPSBkYXRldGltZS5zdGFydChjaGlsZFZpZXcub3B0aW9ucy5yZW5kZXJTdGFydERhdGUpO1xuICAgICAgICB2YXIgZW5kID0gZGF0ZXRpbWUuc3RhcnQoY2hpbGRWaWV3Lm9wdGlvbnMucmVuZGVyRW5kRGF0ZSk7XG4gICAgICAgIHZhciBldmVudHNJbkRhdGVSYW5nZSA9IGNvbnRyb2xsZXIuZmluZEJ5RGF0ZVJhbmdlKFxuICAgICAgICAgICAgZGF0ZXRpbWUuc3RhcnQoc3RhcnQpLFxuICAgICAgICAgICAgZGF0ZXRpbWUuZW5kKGVuZCksXG4gICAgICAgICAgICBzY2hlZHVsZUZpbHRlclxuICAgICAgICApO1xuICAgICAgICB2YXIgZGF0ZVJhbmdlID0gZGF0ZXRpbWUucmFuZ2UoXG4gICAgICAgICAgICBkYXRldGltZS5zdGFydChzdGFydCksXG4gICAgICAgICAgICBkYXRldGltZS5lbmQoZW5kKSxcbiAgICAgICAgICAgIGRhdGV0aW1lLk1JTExJU0VDT05EU19QRVJfREFZKTtcbiAgICAgICAgdmFyIHZpZXdNb2RlbCA9IHtcbiAgICAgICAgICAgIGV2ZW50c0luRGF0ZVJhbmdlOiBldmVudHNJbkRhdGVSYW5nZSxcbiAgICAgICAgICAgIHJhbmdlOiBkYXRlUmFuZ2Uuc2xpY2UoMCwgZ3JpZHMubGVuZ3RoKSxcbiAgICAgICAgICAgIGdyaWRzOiBncmlkcyxcbiAgICAgICAgICAgIHBhbmVsSGVpZ2h0OiBiYXNlVmlld01vZGVsLnBhbmVsSGVpZ2h0LFxuICAgICAgICAgICAgdGhlbWU6IHRoZW1lXG4gICAgICAgIH07XG5cbiAgICAgICAgY2hpbGRWaWV3LnJlbmRlcih2aWV3TW9kZWwpO1xuXG4gICAgICAgIHNlbGYuX2ludm9rZUFmdGVyUmVuZGVyU2NoZWR1bGUoZXZlbnRzSW5EYXRlUmFuZ2UpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBGaXJlICdhZnRlclJlbmRlclNjaGVkdWxlJyBldmVudFxuICogQHBhcmFtIHtBcnJheX0gbWF0cmljZXMgLSBzY2hlZHVsZSBtYXRyaWNlcyBmcm9tIHZpZXcgbW9kZWxcbiAqIEBmaXJlcyBNb250aCNhZnRlclJlbmRlclNjaGVkdWxlXG4gKi9cbk1vbnRoLnByb3RvdHlwZS5faW52b2tlQWZ0ZXJSZW5kZXJTY2hlZHVsZSA9IGZ1bmN0aW9uKG1hdHJpY2VzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHV0aWwuZm9yRWFjaEFycmF5KG1hdHJpY2VzLCBmdW5jdGlvbihtYXRyaXgpIHtcbiAgICAgICAgdXRpbC5mb3JFYWNoQXJyYXkobWF0cml4LCBmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgIHV0aWwuZm9yRWFjaEFycmF5KGNvbHVtbiwgZnVuY3Rpb24oc2NoZWR1bGVWaWV3TW9kZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZWR1bGVWaWV3TW9kZWwgJiYgIXNjaGVkdWxlVmlld01vZGVsLmhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQGV2ZW50IE1vbnRoI2FmdGVyUmVuZGVyU2NoZWR1bGVcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZmlyZSgnYWZ0ZXJSZW5kZXJTY2hlZHVsZScsIHtzY2hlZHVsZTogc2NoZWR1bGVWaWV3TW9kZWwubW9kZWx9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgc3R5bGVzIGZyb20gdGhlbWVcbiAqIEBwYXJhbSB7VGhlbWV9IHRoZW1lIC0gdGhlbWUgaW5zdGFuY2VcbiAqIEByZXR1cm5zIHtvYmplY3R9IHN0eWxlcyAtIHN0eWxlcyBvYmplY3RcbiAqL1xuTW9udGgucHJvdG90eXBlLl9nZXRTdHlsZXMgPSBmdW5jdGlvbih0aGVtZSkge1xuICAgIHZhciBzdHlsZXMgPSB7fTtcbiAgICB2YXIgZGF5bmFtZTtcblxuICAgIGlmICh0aGVtZSkge1xuICAgICAgICBkYXluYW1lID0gdGhlbWUubW9udGguZGF5bmFtZTtcblxuICAgICAgICBzdHlsZXMuYm9yZGVyVG9wID0gZGF5bmFtZS5ib3JkZXJUb3AgfHwgdGhlbWUuY29tbW9uLmJvcmRlcjtcbiAgICAgICAgc3R5bGVzLmJvcmRlckxlZnQgPSBkYXluYW1lLmJvcmRlckxlZnQgfHwgdGhlbWUuY29tbW9uLmJvcmRlcjtcbiAgICAgICAgc3R5bGVzLmhlaWdodCA9IGRheW5hbWUuaGVpZ2h0O1xuICAgICAgICBzdHlsZXMucGFkZGluZ0xlZnQgPSBkYXluYW1lLnBhZGRpbmdMZWZ0O1xuICAgICAgICBzdHlsZXMucGFkZGluZ1JpZ2h0ID0gZGF5bmFtZS5wYWRkaW5nUmlnaHQ7XG4gICAgICAgIHN0eWxlcy5mb250U2l6ZSA9IGRheW5hbWUuZm9udFNpemU7XG4gICAgICAgIHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSBkYXluYW1lLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgc3R5bGVzLmZvbnRXZWlnaHQgPSBkYXluYW1lLmZvbnRXZWlnaHQ7XG4gICAgICAgIHN0eWxlcy50ZXh0QWxpZ24gPSBkYXluYW1lLnRleHRBbGlnbjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVzO1xufTtcblxuLyoqXG4gKiBHZXQgYSBkYXkgbmFtZSBjb2xvclxuICogQHBhcmFtIHtUaGVtZX0gdGhlbWUgLSB0aGVtZSBpbnN0YW5jZVxuICogQHBhcmFtIHtudW1iZXJ9IGRheSAtIGRheSBudW1iZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHN0eWxlIC0gY29sb3Igc3R5bGVcbiAqL1xuTW9udGgucHJvdG90eXBlLl9nZXREYXlOYW1lQ29sb3IgPSBmdW5jdGlvbih0aGVtZSwgZGF5KSB7XG4gICAgdmFyIGNvbG9yID0gJyc7XG5cbiAgICBpZiAodGhlbWUpIHtcbiAgICAgICAgaWYgKGRheSA9PT0gMCkge1xuICAgICAgICAgICAgY29sb3IgPSB0aGVtZS5jb21tb24uaG9saWRheS5jb2xvcjtcbiAgICAgICAgfSBlbHNlIGlmIChkYXkgPT09IDYpIHtcbiAgICAgICAgICAgIGNvbG9yID0gdGhlbWUuY29tbW9uLnNhdHVyZGF5LmNvbG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3IgPSB0aGVtZS5jb21tb24uZGF5bmFtZS5jb2xvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb2xvcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTW9udGg7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy9tb250aC9tb3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L21vbnRoL21vcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEZsb2F0aW5nIGxheWVyIGZvciBkaXNwbGF5aW5nIHNjaGVkdWxlIGluIHNwZWNpZmljIGRhdGVcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIE9VVF9QQURESU5HID0gNTtcbnZhciBWSUVXX01JTl9XSURUSCA9IDI4MDtcbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpLFxuICAgIGRvbWV2ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbWV2ZW50ICovIFwiLi9zcmMvanMvY29tbW9uL2RvbWV2ZW50LmpzXCIpLFxuICAgIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpLFxuICAgIFZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi92aWV3L3ZpZXcgKi8gXCIuL3NyYy9qcy92aWV3L3ZpZXcuanNcIiksXG4gICAgRmxvYXRpbmdMYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9mbG9hdGluZ0xheWVyICovIFwiLi9zcmMvanMvY29tbW9uL2Zsb2F0aW5nTGF5ZXIuanNcIiksXG4gICAgY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2NvbW1vbiAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb21tb24uanNcIiksXG4gICAgdG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RlbXBsYXRlL21vbnRoL21vcmUuaGJzICovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS9tb250aC9tb3JlLmhic1wiKTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtWaWV3fVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMubW9yZUxheWVyU2l6ZV0gLSBtb3JlIGxheWVyIHNpemVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5tb3JlTGF5ZXJTaXplLndpZHRoPW51bGxdIC0gY3NzIHdpZHRoIHZhbHVlKHB4LCBhdXRvKS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgZGVmYXVsdCB2YWx1ZSAnbnVsbCcgaXMgdG8gZml0IGEgZ3JpZCBjZWxsLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1vcmVMYXllclNpemUuaGVpZ2h0PW51bGxdIC0gY3NzIGhlaWdodCB2YWx1ZShweCwgYXV0bykuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBkZWZhdWx0IHZhbHVlICdudWxsJyBpcyB0byBmaXQgYSBncmlkIGNlbGwuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgPSBjb250YWluZXIgZWxlbWVudFxuICogQHBhcmFtIHtUaGVtZX0gdGhlbWUgLSB0aGVtZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBNb3JlKG9wdGlvbnMsIGNvbnRhaW5lciwgdGhlbWUpIHtcbiAgICBWaWV3LmNhbGwodGhpcywgY29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtGbG9hdGluZ0xheWVyfVxuICAgICAqL1xuICAgIHRoaXMubGF5ZXIgPSBuZXcgRmxvYXRpbmdMYXllcihudWxsLCBjb250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogY2FjaGVkIHZpZXcgbW9kZWxcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuX3ZpZXdNb2RlbCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMub3B0aW9ucyA9IHV0aWwuZXh0ZW5kKHtcbiAgICAgICAgbW9yZUxheWVyU2l6ZToge1xuICAgICAgICAgICAgd2lkdGg6IG51bGwsXG4gICAgICAgICAgICBoZWlnaHQ6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgc2NoZWR1bGVIZWlnaHQ6IHBhcnNlSW50KHRoZW1lLm1vbnRoLnNjaGVkdWxlLmhlaWdodCwgMTApIHx8IDE4LFxuICAgICAgICBzY2hlZHVsZUd1dHRlcjogcGFyc2VJbnQodGhlbWUubW9udGguc2NoZWR1bGUubWFyZ2luVG9wLCAxMCkgfHwgMixcbiAgICAgICAgc2NoZWR1bGVCdWxsZXRUb3A6IChwYXJzZUludCh0aGVtZS5tb250aC5zY2hlZHVsZS5oZWlnaHQsIDEwKSB8fCAxOCkgLyAzLFxuICAgICAgICBib3JkZXJSYWRpdXM6IHRoZW1lLm1vbnRoLnNjaGVkdWxlLmJvcmRlclJhZGl1c1xuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1RoZW1lfVxuICAgICAqL1xuICAgIHRoaXMudGhlbWUgPSB0aGVtZTtcblxuICAgIGRvbWV2ZW50Lm9uKGNvbnRhaW5lciwgJ2NsaWNrJywgdGhpcy5fb25DbGljaywgdGhpcyk7XG59XG5cbnV0aWwuaW5oZXJpdChNb3JlLCBWaWV3KTtcblxuLyoqXG4gKiBDbGljayBldmVudCBoYW5kbGVyIGZvciBjbG9zZSBidXR0b25cbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gY2xpY2tFdmVudCAtIG1vdXNlIGV2ZW50IG9iamVjdFxuICovXG5Nb3JlLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uKGNsaWNrRXZlbnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZG9tZXZlbnQuZ2V0RXZlbnRUYXJnZXQoY2xpY2tFdmVudCk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzc25hbWUoJ21vbnRoLW1vcmUtY2xvc2UnKTtcblxuICAgIGlmICghZG9tdXRpbC5oYXNDbGFzcyh0YXJnZXQsIGNsYXNzTmFtZSkgJiYgIWRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsICcuJyArIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaGlkZSgpO1xufTtcblxuLyoqXG4gKiBNb3VzZWRvd24gZXZlbnQgaGFuZGxlciBmb3IgaGlkaW5nIG1vcmUgbGF5ZXIgd2hlbiB1c2VyIG1vdXNlZG93biBvdXRzaWRlIG9mXG4gKiBsYXllclxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZURvd25FdmVudCAtIG1vdXNlIGV2ZW50IG9iamVjdFxuICovXG5Nb3JlLnByb3RvdHlwZS5fb25Nb3VzZURvd24gPSBmdW5jdGlvbihtb3VzZURvd25FdmVudCkge1xuICAgIHZhciB0YXJnZXQgPSBkb21ldmVudC5nZXRFdmVudFRhcmdldChtb3VzZURvd25FdmVudCksXG4gICAgICAgIG1vcmVMYXllciA9IGRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsIGNvbmZpZy5jbGFzc25hbWUoJy5tb250aC1tb3JlJykpO1xuXG4gICAgaWYgKG1vcmVMYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5oaWRlKCk7XG59O1xuXG4vKipcbiAqIEdldCBuZXcgcG9zaXRpb24gZm9yIG1vcmUgbGF5ZXIgYnkgK24gZWxlbWVudCBpdHNlbGZcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIHBhcmVudCBncmlkLWxpbmUgZWxlbWVudCBvZiArbiBlbGVtZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB3ZWVrSXRlbSAtIHdlZWtJdGVtIGNvbnRhaW5lciBlbGVtZW50XG4gKiBAcmV0dXJucyB7bnVtYmVyW119IG5ldyBwb3NpdGlvbiBvZiBtb3JlIGxheWVyXG4gKi9cbk1vcmUucHJvdG90eXBlLl9nZXRSZW5kZXJQb3NpdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCwgd2Vla0l0ZW0pIHtcbiAgICB2YXIgcG9zID0gZG9tZXZlbnQuZ2V0TW91c2VQb3NpdGlvbih7XG4gICAgICAgIGNsaWVudFg6IGRvbXV0aWwuZ2V0UG9zaXRpb24odGFyZ2V0KVswXSxcbiAgICAgICAgY2xpZW50WTogZG9tdXRpbC5nZXRQb3NpdGlvbih3ZWVrSXRlbSlbMV1cbiAgICB9LCB0aGlzLmNvbnRhaW5lcik7XG4gICAgdmFyIGNvbnRhaW5lclNpemUgPSBkb211dGlsLmdldFNpemUodGhpcy5jb250YWluZXIpO1xuICAgIHZhciBsZWZ0ID0gcG9zWzBdIC0gT1VUX1BBRERJTkc7XG4gICAgdmFyIHRvcCA9IHBvc1sxXSAtIE9VVF9QQURESU5HO1xuXG4gICAgbGVmdCA9IGNvbW1vbi5yYXRpbyhjb250YWluZXJTaXplWzBdLCAxMDAsIGxlZnQpO1xuICAgIHRvcCA9IGNvbW1vbi5yYXRpbyhjb250YWluZXJTaXplWzFdLCAxMDAsIHRvcCk7XG5cbiAgICByZXR1cm4gW2xlZnQsIHRvcF07XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5Nb3JlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sYXllci5kZXN0cm95KCk7XG4gICAgdGhpcy5sYXllciA9IG51bGw7XG4gICAgZG9tZXZlbnQub2ZmKHRoaXMuY29udGFpbmVyLCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrLCB0aGlzKTtcbiAgICBkb21ldmVudC5vZmYoZG9jdW1lbnQuYm9keSwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTtcbiAgICBWaWV3LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICogQHBhcmFtIHtvYmplY3R9IHZpZXdNb2RlbCAtIHZpZXcgbW9kZWwgZnJvbSBmYWN0b3J5L21vbnRoVmlld1xuICovXG5Nb3JlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZG9tdXRpbC5jbG9zZXN0KHZpZXdNb2RlbC50YXJnZXQsIGNvbmZpZy5jbGFzc25hbWUoJy53ZWVrZGF5LWdyaWQtbGluZScpKTtcbiAgICB2YXIgd2Vla0l0ZW0gPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcubW9udGgtd2Vlay1pdGVtJykpO1xuICAgIHZhciBsYXllciA9IHRoaXMubGF5ZXI7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwb3MgPSB0aGlzLl9nZXRSZW5kZXJQb3NpdGlvbih0YXJnZXQsIHdlZWtJdGVtKTtcbiAgICB2YXIgbWluSGVpZ2h0ID0gZG9tdXRpbC5nZXRTaXplKHdlZWtJdGVtKVsxXSArIChPVVRfUEFERElORyAqIDIpO1xuICAgIHZhciB3aWR0aCA9IHRhcmdldC5vZmZzZXRXaWR0aCArIChPVVRfUEFERElORyAqIDIpO1xuICAgIHZhciBvcHQgPSB0aGlzLm9wdGlvbnM7XG4gICAgdmFyIG9wdE1vcmVMYXllclNpemUgPSBvcHQubW9yZUxheWVyU2l6ZTtcbiAgICB2YXIgc3R5bGVzID0gdGhpcy5fZ2V0U3R5bGVzKHRoaXMudGhlbWUpO1xuICAgIHZhciBtYXhWaXNpYmxlU2NoZWR1bGVzSW5MYXllciA9IDEwO1xuICAgIHZhciBoZWlnaHQgPSAnJztcbiAgICB2YXIgY29udGFpbmVyU2l6ZSA9IGRvbXV0aWwuZ2V0U2l6ZSh0aGlzLmNvbnRhaW5lcik7XG4gICAgdmFyIGNhbFdpZHRoID0gMDtcbiAgICB2YXIgY2FsSGVpZ2h0ID0gMDtcbiAgICB2YXIgaXNPdmVyV2lkdGggPSBmYWxzZTtcbiAgICB2YXIgaXNPdmVySGVpZ2h0ID0gZmFsc2U7XG4gICAgdmFyIGxlZnRQb3MgPSBwb3NbMF07XG4gICAgdmFyIHRvcFBvcyA9IHBvc1sxXTtcblxuICAgIHRoaXMuX3ZpZXdNb2RlbCA9IHV0aWwuZXh0ZW5kKHZpZXdNb2RlbCwge1xuICAgICAgICBzY2hlZHVsZUd1dHRlcjogb3B0LnNjaGVkdWxlR3V0dGVyLFxuICAgICAgICBzY2hlZHVsZUhlaWdodDogb3B0LnNjaGVkdWxlSGVpZ2h0LFxuICAgICAgICBzY2hlZHVsZUJ1bGxldFRvcDogb3B0LnNjaGVkdWxlQnVsbGV0VG9wLFxuICAgICAgICBib3JkZXJSYWRpdXM6IG9wdC5ib3JkZXJSYWRpdXMsXG4gICAgICAgIHN0eWxlczogc3R5bGVzXG4gICAgfSk7XG5cbiAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBWSUVXX01JTl9XSURUSCk7XG4gICAgaGVpZ2h0ID0gcGFyc2VJbnQoc3R5bGVzLnRpdGxlSGVpZ2h0LCAxMCk7XG4gICAgaGVpZ2h0ICs9IHBhcnNlSW50KHN0eWxlcy50aXRsZU1hcmdpbkJvdHRvbSwgMTApO1xuICAgIGlmICh2aWV3TW9kZWwuc2NoZWR1bGVzLmxlbmd0aCA8PSBtYXhWaXNpYmxlU2NoZWR1bGVzSW5MYXllcikge1xuICAgICAgICBoZWlnaHQgKz0gKG9wdC5zY2hlZHVsZUd1dHRlciArIG9wdC5zY2hlZHVsZUhlaWdodCkgKiB2aWV3TW9kZWwuc2NoZWR1bGVzLmxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWlnaHQgKz0gKG9wdC5zY2hlZHVsZUd1dHRlciArIG9wdC5zY2hlZHVsZUhlaWdodCkgKiBtYXhWaXNpYmxlU2NoZWR1bGVzSW5MYXllcjtcbiAgICB9XG4gICAgaGVpZ2h0ICs9IHBhcnNlSW50KHN0eWxlcy5wYWRkaW5nQm90dG9tLCAxMCk7XG4gICAgaGVpZ2h0ICs9IE9VVF9QQURESU5HOyAvLyBmb3IgYm9yZGVyXG5cbiAgICBpZiAob3B0TW9yZUxheWVyU2l6ZS53aWR0aCkge1xuICAgICAgICB3aWR0aCA9IG9wdE1vcmVMYXllclNpemUud2lkdGg7XG4gICAgfVxuXG4gICAgaWYgKG9wdE1vcmVMYXllclNpemUuaGVpZ2h0KSB7XG4gICAgICAgIGhlaWdodCA9IG9wdE1vcmVMYXllclNpemUuaGVpZ2h0O1xuICAgIH1cblxuICAgIGlmIChpc05hTihoZWlnaHQpIHx8IGhlaWdodCA8IG1pbkhlaWdodCkge1xuICAgICAgICBoZWlnaHQgPSBtaW5IZWlnaHQ7XG4gICAgfVxuXG4gICAgbGF5ZXIuc2V0Q29udGVudCh0bXBsKHZpZXdNb2RlbCkpO1xuXG4gICAgY2FsV2lkdGggPSBsZWZ0UG9zICogY29udGFpbmVyU2l6ZVswXSAvIDEwMDtcbiAgICBjYWxIZWlnaHQgPSB0b3BQb3MgKiBjb250YWluZXJTaXplWzFdIC8gMTAwO1xuICAgIGlzT3ZlcldpZHRoID0gY2FsV2lkdGggKyB3aWR0aCA+PSBjb250YWluZXJTaXplWzBdO1xuICAgIGlzT3ZlckhlaWdodCA9IGNhbEhlaWdodCArIGhlaWdodCA+PSBjb250YWluZXJTaXplWzFdO1xuICAgIGxlZnRQb3MgPSBsZWZ0UG9zICsgJyUnO1xuICAgIHRvcFBvcyA9IHRvcFBvcyArICclJztcblxuICAgIGlmIChpc092ZXJXaWR0aCAmJiBpc092ZXJIZWlnaHQpIHtcbiAgICAgICAgbGF5ZXIuc2V0TFRSQih7XG4gICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgIGJvdHRvbTogMFxuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFpc092ZXJXaWR0aCAmJiBpc092ZXJIZWlnaHQpIHtcbiAgICAgICAgbGF5ZXIuc2V0TFRSQih7XG4gICAgICAgICAgICBsZWZ0OiBsZWZ0UG9zLFxuICAgICAgICAgICAgYm90dG9tOiAwXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaXNPdmVyV2lkdGggJiYgIWlzT3ZlckhlaWdodCkge1xuICAgICAgICBsYXllci5zZXRMVFJCKHtcbiAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgICAgdG9wOiB0b3BQb3NcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbGF5ZXIuc2V0UG9zaXRpb24obGVmdFBvcywgdG9wUG9zKTtcbiAgICB9XG5cbiAgICBsYXllci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgbGF5ZXIuc2hvdygpO1xuXG4gICAgdXRpbC5kZWJvdW5jZShmdW5jdGlvbigpIHtcbiAgICAgICAgZG9tZXZlbnQub24oZG9jdW1lbnQuYm9keSwgJ21vdXNlZG93bicsIHNlbGYuX29uTW91c2VEb3duLCBzZWxmKTtcbiAgICB9KSgpO1xufTtcblxuLyoqXG4gKiBIaWRlIGxheWVyXG4gKi9cbk1vcmUucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxheWVyLmhpZGUoKTtcbiAgICBkb21ldmVudC5vZmYoZG9jdW1lbnQuYm9keSwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTtcbn07XG5cbi8qKlxuICogcmVmcmVzaCBsYXllclxuICovXG5Nb3JlLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX3ZpZXdNb2RlbCkge1xuICAgICAgICB0aGlzLmxheWVyLnNldENvbnRlbnQodG1wbCh0aGlzLl92aWV3TW9kZWwpKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJldHVybiBtb3JlIGxheWVyIHJvb3QgZWxlbWVudFxuICogQHJldHVybnMge0hUTUxFbGVtZW50fSByb290IGVsZW1lbnRcbiAqL1xuTW9yZS5wcm90b3R5cGUuZ2V0TW9yZVZpZXdFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRvbXV0aWwuZmluZChjb25maWcuY2xhc3NuYW1lKCcubW9udGgtbW9yZScpLCB0aGlzLmxheWVyLmNvbnRhaW5lcik7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgc3R5bGVzIGZyb20gdGhlbWVcbiAqIEBwYXJhbSB7VGhlbWV9IHRoZW1lIC0gdGhlbWUgaW5zdGFuY2VcbiAqIEByZXR1cm5zIHtvYmplY3R9IHN0eWxlcyAtIHN0eWxlcyBvYmplY3RcbiAqL1xuTW9yZS5wcm90b3R5cGUuX2dldFN0eWxlcyA9IGZ1bmN0aW9uKHRoZW1lKSB7XG4gICAgdmFyIHN0eWxlcyA9IHt9O1xuICAgIHZhciBsaXN0SGVpZ2h0ID0gJyc7XG5cbiAgICBpZiAodGhlbWUpIHtcbiAgICAgICAgc3R5bGVzLmJvcmRlciA9IHRoZW1lLm1vbnRoLm1vcmVWaWV3LmJvcmRlciB8fCB0aGVtZS5jb21tb24uYm9yZGVyO1xuICAgICAgICBzdHlsZXMuYm94U2hhZG93ID0gdGhlbWUubW9udGgubW9yZVZpZXcuYm94U2hhZG93O1xuICAgICAgICBzdHlsZXMuYmFja2dyb3VuZENvbG9yID0gdGhlbWUubW9udGgubW9yZVZpZXcuYmFja2dyb3VuZENvbG9yIHx8IHRoZW1lLmNvbW1vbi5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHN0eWxlcy5wYWRkaW5nQm90dG9tID0gdGhlbWUubW9udGgubW9yZVZpZXcucGFkZGluZ0JvdHRvbTtcbiAgICAgICAgc3R5bGVzLnRpdGxlSGVpZ2h0ID0gdGhlbWUubW9udGgubW9yZVZpZXdUaXRsZS5oZWlnaHQ7XG4gICAgICAgIHN0eWxlcy50aXRsZU1hcmdpbkJvdHRvbSA9IHRoZW1lLm1vbnRoLm1vcmVWaWV3VGl0bGUubWFyZ2luQm90dG9tO1xuICAgICAgICBzdHlsZXMudGl0bGVCYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS5tb250aC5tb3JlVmlld1RpdGxlLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgc3R5bGVzLnRpdGxlQm9yZGVyQm90dG9tID0gdGhlbWUubW9udGgubW9yZVZpZXdUaXRsZS5ib3JkZXJCb3R0b207XG4gICAgICAgIHN0eWxlcy50aXRsZVBhZGRpbmcgPSB0aGVtZS5tb250aC5tb3JlVmlld1RpdGxlLnBhZGRpbmc7XG4gICAgICAgIHN0eWxlcy5saXN0UGFkZGluZyA9IHRoZW1lLm1vbnRoLm1vcmVWaWV3TGlzdC5wYWRkaW5nO1xuICAgICAgICBsaXN0SGVpZ2h0ID0gJ2NhbGMoMTAwJSc7XG5cbiAgICAgICAgaWYgKHBhcnNlSW50KHN0eWxlcy50aXRsZUhlaWdodCwgMTApKSB7XG4gICAgICAgICAgICBsaXN0SGVpZ2h0ICs9ICcgLSAnICsgc3R5bGVzLnRpdGxlSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZUludChzdHlsZXMudGl0bGVNYXJnaW5Cb3R0b20sIDEwKSkge1xuICAgICAgICAgICAgbGlzdEhlaWdodCArPSAnIC0gJyArIHN0eWxlcy50aXRsZU1hcmdpbkJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgICBsaXN0SGVpZ2h0ICs9ICcpJztcblxuICAgICAgICBzdHlsZXMubGlzdEhlaWdodCA9IGxpc3RIZWlnaHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTW9yZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy92aWV3L21vbnRoL3dlZWtkYXlJbk1vbnRoLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy9tb250aC93ZWVrZGF5SW5Nb250aC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE1vbnRoZGF5IGluIG1vbnRoIHZpZXdcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIiksXG4gICAgY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2NvbW1vbi5qcyAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb21tb24uanNcIiksXG4gICAgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIiksXG4gICAgVmlldyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3ZpZXcvdmlldyAqLyBcIi4vc3JjL2pzL3ZpZXcvdmlldy5qc1wiKSxcbiAgICBXZWVrZGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vd2Vla2RheSAqLyBcIi4vc3JjL2pzL3ZpZXcvd2Vla2RheS5qc1wiKSxcbiAgICBiYXNlVG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RlbXBsYXRlL21vbnRoL3dlZWtkYXlJbk1vbnRoLmhicyAqLyBcIi4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvbW9udGgvd2Vla2RheUluTW9udGguaGJzXCIpLFxuICAgIHNjaGVkdWxlVG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RlbXBsYXRlL21vbnRoL3dlZWtkYXlJbk1vbnRoU2NoZWR1bGUuaGJzICovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS9tb250aC93ZWVrZGF5SW5Nb250aFNjaGVkdWxlLmhic1wiKTtcbnZhciBtZmxvb3IgPSBNYXRoLmZsb29yLFxuICAgIG1taW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtXZWVrZGF5fVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBXZWVrZGF5SW5XZWVrIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRQZXJjZW50XSAtIGhlaWdodCBwZXJjZW50IG9mIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWluZXJCdXR0b25HdXR0ZXI9OF0gLSBmcmVlIHNwYWNlIGF0IGJvdHRvbSB0b1xuICogIG1ha2UgY3JlYXRlIGVhc3kuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NoZWR1bGVIZWlnaHQ9MThdIC0gaGVpZ2h0IG9mIGVhY2ggc2NoZWR1bGUgYmxvY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NoZWR1bGVHdXR0ZXI9Ml0gLSBndXR0ZXIgaGVpZ2h0IG9mIGVhY2ggc2NoZWR1bGUgYmxvY2suXG4gKiBAcGFyYW0ge0hUTUxESVZFbGVtZW50fSBjb250YWluZXIgLSBET00gZWxlbWVudCB0byB1c2UgY29udGFpbmVyIGZvciB0aGlzXG4gKiAgdmlldy5cbiAqL1xuZnVuY3Rpb24gV2Vla2RheUluTW9udGgob3B0aW9ucywgY29udGFpbmVyKSB7XG4gICAgV2Vla2RheS5jYWxsKHRoaXMsIG9wdGlvbnMsIGNvbnRhaW5lcik7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0UGVyY2VudCArICclJztcbn1cblxudXRpbC5pbmhlcml0KFdlZWtkYXlJbk1vbnRoLCBXZWVrZGF5KTtcblxuLyoqXG4gKiBHZXQgc2NoZWR1bGUgY29udGFpbmVyIGVsZW1lbnQncyBib3VuZCBwcm9wZXJseSBieSBvdmVycmlkZVxuICpcbiAqIFZpZXcjZ2V0Vmlld0JvdW5kLlxuICogQG92ZXJyaWRlXG4gKi9cbldlZWtkYXlJbk1vbnRoLnByb3RvdHlwZS5nZXRWaWV3Qm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm91bmQgPSBWaWV3LnByb3RvdHlwZS5nZXRWaWV3Qm91bmQuY2FsbCh0aGlzKTtcblxuICAgIHJldHVybiBib3VuZDtcbn07XG5cbi8qKlxuICogR2V0IGxpbWl0IGluZGV4IG9mIHNjaGVkdWxlIGJsb2NrIGluIGN1cnJlbnQgdmlld1xuICogQHBhcmFtIHtudW1iZXJ9IHBhbmVsSGVpZ2h0IC0gcGFuZWwncyBoZWlnaHQgZm9yIHByZS1jYWxjdWxhdGlvblxuICogQHJldHVybnMge251bWJlcn0gbGltaXQgaW5kZXhcbiAqL1xuV2Vla2RheUluTW9udGgucHJvdG90eXBlLl9nZXRSZW5kZXJMaW1pdEluZGV4ID0gZnVuY3Rpb24ocGFuZWxIZWlnaHQpIHtcbiAgICB2YXIgb3B0ID0gdGhpcy5vcHRpb25zO1xuICAgIHZhciBjb250YWluZXJIZWlnaHQgPSBwYW5lbEhlaWdodCB8fCB0aGlzLmdldFZpZXdCb3VuZCgpLmhlaWdodDtcbiAgICB2YXIgZ3JpZEhlYWRlckhlaWdodCA9IHV0aWwucGljayhvcHQsICdncmlkJywgJ2hlYWRlcicsICdoZWlnaHQnKSB8fCAwO1xuICAgIHZhciBncmlkRm9vdGVySGVpZ2h0ID0gdXRpbC5waWNrKG9wdCwgJ2dyaWQnLCAnZm9vdGVyJywgJ2hlaWdodCcpIHx8IDA7XG4gICAgdmFyIHZpc2libGVTY2hlZHVsZUNvdW50ID0gb3B0LnZpc2libGVTY2hlZHVsZUNvdW50IHx8IDA7XG4gICAgdmFyIGNvdW50O1xuXG4gICAgY29udGFpbmVySGVpZ2h0IC09IChncmlkSGVhZGVySGVpZ2h0ICsgZ3JpZEZvb3RlckhlaWdodCk7XG5cbiAgICBjb3VudCA9IG1mbG9vcihjb250YWluZXJIZWlnaHQgLyAob3B0LnNjaGVkdWxlSGVpZ2h0ICsgb3B0LnNjaGVkdWxlR3V0dGVyKSk7XG5cbiAgICBpZiAoIXZpc2libGVTY2hlZHVsZUNvdW50KSB7XG4gICAgICAgIHZpc2libGVTY2hlZHVsZUNvdW50ID0gY291bnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1taW4oY291bnQsIHZpc2libGVTY2hlZHVsZUNvdW50KTsgLy8gc3VidHJhY3Rpb24gZm9yICcrbicgbGFiZWwgYmxvY2tcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKiBAcGFyYW0ge29iamVjdH0gdmlld01vZGVsIC0gc2NoZWR1bGVzIHZpZXcgbW9kZWxzXG4gKi9cbldlZWtkYXlJbk1vbnRoLnByb3RvdHlwZS5nZXRCYXNlVmlld01vZGVsID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgdmFyIG9wdCA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgZ3JpZEhlYWRlckhlaWdodCA9IHV0aWwucGljayhvcHQsICdncmlkJywgJ2hlYWRlcicsICdoZWlnaHQnKSB8fCAwLFxuICAgICAgICBncmlkRm9vdGVySGVpZ2h0ID0gdXRpbC5waWNrKG9wdCwgJ2dyaWQnLCAnZm9vdGVyJywgJ2hlaWdodCcpIHx8IDAsXG4gICAgICAgIHJlbmRlckxpbWl0SWR4ID0gdGhpcy5fZ2V0UmVuZGVyTGltaXRJbmRleCgpICsgMSxcbiAgICAgICAgZXhjZWVkRGF0ZSA9IHRoaXMuZ2V0RXhjZWVkRGF0ZShyZW5kZXJMaW1pdElkeCwgdmlld01vZGVsLmV2ZW50c0luRGF0ZVJhbmdlLCB2aWV3TW9kZWwucmFuZ2UpLFxuICAgICAgICBzdHlsZXMgPSB0aGlzLl9nZXRTdHlsZXModmlld01vZGVsLnRoZW1lKTtcbiAgICB2YXIgYmFzZVZpZXdNb2RlbDtcblxuICAgIHZpZXdNb2RlbCA9IHV0aWwuZXh0ZW5kKHtcbiAgICAgICAgZXhjZWVkRGF0ZTogZXhjZWVkRGF0ZVxuICAgIH0sIHZpZXdNb2RlbCk7XG5cbiAgICBiYXNlVmlld01vZGVsID0gV2Vla2RheS5wcm90b3R5cGUuZ2V0QmFzZVZpZXdNb2RlbC5jYWxsKHRoaXMsIHZpZXdNb2RlbCk7XG5cbiAgICBiYXNlVmlld01vZGVsID0gdXRpbC5leHRlbmQoe1xuICAgICAgICBtYXRyaWNlczogdmlld01vZGVsLmV2ZW50c0luRGF0ZVJhbmdlLFxuICAgICAgICBncmlkSGVhZGVySGVpZ2h0OiBncmlkSGVhZGVySGVpZ2h0LFxuICAgICAgICBncmlkRm9vdGVySGVpZ2h0OiBncmlkRm9vdGVySGVpZ2h0LFxuICAgICAgICByZW5kZXJMaW1pdElkeDogcmVuZGVyTGltaXRJZHgsXG4gICAgICAgIGlzUmVhZE9ubHk6IG9wdC5pc1JlYWRPbmx5LFxuICAgICAgICBzdHlsZXM6IHN0eWxlc1xuICAgIH0sIGJhc2VWaWV3TW9kZWwpO1xuXG4gICAgcmV0dXJuIGJhc2VWaWV3TW9kZWw7XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICogQHBhcmFtIHtvYmplY3R9IHZpZXdNb2RlbCAtIHNjaGVkdWxlcyB2aWV3IG1vZGVsc1xuICovXG5XZWVrZGF5SW5Nb250aC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLFxuICAgICAgICBiYXNlVmlld01vZGVsID0gdGhpcy5nZXRCYXNlVmlld01vZGVsKHZpZXdNb2RlbCksXG4gICAgICAgIHNjaGVkdWxlQ29udGFpbmVyO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMudmlzaWJsZVdlZWtzQ291bnQpIHtcbiAgICAgICAgc2V0SXNPdGhlck1vbnRoRmxhZyhiYXNlVmlld01vZGVsLmRhdGVzLCB0aGlzLm9wdGlvbnMucmVuZGVyTW9udGgsIHZpZXdNb2RlbC50aGVtZSk7XG4gICAgfVxuXG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IGJhc2VUbXBsKGJhc2VWaWV3TW9kZWwpO1xuXG4gICAgc2NoZWR1bGVDb250YWluZXIgPSBkb211dGlsLmZpbmQoXG4gICAgICAgIGNvbmZpZy5jbGFzc25hbWUoJy53ZWVrZGF5LXNjaGVkdWxlcycpLFxuICAgICAgICBjb250YWluZXJcbiAgICApO1xuXG4gICAgaWYgKCFzY2hlZHVsZUNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2NoZWR1bGVDb250YWluZXIuaW5uZXJIVE1MID0gc2NoZWR1bGVUbXBsKGJhc2VWaWV3TW9kZWwpO1xuXG4gICAgY29tbW9uLnNldEF1dG9FbGxpcHNpcyhcbiAgICAgICAgY29uZmlnLmNsYXNzbmFtZSgnLndlZWtkYXktc2NoZWR1bGUtdGl0bGUnKSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICB0cnVlXG4gICAgKTtcbn07XG5cbldlZWtkYXlJbk1vbnRoLnByb3RvdHlwZS5fYmVmb3JlRGVzdHJveSA9IGZ1bmN0aW9uKCkge1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIHN0eWxlcyBmcm9tIHRoZW1lXG4gKiBAcGFyYW0ge1RoZW1lfSB0aGVtZSAtIHRoZW1lIGluc3RhbmNlXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBzdHlsZXMgLSBzdHlsZXMgb2JqZWN0XG4gKi9cbldlZWtkYXlJbk1vbnRoLnByb3RvdHlwZS5fZ2V0U3R5bGVzID0gZnVuY3Rpb24odGhlbWUpIHtcbiAgICB2YXIgc3R5bGVzID0ge307XG5cbiAgICBpZiAodGhlbWUpIHtcbiAgICAgICAgc3R5bGVzLmJvcmRlclRvcCA9IHRoZW1lLmNvbW1vbi5ib3JkZXI7XG4gICAgICAgIHN0eWxlcy5ib3JkZXJMZWZ0ID0gdGhlbWUuY29tbW9uLmJvcmRlcjtcbiAgICAgICAgc3R5bGVzLmZvbnRTaXplID0gdGhlbWUubW9udGguZGF5LmZvbnRTaXplO1xuICAgICAgICBzdHlsZXMuYm9yZGVyUmFkaXVzID0gdGhlbWUubW9udGguc2NoZWR1bGUuYm9yZGVyUmFkaXVzO1xuICAgICAgICBzdHlsZXMubWFyZ2luTGVmdCA9IHRoZW1lLm1vbnRoLnNjaGVkdWxlLm1hcmdpbkxlZnQ7XG4gICAgICAgIHN0eWxlcy5tYXJnaW5SaWdodCA9IHRoZW1lLm1vbnRoLnNjaGVkdWxlLm1hcmdpblJpZ2h0O1xuICAgICAgICBzdHlsZXMuc2NoZWR1bGVCdWxsZXRUb3AgPSB0aGlzLm9wdGlvbnMuc2NoZWR1bGVIZWlnaHQgLyAzO1xuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXM7XG59O1xuXG4vKipcbiAqIO2YhOyerCDri6zsnbQg7JWE64uMIOuCoOynnOyXkCDrjIDtlbQgaXNPdGhlck1vbnRoID0gdHJ1ZSDtlIzrnpjqt7jrpbwg7LaU6rCA7ZWc64ukLlxuICogQHBhcmFtIHtBcnJheX0gZGF0ZXMgLSDrgqDsp5zsoJXrs7Qg67Cw7Je0XG4gKiBAcGFyYW0ge1RaRGF0ZX0gcmVuZGVyTW9udGggLSDtmITsnqwg66CM642U66eB7KSR7J24IOyblCAoWVlZWU1NKVxuICogQHBhcmFtIHtUaGVtZX0gdGhlbWUgLSB0aGVtZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBzZXRJc090aGVyTW9udGhGbGFnKGRhdGVzLCByZW5kZXJNb250aCwgdGhlbWUpIHtcbiAgICB2YXIgbW9udGggPSByZW5kZXJNb250aC5nZXRNb250aCgpICsgMTtcblxuICAgIHV0aWwuZm9yRWFjaChkYXRlcywgZnVuY3Rpb24oZGF0ZU9iaikge1xuICAgICAgICB2YXIgaXNPdGhlck1vbnRoID0gZGF0ZU9iai5tb250aCAhPT0gbW9udGg7XG4gICAgICAgIGRhdGVPYmouaXNPdGhlck1vbnRoID0gaXNPdGhlck1vbnRoO1xuXG4gICAgICAgIGlmIChpc090aGVyTW9udGgpIHtcbiAgICAgICAgICAgIGRhdGVPYmouY29sb3IgPSBXZWVrZGF5LnByb3RvdHlwZS5fZ2V0RGF5TmFtZUNvbG9yKHRoZW1lLCBkYXRlT2JqLmRheSwgZGF0ZU9iai5pc1RvZGF5LCBpc090aGVyTW9udGgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gV2Vla2RheUluTW9udGg7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy9wb3B1cC9zY2hlZHVsZUNyZWF0aW9uUG9wdXAuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy9wb3B1cC9zY2hlZHVsZUNyZWF0aW9uUG9wdXAuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgRmxvYXRpbmcgbGF5ZXIgZm9yIHdyaXRpbmcgbmV3IHNjaGVkdWxlc1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgVmlldyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3ZpZXcvdmlldyAqLyBcIi4vc3JjL2pzL3ZpZXcvdmlldy5qc1wiKTtcbnZhciBGbG9hdGluZ0xheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2Zsb2F0aW5nTGF5ZXIgKi8gXCIuL3NyYy9qcy9jb21tb24vZmxvYXRpbmdMYXllci5qc1wiKTtcbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgRGF0ZVBpY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1kYXRlLXBpY2tlciAqLyBcInR1aS1kYXRlLXBpY2tlclwiKTtcbnZhciB0aW1lem9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIik7XG52YXIgZG9tZXZlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tZXZlbnQgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tZXZlbnQuanNcIik7XG52YXIgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIik7XG52YXIgY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2NvbW1vbiAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb21tb24uanNcIik7XG52YXIgZGF0ZXRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZGF0ZXRpbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanNcIik7XG52YXIgdG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RlbXBsYXRlL3BvcHVwL3NjaGVkdWxlQ3JlYXRpb25Qb3B1cC5oYnMgKi8gXCIuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3BvcHVwL3NjaGVkdWxlQ3JlYXRpb25Qb3B1cC5oYnNcIik7XG52YXIgVFpEYXRlID0gdGltZXpvbmUuRGF0ZTtcbnZhciBNQVhfV0VFS19PRl9NT05USCA9IDY7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7Vmlld31cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciAtIGNvbnRhaW5lciBlbGVtZW50XG4gKiBAcGFyYW0ge0FycmF5LjxDYWxlbmRhcj59IGNhbGVuZGFycyAtIGNhbGVuZGFyIGxpc3QgdXNlZCB0byBjcmVhdGUgbmV3IHNjaGVkdWxlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzYWdlU3RhdGlzdGljcyAtIEdBIHRyYWNraW5nIG9wdGlvbnMgaW4gQ2FsZW5kYXJcbiAqL1xuZnVuY3Rpb24gU2NoZWR1bGVDcmVhdGlvblBvcHVwKGNvbnRhaW5lciwgY2FsZW5kYXJzLCB1c2FnZVN0YXRpc3RpY3MpIHtcbiAgICBWaWV3LmNhbGwodGhpcywgY29udGFpbmVyKTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RmxvYXRpbmdMYXllcn1cbiAgICAgKi9cbiAgICB0aGlzLmxheWVyID0gbmV3IEZsb2F0aW5nTGF5ZXIobnVsbCwgY29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIGNhY2hlZCB2aWV3IG1vZGVsXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLl92aWV3TW9kZWwgPSBudWxsO1xuICAgIHRoaXMuX3NlbGVjdGVkQ2FsID0gbnVsbDtcbiAgICB0aGlzLl9zY2hlZHVsZSA9IG51bGw7XG4gICAgdGhpcy5jYWxlbmRhcnMgPSBjYWxlbmRhcnM7XG4gICAgdGhpcy5fZm9jdXNlZERyb3Bkb3duID0gbnVsbDtcbiAgICB0aGlzLl91c2FnZVN0YXRpc3RpY3MgPSB1c2FnZVN0YXRpc3RpY3M7XG4gICAgdGhpcy5fb25DbGlja0xpc3RlbmVycyA9IFtcbiAgICAgICAgdGhpcy5fc2VsZWN0RHJvcGRvd25NZW51SXRlbS5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLl90b2dnbGVEcm9wZG93bk1lbnVWaWV3LmJpbmQodGhpcyksXG4gICAgICAgIHRoaXMuX2Nsb3NlRHJvcGRvd25NZW51Vmlldy5iaW5kKHRoaXMsIG51bGwpLFxuICAgICAgICB0aGlzLl9jbG9zZVBvcHVwLmJpbmQodGhpcyksXG4gICAgICAgIHRoaXMuX3RvZ2dsZUlzQWxsZGF5LmJpbmQodGhpcyksXG4gICAgICAgIHRoaXMuX3RvZ2dsZUlzUHJpdmF0ZS5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLl9vbkNsaWNrU2F2ZVNjaGVkdWxlLmJpbmQodGhpcylcbiAgICBdO1xuXG4gICAgZG9tZXZlbnQub24oY29udGFpbmVyLCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrLCB0aGlzKTtcbn1cblxudXRpbC5pbmhlcml0KFNjaGVkdWxlQ3JlYXRpb25Qb3B1cCwgVmlldyk7XG5cbi8qKlxuICogTW91c2Vkb3duIGV2ZW50IGhhbmRsZXIgZm9yIGhpZGluZyBwb3B1cCBsYXllciB3aGVuIHVzZXIgbW91c2Vkb3duIG91dHNpZGUgb2ZcbiAqIGxheWVyXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IG1vdXNlRG93bkV2ZW50IC0gbW91c2UgZXZlbnQgb2JqZWN0XG4gKi9cblNjaGVkdWxlQ3JlYXRpb25Qb3B1cC5wcm90b3R5cGUuX29uTW91c2VEb3duID0gZnVuY3Rpb24obW91c2VEb3duRXZlbnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZG9tZXZlbnQuZ2V0RXZlbnRUYXJnZXQobW91c2VEb3duRXZlbnQpLFxuICAgICAgICBwb3B1cExheWVyID0gZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgY29uZmlnLmNsYXNzbmFtZSgnLmZsb2F0aW5nLWxheWVyJykpO1xuXG4gICAgaWYgKHBvcHVwTGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaGlkZSgpO1xufTtcblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuU2NoZWR1bGVDcmVhdGlvblBvcHVwLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sYXllci5kZXN0cm95KCk7XG4gICAgdGhpcy5sYXllciA9IG51bGw7XG4gICAgZG9tZXZlbnQub2ZmKHRoaXMuY29udGFpbmVyLCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrLCB0aGlzKTtcbiAgICBkb21ldmVudC5vZmYoZG9jdW1lbnQuYm9keSwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTtcbiAgICBWaWV3LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICogQ2xpY2sgZXZlbnQgaGFuZGxlciBmb3IgY2xvc2UgYnV0dG9uXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGNsaWNrRXZlbnQgLSBtb3VzZSBldmVudCBvYmplY3RcbiAqL1xuU2NoZWR1bGVDcmVhdGlvblBvcHVwLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uKGNsaWNrRXZlbnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZG9tZXZlbnQuZ2V0RXZlbnRUYXJnZXQoY2xpY2tFdmVudCk7XG5cbiAgICB1dGlsLmZvckVhY2godGhpcy5fb25DbGlja0xpc3RlbmVycywgZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuICFsaXN0ZW5lcih0YXJnZXQpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBUZXN0IGNsaWNrIGV2ZW50IHRhcmdldCBpcyBjbG9zZSBidXR0b24sIGFuZCByZXR1cm4gbGF5ZXIgaXMgY2xvc2VkKGhpZGRlbilcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBjbGljayBldmVudCB0YXJnZXRcbiAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHBvcHVwIGxheWVyIGlzIGNsb3NlZCBvciBub3RcbiAqL1xuU2NoZWR1bGVDcmVhdGlvblBvcHVwLnByb3RvdHlwZS5fY2xvc2VQb3B1cCA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjb25maWcuY2xhc3NuYW1lKCdwb3B1cC1jbG9zZScpO1xuXG4gICAgaWYgKGRvbXV0aWwuaGFzQ2xhc3ModGFyZ2V0LCBjbGFzc05hbWUpIHx8IGRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsICcuJyArIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBUb2dnbGUgZHJvcGRvd24gbWVudSB2aWV3LCB3aGVuIHVzZXIgY2xpY2tzIGRyb3Bkb3duIGJ1dHRvblxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IGNsaWNrIGV2ZW50IHRhcmdldFxuICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgdXNlciBjbGlja2VkIGRyb3Bkb3duIGJ1dHRvbiBvciBub3RcbiAqL1xuU2NoZWR1bGVDcmVhdGlvblBvcHVwLnByb3RvdHlwZS5fdG9nZ2xlRHJvcGRvd25NZW51VmlldyA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjb25maWcuY2xhc3NuYW1lKCdkcm9wZG93bi1idXR0b24nKTtcbiAgICB2YXIgZHJvcGRvd25CdG4gPSBkb211dGlsLmhhc0NsYXNzKHRhcmdldCwgY2xhc3NOYW1lKSA/IHRhcmdldCA6IGRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsICcuJyArIGNsYXNzTmFtZSk7XG5cbiAgICBpZiAoIWRyb3Bkb3duQnRuKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZG9tdXRpbC5oYXNDbGFzcyhkcm9wZG93bkJ0bi5wYXJlbnROb2RlLCBjb25maWcuY2xhc3NuYW1lKCdvcGVuJykpKSB7XG4gICAgICAgIHRoaXMuX2Nsb3NlRHJvcGRvd25NZW51Vmlldyhkcm9wZG93bkJ0bi5wYXJlbnROb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9vcGVuRHJvcGRvd25NZW51Vmlldyhkcm9wZG93bkJ0bi5wYXJlbnROb2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ2xvc2UgZHJvcCBkb3duIG1lbnVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGRyb3Bkb3duIC0gZHJvcGRvd24gZWxlbWVudCB0aGF0IGhhcyBhIG9wZW5lZCBkcm9wZG93biBtZW51XG4gKi9cblNjaGVkdWxlQ3JlYXRpb25Qb3B1cC5wcm90b3R5cGUuX2Nsb3NlRHJvcGRvd25NZW51VmlldyA9IGZ1bmN0aW9uKGRyb3Bkb3duKSB7XG4gICAgZHJvcGRvd24gPSBkcm9wZG93biB8fCB0aGlzLl9mb2N1c2VkRHJvcGRvd247XG4gICAgaWYgKGRyb3Bkb3duKSB7XG4gICAgICAgIGRvbXV0aWwucmVtb3ZlQ2xhc3MoZHJvcGRvd24sIGNvbmZpZy5jbGFzc25hbWUoJ29wZW4nKSk7XG4gICAgICAgIHRoaXMuX2ZvY3VzZWREcm9wZG93biA9IG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBPcGVuIGRyb3AgZG93biBtZW51XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBkcm9wZG93biAtIGRyb3Bkb3duIGVsZW1lbnQgdGhhdCBoYXMgYSBjbG9zZWQgZHJvcGRvd24gbWVudVxuICovXG5TY2hlZHVsZUNyZWF0aW9uUG9wdXAucHJvdG90eXBlLl9vcGVuRHJvcGRvd25NZW51VmlldyA9IGZ1bmN0aW9uKGRyb3Bkb3duKSB7XG4gICAgZG9tdXRpbC5hZGRDbGFzcyhkcm9wZG93biwgY29uZmlnLmNsYXNzbmFtZSgnb3BlbicpKTtcbiAgICB0aGlzLl9mb2N1c2VkRHJvcGRvd24gPSBkcm9wZG93bjtcbn07XG5cbi8qKlxuICogSWYgY2xpY2sgZHJvcGRvd24gbWVudSBpdGVtLCBjbG9zZSBkcm9wZG93biBtZW51XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgY2xpY2sgZXZlbnQgdGFyZ2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlclxuICovXG5TY2hlZHVsZUNyZWF0aW9uUG9wdXAucHJvdG90eXBlLl9zZWxlY3REcm9wZG93bk1lbnVJdGVtID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgdmFyIGl0ZW1DbGFzc05hbWUgPSBjb25maWcuY2xhc3NuYW1lKCdkcm9wZG93bi1tZW51LWl0ZW0nKTtcbiAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzc25hbWUoJ2ljb24nKTtcbiAgICB2YXIgY29udGVudENsYXNzTmFtZSA9IGNvbmZpZy5jbGFzc25hbWUoJ2NvbnRlbnQnKTtcbiAgICB2YXIgc2VsZWN0ZWRJdGVtID0gZG9tdXRpbC5oYXNDbGFzcyh0YXJnZXQsIGl0ZW1DbGFzc05hbWUpID8gdGFyZ2V0IDogZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgJy4nICsgaXRlbUNsYXNzTmFtZSk7XG4gICAgdmFyIGJnQ29sb3IsIHRpdGxlLCBkcm9wZG93biwgZHJvcGRvd25CdG47XG5cbiAgICBpZiAoIXNlbGVjdGVkSXRlbSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYmdDb2xvciA9IGRvbXV0aWwuZmluZCgnLicgKyBpY29uQ2xhc3NOYW1lLCBzZWxlY3RlZEl0ZW0pLnN0eWxlLmJhY2tncm91bmRDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgIHRpdGxlID0gZG9tdXRpbC5maW5kKCcuJyArIGNvbnRlbnRDbGFzc05hbWUsIHNlbGVjdGVkSXRlbSkuaW5uZXJIVE1MO1xuXG4gICAgZHJvcGRvd24gPSBkb211dGlsLmNsb3Nlc3Qoc2VsZWN0ZWRJdGVtLCBjb25maWcuY2xhc3NuYW1lKCcuZHJvcGRvd24nKSk7XG4gICAgZHJvcGRvd25CdG4gPSBkb211dGlsLmZpbmQoY29uZmlnLmNsYXNzbmFtZSgnLmRyb3Bkb3duLWJ1dHRvbicpLCBkcm9wZG93bik7XG4gICAgZG9tdXRpbC5maW5kKCcuJyArIGNvbnRlbnRDbGFzc05hbWUsIGRyb3Bkb3duQnRuKS5pbm5lclRleHQgPSB0aXRsZTtcblxuICAgIGlmIChkb211dGlsLmhhc0NsYXNzKGRyb3Bkb3duLCBjb25maWcuY2xhc3NuYW1lKCdzZWN0aW9uLWNhbGVuZGFyJykpKSB7XG4gICAgICAgIGRvbXV0aWwuZmluZCgnLicgKyBpY29uQ2xhc3NOYW1lLCBkcm9wZG93bkJ0bikuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmdDb2xvcjtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRDYWwgPSBjb21tb24uZmluZCh0aGlzLmNhbGVuZGFycywgZnVuY3Rpb24oY2FsKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsLmlkID09PSBkb211dGlsLmdldERhdGEoc2VsZWN0ZWRJdGVtLCAnY2FsZW5kYXJJZCcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkb211dGlsLnJlbW92ZUNsYXNzKGRyb3Bkb3duLCBjb25maWcuY2xhc3NuYW1lKCdvcGVuJykpO1xuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIFRvZ2dsZSBhbGxkYXkgY2hlY2tib3ggc3RhdGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBjbGljayBldmVudCB0YXJnZXRcbiAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIGV2ZW50IHRhcmdldCBpcyBhbGxkYXkgc2VjdGlvbiBvciBub3RcbiAqL1xuU2NoZWR1bGVDcmVhdGlvblBvcHVwLnByb3RvdHlwZS5fdG9nZ2xlSXNBbGxkYXkgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzbmFtZSgnc2VjdGlvbi1hbGxkYXknKTtcbiAgICB2YXIgYWxsZGF5U2VjdGlvbiA9IGRvbXV0aWwuaGFzQ2xhc3ModGFyZ2V0LCBjbGFzc05hbWUpID8gdGFyZ2V0IDogZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgJy4nICsgY2xhc3NOYW1lKTtcbiAgICB2YXIgY2hlY2tib3g7XG5cbiAgICBpZiAoYWxsZGF5U2VjdGlvbikge1xuICAgICAgICBjaGVja2JveCA9IGRvbXV0aWwuZmluZChjb25maWcuY2xhc3NuYW1lKCcuY2hlY2tib3gtc3F1YXJlJyksIGFsbGRheVNlY3Rpb24pO1xuICAgICAgICBjaGVja2JveC5jaGVja2VkID0gIWNoZWNrYm94LmNoZWNrZWQ7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBUb2dnbGUgcHJpdmF0ZSBidXR0b25cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBjbGljayBldmVudCB0YXJnZXRcbiAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIGV2ZW50IHRhcmdldCBpcyBwcml2YXRlIHNlY3Rpb24gb3Igbm90XG4gKi9cblNjaGVkdWxlQ3JlYXRpb25Qb3B1cC5wcm90b3R5cGUuX3RvZ2dsZUlzUHJpdmF0ZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjb25maWcuY2xhc3NuYW1lKCdzZWN0aW9uLXByaXZhdGUnKTtcbiAgICB2YXIgcHJpdmF0ZVNlY3Rpb24gPSBkb211dGlsLmhhc0NsYXNzKHRhcmdldCwgY2xhc3NOYW1lKSA/IHRhcmdldCA6IGRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsICcuJyArIGNsYXNzTmFtZSk7XG5cbiAgICBpZiAocHJpdmF0ZVNlY3Rpb24pIHtcbiAgICAgICAgaWYgKGRvbXV0aWwuaGFzQ2xhc3MocHJpdmF0ZVNlY3Rpb24sIGNvbmZpZy5jbGFzc25hbWUoJ3B1YmxpYycpKSkge1xuICAgICAgICAgICAgZG9tdXRpbC5yZW1vdmVDbGFzcyhwcml2YXRlU2VjdGlvbiwgY29uZmlnLmNsYXNzbmFtZSgncHVibGljJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9tdXRpbC5hZGRDbGFzcyhwcml2YXRlU2VjdGlvbiwgY29uZmlnLmNsYXNzbmFtZSgncHVibGljJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBTYXZlIG5ldyBzY2hlZHVsZSBpZiB1c2VyIGNsaWNrZWQgc2F2ZSBidXR0b25cbiAqIEBlbWl0cyBTY2hlZHVsZUNyZWF0aW9uUG9wdXAjc2F2ZVNjaGVkdWxlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgY2xpY2sgZXZlbnQgdGFyZ2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBzYXZlIGJ1dHRvbiBpcyBjbGlja2VkIG9yIG5vdFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuU2NoZWR1bGVDcmVhdGlvblBvcHVwLnByb3RvdHlwZS5fb25DbGlja1NhdmVTY2hlZHVsZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjb25maWcuY2xhc3NuYW1lKCdwb3B1cC1zYXZlJyk7XG4gICAgdmFyIGNzc1ByZWZpeCA9IGNvbmZpZy5jc3NQcmVmaXg7XG4gICAgdmFyIHRpdGxlO1xuICAgIHZhciBzdGFydERhdGU7XG4gICAgdmFyIGVuZERhdGU7XG4gICAgdmFyIHJhbmdlRGF0ZTtcbiAgICB2YXIgZm9ybTtcbiAgICB2YXIgaXNBbGxEYXk7XG5cbiAgICBpZiAoIWRvbXV0aWwuaGFzQ2xhc3ModGFyZ2V0LCBjbGFzc05hbWUpICYmICFkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCAnLicgKyBjbGFzc05hbWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aXRsZSA9IGRvbXV0aWwuZ2V0KGNzc1ByZWZpeCArICdzY2hlZHVsZS10aXRsZScpO1xuXG4gICAgc3RhcnREYXRlID0gbmV3IFRaRGF0ZSh0aGlzLnJhbmdlUGlja2VyLmdldFN0YXJ0RGF0ZSgpKTtcbiAgICBlbmREYXRlID0gbmV3IFRaRGF0ZSh0aGlzLnJhbmdlUGlja2VyLmdldEVuZERhdGUoKSk7XG5cbiAgICBpZiAoIXRoaXMuX3ZhbGlkYXRlRm9ybSh0aXRsZSwgc3RhcnREYXRlLCBlbmREYXRlKSkge1xuICAgICAgICBpZiAoIXRpdGxlLnZhbHVlKSB7XG4gICAgICAgICAgICB0aXRsZS5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzQWxsRGF5ID0gISFkb211dGlsLmdldChjc3NQcmVmaXggKyAnc2NoZWR1bGUtYWxsZGF5JykuY2hlY2tlZDtcbiAgICByYW5nZURhdGUgPSB0aGlzLl9nZXRSYW5nZURhdGUoc3RhcnREYXRlLCBlbmREYXRlLCBpc0FsbERheSk7XG5cbiAgICBmb3JtID0ge1xuICAgICAgICBjYWxlbmRhcklkOiB0aGlzLl9zZWxlY3RlZENhbCA/IHRoaXMuX3NlbGVjdGVkQ2FsLmlkIDogbnVsbCxcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICBsb2NhdGlvbjogZG9tdXRpbC5nZXQoY3NzUHJlZml4ICsgJ3NjaGVkdWxlLWxvY2F0aW9uJyksXG4gICAgICAgIHN0YXJ0OiByYW5nZURhdGUuc3RhcnQsXG4gICAgICAgIGVuZDogcmFuZ2VEYXRlLmVuZCxcbiAgICAgICAgaXNBbGxEYXk6IGlzQWxsRGF5LFxuICAgICAgICBzdGF0ZTogZG9tdXRpbC5nZXQoY3NzUHJlZml4ICsgJ3NjaGVkdWxlLXN0YXRlJykuaW5uZXJUZXh0LFxuICAgICAgICBpc1ByaXZhdGU6ICFkb211dGlsLmhhc0NsYXNzKGRvbXV0aWwuZ2V0KGNzc1ByZWZpeCArICdzY2hlZHVsZS1wcml2YXRlJyksIGNvbmZpZy5jbGFzc25hbWUoJ3B1YmxpYycpKVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5faXNFZGl0TW9kZSkge1xuICAgICAgICB0aGlzLl9vbkNsaWNrVXBkYXRlU2NoZWR1bGUoZm9ybSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fb25DbGlja0NyZWF0ZVNjaGVkdWxlKGZvcm0pO1xuICAgIH1cblxuICAgIHRoaXMuaGlkZSgpO1xuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICogQHBhcmFtIHtvYmplY3R9IHZpZXdNb2RlbCAtIHZpZXcgbW9kZWwgZnJvbSBmYWN0b3J5L21vbnRoVmlld1xuICovXG5TY2hlZHVsZUNyZWF0aW9uUG9wdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgIHZhciBjYWxlbmRhcnMgPSB0aGlzLmNhbGVuZGFycztcbiAgICB2YXIgbGF5ZXIgPSB0aGlzLmxheWVyO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYm94RWxlbWVudCwgZ3VpZGVFbGVtZW50cztcblxuICAgIHZpZXdNb2RlbC56SW5kZXggPSB0aGlzLmxheWVyLnpJbmRleCArIDU7XG4gICAgdmlld01vZGVsLmNhbGVuZGFycyA9IGNhbGVuZGFycztcbiAgICBpZiAoY2FsZW5kYXJzLmxlbmd0aCkge1xuICAgICAgICB2aWV3TW9kZWwuc2VsZWN0ZWRDYWwgPSB0aGlzLl9zZWxlY3RlZENhbCA9IGNhbGVuZGFyc1swXTtcbiAgICB9XG5cbiAgICB0aGlzLl9pc0VkaXRNb2RlID0gdmlld01vZGVsLnNjaGVkdWxlICYmIHZpZXdNb2RlbC5zY2hlZHVsZS5pZDtcbiAgICBpZiAodGhpcy5faXNFZGl0TW9kZSkge1xuICAgICAgICBib3hFbGVtZW50ID0gdmlld01vZGVsLnRhcmdldDtcbiAgICAgICAgdmlld01vZGVsID0gdGhpcy5fbWFrZUVkaXRNb2RlRGF0YSh2aWV3TW9kZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZ3VpZGUgPSB2aWV3TW9kZWwuZ3VpZGU7XG4gICAgICAgIGd1aWRlRWxlbWVudHMgPSB0aGlzLl9nZXRHdWlkZUVsZW1lbnRzKHRoaXMuZ3VpZGUpO1xuICAgICAgICBib3hFbGVtZW50ID0gZ3VpZGVFbGVtZW50cy5sZW5ndGggPyBndWlkZUVsZW1lbnRzWzBdIDogbnVsbDtcbiAgICB9XG4gICAgbGF5ZXIuc2V0Q29udGVudCh0bXBsKHZpZXdNb2RlbCkpO1xuICAgIHRoaXMuX2NyZWF0ZURhdGVwaWNrZXIodmlld01vZGVsLnN0YXJ0LCB2aWV3TW9kZWwuZW5kLCB2aWV3TW9kZWwuaXNBbGxEYXkpO1xuICAgIGxheWVyLnNob3coKTtcblxuICAgIGlmIChib3hFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX3NldFBvcHVwUG9zaXRpb25BbmRBcnJvd0RpcmVjdGlvbihib3hFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICB9XG5cbiAgICB1dGlsLmRlYm91bmNlKGZ1bmN0aW9uKCkge1xuICAgICAgICBkb21ldmVudC5vbihkb2N1bWVudC5ib2R5LCAnbW91c2Vkb3duJywgc2VsZi5fb25Nb3VzZURvd24sIHNlbGYpO1xuICAgIH0pKCk7XG59O1xuXG4vKipcbiAqIE1ha2UgdmlldyBtb2RlbCBmb3IgZWRpdCBtb2RlXG4gKiBAcGFyYW0ge29iamVjdH0gdmlld01vZGVsIC0gb3JpZ2luYWwgdmlldyBtb2RlbCBmcm9tICdiZWZvcmVDcmVhdGVFZGl0UG9wdXAnXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIGVkaXQgbW9kZSB2aWV3IG1vZGVsXG4gKi9cblNjaGVkdWxlQ3JlYXRpb25Qb3B1cC5wcm90b3R5cGUuX21ha2VFZGl0TW9kZURhdGEgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSB2aWV3TW9kZWwuc2NoZWR1bGU7XG4gICAgdmFyIHRpdGxlLCBpc1ByaXZhdGUsIGxvY2F0aW9uLCBzdGFydERhdGUsIGVuZERhdGUsIGlzQWxsRGF5LCBzdGF0ZTtcbiAgICB2YXIgcmF3ID0gc2NoZWR1bGUucmF3IHx8IHt9O1xuICAgIHZhciBjYWxlbmRhcnMgPSB0aGlzLmNhbGVuZGFycztcblxuICAgIHZhciBpZCA9IHNjaGVkdWxlLmlkO1xuICAgIHRpdGxlID0gc2NoZWR1bGUudGl0bGU7XG4gICAgaXNQcml2YXRlID0gcmF3WydjbGFzcyddID09PSAncHJpdmF0ZSc7XG4gICAgbG9jYXRpb24gPSBzY2hlZHVsZS5sb2NhdGlvbjtcbiAgICBzdGFydERhdGUgPSBzY2hlZHVsZS5zdGFydDtcbiAgICBlbmREYXRlID0gc2NoZWR1bGUuZW5kO1xuICAgIGlzQWxsRGF5ID0gc2NoZWR1bGUuaXNBbGxEYXk7XG4gICAgc3RhdGUgPSBzY2hlZHVsZS5zdGF0ZTtcblxuICAgIHZpZXdNb2RlbC5zZWxlY3RlZENhbCA9IHRoaXMuX3NlbGVjdGVkQ2FsID0gY29tbW9uLmZpbmQodGhpcy5jYWxlbmRhcnMsIGZ1bmN0aW9uKGNhbCkge1xuICAgICAgICByZXR1cm4gY2FsLmlkID09PSB2aWV3TW9kZWwuc2NoZWR1bGUuY2FsZW5kYXJJZDtcbiAgICB9KTtcblxuICAgIHRoaXMuX3NjaGVkdWxlID0gc2NoZWR1bGU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHNlbGVjdGVkQ2FsOiB0aGlzLl9zZWxlY3RlZENhbCxcbiAgICAgICAgY2FsZW5kYXJzOiBjYWxlbmRhcnMsXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgaXNQcml2YXRlOiBpc1ByaXZhdGUsXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgaXNBbGxEYXk6IGlzQWxsRGF5LFxuICAgICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICAgIHN0YXJ0OiBzdGFydERhdGUsXG4gICAgICAgIGVuZDogZW5kRGF0ZSxcbiAgICAgICAgcmF3OiB7XG4gICAgICAgICAgICBjbGFzczogaXNQcml2YXRlID8gJ3ByaXZhdGUnIDogJ3B1YmxpYydcbiAgICAgICAgfSxcbiAgICAgICAgekluZGV4OiB0aGlzLmxheWVyLnpJbmRleCArIDUsXG4gICAgICAgIGlzRWRpdE1vZGU6IHRoaXMuX2lzRWRpdE1vZGVcbiAgICB9O1xufTtcblxuLyoqXG4gKiBTZXQgcG9wdXAgcG9zaXRpb24gYW5kIGFycm93IGRpcmVjdGlvbiB0byBhcGVhciBuZWFyIGd1aWRlIGVsZW1lbnRcbiAqIEBwYXJhbSB7TW9udGhDcmVhdGlvbkd1aWRlfFRpbWVDcmVhdGlvbkd1aWRlfERheUdyaWRDcmVhdGlvbkd1aWRlfSBndWlkZUJvdW5kIC0gY3JlYXRpb24gZ3VpZGUgZWxlbWVudFxuICovXG5TY2hlZHVsZUNyZWF0aW9uUG9wdXAucHJvdG90eXBlLl9zZXRQb3B1cFBvc2l0aW9uQW5kQXJyb3dEaXJlY3Rpb24gPSBmdW5jdGlvbihndWlkZUJvdW5kKSB7XG4gICAgdmFyIGxheWVyID0gZG9tdXRpbC5maW5kKGNvbmZpZy5jbGFzc25hbWUoJy5wb3B1cCcpLCB0aGlzLmxheWVyLmNvbnRhaW5lcik7XG4gICAgdmFyIGxheWVyU2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IGxheWVyLm9mZnNldFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGxheWVyLm9mZnNldEhlaWdodFxuICAgIH07XG4gICAgdmFyIGNvbnRhaW5lckJvdW5kID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIHBvcyA9IHRoaXMuX2NhbGNSZW5kZXJpbmdEYXRhKGxheWVyU2l6ZSwgY29udGFpbmVyQm91bmQsIGd1aWRlQm91bmQpO1xuXG4gICAgdGhpcy5sYXllci5zZXRQb3NpdGlvbihwb3MueCwgcG9zLnkpO1xuICAgIHRoaXMuX3NldEFycm93RGlyZWN0aW9uKHBvcy5hcnJvdyk7XG59O1xuXG4vKipcbiAqIEdldCBndWlkZSBlbGVtZW50cyBmcm9tIGNyZWF0aW9uIGd1aWRlIG9iamVjdFxuICogSXQgaXMgdXNlZCB0byBjYWxjdWxhdGUgcmVuZGVyaW5nIHBvc2l0aW9uIG9mIHBvcHVwXG4gKiBJdCB3aWxsIGJlIGRpc2FwcGVhcmVkIHdoZW4gaGlkaW5nIHBvcHVwXG4gKiBAcGFyYW0ge01vbnRoQ3JlYXRpb25HdWlkZXxUaW1lQ3JlYXRpb25HdWlkZXxBbGxkYXlDcmVhdGlvbkd1aWRlfSBndWlkZSAtIGNyZWF0aW9uIGd1aWRlXG4gKiBAcmV0dXJucyB7QXJyYXkuPEhUTUxFbGVtZW50Pn0gY3JlYXRpb24gZ3VpZGUgZWxlbWVudFxuICovXG5TY2hlZHVsZUNyZWF0aW9uUG9wdXAucHJvdG90eXBlLl9nZXRHdWlkZUVsZW1lbnRzID0gZnVuY3Rpb24oZ3VpZGUpIHtcbiAgICB2YXIgZ3VpZGVFbGVtZW50cyA9IFtdO1xuICAgIHZhciBpID0gMDtcblxuICAgIGlmIChndWlkZS5ndWlkZUVsZW1lbnQpIHtcbiAgICAgICAgZ3VpZGVFbGVtZW50cy5wdXNoKGd1aWRlLmd1aWRlRWxlbWVudCk7XG4gICAgfSBlbHNlIGlmIChndWlkZS5ndWlkZUVsZW1lbnRzKSB7XG4gICAgICAgIGZvciAoOyBpIDwgTUFYX1dFRUtfT0ZfTU9OVEg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGd1aWRlLmd1aWRlRWxlbWVudHNbaV0pIHtcbiAgICAgICAgICAgICAgICBndWlkZUVsZW1lbnRzLnB1c2goZ3VpZGUuZ3VpZGVFbGVtZW50c1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ3VpZGVFbGVtZW50cztcbn07XG5cbi8qKlxuICogR2V0IGd1aWRlIGVsZW1lbnQncyBib3VuZCBkYXRhIHdoaWNoIG9ubHkgaW5jbHVkZXMgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XG4gKiBAcGFyYW0ge0FycmF5LjxIVE1MRWxlbWVudD59IGd1aWRlRWxlbWVudHMgLSBjcmVhdGlvbiBndWlkZSBlbGVtZW50c1xuICogQHJldHVybnMge09iamVjdH0gLSBwb3B1cCBib3VuZCBkYXRhXG4gKi9cblNjaGVkdWxlQ3JlYXRpb25Qb3B1cC5wcm90b3R5cGUuX2dldEJvdW5kT2ZGaXJzdFJvd0d1aWRlRWxlbWVudCA9IGZ1bmN0aW9uKGd1aWRlRWxlbWVudHMpIHtcbiAgICB2YXIgYm91bmQ7XG5cbiAgICBpZiAoIWd1aWRlRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGJvdW5kID0gZ3VpZGVFbGVtZW50c1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogYm91bmQudG9wLFxuICAgICAgICBsZWZ0OiBib3VuZC5sZWZ0LFxuICAgICAgICBib3R0b206IGJvdW5kLmJvdHRvbSxcbiAgICAgICAgcmlnaHQ6IGJvdW5kLnJpZ2h0XG4gICAgfTtcbn07XG5cbi8qKlxuICogR2V0IGNhbGN1bGF0ZSByZW5kZXJpbmcgcG9zaXRpb25zIG9mIHkgYW5kIGFycm93IGRpcmVjdGlvbiBieSBndWlkZSBibG9jayBlbGVtZW50c1xuICogQHBhcmFtIHtudW1iZXJ9IGd1aWRlQm91bmRUb3AgLSBndWlkZSBibG9jaydzIHRvcFxuICogQHBhcmFtIHtudW1iZXJ9IGd1aWRlQm91bmRCb3R0b20gLSBndWlkZSBibG9jaydzIGJvdHRvbVxuICogQHBhcmFtIHtudW1iZXJ9IGxheWVySGVpZ2h0IC0gcG9wdXAgbGF5ZXIncyBoZWlnaHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb250YWluZXJUb3AgLSBjb250YWluZXIncyB0b3BcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb250YWluZXJCb3R0b20gLSBjb250YWluZXIncyBib3R0b21cbiAqIEByZXR1cm5zIHtZQW5kQXJyb3dEaXJlY3Rpb259IHkgYW5kIGFycm93RGlyZWN0aW9uXG4gKi9cblNjaGVkdWxlQ3JlYXRpb25Qb3B1cC5wcm90b3R5cGUuX2dldFlBbmRBcnJvd0RpcmVjdGlvbiA9IGZ1bmN0aW9uKFxuICAgIGd1aWRlQm91bmRUb3AsXG4gICAgZ3VpZGVCb3VuZEJvdHRvbSxcbiAgICBsYXllckhlaWdodCxcbiAgICBjb250YWluZXJUb3AsXG4gICAgY29udGFpbmVyQm90dG9tXG4pIHtcbiAgICB2YXIgYXJyb3dEaXJlY3Rpb24gPSAnYXJyb3ctYm90dG9tJztcbiAgICB2YXIgTUFSR0lOID0gMztcbiAgICB2YXIgeSA9IGd1aWRlQm91bmRUb3AgLSBsYXllckhlaWdodDtcblxuICAgIGlmICh5IDwgY29udGFpbmVyVG9wKSB7XG4gICAgICAgIHkgPSBndWlkZUJvdW5kQm90dG9tIC0gY29udGFpbmVyVG9wICsgTUFSR0lOO1xuICAgICAgICBhcnJvd0RpcmVjdGlvbiA9ICdhcnJvdy10b3AnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHkgPSB5IC0gY29udGFpbmVyVG9wIC0gTUFSR0lOO1xuICAgIH1cblxuICAgIGlmICh5ICsgbGF5ZXJIZWlnaHQgPiBjb250YWluZXJCb3R0b20pIHtcbiAgICAgICAgeSA9IGNvbnRhaW5lckJvdHRvbSAtIGxheWVySGVpZ2h0IC0gY29udGFpbmVyVG9wIC0gTUFSR0lOO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFlBbmRBcnJvd0RpcmVjdGlvblxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5IC0gdG9wIHBvc2l0aW9uIG9mIHBvcHVwIGxheWVyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFthcnJvd0RpcmVjdGlvbl0gLSBkaXJlY3Rpb24gb2YgcG9wdXAgYXJyb3dcbiAgICAgKi9cbiAgICByZXR1cm4ge1xuICAgICAgICB5OiB5LFxuICAgICAgICBhcnJvd0RpcmVjdGlvbjogYXJyb3dEaXJlY3Rpb25cbiAgICB9O1xufTtcblxuLyoqXG4qIEdldCBjYWxjdWxhdGUgcmVuZGVyaW5nIHggcG9zaXRpb24gYW5kIGFycm93IGxlZnQgYnkgZ3VpZGUgYmxvY2sgZWxlbWVudHNcbiogQHBhcmFtIHtudW1iZXJ9IGd1aWRlQm91bmRMZWZ0IC0gZ3VpZGUgYmxvY2sncyBsZWZ0XG4qIEBwYXJhbSB7bnVtYmVyfSBndWlkZUJvdW5kUmlnaHQgLSBndWlkZSBibG9jaydzIHJpZ2h0XG4qIEBwYXJhbSB7bnVtYmVyfSBsYXllcldpZHRoIC0gcG9wdXAgbGF5ZXIncyB3aWR0aFxuKiBAcGFyYW0ge251bWJlcn0gY29udGFpbmVyTGVmdCAtIGNvbnRhaW5lcidzIGxlZnRcbiogQHBhcmFtIHtudW1iZXJ9IGNvbnRhaW5lclJpZ2h0IC0gY29udGFpbmVyJ3MgcmlnaHRcbiogQHJldHVybnMge1hBbmRBcnJvd0xlZnR9IHggYW5kIGFycm93TGVmdFxuKi9cblNjaGVkdWxlQ3JlYXRpb25Qb3B1cC5wcm90b3R5cGUuX2dldFhBbmRBcnJvd0xlZnQgPSBmdW5jdGlvbihcbiAgICBndWlkZUJvdW5kTGVmdCxcbiAgICBndWlkZUJvdW5kUmlnaHQsXG4gICAgbGF5ZXJXaWR0aCxcbiAgICBjb250YWluZXJMZWZ0LFxuICAgIGNvbnRhaW5lclJpZ2h0XG4pIHtcbiAgICB2YXIgZ3VpZGVIb3Jpem9udGFsQ2VudGVyID0gKGd1aWRlQm91bmRMZWZ0ICsgZ3VpZGVCb3VuZFJpZ2h0KSAvIDI7XG4gICAgdmFyIHggPSBndWlkZUhvcml6b250YWxDZW50ZXIgLSAobGF5ZXJXaWR0aCAvIDIpO1xuICAgIHZhciBBUlJPV19XSURUSF9IQUxGID0gODtcbiAgICB2YXIgYXJyb3dMZWZ0O1xuXG4gICAgaWYgKHggKyBsYXllcldpZHRoID4gY29udGFpbmVyUmlnaHQpIHtcbiAgICAgICAgeCA9IGd1aWRlQm91bmRSaWdodCAtIGxheWVyV2lkdGggKyBBUlJPV19XSURUSF9IQUxGO1xuICAgICAgICBhcnJvd0xlZnQgPSBndWlkZUhvcml6b250YWxDZW50ZXIgLSB4O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHggKz0gQVJST1dfV0lEVEhfSEFMRjtcbiAgICB9XG5cbiAgICBpZiAoeCA8IGNvbnRhaW5lckxlZnQpIHtcbiAgICAgICAgeCA9IDA7XG4gICAgICAgIGFycm93TGVmdCA9IGd1aWRlSG9yaXpvbnRhbENlbnRlciAtIGNvbnRhaW5lckxlZnQgLSBBUlJPV19XSURUSF9IQUxGO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHggPSB4IC0gY29udGFpbmVyTGVmdCAtIEFSUk9XX1dJRFRIX0hBTEY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gWEFuZEFycm93TGVmdFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4IC0gbGVmdCBwb3NpdGlvbiBvZiBwb3B1cCBsYXllclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmUzZXJ9IGFycm93TGVmdCAtIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHBvcHVwIGFycm93LCBpZiBpdCBpcyBub3Qgc2V0LCBhcnJvdyBhcHBlYXJzIG9uIHRoZSBtaWRkbGUgb2YgcG9wdXBcbiAgICAgKi9cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4LFxuICAgICAgICBhcnJvd0xlZnQ6IGFycm93TGVmdFxuICAgIH07XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSByZW5kZXJpbmcgcG9zaXRpb24gdXNlcmluZyBndWlkZSBlbGVtZW50c1xuICogQHBhcmFtIHt7d2lkdGg6IHtudW1iZXJ9LCBoZWlnaHQ6IHtudW1iZXJ9fX0gbGF5ZXJTaXplIC0gcG9wdXAgbGF5ZXIncyB3aWR0aCBhbmQgaGVpZ2h0XG4gKiBAcGFyYW0ge3t0b3A6IHtudW1iZXJ9LCBsZWZ0OiB7bnVtYmVyfSwgcmlnaHQ6IHtudW1iZXJ9LCBib3R0b206IHtudW1iZXJ9fX0gY29udGFpbmVyQm91bmQgLSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB1cHBlciBsYXllciwgdGhhdCBhY3RzIGFzIGEgYm9yZGVyIG9mIHBvcHVwXG4gKiBAcGFyYW0ge3t0b3A6IHtudW1iZXJ9LCBsZWZ0OiB7bnVtYmVyfSwgcmlnaHQ6IHtudW1iZXJ9LCBib3R0b206IHtudW1iZXJ9fX0gZ3VpZGVCb3VuZCAtIGd1aWRlIGVsZW1lbnQgYm91bmQgZGF0YVxuICogQHJldHVybnMge1BvcHVwUmVuZGVyaW5nRGF0YX0gcmVuZGVyaW5nIHBvc2l0aW9uIG9mIHBvcHVwIGFuZCBwb3B1cCBhcnJvd1xuICovXG5TY2hlZHVsZUNyZWF0aW9uUG9wdXAucHJvdG90eXBlLl9jYWxjUmVuZGVyaW5nRGF0YSA9IGZ1bmN0aW9uKGxheWVyU2l6ZSwgY29udGFpbmVyQm91bmQsIGd1aWRlQm91bmQpIHtcbiAgICB2YXIgeVBvc0luZm8gPSB0aGlzLl9nZXRZQW5kQXJyb3dEaXJlY3Rpb24oXG4gICAgICAgIGd1aWRlQm91bmQudG9wLFxuICAgICAgICBndWlkZUJvdW5kLmJvdHRvbSxcbiAgICAgICAgbGF5ZXJTaXplLmhlaWdodCxcbiAgICAgICAgY29udGFpbmVyQm91bmQudG9wLFxuICAgICAgICBjb250YWluZXJCb3VuZC5ib3R0b21cbiAgICApO1xuICAgIHZhciB4UG9zSW5mbyA9IHRoaXMuX2dldFhBbmRBcnJvd0xlZnQoXG4gICAgICAgIGd1aWRlQm91bmQubGVmdCxcbiAgICAgICAgZ3VpZGVCb3VuZC5yaWdodCxcbiAgICAgICAgbGF5ZXJTaXplLndpZHRoLFxuICAgICAgICBjb250YWluZXJCb3VuZC5sZWZ0LFxuICAgICAgICBjb250YWluZXJCb3VuZC5yaWdodFxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBQb3B1cFJlbmRlcmluZ0RhdGFcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geCAtIGxlZnQgcG9zaXRpb25cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geSAtIHRvcCBwb3NpdGlvblxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhcnJvdy5kaXJlY3Rpb24gLSBkaXJlY3Rpb24gb2YgcG9wdXAgYXJyb3dcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW2Fycm93LnBvc2l0aW9uXSAtIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHBvcHVwIGFycm93LCBpZiBpdCBpcyBub3Qgc2V0LCBhcnJvdyBhcHBlYXJzIG9uIHRoZSBtaWRkbGUgb2YgcG9wdXBcbiAgICAgKi9cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4UG9zSW5mby54LFxuICAgICAgICB5OiB5UG9zSW5mby55LFxuICAgICAgICBhcnJvdzoge1xuICAgICAgICAgICAgZGlyZWN0aW9uOiB5UG9zSW5mby5hcnJvd0RpcmVjdGlvbixcbiAgICAgICAgICAgIHBvc2l0aW9uOiB4UG9zSW5mby5hcnJvd0xlZnRcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG4vKipcbiAqIFNldCBhcnJvdydzIGRpcmVjdGlvbiBhbmQgcG9zaXRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBhcnJvdyByZW5kZXJpbmcgZGF0YSBmb3IgcG9wdXAgYXJyb3dcbiAqL1xuU2NoZWR1bGVDcmVhdGlvblBvcHVwLnByb3RvdHlwZS5fc2V0QXJyb3dEaXJlY3Rpb24gPSBmdW5jdGlvbihhcnJvdykge1xuICAgIHZhciBkaXJlY3Rpb24gPSBhcnJvdy5kaXJlY3Rpb24gfHwgJ2Fycm93LWJvdHRvbSc7XG4gICAgdmFyIGFycm93RWwgPSBkb211dGlsLmdldChjb25maWcuY2xhc3NuYW1lKCdwb3B1cC1hcnJvdycpKTtcbiAgICB2YXIgYm9yZGVyRWxlbWVudCA9IGRvbXV0aWwuZmluZChjb25maWcuY2xhc3NuYW1lKCcucG9wdXAtYXJyb3ctYm9yZGVyJywgYXJyb3dFbCkpO1xuXG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gY29uZmlnLmNsYXNzbmFtZSgnYXJyb3ctYm90dG9tJykpIHtcbiAgICAgICAgZG9tdXRpbC5yZW1vdmVDbGFzcyhhcnJvd0VsLCBjb25maWcuY2xhc3NuYW1lKCdhcnJvdy1ib3R0b20nKSk7XG4gICAgICAgIGRvbXV0aWwuYWRkQ2xhc3MoYXJyb3dFbCwgY29uZmlnLmNsYXNzbmFtZShkaXJlY3Rpb24pKTtcbiAgICB9XG5cbiAgICBpZiAoYXJyb3cucG9zaXRpb24pIHtcbiAgICAgICAgYm9yZGVyRWxlbWVudC5zdHlsZS5sZWZ0ID0gYXJyb3cucG9zaXRpb24gKyAncHgnO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ3JlYXRlIGRhdGUgcmFuZ2UgcGlja2VyIHVzaW5nIHN0YXJ0IGRhdGUgYW5kIGVuZCBkYXRlXG4gKiBAcGFyYW0ge1RaRGF0ZX0gc3RhcnQgLSBzdGFydCBkYXRlXG4gKiBAcGFyYW0ge1RaRGF0ZX0gZW5kIC0gZW5kIGRhdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNBbGxEYXkgLSBpc0FsbERheVxuICovXG5TY2hlZHVsZUNyZWF0aW9uUG9wdXAucHJvdG90eXBlLl9jcmVhdGVEYXRlcGlja2VyID0gZnVuY3Rpb24oc3RhcnQsIGVuZCwgaXNBbGxEYXkpIHtcbiAgICB2YXIgY3NzUHJlZml4ID0gY29uZmlnLmNzc1ByZWZpeDtcblxuICAgIHRoaXMucmFuZ2VQaWNrZXIgPSBEYXRlUGlja2VyLmNyZWF0ZVJhbmdlUGlja2VyKHtcbiAgICAgICAgc3RhcnRwaWNrZXI6IHtcbiAgICAgICAgICAgIGRhdGU6IG5ldyBUWkRhdGUoc3RhcnQpLnRvRGF0ZSgpLFxuICAgICAgICAgICAgaW5wdXQ6ICcjJyArIGNzc1ByZWZpeCArICdzY2hlZHVsZS1zdGFydC1kYXRlJyxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogJyMnICsgY3NzUHJlZml4ICsgJ3N0YXJ0cGlja2VyLWNvbnRhaW5lcidcbiAgICAgICAgfSxcbiAgICAgICAgZW5kcGlja2VyOiB7XG4gICAgICAgICAgICBkYXRlOiBuZXcgVFpEYXRlKGVuZCkudG9EYXRlKCksXG4gICAgICAgICAgICBpbnB1dDogJyMnICsgY3NzUHJlZml4ICsgJ3NjaGVkdWxlLWVuZC1kYXRlJyxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogJyMnICsgY3NzUHJlZml4ICsgJ2VuZHBpY2tlci1jb250YWluZXInXG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1hdDogaXNBbGxEYXkgPyAneXl5eS1NTS1kZCcgOiAneXl5eS1NTS1kZCBISDptbScsXG4gICAgICAgIHRpbWVwaWNrZXI6IGlzQWxsRGF5ID8gbnVsbCA6IHtcbiAgICAgICAgICAgIHNob3dNZXJpZGllbTogZmFsc2UsXG4gICAgICAgICAgICB1c2FnZVN0YXRpc3RpY3M6IHRoaXMuX3VzYWdlU3RhdGlzdGljc1xuICAgICAgICB9LFxuICAgICAgICB1c2FnZVN0YXRpc3RpY3M6IHRoaXMuX3VzYWdlU3RhdGlzdGljc1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBIaWRlIGxheWVyXG4gKi9cblNjaGVkdWxlQ3JlYXRpb25Qb3B1cC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubGF5ZXIuaGlkZSgpO1xuXG4gICAgaWYgKHRoaXMuZ3VpZGUpIHtcbiAgICAgICAgdGhpcy5ndWlkZS5jbGVhckd1aWRlRWxlbWVudCgpO1xuICAgICAgICB0aGlzLmd1aWRlID0gbnVsbDtcbiAgICB9XG5cbiAgICBkb21ldmVudC5vZmYoZG9jdW1lbnQuYm9keSwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTtcbn07XG5cbi8qKlxuICogcmVmcmVzaCBsYXllclxuICovXG5TY2hlZHVsZUNyZWF0aW9uUG9wdXAucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fdmlld01vZGVsKSB7XG4gICAgICAgIHRoaXMubGF5ZXIuc2V0Q29udGVudCh0aGlzLnRtcGwodGhpcy5fdmlld01vZGVsKSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgY2FsZW5kYXIgbGlzdFxuICogQHBhcmFtIHtBcnJheS48Q2FsZW5kYXI+fSBjYWxlbmRhcnMgLSBjYWxlbmRhciBsaXN0XG4gKi9cblNjaGVkdWxlQ3JlYXRpb25Qb3B1cC5wcm90b3R5cGUuc2V0Q2FsZW5kYXJzID0gZnVuY3Rpb24oY2FsZW5kYXJzKSB7XG4gICAgdGhpcy5jYWxlbmRhcnMgPSBjYWxlbmRhcnMgfHwgW107XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlIHRoZSBmb3JtXG4gKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgdGl0bGUgb2YgdGhlbiBlbnRlcmVkIHNjaGVkdWxlXG4gKiBAcGFyYW0ge1RaRGF0ZX0gc3RhcnREYXRlIHN0YXJ0IGRhdGUgdGltZSBmcm9tIHJhbmdlIHBpY2tlclxuICogQHBhcmFtIHtUWkRhdGV9IGVuZERhdGUgZW5kIGRhdGUgdGltZSBmcm9tIHJhbmdlIHBpY2tlclxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgZmFsc2UgaWYgdGhlIGZvcm0gaXMgbm90IHZhbGlkIGZvciBzdWJtaXNzaW9uLlxuICovXG5TY2hlZHVsZUNyZWF0aW9uUG9wdXAucHJvdG90eXBlLl92YWxpZGF0ZUZvcm0gPSBmdW5jdGlvbih0aXRsZSwgc3RhcnREYXRlLCBlbmREYXRlKSB7XG4gICAgaWYgKCF0aXRsZS52YWx1ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFzdGFydERhdGUgJiYgIWVuZERhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChkYXRldGltZS5jb21wYXJlKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBHZXQgcmFuZ2UgZGF0ZSBmcm9tIHJhbmdlIHBpY2tlclxuICogQHBhcmFtIHtUWkRhdGV9IHN0YXJ0RGF0ZSBzdGFydCBkYXRlIHRpbWUgZnJvbSByYW5nZSBwaWNrZXJcbiAqIEBwYXJhbSB7VFpEYXRlfSBlbmREYXRlIGVuZCBkYXRlIHRpbWUgZnJvbSByYW5nZSBwaWNrZXJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNBbGxEYXkgd2hldGhlciBpdCBpcyBhbiBhbGwtZGF5IHNjaGVkdWxlXG4gKiBAcmV0dXJucyB7UmFuZ2VEYXRlfSBSZXR1cm5zIHRoZSBzdGFydCBhbmQgZW5kIHRpbWUgZGF0YSB0aGF0IGlzIHRoZSByYW5nZSBkYXRlXG4gKi9cblNjaGVkdWxlQ3JlYXRpb25Qb3B1cC5wcm90b3R5cGUuX2dldFJhbmdlRGF0ZSA9IGZ1bmN0aW9uKHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgaXNBbGxEYXkpIHtcbiAgICB2YXIgc3RhcnQgPSBpc0FsbERheSA/IGRhdGV0aW1lLnN0YXJ0KHN0YXJ0RGF0ZSkgOiBzdGFydERhdGU7XG4gICAgdmFyIGVuZCA9IGlzQWxsRGF5ID8gZGF0ZXRpbWUucmVuZGVyRW5kKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkgOiBlbmREYXRlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGVkZWYge29iamVjdH0gUmFuZ2VEYXRlXG4gICAgICogQHByb3BlcnR5IHtUWkRhdGV9IHN0YXJ0IHN0YXJ0IHRpbWVcbiAgICAgKiBAcHJvcGVydHkge1RaRGF0ZX0gZW5kIGVuZCB0aW1lXG4gICAgICovXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IG5ldyBUWkRhdGUoc3RhcnQpLFxuICAgICAgICBlbmQ6IG5ldyBUWkRhdGUoZW5kKVxuICAgIH07XG59O1xuXG4vKipcbiAqIFJlcXVlc3Qgc2NoZWR1bGUgbW9kZWwgY3JlYXRpb24gdG8gY29udHJvbGxlciBieSBjdXN0b20gc2NoZWR1bGVzLlxuICogQGZpcmVzIHtTY2hlZHVsZUNyZWF0aW9uUG9wdXAjYmVmb3JlVXBkYXRlU2NoZWR1bGV9XG4gKiBAcGFyYW0ge3tcbiAgICBjYWxlbmRhcklkOiB7c3RyaW5nfSxcbiAgICB0aXRsZToge3N0cmluZ30sXG4gICAgbG9jYXRpb246IHtzdHJpbmd9LFxuICAgIHN0YXJ0OiB7VFpEYXRlfSxcbiAgICBlbmQ6IHtUWkRhdGV9LFxuICAgIGlzQWxsRGF5OiB7Ym9vbGVhbn0sXG4gICAgc3RhdGU6IHtzdHJpbmd9LFxuICAgIGlzUHJpdmF0ZToge2Jvb2xlYW59XG4gIH19IGZvcm0gc2NoZWR1bGUgaW5wdXQgZm9ybSBkYXRhXG4qL1xuU2NoZWR1bGVDcmVhdGlvblBvcHVwLnByb3RvdHlwZS5fb25DbGlja1VwZGF0ZVNjaGVkdWxlID0gZnVuY3Rpb24oZm9ybSkge1xuICAgIHZhciBjaGFuZ2VzID0gY29tbW9uLmdldFNjaGVkdWxlQ2hhbmdlcyhcbiAgICAgICAgdGhpcy5fc2NoZWR1bGUsXG4gICAgICAgIFsnY2FsZW5kYXJJZCcsICd0aXRsZScsICdsb2NhdGlvbicsICdzdGFydCcsICdlbmQnLCAnaXNBbGxEYXknLCAnc3RhdGUnXSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2FsZW5kYXJJZDogZm9ybS5jYWxlbmRhcklkLFxuICAgICAgICAgICAgdGl0bGU6IGZvcm0udGl0bGUudmFsdWUsXG4gICAgICAgICAgICBsb2NhdGlvbjogZm9ybS5sb2NhdGlvbi52YWx1ZSxcbiAgICAgICAgICAgIHN0YXJ0OiBmb3JtLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBmb3JtLmVuZCxcbiAgICAgICAgICAgIGlzQWxsRGF5OiBmb3JtLmlzQWxsRGF5LFxuICAgICAgICAgICAgc3RhdGU6IGZvcm0uc3RhdGVcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgU2NoZWR1bGVDcmVhdGlvblBvcHVwI2JlZm9yZVVwZGF0ZVNjaGVkdWxlXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1NjaGVkdWxlfSBzY2hlZHVsZSAtIHNjaGVkdWxlIG9iamVjdCB0byBiZSB1cGRhdGVkXG4gICAgICovXG4gICAgdGhpcy5maXJlKCdiZWZvcmVVcGRhdGVTY2hlZHVsZScsIHtcbiAgICAgICAgc2NoZWR1bGU6IHV0aWwuZXh0ZW5kKHtcbiAgICAgICAgICAgIHJhdzoge1xuICAgICAgICAgICAgICAgIGNsYXNzOiBmb3JtLmlzUHJpdmF0ZSA/ICdwcml2YXRlJyA6ICdwdWJsaWMnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuX3NjaGVkdWxlKSxcbiAgICAgICAgY2hhbmdlczogY2hhbmdlcyxcbiAgICAgICAgc3RhcnQ6IGZvcm0uc3RhcnQsXG4gICAgICAgIGVuZDogZm9ybS5lbmQsXG4gICAgICAgIGNhbGVuZGFyOiB0aGlzLl9zZWxlY3RlZENhbCxcbiAgICAgICAgdHJpZ2dlckV2ZW50TmFtZTogJ2NsaWNrJ1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZXF1ZXN0IHRoZSBjb250cm9sbGVyIHRvIHVwZGF0ZSB0aGUgc2NoZWR1bGUgbW9kZWwgYWNjb3JkaW5nIHRvIHRoZSBjdXN0b20gc2NoZWR1bGUuXG4gKiBAZmlyZXMge1NjaGVkdWxlQ3JlYXRpb25Qb3B1cCNiZWZvcmVDcmVhdGVTY2hlZHVsZX1cbiAqIEBwYXJhbSB7e1xuICAgIGNhbGVuZGFySWQ6IHtzdHJpbmd9LFxuICAgIHRpdGxlOiB7c3RyaW5nfSxcbiAgICBsb2NhdGlvbjoge3N0cmluZ30sXG4gICAgc3RhcnQ6IHtUWkRhdGV9LFxuICAgIGVuZDoge1RaRGF0ZX0sXG4gICAgaXNBbGxEYXk6IHtib29sZWFufSxcbiAgICBzdGF0ZToge3N0cmluZ31cbiAgfX0gZm9ybSBzY2hlZHVsZSBpbnB1dCBmb3JtIGRhdGFcbiAqL1xuU2NoZWR1bGVDcmVhdGlvblBvcHVwLnByb3RvdHlwZS5fb25DbGlja0NyZWF0ZVNjaGVkdWxlID0gZnVuY3Rpb24oZm9ybSkge1xuICAgIC8qKlxuICAgICAqIEBldmVudCBTY2hlZHVsZUNyZWF0aW9uUG9wdXAjYmVmb3JlQ3JlYXRlU2NoZWR1bGVcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7U2NoZWR1bGV9IHNjaGVkdWxlIC0gbmV3IHNjaGVkdWxlIGluc3RhbmNlIHRvIGJlIGFkZGVkXG4gICAgICovXG4gICAgdGhpcy5maXJlKCdiZWZvcmVDcmVhdGVTY2hlZHVsZScsIHtcbiAgICAgICAgY2FsZW5kYXJJZDogZm9ybS5jYWxlbmRhcklkLFxuICAgICAgICB0aXRsZTogZm9ybS50aXRsZS52YWx1ZSxcbiAgICAgICAgbG9jYXRpb246IGZvcm0ubG9jYXRpb24udmFsdWUsXG4gICAgICAgIHJhdzoge1xuICAgICAgICAgICAgY2xhc3M6IGZvcm0uaXNQcml2YXRlID8gJ3ByaXZhdGUnIDogJ3B1YmxpYydcbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnQ6IGZvcm0uc3RhcnQsXG4gICAgICAgIGVuZDogZm9ybS5lbmQsXG4gICAgICAgIGlzQWxsRGF5OiBmb3JtLmlzQWxsRGF5LFxuICAgICAgICBzdGF0ZTogZm9ybS5zdGF0ZVxuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTY2hlZHVsZUNyZWF0aW9uUG9wdXA7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy9wb3B1cC9zY2hlZHVsZURldGFpbFBvcHVwLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L3BvcHVwL3NjaGVkdWxlRGV0YWlsUG9wdXAuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50LWRpc2FibGUgdmFycy1vbi10b3AgKi9cbi8qKlxuICogQGZpbGVvdmVydmlldyBGbG9hdGluZyBsYXllciBmb3Igc2hvd2luZyBkZXRhaWwgc2NoZWR1bGVcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIFZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi92aWV3L3ZpZXcgKi8gXCIuL3NyYy9qcy92aWV3L3ZpZXcuanNcIik7XG52YXIgRmxvYXRpbmdMYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9mbG9hdGluZ0xheWVyICovIFwiLi9zcmMvanMvY29tbW9uL2Zsb2F0aW5nTGF5ZXIuanNcIik7XG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKSxcbiAgICBkb21ldmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kb21ldmVudCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb21ldmVudC5qc1wiKSxcbiAgICBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciB0bXBsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdGVtcGxhdGUvcG9wdXAvc2NoZWR1bGVEZXRhaWxQb3B1cC5oYnMgKi8gXCIuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3BvcHVwL3NjaGVkdWxlRGV0YWlsUG9wdXAuaGJzXCIpO1xudmFyIHR6ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpO1xudmFyIFRaRGF0ZSA9IHR6LkRhdGU7XG52YXIgZGF0ZXRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZGF0ZXRpbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanNcIik7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7Vmlld31cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciAtIGNvbnRhaW5lciBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIFNjaGVkdWxlRGV0YWlsUG9wdXAoY29udGFpbmVyKSB7XG4gICAgVmlldy5jYWxsKHRoaXMsIGNvbnRhaW5lcik7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0Zsb2F0aW5nTGF5ZXJ9XG4gICAgICovXG4gICAgdGhpcy5sYXllciA9IG5ldyBGbG9hdGluZ0xheWVyKG51bGwsIGNvbnRhaW5lcik7XG5cbiAgICAvKipcbiAgICAgKiBjYWNoZWQgdmlldyBtb2RlbFxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5fdmlld01vZGVsID0gbnVsbDtcbiAgICB0aGlzLl9zY2hlZHVsZSA9IG51bGw7XG4gICAgdGhpcy5fY2FsZW5kYXIgPSBudWxsO1xuXG4gICAgZG9tZXZlbnQub24oY29udGFpbmVyLCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrLCB0aGlzKTtcbn1cblxudXRpbC5pbmhlcml0KFNjaGVkdWxlRGV0YWlsUG9wdXAsIFZpZXcpO1xuXG4vKipcbiAqIE1vdXNlZG93biBldmVudCBoYW5kbGVyIGZvciBoaWRpbmcgcG9wdXAgbGF5ZXIgd2hlbiB1c2VyIG1vdXNlZG93biBvdXRzaWRlIG9mXG4gKiBsYXllclxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZURvd25FdmVudCAtIG1vdXNlIGV2ZW50IG9iamVjdFxuICovXG5TY2hlZHVsZURldGFpbFBvcHVwLnByb3RvdHlwZS5fb25Nb3VzZURvd24gPSBmdW5jdGlvbihtb3VzZURvd25FdmVudCkge1xuICAgIHZhciB0YXJnZXQgPSBkb21ldmVudC5nZXRFdmVudFRhcmdldChtb3VzZURvd25FdmVudCksXG4gICAgICAgIHBvcHVwTGF5ZXIgPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcuZmxvYXRpbmctbGF5ZXInKSk7XG5cbiAgICBpZiAocG9wdXBMYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5oaWRlKCk7XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5TY2hlZHVsZURldGFpbFBvcHVwLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sYXllci5kZXN0cm95KCk7XG4gICAgdGhpcy5sYXllciA9IG51bGw7XG4gICAgZG9tZXZlbnQub2ZmKHRoaXMuY29udGFpbmVyLCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrLCB0aGlzKTtcbiAgICBkb21ldmVudC5vZmYoZG9jdW1lbnQuYm9keSwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTtcbiAgICBWaWV3LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICogQ2xpY2sgZXZlbnQgaGFuZGxlciBmb3IgY2xvc2UgYnV0dG9uXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGNsaWNrRXZlbnQgLSBtb3VzZSBldmVudCBvYmplY3RcbiAqL1xuU2NoZWR1bGVEZXRhaWxQb3B1cC5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbihjbGlja0V2ZW50KSB7XG4gICAgdmFyIHRhcmdldCA9IGRvbWV2ZW50LmdldEV2ZW50VGFyZ2V0KGNsaWNrRXZlbnQpO1xuXG4gICAgdGhpcy5fb25DbGlja0VkaXRTY2hlZHVsZSh0YXJnZXQpO1xuXG4gICAgdGhpcy5fb25DbGlja0RlbGV0ZVNjaGVkdWxlKHRhcmdldCk7XG59O1xuXG4vKipcbiAqIEBmaXJlcyBTY2hlZHVsZURldGFpbFBvcHVwI2NsaWNrRWRpdFNjaGVkdWxlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgLSBldmVudCB0YXJnZXRcbiAqL1xuU2NoZWR1bGVEZXRhaWxQb3B1cC5wcm90b3R5cGUuX29uQ2xpY2tFZGl0U2NoZWR1bGUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzbmFtZSgncG9wdXAtZWRpdCcpO1xuXG4gICAgaWYgKGRvbXV0aWwuaGFzQ2xhc3ModGFyZ2V0LCBjbGFzc05hbWUpIHx8IGRvbXV0aWwuY2xvc2VzdCh0YXJnZXQsICcuJyArIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgdGhpcy5maXJlKCdiZWZvcmVVcGRhdGVTY2hlZHVsZScsIHtcbiAgICAgICAgICAgIHNjaGVkdWxlOiB0aGlzLl9zY2hlZHVsZSxcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudE5hbWU6ICdjbGljaycsXG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMuX3NjaGVkdWxlRWxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBAZmlyZXMgU2NoZWR1bGVEZXRhaWxQb3B1cCNjbGlja0VkaXRTY2hlZHVsZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gZXZlbnQgdGFyZ2V0XG4gKi9cblNjaGVkdWxlRGV0YWlsUG9wdXAucHJvdG90eXBlLl9vbkNsaWNrRGVsZXRlU2NoZWR1bGUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY29uZmlnLmNsYXNzbmFtZSgncG9wdXAtZGVsZXRlJyk7XG5cbiAgICBpZiAoZG9tdXRpbC5oYXNDbGFzcyh0YXJnZXQsIGNsYXNzTmFtZSkgfHwgZG9tdXRpbC5jbG9zZXN0KHRhcmdldCwgJy4nICsgY2xhc3NOYW1lKSkge1xuICAgICAgICB0aGlzLmZpcmUoJ2JlZm9yZURlbGV0ZVNjaGVkdWxlJywge1xuICAgICAgICAgICAgc2NoZWR1bGU6IHRoaXMuX3NjaGVkdWxlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKiBAcGFyYW0ge29iamVjdH0gdmlld01vZGVsIC0gdmlldyBtb2RlbCBmcm9tIGZhY3RvcnkvbW9udGhWaWV3XG4gKi9cblNjaGVkdWxlRGV0YWlsUG9wdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgIHZhciBsYXllciA9IHRoaXMubGF5ZXI7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgbGF5ZXIuc2V0Q29udGVudCh0bXBsKHtcbiAgICAgICAgc2NoZWR1bGU6IHRoaXMuX2dldFNjaGVkdWxlTW9kZWwodmlld01vZGVsLnNjaGVkdWxlKSxcbiAgICAgICAgY2FsZW5kYXI6IHZpZXdNb2RlbC5jYWxlbmRhclxuICAgIH0pKTtcbiAgICBsYXllci5zaG93KCk7XG4gICAgdGhpcy5fc2V0UG9wdXBQb3NpdGlvbkFuZEFycm93RGlyZWN0aW9uKHZpZXdNb2RlbC5ldmVudCk7XG5cbiAgICB0aGlzLl9zY2hlZHVsZSA9IHZpZXdNb2RlbC5zY2hlZHVsZTtcbiAgICB0aGlzLl9jYWxlbmRhciA9IHZpZXdNb2RlbC5jYWxlbmRhcjtcblxuICAgIHV0aWwuZGVib3VuY2UoZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvbWV2ZW50Lm9uKGRvY3VtZW50LmJvZHksICdtb3VzZWRvd24nLCBzZWxmLl9vbk1vdXNlRG93biwgc2VsZik7XG4gICAgfSkoKTtcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5TY2hlZHVsZURldGFpbFBvcHVwLnByb3RvdHlwZS5fZ2V0U2NoZWR1bGVNb2RlbCA9IGZ1bmN0aW9uKHNjaGVkdWxlVmlld01vZGVsKSB7XG4gICAgdmFyIHZpZXdNb2RlbCA9IHV0aWwuZXh0ZW5kKHt9LCBzY2hlZHVsZVZpZXdNb2RlbCk7XG4gICAgdmFyIGRheVN0YXJ0ID0gZGF0ZXRpbWUuc3RhcnQoc2NoZWR1bGVWaWV3TW9kZWwuc3RhcnQpO1xuICAgIHZhciBzdGFydERheU9mZnNldCA9IGRheVN0YXJ0LnRvRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgdmFyIG5hdGl2ZU9mZnNldE1zID0gdHouZ2V0TmF0aXZlT2Zmc2V0TXMoKTtcbiAgICB2YXIgaGFzUHJpbWFyeVRpbWV6b25lQ3VzdG9tU2V0dGluZyA9IHR6Lmhhc1ByaW1hcnlUaW1lem9uZUN1c3RvbVNldHRpbmcoKTtcbiAgICB2YXIgc3RhcnRPZmZzZXQgPSB2aWV3TW9kZWwuc3RhcnQudG9EYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICB2YXIgZW5kT2Zmc2V0ID0gdmlld01vZGVsLmVuZC50b0RhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgIHZhciBwcmltYXJ5VGltZXpvbmVDb2RlID0gdHouZ2V0UHJpbWFyeVRpbWV6b25lTmFtZSgpO1xuICAgIHZhciBwcmltYXJ5T2Zmc2V0ID0gdHouZ2V0UHJpbWFyeU9mZnNldCgpO1xuICAgIHZhciBzdGFydFRpbWV6b25lT2Zmc2V0ID0gdHouZ2V0T2Zmc2V0QnlUaW1lem9uZU5hbWUoXG4gICAgICAgIHByaW1hcnlUaW1lem9uZUNvZGUsXG4gICAgICAgIHZpZXdNb2RlbC5zdGFydC5nZXRUaW1lKClcbiAgICApO1xuICAgIHZhciBlbmRUaW1lem9uZU9mZnNldCA9IHR6LmdldE9mZnNldEJ5VGltZXpvbmVOYW1lKFxuICAgICAgICBwcmltYXJ5VGltZXpvbmVDb2RlLFxuICAgICAgICB2aWV3TW9kZWwuZW5kLmdldFRpbWUoKVxuICAgICk7XG4gICAgdmFyIE1JTl9UT19NUyA9IDYwICogMTAwMDtcbiAgICB2YXIgb2Zmc2V0RGlmZk1zID0gMDtcbiAgICB2YXIgc3RhcnQsIGVuZDtcblxuICAgIGlmIChcbiAgICAgICAgaGFzUHJpbWFyeVRpbWV6b25lQ3VzdG9tU2V0dGluZyAmJlxuICAgICAgICB0ei5pc05hdGl2ZU9zVXNpbmdEU1RUaW1lem9uZSgpICYmXG4gICAgICAgIG5hdGl2ZU9mZnNldE1zICE9PSBzdGFydERheU9mZnNldFxuICAgICkge1xuICAgICAgICAvLyBXaGVuIHVzaW5nIGEgY3VzdG9tIHRpbWUgem9uZSwgdGhlIG5hdGl2ZSB0aW1lIHpvbmUgb2Zmc2V0IGlzIGZpeGVkIGFuZCByZW5kZXJlZC5cbiAgICAgICAgLy8gU28sIFRoZSBmaXhlZCBhbmQgcmVuZGVyZWQgdGltZSBzaG91bGQgYmUgcmVjYWxjdWxhdGVkIGFzIHRoZSBvcmlnaW5hbCB0aW1lIHpvbmUgb2Zmc2V0LlxuICAgICAgICAvLyBUaGUgY3VycmVudCBzeXN0ZW0gT1MgbG9jYWwgdGltZSBpcyBub3QgYWZmZWN0ZWQgYnkgc3VtbWVyL3N0YW5kYXJkIHRpbWUgYW5kIHRoZSBzY2hlZHVsZSBzaG91bGQgYWx3YXlzIGJlIGRpc3BsYXllZCBpbiB0aGUgc2FtZSBsb2NhdGlvbi5cbiAgICAgICAgb2Zmc2V0RGlmZk1zID0gKHN0YXJ0T2Zmc2V0ICogTUlOX1RPX01TKSAtIG5hdGl2ZU9mZnNldE1zO1xuICAgICAgICBzdGFydCA9IG5ldyBUWkRhdGUodmlld01vZGVsLnN0YXJ0KTtcbiAgICAgICAgc3RhcnQuYWRkTWlsbGlzZWNvbmRzKG9mZnNldERpZmZNcyk7XG5cbiAgICAgICAgdmlld01vZGVsLnN0YXJ0ID0gc3RhcnQ7XG5cbiAgICAgICAgb2Zmc2V0RGlmZk1zID0gKGVuZE9mZnNldCAqIE1JTl9UT19NUykgLSBuYXRpdmVPZmZzZXRNcztcbiAgICAgICAgZW5kID0gbmV3IFRaRGF0ZSh2aWV3TW9kZWwuZW5kKTtcbiAgICAgICAgZW5kLmFkZE1pbGxpc2Vjb25kcyhvZmZzZXREaWZmTXMpO1xuXG4gICAgICAgIHZpZXdNb2RlbC5lbmQgPSBlbmQ7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgICBoYXNQcmltYXJ5VGltZXpvbmVDdXN0b21TZXR0aW5nICYmXG4gICAgICAgIHR6LmlzUHJpbWFyeVVzaW5nRFNUVGltZXpvbmUoKSAmJlxuICAgICAgICAocHJpbWFyeU9mZnNldCAhPT0gc3RhcnRUaW1lem9uZU9mZnNldCB8fCBwcmltYXJ5T2Zmc2V0ICE9PSBlbmRUaW1lem9uZU9mZnNldClcbiAgICApIHtcbiAgICAgICAgLy8gVGhlIGN1c3RvbSB0aW1lIHpvbmUgaXMgYSB0aW1lIHpvbmUgd2hlcmUgdHdvIG9mZnNldHMgaW5jbHVkaW5nIERTVCBhcmUgYXBwbGllZC5cbiAgICAgICAgLy8gVGhlIGZpcnN0IHJlbmRlcmVkIHNjaGVkdWxlIGlzIGNhbGN1bGF0ZWQgYW5kIGRyYXduIHdpdGggdGhlIG9mZnNldCBjYWxjdWxhdGVkIGF0IHRoZSBhY2Nlc3MgdGltZShzeXN0ZW0gT1MgbG9jYWwgdGltZSkuXG4gICAgICAgIC8vIEl0IHNob3VsZCBiZSByZWNhbGN1bGF0ZWQgd2l0aCB0aGUgb3JpZ2luYWwgdGltZSB6b25lIG9mZnNldC5cbiAgICAgICAgb2Zmc2V0RGlmZk1zID0gKHByaW1hcnlPZmZzZXQgLSBzdGFydFRpbWV6b25lT2Zmc2V0KSAqIE1JTl9UT19NUztcblxuICAgICAgICBzdGFydCA9IG5ldyBUWkRhdGUodmlld01vZGVsLnN0YXJ0KTtcbiAgICAgICAgc3RhcnQuYWRkTWlsbGlzZWNvbmRzKG9mZnNldERpZmZNcyk7XG5cbiAgICAgICAgdmlld01vZGVsLnN0YXJ0ID0gc3RhcnQ7XG5cbiAgICAgICAgb2Zmc2V0RGlmZk1zID0gKHByaW1hcnlPZmZzZXQgLSBlbmRUaW1lem9uZU9mZnNldCkgKiBNSU5fVE9fTVM7XG5cbiAgICAgICAgZW5kID0gbmV3IFRaRGF0ZSh2aWV3TW9kZWwuZW5kKTtcbiAgICAgICAgZW5kLmFkZE1pbGxpc2Vjb25kcyhvZmZzZXREaWZmTXMpO1xuXG4gICAgICAgIHZpZXdNb2RlbC5lbmQgPSBlbmQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn07XG5cbi8qKlxuICogU2V0IHBvcHVwIHBvc2l0aW9uIGFuZCBhcnJvdyBkaXJlY3Rpb24gdG8gYXBlYXIgbmVhciBndWlkZSBlbGVtZW50XG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIGNyZWF0aW9uIGd1aWRlIGVsZW1lbnRcbiAqL1xuU2NoZWR1bGVEZXRhaWxQb3B1cC5wcm90b3R5cGUuX3NldFBvcHVwUG9zaXRpb25BbmRBcnJvd0RpcmVjdGlvbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGxheWVyID0gZG9tdXRpbC5maW5kKGNvbmZpZy5jbGFzc25hbWUoJy5wb3B1cCcpLCB0aGlzLmxheWVyLmNvbnRhaW5lcik7XG4gICAgdmFyIGxheWVyU2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IGxheWVyLm9mZnNldFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGxheWVyLm9mZnNldEhlaWdodFxuICAgIH07XG5cbiAgICB2YXIgY29udGFpbmVyQm91bmQgPSB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgc2NoZWR1bGVFbCA9IGRvbWV2ZW50LmdldEV2ZW50VGFyZ2V0KGV2ZW50KTtcbiAgICB2YXIgYmxvY2tFbCA9IGRvbXV0aWwuY2xvc2VzdChzY2hlZHVsZUVsLCBjb25maWcuY2xhc3NuYW1lKCcudGltZS1kYXRlLXNjaGVkdWxlLWJsb2NrJykpXG4gICAgICAgIHx8IGRvbXV0aWwuY2xvc2VzdChzY2hlZHVsZUVsLCBjb25maWcuY2xhc3NuYW1lKCcud2Vla2RheS1zY2hlZHVsZScpKVxuICAgICAgICB8fCBzY2hlZHVsZUVsO1xuICAgIHZhciBzY2hlZHVsZUJvdW5kID0gYmxvY2tFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgcG9zO1xuXG4gICAgdGhpcy5fc2NoZWR1bGVFbCA9IGJsb2NrRWw7XG5cbiAgICBwb3MgPSB0aGlzLl9jYWxjUmVuZGVyaW5nRGF0YShsYXllclNpemUsIGNvbnRhaW5lckJvdW5kLCBzY2hlZHVsZUJvdW5kKTtcbiAgICB0aGlzLmxheWVyLnNldFBvc2l0aW9uKHBvcy54LCBwb3MueSk7XG4gICAgdGhpcy5fc2V0QXJyb3dEaXJlY3Rpb24ocG9zLmFycm93KTtcbn07XG5cbi8qKlxuICogR2V0IGNhbGN1bGF0ZSByZW5kZXJpbmcgcG9zaXRpb25zIG9mIHkgYW5kIGFycm93IHRvcCBieSBzY2hlZHVsZSBibG9jayBlbGVtZW50c1xuICogQHBhcmFtIHtudW1iZXJ9IHNjaGVkdWxlQm91bmRUb3AgLSBzY2hlZHVsZSBibG9jaydzIHRvcFxuICogQHBhcmFtIHtudW1iZXJ9IHNjaGVkdWxlQm91bmRCb3R0b20gLSBzY2hlZHVsZSBibG9jaydzIGJvdHRvbVxuICogQHBhcmFtIHtudW1iZXJ9IGxheWVySGVpZ2h0IC0gcG9wdXAgbGF5ZXIncyBoZWlnaHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb250YWluZXJUb3AgLSBjb250YWluZXIncyB0b3BcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb250YWluZXJCb3R0b20gLSBjb250YWluZXIncyBib3R0b21cbiAqIEByZXR1cm5zIHtZQW5kQXJyb3dUb3B9IHkgYW5kIGFycm93VG9wXG4gKi9cblNjaGVkdWxlRGV0YWlsUG9wdXAucHJvdG90eXBlLl9nZXRZQW5kQXJyb3dUb3AgPSBmdW5jdGlvbihcbiAgICBzY2hlZHVsZUJvdW5kVG9wLFxuICAgIHNjaGVkdWxlQm91bmRCb3R0b20sXG4gICAgbGF5ZXJIZWlnaHQsXG4gICAgY29udGFpbmVyVG9wLFxuICAgIGNvbnRhaW5lckJvdHRvbVxuKSB7XG4gICAgdmFyIEFSUk9XX1dJRFRIX0hBTEYgPSA4O1xuICAgIHZhciBzY2hlZHVsZVZlcnRpY2FsQ2VudGVyLCB5LCBhcnJvd1RvcDtcblxuICAgIHNjaGVkdWxlQm91bmRUb3AgPSBzY2hlZHVsZUJvdW5kVG9wIDwgMCA/IDAgOiBzY2hlZHVsZUJvdW5kVG9wO1xuICAgIHNjaGVkdWxlVmVydGljYWxDZW50ZXIgPSAoc2NoZWR1bGVCb3VuZFRvcCArIHNjaGVkdWxlQm91bmRCb3R0b20pIC8gMjtcbiAgICB5ID0gc2NoZWR1bGVWZXJ0aWNhbENlbnRlciAtIChsYXllckhlaWdodCAvIDIpO1xuXG4gICAgaWYgKHkgPCBjb250YWluZXJUb3ApIHtcbiAgICAgICAgeSA9IDA7XG4gICAgICAgIGFycm93VG9wID0gc2NoZWR1bGVWZXJ0aWNhbENlbnRlciAtIGNvbnRhaW5lclRvcCAtIEFSUk9XX1dJRFRIX0hBTEY7XG4gICAgfSBlbHNlIGlmICh5ICsgbGF5ZXJIZWlnaHQgPiBjb250YWluZXJCb3R0b20pIHtcbiAgICAgICAgeSA9IE1hdGgubWF4KGNvbnRhaW5lckJvdHRvbSAtIGxheWVySGVpZ2h0IC0gY29udGFpbmVyVG9wLCAwKTtcbiAgICAgICAgYXJyb3dUb3AgPSBzY2hlZHVsZVZlcnRpY2FsQ2VudGVyIC0geSAtIGNvbnRhaW5lclRvcCAtIEFSUk9XX1dJRFRIX0hBTEY7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgeSAtPSBjb250YWluZXJUb3A7XG4gICAgfVxuXG4gICAgaWYgKGFycm93VG9wIDwgMCB8fCBhcnJvd1RvcCA+IGxheWVySGVpZ2h0KSB7XG4gICAgICAgIGFycm93VG9wID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBZQW5kQXJyb3dUb3BcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geSAtIHRvcCBwb3NpdGlvbiBvZiBwb3B1cCBsYXllclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYXJyb3dUb3BdIC0gcmVsYXRpdmUgcG9zaXRpb24gb2YgcG9wdXAgYXJyb3csIGlmIGl0IGlzIG5vdCBzZXQsIGFycm93IGFwcGVhcnMgb24gdGhlIG1pZGRsZSBvZiBwb3B1cFxuICAgICAqL1xuICAgIHJldHVybiB7XG4gICAgICAgIHk6IHksXG4gICAgICAgIGFycm93VG9wOiBhcnJvd1RvcFxuICAgIH07XG59O1xuXG4vKipcbiAqIEdldCBjYWxjdWxhdGUgcmVuZGVyaW5nIHggcG9zaXRpb24gYW5kIGFycm93IGRpcmVjdGlvbiBieSBzY2hlZHVsZSBibG9jayBlbGVtZW50c1xuICogQHBhcmFtIHtudW1iZXJ9IHNjaGVkdWxlQm91bmRMZWZ0IC0gc2NoZWR1bGUgYmxvY2sncyBsZWZ0XG4gKiBAcGFyYW0ge251bWJlcn0gc2NoZWR1bGVCb3VuZFJpZ2h0IC0gc2NoZWR1bGUgYmxvY2sncyByaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IGxheWVyV2lkdGggLSBwb3B1cCBsYXllcidzIHdpZHRoXG4gKiBAcGFyYW0ge251bWJlcn0gY29udGFpbmVyTGVmdCAtIGNvbnRhaW5lcidzIGxlZnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb250YWluZXJSaWdodCAtIGNvbnRhaW5lcidzIHJpZ2h0XG4gKiBAcmV0dXJucyB7WEFuZEFycm93RGlyZWN0aW9ufSB4IGFuZCBhcnJvd0RpcmVjdGlvblxuICovXG5TY2hlZHVsZURldGFpbFBvcHVwLnByb3RvdHlwZS5fZ2V0WEFuZEFycm93RGlyZWN0aW9uID0gZnVuY3Rpb24oXG4gICAgc2NoZWR1bGVCb3VuZExlZnQsXG4gICAgc2NoZWR1bGVCb3VuZFJpZ2h0LFxuICAgIGxheWVyV2lkdGgsXG4gICAgY29udGFpbmVyTGVmdCxcbiAgICBjb250YWluZXJSaWdodFxuKSB7XG4gICAgdmFyIGFycm93RGlyZWN0aW9uID0gJ2Fycm93LWxlZnQnO1xuICAgIHZhciB4ID0gc2NoZWR1bGVCb3VuZFJpZ2h0O1xuICAgIHZhciBNQVJHSU4gPSA0O1xuXG4gICAgaWYgKHggKyBsYXllcldpZHRoID4gY29udGFpbmVyUmlnaHQpIHtcbiAgICAgICAgYXJyb3dEaXJlY3Rpb24gPSAnYXJyb3ctcmlnaHQnO1xuICAgICAgICB4ID0gc2NoZWR1bGVCb3VuZExlZnQgLSBsYXllcldpZHRoIC0gTUFSR0lOO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHggKz0gTUFSR0lOO1xuICAgIH1cblxuICAgIGlmICh4IDwgY29udGFpbmVyTGVmdCkge1xuICAgICAgICB4ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB4IC09IGNvbnRhaW5lckxlZnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gWEFuZEFycm93RGlyZWN0aW9uXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHggLSBsZWZ0IHBvc2l0aW9uIG9mIHBvcHVwIGxheWVyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGFycm93RGlyZWN0aW9uIC0gZGlyZWN0aW9uIG9mIHBvcHVwIGFycm93XG4gICAgICovXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCxcbiAgICAgICAgYXJyb3dEaXJlY3Rpb246IGFycm93RGlyZWN0aW9uXG4gICAgfTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIHJlbmRlcmluZyBwb3NpdGlvbiB1c2VyaW5nIGd1aWRlIGVsZW1lbnRzXG4gKiBAcGFyYW0ge3t3aWR0aDoge251bWJlcn0sIGhlaWdodDoge251bWJlcn19fSBsYXllclNpemUgLSBwb3B1cCBsYXllcidzIHdpZHRoIGFuZCBoZWlnaHRcbiAqIEBwYXJhbSB7e3RvcDoge251bWJlcn0sIGxlZnQ6IHtudW1iZXJ9LCByaWdodDoge251bWJlcn0sIGJvdHRvbToge251bWJlcn19fSBjb250YWluZXJCb3VuZCAtIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHVwcGVyIGxheWVyLCB0aGF0IGFjdHMgYXMgYSBib3JkZXIgb2YgcG9wdXBcbiAqIEBwYXJhbSB7e3RvcDoge251bWJlcn0sIGxlZnQ6IHtudW1iZXJ9LCByaWdodDoge251bWJlcn0sIGJvdHRvbToge251bWJlcn19fSBzY2hlZHVsZUJvdW5kIC0gZ3VpZGUgZWxlbWVudCBib3VuZCBkYXRhXG4gKiBAcmV0dXJucyB7UG9wdXBSZW5kZXJpbmdEYXRhfSByZW5kZXJpbmcgcG9zaXRpb24gb2YgcG9wdXAgYW5kIHBvcHVwIGFycm93XG4gKi9cblNjaGVkdWxlRGV0YWlsUG9wdXAucHJvdG90eXBlLl9jYWxjUmVuZGVyaW5nRGF0YSA9IGZ1bmN0aW9uKGxheWVyU2l6ZSwgY29udGFpbmVyQm91bmQsIHNjaGVkdWxlQm91bmQpIHtcbiAgICB2YXIgeVBvc0luZm8gPSB0aGlzLl9nZXRZQW5kQXJyb3dUb3AoXG4gICAgICAgIHNjaGVkdWxlQm91bmQudG9wLFxuICAgICAgICBzY2hlZHVsZUJvdW5kLmJvdHRvbSxcbiAgICAgICAgbGF5ZXJTaXplLmhlaWdodCxcbiAgICAgICAgY29udGFpbmVyQm91bmQudG9wLFxuICAgICAgICBjb250YWluZXJCb3VuZC5ib3R0b21cbiAgICApO1xuICAgIHZhciB4UG9zSW5mbyA9IHRoaXMuX2dldFhBbmRBcnJvd0RpcmVjdGlvbihcbiAgICAgICAgc2NoZWR1bGVCb3VuZC5sZWZ0LFxuICAgICAgICBzY2hlZHVsZUJvdW5kLnJpZ2h0LFxuICAgICAgICBsYXllclNpemUud2lkdGgsXG4gICAgICAgIGNvbnRhaW5lckJvdW5kLmxlZnQsXG4gICAgICAgIGNvbnRhaW5lckJvdW5kLnJpZ2h0XG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFBvcHVwUmVuZGVyaW5nRGF0YVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4IC0gbGVmdCBwb3NpdGlvblxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5IC0gdG9wIHBvc2l0aW9uXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGFycm93LmRpcmVjdGlvbiAtIGRpcmVjdGlvbiBvZiBwb3B1cCBhcnJvd1xuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYXJyb3cucG9zaXRpb25dIC0gcmVsYXRpdmUgcG9zaXRpb24gb2YgcG9wdXAgYXJyb3csIGlmIGl0IGlzIG5vdCBzZXQsIGFycm93IGFwcGVhcnMgb24gdGhlIG1pZGRsZSBvZiBwb3B1cFxuICAgICAqL1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHhQb3NJbmZvLngsXG4gICAgICAgIHk6IHlQb3NJbmZvLnksXG4gICAgICAgIGFycm93OiB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IHhQb3NJbmZvLmFycm93RGlyZWN0aW9uLFxuICAgICAgICAgICAgcG9zaXRpb246IHlQb3NJbmZvLmFycm93VG9wXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuLyoqXG4gKiBTZXQgYXJyb3cncyBkaXJlY3Rpb24gYW5kIHBvc2l0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gYXJyb3cgcmVuZGVyaW5nIGRhdGEgZm9yIHBvcHVwIGFycm93XG4gKi9cblNjaGVkdWxlRGV0YWlsUG9wdXAucHJvdG90eXBlLl9zZXRBcnJvd0RpcmVjdGlvbiA9IGZ1bmN0aW9uKGFycm93KSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGFycm93LmRpcmVjdGlvbiB8fCAnYXJyb3ctbGVmdCc7XG4gICAgdmFyIGFycm93RWwgPSBkb211dGlsLmZpbmQoY29uZmlnLmNsYXNzbmFtZSgnLnBvcHVwLWFycm93JyksIHRoaXMubGF5ZXIuY29udGFpbmVyKTtcbiAgICB2YXIgYm9yZGVyRWxlbWVudCA9IGRvbXV0aWwuZmluZChjb25maWcuY2xhc3NuYW1lKCcucG9wdXAtYXJyb3ctYm9yZGVyJyksIGFycm93RWwpO1xuXG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gY29uZmlnLmNsYXNzbmFtZSgnYXJyb3ctbGVmdCcpKSB7XG4gICAgICAgIGRvbXV0aWwucmVtb3ZlQ2xhc3MoYXJyb3dFbCwgY29uZmlnLmNsYXNzbmFtZSgnYXJyb3ctbGVmdCcpKTtcbiAgICAgICAgZG9tdXRpbC5hZGRDbGFzcyhhcnJvd0VsLCBjb25maWcuY2xhc3NuYW1lKGRpcmVjdGlvbikpO1xuICAgIH1cblxuICAgIGlmIChhcnJvdy5wb3NpdGlvbikge1xuICAgICAgICBib3JkZXJFbGVtZW50LnN0eWxlLnRvcCA9IGFycm93LnBvc2l0aW9uICsgJ3B4JztcbiAgICB9XG59O1xuXG4vKipcbiAqIEhpZGUgbGF5ZXJcbiAqL1xuU2NoZWR1bGVEZXRhaWxQb3B1cC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubGF5ZXIuaGlkZSgpO1xuXG4gICAgaWYgKHRoaXMuZ3VpZGUpIHtcbiAgICAgICAgdGhpcy5ndWlkZS5jbGVhckd1aWRlRWxlbWVudCgpO1xuICAgICAgICB0aGlzLmd1aWRlID0gbnVsbDtcbiAgICB9XG5cbiAgICBkb21ldmVudC5vZmYoZG9jdW1lbnQuYm9keSwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTtcbn07XG5cbi8qKlxuICogcmVmcmVzaCBsYXllclxuICovXG5TY2hlZHVsZURldGFpbFBvcHVwLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX3ZpZXdNb2RlbCkge1xuICAgICAgICB0aGlzLmxheWVyLnNldENvbnRlbnQodGhpcy50bXBsKHRoaXMuX3ZpZXdNb2RlbCkpO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU2NoZWR1bGVEZXRhaWxQb3B1cDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy92aWV3L3RlbXBsYXRlL2hlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L3RlbXBsYXRlL2hlbHBlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGVzbGludCBjb21wbGV4aXR5OiAwICovXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgSGVscGVycyBmb3IgaGFuZGxlYmFyIHRlbXBsYXRlcy5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaGFuZGxlYmFycy10ZW1wbGF0ZS1sb2FkZXIvcnVudGltZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMtdGVtcGxhdGUtbG9hZGVyL3J1bnRpbWUvaW5kZXguanNcIik7XG52YXIgZGF0ZXRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZGF0ZXRpbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanNcIik7XG52YXIgY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2NvbW1vbiAqLyBcIi4vc3JjL2pzL2NvbW1vbi9jb21tb24uanNcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpO1xudmFyIG1tYXggPSBNYXRoLm1heDtcbnZhciBTSVhUWV9NSU5VVEVTID0gNjA7XG52YXIgaGVscGVycyA9IHtcbiAgICAvKipcbiAgICAgKiBTdGFtcCBzdXBwbGllZCBvYmplY3RcbiAgICAgKlxuICAgICAqIENvbW1vbmx5IHVzZSBmb3IgcmVuZGVyaW5nIG9iamVjdCdzIHVuaXF1ZSBJRCB0byByZW5kZXJlZCB2aWV3XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIG9iamVjdCB0byBzdGFtcFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHN0YW1wIHZhbHVlXG4gICAgICovXG4gICAgJ3N0YW1wJzogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiB1dGlsLnN0YW1wKG9iaik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgc3VwcGxpZWQgb2JqZWN0IGFyZSBlcXVhbD9cbiAgICAgKiBAcGFyYW0geyp9IGEgLSBhXG4gICAgICogQHBhcmFtIHsqfSBiIC0gYlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSByZXN1bHQgb2Ygb3BlcmF0aW9uXG4gICAgICovXG4gICAgJ2VxdWFsJzogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogT1JcbiAgICAgKiBAcGFyYW0geyp9IGEgLSBhXG4gICAgICogQHBhcmFtIHsqfSBiIC0gYlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBvclxuICAgICAqL1xuICAgICdvcic6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgfHwgYjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQU5EXG4gICAgICogQHBhcmFtIHsqfSBhIC0gYVxuICAgICAqIEBwYXJhbSB7Kn0gYiAtIGJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gb3JcbiAgICAgKi9cbiAgICAnYW5kJzogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gYSAmJiBiO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlIG9iamVjdCBvciBhcHBseSBsb2dpY2FsIG9wZXJhdGlvbiBieSBjdXN0b21pemFibGUgb3BlciBwYXJhbWV0ZXJcbiAgICAgKiBAcGFyYW0geyp9IGEgLSBhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wZXIgLSBvcGVyYXRvciBleCkgJz09JywgJzwnXG4gICAgICogQHBhcmFtIHsqfSBiIC0gYlxuICAgICAqIEBwYXJhbSB7SGFuZGxlYmFyc30gb3B0aW9ucyAtIGhhbmRsZWJhciBvcHRpb25zXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHJlc3VsdCBvZiBvcGVyYXRpb25cbiAgICAgKi9cbiAgICAnZmknOiBmdW5jdGlvbihhLCBvcGVyLCBiLCBvcHRpb25zKSB7XG4gICAgICAgIHN3aXRjaCAob3Blcikge1xuICAgICAgICAgICAgY2FzZSAnPT0nOlxuICAgICAgICAgICAgICAgIHJldHVybiAoYSA9PSBiKSA/IG9wdGlvbnMuZm4odGhpcykgOiBvcHRpb25zLmludmVyc2UodGhpcyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICBjYXNlICc9PT0nOlxuICAgICAgICAgICAgICAgIHJldHVybiAoYSA9PT0gYikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgICAgICAgICAgY2FzZSAnIT09JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKGEgIT09IGIpID8gb3B0aW9ucy5mbih0aGlzKSA6IG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICAgICAgICAgIGNhc2UgJzwnOlxuICAgICAgICAgICAgICAgIHJldHVybiAoYSA8IGIpID8gb3B0aW9ucy5mbih0aGlzKSA6IG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICAgICAgICAgIGNhc2UgJ3x8JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKGEgfHwgYikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBtYXRjaCBvcGVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgaGhtbSBmb3JtYXR0ZWQgdGltZSBzdHJcbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGUgLSBkYXRlIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGZvcm1hdHRlZCB2YWx1ZVxuICAgICAqL1xuICAgICdoaG1tJzogZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZXRpbWUuZm9ybWF0KGRhdGUsICdISDptbScpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYHdpZHRoYCBzdHlsZXNoZWV0IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHdpZHRoIHBlcmNlbnRhZ2VcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBjc3Mgc3R5bGUgcGFydFxuICAgICAqL1xuICAgICdjb21tb24td2lkdGgnOiBmdW5jdGlvbih3aWR0aCkge1xuICAgICAgICByZXR1cm4gZ2V0RWxTaXplKHdpZHRoLCAnJScsICd3aWR0aCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgZWxlbWVudCBsZWZ0IGJhc2VkIG9uIG5hcnJvd1dlZWtlbmRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdmlld01vZGVsIC0gdmlldyBtb2RlbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGdyaWRzIC0gZGF0ZXMgaW5mb3JtYXRpb25cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBlbGVtZW50IGxlZnRcbiAgICAgKi9cbiAgICAnZ3JpZC1sZWZ0JzogZnVuY3Rpb24odmlld01vZGVsLCBncmlkcykge1xuICAgICAgICByZXR1cm4gZ2V0RWxMZWZ0KHZpZXdNb2RlbCwgZ3JpZHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgZWxlbWVudCB3aWR0aCBiYXNlZCBvbiBuYXJyb3dXZWVrZW5kXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHZpZXdNb2RlbCAtIHZpZXcgbW9kZWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBncmlkcyAtIGRhdGVzIGluZm9ybWF0aW9uXG4gICAgICogQHJldHVybnMge251bWJlcn0gZWxlbWVudCB3aWR0aFxuICAgICAqL1xuICAgICdncmlkLXdpZHRoJzogZnVuY3Rpb24odmlld01vZGVsLCBncmlkcykge1xuICAgICAgICByZXR1cm4gZ2V0RWxXaWR0aCh2aWV3TW9kZWwsIGdyaWRzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXNlIGluIHRpbWUuaGJzXG4gICAgICogQHBhcmFtIHtTY2hlZHVsZVZpZXdNb2RlbH0gdmlld01vZGVsIHZpZXdNb2RlbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGVsZW1lbnQgc2l6ZSBjc3MgY2xhc3NcbiAgICAgKi9cbiAgICAndGltZS1zY2hlZHVsZUJsb2NrJzogZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgIHZhciB0b3AgPSBnZXRFbFNpemUodmlld01vZGVsLnRvcCwgJ3B4JywgJ3RvcCcpLFxuICAgICAgICAgICAgbGVmdCA9IGdldEVsU2l6ZSh2aWV3TW9kZWwubGVmdCwgJyUnLCAnbGVmdCcpLFxuICAgICAgICAgICAgd2lkdGggPSBnZXRFbFNpemUodmlld01vZGVsLndpZHRoLCAnJScsICd3aWR0aCcpLFxuICAgICAgICAgICAgaGVpZ2h0ID0gZ2V0RWxTaXplKHZpZXdNb2RlbC5oZWlnaHQsICdweCcsICdoZWlnaHQnKTtcblxuICAgICAgICByZXR1cm4gW3RvcCwgbGVmdCwgd2lkdGgsIGhlaWdodF0uam9pbignOycpO1xuICAgIH0sXG5cbiAgICAnbW9udGgtc2NoZWR1bGVCbG9jayc6IGZ1bmN0aW9uKHZpZXdNb2RlbCwgZ3JpZHMsIGJsb2NrSGVpZ2h0LCBwYWRkaW5nVG9wKSB7XG4gICAgICAgIHZhciB0b3AgPSBnZXRFbFNpemUoKCh2aWV3TW9kZWwudG9wIC0gMSkgKiBibG9ja0hlaWdodCkgKyBwYWRkaW5nVG9wLCAncHgnLCAndG9wJyk7XG4gICAgICAgIHZhciBsZWZ0ID0gZ2V0RWxTaXplKGdyaWRzW3ZpZXdNb2RlbC5sZWZ0XSA/IGdyaWRzW3ZpZXdNb2RlbC5sZWZ0XS5sZWZ0IDogMCwgJyUnLCAnbGVmdCcpO1xuICAgICAgICB2YXIgd2lkdGggPSBnZXRFbFNpemUoZ2V0RWxXaWR0aCh2aWV3TW9kZWwsIGdyaWRzKSwgJyUnLCAnd2lkdGgnKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IGdldEVsU2l6ZSh2aWV3TW9kZWwuaGVpZ2h0LCAncHgnLCAnaGVpZ2h0Jyk7XG5cbiAgICAgICAgcmV0dXJuIFt0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHRdLmpvaW4oJzsnKTtcbiAgICB9LFxuXG4gICAgJ2hvbGlkYXknOiBmdW5jdGlvbihkYXkpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJyc7XG5cbiAgICAgICAgaWYgKGRheSA9PT0gMCkge1xuICAgICAgICAgICAgY3NzQ2xhc3MgPSBjb25maWcuY2xhc3NuYW1lKCdob2xpZGF5LXN1bicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRheSA9PT0gNikge1xuICAgICAgICAgICAgY3NzQ2xhc3MgPSBjb25maWcuY2xhc3NuYW1lKCdob2xpZGF5LXNhdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNzc0NsYXNzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgc3VwcGxpZWQgdHdvIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7Kn0gYSAtIGFcbiAgICAgKiBAcGFyYW0geyp9IGIgLSBiXG4gICAgICogQHJldHVybnMge251bWJlcn0gcmVzdWx0IG9mIG9wZXJhdGlvblxuICAgICAqL1xuICAgICdhZGQnOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBhICsgYjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgc3VwcGxpZWQgdHdvIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7Kn0gYSAtIGFcbiAgICAgKiBAcGFyYW0geyp9IGIgLSBiXG4gICAgICogQHJldHVybnMge251bWJlcn0gcmVzdWx0IG9mIG9wZXJhdGlvblxuICAgICAqL1xuICAgICdtdWx0aXBseSc6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgKiBiO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgc3VwcGxpZWQgdHdvIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7Kn0gYSAtIGFcbiAgICAgKiBAcGFyYW0geyp9IGIgLSBiXG4gICAgICogQHJldHVybnMge251bWJlcn0gcmVzdWx0IG9mIG9wZXJhdGlvblxuICAgICAqL1xuICAgICdkaXZpZGUnOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBhIC8gYjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3Qgc3VwcGxpZWQgdHdvIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7Kn0gYSAtIGFcbiAgICAgKiBAcGFyYW0geyp9IGIgLSBiXG4gICAgICogQHJldHVybnMge251bWJlcn0gcmVzdWx0IG9mIG9wZXJhdGlvblxuICAgICAqL1xuICAgICdzdWJ0cmFjdCc6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgLSBiO1xuICAgIH0sXG5cbiAgICAnZ2V0UmlnaHQnOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBtbWF4KDAsIDEwMCAtIChhICsgYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgY3NzIHByZWZpeCBpbiBnbG9iYWwgY29uZmlndXJhdGlvblxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGNzcyBwcmVmaXhcbiAgICAgKi9cbiAgICAnQ1NTX1BSRUZJWCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY29uZmlnLmNzc1ByZWZpeDtcbiAgICB9LFxuXG4gICAgJ3JldmVyc2UnOiBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICByZXR1cm4gYXJyYXkuc2xpY2UoKS5yZXZlcnNlKCk7XG4gICAgfSxcblxuICAgIC8qKioqKioqKioqXG4gICAgICogRGVmYXVsdCBzY2hlZHVsZSB0ZW1wbGF0ZVxuICAgICAqKioqKioqKioqL1xuXG4gICAgJ21pbGVzdG9uZS10bXBsJzogZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgdmFyIGljb24gPSBjb25maWcuY2xhc3NuYW1lKCdpY29uJyk7XG4gICAgICAgIHZhciBpY29uTmFtZSA9IGNvbmZpZy5jbGFzc25hbWUoJ2ljLW1pbGVzdG9uZScpO1xuXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCInICsgaWNvbiArICcgJyArIGljb25OYW1lICsgJ1wiPjwvc3Bhbj48c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICcgKyBtb2RlbC5iZ0NvbG9yICsgJ1wiPicgKyBjb21tb24uc3RyaXBUYWdzKG1vZGVsLnRpdGxlKSArICc8L3NwYW4+JztcbiAgICB9LFxuXG4gICAgJ21pbGVzdG9uZVRpdGxlLXRtcGwnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzc25hbWUoJ2xlZnQtY29udGVudCcpO1xuXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCInICsgY2xhc3NOYW1lICsgJ1wiPk1pbGVzdG9uZTwvc3Bhbj4nO1xuICAgIH0sXG5cbiAgICAndGFzay10bXBsJzogZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgcmV0dXJuICcjJyArIG1vZGVsLnRpdGxlO1xuICAgIH0sXG5cbiAgICAndGFza1RpdGxlLXRtcGwnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzc25hbWUoJ2xlZnQtY29udGVudCcpO1xuXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCInICsgY2xhc3NOYW1lICsgJ1wiPlRhc2s8L3NwYW4+JztcbiAgICB9LFxuXG4gICAgJ2FsbGRheVRpdGxlLXRtcGwnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzc25hbWUoJ2xlZnQtY29udGVudCcpO1xuXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCInICsgY2xhc3NOYW1lICsgJ1wiPkFsbCBEYXk8L3NwYW4+JztcbiAgICB9LFxuXG4gICAgJ2FsbGRheS10bXBsJzogZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1vbi5zdHJpcFRhZ3MobW9kZWwudGl0bGUpO1xuICAgIH0sXG5cbiAgICAndGltZS10bXBsJzogZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1vbi5zdHJpcFRhZ3MobW9kZWwudGl0bGUpO1xuICAgIH0sXG5cbiAgICAnZ29pbmdEdXJhdGlvbi10bXBsJzogZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgdmFyIGdvaW5nRHVyYXRpb24gPSBtb2RlbC5nb2luZ0R1cmF0aW9uO1xuICAgICAgICB2YXIgaG91ciA9IHBhcnNlSW50KGdvaW5nRHVyYXRpb24gLyBTSVhUWV9NSU5VVEVTLCAxMCk7XG4gICAgICAgIHZhciBtaW51dGVzID0gZ29pbmdEdXJhdGlvbiAlIFNJWFRZX01JTlVURVM7XG5cbiAgICAgICAgcmV0dXJuICdHb2luZ1RpbWUgJyArIGRhdGV0aW1lLmxlYWRpbmdaZXJvKGhvdXIsIDIpICsgJzonICsgZGF0ZXRpbWUubGVhZGluZ1plcm8obWludXRlcywgMik7XG4gICAgfSxcblxuICAgICdjb21pbmdEdXJhdGlvbi10bXBsJzogZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgdmFyIGdvaW5nRHVyYXRpb24gPSBtb2RlbC5nb2luZ0R1cmF0aW9uO1xuICAgICAgICB2YXIgaG91ciA9IHBhcnNlSW50KGdvaW5nRHVyYXRpb24gLyBTSVhUWV9NSU5VVEVTLCAxMCk7XG4gICAgICAgIHZhciBtaW51dGVzID0gZ29pbmdEdXJhdGlvbiAlIFNJWFRZX01JTlVURVM7XG5cbiAgICAgICAgcmV0dXJuICdDb21pbmdUaW1lICcgKyBkYXRldGltZS5sZWFkaW5nWmVybyhob3VyLCAyKSArICc6JyArIGRhdGV0aW1lLmxlYWRpbmdaZXJvKG1pbnV0ZXMsIDIpO1xuICAgIH0sXG5cbiAgICAnbW9udGhNb3JlVGl0bGVEYXRlLXRtcGwnOiBmdW5jdGlvbihkYXRlLCBkYXluYW1lKSB7XG4gICAgICAgIHZhciBjbGFzc0RheSA9IGNvbmZpZy5jbGFzc25hbWUoJ21vbnRoLW1vcmUtdGl0bGUtZGF5Jyk7XG4gICAgICAgIHZhciBjbGFzc0RheUxhYmVsID0gY29uZmlnLmNsYXNzbmFtZSgnbW9udGgtbW9yZS10aXRsZS1kYXktbGFiZWwnKTtcbiAgICAgICAgdmFyIGRheSA9IHV0aWwucGljayhkYXRlLnNwbGl0KCcuJyksIDIpO1xuXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCInICsgY2xhc3NEYXkgKyAnXCI+JyArIGRheSArICc8L3NwYW4+IDxzcGFuIGNsYXNzPVwiJyArIGNsYXNzRGF5TGFiZWwgKyAnXCI+JyArIGRheW5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSxcblxuICAgICdtb250aE1vcmVDbG9zZS10bXBsJzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9LFxuXG4gICAgJ21vbnRoR3JpZEhlYWRlci10bXBsJzogZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBwYXJzZUludChtb2RlbC5kYXRlLnNwbGl0KCctJylbMl0sIDEwKTtcbiAgICAgICAgdmFyIGNsYXNzTmFtZXMgPSBbXTtcblxuICAgICAgICBjbGFzc05hbWVzLnB1c2goY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1ncmlkLWRhdGUnKSk7XG4gICAgICAgIGlmIChtb2RlbC5pc1RvZGF5KSB7XG4gICAgICAgICAgICBjbGFzc05hbWVzLnB1c2goY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheS1ncmlkLWRhdGUtZGVjb3JhdG9yJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIicgKyBjbGFzc05hbWVzLmpvaW4oJyAnKSArICdcIj4nICsgZGF0ZSArICc8L3NwYW4+JztcbiAgICB9LFxuXG4gICAgJ21vbnRoR3JpZEhlYWRlckV4Y2VlZC10bXBsJzogZnVuY3Rpb24oaGlkZGVuU2NoZWR1bGVzKSB7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBjb25maWcuY2xhc3NuYW1lKCd3ZWVrZGF5LWdyaWQtbW9yZS1zY2hlZHVsZXMnKTtcblxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiJyArIGNsYXNzTmFtZSArICdcIj4nICsgaGlkZGVuU2NoZWR1bGVzICsgJyBtb3JlPC9zcGFuPic7XG4gICAgfSxcblxuICAgICdtb250aEdyaWRGb290ZXItdG1wbCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSxcblxuICAgIC8qIGVzbGludCBuby11bnVzZWQtdmFyczogMCAqL1xuICAgICdtb250aEdyaWRGb290ZXJFeGNlZWQtdG1wbCc6IGZ1bmN0aW9uKGhpZGRlblNjaGVkdWxlcykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSxcblxuICAgICdtb250aERheW5hbWUtdG1wbCc6IGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICAgIHJldHVybiBtb2RlbC5sYWJlbDtcbiAgICB9LFxuXG4gICAgJ3dlZWtEYXluYW1lLXRtcGwnOiBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICB2YXIgY2xhc3NEYXRlID0gY29uZmlnLmNsYXNzbmFtZSgnZGF5bmFtZS1kYXRlJyk7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBjb25maWcuY2xhc3NuYW1lKCdkYXluYW1lLW5hbWUnKTtcblxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiJyArIGNsYXNzRGF0ZSArICdcIj4nICsgbW9kZWwuZGF0ZSArICc8L3NwYW4+Jm5ic3A7Jm5ic3A7PHNwYW4gY2xhc3M9XCInICsgY2xhc3NOYW1lICsgJ1wiPicgKyBtb2RlbC5kYXlOYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0sXG5cbiAgICAnd2Vla0dyaWRGb290ZXJFeGNlZWQtdG1wbCc6IGZ1bmN0aW9uKGhpZGRlblNjaGVkdWxlcykge1xuICAgICAgICByZXR1cm4gJysnICsgaGlkZGVuU2NoZWR1bGVzO1xuICAgIH0sXG5cbiAgICAnZGF5R3JpZFRpdGxlLXRtcGwnOiBmdW5jdGlvbih2aWV3TmFtZSkge1xuICAgICAgICB2YXIgdG1wbCA9IEhhbmRsZWJhcnMuaGVscGVyc1t2aWV3TmFtZSArICdUaXRsZS10bXBsJ107XG4gICAgICAgIGlmICh0bXBsKSB7XG4gICAgICAgICAgICByZXR1cm4gdG1wbCh2aWV3TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmlld05hbWU7XG4gICAgfSxcblxuICAgICdzY2hlZHVsZS10bXBsJzogZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgdmFyIHRtcGwgPSBIYW5kbGViYXJzLmhlbHBlcnNbbW9kZWwuY2F0ZWdvcnkgKyAnLXRtcGwnXTtcbiAgICAgICAgaWYgKHRtcGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0bXBsKG1vZGVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9LFxuXG4gICAgJ2NvbGxhcHNlQnRuVGl0bGUtdG1wbCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaWNvbk5hbWUgPSBjb25maWcuY2xhc3NuYW1lKCdpY29uJyk7XG4gICAgICAgIHZhciBjbG9zZUljb25OYW1lID0gY29uZmlnLmNsYXNzbmFtZSgnaWMtYXJyb3ctc29saWQtdG9wJyk7XG5cbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIicgKyBpY29uTmFtZSArICcgJyArIGNsb3NlSWNvbk5hbWUgKyAnXCI+PC9zcGFuPic7XG4gICAgfSxcblxuICAgICd0aW1lem9uZURpc3BsYXlMYWJlbC10bXBsJzogZnVuY3Rpb24odGltZXpvbmVPZmZzZXQsIGRpc3BsYXlMYWJlbCkge1xuICAgICAgICB2YXIgZ210LCBob3VyLCBtaW51dGVzO1xuXG4gICAgICAgIGlmICh1dGlsLmlzVW5kZWZpbmVkKGRpc3BsYXlMYWJlbCkpIHtcbiAgICAgICAgICAgIGdtdCA9IHRpbWV6b25lT2Zmc2V0IDwgMCA/ICctJyA6ICcrJztcbiAgICAgICAgICAgIGhvdXIgPSBNYXRoLmFicyhwYXJzZUludCh0aW1lem9uZU9mZnNldCAvIFNJWFRZX01JTlVURVMsIDEwKSk7XG4gICAgICAgICAgICBtaW51dGVzID0gTWF0aC5hYnModGltZXpvbmVPZmZzZXQgJSBTSVhUWV9NSU5VVEVTKTtcbiAgICAgICAgICAgIGRpc3BsYXlMYWJlbCA9IGdtdCArIGRhdGV0aW1lLmxlYWRpbmdaZXJvKGhvdXIsIDIpICsgJzonICsgZGF0ZXRpbWUubGVhZGluZ1plcm8obWludXRlcywgMik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGlzcGxheUxhYmVsO1xuICAgIH0sXG5cbiAgICAndGltZWdyaWREaXNwbGF5UHJpbWF5VGltZS10bXBsJzogZnVuY3Rpb24odGltZSkge1xuICAgICAgICAvKiBUT0RPOiDsgq3soJwg7ZWE7JqUICh3aWxsIGJlIGRlcHJlY2F0ZWQpICovXG4gICAgICAgIHJldHVybiBIYW5kbGViYXJzLmhlbHBlcnNbJ3RpbWVncmlkRGlzcGxheVByaW1hcnlUaW1lLXRtcGwnXSh0aW1lKTtcbiAgICB9LFxuXG4gICAgJ3RpbWVncmlkRGlzcGxheVByaW1hcnlUaW1lLXRtcGwnOiBmdW5jdGlvbih0aW1lKSB7XG4gICAgICAgIHZhciBob3VyID0gdGltZS5ob3VyO1xuICAgICAgICB2YXIgbWVyaWRpZW0gPSBob3VyID49IDEyID8gJ3BtJyA6ICdhbSc7XG5cbiAgICAgICAgaWYgKGhvdXIgPiAxMikge1xuICAgICAgICAgICAgaG91ciA9IGhvdXIgLSAxMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBob3VyICsgJyAnICsgbWVyaWRpZW07XG4gICAgfSxcblxuICAgICd0aW1lZ3JpZERpc3BsYXlUaW1lLXRtcGwnOiBmdW5jdGlvbih0aW1lKSB7XG4gICAgICAgIHJldHVybiBkYXRldGltZS5sZWFkaW5nWmVybyh0aW1lLmhvdXIsIDIpICsgJzonICsgZGF0ZXRpbWUubGVhZGluZ1plcm8odGltZS5taW51dGVzLCAyKTtcbiAgICB9LFxuXG4gICAgJ3RpbWVncmlkQ3VycmVudFRpbWUtdG1wbCc6IGZ1bmN0aW9uKHRpbWV6b25lKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZXMgPSBbXTtcblxuICAgICAgICBpZiAodGltZXpvbmUuZGF0ZURpZmZlcmVuY2UpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlcy5wdXNoKCdbJyArIHRpbWV6b25lLmRhdGVEaWZmZXJlbmNlU2lnbiArIHRpbWV6b25lLmRhdGVEaWZmZXJlbmNlICsgJ108YnI+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB0ZW1wbGF0ZXMucHVzaChkYXRldGltZS5mb3JtYXQodGltZXpvbmUuaG91cm1hcmtlciwgJ0hIOm1tJykpO1xuXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZXMuam9pbignJyk7XG4gICAgfSxcblxuICAgICdwb3B1cElzQWxsRGF5LXRtcGwnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdBbGwgZGF5JztcbiAgICB9LFxuXG4gICAgJ3BvcHVwU3RhdGVGcmVlLXRtcGwnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdGcmVlJztcbiAgICB9LFxuXG4gICAgJ3BvcHVwU3RhdGVCdXN5LXRtcGwnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdCdXN5JztcbiAgICB9LFxuXG4gICAgJ3RpdGxlUGxhY2Vob2xkZXItdG1wbCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ1N1YmplY3QnO1xuICAgIH0sXG5cbiAgICAnbG9jYXRpb25QbGFjZWhvbGRlci10bXBsJzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAnTG9jYXRpb24nO1xuICAgIH0sXG5cbiAgICAnc3RhcnREYXRlUGxhY2Vob2xkZXItdG1wbCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ1N0YXJ0IGRhdGUnO1xuICAgIH0sXG5cbiAgICAnZW5kRGF0ZVBsYWNlaG9sZGVyLXRtcGwnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdFbmQgZGF0ZSc7XG4gICAgfSxcbiAgICAncG9wdXBTYXZlLXRtcGwnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdTYXZlJztcbiAgICB9LFxuICAgICdwb3B1cFVwZGF0ZS10bXBsJzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAnVXBkYXRlJztcbiAgICB9LFxuICAgICdwb3B1cERldGFpbERhdGUtdG1wbCc6IGZ1bmN0aW9uKGlzQWxsRGF5LCBzdGFydCwgZW5kKSB7XG4gICAgICAgIHZhciBpc1NhbWVEYXRlID0gZGF0ZXRpbWUuaXNTYW1lRGF0ZShzdGFydCwgZW5kKTtcbiAgICAgICAgdmFyIGVuZEZvcm1hdCA9IChpc1NhbWVEYXRlID8gJycgOiAnWVlZWS5NTS5ERCAnKSArICdoaDptbSB0dCc7XG5cbiAgICAgICAgaWYgKGlzQWxsRGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZXRpbWUuZm9ybWF0KHN0YXJ0LCAnWVlZWS5NTS5ERCcpICsgKGlzU2FtZURhdGUgPyAnJyA6ICcgLSAnICsgZGF0ZXRpbWUuZm9ybWF0KGVuZCwgJ1lZWVkuTU0uREQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKGRhdGV0aW1lLmZvcm1hdChzdGFydCwgJ1lZWVkuTU0uREQgaGg6bW0gdHQnKSArICcgLSAnICsgZGF0ZXRpbWUuZm9ybWF0KGVuZCwgZW5kRm9ybWF0KSk7XG4gICAgfSxcbiAgICAncG9wdXBEZXRhaWxMb2NhdGlvbi10bXBsJzogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlLmxvY2F0aW9uO1xuICAgIH0sXG4gICAgJ3BvcHVwRGV0YWlsVXNlci10bXBsJzogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICAgICAgcmV0dXJuIChzY2hlZHVsZS5hdHRlbmRlZXMgfHwgW10pLmpvaW4oJywgJyk7XG4gICAgfSxcbiAgICAncG9wdXBEZXRhaWxTdGF0ZS10bXBsJzogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlLnN0YXRlIHx8ICdCdXN5JztcbiAgICB9LFxuICAgICdwb3B1cERldGFpbFJlcGVhdC10bXBsJzogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlLnJlY3VycmVuY2VSdWxlO1xuICAgIH0sXG4gICAgJ3BvcHVwRGV0YWlsQm9keS10bXBsJzogZnVuY3Rpb24oc2NoZWR1bGUpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlLmJvZHk7XG4gICAgfSxcbiAgICAncG9wdXBFZGl0LXRtcGwnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdFZGl0JztcbiAgICB9LFxuICAgICdwb3B1cERlbGV0ZS10bXBsJzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAnRGVsZXRlJztcbiAgICB9XG59O1xuXG4vKipcbiAqIEdldCBDU1Mgc3ludGF4IGZvciBlbGVtZW50IHNpemVcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHNpemUgdmFsdWUgdG8gYXBwbHkgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHBvc3RmaXggLSBwb3N0Zml4IHN0cmluZyBleCkgcHgsIGVtLCAlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4IC0gcHJvcGVydHkgbmFtZSBleCkgd2lkdGgsIGhlaWdodFxuICogQHJldHVybnMge3N0cmluZ30gQ1NTIHN5bnRheFxuICovXG5mdW5jdGlvbiBnZXRFbFNpemUodmFsdWUsIHBvc3RmaXgsIHByZWZpeCkge1xuICAgIHByZWZpeCA9IHByZWZpeCB8fCAnJztcbiAgICBpZiAodXRpbC5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICc6JyArIHZhbHVlICsgcG9zdGZpeDtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJlZml4ICsgJzphdXRvJztcbn1cblxuLyoqXG4gKiBHZXQgZWxlbWVudCBsZWZ0IGJhc2VkIG9uIG5hcnJvd1dlZWtlbmRcbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWV3TW9kZWwgLSB2aWV3IG1vZGVsXG4gKiBAcGFyYW0ge0FycmF5fSBncmlkcyAtIGRhdGVzIGluZm9ybWF0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBlbGVtZW50IGxlZnRcbiAqL1xuZnVuY3Rpb24gZ2V0RWxMZWZ0KHZpZXdNb2RlbCwgZ3JpZHMpIHtcbiAgICByZXR1cm4gZ3JpZHNbdmlld01vZGVsLmxlZnRdID8gZ3JpZHNbdmlld01vZGVsLmxlZnRdLmxlZnQgOiAwO1xufVxuXG4vKipcbiAqIEdldCBlbGVtZW50IHdpZHRoIGJhc2VkIG9uIG5hcnJvd1dlZWtlbmRcbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWV3TW9kZWwgLSB2aWV3IG1vZGVsXG4gKiBAcGFyYW0ge0FycmF5fSBncmlkcyAtIGRhdGVzIGluZm9ybWF0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBlbGVtZW50IHdpZHRoXG4gKi9cbmZ1bmN0aW9uIGdldEVsV2lkdGgodmlld01vZGVsLCBncmlkcykge1xuICAgIHZhciB3aWR0aCA9IDA7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW5ndGggPSBncmlkcy5sZW5ndGg7XG4gICAgdmFyIGxlZnQ7XG4gICAgZm9yICg7IGkgPCB2aWV3TW9kZWwud2lkdGg7IGkgKz0gMSkge1xuICAgICAgICBsZWZ0ID0gKHZpZXdNb2RlbC5sZWZ0ICsgaSkgJSBsZW5ndGg7XG4gICAgICAgIGxlZnQgKz0gcGFyc2VJbnQoKHZpZXdNb2RlbC5sZWZ0ICsgaSkgLyBsZW5ndGgsIDEwKTtcbiAgICAgICAgaWYgKGxlZnQgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHdpZHRoICs9IGdyaWRzW2xlZnRdID8gZ3JpZHNbbGVmdF0ud2lkdGggOiAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpZHRoO1xufVxuXG5IYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKGhlbHBlcnMpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvbW9udGgvbW9udGguaGJzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvbW9udGgvbW9udGguaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1snZGVmYXVsdCddIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczU9Y29udGFpbmVyLmxhbWJkYSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjQsXCJjb2x1bW5cIjozMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwibW9udGgtZGF5bmFtZS1pdGVtXFxcIlxcbiAgICAgICAgIHN0eWxlPVxcXCJwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ3aWR0aFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ3aWR0aFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwid2lkdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjIzfSxcImVuZFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6MzJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIiU7XFxuICAgICAgICAgICAgICAgIGxlZnQ6IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImxlZnRcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibGVmdFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibGVmdFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6MjJ9LFwiZW5kXCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjozMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJTtcXG4gICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJwYWRkaW5nTGVmdFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG4gICAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwicGFkZGluZ1JpZ2h0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcbiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaGVpZ2h0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ1bmxlc3NcIikuY2FsbChhbGlhczEsKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcImxhc3RcIikpLHtcIm5hbWVcIjpcInVubGVzc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTEsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjoyN319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICAgICAgXFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaG9saWRheVwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJob2xpZGF5XCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJkYXlcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImhvbGlkYXlcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTUsXCJjb2x1bW5cIjoyMX0sXCJlbmRcIjp7XCJsaW5lXCI6MTUsXCJjb2x1bW5cIjozNn19fSkpXG4gICAgKyBcIlxcXCIgc3R5bGU9XFxcImNvbG9yOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJjb2xvclwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJjb2xvclwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY29sb3JcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTUsXCJjb2x1bW5cIjo1Mn0sXCJlbmRcIjp7XCJsaW5lXCI6MTUsXCJjb2x1bW5cIjo2MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiO1xcXCI+XFxuICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJtb250aERheW5hbWUtdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb250aERheW5hbWUtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsZGVwdGgwLHtcIm5hbWVcIjpcIm1vbnRoRGF5bmFtZS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE2LFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjE2LFwiY29sdW1uXCI6NDB9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuICAgICAgICA8L3NwYW4+XFxuICAgIDwvZGl2PlxcblwiO1xufSxcIjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICBib3JkZXItcmlnaHQ6IFwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbihjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJvcmRlckxlZnRcIikpLCBkZXB0aDApKVxuICAgICsgXCI7XFxuXCI7XG59LFwiY29tcGlsZXJcIjpbOCxcIj49IDQuMy4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9Y29udGFpbmVyLmxhbWJkYSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzMigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIm1vbnRoLWRheW5hbWVcXFwiXFxuICAgIHN0eWxlPVxcXCJib3JkZXItdG9wOiBcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJUb3BcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGhlaWdodDogXCJcbiAgICArIGFsaWFzMihhbGlhczMoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaGVpZ2h0XCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBmb250LXNpemU6IFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImZvbnRTaXplXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBiYWNrZ3JvdW5kLWNvbG9yOiBcIlxuICAgICsgYWxpYXMyKGFsaWFzMygoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJiYWNrZ3JvdW5kQ29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IHRleHQtYWxpZ246IFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInRleHRBbGlnblwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgZm9udC13ZWlnaHQ6IFwiXG4gICAgKyBhbGlhczIoYWxpYXMzKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImZvbnRXZWlnaHRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7XFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZWFjaFwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJkYXluYW1lc1wiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjB9LFwiZW5kXCI6e1wibGluZVwiOjE5LFwiY29sdW1uXCI6OX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L2Rpdj5cXG5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy92aWV3L3RlbXBsYXRlL21vbnRoL21vcmUuaGJzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy90ZW1wbGF0ZS9tb250aC9tb3JlLmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1snZGVmYXVsdCddIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZmlcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZmlcIikpfHxjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNBbGxEYXlcIikgOiBzdGFjazEpLFwifHxcIiwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJoYXNNdWx0aURhdGVzXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJmaVwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSg3LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6OSxcImNvbHVtblwiOjh9LFwiZW5kXCI6e1wibGluZVwiOjY1LFwiY29sdW1uXCI6MTV9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzND1jb250YWluZXIubGFtYmRhLCBhbGlhczU9XCJmdW5jdGlvblwiLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGRhdGEtaWQ9XFxcIlwiXG4gICAgKyBhbGlhczMoKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJzdGFtcFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdGFtcFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInN0YW1wXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEwLFwiY29sdW1uXCI6MjZ9LFwiZW5kXCI6e1wibGluZVwiOjEwLFwiY29sdW1uXCI6NDF9fX0pKVxuICAgICsgXCJcXFwiXFxuICAgICAgICAgICAgICAgIGRhdGEtc2NoZWR1bGUtaWQ9XFxcIlwiXG4gICAgKyBhbGlhczMoYWxpYXM0KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaWRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIGRhdGEtY2FsZW5kYXItaWQ9XFxcIlwiXG4gICAgKyBhbGlhczMoYWxpYXM0KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY2FsZW5kYXJJZFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCJcXG4gICAgICAgICAgICAgICAgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczMoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczUgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjIzfSxcImVuZFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjM3fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJtb250aC1tb3JlLXNjaGVkdWxlIFwiXG4gICAgKyBhbGlhczMoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczUgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjU3fSxcImVuZFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjcxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJtb250aC1tb3JlLWFsbGRheSBcIlxuICAgICsgYWxpYXMzKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXM1ID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjo4OX0sXCJlbmRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjoxMDN9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUtdGl0bGVcXFwiXFxuICAgICAgICAgICAgICAgIHN0eWxlPVxcXCJoZWlnaHQ6IFwiXG4gICAgKyBhbGlhczMoYWxpYXM0KCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4OyBsaW5lLWhlaWdodDogXCJcbiAgICArIGFsaWFzMyhhbGlhczQoKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInNjaGVkdWxlSGVpZ2h0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwicHg7IG1hcmdpbi10b3A6IFwiXG4gICAgKyBhbGlhczMoYWxpYXM0KCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUd1dHRlclwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4OyBib3JkZXItcmFkaXVzOiBcIlxuICAgICsgYWxpYXMzKGFsaWFzNCgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyUmFkaXVzXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oNSwgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE0LFwiY29sdW1uXCI6MjB9LFwiZW5kXCI6e1wibGluZVwiOjE4LFwiY29sdW1uXCI6Mjd9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMzKGFsaWFzNCgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImN1c3RvbVN0eWxlXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiYWxsZGF5LXRtcGxcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiYWxsZGF5LXRtcGxcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJhbGxkYXktdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMCxcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjoyMCxcImNvbHVtblwiOjQzfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcblwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOyBiYWNrZ3JvdW5kLWNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJvcmRlci1sZWZ0OjNweCBzb2xpZCBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJvcmRlckNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiO1xufSxcIjVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJhY2tncm91bmQtY29sb3I6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJiZ0NvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBib3JkZXItbGVmdDozcHggc29saWQgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIjtcbn0sXCI3XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcImZpXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImZpXCIpKXx8Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNhdGVnb3J5XCIpIDogc3RhY2sxKSxcIj09PVwiLFwidGltZVwiLHtcIm5hbWVcIjpcImZpXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDgsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDE3LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6NjQsXCJjb2x1bW5cIjoxOX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCI4XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXM0PWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzNT1cImZ1bmN0aW9uXCIsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtaWQ9XFxcIlwiXG4gICAgKyBhbGlhczMoKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJzdGFtcFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdGFtcFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInN0YW1wXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI0LFwiY29sdW1uXCI6MzB9LFwiZW5kXCI6e1wibGluZVwiOjI0LFwiY29sdW1uXCI6NDV9fX0pKVxuICAgICsgXCJcXFwiXFxuICAgICAgICAgICAgICAgICAgICBkYXRhLXNjaGVkdWxlLWlkPVxcXCJcIlxuICAgICsgYWxpYXMzKGFsaWFzNCgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlkXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBkYXRhLWNhbGVuZGFyLWlkPVxcXCJcIlxuICAgICsgYWxpYXMzKGFsaWFzNCgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNhbGVuZGFySWRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzMygoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzNSA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI2LFwiY29sdW1uXCI6Mjd9LFwiZW5kXCI6e1wibGluZVwiOjI2LFwiY29sdW1uXCI6NDF9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIm1vbnRoLW1vcmUtc2NoZWR1bGUgXCJcbiAgICArIGFsaWFzMygoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzNSA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI2LFwiY29sdW1uXCI6NjF9LFwiZW5kXCI6e1wibGluZVwiOjI2LFwiY29sdW1uXCI6NzV9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUgXCJcbiAgICArIGFsaWFzMygoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzNSA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI2LFwiY29sdW1uXCI6OTJ9LFwiZW5kXCI6e1wibGluZVwiOjI2LFwiY29sdW1uXCI6MTA2fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LXNjaGVkdWxlLXRpbWVcXFwiXFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cXFwiaGVpZ2h0OiBcIlxuICAgICsgYWxpYXMzKGFsaWFzNCgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVIZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCJweDsgbGluZS1oZWlnaHQ6IFwiXG4gICAgKyBhbGlhczMoYWxpYXM0KCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4OyBtYXJnaW4tdG9wOiBcIlxuICAgICsgYWxpYXMzKGFsaWFzNCgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVHdXR0ZXJcIikpLCBkZXB0aDApKVxuICAgICsgXCJweDtcIlxuICAgICsgYWxpYXMzKGFsaWFzNCgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImN1c3RvbVN0eWxlXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMzKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXM1ID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjgsXCJjb2x1bW5cIjozM30sXCJlbmRcIjp7XCJsaW5lXCI6MjgsXCJjb2x1bW5cIjo0N319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1zY2hlZHVsZS1idWxsZXRcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XFxcInRvcDogXCJcbiAgICArIGFsaWFzMyhhbGlhczQoKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInNjaGVkdWxlQnVsbGV0VG9wXCIpKSwgZGVwdGgwKSlcbiAgICArIFwicHg7XFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNGb2N1c2VkXCIpIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg5LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSgxMSwgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMwLFwiY29sdW1uXCI6Mjh9LFwiZW5kXCI6e1wibGluZVwiOjM0LFwiY29sdW1uXCI6MzV9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzMygoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzNSA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjM1LFwiY29sdW1uXCI6MzN9LFwiZW5kXCI6e1wibGluZVwiOjM1LFwiY29sdW1uXCI6NDd9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUtdGl0bGVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XFxcIlwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDE1LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzYsXCJjb2x1bW5cIjozMX0sXCJlbmRcIjp7XCJsaW5lXCI6NDEsXCJjb2x1bW5cIjozNX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10aXRsZT1cXFwiXCJcbiAgICArIGFsaWFzMyhhbGlhczQoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJ0aXRsZVwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ0aW1lLXRtcGxcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwidGltZS10bXBsXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwidGltZS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQyLFwiY29sdW1uXCI6NTN9LFwiZW5kXCI6e1wibGluZVwiOjQyLFwiY29sdW1uXCI6NzR9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIjtcbn0sXCI5XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmZmZmZcXG5cIjtcbn0sXCIxMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbihjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyQ29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG59LFwiMTNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxuXCI7XG59LFwiMTVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IzMzMztcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG59LFwiMTdcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczQ9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXM1PVwiZnVuY3Rpb25cIiwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiPGRpdiBkYXRhLWlkPVxcXCJcIlxuICAgICsgYWxpYXMzKChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwic3RhbXBcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3RhbXBcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJzdGFtcFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0NSxcImNvbHVtblwiOjMwfSxcImVuZFwiOntcImxpbmVcIjo0NSxcImNvbHVtblwiOjQ1fX19KSlcbiAgICArIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1zY2hlZHVsZS1pZD1cXFwiXCJcbiAgICArIGFsaWFzMyhhbGlhczQoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJpZFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgZGF0YS1jYWxlbmRhci1pZD1cXFwiXCJcbiAgICArIGFsaWFzMyhhbGlhczQoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjYWxlbmRhcklkXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczMoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczUgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0NyxcImNvbHVtblwiOjI3fSxcImVuZFwiOntcImxpbmVcIjo0NyxcImNvbHVtblwiOjQxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJtb250aC1tb3JlLXNjaGVkdWxlIFwiXG4gICAgKyBhbGlhczMoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczUgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0NyxcImNvbHVtblwiOjYxfSxcImVuZFwiOntcImxpbmVcIjo0NyxcImNvbHVtblwiOjc1fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LXNjaGVkdWxlIFwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTgsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0NyxcImNvbHVtblwiOjkyfSxcImVuZFwiOntcImxpbmVcIjo0NyxcImNvbHVtblwiOjE2MX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXFwiXFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cXFwiaGVpZ2h0OlwiXG4gICAgKyBhbGlhczMoYWxpYXM0KCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4OyBsaW5lLWhlaWdodDpcIlxuICAgICsgYWxpYXMzKGFsaWFzNCgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVIZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCJweDsgYm9yZGVyLXJhZGl1czogXCJcbiAgICArIGFsaWFzMyhhbGlhczQoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyUmFkaXVzXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ1bmxlc3NcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZXhjZWVkTGVmdFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwidW5sZXNzXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIwLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDksXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6NTEsXCJjb2x1bW5cIjozMX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImV4Y2VlZFJpZ2h0XCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJ1bmxlc3NcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMjIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1MixcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjo1NCxcImNvbHVtblwiOjMxfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMjQsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDI2LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTUsXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6NTksXCJjb2x1bW5cIjoyN319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMzKGFsaWFzNCgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImN1c3RvbVN0eWxlXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMzKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXM1ID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NjEsXCJjb2x1bW5cIjozM30sXCJlbmRcIjp7XCJsaW5lXCI6NjEsXCJjb2x1bW5cIjo0N319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1zY2hlZHVsZS10aXRsZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRpdGxlPVxcXCJcIlxuICAgICsgYWxpYXMzKGFsaWFzNCgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInRpdGxlXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcInNjaGVkdWxlLXRtcGxcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic2NoZWR1bGUtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInNjaGVkdWxlLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NjIsXCJjb2x1bW5cIjo2NX0sXCJlbmRcIjp7XCJsaW5lXCI6NjIsXCJjb2x1bW5cIjo5MH19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiO1xufSxcIjE4XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IFwiZnVuY3Rpb25cIiA/IGhlbHBlci5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSkse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0NyxcImNvbHVtblwiOjExNX0sXCJlbmRcIjp7XCJsaW5lXCI6NDcsXCJjb2x1bW5cIjoxMjl9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUtZm9jdXNlZCBcIjtcbn0sXCIyMFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IFwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbihjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcIm1hcmdpbkxlZnRcIikpLCBkZXB0aDApKVxuICAgICsgXCI7XFxuXCI7XG59LFwiMjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwibWFyZ2luUmlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCI7XFxuXCI7XG59LFwiMjRcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOyBiYWNrZ3JvdW5kLWNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJvcmRlci1jb2xvcjpcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiO1xufSxcIjI2XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjpcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBiYWNrZ3JvdW5kLWNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYmdDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYm9yZGVyLWNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyQ29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7XFxuXCI7XG59LFwiY29tcGlsZXJcIjpbOCxcIj49IDQuMy4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzNT1jb250YWluZXIubGFtYmRhLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIm1vbnRoLW1vcmVcXFwiIHN0eWxlPVxcXCJwYWRkaW5nLWJvdHRvbTogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwicGFkZGluZ0JvdHRvbVwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYm9yZGVyOiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJveC1zaGFkb3c6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJveFNoYWRvd1wiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYmFja2dyb3VuZC1jb2xvcjogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYmFja2dyb3VuZENvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyLFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjozMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwibW9udGgtbW9yZS10aXRsZVxcXCJcXG4gICAgICAgIHN0eWxlPVxcXCJoZWlnaHQ6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInRpdGxlSGVpZ2h0XCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBtYXJnaW4tYm90dG9tOiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJ0aXRsZU1hcmdpbkJvdHRvbVwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYmFja2dyb3VuZC1jb2xvcjogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwidGl0bGVCYWNrZ3JvdW5kQ29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJvcmRlci1ib3R0b206IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInRpdGxlQm9yZGVyQm90dG9tXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBwYWRkaW5nOiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJ0aXRsZVBhZGRpbmdcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7XFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NCxcImNvbHVtblwiOjIxfSxcImVuZFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6MzV9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIm1vbnRoLW1vcmUtdGl0bGUtZGF0ZVxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJtb250aE1vcmVUaXRsZURhdGUtdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb250aE1vcmVUaXRsZURhdGUtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZGF0ZVwiKSA6IGRlcHRoMCksKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZGF5bmFtZVwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwibW9udGhNb3JlVGl0bGVEYXRlLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NCxcImNvbHVtblwiOjU4fSxcImVuZFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6MTAwfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvc3Bhbj5cXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjozN30sXCJlbmRcIjp7XCJsaW5lXCI6NSxcImNvbHVtblwiOjUxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJtb250aC1tb3JlLWNsb3NlXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwibW9udGhNb3JlQ2xvc2UtdG1wbFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb250aE1vcmVDbG9zZS10bXBsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJtb250aE1vcmVDbG9zZS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjo2OX0sXCJlbmRcIjp7XCJsaW5lXCI6NSxcImNvbHVtblwiOjk0fX19KSA6IGhlbHBlcikpKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6MzB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIm1vbnRoLW1vcmUtbGlzdFxcXCIgc3R5bGU9XFxcInBhZGRpbmc6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImxpc3RQYWRkaW5nXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBoZWlnaHQ6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImxpc3RIZWlnaHRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7XFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZWFjaFwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzY2hlZHVsZXNcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjo4fSxcImVuZFwiOntcImxpbmVcIjo2NixcImNvbHVtblwiOjE3fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICA8L2Rpdj5cXG48L2Rpdj5cXG5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy92aWV3L3RlbXBsYXRlL21vbnRoL3dlZWtkYXlJbk1vbnRoLmhic1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L3RlbXBsYXRlL21vbnRoL3dlZWtkYXlJbk1vbnRoLmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvcnVudGltZS5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvcnVudGltZS5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbJ2RlZmF1bHQnXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjMwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LWdyaWQtbGluZSBcIlxuICAgICsgYWxpYXM0KChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaG9saWRheVwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJob2xpZGF5XCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJkYXlcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImhvbGlkYXlcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjQ4fSxcImVuZFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6NjN9fX0pKVxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcImZpXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImZpXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJkYXRlXCIpIDogZGVwdGgwKSxcIiE9PVwiLDEse1wibmFtZVwiOlwiZmlcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjo2M30sXCJlbmRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjExOX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaXNUb2RheVwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxMTl9LFwiZW5kXCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxNjF9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImlzT3RoZXJNb250aFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxNjF9LFwiZW5kXCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoyMTN9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxcIlxcbiAgICAgICAgc3R5bGU9XFxcIndpZHRoOlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIndpZHRoXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIndpZHRoXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ3aWR0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo4LFwiY29sdW1uXCI6MjF9LFwiZW5kXCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjozMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJTsgbGVmdDpcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJsZWZ0XCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImxlZnRcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImxlZnRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6OCxcImNvbHVtblwiOjM4fSxcImVuZFwiOntcImxpbmVcIjo4LFwiY29sdW1uXCI6NDZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIiU7IGJhY2tncm91bmQtY29sb3I6IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImJhY2tncm91bmRDb2xvclwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJiYWNrZ3JvdW5kQ29sb3JcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImJhY2tncm91bmRDb2xvclwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo4LFwiY29sdW1uXCI6Njd9LFwiZW5kXCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjo4Nn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiOyBmb250LXNpemU6IFwiXG4gICAgKyBhbGlhczQoY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJmb250U2l6ZVwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMxLChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJsYXN0XCIpKSx7XCJuYW1lXCI6XCJ1bmxlc3NcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oOCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjksXCJjb2x1bW5cIjo4fSxcImVuZFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjE5fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMyxcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjoxMyxcImNvbHVtblwiOjM0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LWdyaWQtaGVhZGVyXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBzdHlsZT1cXFwiY29sb3I6IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImNvbG9yXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImNvbG9yXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjb2xvclwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjMyfSxcImVuZFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjQxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCI7XFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcIm1vbnRoR3JpZEhlYWRlci10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vbnRoR3JpZEhlYWRlci10bXBsXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSxkZXB0aDAse1wibmFtZVwiOlwibW9udGhHcmlkSGVhZGVyLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTQsXCJjb2x1bW5cIjo0NH0sXCJlbmRcIjp7XCJsaW5lXCI6MTQsXCJjb2x1bW5cIjo3NX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+XFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImhpZGRlblNjaGVkdWxlc1wiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTAsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNSxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxNyxcImNvbHVtblwiOjE5fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTksXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6MTksXCJjb2x1bW5cIjozNH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1ncmlkLWZvb3RlclxcXCI+XFxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9XFxcImNvbG9yOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJjb2xvclwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJjb2xvclwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY29sb3JcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjAsXCJjb2x1bW5cIjozMn0sXCJlbmRcIjp7XCJsaW5lXCI6MjAsXCJjb2x1bW5cIjo0MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiO1xcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJtb250aEdyaWRGb290ZXItdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb250aEdyaWRGb290ZXItdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsZGVwdGgwLHtcIm5hbWVcIjpcIm1vbnRoR3JpZEZvb3Rlci10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIwLFwiY29sdW1uXCI6NDR9LFwiZW5kXCI6e1wibGluZVwiOjIwLFwiY29sdW1uXCI6NzV9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9zcGFuPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJoaWRkZW5TY2hlZHVsZXNcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjoxOX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjg0fSxcImVuZFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6OTh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIm5lYXItbW9udGgtZGF5XCI7XG59LFwiNFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiIFwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxMzV9LFwiZW5kXCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxNDl9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRvZGF5XCI7XG59LFwiNlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiIFwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxODJ9LFwiZW5kXCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxOTZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImV4dHJhLWRhdGVcIjtcbn0sXCI4XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgIGJvcmRlci1yaWdodDpcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJMZWZ0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiO1xufSxcIjEwXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjoyOX0sXCJlbmRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjo0M319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1leGNlZWQtaW4tbW9udGhcXFwiIGRhdGEteW1kPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ5bWRcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwieW1kXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ5bWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjo3OH0sXCJlbmRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjo4NX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcIm1vbnRoR3JpZEhlYWRlckV4Y2VlZC10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vbnRoR3JpZEhlYWRlckV4Y2VlZC10bXBsXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJoaWRkZW5TY2hlZHVsZXNcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcIm1vbnRoR3JpZEhlYWRlckV4Y2VlZC10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE2LFwiY29sdW1uXCI6ODd9LFwiZW5kXCI6e1wibGluZVwiOjE2LFwiY29sdW1uXCI6MTM1fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvc3Bhbj5cXG5cIjtcbn0sXCIxMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIyLFwiY29sdW1uXCI6Mjl9LFwiZW5kXCI6e1wibGluZVwiOjIyLFwiY29sdW1uXCI6NDN9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktZXhjZWVkLWluLW1vbnRoXFxcIiBkYXRhLXltZD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwieW1kXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInltZFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwieW1kXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIyLFwiY29sdW1uXCI6Nzh9LFwiZW5kXCI6e1wibGluZVwiOjIyLFwiY29sdW1uXCI6ODV9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJtb250aEdyaWRGb290ZXJFeGNlZWQtdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb250aEdyaWRGb290ZXJFeGNlZWQtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaGlkZGVuU2NoZWR1bGVzXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJtb250aEdyaWRGb290ZXJFeGNlZWQtdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMixcImNvbHVtblwiOjg3fSxcImVuZFwiOntcImxpbmVcIjoyMixcImNvbHVtblwiOjEzNX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+XFxuXCI7XG59LFwiY29tcGlsZXJcIjpbOCxcIj49IDQuMy4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjoyNn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1ib3JkZXJcXFwiXFxuICAgIHN0eWxlPVxcXCJcXG4gICAgYm9yZGVyLXRvcDogXCJcbiAgICArIGFsaWFzNChjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJvcmRlclRvcFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cXFwiPjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1LFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjoyNn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1ncmlkXFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZWFjaFwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJkYXRlc1wiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjB9LFwiZW5kXCI6e1wibGluZVwiOjI2LFwiY29sdW1uXCI6MTF9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI4LFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjI4LFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGVzXFxcIj48L2Rpdj5cXG5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy92aWV3L3RlbXBsYXRlL21vbnRoL3dlZWtkYXlJbk1vbnRoU2NoZWR1bGUuaGJzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy90ZW1wbGF0ZS9tb250aC93ZWVrZGF5SW5Nb250aFNjaGVkdWxlLmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1snZGVmYXVsdCddIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJlYWNoXCIpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSxkZXB0aDAse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MixcImNvbHVtblwiOjB9LFwiZW5kXCI6e1wibGluZVwiOjgwLFwiY29sdW1uXCI6MTF9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiXFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImVhY2hcIikuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLGRlcHRoMCx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6MH0sXCJlbmRcIjp7XCJsaW5lXCI6NzksXCJjb2x1bW5cIjoxMX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCIzXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCJcXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLGRlcHRoMCx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg0LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NCxcImNvbHVtblwiOjB9LFwiZW5kXCI6e1wibGluZVwiOjc4LFwiY29sdW1uXCI6OX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCI0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCJcXG5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcImZpXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImZpXCIpKXx8Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ0b3BcIikgOiBkZXB0aDApLFwiPFwiLCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJyZW5kZXJMaW1pdElkeFwiKSkse1wibmFtZVwiOlwiZmlcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjo0fSxcImVuZFwiOntcImxpbmVcIjo3NyxcImNvbHVtblwiOjEzfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczQ9XCJmdW5jdGlvblwiLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGRhdGEtaWQ9XFxcIlwiXG4gICAgKyBhbGlhczMoKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJzdGFtcFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdGFtcFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInN0YW1wXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjoxOH0sXCJlbmRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjMzfX19KSlcbiAgICArIFwiXFxcIlxcbiAgICAgICAgIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMzKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXM0ID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6MzB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUtYmxvY2tcXG4gICAgICAgICAgICAgICAgXCJcbiAgICArIGFsaWFzMygoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzNCA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6OCxcImNvbHVtblwiOjMwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LXNjaGVkdWxlLWJsb2NrLVwiXG4gICAgKyBhbGlhczMoKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJzdGFtcFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdGFtcFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInN0YW1wXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjo1M30sXCJlbmRcIjp7XCJsaW5lXCI6OCxcImNvbHVtblwiOjY4fX19KSlcbiAgICArIFwiXFxuICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImV4Y2VlZExlZnRcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDYsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo5LFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjksXCJjb2x1bW5cIjo3MX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXG4gICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZXhjZWVkUmlnaHRcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDgsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMCxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxMCxcImNvbHVtblwiOjczfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcXCJcXG4gICAgICAgICBzdHlsZT1cXFwiXCJcbiAgICArIGFsaWFzMygobG9va3VwUHJvcGVydHkoaGVscGVycyxcIm1vbnRoLXNjaGVkdWxlQmxvY2tcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9udGgtc2NoZWR1bGVCbG9ja1wiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsZGVwdGgwLCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJkYXRlc1wiKSksKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInNjaGVkdWxlQmxvY2tIZWlnaHRcIikpLCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJncmlkSGVhZGVySGVpZ2h0XCIpKSx7XCJuYW1lXCI6XCJtb250aC1zY2hlZHVsZUJsb2NrXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjExLFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjExLFwiY29sdW1uXCI6MTA1fX19KSlcbiAgICArIFwiO1xcbiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOlwiXG4gICAgKyBhbGlhczMoY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVCbG9ja0d1dHRlclwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4XFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcImZpXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImZpXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzQWxsRGF5XCIpIDogc3RhY2sxKSxcInx8XCIsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaGFzTXVsdGlEYXRlc1wiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZmlcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTAsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDIzLCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjo4fSxcImVuZFwiOntcImxpbmVcIjo3NSxcImNvbHVtblwiOjE1fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICA8L2Rpdj5cXG5cIjtcbn0sXCI2XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6OSxcImNvbHVtblwiOjMxfSxcImVuZFwiOntcImxpbmVcIjo5LFwiY29sdW1uXCI6NDV9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktZXhjZWVkLWxlZnRcIjtcbn0sXCI4XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTAsXCJjb2x1bW5cIjozMn0sXCJlbmRcIjp7XCJsaW5lXCI6MTAsXCJjb2x1bW5cIjo0Nn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1leGNlZWQtcmlnaHRcIjtcbn0sXCIxMFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXM0PWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczU9XCJmdW5jdGlvblwiLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgIDxkaXYgZGF0YS1zY2hlZHVsZS1pZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJpZFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgZGF0YS1jYWxlbmRhci1pZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjYWxlbmRhcklkXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzMigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzNCksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzNSA/IGhlbHBlci5jYWxsKGFsaWFzMyx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE0LFwiY29sdW1uXCI6OTJ9LFwiZW5kXCI6e1wibGluZVwiOjE0LFwiY29sdW1uXCI6MTA2fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LXNjaGVkdWxlIFwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjEyM30sXCJlbmRcIjp7XCJsaW5lXCI6MTQsXCJjb2x1bW5cIjoxOTJ9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxcIlxcbiAgICAgICAgICAgICBzdHlsZT1cXFwiaGVpZ2h0OlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4OyBsaW5lLWhlaWdodDpcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVIZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCJweDsgYm9yZGVyLXJhZGl1czogXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyUmFkaXVzXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ1bmxlc3NcIikuY2FsbChhbGlhczMsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZXhjZWVkTGVmdFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwidW5sZXNzXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6MTgsXCJjb2x1bW5cIjoyN319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMzLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImV4Y2VlZFJpZ2h0XCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJ1bmxlc3NcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTUsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxOSxcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjoyMSxcImNvbHVtblwiOjI3fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTcsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDE5LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjIsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6MjYsXCJjb2x1bW5cIjoyM319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY3VzdG9tU3R5bGVcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMyKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXM0KSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXM1ID8gaGVscGVyLmNhbGwoYWxpYXMzLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjgsXCJjb2x1bW5cIjoyNX0sXCJlbmRcIjp7XCJsaW5lXCI6MjgsXCJjb2x1bW5cIjozOX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1zY2hlZHVsZS10aXRsZVxcXCJcXG4gICAgICAgICAgICAgICAgICBkYXRhLXRpdGxlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInRpdGxlXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcImFsbGRheS10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImFsbGRheS10bXBsXCIpKXx8YWxpYXM0KS5jYWxsKGFsaWFzMywoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiYWxsZGF5LXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjksXCJjb2x1bW5cIjo0N30sXCJlbmRcIjp7XCJsaW5lXCI6MjksXCJjb2x1bW5cIjo3MH19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+XFxuICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInVubGVzc1wiKS5jYWxsKGFsaWFzMywobG9va3VwUHJvcGVydHkoaGVscGVycyxcIm9yXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm9yXCIpKXx8YWxpYXM0KS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNSZWFkT25seVwiKSksKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJpc1JlYWRPbmx5XCIpIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJvclwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMCxcImNvbHVtblwiOjIyfSxcImVuZFwiOntcImxpbmVcIjozMCxcImNvbHVtblwiOjYwfX19KSx7XCJuYW1lXCI6XCJ1bmxlc3NcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMjEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMCxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjozMCxcImNvbHVtblwiOjE5NH19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXG4gICAgICAgIDwvZGl2PlxcblwiO1xufSxcIjExXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IFwiZnVuY3Rpb25cIiA/IGhlbHBlci5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSkse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjE0Nn0sXCJlbmRcIjp7XCJsaW5lXCI6MTQsXCJjb2x1bW5cIjoxNjB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUtZm9jdXNlZCBcIjtcbn0sXCIxM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwibWFyZ2luTGVmdFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIjtcbn0sXCIxNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IFwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbihjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcIm1hcmdpblJpZ2h0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiO1xufSxcIjE3XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOyBiYWNrZ3JvdW5kLWNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJvcmRlci1jb2xvcjpcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiO1xufSxcIjE5XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIGNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJhY2tncm91bmQtY29sb3I6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJiZ0NvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBib3JkZXItY29sb3I6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIjtcbn0sXCIyMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMxKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjo3NX0sXCJlbmRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjo4OX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1yZXNpemUtaGFuZGxlIGhhbmRsZS15XFxcIiBzdHlsZT1cXFwibGluZS1oZWlnaHQ6IFwiXG4gICAgKyBhbGlhczEoY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVIZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCJweDtcXFwiPiZuYnNwOzwvc3Bhbj5cIjtcbn0sXCIyM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJmaVwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJmaVwiKSl8fGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjYXRlZ29yeVwiKSA6IHN0YWNrMSksXCI9PT1cIixcInRpbWVcIix7XCJuYW1lXCI6XCJmaVwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyNCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oMzMsIGRhdGEsIDApLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMyxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjo3NCxcImNvbHVtblwiOjE5fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjI0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzMz1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczQ9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzNT1cImZ1bmN0aW9uXCIsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtc2NoZWR1bGUtaWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaWRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIGRhdGEtY2FsZW5kYXItaWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY2FsZW5kYXJJZFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczIoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczQpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczUgPyBoZWxwZXIuY2FsbChhbGlhczMse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozNCxcImNvbHVtblwiOjEwMH0sXCJlbmRcIjp7XCJsaW5lXCI6MzQsXCJjb2x1bW5cIjoxMTR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUgXCJcbiAgICArIGFsaWFzMigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzNCksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzNSA/IGhlbHBlci5jYWxsKGFsaWFzMyx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjM0LFwiY29sdW1uXCI6MTMxfSxcImVuZFwiOntcImxpbmVcIjozNCxcImNvbHVtblwiOjE0NX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1zY2hlZHVsZS10aW1lXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XFxcImhlaWdodDpcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVIZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCJweDsgbGluZS1oZWlnaHQ6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInNjaGVkdWxlSGVpZ2h0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwicHg7IFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY3VzdG9tU3R5bGVcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczIoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczQpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczUgPyBoZWxwZXIuY2FsbChhbGlhczMse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozNixcImNvbHVtblwiOjMzfSxcImVuZFwiOntcImxpbmVcIjozNixcImNvbHVtblwiOjQ3fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LXNjaGVkdWxlLWJ1bGxldFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cXFwidG9wOiBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUJ1bGxldFRvcFwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4O1xcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMjUsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDI3LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzgsXCJjb2x1bW5cIjoyOH0sXCJlbmRcIjp7XCJsaW5lXCI6NDIsXCJjb2x1bW5cIjozNX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMyKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXM0KSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXM1ID8gaGVscGVyLmNhbGwoYWxpYXMzLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDUsXCJjb2x1bW5cIjozM30sXCJlbmRcIjp7XCJsaW5lXCI6NDUsXCJjb2x1bW5cIjo0N319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1zY2hlZHVsZS10aXRsZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cXFwiXFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNGb2N1c2VkXCIpIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyOSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oMzEsIGRhdGEsIDApLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0NyxcImNvbHVtblwiOjI4fSxcImVuZFwiOntcImxpbmVcIjo1MixcImNvbHVtblwiOjM1fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10aXRsZT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJ0aXRsZVwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ0aW1lLXRtcGxcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwidGltZS10bXBsXCIpKXx8YWxpYXM0KS5jYWxsKGFsaWFzMywoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwidGltZS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjU0LFwiY29sdW1uXCI6NTN9LFwiZW5kXCI6e1wibGluZVwiOjU0LFwiY29sdW1uXCI6NzR9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIjtcbn0sXCIyNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmXFxuXCI7XG59LFwiMjdcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDpcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJvcmRlckNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxuXCI7XG59LFwiMjlcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxuXCI7XG59LFwiMzFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IzMzMztcXG5cIjtcbn0sXCIzM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXM0PWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczU9XCJmdW5jdGlvblwiLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGRhdGEtc2NoZWR1bGUtaWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaWRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIGRhdGEtY2FsZW5kYXItaWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY2FsZW5kYXJJZFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczIoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczQpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczUgPyBoZWxwZXIuY2FsbChhbGlhczMse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1NyxcImNvbHVtblwiOjEwMH0sXCJlbmRcIjp7XCJsaW5lXCI6NTcsXCJjb2x1bW5cIjoxMTR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUgXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMzLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNGb2N1c2VkXCIpIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjU3LFwiY29sdW1uXCI6MTMxfSxcImVuZFwiOntcImxpbmVcIjo1NyxcImNvbHVtblwiOjIwMH19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXFwiXFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cXFwiaGVpZ2h0OlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4OyBsaW5lLWhlaWdodDpcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVIZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCJweDsgYm9yZGVyLXJhZGl1czogXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyUmFkaXVzXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ1bmxlc3NcIikuY2FsbChhbGlhczMsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZXhjZWVkTGVmdFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwidW5sZXNzXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDM0LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTksXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6NjEsXCJjb2x1bW5cIjozMX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMzLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImV4Y2VlZFJpZ2h0XCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJ1bmxlc3NcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMzYsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2MixcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjo2NCxcImNvbHVtblwiOjMxfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMywoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMzgsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDQwLCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NjUsXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6NjksXCJjb2x1bW5cIjoyN319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImN1c3RvbVN0eWxlXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMyKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXM0KSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXM1ID8gaGVscGVyLmNhbGwoYWxpYXMzLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NzEsXCJjb2x1bW5cIjozM30sXCJlbmRcIjp7XCJsaW5lXCI6NzEsXCJjb2x1bW5cIjo0N319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1zY2hlZHVsZS10aXRsZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRpdGxlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInRpdGxlXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcInNjaGVkdWxlLXRtcGxcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic2NoZWR1bGUtdG1wbFwiKSl8fGFsaWFzNCkuY2FsbChhbGlhczMsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInNjaGVkdWxlLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NzIsXCJjb2x1bW5cIjo2NX0sXCJlbmRcIjp7XCJsaW5lXCI6NzIsXCJjb2x1bW5cIjo5MH19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiO1xufSxcIjM0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwibWFyZ2luTGVmdFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIjtcbn0sXCIzNlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiBcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJtYXJnaW5SaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIjtcbn0sXCIzOFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7IGJhY2tncm91bmQtY29sb3I6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYm9yZGVyLWNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7XFxuXCI7XG59LFwiNDBcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJhY2tncm91bmQtY29sb3I6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJiZ0NvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBib3JkZXItY29sb3I6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIjtcbn0sXCJjb21waWxlclwiOls4LFwiPj0gNC4zLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZWFjaFwiKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibWF0cmljZXNcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjowfSxcImVuZFwiOntcImxpbmVcIjo4MSxcImNvbHVtblwiOjExfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvcG9wdXAvc2NoZWR1bGVDcmVhdGlvblBvcHVwLmhic1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy90ZW1wbGF0ZS9wb3B1cC9zY2hlZHVsZUNyZWF0aW9uUG9wdXAuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvcnVudGltZS5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvcnVudGltZS5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbJ2RlZmF1bHQnXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjE1MH0sXCJlbmRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjE2NH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaGlkZVwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjMxfSxcImVuZFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjQ1fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1zZWN0aW9uLWl0ZW0gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjExLFwiY29sdW1uXCI6NjR9LFwiZW5kXCI6e1wibGluZVwiOjExLFwiY29sdW1uXCI6Nzh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImRyb3Bkb3duLW1lbnUtaXRlbVxcXCIgZGF0YS1jYWxlbmRhci1pZD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWRcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaWRcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjExLFwiY29sdW1uXCI6MTE2fSxcImVuZFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjEyMn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6Mzd9LFwiZW5kXCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6NTF9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljb24gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6NTZ9LFwiZW5kXCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6NzB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImNhbGVuZGFyLWRvdFxcXCIgc3R5bGU9XFxcImJhY2tncm91bmQtY29sb3I6IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImJnQ29sb3JcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiYmdDb2xvclwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiYmdDb2xvclwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjEwOX0sXCJlbmRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjoxMjB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjozN30sXCJlbmRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjo1MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiY29udGVudFxcXCI+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwibmFtZVwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJuYW1lXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJuYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6NjB9LFwiZW5kXCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6Njh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XFxuXCI7XG59LFwiNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiIFwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIzLFwiY29sdW1uXCI6MTM1fSxcImVuZFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjE0OX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicHVibGljXCI7XG59LFwiN1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiIGNoZWNrZWRcIjtcbn0sXCI5XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInN0YXRlXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0YXRlXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJzdGF0ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1NCxcImNvbHVtblwiOjk5fSxcImVuZFwiOntcImxpbmVcIjo1NCxcImNvbHVtblwiOjEwOH19fSkgOiBoZWxwZXIpKSk7XG59LFwiMTFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInBvcHVwU3RhdGVCdXN5LXRtcGxcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwicG9wdXBTdGF0ZUJ1c3ktdG1wbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IFwiZnVuY3Rpb25cIiA/IGhlbHBlci5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSkse1wibmFtZVwiOlwicG9wdXBTdGF0ZUJ1c3ktdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1NCxcImNvbHVtblwiOjExNn0sXCJlbmRcIjp7XCJsaW5lXCI6NTQsXCJjb2x1bW5cIjoxNDF9fX0pIDogaGVscGVyKSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCIxM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwicG9wdXBVcGRhdGUtdG1wbFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJwb3B1cFVwZGF0ZS10bXBsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJwb3B1cFVwZGF0ZS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjY5LFwiY29sdW1uXCI6MTYzfSxcImVuZFwiOntcImxpbmVcIjo2OSxcImNvbHVtblwiOjE4NX19fSkgOiBoZWxwZXIpKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjE1XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiAoKHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJwb3B1cFNhdmUtdG1wbFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJwb3B1cFNhdmUtdG1wbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IFwiZnVuY3Rpb25cIiA/IGhlbHBlci5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSkse1wibmFtZVwiOlwicG9wdXBTYXZlLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NjksXCJjb2x1bW5cIjoxOTN9LFwiZW5kXCI6e1wibGluZVwiOjY5LFwiY29sdW1uXCI6MjEzfX19KSA6IGhlbHBlcikpKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwiY29tcGlsZXJcIjpbOCxcIj49IDQuMy4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzNT1jb250YWluZXIubGFtYmRhLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6MixcImNvbHVtblwiOjMwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1jb250YWluZXJcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjM0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1zZWN0aW9uIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6NDh9LFwiZW5kXCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjo2Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiZHJvcGRvd24gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjo3MX0sXCJlbmRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjg1fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjbG9zZSBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjkxfSxcImVuZFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6MTA1fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJzZWN0aW9uLWNhbGVuZGFyXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInVubGVzc1wiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImNhbGVuZGFyc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJsZW5ndGhcIikgOiBzdGFjazEpLHtcIm5hbWVcIjpcInVubGVzc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjEyMX0sXCJlbmRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjE3OX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXFwiPlxcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6Mjd9LFwiZW5kXCI6e1wibGluZVwiOjQsXCJjb2x1bW5cIjo0MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiYnV0dG9uIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6NDh9LFwiZW5kXCI6e1wibGluZVwiOjQsXCJjb2x1bW5cIjo2Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiZHJvcGRvd24tYnV0dG9uIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6Nzh9LFwiZW5kXCI6e1wibGluZVwiOjQsXCJjb2x1bW5cIjo5Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtc2VjdGlvbi1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1LFwiY29sdW1uXCI6Mjl9LFwiZW5kXCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjo0M319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NSxcImNvbHVtblwiOjQ4fSxcImVuZFwiOntcImxpbmVcIjo1LFwiY29sdW1uXCI6NjJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImNhbGVuZGFyLWRvdFxcXCIgc3R5bGU9XFxcImJhY2tncm91bmQtY29sb3I6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic2VsZWN0ZWRDYWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYmdDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjoyNn0sXCJlbmRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjQwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJzY2hlZHVsZS1jYWxlbmRhclxcXCIgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6NjZ9LFwiZW5kXCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjo4MH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiY29udGVudFxcXCI+XCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzZWxlY3RlZENhbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJuYW1lXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoyOX0sXCJlbmRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjQzfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJpY29uIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6NDh9LFwiZW5kXCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjo2Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiZHJvcGRvd24tYXJyb3dcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICA8dWwgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo5LFwiY29sdW1uXCI6MjN9LFwiZW5kXCI6e1wibGluZVwiOjksXCJjb2x1bW5cIjozN319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiZHJvcGRvd24tbWVudVxcXCIgc3R5bGU9XFxcInotaW5kZXg6IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInpJbmRleFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ6SW5kZXhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInpJbmRleFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo5LFwiY29sdW1uXCI6Njh9LFwiZW5kXCI6e1wibGluZVwiOjksXCJjb2x1bW5cIjo3OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZWFjaFwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJjYWxlbmRhcnNcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEwLFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjE1LFwiY29sdW1uXCI6MjV9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgPC91bD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE4LFwiY29sdW1uXCI6MjB9LFwiZW5kXCI6e1wibGluZVwiOjE4LFwiY29sdW1uXCI6MzR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxOSxcImNvbHVtblwiOjI0fSxcImVuZFwiOntcImxpbmVcIjoxOSxcImNvbHVtblwiOjM4fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1zZWN0aW9uLWl0ZW0gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE5LFwiY29sdW1uXCI6NTd9LFwiZW5kXCI6e1wibGluZVwiOjE5LFwiY29sdW1uXCI6NzF9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInNlY3Rpb24tdGl0bGVcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjAsXCJjb2x1bW5cIjoyNX0sXCJlbmRcIjp7XCJsaW5lXCI6MjAsXCJjb2x1bW5cIjozOX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjAsXCJjb2x1bW5cIjo0NH0sXCJlbmRcIjp7XCJsaW5lXCI6MjAsXCJjb2x1bW5cIjo1OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWMtdGl0bGVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjoyN30sXCJlbmRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjo0MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwic2NoZWR1bGUtdGl0bGVcXFwiIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjo2NH0sXCJlbmRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjo3OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiY29udGVudFxcXCIgcGxhY2Vob2xkZXI9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInRpdGxlUGxhY2Vob2xkZXItdG1wbFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ0aXRsZVBsYWNlaG9sZGVyLXRtcGxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInRpdGxlUGxhY2Vob2xkZXItdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMSxcImNvbHVtblwiOjEwMH0sXCJlbmRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjoxMjV9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInRpdGxlXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRpdGxlXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMSxcImNvbHVtblwiOjEzNH0sXCJlbmRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjoxNDN9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIzLFwiY29sdW1uXCI6MjR9LFwiZW5kXCI6e1wibGluZVwiOjIzLFwiY29sdW1uXCI6Mzh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInNjaGVkdWxlLXByaXZhdGVcXFwiIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjo2M30sXCJlbmRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjo3N319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiYnV0dG9uIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjg0fSxcImVuZFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjk4fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJzZWN0aW9uLXByaXZhdGVcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImlzUHJpdmF0ZVwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwidW5sZXNzXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDUsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjExM30sXCJlbmRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjoxNjZ9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI0LFwiY29sdW1uXCI6MjV9LFwiZW5kXCI6e1wibGluZVwiOjI0LFwiY29sdW1uXCI6Mzl9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljb24gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI0LFwiY29sdW1uXCI6NDR9LFwiZW5kXCI6e1wibGluZVwiOjI0LFwiY29sdW1uXCI6NTh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljLXByaXZhdGVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI3LFwiY29sdW1uXCI6MjB9LFwiZW5kXCI6e1wibGluZVwiOjI3LFwiY29sdW1uXCI6MzR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyOCxcImNvbHVtblwiOjI0fSxcImVuZFwiOntcImxpbmVcIjoyOCxcImNvbHVtblwiOjM4fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1zZWN0aW9uLWl0ZW0gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI4LFwiY29sdW1uXCI6NTd9LFwiZW5kXCI6e1wibGluZVwiOjI4LFwiY29sdW1uXCI6NzF9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInNlY3Rpb24tbG9jYXRpb25cXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjksXCJjb2x1bW5cIjoyNX0sXCJlbmRcIjp7XCJsaW5lXCI6MjksXCJjb2x1bW5cIjozOX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjksXCJjb2x1bW5cIjo0NH0sXCJlbmRcIjp7XCJsaW5lXCI6MjksXCJjb2x1bW5cIjo1OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWMtbG9jYXRpb25cXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjoyN30sXCJlbmRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjo0MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwic2NoZWR1bGUtbG9jYXRpb25cXFwiIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjo2N30sXCJlbmRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjo4MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiY29udGVudFxcXCIgcGxhY2Vob2xkZXI9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImxvY2F0aW9uUGxhY2Vob2xkZXItdG1wbFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJsb2NhdGlvblBsYWNlaG9sZGVyLXRtcGxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImxvY2F0aW9uUGxhY2Vob2xkZXItdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMCxcImNvbHVtblwiOjEwM30sXCJlbmRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjoxMzF9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImxvY2F0aW9uXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImxvY2F0aW9uXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJsb2NhdGlvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMCxcImNvbHVtblwiOjE0MH0sXCJlbmRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjoxNTJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMyxcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjozMyxcImNvbHVtblwiOjM0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzQsXCJjb2x1bW5cIjoyNH0sXCJlbmRcIjp7XCJsaW5lXCI6MzQsXCJjb2x1bW5cIjozOH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtc2VjdGlvbi1pdGVtIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozNCxcImNvbHVtblwiOjU3fSxcImVuZFwiOntcImxpbmVcIjozNCxcImNvbHVtblwiOjcxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJzZWN0aW9uLXN0YXJ0LWRhdGVcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjM1LFwiY29sdW1uXCI6Mjl9LFwiZW5kXCI6e1wibGluZVwiOjM1LFwiY29sdW1uXCI6NDN9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljb24gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjM1LFwiY29sdW1uXCI6NDh9LFwiZW5kXCI6e1wibGluZVwiOjM1LFwiY29sdW1uXCI6NjJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljLWRhdGVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzYsXCJjb2x1bW5cIjoyN30sXCJlbmRcIjp7XCJsaW5lXCI6MzYsXCJjb2x1bW5cIjo0MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwic2NoZWR1bGUtc3RhcnQtZGF0ZVxcXCIgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozNixcImNvbHVtblwiOjY5fSxcImVuZFwiOntcImxpbmVcIjozNixcImNvbHVtblwiOjgzfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjb250ZW50XFxcIiBwbGFjZWhvbGRlcj1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwic3RhcnREYXRlUGxhY2Vob2xkZXItdG1wbFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdGFydERhdGVQbGFjZWhvbGRlci10bXBsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJzdGFydERhdGVQbGFjZWhvbGRlci10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjM2LFwiY29sdW1uXCI6MTA1fSxcImVuZFwiOntcImxpbmVcIjozNixcImNvbHVtblwiOjEzNH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjM3LFwiY29sdW1uXCI6MjV9LFwiZW5kXCI6e1wibGluZVwiOjM3LFwiY29sdW1uXCI6Mzl9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInN0YXJ0cGlja2VyLWNvbnRhaW5lclxcXCIgc3R5bGU9XFxcIm1hcmdpbi1sZWZ0OiAtMXB4OyBwb3NpdGlvbjogcmVsYXRpdmVcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzksXCJjb2x1bW5cIjoyNX0sXCJlbmRcIjp7XCJsaW5lXCI6MzksXCJjb2x1bW5cIjozOX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwic2VjdGlvbi1kYXRlLWRhc2hcXFwiPi08L3NwYW4+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQwLFwiY29sdW1uXCI6MjR9LFwiZW5kXCI6e1wibGluZVwiOjQwLFwiY29sdW1uXCI6Mzh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwLXNlY3Rpb24taXRlbSBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDAsXCJjb2x1bW5cIjo1N30sXCJlbmRcIjp7XCJsaW5lXCI6NDAsXCJjb2x1bW5cIjo3MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwic2VjdGlvbi1lbmQtZGF0ZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDEsXCJjb2x1bW5cIjoyOX0sXCJlbmRcIjp7XCJsaW5lXCI6NDEsXCJjb2x1bW5cIjo0M319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDEsXCJjb2x1bW5cIjo0OH0sXCJlbmRcIjp7XCJsaW5lXCI6NDEsXCJjb2x1bW5cIjo2Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWMtZGF0ZVxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0MixcImNvbHVtblwiOjI3fSxcImVuZFwiOntcImxpbmVcIjo0MixcImNvbHVtblwiOjQxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJzY2hlZHVsZS1lbmQtZGF0ZVxcXCIgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0MixcImNvbHVtblwiOjY3fSxcImVuZFwiOntcImxpbmVcIjo0MixcImNvbHVtblwiOjgxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjb250ZW50XFxcIiBwbGFjZWhvbGRlcj1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZW5kRGF0ZVBsYWNlaG9sZGVyLXRtcGxcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZW5kRGF0ZVBsYWNlaG9sZGVyLXRtcGxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImVuZERhdGVQbGFjZWhvbGRlci10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQyLFwiY29sdW1uXCI6MTAzfSxcImVuZFwiOntcImxpbmVcIjo0MixcImNvbHVtblwiOjEzMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQzLFwiY29sdW1uXCI6MjV9LFwiZW5kXCI6e1wibGluZVwiOjQzLFwiY29sdW1uXCI6Mzl9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImVuZHBpY2tlci1jb250YWluZXJcXFwiIHN0eWxlPVxcXCJtYXJnaW4tbGVmdDogLTFweDsgcG9zaXRpb246IHJlbGF0aXZlXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDUsXCJjb2x1bW5cIjoyNH0sXCJlbmRcIjp7XCJsaW5lXCI6NDUsXCJjb2x1bW5cIjozOH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtc2VjdGlvbi1pdGVtIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0NSxcImNvbHVtblwiOjU3fSxcImVuZFwiOntcImxpbmVcIjo0NSxcImNvbHVtblwiOjcxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJzZWN0aW9uLWFsbGRheVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQ2LFwiY29sdW1uXCI6Mjd9LFwiZW5kXCI6e1wibGluZVwiOjQ2LFwiY29sdW1uXCI6NDF9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInNjaGVkdWxlLWFsbGRheVxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDYsXCJjb2x1bW5cIjo4MX0sXCJlbmRcIjp7XCJsaW5lXCI6NDYsXCJjb2x1bW5cIjo5NX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiY2hlY2tib3gtc3F1YXJlXFxcIlwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJpc0FsbERheVwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQ2LFwiY29sdW1uXCI6MTExfSxcImVuZFwiOntcImxpbmVcIjo0NixcImNvbHVtblwiOjE0Mn19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDcsXCJjb2x1bW5cIjoyOX0sXCJlbmRcIjp7XCJsaW5lXCI6NDcsXCJjb2x1bW5cIjo0M319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDcsXCJjb2x1bW5cIjo0OH0sXCJlbmRcIjp7XCJsaW5lXCI6NDcsXCJjb2x1bW5cIjo2Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWMtY2hlY2tib3hcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0OCxcImNvbHVtblwiOjI5fSxcImVuZFwiOntcImxpbmVcIjo0OCxcImNvbHVtblwiOjQzfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjb250ZW50XFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwicG9wdXBJc0FsbERheS10bXBsXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInBvcHVwSXNBbGxEYXktdG1wbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwicG9wdXBJc0FsbERheS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQ4LFwiY29sdW1uXCI6NTJ9LFwiZW5kXCI6e1wibGluZVwiOjQ4LFwiY29sdW1uXCI6NzZ9fX0pIDogaGVscGVyKSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1MSxcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjo1MSxcImNvbHVtblwiOjM0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1zZWN0aW9uIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1MSxcImNvbHVtblwiOjQ4fSxcImVuZFwiOntcImxpbmVcIjo1MSxcImNvbHVtblwiOjYyfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJkcm9wZG93biBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTEsXCJjb2x1bW5cIjo3MX0sXCJlbmRcIjp7XCJsaW5lXCI6NTEsXCJjb2x1bW5cIjo4NX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiY2xvc2UgXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUxLFwiY29sdW1uXCI6OTF9LFwiZW5kXCI6e1wibGluZVwiOjUxLFwiY29sdW1uXCI6MTA1fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJzZWN0aW9uLXN0YXRlXFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTIsXCJjb2x1bW5cIjoyN30sXCJlbmRcIjp7XCJsaW5lXCI6NTIsXCJjb2x1bW5cIjo0MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiYnV0dG9uIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1MixcImNvbHVtblwiOjQ4fSxcImVuZFwiOntcImxpbmVcIjo1MixcImNvbHVtblwiOjYyfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJkcm9wZG93bi1idXR0b24gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUyLFwiY29sdW1uXCI6Nzh9LFwiZW5kXCI6e1wibGluZVwiOjUyLFwiY29sdW1uXCI6OTJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwLXNlY3Rpb24taXRlbVxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTMsXCJjb2x1bW5cIjoyOX0sXCJlbmRcIjp7XCJsaW5lXCI6NTMsXCJjb2x1bW5cIjo0M319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTMsXCJjb2x1bW5cIjo0OH0sXCJlbmRcIjp7XCJsaW5lXCI6NTMsXCJjb2x1bW5cIjo2Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWMtc3RhdGVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1NCxcImNvbHVtblwiOjI2fSxcImVuZFwiOntcImxpbmVcIjo1NCxcImNvbHVtblwiOjQwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJzY2hlZHVsZS1zdGF0ZVxcXCIgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1NCxcImNvbHVtblwiOjYzfSxcImVuZFwiOntcImxpbmVcIjo1NCxcImNvbHVtblwiOjc3fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjb250ZW50XFxcIj5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3RhdGVcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDksIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDExLCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTQsXCJjb2x1bW5cIjo4Nn0sXCJlbmRcIjp7XCJsaW5lXCI6NTQsXCJjb2x1bW5cIjoxNDh9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjU1LFwiY29sdW1uXCI6Mjl9LFwiZW5kXCI6e1wibGluZVwiOjU1LFwiY29sdW1uXCI6NDN9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljb24gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjU1LFwiY29sdW1uXCI6NDh9LFwiZW5kXCI6e1wibGluZVwiOjU1LFwiY29sdW1uXCI6NjJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImRyb3Bkb3duLWFycm93XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTcsXCJjb2x1bW5cIjoyM30sXCJlbmRcIjp7XCJsaW5lXCI6NTcsXCJjb2x1bW5cIjozN319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiZHJvcGRvd24tbWVudVxcXCIgc3R5bGU9XFxcInotaW5kZXg6IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInpJbmRleFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ6SW5kZXhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInpJbmRleFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1NyxcImNvbHVtblwiOjY4fSxcImVuZFwiOntcImxpbmVcIjo1NyxcImNvbHVtblwiOjc4fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1OCxcImNvbHVtblwiOjI3fSxcImVuZFwiOntcImxpbmVcIjo1OCxcImNvbHVtblwiOjQxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1zZWN0aW9uLWl0ZW0gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjU4LFwiY29sdW1uXCI6NjB9LFwiZW5kXCI6e1wibGluZVwiOjU4LFwiY29sdW1uXCI6NzR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImRyb3Bkb3duLW1lbnUtaXRlbVxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTksXCJjb2x1bW5cIjoyOX0sXCJlbmRcIjp7XCJsaW5lXCI6NTksXCJjb2x1bW5cIjo0M319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTksXCJjb2x1bW5cIjo0OH0sXCJlbmRcIjp7XCJsaW5lXCI6NTksXCJjb2x1bW5cIjo2Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwibm9uZVxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjYwLFwiY29sdW1uXCI6Mjl9LFwiZW5kXCI6e1wibGluZVwiOjYwLFwiY29sdW1uXCI6NDN9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImNvbnRlbnRcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJwb3B1cFN0YXRlQnVzeS10bXBsXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInBvcHVwU3RhdGVCdXN5LXRtcGxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInBvcHVwU3RhdGVCdXN5LXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NjAsXCJjb2x1bW5cIjo1Mn0sXCJlbmRcIjp7XCJsaW5lXCI6NjAsXCJjb2x1bW5cIjo3N319fSkgOiBoZWxwZXIpKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NjIsXCJjb2x1bW5cIjoyN30sXCJlbmRcIjp7XCJsaW5lXCI6NjIsXCJjb2x1bW5cIjo0MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtc2VjdGlvbi1pdGVtIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2MixcImNvbHVtblwiOjYwfSxcImVuZFwiOntcImxpbmVcIjo2MixcImNvbHVtblwiOjc0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJkcm9wZG93bi1tZW51LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjYzLFwiY29sdW1uXCI6Mjl9LFwiZW5kXCI6e1wibGluZVwiOjYzLFwiY29sdW1uXCI6NDN9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljb24gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjYzLFwiY29sdW1uXCI6NDh9LFwiZW5kXCI6e1wibGluZVwiOjYzLFwiY29sdW1uXCI6NjJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIm5vbmVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2NCxcImNvbHVtblwiOjI5fSxcImVuZFwiOntcImxpbmVcIjo2NCxcImNvbHVtblwiOjQzfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjb250ZW50XFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwicG9wdXBTdGF0ZUZyZWUtdG1wbFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJwb3B1cFN0YXRlRnJlZS10bXBsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJwb3B1cFN0YXRlRnJlZS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjY0LFwiY29sdW1uXCI6NTJ9LFwiZW5kXCI6e1wibGluZVwiOjY0LFwiY29sdW1uXCI6Nzd9fX0pIDogaGVscGVyKSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPC91bD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjY4LFwiY29sdW1uXCI6MjN9LFwiZW5kXCI6e1wibGluZVwiOjY4LFwiY29sdW1uXCI6Mzd9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImJ1dHRvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NjgsXCJjb2x1bW5cIjo0NH0sXCJlbmRcIjp7XCJsaW5lXCI6NjgsXCJjb2x1bW5cIjo1OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtY2xvc2VcXFwiPjxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NjgsXCJjb2x1bW5cIjo4NH0sXCJlbmRcIjp7XCJsaW5lXCI6NjgsXCJjb2x1bW5cIjo5OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NjgsXCJjb2x1bW5cIjoxMDN9LFwiZW5kXCI6e1wibGluZVwiOjY4LFwiY29sdW1uXCI6MTE3fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJpYy1jbG9zZVxcXCI+PC9zcGFuPjwvYnV0dG9uPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjY5LFwiY29sdW1uXCI6MjB9LFwiZW5kXCI6e1wibGluZVwiOjY5LFwiY29sdW1uXCI6MzR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInNlY3Rpb24tYnV0dG9uLXNhdmVcXFwiPjxidXR0b24gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2OSxcImNvbHVtblwiOjcwfSxcImVuZFwiOntcImxpbmVcIjo2OSxcImNvbHVtblwiOjg0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJidXR0b24gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjY5LFwiY29sdW1uXCI6OTF9LFwiZW5kXCI6e1wibGluZVwiOjY5LFwiY29sdW1uXCI6MTA1fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjb25maXJtIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2OSxcImNvbHVtblwiOjExM30sXCJlbmRcIjp7XCJsaW5lXCI6NjksXCJjb2x1bW5cIjoxMjd9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwLXNhdmVcXFwiPjxzcGFuPlwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJpc0VkaXRNb2RlXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oMTUsIGRhdGEsIDApLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2OSxcImNvbHVtblwiOjE0NX0sXCJlbmRcIjp7XCJsaW5lXCI6NjksXCJjb2x1bW5cIjoyMjB9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9zcGFuPjwvYnV0dG9uPjwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBpZD1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcxLFwiY29sdW1uXCI6MTN9LFwiZW5kXCI6e1wibGluZVwiOjcxLFwiY29sdW1uXCI6Mjd9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwLWFycm93XFxcIiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcxLFwiY29sdW1uXCI6NDd9LFwiZW5kXCI6e1wibGluZVwiOjcxLFwiY29sdW1uXCI6NjF9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwLWFycm93IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo3MSxcImNvbHVtblwiOjczfSxcImVuZFwiOntcImxpbmVcIjo3MSxcImNvbHVtblwiOjg3fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJhcnJvdy1ib3R0b21cXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcyLFwiY29sdW1uXCI6MjB9LFwiZW5kXCI6e1wibGluZVwiOjcyLFwiY29sdW1uXCI6MzR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwLWFycm93LWJvcmRlclxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjczLFwiY29sdW1uXCI6MjR9LFwiZW5kXCI6e1wibGluZVwiOjczLFwiY29sdW1uXCI6Mzh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwLWFycm93LWZpbGxcXFwiPjwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlxcblwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvcG9wdXAvc2NoZWR1bGVEZXRhaWxQb3B1cC5oYnNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3BvcHVwL3NjaGVkdWxlRGV0YWlsUG9wdXAuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzWydkZWZhdWx0J10gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjQ1fSxcImVuZFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjU5fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1kZXRhaWwtaXRlbVxcXCI+PHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjkxfSxcImVuZFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjEwNX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTEsXCJjb2x1bW5cIjoxMTB9LFwiZW5kXCI6e1wibGluZVwiOjExLFwiY29sdW1uXCI6MTI0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJpYy1sb2NhdGlvbi1iXFxcIj48L3NwYW4+PHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjE1OX0sXCJlbmRcIjp7XCJsaW5lXCI6MTEsXCJjb2x1bW5cIjoxNzN9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImNvbnRlbnRcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwicG9wdXBEZXRhaWxMb2NhdGlvbi10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInBvcHVwRGV0YWlsTG9jYXRpb24tdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic2NoZWR1bGVcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInBvcHVwRGV0YWlsTG9jYXRpb24tdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjE4Mn0sXCJlbmRcIjp7XCJsaW5lXCI6MTEsXCJjb2x1bW5cIjoyMjF9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9zcGFuPjwvZGl2PlwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjo1MX0sXCJlbmRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjo2NX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtZGV0YWlsLWl0ZW1cXFwiPjxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjo5N30sXCJlbmRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjoxMTF9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljb24gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6MTE2fSxcImVuZFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjEzMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWMtcmVwZWF0LWJcXFwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6MTYzfSxcImVuZFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjE3N319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiY29udGVudFxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJwb3B1cERldGFpbFJlcGVhdC10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInBvcHVwRGV0YWlsUmVwZWF0LXRtcGxcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInNjaGVkdWxlXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJwb3B1cERldGFpbFJlcGVhdC10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6MTg2fSxcImVuZFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjIyM319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+PC9kaXY+XCI7XG59LFwiNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMyxcImNvbHVtblwiOjQ2fSxcImVuZFwiOntcImxpbmVcIjoxMyxcImNvbHVtblwiOjYwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1kZXRhaWwtaXRlbSBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjo3OH0sXCJlbmRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjo5Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtZGV0YWlsLWl0ZW0taW5kZW50XFxcIj48c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6MTMxfSxcImVuZFwiOntcImxpbmVcIjoxMyxcImNvbHVtblwiOjE0NX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjoxNTB9LFwiZW5kXCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6MTY0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJpYy11c2VyLWJcXFwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6MTk1fSxcImVuZFwiOntcImxpbmVcIjoxMyxcImNvbHVtblwiOjIwOX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiY29udGVudFxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJwb3B1cERldGFpbFVzZXItdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJwb3B1cERldGFpbFVzZXItdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic2NoZWR1bGVcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInBvcHVwRGV0YWlsVXNlci10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6MjE4fSxcImVuZFwiOntcImxpbmVcIjoxMyxcImNvbHVtblwiOjI1M319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+PC9kaXY+XCI7XG59LFwiN1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjQyfSxcImVuZFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjU2fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1kZXRhaWwtaXRlbVxcXCI+PHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjg4fSxcImVuZFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjEwMn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTQsXCJjb2x1bW5cIjoxMDd9LFwiZW5kXCI6e1wibGluZVwiOjE0LFwiY29sdW1uXCI6MTIxfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJpYy1zdGF0ZS1iXFxcIj48L3NwYW4+PHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjE1M30sXCJlbmRcIjp7XCJsaW5lXCI6MTQsXCJjb2x1bW5cIjoxNjd9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImNvbnRlbnRcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwicG9wdXBEZXRhaWxTdGF0ZS10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInBvcHVwRGV0YWlsU3RhdGUtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic2NoZWR1bGVcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInBvcHVwRGV0YWlsU3RhdGUtdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjE3Nn0sXCJlbmRcIjp7XCJsaW5lXCI6MTQsXCJjb2x1bW5cIjoyMTJ9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9zcGFuPjwvZGl2PlwiO1xufSxcIjlcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczU9Y29udGFpbmVyLmxhbWJkYSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjozNH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtZGV0YWlsLWl0ZW1cXFwiPjxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjo2Nn0sXCJlbmRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjo4MH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjo4NX0sXCJlbmRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjo5OX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiY2FsZW5kYXItZG90XFxcIiBzdHlsZT1cXFwiYmFja2dyb3VuZC1jb2xvcjogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzY2hlZHVsZVwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJiZ0NvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj48L3NwYW4+PHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNixcImNvbHVtblwiOjE4MH0sXCJlbmRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjoxOTR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImNvbnRlbnRcXFwiPlwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiY2FsZW5kYXJcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwibmFtZVwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjwvc3Bhbj48L2Rpdj5cXG5cIjtcbn0sXCIxMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxOCxcImNvbHVtblwiOjQxfSxcImVuZFwiOntcImxpbmVcIjoxOCxcImNvbHVtblwiOjU1fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1kZXRhaWwtaXRlbSBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTgsXCJjb2x1bW5cIjo3M30sXCJlbmRcIjp7XCJsaW5lXCI6MTgsXCJjb2x1bW5cIjo4N319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtZGV0YWlsLWl0ZW0tc2VwYXJhdGVcXFwiPjxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTgsXCJjb2x1bW5cIjoxMjh9LFwiZW5kXCI6e1wibGluZVwiOjE4LFwiY29sdW1uXCI6MTQyfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjb250ZW50XFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcInBvcHVwRGV0YWlsQm9keS10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInBvcHVwRGV0YWlsQm9keS10bXBsXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzY2hlZHVsZVwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwicG9wdXBEZXRhaWxCb2R5LXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTgsXCJjb2x1bW5cIjoxNTF9LFwiZW5kXCI6e1wibGluZVwiOjE4LFwiY29sdW1uXCI6MTg2fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvc3Bhbj48L2Rpdj5cIjtcbn0sXCIxM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiXCI7XG59LFwiMTVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIyLFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjIyLFwiY29sdW1uXCI6MzB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInNlY3Rpb24tYnV0dG9uXFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjoyMX0sXCJlbmRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjozNX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtZWRpdFxcXCI+PHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjYwfSxcImVuZFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjc0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJpY29uIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjc5fSxcImVuZFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjkzfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJpYy1lZGl0XFxcIj48L3NwYW4+PHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjEyMn0sXCJlbmRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjoxMzZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImNvbnRlbnRcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJwb3B1cEVkaXQtdG1wbFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJwb3B1cEVkaXQtdG1wbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwicG9wdXBFZGl0LXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjoxNDV9LFwiZW5kXCI6e1wibGluZVwiOjIzLFwiY29sdW1uXCI6MTY1fX19KSA6IGhlbHBlcikpKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9zcGFuPjwvYnV0dG9uPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyNCxcImNvbHVtblwiOjE4fSxcImVuZFwiOntcImxpbmVcIjoyNCxcImNvbHVtblwiOjMyfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC12ZXJ0aWNhbC1saW5lXFxcIj48L2Rpdj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjUsXCJjb2x1bW5cIjoyMX0sXCJlbmRcIjp7XCJsaW5lXCI6MjUsXCJjb2x1bW5cIjozNX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtZGVsZXRlXFxcIj48c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI1LFwiY29sdW1uXCI6NjJ9LFwiZW5kXCI6e1wibGluZVwiOjI1LFwiY29sdW1uXCI6NzZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljb24gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI1LFwiY29sdW1uXCI6ODF9LFwiZW5kXCI6e1wibGluZVwiOjI1LFwiY29sdW1uXCI6OTV9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljLWRlbGV0ZVxcXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjUsXCJjb2x1bW5cIjoxMjZ9LFwiZW5kXCI6e1wibGluZVwiOjI1LFwiY29sdW1uXCI6MTQwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjb250ZW50XFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwicG9wdXBEZWxldGUtdG1wbFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJwb3B1cERlbGV0ZS10bXBsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJwb3B1cERlbGV0ZS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI1LFwiY29sdW1uXCI6MTQ5fSxcImVuZFwiOntcImxpbmVcIjoyNSxcImNvbHVtblwiOjE3MX19fSkgOiBoZWxwZXIpKSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvc3Bhbj48L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuXCI7XG59LFwiY29tcGlsZXJcIjpbOCxcIj49IDQuMy4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzNT1jb250YWluZXIubGFtYmRhLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInBvcHVwIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MzJ9LFwiZW5kXCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjo0Nn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtZGV0YWlsXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyLFwiY29sdW1uXCI6MTR9LFwiZW5kXCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjoyOH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtY29udGFpbmVyXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjMwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1zZWN0aW9uIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6NDR9LFwiZW5kXCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjo1OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwic2VjdGlvbi1oZWFkZXJcXFwiPlxcbiAgICAgIDxkaXY+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjoyMX0sXCJlbmRcIjp7XCJsaW5lXCI6NSxcImNvbHVtblwiOjM1fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJzY2hlZHVsZS1wcml2YXRlIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1LFwiY29sdW1uXCI6NTJ9LFwiZW5kXCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjo2Nn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NSxcImNvbHVtblwiOjcxfSxcImVuZFwiOntcImxpbmVcIjo1LFwiY29sdW1uXCI6ODV9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljLXByaXZhdGVcXFwiPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjIxfSxcImVuZFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6MzV9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInNjaGVkdWxlLXRpdGxlXFxcIj5cIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInNjaGVkdWxlXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInRpdGxlXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiPC9zcGFuPlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo4LFwiY29sdW1uXCI6MTh9LFwiZW5kXCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjozMn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtZGV0YWlsLWRhdGUgXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjo1MH0sXCJlbmRcIjp7XCJsaW5lXCI6OCxcImNvbHVtblwiOjY0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjb250ZW50XFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcInBvcHVwRGV0YWlsRGF0ZS10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInBvcHVwRGV0YWlsRGF0ZS10bXBsXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInNjaGVkdWxlXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzQWxsRGF5XCIpIDogc3RhY2sxKSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInNjaGVkdWxlXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0YXJ0XCIpIDogc3RhY2sxKSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInNjaGVkdWxlXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImVuZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwicG9wdXBEZXRhaWxEYXRlLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6OCxcImNvbHVtblwiOjczfSxcImVuZFwiOntcImxpbmVcIjo4LFwiY29sdW1uXCI6MTQ1fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEwLFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjEwLFwiY29sdW1uXCI6MzB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInNlY3Rpb24tZGV0YWlsXFxcIj5cXG4gICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInNjaGVkdWxlXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImxvY2F0aW9uXCIpIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTEsXCJjb2x1bW5cIjo4fSxcImVuZFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjI0MX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXG4gICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInNjaGVkdWxlXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInJlY3VycmVuY2VSdWxlXCIpIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjo4fSxcImVuZFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjI0M319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXG4gICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInNjaGVkdWxlXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImF0dGVuZGVlc1wiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6OH0sXCJlbmRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjoyNzN9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzY2hlZHVsZVwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdGF0ZVwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE0LFwiY29sdW1uXCI6OH0sXCJlbmRcIjp7XCJsaW5lXCI6MTQsXCJjb2x1bW5cIjoyMzJ9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImNhbGVuZGFyXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg5LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTUsXCJjb2x1bW5cIjo4fSxcImVuZFwiOntcImxpbmVcIjoxNyxcImNvbHVtblwiOjE1fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic2NoZWR1bGVcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9keVwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxOCxcImNvbHVtblwiOjh9LFwiZW5kXCI6e1wibGluZVwiOjE4LFwiY29sdW1uXCI6MjA2fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcbiAgICA8L2Rpdj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzY2hlZHVsZVwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJpc1JlYWRPbmx5XCIpIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oMTUsIGRhdGEsIDApLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMCxcImNvbHVtblwiOjR9LFwiZW5kXCI6e1wibGluZVwiOjI3LFwiY29sdW1uXCI6MTF9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyOSxcImNvbHVtblwiOjE0fSxcImVuZFwiOntcImxpbmVcIjoyOSxcImNvbHVtblwiOjI4fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC10b3AtbGluZVxcXCIgc3R5bGU9XFxcImJhY2tncm91bmQtY29sb3I6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic2NoZWR1bGVcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYmdDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+PC9kaXY+XFxuICA8ZGl2IGlkPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjoxMX0sXCJlbmRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjoyNX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtYXJyb3dcXFwiIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjo0NX0sXCJlbmRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjo1OX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtYXJyb3cgXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMwLFwiY29sdW1uXCI6NzF9LFwiZW5kXCI6e1wibGluZVwiOjMwLFwiY29sdW1uXCI6ODV9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImFycm93LWxlZnRcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzEsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6MzEsXCJjb2x1bW5cIjozMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicG9wdXAtYXJyb3ctYm9yZGVyXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMixcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjozMixcImNvbHVtblwiOjM0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJwb3B1cC1hcnJvdy1maWxsXFxcIj48L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3dlZWsvZGF5R3JpZC5oYnNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvd2Vlay9kYXlHcmlkLmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzWydkZWZhdWx0J10gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo4LFwiY29sdW1uXCI6MjR9LFwiZW5kXCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjozOH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1ncmlkLWxpbmVcXFwiXFxuICAgICAgICAgICAgICAgIHN0eWxlPVxcXCJsZWZ0OlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImxlZnRcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibGVmdFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibGVmdFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo5LFwiY29sdW1uXCI6Mjh9LFwiZW5kXCI6e1wibGluZVwiOjksXCJjb2x1bW5cIjozNn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJTsgd2lkdGg6XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwid2lkdGhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwid2lkdGhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIndpZHRoXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjksXCJjb2x1bW5cIjo0NX0sXCJlbmRcIjp7XCJsaW5lXCI6OSxcImNvbHVtblwiOjU0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCIlOyBiYWNrZ3JvdW5kLWNvbG9yOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJiYWNrZ3JvdW5kQ29sb3JcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiYmFja2dyb3VuZENvbG9yXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJiYWNrZ3JvdW5kQ29sb3JcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6OSxcImNvbHVtblwiOjc1fSxcImVuZFwiOntcImxpbmVcIjo5LFwiY29sdW1uXCI6OTR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjtcXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMxLChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJsYXN0XCIpKSx7XCJuYW1lXCI6XCJ1bmxlc3NcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEwLFwiY29sdW1uXCI6MjB9LFwiZW5kXCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6MzF9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgXFxcIj48L2Rpdj5cXG5cIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yaWdodDogXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyUmlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCI7XFxuXCI7XG59LFwiNFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImVhY2hcIikuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImRheXNcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE3LFwiY29sdW1uXCI6OH0sXCJlbmRcIjp7XCJsaW5lXCI6MjcsXCJjb2x1bW5cIjoxOX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCI1XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjb2xsYXBzZWRcIikpLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDYsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDksIGRhdGEsIDApLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxOCxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoyNixcImNvbHVtblwiOjE5fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjZcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaGlkZGVuU2NoZWR1bGVzXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg3LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTksXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjoyM319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCI3XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIwLFwiY29sdW1uXCI6MzN9LFwiZW5kXCI6e1wibGluZVwiOjIwLFwiY29sdW1uXCI6NDd9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktZXhjZWVkLWluLXdlZWtcXFwiIHN0eWxlPVxcXCJ6LWluZGV4OiAxOyByaWdodDpcIlxuICAgICsgYWxpYXM0KChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZ2V0UmlnaHRcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZ2V0UmlnaHRcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImxlZnRcIikgOiBkZXB0aDApLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIndpZHRoXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJnZXRSaWdodFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMCxcImNvbHVtblwiOjk2fSxcImVuZFwiOntcImxpbmVcIjoyMCxcImNvbHVtblwiOjExOX19fSkpXG4gICAgKyBcIiU7XFxcIiBkYXRhLWluZGV4PVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJrZXlcIikgfHwgKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcImtleVwiKSkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwia2V5XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIwLFwiY29sdW1uXCI6MTM1fSxcImVuZFwiOntcImxpbmVcIjoyMCxcImNvbHVtblwiOjE0M319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcIndlZWtHcmlkRm9vdGVyRXhjZWVkLXRtcGxcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwid2Vla0dyaWRGb290ZXJFeGNlZWQtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaGlkZGVuU2NoZWR1bGVzXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJ3ZWVrR3JpZEZvb3RlckV4Y2VlZC10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIwLFwiY29sdW1uXCI6MTQ1fSxcImVuZFwiOntcImxpbmVcIjoyMCxcImNvbHVtblwiOjE5Mn19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+XFxuXCI7XG59LFwiOVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJmaVwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJmaVwiKSl8fGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcImtleVwiKSksXCI9PT1cIiwoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sbGFwc2VCdG5JbmRleFwiKSkse1wibmFtZVwiOlwiZmlcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTAsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjoyNSxcImNvbHVtblwiOjIzfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjEwXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjI0LFwiY29sdW1uXCI6MzN9LFwiZW5kXCI6e1wibGluZVwiOjI0LFwiY29sdW1uXCI6NDd9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktY29sbGFwc2UtYnRuXFxcIiBzdHlsZT1cXFwiei1pbmRleDogMTsgcmlnaHQ6XCJcbiAgICArIGFsaWFzNCgobG9va3VwUHJvcGVydHkoaGVscGVycyxcImdldFJpZ2h0XCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImdldFJpZ2h0XCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJsZWZ0XCIpIDogZGVwdGgwKSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ3aWR0aFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZ2V0UmlnaHRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjQsXCJjb2x1bW5cIjo5NH0sXCJlbmRcIjp7XCJsaW5lXCI6MjQsXCJjb2x1bW5cIjoxMTd9fX0pKVxuICAgICsgXCIlO1xcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImNvbGxhcHNlQnRuVGl0bGUtdG1wbFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJjb2xsYXBzZUJ0blRpdGxlLXRtcGxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNvbGxhcHNlQnRuVGl0bGUtdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyNCxcImNvbHVtblwiOjEyMX0sXCJlbmRcIjp7XCJsaW5lXCI6MjQsXCJjb2x1bW5cIjoxNDh9fX0pIDogaGVscGVyKSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+XFxuXCI7XG59LFwiY29tcGlsZXJcIjpbOCxcIj49IDQuMy4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzNT1jb250YWluZXIubGFtYmRhLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInZpZXdOYW1lXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInZpZXdOYW1lXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ2aWV3TmFtZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MjZ9LFwiZW5kXCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjozOH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiLWxlZnQgXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjo0NH0sXCJlbmRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjU4fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJsZWZ0XFxcIiBzdHlsZT1cXFwiYm9yZGVyLXJpZ2h0OiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJsZWZ0Qm9yZGVyUmlnaHRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IHdpZHRoOiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJsZWZ0V2lkdGhcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJhY2tncm91bmQtY29sb3I6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImxlZnRCYWNrZ3JvdW5kQ29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IHBhZGRpbmctcmlnaHQ6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3R5bGVzXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImxlZnRQYWRkaW5nUmlnaHRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7XFxcIj5cXG4gICAgXCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJkYXlHcmlkVGl0bGUtdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJkYXlHcmlkVGl0bGUtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwidmlld05hbWVcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImRheUdyaWRUaXRsZS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjo0fSxcImVuZFwiOntcImxpbmVcIjoyLFwiY29sdW1uXCI6MzZ9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQsXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6NCxcImNvbHVtblwiOjI2fX19KSA6IGhlbHBlcikpKVxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ2aWV3TmFtZVwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ2aWV3TmFtZVwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwidmlld05hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NCxcImNvbHVtblwiOjI2fSxcImVuZFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6Mzh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIi1yaWdodCBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NCxcImNvbHVtblwiOjQ1fSxcImVuZFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6NTl9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInJpZ2h0XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6NSxcImNvbHVtblwiOjMwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJjb250YWluZXJcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjM0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LWdyaWRcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJlYWNoXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImRheXNcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjo4fSxcImVuZFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjE5fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2hvd0V4cGFuZGFibGVCdXR0b25cIikpLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDQsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxNixcImNvbHVtblwiOjh9LFwiZW5kXCI6e1wibGluZVwiOjI4LFwiY29sdW1uXCI6MTV9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS93ZWVrL2RheUdyaWRTY2hlZHVsZS5oYnNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy90ZW1wbGF0ZS93ZWVrL2RheUdyaWRTY2hlZHVsZS5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzWydkZWZhdWx0J10gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImVhY2hcIikuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLGRlcHRoMCx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6NH0sXCJlbmRcIjp7XCJsaW5lXCI6MjcsXCJjb2x1bW5cIjoxNX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCJcXG4gICAgXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImVhY2hcIikuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLGRlcHRoMCx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6NH0sXCJlbmRcIjp7XCJsaW5lXCI6MjYsXCJjb2x1bW5cIjoxNX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCIzXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCJcXG4gICAgXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSxkZXB0aDAse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjo0fSxcImVuZFwiOntcImxpbmVcIjoyNSxcImNvbHVtblwiOjEzfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjRcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczQ9XCJmdW5jdGlvblwiLCBhbGlhczU9Y29udGFpbmVyLmxhbWJkYSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiXFxuICAgIDxkaXYgZGF0YS1pZD1cXFwiXCJcbiAgICArIGFsaWFzMygobG9va3VwUHJvcGVydHkoaGVscGVycyxcInN0YW1wXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0YW1wXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwic3RhbXBcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjE4fSxcImVuZFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6MzN9fX0pKVxuICAgICsgXCJcXFwiXFxuICAgICAgICBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzMygoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzNCA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxNX0sXCJlbmRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjI5fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LXNjaGVkdWxlLWJsb2NrXFxuICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImV4Y2VlZExlZnRcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDUsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo4LFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjo3MX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXG4gICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZXhjZWVkUmlnaHRcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDcsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo5LFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjksXCJjb2x1bW5cIjo3M319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXFwiXFxuICAgICAgICBzdHlsZT1cXFwidG9wOlwiXG4gICAgKyBhbGlhczMoKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJtdWx0aXBseVwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtdWx0aXBseVwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwidG9wXCIpIDogZGVwdGgwKSwoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVCbG9ja0hlaWdodFwiKSkse1wibmFtZVwiOlwibXVsdGlwbHlcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTAsXCJjb2x1bW5cIjoxOX0sXCJlbmRcIjp7XCJsaW5lXCI6MTAsXCJjb2x1bW5cIjo2MX19fSkpXG4gICAgKyBcInB4O1xcbiAgICAgICAgICAgICAgICBsZWZ0OlwiXG4gICAgKyBhbGlhczMoKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJncmlkLWxlZnRcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZ3JpZC1sZWZ0XCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSxkZXB0aDAsKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImRhdGVzXCIpKSx7XCJuYW1lXCI6XCJncmlkLWxlZnRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTEsXCJjb2x1bW5cIjoyMX0sXCJlbmRcIjp7XCJsaW5lXCI6MTEsXCJjb2x1bW5cIjo1MX19fSkpXG4gICAgKyBcIiU7XFxuICAgICAgICAgICAgICAgIHdpZHRoOlwiXG4gICAgKyBhbGlhczMoKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJncmlkLXdpZHRoXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImdyaWQtd2lkdGhcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLGRlcHRoMCwoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiZGF0ZXNcIikpLHtcIm5hbWVcIjpcImdyaWQtd2lkdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjoyMn0sXCJlbmRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjo1M319fSkpXG4gICAgKyBcIiVcXFwiPlxcbiAgICAgICAgPGRpdiBkYXRhLXNjaGVkdWxlLWlkPVxcXCJcIlxuICAgICsgYWxpYXMzKGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlkXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBkYXRhLWNhbGVuZGFyLWlkPVxcXCJcIlxuICAgICsgYWxpYXMzKGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNhbGVuZGFySWRcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMzKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXM0ID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjo5Mn0sXCJlbmRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjoxMDZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUgXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNGb2N1c2VkXCIpIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg5LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjoxMjN9LFwiZW5kXCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6MTkyfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcXCJcXG4gICAgICAgICAgICBzdHlsZT1cXFwiaGVpZ2h0OlwiXG4gICAgKyBhbGlhczMoYWxpYXM1KCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4OyBsaW5lLWhlaWdodDpcIlxuICAgICsgYWxpYXMzKGFsaWFzNSgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2NoZWR1bGVIZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCJweDsgYm9yZGVyLXJhZGl1czogXCJcbiAgICArIGFsaWFzMyhhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyUmFkaXVzXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDEzLCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTUsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6MTksXCJjb2x1bW5cIjoyM319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICBcIlxuICAgICsgYWxpYXMzKGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImN1c3RvbVN0eWxlXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzMygoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzNCA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIxLFwiY29sdW1uXCI6MjV9LFwiZW5kXCI6e1wibGluZVwiOjIxLFwiY29sdW1uXCI6Mzl9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGUtdGl0bGVcXFwiIHRpdGxlPVxcXCJcIlxuICAgICsgYWxpYXMzKGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInRpdGxlXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcInNjaGVkdWxlLXRtcGxcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic2NoZWR1bGUtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInNjaGVkdWxlLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjo4N30sXCJlbmRcIjp7XCJsaW5lXCI6MjEsXCJjb2x1bW5cIjoxMTJ9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9zcGFuPlxcbiAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ1bmxlc3NcIikuY2FsbChhbGlhczEsKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJvclwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJvclwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzUmVhZE9ubHlcIikpLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNSZWFkT25seVwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwib3JcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjIsXCJjb2x1bW5cIjoyMn0sXCJlbmRcIjp7XCJsaW5lXCI6MjIsXCJjb2x1bW5cIjo2MH19fSkse1wibmFtZVwiOlwidW5sZXNzXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDE1LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjIsXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6MjIsXCJjb2x1bW5cIjoxOTN9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXCI7XG59LFwiNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiIFwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjozMX0sXCJlbmRcIjp7XCJsaW5lXCI6OCxcImNvbHVtblwiOjQ1fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LWV4Y2VlZC1sZWZ0XCI7XG59LFwiN1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiIFwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjksXCJjb2x1bW5cIjozMn0sXCJlbmRcIjp7XCJsaW5lXCI6OSxcImNvbHVtblwiOjQ2fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ3ZWVrZGF5LWV4Y2VlZC1yaWdodFwiO1xufSxcIjlcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXIsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6MTQ2fSxcImVuZFwiOntcImxpbmVcIjoxMyxcImNvbHVtblwiOjE2MH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1zY2hlZHVsZS1mb2N1c2VkIFwiO1xufSxcIjExXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOyBiYWNrZ3JvdW5kLWNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJvcmRlci1jb2xvcjpcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiO1xufSxcIjEzXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIGNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJhY2tncm91bmQtY29sb3I6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJiZ0NvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBib3JkZXItY29sb3I6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIjtcbn0sXCIxNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxzcGFuIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMxKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjIsXCJjb2x1bW5cIjo3NX0sXCJlbmRcIjp7XCJsaW5lXCI6MjIsXCJjb2x1bW5cIjo4OX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwid2Vla2RheS1yZXNpemUtaGFuZGxlIGhhbmRsZS15XFxcIiBzdHlsZT1cXFwibGluZS1oZWlnaHQ6XCJcbiAgICArIGFsaWFzMShjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4O1xcXCI+Jm5ic3A7PC9zcGFuPlwiO1xufSxcImNvbXBpbGVyXCI6WzgsXCI+PSA0LjMuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIndlZWtkYXktc2NoZWR1bGVzIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImNvbGxhcHNlZFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJjb2xsYXBzZWRcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNvbGxhcHNlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6NDR9LFwiZW5kXCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjo1N319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcInN0eWxlPVxcXCJ0b3A6XCJcbiAgICArIGFsaWFzNChjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzY2hlZHVsZUNvbnRhaW5lclRvcFwiKSksIGRlcHRoMCkpXG4gICAgKyBcInB4O1xcXCI+XFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImVhY2hcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibWF0cmljZXNcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjo0fSxcImVuZFwiOntcImxpbmVcIjoyOCxcImNvbHVtblwiOjE1fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvZGl2PlxcblwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvd2Vlay9kYXluYW1lcy5oYnNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3dlZWsvZGF5bmFtZXMuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzWydkZWZhdWx0J10gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzNT1jb250YWluZXIubGFtYmRhLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImRheW5hbWUgXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImlzVG9kYXlcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6MzR9LFwiZW5kXCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjo3NX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgXCJcbiAgICArIGFsaWFzNCgobG9va3VwUHJvcGVydHkoaGVscGVycyxcImhvbGlkYXlcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaG9saWRheVwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZGF5XCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJob2xpZGF5XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjo3Nn0sXCJlbmRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjkxfX19KSlcbiAgICArIFwiXFxcIlxcbiAgICAgZGF0YS1kYXRlPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJyZW5kZXJEYXRlXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInJlbmRlckRhdGVcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInJlbmRlckRhdGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NCxcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6MzB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCJcXG4gICAgIHN0eWxlPVxcXCJcIlxuICAgICsgYWxpYXM0KChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiY29tbW9uLXdpZHRoXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImNvbW1vbi13aWR0aFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwid2lkdGhcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImNvbW1vbi13aWR0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1LFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjozNH19fSkpXG4gICAgKyBcIjtsZWZ0OlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImxlZnRcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibGVmdFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibGVmdFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1LFwiY29sdW1uXCI6NDB9LFwiZW5kXCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjo0OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJTsgbGluZS1oZWlnaHQ6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYm9yZGVyLWxlZnQ6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJvcmRlckxlZnRcIikpLCBkZXB0aDApKVxuICAgICsgXCI7IHBhZGRpbmctbGVmdDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwicGFkZGluZ0xlZnRcIikpLCBkZXB0aDApKVxuICAgICsgXCI7XFxcIj5cXG4gICAgPHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6MTd9LFwiZW5kXCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjozMX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiZGF5bmFtZS1kYXRlLWFyZWFcXFwiIHN0eWxlPVxcXCJjb2xvcjogXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiY29sb3JcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiY29sb3JcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNvbG9yXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjo2NH0sXCJlbmRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjczfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCI7XFxcIj5cXG4gICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwid2Vla0RheW5hbWUtdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ3ZWVrRGF5bmFtZS10bXBsXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSxkZXB0aDAse1wibmFtZVwiOlwid2Vla0RheW5hbWUtdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6OH0sXCJlbmRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjM1fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcbiAgICA8L3NwYW4+XFxuPC9kaXY+XFxuXCI7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjQ5fSxcImVuZFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6NjN9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRvZGF5XCI7XG59LFwiY29tcGlsZXJcIjpbOCxcIj49IDQuMy4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMyKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjoyNn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiZGF5bmFtZS1sZWZ0bWFyZ2luXFxcIiBzdHlsZT1cXFwibWFyZ2luLWxlZnQ6IFwiXG4gICAgKyBhbGlhczIoY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJtYXJnaW5MZWZ0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcXCI+XFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImVhY2hcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZGF5TmFtZXNcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjowfSxcImVuZFwiOntcImxpbmVcIjoxMCxcImNvbHVtblwiOjl9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9kaXY+XFxuXCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS93ZWVrL3RpbWUuaGJzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3dlZWsvdGltZS5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1snZGVmYXVsdCddIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJlYWNoXCIpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSxkZXB0aDAse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjR9LFwiZW5kXCI6e1wibGluZVwiOjYwLFwiY29sdW1uXCI6MTN9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImVhY2hcIikuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLGRlcHRoMCx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6OH0sXCJlbmRcIjp7XCJsaW5lXCI6NTksXCJjb2x1bW5cIjoxN319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCIzXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLGRlcHRoMCx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg0LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NSxcImNvbHVtblwiOjh9LFwiZW5kXCI6e1wibGluZVwiOjU4LFwiY29sdW1uXCI6MTd9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwiNFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzNT1jb250YWluZXIubGFtYmRhLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6MzR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWUtZGF0ZS1zY2hlZHVsZS1ibG9jayBcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJpc1BlbmRpbmdcIikgOiBzdGFjazEpLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDUsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6NTl9LFwiZW5kXCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjoxMzZ9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxcIiBkYXRhLWlkPVxcXCJcIlxuICAgICsgYWxpYXM0KChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwic3RhbXBcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwic3RhbXBcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJzdGFtcFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6MTQ3fSxcImVuZFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6MTYyfX19KSlcbiAgICArIFwiXFxcIlxcbiAgICAgICAgICAgIHN0eWxlPVxcXCJcIlxuICAgICsgYWxpYXM0KChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidGltZS1zY2hlZHVsZUJsb2NrXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRpbWUtc2NoZWR1bGVCbG9ja1wiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsZGVwdGgwLHtcIm5hbWVcIjpcInRpbWUtc2NoZWR1bGVCbG9ja1wiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6MTl9LFwiZW5kXCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjo0Nn19fSkpXG4gICAgKyBcIjtcXG5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcImZpXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImZpXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJsZWZ0XCIpIDogZGVwdGgwKSxcIiE9PVwiLDAse1wibmFtZVwiOlwiZmlcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjgsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6MTAsXCJjb2x1bW5cIjoyM319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICBcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgZGF0YS1zY2hlZHVsZS1pZD1cXFwiXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJpZFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIgZGF0YS1jYWxlbmRhci1pZD1cXFwiXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjYWxlbmRhcklkXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6OTZ9LFwiZW5kXCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6MTEwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lLXNjaGVkdWxlIFwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oOSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6MTI0fSxcImVuZFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjE5MH19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXFwiXFxuICAgICAgICAgICAgICAgIHN0eWxlPVxcXCJcXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImNyb3BwZWRFbmRcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInVubGVzc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE0LFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjE3LFwiY29sdW1uXCI6Mjd9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInVubGVzc1wiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJjcm9wcGVkU3RhcnRcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInVubGVzc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE4LFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjIxLFwiY29sdW1uXCI6Mjd9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNGb2N1c2VkXCIpIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxNSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oMTcsIGRhdGEsIDApLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMixcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjoyNixcImNvbHVtblwiOjIzfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICAgXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjdXN0b21TdHlsZVwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCJcXG4gICAgICAgICAgICA+XFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImhhc0dvaW5nRHVyYXRpb25cIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDE5LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjksXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6MzcsXCJjb2x1bW5cIjoxOX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjM4LFwiY29sdW1uXCI6Mjh9LFwiZW5kXCI6e1wibGluZVwiOjM4LFwiY29sdW1uXCI6NDJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWUtc2NoZWR1bGUtY29udGVudCBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzgsXCJjb2x1bW5cIjo2NH0sXCJlbmRcIjp7XCJsaW5lXCI6MzgsXCJjb2x1bW5cIjo3OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZS1zY2hlZHVsZS1jb250ZW50LXRpbWVcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIm1vZGVsRHVyYXRpb25IZWlnaHRcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxEdXJhdGlvbkhlaWdodFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibW9kZWxEdXJhdGlvbkhlaWdodFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozOCxcImNvbHVtblwiOjEyMX0sXCJlbmRcIjp7XCJsaW5lXCI6MzgsXCJjb2x1bW5cIjoxNDR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInB4O1xcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzRm9jdXNlZFwiKSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMjAsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5wcm9ncmFtKDIyLCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzksXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6NDMsXCJjb2x1bW5cIjoyM319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImhhc0NvbWluZ0R1cmF0aW9uXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyNCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQ0LFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjQ0LFwiY29sdW1uXCI6OTZ9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyAoKHN0YWNrMSA9IChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidGltZS10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRpbWUtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInRpbWUtdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0NSxcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjo0NSxcImNvbHVtblwiOjQxfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaGFzQ29taW5nRHVyYXRpb25cIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDI2LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDcsXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6NTQsXCJjb2x1bW5cIjoxOX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMxLChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwib3JcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwib3JcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImNyb3BwZWRFbmRcIikgOiBkZXB0aDApLChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwib3JcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwib3JcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJpc1JlYWRPbmx5XCIpKSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImlzUmVhZE9ubHlcIikgOiBzdGFjazEpLHtcIm5hbWVcIjpcIm9yXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjU2LFwiY29sdW1uXCI6Mzd9LFwiZW5kXCI6e1wibGluZVwiOjU2LFwiY29sdW1uXCI6NzV9fX0pLHtcIm5hbWVcIjpcIm9yXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjU2LFwiY29sdW1uXCI6MjJ9LFwiZW5kXCI6e1wibGluZVwiOjU2LFwiY29sdW1uXCI6NzZ9fX0pLHtcIm5hbWVcIjpcInVubGVzc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyOSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjU2LFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjU2LFwiY29sdW1uXCI6MjA3fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIlxcbiAgICAgICAgPC9kaXY+XFxuXCI7XG59LFwiNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiIFwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjo4M30sXCJlbmRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjk3fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lLWRhdGUtc2NoZWR1bGUtYmxvY2stcGVuZGluZ1wiO1xufSxcIjdcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiBcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJwYWRkaW5nTGVmdFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIjtcbn0sXCI5XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IFwiZnVuY3Rpb25cIiA/IGhlbHBlci5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSkse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjE0N30sXCJlbmRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjoxNjF9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWUtc2NoZWR1bGUtZm9jdXNlZCBcIjtcbn0sXCIxMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJSYWRpdXNcIikpLCBkZXB0aDApKVxuICAgICsgXCI7XFxuICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogXCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyUmFkaXVzXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiO1xufSxcIjEzXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJvcmRlclJhZGl1c1wiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiBcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJSYWRpdXNcIikpLCBkZXB0aDApKVxuICAgICsgXCI7XFxuXCI7XG59LFwiMTVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7IGJhY2tncm91bmQtY29sb3I6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYm9yZGVyLWNvbG9yOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7XFxuXCI7XG59LFwiMTdcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgY29sb3I6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYmFja2dyb3VuZC1jb2xvcjpcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJnQ29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGJvcmRlci1jb2xvcjpcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImJvcmRlckNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiO1xufSxcIjE5XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMCxcImNvbHVtblwiOjI4fSxcImVuZFwiOntcImxpbmVcIjozMCxcImNvbHVtblwiOjQyfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lLXNjaGVkdWxlLWNvbnRlbnQgXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMwLFwiY29sdW1uXCI6NjR9LFwiZW5kXCI6e1wibGluZVwiOjMwLFwiY29sdW1uXCI6Nzh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWUtc2NoZWR1bGUtY29udGVudC10cmF2ZWwtdGltZVxcXCIgc3R5bGU9XFxcImhlaWdodDogXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZ29pbmdEdXJhdGlvbkhlaWdodFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJnb2luZ0R1cmF0aW9uSGVpZ2h0XCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJnb2luZ0R1cmF0aW9uSGVpZ2h0XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMwLFwiY29sdW1uXCI6MTI4fSxcImVuZFwiOntcImxpbmVcIjozMCxcImNvbHVtblwiOjE1MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwicHg7XFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaXNGb2N1c2VkXCIpIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyMCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oMjIsIGRhdGEsIDApLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMSxcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjozNSxcImNvbHVtblwiOjIzfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggZGFzaGVkIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInRyYXZlbEJvcmRlckNvbG9yXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRyYXZlbEJvcmRlckNvbG9yXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ0cmF2ZWxCb3JkZXJDb2xvclwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozNixcImNvbHVtblwiOjQyfSxcImVuZFwiOntcImxpbmVcIjozNixcImNvbHVtblwiOjYzfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCI7XFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcImdvaW5nRHVyYXRpb24tdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJnb2luZ0R1cmF0aW9uLXRtcGxcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJnb2luZ0R1cmF0aW9uLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzYsXCJjb2x1bW5cIjo2Nn0sXCJlbmRcIjp7XCJsaW5lXCI6MzYsXCJjb2x1bW5cIjo5Nn19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L2Rpdj5cXG5cIjtcbn0sXCIyMFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6XCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIjtcbn0sXCIyMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6XCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIjtcbn0sXCIyNFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCBcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInRyYXZlbEJvcmRlckNvbG9yXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRyYXZlbEJvcmRlckNvbG9yXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJ0cmF2ZWxCb3JkZXJDb2xvclwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0NCxcImNvbHVtblwiOjY3fSxcImVuZFwiOntcImxpbmVcIjo0NCxcImNvbHVtblwiOjg4fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCI7XCI7XG59LFwiMjZcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQ4LFwiY29sdW1uXCI6Mjh9LFwiZW5kXCI6e1wibGluZVwiOjQ4LFwiY29sdW1uXCI6NDJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWUtc2NoZWR1bGUtY29udGVudCBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDgsXCJjb2x1bW5cIjo2NH0sXCJlbmRcIjp7XCJsaW5lXCI6NDgsXCJjb2x1bW5cIjo3OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZS1zY2hlZHVsZS1jb250ZW50LXRyYXZlbC10aW1lXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJjb21pbmdEdXJhdGlvbkhlaWdodFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJjb21pbmdEdXJhdGlvbkhlaWdodFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY29taW5nRHVyYXRpb25IZWlnaHRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDgsXCJjb2x1bW5cIjoxMjh9LFwiZW5kXCI6e1wibGluZVwiOjQ4LFwiY29sdW1uXCI6MTUyfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJweDtcXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJpc0ZvY3VzZWRcIikgOiBzdGFjazEpLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIwLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSgyNywgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQ5LFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjUzLFwiY29sdW1uXCI6MjN9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiO1xcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJjb21pbmdEdXJhdGlvbi10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImNvbWluZ0R1cmF0aW9uLXRtcGxcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJjb21pbmdEdXJhdGlvbi10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUzLFwiY29sdW1uXCI6MjZ9LFwiZW5kXCI6e1wibGluZVwiOjUzLFwiY29sdW1uXCI6NTd9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9kaXY+XFxuXCI7XG59LFwiMjdcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbihjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyQ29sb3JcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7XFxuICAgICAgICAgICAgICAgIFwiO1xufSxcIjI5XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzMSgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjU2LFwiY29sdW1uXCI6OTB9LFwiZW5kXCI6e1wibGluZVwiOjU2LFwiY29sdW1uXCI6MTA0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lLXJlc2l6ZS1oYW5kbGUgaGFuZGxlLXhcXFwiIHN0eWxlPVxcXCJtYXJnaW4tbGVmdDogXCJcbiAgICArIGFsaWFzMShjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInBhZGRpbmdMZWZ0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcXCI+Jm5ic3A7PC9kaXY+XCI7XG59LFwiY29tcGlsZXJcIjpbOCxcIj49IDQuMy4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXMyKCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogY29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjoyNn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZS1kYXRlLXNjaGVkdWxlLWJsb2NrLXdyYXBcXFwiIHN0eWxlPVxcXCJtYXJnaW4tcmlnaHQ6IFwiXG4gICAgKyBhbGlhczIoY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJtYXJnaW5SaWdodFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJlYWNoXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1hdHJpY2VzXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyLFwiY29sdW1uXCI6MH0sXCJlbmRcIjp7XCJsaW5lXCI6NjEsXCJjb2x1bW5cIjo5fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvZGl2PlxcblwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvd2Vlay90aW1lR3JpZC5oYnNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3dlZWsvdGltZUdyaWQuaGJzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzWydkZWZhdWx0J10gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6MjB9LFwiZW5kXCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjozNH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtdGltZXpvbmVcXFwiIGRhdGEtdGltZXpvbmUtaW5kZXg9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImluZGV4XCIpIHx8IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJpbmRleFwiKSkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiaW5kZXhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjc0fSxcImVuZFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6ODR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgc3R5bGU9XFxcIlwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJoaWRkZW5cIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6OTN9LFwiZW5kXCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjoxMjd9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwicG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IHdpZHRoOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ3aWR0aFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ3aWR0aFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwid2lkdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjE2Mn0sXCJlbmRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjE3MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJTsgbGVmdDogXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwibGVmdFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJsZWZ0XCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJsZWZ0XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjoxODB9LFwiZW5kXCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjoxODh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIiU7IGJvcmRlci1yaWdodDogXCJcbiAgICArIGFsaWFzNChjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImxlZnRCb3JkZXJSaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYmFja2dyb3VuZC1jb2xvcjogXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiYmFja2dyb3VuZENvbG9yXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImJhY2tncm91bmRDb2xvclwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiYmFja2dyb3VuZENvbG9yXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjoyNTd9LFwiZW5kXCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjoyNzZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjtcXFwiID5cXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaXNQcmltYXJ5XCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg0LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSgxMCwgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQsXCJjb2x1bW5cIjo4fSxcImVuZFwiOntcImxpbmVcIjoyNixcImNvbHVtblwiOjE1fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgPC9kaXY+XFxuXCI7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiZGlzcGxheTpub25lO1wiO1xufSxcIjRcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZWFjaFwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ0aW1lU2xvdHNcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6OSxcImNvbHVtblwiOjIzfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic2hvd0hvdXJNYXJrZXJcIikpLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDgsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMCxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjE5fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjI4fSxcImVuZFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6NDJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWVncmlkLWhvdXJcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6IFwiXG4gICAgKyBhbGlhczQoY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJvbmVIb3VySGVpZ2h0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwiOyBjb2xvcjogXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiY29sb3JcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiY29sb3JcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNvbG9yXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjoxMTF9LFwiZW5kXCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjoxMjB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjsgZm9udC13ZWlnaHQ6IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImZvbnRXZWlnaHRcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZm9udFdlaWdodFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiZm9udFdlaWdodFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6MTM1fSxcImVuZFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6MTQ5fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCI7XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVxcXCJcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaGlkZGVuXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg2LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjMzfSxcImVuZFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6NjZ9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcInRpbWVncmlkRGlzcGxheVByaW1heVRpbWUtdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ0aW1lZ3JpZERpc3BsYXlQcmltYXlUaW1lLXRtcGxcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLGRlcHRoMCx7XCJuYW1lXCI6XCJ0aW1lZ3JpZERpc3BsYXlQcmltYXlUaW1lLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjY4fSxcImVuZFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6MTA5fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuXCI7XG59LFwiNlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiZGlzcGxheTpub25lXCI7XG59LFwiOFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzNT1jb250YWluZXIubGFtYmRhLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjExLFwiY29sdW1uXCI6Mjh9LFwiZW5kXCI6e1wibGluZVwiOjExLFwiY29sdW1uXCI6NDJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWVncmlkLWhvdXJtYXJrZXJcXFwiIHN0eWxlPVxcXCJ0b3A6XCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImhvdXJtYXJrZXJUb3BcIikpLCBkZXB0aDApKVxuICAgICsgXCIlOyBtYXJnaW4tdG9wOiBjYWxjKDZweCAtIFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImhhbGZIb3VySGVpZ2h0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwiKTsgaGVpZ2h0OiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJoYWxmSG91ckhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6MzJ9LFwiZW5kXCI6e1wibGluZVwiOjEyLFwiY29sdW1uXCI6NDZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWVncmlkLWhvdXJtYXJrZXItdGltZVxcXCIgc3R5bGU9XFxcImNvbG9yOiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjdXJyZW50VGltZUNvbG9yXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiOyBmb250LXNpemU6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImN1cnJlbnRUaW1lRm9udFNpemVcIikpLCBkZXB0aDApKVxuICAgICsgXCI7IGZvbnQtd2VpZ2h0OiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjdXJyZW50VGltZUZvbnRXZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidGltZWdyaWRDdXJyZW50VGltZS10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRpbWVncmlkQ3VycmVudFRpbWUtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsZGVwdGgwLHtcIm5hbWVcIjpcInRpbWVncmlkQ3VycmVudFRpbWUtdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMixcImNvbHVtblwiOjIyM30sXCJlbmRcIjp7XCJsaW5lXCI6MTIsXCJjb2x1bW5cIjoyNTh9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiO1xufSxcIjEwXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImVhY2hcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwidGltZVNsb3RzXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDExLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTYsXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6MjAsXCJjb2x1bW5cIjoyM319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInNob3dIb3VyTWFya2VyXCIpKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxMywgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIxLFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjI1LFwiY29sdW1uXCI6MTl9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwiMTFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTcsXCJjb2x1bW5cIjoyOH0sXCJlbmRcIjp7XCJsaW5lXCI6MTcsXCJjb2x1bW5cIjo0Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtaG91clxcXCIgc3R5bGU9XFxcImhlaWdodDogXCJcbiAgICArIGFsaWFzNChjb250YWluZXIubGFtYmRhKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcIm9uZUhvdXJIZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCI7IGNvbG9yOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJjb2xvclwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJjb2xvclwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY29sb3JcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTcsXCJjb2x1bW5cIjoxMTF9LFwiZW5kXCI6e1wibGluZVwiOjE3LFwiY29sdW1uXCI6MTIwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCI7IGZvbnQtd2VpZ2h0OiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJmb250V2VpZ2h0XCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImZvbnRXZWlnaHRcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImZvbnRXZWlnaHRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTcsXCJjb2x1bW5cIjoxMzV9LFwiZW5kXCI6e1wibGluZVwiOjE3LFwiY29sdW1uXCI6MTQ5fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCI7XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVxcXCJcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiaGlkZGVuXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg2LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTgsXCJjb2x1bW5cIjozM30sXCJlbmRcIjp7XCJsaW5lXCI6MTgsXCJjb2x1bW5cIjo2Nn19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidGltZWdyaWREaXNwbGF5VGltZS10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRpbWVncmlkRGlzcGxheVRpbWUtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsZGVwdGgwLHtcIm5hbWVcIjpcInRpbWVncmlkRGlzcGxheVRpbWUtdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxOCxcImNvbHVtblwiOjY4fSxcImVuZFwiOntcImxpbmVcIjoxOCxcImNvbHVtblwiOjEwM319fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiO1xufSxcIjEzXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXM1PWNvbnRhaW5lci5sYW1iZGEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjIsXCJjb2x1bW5cIjoyOH0sXCJlbmRcIjp7XCJsaW5lXCI6MjIsXCJjb2x1bW5cIjo0Mn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtaG91cm1hcmtlclxcXCIgc3R5bGU9XFxcInRvcDpcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaG91cm1hcmtlclRvcFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIiU7IG1hcmdpbi10b3A6IGNhbGMoNnB4IC0gXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaGFsZkhvdXJIZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCIpOyBoZWlnaHQ6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImhhbGZIb3VySGVpZ2h0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjozMn0sXCJlbmRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjo0Nn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtaG91cm1hcmtlci10aW1lXFxcIiBzdHlsZT1cXFwiY29sb3I6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImN1cnJlbnRUaW1lQ29sb3JcIikpLCBkZXB0aDApKVxuICAgICsgXCI7IGZvbnQtc2l6ZTogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY3VycmVudFRpbWVGb250U2l6ZVwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IChsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidGltZWdyaWRDdXJyZW50VGltZS10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRpbWVncmlkQ3VycmVudFRpbWUtdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsZGVwdGgwLHtcIm5hbWVcIjpcInRpbWVncmlkQ3VycmVudFRpbWUtdG1wbFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyMyxcImNvbHVtblwiOjE3MX0sXCJlbmRcIjp7XCJsaW5lXCI6MjMsXCJjb2x1bW5cIjoyMDZ9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiO1xufSxcIjE1XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXM1PWNvbnRhaW5lci5sYW1iZGEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMyxcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjozMyxcImNvbHVtblwiOjM0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lZ3JpZC1ncmlkbGluZVxcXCIgc3R5bGU9XFxcImhlaWdodDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwib25lSG91ckhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXG5cIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMxLChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJsYXN0XCIpKSx7XCJuYW1lXCI6XCJ1bmxlc3NcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTYsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozNCxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjozNixcImNvbHVtblwiOjIzfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzgsXCJjb2x1bW5cIjoyNH0sXCJlbmRcIjp7XCJsaW5lXCI6MzgsXCJjb2x1bW5cIjozOH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtZ3JpZGxpbmUtaGFsZlxcXCIgc3R5bGU9XFxcImhlaWdodDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiaGFsZkhvdXJIZWlnaHRcIikpLCBkZXB0aDApKVxuICAgICsgXCI7IGJvcmRlci1ib3R0b206IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImhhbGZIb3VyQm9yZGVyQm90dG9tXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcXCI+PC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG5cIjtcbn0sXCIxNlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiYm9yZGVyQm90dG9tXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcblwiO1xufSxcIjE4XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXM1PWNvbnRhaW5lci5sYW1iZGEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDcsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6NDcsXCJjb2x1bW5cIjozMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtaG91cm1hcmtlclxcXCIgc3R5bGU9XFxcInRvcDpcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJob3VybWFya2VyVG9wXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImhvdXJtYXJrZXJUb3BcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImhvdXJtYXJrZXJUb3BcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDcsXCJjb2x1bW5cIjo2Mn0sXCJlbmRcIjp7XCJsaW5lXCI6NDcsXCJjb2x1bW5cIjo3OX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJVxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDgsXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6NDgsXCJjb2x1bW5cIjozNH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtaG91cm1hcmtlci1saW5lLWxlZnRcXFwiIHN0eWxlPVxcXCJ3aWR0aDpcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ0b2RheW1hcmtlckxlZnRcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwidG9kYXltYXJrZXJMZWZ0XCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ0b2RheW1hcmtlckxlZnRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDgsXCJjb2x1bW5cIjo3OH0sXCJlbmRcIjp7XCJsaW5lXCI6NDgsXCJjb2x1bW5cIjo5N319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJTsgYm9yZGVyLXRvcDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY3VycmVudFRpbWVMZWZ0Qm9yZGVyVG9wXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcXCI+PC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDksXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6NDksXCJjb2x1bW5cIjozNH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtdG9kYXltYXJrZXJcXFwiIHN0eWxlPVxcXCJsZWZ0OlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcInRvZGF5bWFya2VyTGVmdFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ0b2RheW1hcmtlckxlZnRcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInRvZGF5bWFya2VyTGVmdFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0OSxcImNvbHVtblwiOjY4fSxcImVuZFwiOntcImxpbmVcIjo0OSxcImNvbHVtblwiOjg3fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCIlOyBiYWNrZ3JvdW5kLWNvbG9yOiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjdXJyZW50VGltZUJ1bGxldEJhY2tncm91bmRDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgXFxcIj50b2RheTwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUwLFwiY29sdW1uXCI6MjB9LFwiZW5kXCI6e1wibGluZVwiOjUwLFwiY29sdW1uXCI6MzR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWVncmlkLWhvdXJtYXJrZXItbGluZS10b2RheVxcXCIgc3R5bGU9XFxcImxlZnQ6XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidG9kYXltYXJrZXJMZWZ0XCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRvZGF5bWFya2VyTGVmdFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwidG9kYXltYXJrZXJMZWZ0XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjUwLFwiY29sdW1uXCI6Nzh9LFwiZW5kXCI6e1wibGluZVwiOjUwLFwiY29sdW1uXCI6OTd9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIiU7IHdpZHRoOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ0b2RheW1hcmtlcldpZHRoXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRvZGF5bWFya2VyV2lkdGhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInRvZGF5bWFya2VyV2lkdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTAsXCJjb2x1bW5cIjoxMDd9LFwiZW5kXCI6e1wibGluZVwiOjUwLFwiY29sdW1uXCI6MTI3fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCIlOyBib3JkZXItdG9wOiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJjdXJyZW50VGltZVRvZGF5Qm9yZGVyVG9wXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcXCI+PC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTEsXCJjb2x1bW5cIjoyMH0sXCJlbmRcIjp7XCJsaW5lXCI6NTEsXCJjb2x1bW5cIjozNH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtaG91cm1hcmtlci1saW5lLXJpZ2h0XFxcIiBzdHlsZT1cXFwibGVmdDpcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ0b2RheW1hcmtlclJpZ2h0XCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRvZGF5bWFya2VyUmlnaHRcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInRvZGF5bWFya2VyUmlnaHRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NTEsXCJjb2x1bW5cIjo3OH0sXCJlbmRcIjp7XCJsaW5lXCI6NTEsXCJjb2x1bW5cIjo5OH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJTsgYm9yZGVyLXRvcDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwiY3VycmVudFRpbWVSaWdodEJvcmRlclRvcFwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXFwiPjwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cIjtcbn0sXCJjb21waWxlclwiOls4LFwiPj0gNC4zLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXM1PWNvbnRhaW5lci5sYW1iZGEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjoyNn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtbGVmdFxcXCIgc3R5bGU9XFxcIndpZHRoOiBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0eWxlc1wiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJsZWZ0V2lkdGhcIikgOiBzdGFjazEpLCBkZXB0aDApKVxuICAgICsgXCI7IGZvbnQtc2l6ZTogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJzdHlsZXNcIikgOiBkZXB0aDApKSAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoc3RhY2sxLFwibGVmdEZvbnRTaXplXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcXCI+XFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImVhY2hcIikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwidGltZXpvbmVzXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyLFwiY29sdW1uXCI6NH0sXCJlbmRcIjp7XCJsaW5lXCI6MjgsXCJjb2x1bW5cIjoxNX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjoxMn0sXCJlbmRcIjp7XCJsaW5lXCI6MzAsXCJjb2x1bW5cIjoyNn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtcmlnaHRcXFwiIHN0eWxlPVxcXCJtYXJnaW4tbGVmdDogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwibGVmdFdpZHRoXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiO1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozMSxcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjozMSxcImNvbHVtblwiOjMwfX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lZ3JpZC1oLWdyaWRcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJlYWNoXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImhvdXJzTGFiZWxzXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDE1LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MzIsXCJjb2x1bW5cIjo4fSxcImVuZFwiOntcImxpbmVcIjo0MCxcImNvbHVtblwiOjE5fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NDIsXCJjb2x1bW5cIjoxNn0sXCJlbmRcIjp7XCJsaW5lXCI6NDIsXCJjb2x1bW5cIjozMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtc2NoZWR1bGVzXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0MyxcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjo0MyxcImNvbHVtblwiOjM0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lZ3JpZC1zY2hlZHVsZXMtY29udGFpbmVyXFxcIj48L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInNob3dIb3VyTWFya2VyXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxOCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQ2LFwiY29sdW1uXCI6NH0sXCJlbmRcIjp7XCJsaW5lXCI6NTMsXCJjb2x1bW5cIjoxMX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L2Rpdj5cXG5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3dlZWsvdGltZUdyaWRDdXJyZW50VGltZS5oYnNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvd2Vlay90aW1lR3JpZEN1cnJlbnRUaW1lLmhicyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzWydkZWZhdWx0J10gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiY29tcGlsZXJcIjpbOCxcIj49IDQuMy4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ0aW1lZ3JpZEN1cnJlbnRUaW1lLXRtcGxcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwidGltZWdyaWRDdXJyZW50VGltZS10bXBsXCIpKXx8Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSxkZXB0aDAse1wibmFtZVwiOlwidGltZWdyaWRDdXJyZW50VGltZS10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjowfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MzV9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuXCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS93ZWVrL3RpbWVNb3ZlR3VpZGUuaGJzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3dlZWsvdGltZU1vdmVHdWlkZS5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzICovIFwiLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1snZGVmYXVsdCddIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1jb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczU9Y29udGFpbmVyLmxhbWJkYSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQsXCJjb2x1bW5cIjoyNH0sXCJlbmRcIjp7XCJsaW5lXCI6NCxcImNvbHVtblwiOjM4fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lLXNjaGVkdWxlLWNvbnRlbnQgXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQsXCJjb2x1bW5cIjo2MH0sXCJlbmRcIjp7XCJsaW5lXCI6NCxcImNvbHVtblwiOjc0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lLXNjaGVkdWxlLWNvbnRlbnQtdHJhdmVsLXRpbWVcXFwiIHN0eWxlPVxcXCJib3JkZXItY29sb3I6XCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBoZWlnaHQ6IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImdvaW5nRHVyYXRpb25IZWlnaHRcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZ29pbmdEdXJhdGlvbkhlaWdodFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiZ29pbmdEdXJhdGlvbkhlaWdodFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6MjAzfSxcImVuZFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6MjI2fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCIlO1xcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJnb2luZ0R1cmF0aW9uLXRtcGxcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiZ29pbmdEdXJhdGlvbi10bXBsXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiZ29pbmdEdXJhdGlvbi10bXBsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjQsXCJjb2x1bW5cIjoyMzB9LFwiZW5kXCI6e1wibGluZVwiOjQsXCJjb2x1bW5cIjoyNjB9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9kaXY+XFxuXCI7XG59LFwiM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzNT1jb250YWluZXIubGFtYmRhLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTAsXCJjb2x1bW5cIjoyNH0sXCJlbmRcIjp7XCJsaW5lXCI6MTAsXCJjb2x1bW5cIjozOH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZS1zY2hlZHVsZS1jb250ZW50IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMCxcImNvbHVtblwiOjYwfSxcImVuZFwiOntcImxpbmVcIjoxMCxcImNvbHVtblwiOjc0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lLXNjaGVkdWxlLWNvbnRlbnQtdHJhdmVsLXRpbWVcXFwiIHN0eWxlPVxcXCJib3JkZXItY29sb3I6XCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjsgYm9yZGVyLXRvcDogMXB4IGRhc2hlZCBcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImNvbG9yXCIpIDogc3RhY2sxKSwgZGVwdGgwKSlcbiAgICArIFwiOyBoZWlnaHQ6IFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImNvbWluZ0R1cmF0aW9uSGVpZ2h0XCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImNvbWluZ0R1cmF0aW9uSGVpZ2h0XCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJjb21pbmdEdXJhdGlvbkhlaWdodFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMCxcImNvbHVtblwiOjIwMH0sXCJlbmRcIjp7XCJsaW5lXCI6MTAsXCJjb2x1bW5cIjoyMjR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIiU7XFxcIj5cIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcImNvbWluZ0R1cmF0aW9uLXRtcGxcIil8fChkZXB0aDAgJiYgbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiY29taW5nRHVyYXRpb24tdG1wbFwiKSl8fGFsaWFzMikuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwibW9kZWxcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcImNvbWluZ0R1cmF0aW9uLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTAsXCJjb2x1bW5cIjoyMjh9LFwiZW5kXCI6e1wibGluZVwiOjEwLFwiY29sdW1uXCI6MjU5fX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIjwvZGl2PlxcblwiO1xufSxcIjVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXIsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6Mzh9LFwiZW5kXCI6e1wibGluZVwiOjEzLFwiY29sdW1uXCI6NTJ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWUtcmVzaXplLWhhbmRsZSBoYW5kbGUteFxcXCI+Jm5ic3A7PC9kaXY+XCI7XG59LFwiY29tcGlsZXJcIjpbOCxcIj49IDQuMy4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzNT1jb250YWluZXIubGFtYmRhLCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eSB8fCBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjEyfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6MjZ9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWUtZGF0ZS1zY2hlZHVsZS1ibG9ja1xcXCIgZGF0YS1pZD1cXFwiXCJcbiAgICArIGFsaWFzNCgobG9va3VwUHJvcGVydHkoaGVscGVycyxcInN0YW1wXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInN0YW1wXCIpKXx8YWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwic3RhbXBcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MSxcImNvbHVtblwiOjYxfSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6NzZ9fX0pKVxuICAgICsgXCJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlO1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyLFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjozMH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZS1zY2hlZHVsZSBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MixcImNvbHVtblwiOjQ0fSxcImVuZFwiOntcImxpbmVcIjoyLFwiY29sdW1uXCI6NTh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWUtZGF0ZS1zY2hlZHVsZS1ibG9jay1mb2N1c2VkXFxcIiBzdHlsZT1cXFwiY29sb3I6ICNmZmZmZmY7IGJhY2tncm91bmQtY29sb3I6XCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJkcmFnQmdDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJoYXNHb2luZ0R1cmF0aW9uXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjh9LFwiZW5kXCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjoxNX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJDU1NfUFJFRklYXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIkNTU19QUkVGSVhcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIkNTU19QUkVGSVhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjI0fSxcImVuZFwiOntcImxpbmVcIjo2LFwiY29sdW1uXCI6Mzh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWUtc2NoZWR1bGUtY29udGVudFxcXCIgc3R5bGU9XFxcImhlaWdodDogXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwibW9kZWxEdXJhdGlvbkhlaWdodFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbER1cmF0aW9uSGVpZ2h0XCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJtb2RlbER1cmF0aW9uSGVpZ2h0XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjYsXCJjb2x1bW5cIjo3Nn0sXCJlbmRcIjp7XCJsaW5lXCI6NixcImNvbHVtblwiOjk5fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCIlOyBib3JkZXItY29sb3I6XCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJtb2RlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJib3JkZXJDb2xvclwiKSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXFwiPlxcbiAgICAgICAgICAgICAgICBcIlxuICAgICsgKChzdGFjazEgPSAobG9va3VwUHJvcGVydHkoaGVscGVycyxcInRpbWUtdG1wbFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ0aW1lLXRtcGxcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcIm1vZGVsXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJ0aW1lLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6Mzd9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImhhc0NvbWluZ0R1cmF0aW9uXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6OSxcImNvbHVtblwiOjh9LFwiZW5kXCI6e1wibGluZVwiOjExLFwiY29sdW1uXCI6MTV9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgIDwvZGl2PlxcbiAgICBcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwidW5sZXNzXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImNyb3BwZWRFbmRcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInVubGVzc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg1LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTMsXCJjb2x1bW5cIjo0fSxcImVuZFwiOntcImxpbmVcIjoxMyxcImNvbHVtblwiOjEwNH19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjE0LFwiY29sdW1uXCI6MTZ9LFwiZW5kXCI6e1wibGluZVwiOjE0LFwiY29sdW1uXCI6MzB9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcInRpbWUtZGF0ZS1zY2hlZHVsZS1ibG9jay1jb3ZlclxcXCI+PC9kaXY+XFxuPC9kaXY+XFxuXCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS93ZWVrL3RpbWV6b25lU3RpY2t5Lmhic1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvd2Vlay90aW1lem9uZVN0aWNreS5oYnMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvcnVudGltZS5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvcnVudGltZS5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbJ2RlZmF1bHQnXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXM1PWNvbnRhaW5lci5sYW1iZGEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoyLFwiY29sdW1uXCI6MTJ9LFwiZW5kXCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjoyNn19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtdGltZXpvbmUtbGFiZWwtY29udGFpbmVyXFxcIiBzdHlsZT1cXFwiXCJcbiAgICArICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImlmXCIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImhpZGRlblwiKSA6IGRlcHRoMCkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjo2OH0sXCJlbmRcIjp7XCJsaW5lXCI6MixcImNvbHVtblwiOjEwMn19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJiYWNrZ3JvdW5kLWNvbG9yOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJiYWNrZ3JvdW5kQ29sb3JcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiYmFja2dyb3VuZENvbG9yXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJiYWNrZ3JvdW5kQ29sb3JcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MixcImNvbHVtblwiOjEyMH0sXCJlbmRcIjp7XCJsaW5lXCI6MixcImNvbHVtblwiOjEzOX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiOyBoZWlnaHQ6IDEwMCU7IHdpZHRoOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ3aWR0aFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJ3aWR0aFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwid2lkdGhcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MixcImNvbHVtblwiOjE2Mn0sXCJlbmRcIjp7XCJsaW5lXCI6MixcImNvbHVtblwiOjE3MX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiJTsgbGVmdDogXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwibGVmdFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJsZWZ0XCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJsZWZ0XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjoxODB9LFwiZW5kXCI6e1wibGluZVwiOjIsXCJjb2x1bW5cIjoxODh9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIiU7IGZvbnQtc2l6ZTogXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGxvb2t1cFByb3BlcnR5KGRhdGEsXCJyb290XCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwic3R5bGVzXCIpKSkgJiYgbG9va3VwUHJvcGVydHkoc3RhY2sxLFwibGVmdEZvbnRTaXplXCIpKSwgZGVwdGgwKSlcbiAgICArIFwiOyBib3JkZXItcmlnaHQ6IFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImxlZnRCb3JkZXJSaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIjtcXFwiPlxcbiAgICA8ZGl2IHRpdGxlPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ0b29sdGlwXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRvb2x0aXBcIikgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInRvb2x0aXBcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjE2fSxcImVuZFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6Mjd9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjozLFwiY29sdW1uXCI6MzZ9LFwiZW5kXCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjo1MH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtdGltZXpvbmUtbGFiZWwtY2VsbFxcXCIgZGF0YS10aW1lem9uZT1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiZGlzcGxheUxhYmVsXCIpIHx8IChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImRpc3BsYXlMYWJlbFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiZGlzcGxheUxhYmVsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjMsXCJjb2x1bW5cIjo5NX0sXCJlbmRcIjp7XCJsaW5lXCI6MyxcImNvbHVtblwiOjExMX19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAxMDAlOyB3aWR0aDogMTAwJTtcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJpZlwiKS5jYWxsKGFsaWFzMSwobG9va3VwUHJvcGVydHkoaGVscGVycyxcImFuZFwiKXx8KGRlcHRoMCAmJiBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJhbmRcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcImlzUHJpbWFyeVwiKSA6IGRlcHRoMCksKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInNob3dUaW1lem9uZUNvbGxhcHNlQnV0dG9uXCIpKSx7XCJuYW1lXCI6XCJhbmRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6NCxcImNvbHVtblwiOjE0fSxcImVuZFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6NjJ9fX0pLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDQsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo0LFwiY29sdW1uXCI6OH0sXCJlbmRcIjp7XCJsaW5lXCI6MTAsXCJjb2x1bW5cIjoxNX19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjIwfSxcImVuZFwiOntcImxpbmVcIjoxMSxcImNvbHVtblwiOjM0fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJ0aW1lZ3JpZC10aW1lem9uZS1sYWJlbFxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJ0aW1lem9uZURpc3BsYXlMYWJlbC10bXBsXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRpbWV6b25lRGlzcGxheUxhYmVsLXRtcGxcIikpfHxhbGlhczIpLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInRpbWV6b25lT2Zmc2V0XCIpIDogZGVwdGgwKSwoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJkaXNwbGF5TGFiZWxcIikgOiBkZXB0aDApLHtcIm5hbWVcIjpcInRpbWV6b25lRGlzcGxheUxhYmVsLXRtcGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhLFwibG9jXCI6e1wic3RhcnRcIjp7XCJsaW5lXCI6MTEsXCJjb2x1bW5cIjo1OX0sXCJlbmRcIjp7XCJsaW5lXCI6MTEsXCJjb2x1bW5cIjoxMTh9fX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9kaXY+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlxcblwiO1xufSxcIjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcImRpc3BsYXk6bm9uZTtcIjtcbn0sXCI0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9Y29udGFpbmVyLmhvb2tzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXM1PWNvbnRhaW5lci5sYW1iZGEsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo1LFwiY29sdW1uXCI6MjR9LFwiZW5kXCI6e1wibGluZVwiOjUsXCJjb2x1bW5cIjozOH19fSkgOiBoZWxwZXIpKSlcbiAgICArIFwidGltZWdyaWQtdGltZXpvbmUtY2xvc2UtYnRuXFxcIiBzdHlsZT1cXFwiYm9yZGVyOiAxcHggc29saWQgI2RkZDsgdG9wOjJweDsgYm90dG9tOiAycHg7IHdpZHRoOiAxMHB4OyBib3JkZXItbGVmdDogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cXFwiY29sb3I6ICM3Nzc7IGhlaWdodDogY2FsYyhcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRhdGEgJiYgbG9va3VwUHJvcGVydHkoZGF0YSxcInJvb3RcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJzdHlsZXNcIikpKSAmJiBsb29rdXBQcm9wZXJ0eShzdGFjazEsXCJkaXNwbGF5VGltZXpvbmVMYWJlbEhlaWdodFwiKSksIGRlcHRoMCkpXG4gICAgKyBcIiAtIDZweCk7IGxpbmUtaGVpZ2h0OiBjYWxjKFwiXG4gICAgKyBhbGlhczQoYWxpYXM1KCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInN0eWxlc1wiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcImRpc3BsYXlUaW1lem9uZUxhYmVsSGVpZ2h0XCIpKSwgZGVwdGgwKSlcbiAgICArIFwiIC0gNnB4KTtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcIkNTU19QUkVGSVhcIikgfHwgKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwiQ1NTX1BSRUZJWFwiKSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiQ1NTX1BSRUZJWFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGEsXCJsb2NcIjp7XCJzdGFydFwiOntcImxpbmVcIjo3LFwiY29sdW1uXCI6MzN9LFwiZW5kXCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjo0N319fSkgOiBoZWxwZXIpKSlcbiAgICArIFwiaWNvbiBcIlxuICAgICsgKChzdGFjazEgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiaWZcIikuY2FsbChhbGlhczEsKChzdGFjazEgPSAoZGF0YSAmJiBsb29rdXBQcm9wZXJ0eShkYXRhLFwicm9vdFwiKSkpICYmIGxvb2t1cFByb3BlcnR5KHN0YWNrMSxcInRpbWV6b25lc0NvbGxhcHNlZFwiKSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oNSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLnByb2dyYW0oNywgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjo1Mn0sXCJlbmRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjE1NH19fSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvZGl2PlxcblwiO1xufSxcIjVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXIsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjo4NH0sXCJlbmRcIjp7XCJsaW5lXCI6NyxcImNvbHVtblwiOjk4fX19KSA6IGhlbHBlcikpKVxuICAgICsgXCJpYy1hcnJvdy1yaWdodFwiO1xufSxcIjdcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXIsIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xuXG4gIHJldHVybiBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBsb29rdXBQcm9wZXJ0eShoZWxwZXJzLFwiQ1NTX1BSRUZJWFwiKSB8fCAoZGVwdGgwICE9IG51bGwgPyBsb29rdXBQcm9wZXJ0eShkZXB0aDAsXCJDU1NfUFJFRklYXCIpIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGNvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSx7XCJuYW1lXCI6XCJDU1NfUFJFRklYXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxMjB9LFwiZW5kXCI6e1wibGluZVwiOjcsXCJjb2x1bW5cIjoxMzR9fX0pIDogaGVscGVyKSkpXG4gICAgKyBcImljLWFycm93LWxlZnRcIjtcbn0sXCJjb21waWxlclwiOls4LFwiPj0gNC4zLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHkgfHwgZnVuY3Rpb24ocGFyZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gbG9va3VwUHJvcGVydHkoaGVscGVycyxcImVhY2hcIikuY2FsbChhbGlhczEsKGxvb2t1cFByb3BlcnR5KGhlbHBlcnMsXCJyZXZlcnNlXCIpfHwoZGVwdGgwICYmIGxvb2t1cFByb3BlcnR5KGRlcHRoMCxcInJldmVyc2VcIikpfHxjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZykuY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gbG9va3VwUHJvcGVydHkoZGVwdGgwLFwidGltZXpvbmVzXCIpIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJyZXZlcnNlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjo4fSxcImVuZFwiOntcImxpbmVcIjoxLFwiY29sdW1uXCI6Mjd9fX0pLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YSxcImxvY1wiOntcInN0YXJ0XCI6e1wibGluZVwiOjEsXCJjb2x1bW5cIjowfSxcImVuZFwiOntcImxpbmVcIjoxNCxcImNvbHVtblwiOjExfX19KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3ZpZXcvdmlldy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy92aWV3LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBUaGUgYmFzZSBjbGFzcyBvZiB2aWV3cy5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKTtcbnZhciBDb2xsZWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL2NvbGxlY3Rpb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29sbGVjdGlvbi5qc1wiKTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIG9mIHZpZXdzLlxuICpcbiAqIEFsbCB2aWV3cyBjcmVhdGUgb3duIGNvbnRhaW5lciBlbGVtZW50IGluc2lkZSBzdXBwbGllZCBjb250YWluZXIgZWxlbWVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyIERlZmF1bHQgY29udGFpbmVyIGVsZW1lbnQgZm9yIHZpZXcuXG4gKiAgeW91IGNhbiB1c2UgdGhpcyBlbGVtZW50IGZvciB0aGlzLmNvbnRhaW5lciBzeW50YXguXG4gKi9cbmZ1bmN0aW9uIFZpZXcoY29udGFpbmVyKSB7XG4gICAgdmFyIGlkID0gdXRpbC5zdGFtcCh0aGlzKTtcblxuICAgIGlmICh1dGlsLmlzVW5kZWZpbmVkKGNvbnRhaW5lcikpIHtcbiAgICAgICAgY29udGFpbmVyID0gZG9tdXRpbC5hcHBlbmRIVE1MRWxlbWVudCgnZGl2Jyk7XG4gICAgfVxuXG4gICAgZG9tdXRpbC5hZGRDbGFzcyhjb250YWluZXIsIHRoaXMuY3NzcHJlZml4KGlkKSk7XG5cbiAgICAvKipcbiAgICAgKiB1bmlxdWUgaWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaWQgPSBpZDtcblxuICAgIC8qKlxuICAgICAqIGJhc2UgZWxlbWVudCBvZiB2aWV3LlxuICAgICAqIEB0eXBlIHtIVE1MRElWRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICAgIC8qZXNsaW50LWRpc2FibGUqL1xuICAgIC8qKlxuICAgICAqIGNoaWxkIHZpZXdzLlxuICAgICAqIEB0eXBlIHtDb2xsZWN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY2hpbGRyZW4gPSBuZXcgQ29sbGVjdGlvbihmdW5jdGlvbih2aWV3KSB7XG4gICAgICAgIHJldHVybiB1dGlsLnN0YW1wKHZpZXcpO1xuICAgIH0pO1xuICAgIC8qIGVzbGludC1lbmFibGUqL1xuXG4gICAgLyoqXG4gICAgICogcGFyZW50IHZpZXcgaW5zdGFuY2UuXG4gICAgICogQHR5cGUge1ZpZXd9XG4gICAgICovXG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogc3RhdGUgb2Ygdmlld1xuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbn1cblxuLyoqXG4gKiBDU1MgY2xhc3NuYW1lIHByZWZpeFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuVmlldy5wcm90b3R5cGUuY3NzUHJlZml4ID0gJ3R1aS12aWV3LSc7XG5cbi8qKlxuICogQWRkIGNoaWxkIHZpZXdzLlxuICogQHBhcmFtIHtWaWV3fSB2aWV3IFRoZSB2aWV3IGluc3RhbmNlIHRvIGFkZC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtmbl0gRnVuY3Rpb24gZm9yIGludm9rZSBiZWZvcmUgYWRkLiBwYXJlbnQgdmlldyBjbGFzcyBpcyBzdXBwbGllZCBmaXJzdCBhcmd1bWVudHMuXG4gKi9cblZpZXcucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24odmlldywgZm4pIHtcbiAgICBpZiAoZm4pIHtcbiAgICAgICAgZm4uY2FsbCh2aWV3LCB0aGlzKTtcbiAgICB9XG4gICAgLy8gYWRkIHBhcmVudCB2aWV3XG4gICAgdmlldy5wYXJlbnQgPSB0aGlzO1xuXG4gICAgdGhpcy5jaGlsZHJlbi5hZGQodmlldyk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhZGRlZCBjaGlsZCB2aWV3LlxuICogQHBhcmFtIHsobnVtYmVyfFZpZXcpfSBpZCBWaWV3IGlkIG9yIGluc3RhbmNlIGl0c2VsZiB0byByZW1vdmUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbZm5dIEZ1bmN0aW9uIGZvciBpbnZva2UgYmVmb3JlIHJlbW92ZS4gcGFyZW50IHZpZXcgY2xhc3MgaXMgc3VwcGxpZWQgZmlyc3QgYXJndW1lbnRzLlxuICovXG5WaWV3LnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uKGlkLCBmbikge1xuICAgIHZhciB2aWV3ID0gdXRpbC5pc051bWJlcihpZCkgPyB0aGlzLmNoaWxkcmVuLml0ZW1zW2lkXSA6IGlkO1xuXG4gICAgaWQgPSB1dGlsLnN0YW1wKHZpZXcpO1xuXG4gICAgaWYgKGZuKSB7XG4gICAgICAgIGZuLmNhbGwodmlldywgdGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5jaGlsZHJlbi5yZW1vdmUoaWQpO1xufTtcblxuLyoqXG4gKiBSZW5kZXIgdmlldyByZWN1cnNpdmVseS5cbiAqL1xuVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGNoaWxkVmlldykge1xuICAgICAgICBjaGlsZFZpZXcucmVuZGVyKCk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEludm9rZSBmdW5jdGlvbiByZWN1cnNpdmVseS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gZnVuY3Rpb24gdG8gaW52b2tlIGNoaWxkIHZpZXcgcmVjdXJzaXZlbHlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBUaGlzPWZhbHNlXSAtIHNldCB0cnVlIHRoZW4gc2tpcCBpbnZva2Ugd2l0aCB0aGlzKHJvb3QpIHZpZXcuXG4gKi9cblZpZXcucHJvdG90eXBlLnJlY3Vyc2l2ZSA9IGZ1bmN0aW9uKGZuLCBza2lwVGhpcykge1xuICAgIGlmICghdXRpbC5pc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFza2lwVGhpcykge1xuICAgICAgICBmbih0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oY2hpbGRWaWV3KSB7XG4gICAgICAgIGNoaWxkVmlldy5yZWN1cnNpdmUoZm4pO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZXNpemUgdmlldyByZWN1cnNpdmVseSB0byBwYXJlbnQuXG4gKi9cblZpZXcucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxcbiAgICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG5cbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGlmICh1dGlsLmlzRnVuY3Rpb24ocGFyZW50Ll9vblJlc2l6ZSkpIHtcbiAgICAgICAgICAgIHBhcmVudC5fb25SZXNpemUuYXBwbHkocGFyZW50LCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxufTtcblxuLyoqXG4gKiBJbnZva2luZyBtZXRob2QgYmVmb3JlIGRlc3Ryb3lpbmcuXG4gKi9cblZpZXcucHJvdG90eXBlLl9iZWZvcmVEZXN0cm95ID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBDbGVhciBwcm9wZXJ0aWVzXG4gKi9cblZpZXcucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fYmVmb3JlRGVzdHJveSgpO1xuICAgIHRoaXMuY2hpbGRyZW4uY2xlYXIoKTtcbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblxuICAgIHRoaXMuaWQgPSB0aGlzLnBhcmVudCA9IHRoaXMuY2hpbGRyZW4gPSB0aGlzLmNvbnRhaW5lciA9IG51bGw7XG59O1xuXG4vKmVzbGludC1kaXNhYmxlKi9cbi8qKlxuICogRGVzdHJveSBjaGlsZCB2aWV3IHJlY3Vyc2l2ZWx5LlxuICovXG5WaWV3LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oaXNDaGlsZFZpZXcpIHtcbiAgICB0aGlzLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oY2hpbGRWaWV3KSB7XG4gICAgICAgIGNoaWxkVmlldy5kZXN0cm95KHRydWUpO1xuICAgICAgICBjaGlsZFZpZXcuX2Rlc3Ryb3koKTtcbiAgICB9KTtcblxuICAgIGlmIChpc0NoaWxkVmlldykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZGVzdHJveSgpO1xufTtcbi8qIGVzbGludC1lbmFibGUqL1xuXG4vKipcbiAqIENhbGN1bGF0ZSB2aWV3J3MgY29udGFpbmVyIGVsZW1lbnQgYm91bmQuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgYm91bmQgb2YgY29udGFpbmVyIGVsZW1lbnQuXG4gKi9cblZpZXcucHJvdG90eXBlLmdldFZpZXdCb3VuZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgcG9zaXRpb24gPSBkb211dGlsLmdldFBvc2l0aW9uKGNvbnRhaW5lciksXG4gICAgICAgIHNpemUgPSBkb211dGlsLmdldFNpemUoY29udGFpbmVyKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHBvc2l0aW9uWzBdLFxuICAgICAgICB5OiBwb3NpdGlvblsxXSxcbiAgICAgICAgd2lkdGg6IHNpemVbMF0sXG4gICAgICAgIGhlaWdodDogc2l6ZVsxXVxuICAgIH07XG59O1xuXG4vKipcbiAqIFJldHVybiB2aWV3IGRlZmF1bHQgQ1NTIHByZWZpeFxuICogQHBhcmFtIHtzdHJpbmd9IFtjbGFzc05hbWVdIC0gaWYgc3VwcGxpZWQgdGhlbiByZXR1cm4gcHJlZml4IGFkZGVkIGNsYXNzIG5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IENTUyBwcmVmaXggdmFsdWVcbiAqL1xuVmlldy5wcm90b3R5cGUuY3NzcHJlZml4ID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuY3NzUHJlZml4ICsgKGNsYXNzTmFtZSB8fCAnJyk7XG59O1xuXG4vKipcbiAqIHNldCBzdGF0ZVxuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIC0gc3RhdGVcbiAqL1xuVmlldy5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xuICAgIHV0aWwuZXh0ZW5kKHRoaXMuc3RhdGUsIHN0YXRlKTtcbn07XG5cbnV0aWwuQ3VzdG9tRXZlbnRzLm1peGluKFZpZXcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZpZXc7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy93ZWVrL2RheUdyaWQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy93ZWVrL2RheUdyaWQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgRGF5R3JpZCBpbiB3ZWVrbHkgdmlld1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR1aS1jb2RlLXNuaXBwZXQgKi8gXCJ0dWktY29kZS1zbmlwcGV0XCIpO1xudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbmZpZyAqLyBcIi4vc3JjL2pzL2NvbmZpZy5qc1wiKSxcbiAgICBjb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vY29tbW9uICovIFwiLi9zcmMvanMvY29tbW9uL2NvbW1vbi5qc1wiKSxcbiAgICBkYXRldGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9kYXRldGltZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kYXRldGltZS5qc1wiKSxcbiAgICBkb211dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbXV0aWwgKi8gXCIuL3NyYy9qcy9jb21tb24vZG9tdXRpbC5qc1wiKSxcbiAgICBUWkRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vdGltZXpvbmUgKi8gXCIuL3NyYy9qcy9jb21tb24vdGltZXpvbmUuanNcIikuRGF0ZSxcbiAgICBWaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdmlldy92aWV3ICovIFwiLi9zcmMvanMvdmlldy92aWV3LmpzXCIpLFxuICAgIERheUdyaWRTY2hlZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGF5R3JpZFNjaGVkdWxlICovIFwiLi9zcmMvanMvdmlldy93ZWVrL2RheUdyaWRTY2hlZHVsZS5qc1wiKSxcbiAgICBiYXNlVG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RlbXBsYXRlL3dlZWsvZGF5R3JpZC5oYnMgKi8gXCIuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3dlZWsvZGF5R3JpZC5oYnNcIiksXG4gICAgcmVxQW5pbUZyYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3JlcUFuaW1GcmFtZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi9yZXFBbmltRnJhbWUuanNcIik7XG52YXIgbW1heCA9IE1hdGgubWF4LFxuICAgIG1taW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtXZWVrZGF5fVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSB2aWV3IG5hbWVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgRGF5R3JpZFNjaGVkdWxlIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRQZXJjZW50XSAtIGhlaWdodCBwZXJjZW50IG9mIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWluZXJCdXR0b25HdXR0ZXI9OF0gLSBmcmVlIHNwYWNlIGF0IGJvdHRvbSB0b1xuICogIG1ha2UgY3JlYXRlIGVhc3kuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NoZWR1bGVIZWlnaHQ9MThdIC0gaGVpZ2h0IG9mIGVhY2ggc2NoZWR1bGUgYmxvY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NoZWR1bGVHdXR0ZXI9Ml0gLSBndXR0ZXIgaGVpZ2h0IG9mIGVhY2ggc2NoZWR1bGUgYmxvY2suXG4gKiBAcGFyYW0ge0hUTUxESVZFbGVtZW50fSBjb250YWluZXIgLSBET00gZWxlbWVudCB0byB1c2UgY29udGFpbmVyIGZvciB0aGlzXG4gKiAgdmlldy5cbiAqIEBwYXJhbSB7VGhlbWV9IHRoZW1lIC0gdGhlbWUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gRGF5R3JpZChuYW1lLCBvcHRpb25zLCBjb250YWluZXIsIHRoZW1lKSB7XG4gICAgY29udGFpbmVyID0gZG9tdXRpbC5hcHBlbmRIVE1MRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgY29uZmlnLmNsYXNzbmFtZSgnZGF5Z3JpZC1sYXlvdXQnKVxuICAgICk7XG4gICAgVmlldy5jYWxsKHRoaXMsIGNvbnRhaW5lcik7XG5cbiAgICBuYW1lID0gbmFtZSB8fCAnZGF5Z3JpZCc7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB1dGlsLmV4dGVuZCh7XG4gICAgICAgIHZpZXdOYW1lOiBuYW1lLFxuICAgICAgICBkYXluYW1lczogWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXSxcbiAgICAgICAgcmVuZGVyU3RhcnREYXRlOiAnJyxcbiAgICAgICAgcmVuZGVyRW5kRGF0ZTogJycsXG4gICAgICAgIGNvbnRhaW5lckJvdHRvbUd1dHRlcjogMTgsXG4gICAgICAgIHNjaGVkdWxlSGVpZ2h0OiBwYXJzZUludCh0aGVtZS53ZWVrLmRheUdyaWRTY2hlZHVsZS5oZWlnaHQsIDEwKSxcbiAgICAgICAgc2NoZWR1bGVHdXR0ZXI6IHBhcnNlSW50KHRoZW1lLndlZWsuZGF5R3JpZFNjaGVkdWxlLm1hcmdpblRvcCwgMTApLFxuICAgICAgICBzY2hlZHVsZUNvbnRhaW5lclRvcDogMSxcbiAgICAgICAgdGltZXpvbmVzOiBvcHRpb25zLnRpbWV6b25lcyxcbiAgICAgICAgaXNSZWFkT25seTogb3B0aW9ucy5pc1JlYWRPbmx5LFxuICAgICAgICBnZXRWaWV3TW9kZWxGdW5jOiBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3TW9kZWwuc2NoZWR1bGVzSW5EYXRlUmFuZ2VbbmFtZV07XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZpZXdNb2RlbEZ1bmM6IGZ1bmN0aW9uKHZpZXdNb2RlbCwgbWF0cmljZXMpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5zY2hlZHVsZXNJbkRhdGVSYW5nZVtuYW1lXSA9IG1hdHJpY2VzO1xuICAgICAgICB9XG4gICAgfSwgb3B0aW9ucy53ZWVrKTtcblxuICAgIHRoaXMuaGFuZGxlciA9IHt9O1xuICAgIHRoaXMudlBhbmVsID0gbnVsbDtcblxuICAgIHRoaXMuc3RhdGUuY29sbGFwc2VkID0gdHJ1ZTtcbn1cblxudXRpbC5pbmhlcml0KERheUdyaWQsIFZpZXcpO1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICogQHBhcmFtIHtvYmplY3R9IHZpZXdNb2RlbCAtIHNjaGVkdWxlcyB2aWV3IG1vZGVsc1xuICovXG5EYXlHcmlkLnByb3RvdHlwZS5nZXRCYXNlVmlld01vZGVsID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgdmFyIG9wdCA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgZGF5bmFtZXMgPSBvcHQuZGF5bmFtZXMsXG4gICAgICAgIHJhbmdlID0gdmlld01vZGVsLnJhbmdlLFxuICAgICAgICBncmlkcyA9IHZpZXdNb2RlbC5ncmlkcyxcbiAgICAgICAgbWF0cmljZXMgPSBvcHQuZ2V0Vmlld01vZGVsRnVuYyh2aWV3TW9kZWwpLFxuICAgICAgICBleGNlZWREYXRlID0ge30sXG4gICAgICAgIHBhbmVsID0gZ2V0UGFuZWwob3B0LnBhbmVscywgb3B0LnZpZXdOYW1lKSxcbiAgICAgICAgcGFuZWxIZWlnaHQgPSB0aGlzLmdldFZpZXdCb3VuZCgpLmhlaWdodCxcbiAgICAgICAgY29sbGFwc2VkID0gdGhpcy5zdGF0ZS5jb2xsYXBzZWQsXG4gICAgICAgIGhlaWdodEZvcmNlZFNldCA9IHRoaXMudlBhbmVsID8gdGhpcy52UGFuZWwuZ2V0SGVpZ2h0Rm9yY2VkU2V0KCkgOiBmYWxzZSxcbiAgICAgICAgdGltZXpvbmVzQ29sbGFwc2VkID0gdmlld01vZGVsLnN0YXRlLnRpbWV6b25lc0NvbGxhcHNlZCxcbiAgICAgICAgc3R5bGVzID0gdGhpcy5fZ2V0U3R5bGVzKHZpZXdNb2RlbC50aGVtZSwgdGltZXpvbmVzQ29sbGFwc2VkKTtcblxuICAgIHZhciBiYXNlVmlld01vZGVsLCB2aXNpYmxlU2NoZWR1bGVDb3VudDtcbiAgICB2YXIgbm93ID0gbmV3IFRaRGF0ZSgpLnRvTG9jYWxUaW1lKCk7XG5cbiAgICBpZiAocGFuZWwuc2hvd0V4cGFuZGFibGVCdXR0b24pIHtcbiAgICAgICAgaWYgKCFoZWlnaHRGb3JjZWRTZXQpIHtcbiAgICAgICAgICAgIGlmIChjb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBwYW5lbEhlaWdodCA9IG1tYXgocGFuZWxIZWlnaHQsIHBhbmVsLm1heEhlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhbmVsSGVpZ2h0ID0gbW1pbihwYW5lbEhlaWdodCwgcGFuZWwubWF4RXhwYW5kYWJsZUhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2aXNpYmxlU2NoZWR1bGVDb3VudCA9IE1hdGguZmxvb3IocGFuZWxIZWlnaHQgLyAob3B0LnNjaGVkdWxlSGVpZ2h0ICsgb3B0LnNjaGVkdWxlR3V0dGVyKSk7XG4gICAgICAgIGlmIChjb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIGV4Y2VlZERhdGUgPSB0aGlzLnBhcmVudC5jb250cm9sbGVyLmdldEV4Y2VlZERhdGUodmlzaWJsZVNjaGVkdWxlQ291bnQsXG4gICAgICAgICAgICAgICAgbWF0cmljZXMsXG4gICAgICAgICAgICAgICAgdmlld01vZGVsLnJhbmdlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbWF0cmljZXMgPSB0aGlzLnBhcmVudC5jb250cm9sbGVyLmV4Y2x1ZGVFeGNlZWRTY2hlZHVsZXMobWF0cmljZXMsIHZpc2libGVTY2hlZHVsZUNvdW50KTtcbiAgICAgICAgICAgIG9wdC5zZXRWaWV3TW9kZWxGdW5jKHZpZXdNb2RlbCwgbWF0cmljZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmFzZVZpZXdNb2RlbCA9IHtcbiAgICAgICAgdmlld05hbWU6IG9wdC52aWV3TmFtZSxcbiAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgICBncmlkczogZ3JpZHMsXG4gICAgICAgIGRheXM6IHV0aWwubWFwKHZpZXdNb2RlbC5yYW5nZSwgZnVuY3Rpb24oZCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBkYXkgPSBkLmdldERheSgpO1xuICAgICAgICAgICAgdmFyIHltZCA9IGRhdGV0aW1lLmZvcm1hdChkLCAnWVlZWU1NREQnKTtcbiAgICAgICAgICAgIHZhciBpc1RvZGF5ID0gZGF0ZXRpbWUuaXNTYW1lRGF0ZShub3csIGQpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRheTogZGF5LFxuICAgICAgICAgICAgICAgIGRheU5hbWU6IGRheW5hbWVzW2RheV0sXG4gICAgICAgICAgICAgICAgaXNUb2RheTogaXNUb2RheSxcbiAgICAgICAgICAgICAgICBkYXRlOiBkLmdldERhdGUoKSxcbiAgICAgICAgICAgICAgICByZW5kZXJEYXRlOiBkYXRldGltZS5mb3JtYXQoZCwgJ1lZWVktTU0tREQnKSxcbiAgICAgICAgICAgICAgICBoaWRkZW5TY2hlZHVsZXM6IGV4Y2VlZERhdGVbeW1kXSB8fCAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBncmlkc1tpbmRleF0gPyBncmlkc1tpbmRleF0ud2lkdGggOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGdyaWRzW2luZGV4XSA/IGdyaWRzW2luZGV4XS5sZWZ0IDogMCxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHZpZXdNb2RlbC5yYW5nZS5sZW5ndGggPiAxID9cbiAgICAgICAgICAgICAgICAgICAgZ2V0V2Vla0JhY2tncm91bmRDb2xvcihkYXksIGlzVG9kYXksIHN0eWxlcykgOiBzdHlsZXMuYmFja2dyb3VuZENvbG9yXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgZXhjZWVkRGF0ZTogZXhjZWVkRGF0ZSxcbiAgICAgICAgc2hvd0V4cGFuZGFibGVCdXR0b246IHBhbmVsLnNob3dFeHBhbmRhYmxlQnV0dG9uLFxuICAgICAgICBjb2xsYXBzZWQ6IGNvbGxhcHNlZCxcbiAgICAgICAgY29sbGFwc2VCdG5JbmRleDogdGhpcy5zdGF0ZS5jbGlja2VkRXhwYW5kQnRuSW5kZXgsXG4gICAgICAgIHN0eWxlczogc3R5bGVzXG4gICAgfTtcblxuICAgIHJldHVybiBiYXNlVmlld01vZGVsO1xufTtcblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWV3TW9kZWwgLSBzY2hlZHVsZXMgdmlldyBtb2RlbHNcbiAqL1xuRGF5R3JpZC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgdmFyIG9wdCA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXG4gICAgICAgIGJhc2VWaWV3TW9kZWwgPSB0aGlzLmdldEJhc2VWaWV3TW9kZWwodmlld01vZGVsKSxcbiAgICAgICAgc2NoZWR1bGVDb250YWluZXJUb3AgPSB0aGlzLm9wdGlvbnMuc2NoZWR1bGVDb250YWluZXJUb3A7XG4gICAgdmFyIGRheUdyaWRTY2hlZHVsZTtcblxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBiYXNlVG1wbChiYXNlVmlld01vZGVsKTtcblxuICAgIHRoaXMuY2hpbGRyZW4uY2xlYXIoKTtcblxuICAgIGRheUdyaWRTY2hlZHVsZSA9IG5ldyBEYXlHcmlkU2NoZWR1bGUoXG4gICAgICAgIG9wdCxcbiAgICAgICAgZG9tdXRpbC5maW5kKGNvbmZpZy5jbGFzc25hbWUoJy5jb250YWluZXInKSwgY29udGFpbmVyKVxuICAgICk7XG4gICAgdGhpcy5hZGRDaGlsZChkYXlHcmlkU2NoZWR1bGUpO1xuXG4gICAgZGF5R3JpZFNjaGVkdWxlLm9uKCdhZnRlclJlbmRlcicsIGZ1bmN0aW9uKHdlZWtkYXlWaWV3TW9kZWwpIHtcbiAgICAgICAgYmFzZVZpZXdNb2RlbC5oZWlnaHQgPSB3ZWVrZGF5Vmlld01vZGVsLm1pbkhlaWdodCArIHNjaGVkdWxlQ29udGFpbmVyVG9wO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGNoaWxkVmlldykge1xuICAgICAgICBjaGlsZFZpZXcucmVuZGVyKHZpZXdNb2RlbCk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLmZpcmUoJ2FmdGVyUmVuZGVyJywgYmFzZVZpZXdNb2RlbCk7XG59O1xuXG5EYXlHcmlkLnByb3RvdHlwZS5fYmVmb3JlRGVzdHJveSA9IGZ1bmN0aW9uKCkge1xufTtcblxuRGF5R3JpZC5wcm90b3R5cGUuYWRkSGFuZGxlciA9IGZ1bmN0aW9uKHR5cGUsIGhhbmRsZXIsIHZQYW5lbCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuaGFuZGxlclt0eXBlXSA9IGhhbmRsZXI7XG4gICAgdGhpcy52UGFuZWwgPSB2UGFuZWw7XG5cbiAgICBpZiAodHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICBoYW5kbGVyLm9uKCdleHBhbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGNvbGxhcHNlZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgaGFuZGxlci5vbignY29sbGFwc2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGNvbGxhcHNlZDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbn07XG5cbkRheUdyaWQucHJvdG90eXBlLl9leHBhbmQgPSBmdW5jdGlvbigpIHtcbiAgICByZXFBbmltRnJhbWUucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZQYW5lbCA9IHRoaXMudlBhbmVsO1xuICAgICAgICB2YXIgb3B0ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgcGFuZWwgPSBnZXRQYW5lbChvcHQucGFuZWxzLCBvcHQudmlld05hbWUpO1xuXG4gICAgICAgIHZQYW5lbC5zZXRNYXhIZWlnaHQocGFuZWwubWF4RXhwYW5kYWJsZUhlaWdodCk7XG4gICAgICAgIHZQYW5lbC5zZXRIZWlnaHRGb3JjZWRTZXQoZmFsc2UpO1xuICAgICAgICB2UGFuZWwuc2V0SGVpZ2h0KG51bGwsIHBhbmVsLm1heEV4cGFuZGFibGVIZWlnaHQpO1xuXG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcbn07XG5cbkRheUdyaWQucHJvdG90eXBlLl9jb2xsYXBzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJlcUFuaW1GcmFtZS5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdlBhbmVsID0gdGhpcy52UGFuZWw7XG4gICAgICAgIHZhciBvcHQgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBwYW5lbCA9IGdldFBhbmVsKG9wdC5wYW5lbHMsIG9wdC52aWV3TmFtZSk7XG5cbiAgICAgICAgdlBhbmVsLnNldE1heEhlaWdodChwYW5lbC5tYXhIZWlnaHQpO1xuICAgICAgICB2UGFuZWwuc2V0SGVpZ2h0Rm9yY2VkU2V0KGZhbHNlKTtcbiAgICAgICAgdlBhbmVsLnNldEhlaWdodChudWxsLCBwYW5lbC5taW5IZWlnaHQpO1xuXG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcbn07XG5cbi8qKlxuICogc2V0IHN0YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBzdGF0ZVxuICovXG5EYXlHcmlkLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgdmFyIGNvbGxhcHNlZCA9IHRoaXMuc3RhdGUuY29sbGFwc2VkO1xuICAgIFZpZXcucHJvdG90eXBlLnNldFN0YXRlLmNhbGwodGhpcywgc3RhdGUpO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuY29sbGFwc2VkID09PSBjb2xsYXBzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLmNvbGxhcHNlZCkge1xuICAgICAgICB0aGlzLl9jb2xsYXBzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2V4cGFuZCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogR2V0IHRoZSBzdHlsZXMgZnJvbSB0aGVtZVxuICogQHBhcmFtIHtUaGVtZX0gdGhlbWUgLSB0aGVtZSBpbnN0YW5jZVxuICogQHBhcmFtIHtib29sZWFufSB0aW1lem9uZXNDb2xsYXBzZWQgLSBtdWx0aXBsZSB0aW1lem9uZXMgYXJlIGNvbGxhcHNlZC5cbiAqIEByZXR1cm5zIHtvYmplY3R9IHN0eWxlcyAtIHN0eWxlcyBvYmplY3RcbiAqL1xuRGF5R3JpZC5wcm90b3R5cGUuX2dldFN0eWxlcyA9IGZ1bmN0aW9uKHRoZW1lLCB0aW1lem9uZXNDb2xsYXBzZWQpIHtcbiAgICB2YXIgc3R5bGVzID0ge307XG4gICAgdmFyIHRpbWV6b25lc0xlbmd0aCA9IHRoaXMub3B0aW9ucy50aW1lem9uZXMubGVuZ3RoO1xuICAgIHZhciBjb2xsYXBzZWQgPSB0aW1lem9uZXNDb2xsYXBzZWQ7XG4gICAgdmFyIG51bWJlckFuZFVuaXQ7XG5cbiAgICBpZiAodGhlbWUpIHtcbiAgICAgICAgc3R5bGVzLmJvcmRlclJpZ2h0ID0gdGhlbWUud2Vlay5kYXlncmlkLmJvcmRlclJpZ2h0IHx8IHRoZW1lLmNvbW1vbi5ib3JkZXI7XG4gICAgICAgIHN0eWxlcy50b2RheUJhY2tncm91bmRDb2xvciA9IHRoZW1lLndlZWsudG9kYXkuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBzdHlsZXMud2Vla2VuZEJhY2tncm91bmRDb2xvciA9IHRoZW1lLndlZWsud2Vla2VuZC5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS53ZWVrLmRheWdyaWQuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBzdHlsZXMubGVmdFdpZHRoID0gdGhlbWUud2Vlay5kYXlncmlkTGVmdC53aWR0aDtcbiAgICAgICAgc3R5bGVzLmxlZnRCYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS53ZWVrLmRheWdyaWRMZWZ0LmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgc3R5bGVzLmxlZnRQYWRkaW5nUmlnaHQgPSB0aGVtZS53ZWVrLmRheWdyaWRMZWZ0LnBhZGRpbmdSaWdodDtcbiAgICAgICAgc3R5bGVzLmxlZnRCb3JkZXJSaWdodCA9IHRoZW1lLndlZWsuZGF5Z3JpZExlZnQuYm9yZGVyUmlnaHQ7XG5cbiAgICAgICAgaWYgKCFjb2xsYXBzZWQgJiYgdGltZXpvbmVzTGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgbnVtYmVyQW5kVW5pdCA9IGNvbW1vbi5wYXJzZVVuaXQoc3R5bGVzLmxlZnRXaWR0aCk7XG4gICAgICAgICAgICBzdHlsZXMubGVmdFdpZHRoID0gKG51bWJlckFuZFVuaXRbMF0gKiB0aW1lem9uZXNMZW5ndGgpICsgbnVtYmVyQW5kVW5pdFsxXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXM7XG59O1xuXG4vKipcbiAqIEdldCBhIGJhY2tncm91bmQgY29sb3IgYmFzZWQgb24gZGF5LlxuICogQHBhcmFtIHtudW1iZXJ9IGRheSAtIGRheSBudW1iZXJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNUb2RheSAtIHRvZGF5IGZsYWdcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZXMgLSBzdHlsZSBvYmplY3RcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGJhY2tncm91bmRDb2xvclxuICovXG5mdW5jdGlvbiBnZXRXZWVrQmFja2dyb3VuZENvbG9yKGRheSwgaXNUb2RheSwgc3R5bGVzKSB7XG4gICAgdmFyIGJhY2tncm91bmRDb2xvciA9ICcnO1xuXG4gICAgaWYgKGRheSA9PT0gMCB8fCBkYXkgPT09IDYpIHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yID0gc3R5bGVzLndlZWtlbmRCYWNrZ3JvdW5kQ29sb3I7XG4gICAgfSBlbHNlIGlmIChpc1RvZGF5KSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvciA9IHN0eWxlcy50b2RheUJhY2tncm91bmRDb2xvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBzdHlsZXMuYmFja2dyb3VuZENvbG9yO1xuICAgIH1cblxuICAgIHJldHVybiBiYWNrZ3JvdW5kQ29sb3I7XG59XG5cbi8qKlxuICogZ2V0IGEgcGFuZWwgaW5mb21hdGlvblxuICogQHBhcmFtIHtBcnJheS48b2JqZWN0W10+fSBwYW5lbHMgLSBwYW5lbCBpbmZvbWF0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBwYW5lbCBuYW1lXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBwYW5lbCBpbmZvcm1hdGlvblxuICovXG5mdW5jdGlvbiBnZXRQYW5lbChwYW5lbHMsIG5hbWUpIHtcbiAgICB2YXIgZm91bmQ7XG5cbiAgICB1dGlsLmZvckVhY2gocGFuZWxzLCBmdW5jdGlvbihwYW5lbCkge1xuICAgICAgICBpZiAocGFuZWwubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgZm91bmQgPSBwYW5lbDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZvdW5kO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERheUdyaWQ7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy93ZWVrL2RheUdyaWRTY2hlZHVsZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzL3ZpZXcvd2Vlay9kYXlHcmlkU2NoZWR1bGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBXZWVrZGF5IHZpZXcgZm9yIHdlZWtcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBXZWVrZGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vd2Vla2RheSAqLyBcIi4vc3JjL2pzL3ZpZXcvd2Vla2RheS5qc1wiKSxcbiAgICB0bXBsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdGVtcGxhdGUvd2Vlay9kYXlHcmlkU2NoZWR1bGUuaGJzICovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS93ZWVrL2RheUdyaWRTY2hlZHVsZS5oYnNcIik7XG52YXIgbW1heCA9IE1hdGgubWF4O1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge1dlZWtkYXl9XG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgZm9yIERheUdyaWRTY2hlZHVsZSB2aWV3XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29udGFpbmVyQnV0dG9uR3V0dGVyPThdIC0gZnJlZSBzcGFjZSBhdCBib3R0b20gdG9cbiAqICBtYWtlIGNyZWF0ZSBlYXN5LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjaGVkdWxlSGVpZ2h0PTE4XSAtIGhlaWdodCBvZiBlYWNoIHNjaGVkdWxlIGJsb2NrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjaGVkdWxlR3V0dGVyPTJdIC0gZ3V0dGVyIGhlaWdodCBvZiBlYWNoIHNjaGVkdWxlIGJsb2NrLlxuICogQHBhcmFtIHtIVE1MRElWRWxlbWVudH0gY29udGFpbmVyIC0gRE9NIGVsZW1lbnQgdG8gdXNlIGNvbnRhaW5lciBmb3IgdGhpc1xuICogIHZpZXcuXG4gKi9cbmZ1bmN0aW9uIERheUdyaWRTY2hlZHVsZShvcHRpb25zLCBjb250YWluZXIpIHtcbiAgICBXZWVrZGF5LmNhbGwodGhpcywgb3B0aW9ucywgY29udGFpbmVyKTtcblxuICAgIHRoaXMuY29sbGFwc2VkID0gdHJ1ZTtcbn1cblxudXRpbC5pbmhlcml0KERheUdyaWRTY2hlZHVsZSwgV2Vla2RheSk7XG5cbi8qKlxuICogUmVuZGVyIFdlZWtkYXkgdmlld1xuICogQG92ZXJyaWRlXG4gKi9cbkRheUdyaWRTY2hlZHVsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgIHZhciBiYXNlVmlld01vZGVsO1xuXG4gICAgYmFzZVZpZXdNb2RlbCA9IHRoaXMuZ2V0QmFzZVZpZXdNb2RlbCh2aWV3TW9kZWwpO1xuXG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IHRtcGwoYmFzZVZpZXdNb2RlbCk7XG5cbiAgICB0aGlzLmZpcmUoJ2FmdGVyUmVuZGVyJywgYmFzZVZpZXdNb2RlbCk7XG59O1xuXG4vKipcbiAqIHJldHVybnMgbWF4aW11bSBzY2hlZHVsZSBjb3VudCBpbiBkYXlcbiAqIEBwYXJhbSB7YXJyYXl9IG1hdHJpY2VzIC0gVGhlIG1hdHJpY2VzIGZvciBzY2hlZHVsZSBwbGFjaW5nLlxuICogQHJldHVybnMge251bWJlcn0gbWF4aW11bSBzY2hlZHVsZSBjb3VudCBpbiBkYXlcbiAqL1xuRGF5R3JpZFNjaGVkdWxlLnByb3RvdHlwZS5fZ2V0TWF4U2NoZWR1bGVJbkRheSA9IGZ1bmN0aW9uKG1hdHJpY2VzKSB7XG4gICAgcmV0dXJuIG1tYXguYXBwbHkoXG4gICAgICAgIG51bGwsXG4gICAgICAgIHV0aWwubWFwKG1hdHJpY2VzLCBmdW5jdGlvbihtYXRyaXgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCB1dGlsLm1hcChtYXRyaXgsIGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgICAgIHJldHVybiByb3cubGVuZ3RoO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KVxuICAgICk7XG59O1xuXG4vKipcbiAqIHJldHVybnMgbWluaW11bSBoZWlnaHQgZm9yIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhTY2hlZHVsZUluRGF5IC0gbWF4IHNjaGVkdWxlIGJsb2NrcyBpbiBvbmUgZGF5XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5EYXlHcmlkU2NoZWR1bGUucHJvdG90eXBlLl9nZXRNaW5IZWlnaHQgPSBmdW5jdGlvbihtYXhTY2hlZHVsZUluRGF5KSB7XG4gICAgdmFyIG9wdCA9IHRoaXMub3B0aW9ucztcbiAgICB2YXIgY29udGVudEhlaWdodCA9IChtYXhTY2hlZHVsZUluRGF5ICogb3B0LnNjaGVkdWxlSGVpZ2h0KVxuICAgICAgICArICgobWF4U2NoZWR1bGVJbkRheSAtIDEpICogb3B0LnNjaGVkdWxlR3V0dGVyKTtcblxuICAgIC8vIGlmICh0aGlzLmNvbGxhcHNlZCAmJiB0aGlzLmFib3V0TWUubWF4SGVpZ2h0ID49IGNvbnRlbnRIZWlnaHQgKyBvcHQuY29udGFpbmVyQm90dG9tR3V0dGVyKSB7XG4gICAgLy8gICAgIGNvbnRlbnRIZWlnaHQgKz0gb3B0LmNvbnRhaW5lckJvdHRvbUd1dHRlcjtcbiAgICAvLyB9XG5cbiAgICByZXR1cm4gY29udGVudEhlaWdodDtcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKiBAcGFyYW0ge29iamVjdH0gdmlld01vZGVsIC0gc2NoZWR1bGVzIHZpZXcgbW9kZWxzXG4gKi9cbkRheUdyaWRTY2hlZHVsZS5wcm90b3R5cGUuZ2V0QmFzZVZpZXdNb2RlbCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgIHZhciBvcHQgPSB0aGlzLm9wdGlvbnM7XG4gICAgdmFyIG1hdHJpY2VzID0gb3B0LmdldFZpZXdNb2RlbEZ1bmModmlld01vZGVsKTtcbiAgICB2YXIgbWF4U2NoZWR1bGVJbkRheSA9IHRoaXMuX2dldE1heFNjaGVkdWxlSW5EYXkobWF0cmljZXMpO1xuICAgIHZhciBiYXNlVmlld01vZGVsO1xuICAgIHZhciBzdHlsZXMgPSB0aGlzLl9nZXRTdHlsZXModmlld01vZGVsLnRoZW1lKTtcblxuICAgIGJhc2VWaWV3TW9kZWwgPSBXZWVrZGF5LnByb3RvdHlwZS5nZXRCYXNlVmlld01vZGVsLmNhbGwodGhpcywgdmlld01vZGVsKTtcblxuICAgIGJhc2VWaWV3TW9kZWwgPSB1dGlsLmV4dGVuZCh7XG4gICAgICAgIG1pbkhlaWdodDogdGhpcy5fZ2V0TWluSGVpZ2h0KG1heFNjaGVkdWxlSW5EYXkpLFxuICAgICAgICBtYXRyaWNlczogbWF0cmljZXMsXG4gICAgICAgIHNjaGVkdWxlQ29udGFpbmVyVG9wOiB0aGlzLm9wdGlvbnMuc2NoZWR1bGVDb250YWluZXJUb3AsXG4gICAgICAgIG1heFNjaGVkdWxlSW5EYXk6IG1heFNjaGVkdWxlSW5EYXksXG4gICAgICAgIGlzUmVhZE9ubHk6IG9wdC5pc1JlYWRPbmx5LFxuICAgICAgICBzdHlsZXM6IHN0eWxlc1xuICAgIH0sIGJhc2VWaWV3TW9kZWwpO1xuXG4gICAgcmV0dXJuIGJhc2VWaWV3TW9kZWw7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgc3R5bGVzIGZyb20gdGhlbWVcbiAqIEBwYXJhbSB7VGhlbWV9IHRoZW1lIC0gdGhlbWUgaW5zdGFuY2VcbiAqIEByZXR1cm5zIHtvYmplY3R9IHN0eWxlcyAtIHN0eWxlcyBvYmplY3RcbiAqL1xuRGF5R3JpZFNjaGVkdWxlLnByb3RvdHlwZS5fZ2V0U3R5bGVzID0gZnVuY3Rpb24odGhlbWUpIHtcbiAgICB2YXIgc3R5bGVzID0ge307XG5cbiAgICBpZiAodGhlbWUpIHtcbiAgICAgICAgc3R5bGVzLmJvcmRlclJhZGl1cyA9IHRoZW1lLndlZWsuZGF5R3JpZFNjaGVkdWxlLmJvcmRlclJhZGl1cztcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXlHcmlkU2NoZWR1bGU7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvanMvdmlldy93ZWVrL2RheW5hbWUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy93ZWVrL2RheW5hbWUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVmlldyBmb3IgcmVuZGVyaW5nIGRheW5hbWVzXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpO1xudmFyIGNvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9jb21tb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29tbW9uLmpzXCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIFRaRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlO1xudmFyIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpO1xudmFyIFZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi92aWV3ICovIFwiLi9zcmMvanMvdmlldy92aWV3LmpzXCIpO1xudmFyIGRheW5hbWVUbXBsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdGVtcGxhdGUvd2Vlay9kYXluYW1lcy5oYnMgKi8gXCIuL3NyYy9qcy92aWV3L3RlbXBsYXRlL3dlZWsvZGF5bmFtZXMuaGJzXCIpO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBkYXluYW1lIHZpZXdcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciBDb250YWluZXIgZWxlbWVudCB0byB1c2UuXG4gKiBAcGFyYW0ge1RoZW1lfSB0aGVtZSAtIHRoZW1lIGluc3RhbmNlXG4gKiBAZXh0ZW5kcyB7Vmlld31cbiAqL1xuZnVuY3Rpb24gRGF5TmFtZShvcHRpb25zLCBjb250YWluZXIsIHRoZW1lKSB7XG4gICAgY29udGFpbmVyID0gZG9tdXRpbC5hcHBlbmRIVE1MRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgY29uZmlnLmNsYXNzbmFtZSgnZGF5bmFtZS1jb250YWluZXInKVxuICAgICk7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB1dGlsLmV4dGVuZCh7XG4gICAgICAgIGRheW5hbWVzOiBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddLFxuICAgICAgICB0aW1lem9uZXM6IG9wdGlvbnMudGltZXpvbmVzXG4gICAgfSwgb3B0aW9ucy53ZWVrKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtUaGVtZX1cbiAgICAgKi9cbiAgICB0aGlzLnRoZW1lID0gdGhlbWU7XG5cbiAgICBWaWV3LmNhbGwodGhpcywgY29udGFpbmVyKTtcblxuICAgIHRoaXMuYXBwbHlUaGVtZSgpO1xufVxuXG51dGlsLmluaGVyaXQoRGF5TmFtZSwgVmlldyk7XG5cbi8qKlxuICogR2V0IGRlZmF1bHQgdmlld21vZGVscy5cbiAqIEBwYXJhbSB7RGF0ZX0gc3RhcnQgVGhlIGRhdGUgb2Ygc3RhcnQgcmVuZGVyXG4gKiBAcGFyYW0ge0RhdGV9IGVuZCBUaGUgZW5kIG9mIGVuZCByZW5kZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBncmlkcyBncmlkIGRhdGEod2lkdGgsIGxlZnQsIGRheSlcbiAqIEByZXR1cm5zIHthcnJheX0gdmlld21vZGVsLlxuICovXG5EYXlOYW1lLnByb3RvdHlwZS5fZ2V0QmFzZVZpZXdNb2RlbCA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIGdyaWRzKSB7XG4gICAgdmFyIGRheW5hbWVzID0gdGhpcy5vcHRpb25zLmRheW5hbWVzLFxuICAgICAgICB0aGVtZSA9IHRoaXMudGhlbWUsXG4gICAgICAgIG5vdyA9IG5ldyBUWkRhdGUoKS50b0xvY2FsVGltZSgpLFxuICAgICAgICB2aWV3TW9kZWw7XG5cbiAgICB2aWV3TW9kZWwgPSB1dGlsLm1hcChkYXRldGltZS5yYW5nZShcbiAgICAgICAgZGF0ZXRpbWUuc3RhcnQoc3RhcnQpLFxuICAgICAgICBkYXRldGltZS5lbmQoZW5kKSxcbiAgICAgICAgZGF0ZXRpbWUuTUlMTElTRUNPTkRTX1BFUl9EQVlcbiAgICApLCBmdW5jdGlvbihkLCBpKSB7XG4gICAgICAgIHZhciBkYXkgPSBkLmdldERheSgpO1xuICAgICAgICB2YXIgaXNUb2RheSA9IGRhdGV0aW1lLmlzU2FtZURhdGUoZCwgbm93KTtcbiAgICAgICAgdmFyIGlzUGFzdERheSA9IGQgPCBub3cgJiYgIWlzVG9kYXk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRheTogZGF5LFxuICAgICAgICAgICAgZGF5TmFtZTogZGF5bmFtZXNbZGF5XSxcbiAgICAgICAgICAgIGlzVG9kYXk6IGlzVG9kYXksXG4gICAgICAgICAgICBkYXRlOiBkLmdldERhdGUoKSxcbiAgICAgICAgICAgIGxlZnQ6IGdyaWRzW2ldID8gZ3JpZHNbaV0ubGVmdCA6IDAsXG4gICAgICAgICAgICB3aWR0aDogZ3JpZHNbaV0gPyBncmlkc1tpXS53aWR0aCA6IDAsXG4gICAgICAgICAgICByZW5kZXJEYXRlOiBkYXRldGltZS5mb3JtYXQoZCwgJ1lZWVktTU0tREQnKSxcbiAgICAgICAgICAgIGNvbG9yOiB0aGlzLl9nZXREYXlOYW1lQ29sb3IodGhlbWUsIGRheSwgaXNUb2RheSwgaXNQYXN0RGF5KVxuICAgICAgICB9O1xuICAgIH0sIHRoaXMpO1xuXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKiBAcGFyYW0ge29iamVjdH0gdmlld01vZGVsIFZpZXcgbW9kZWwgZnJvbSBwYXJlbnQgKFdlZWtWaWV3KVxuICovXG5EYXlOYW1lLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICB2YXIgZGF5TmFtZXMgPSB0aGlzLl9nZXRCYXNlVmlld01vZGVsKFxuICAgICAgICB2aWV3TW9kZWwucmVuZGVyU3RhcnREYXRlLFxuICAgICAgICB2aWV3TW9kZWwucmVuZGVyRW5kRGF0ZSxcbiAgICAgICAgdmlld01vZGVsLmdyaWRzXG4gICAgKTtcbiAgICB2YXIgdGltZXpvbmVzQ29sbGFwc2VkID0gdmlld01vZGVsLnN0YXRlLnRpbWV6b25lc0NvbGxhcHNlZDtcbiAgICB2YXIgc3R5bGVzID0gdGhpcy5fZ2V0U3R5bGVzKHRoaXMudGhlbWUsIHRpbWV6b25lc0NvbGxhcHNlZCk7XG4gICAgdmFyIGJhc2VWaWV3TW9kZWwgPSB1dGlsLmV4dGVuZCh7fSwge1xuICAgICAgICBkYXlOYW1lczogZGF5TmFtZXMsXG4gICAgICAgIHN0eWxlczogc3R5bGVzXG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBkYXluYW1lVG1wbChiYXNlVmlld01vZGVsKTtcbn07XG5cbi8qKlxuICogR2V0IGEgZGF5IG5hbWUgY29sb3JcbiAqIEBwYXJhbSB7VGhlbWV9IHRoZW1lIC0gdGhlbWUgaW5zdGFuY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBkYXkgLSBkYXkgbnVtYmVyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzVG9kYXkgLSB0b2RheSBmbGFnXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUGFzdERheSAtIGlzIHBhc3QgZGF5IGZsYWdcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHN0eWxlIC0gY29sb3Igc3R5bGVcbiAqL1xuRGF5TmFtZS5wcm90b3R5cGUuX2dldERheU5hbWVDb2xvciA9IGZ1bmN0aW9uKHRoZW1lLCBkYXksIGlzVG9kYXksIGlzUGFzdERheSkge1xuICAgIHZhciBjb2xvciA9ICcnO1xuXG4gICAgaWYgKHRoZW1lKSB7XG4gICAgICAgIGlmIChkYXkgPT09IDApIHtcbiAgICAgICAgICAgIGNvbG9yID0gdGhlbWUuY29tbW9uLmhvbGlkYXkuY29sb3I7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNQYXN0RGF5KSB7XG4gICAgICAgICAgICBjb2xvciA9IHRoZW1lLndlZWsucGFzdERheS5jb2xvciB8fCB0aGVtZS5jb21tb24uZGF5bmFtZS5jb2xvcjtcbiAgICAgICAgfSBlbHNlIGlmIChkYXkgPT09IDYpIHtcbiAgICAgICAgICAgIGNvbG9yID0gdGhlbWUuY29tbW9uLnNhdHVyZGF5LmNvbG9yO1xuICAgICAgICB9IGVsc2UgaWYgKGlzVG9kYXkpIHtcbiAgICAgICAgICAgIGNvbG9yID0gdGhlbWUud2Vlay50b2RheS5jb2xvciB8fCB0aGVtZS5jb21tb24udG9kYXkuY29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvciA9IHRoZW1lLmNvbW1vbi5kYXluYW1lLmNvbG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9yO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIHN0eWxlcyBmcm9tIHRoZW1lXG4gKiBAcGFyYW0ge1RoZW1lfSB0aGVtZSAtIHRoZW1lIGluc3RhbmNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHRpbWV6b25lc0NvbGxhcHNlZCAtIG11bHRpcGxlIHRpbWV6b25lcyBhcmUgY29sbGFwc2VkLlxuICogQHJldHVybnMge29iamVjdH0gc3R5bGVzIC0gc3R5bGVzIG9iamVjdFxuICovXG5EYXlOYW1lLnByb3RvdHlwZS5fZ2V0U3R5bGVzID0gZnVuY3Rpb24odGhlbWUsIHRpbWV6b25lc0NvbGxhcHNlZCkge1xuICAgIHZhciBzdHlsZXMgPSB7fTtcbiAgICB2YXIgdGltZXpvbmVzTGVuZ3RoID0gdGhpcy5vcHRpb25zLnRpbWV6b25lcy5sZW5ndGg7XG4gICAgdmFyIGNvbGxhcHNlZCA9IHRpbWV6b25lc0NvbGxhcHNlZDtcbiAgICB2YXIgbnVtYmVyQW5kVW5pdDtcblxuICAgIGlmICh0aGVtZSkge1xuICAgICAgICBzdHlsZXMuYm9yZGVyVG9wID0gdGhlbWUud2Vlay5kYXluYW1lLmJvcmRlclRvcCB8fCB0aGVtZS5jb21tb24uYm9yZGVyO1xuICAgICAgICBzdHlsZXMuYm9yZGVyQm90dG9tID0gdGhlbWUud2Vlay5kYXluYW1lLmJvcmRlckJvdHRvbSB8fCB0aGVtZS5jb21tb24uYm9yZGVyO1xuICAgICAgICBzdHlsZXMuYm9yZGVyTGVmdCA9IHRoZW1lLndlZWsuZGF5bmFtZS5ib3JkZXJMZWZ0IHx8IHRoZW1lLmNvbW1vbi5ib3JkZXI7XG4gICAgICAgIHN0eWxlcy5wYWRkaW5nTGVmdCA9IHRoZW1lLndlZWsuZGF5bmFtZS5wYWRkaW5nTGVmdDtcbiAgICAgICAgc3R5bGVzLmJhY2tncm91bmRDb2xvciA9IHRoZW1lLndlZWsuZGF5bmFtZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHN0eWxlcy5oZWlnaHQgPSB0aGVtZS53ZWVrLmRheW5hbWUuaGVpZ2h0O1xuICAgICAgICBzdHlsZXMudGV4dEFsaWduID0gdGhlbWUud2Vlay5kYXluYW1lLnRleHRBbGlnbjtcbiAgICAgICAgc3R5bGVzLm1hcmdpbkxlZnQgPSB0aGVtZS53ZWVrLmRheWdyaWRMZWZ0LndpZHRoO1xuXG4gICAgICAgIGlmICghY29sbGFwc2VkICYmIHRpbWV6b25lc0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIG51bWJlckFuZFVuaXQgPSBjb21tb24ucGFyc2VVbml0KHN0eWxlcy5tYXJnaW5MZWZ0KTtcbiAgICAgICAgICAgIHN0eWxlcy5tYXJnaW5MZWZ0ID0gKG51bWJlckFuZFVuaXRbMF0gKiB0aW1lem9uZXNMZW5ndGgpICsgbnVtYmVyQW5kVW5pdFsxXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXM7XG59O1xuXG5EYXlOYW1lLnByb3RvdHlwZS5hcHBseVRoZW1lID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0eWxlcyA9IHRoaXMuX2dldFN0eWxlcyh0aGlzLnRoZW1lKTtcbiAgICB2YXIgc3R5bGUgPSB0aGlzLmNvbnRhaW5lci5zdHlsZTtcblxuICAgIHN0eWxlLmJvcmRlclRvcCA9IHN0eWxlcy5ib3JkZXJUb3A7XG4gICAgc3R5bGUuYm9yZGVyQm90dG9tID0gc3R5bGVzLmJvcmRlckJvdHRvbTtcbiAgICBzdHlsZS5oZWlnaHQgPSBzdHlsZXMuaGVpZ2h0O1xuICAgIHN0eWxlLmJhY2tncm91bmRDb2xvciA9IHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgc3R5bGUudGV4dEFsaWduID0gc3R5bGVzLnRleHRBbGlnbjtcblxuICAgIHJldHVybiBzdHlsZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRGF5TmFtZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy92aWV3L3dlZWsvdGltZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L3dlZWsvdGltZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBWaWV3IG9mIHRpbWUuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpO1xudmFyIFZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi92aWV3ICovIFwiLi9zcmMvanMvdmlldy92aWV3LmpzXCIpO1xudmFyIHRpbWVUbXBsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdGVtcGxhdGUvd2Vlay90aW1lLmhicyAqLyBcIi4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvd2Vlay90aW1lLmhic1wiKTtcbnZhciB0eiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKTtcblxudmFyIGZvckVhY2hBcnIgPSB1dGlsLmZvckVhY2hBcnJheTtcbnZhciBTQ0hFRFVMRV9NSU5fRFVSQVRJT04gPSBkYXRldGltZS5NSUxMSVNFQ09ORFNfU0NIRURVTEVfTUlOX0RVUkFUSU9OO1xuXG4vKipcbiAqIGNhbGN1bGF0ZSBvZmZzZXQgc3RhcnQgb2Ygc2NoZWR1bGVcbiAqIEBwYXJhbSB7U2NoZWR1bGVWaWV3TW9kZWx9IHZpZXdNb2RlbCAtIHZpZXcgbW9kZWwgaW5zdGFuY2UgdG8gY2FsY3VsYXRlIGJvdW5kLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBjYWxjdWxhdGluZyBzY2hlZHVsZSBlbGVtZW50J3MgYm91bmQuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIGxlZnQgYW5kIHdpZHRoXG4gKi9cbmZ1bmN0aW9uIGdldE9mZnNldFN0YXJ0KHZpZXdNb2RlbCwgb3B0aW9ucykge1xuICAgIHZhciBnb2luZ0R1cmF0aW9uID0gZGF0ZXRpbWUubWlsbGlzZWNvbmRzRnJvbSgnbWludXRlcycsIHZpZXdNb2RlbC52YWx1ZU9mKCkuZ29pbmdEdXJhdGlvbik7XG4gICAgdmFyIHN0YXJ0RGF5T2Zmc2V0ID0gb3B0aW9ucy50b2RheVN0YXJ0LnRvRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgdmFyIG5hdGl2ZU9mZnNldE1zID0gdHouZ2V0TmF0aXZlT2Zmc2V0TXMoKTtcbiAgICB2YXIgc3RhcnRPZmZzZXQgPSB2aWV3TW9kZWwudmFsdWVPZigpLnN0YXJ0LnRvRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgdmFyIHByaW1hcnlPZmZzZXQgPSB0ei5nZXRQcmltYXJ5T2Zmc2V0KCk7XG4gICAgdmFyIHRpbWV6b25lT2Zmc2V0ID0gdHouZ2V0T2Zmc2V0QnlUaW1lem9uZU5hbWUoXG4gICAgICAgIHR6LmdldFByaW1hcnlUaW1lem9uZU5hbWUoKSxcbiAgICAgICAgdmlld01vZGVsLnZhbHVlT2YoKS5zdGFydC5nZXRUaW1lKClcbiAgICApO1xuICAgIHZhciBNSU5fVE9fTVMgPSA2MCAqIDEwMDA7XG4gICAgdmFyIG9mZnNldERpZmZNcyA9IDA7XG4gICAgdmFyIG9mZnNldFN0YXJ0ID0gdmlld01vZGVsLnZhbHVlT2YoKS5zdGFydCAtIGdvaW5nRHVyYXRpb24gLSBvcHRpb25zLnRvZGF5U3RhcnQ7XG5cbiAgICBpZiAodHouaGFzUHJpbWFyeVRpbWV6b25lQ3VzdG9tU2V0dGluZygpKSB7XG4gICAgICAgIGlmICh0ei5pc05hdGl2ZU9zVXNpbmdEU1RUaW1lem9uZSgpICYmIG5hdGl2ZU9mZnNldE1zICE9PSBzdGFydERheU9mZnNldCkge1xuICAgICAgICAgICAgLy8gV2hlbiB1c2luZyBhIGN1c3RvbSB0aW1lIHpvbmUsIHRoZSBuYXRpdmUgdGltZSB6b25lIG9mZnNldCBpcyBmaXhlZCBhbmQgcmVuZGVyZWQuXG4gICAgICAgICAgICAvLyBTbywgVGhlIGZpeGVkIGFuZCByZW5kZXJlZCB0aW1lIHNob3VsZCBiZSByZWNhbGN1bGF0ZWQgYXMgdGhlIG9yaWdpbmFsIHRpbWUgem9uZSBvZmZzZXQuXG4gICAgICAgICAgICAvLyBUaGUgY3VycmVudCBzeXN0ZW0gT1MgbG9jYWwgdGltZSBpcyBub3QgYWZmZWN0ZWQgYnkgc3VtbWVyL3N0YW5kYXJkIHRpbWUgYW5kIHRoZSBzY2hlZHVsZSBzaG91bGQgYWx3YXlzIGJlIGRpc3BsYXllZCBpbiB0aGUgc2FtZSBsb2NhdGlvbi5cbiAgICAgICAgICAgIG9mZnNldERpZmZNcyA9IChzdGFydE9mZnNldCAqIE1JTl9UT19NUykgLSBuYXRpdmVPZmZzZXRNcztcbiAgICAgICAgICAgIG9mZnNldFN0YXJ0ICs9IG9mZnNldERpZmZNcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ei5pc1ByaW1hcnlVc2luZ0RTVFRpbWV6b25lKCkgJiYgcHJpbWFyeU9mZnNldCAhPT0gdGltZXpvbmVPZmZzZXQpIHtcbiAgICAgICAgICAgIC8vIFRoZSBjdXN0b20gdGltZSB6b25lIGlzIGEgdGltZSB6b25lIHdoZXJlIHR3byBvZmZzZXRzIGluY2x1ZGluZyBEU1QgYXJlIGFwcGxpZWQuXG4gICAgICAgICAgICAvLyBUaGUgZmlyc3QgcmVuZGVyZWQgc2NoZWR1bGUgaXMgY2FsY3VsYXRlZCBhbmQgZHJhd24gd2l0aCB0aGUgb2Zmc2V0IGNhbGN1bGF0ZWQgYXQgdGhlIGFjY2VzcyB0aW1lKHN5c3RlbSBPUyBsb2NhbCB0aW1lKS5cbiAgICAgICAgICAgIC8vIEl0IHNob3VsZCBiZSByZWNhbGN1bGF0ZWQgd2l0aCB0aGUgb3JpZ2luYWwgdGltZSB6b25lIG9mZnNldC5cbiAgICAgICAgICAgIG9mZnNldERpZmZNcyA9IChwcmltYXJ5T2Zmc2V0IC0gdGltZXpvbmVPZmZzZXQpICogTUlOX1RPX01TO1xuICAgICAgICAgICAgb2Zmc2V0U3RhcnQgKz0gb2Zmc2V0RGlmZk1zO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9mZnNldFN0YXJ0O1xufVxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge1ZpZXd9XG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5pbmRleCBEYXRlIGluZGV4IGluIHdlZWsgdmlldy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLndpZHRoIERhdGUgZWxlbWVudCB3aWR0aCAocGVyY2VudClcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnltZCBZWVlNTUREIHN0cmluZyBmb3IgdGhpcyB2aWV3XG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuaXNUb2RheSB3aGVuIHNldCB0cnVlIHRoZW4gYXNzaWduIHRvZGF5IGRlc2lnbiBjbGFzcyB0byBjb250YWluZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5ob3VyU3RhcnQgQ2FuIGxpbWl0IG9mIHJlbmRlciBob3VyIHN0YXJ0LlxuICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaG91ckVuZCBDYW4gbGltaXQgb2YgcmVuZGVyIGhvdXIgZW5kLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyIEVsZW1lbnQgdG8gdXNlIGNvbnRhaW5lciBmb3IgdGhpcyB2aWV3LlxuICogQHBhcmFtIHtUaGVtZX0gdGhlbWUgLSB0aGVtZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBUaW1lKG9wdGlvbnMsIGNvbnRhaW5lciwgdGhlbWUpIHtcbiAgICBWaWV3LmNhbGwodGhpcywgY29udGFpbmVyKTtcblxuICAgIHRoaXMub3B0aW9ucyA9IHV0aWwuZXh0ZW5kKFxuICAgICAgICB7XG4gICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgeW1kOiAnJyxcbiAgICAgICAgICAgIGlzVG9kYXk6IGZhbHNlLFxuICAgICAgICAgICAgcGVuZGluZzogZmFsc2UsXG4gICAgICAgICAgICBob3VyU3RhcnQ6IDAsXG4gICAgICAgICAgICBob3VyRW5kOiAyNCxcbiAgICAgICAgICAgIGRlZmF1bHRNYXJnaW5Cb3R0b206IDIsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDE4LjUsXG4gICAgICAgICAgICBpc1JlYWRPbmx5OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBvcHRpb25zXG4gICAgKTtcblxuICAgIHRoaXMudGltZVRtcGwgPSB0aW1lVG1wbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtUaGVtZX1cbiAgICAgKi9cbiAgICB0aGlzLnRoZW1lID0gdGhlbWU7XG5cbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBvcHRpb25zLndpZHRoICsgJyUnO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gb3B0aW9ucy5sZWZ0ICsgJyUnO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pc1RvZGF5KSB7XG4gICAgICAgIGRvbXV0aWwuYWRkQ2xhc3ModGhpcy5jb250YWluZXIsIGNvbmZpZy5jbGFzc25hbWUoJ3RvZGF5JykpO1xuICAgIH1cblxuICAgIHRoaXMuYXBwbHlUaGVtZSgpO1xufVxuXG51dGlsLmluaGVyaXQoVGltZSwgVmlldyk7XG5cbi8qKlxuICogQ29udmVydCBZWVlZTU1ERCBmb3JtYXR0ZWQgc3RyaW5nIGRhdGUgdG8gRGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgZm9ybWF0dGVkIHN0cmluZy5cbiAqIEByZXR1cm5zIHtEYXRlfSBzdGFydCBvZiBkYXRlLlxuICovXG5UaW1lLnByb3RvdHlwZS5fcGFyc2VEYXRlR3JvdXAgPSBmdW5jdGlvbihzdHIpIHtcbiAgICB2YXIgeSA9IHBhcnNlSW50KHN0ci5zdWJzdHIoMCwgNCksIDEwKSxcbiAgICAgICAgbSA9IHBhcnNlSW50KHN0ci5zdWJzdHIoNCwgMiksIDEwKSxcbiAgICAgICAgZCA9IHBhcnNlSW50KHN0ci5zdWJzdHIoNiwgMiksIDEwKTtcbiAgICB2YXIgZGF0ZSA9IGRhdGV0aW1lLnN0YXJ0KCk7XG5cbiAgICBkYXRlLnNldEZ1bGxZZWFyKHksIG0gLSAxLCBkKTtcblxuICAgIHJldHVybiBkYXRldGltZS5zdGFydChkYXRlKTtcbn07XG5cbi8qKlxuICogY2FsY3VsYXRlIGxlZnQgYW5kIHdpZHRoXG4gKiBAcGFyYW0ge1NjaGVkdWxlVmlld01vZGVsfSB2aWV3TW9kZWwgLSB2aWV3IG1vZGVsIGluc3RhbmNlIHRvIGNhbGN1bGF0ZSBib3VuZC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgY2FsY3VsYXRpbmcgc2NoZWR1bGUgZWxlbWVudCdzIGJvdW5kLlxuICogQHJldHVybnMge29iamVjdH0gLSBsZWZ0IGFuZCB3aWR0aFxuICovXG5UaW1lLnByb3RvdHlwZS5fZ2V0U2NoZWR1bGVWaWV3Qm91bmRYID0gZnVuY3Rpb24odmlld01vZGVsLCBvcHRpb25zKSB7XG4gICAgdmFyIHdpZHRoID0gb3B0aW9ucy5iYXNlV2lkdGggKiAodmlld01vZGVsLmV4dHJhU3BhY2UgKyAxKTtcblxuICAgIC8vIHNldCB3aWR0aCBhdXRvIHdoZW4gaGFzIG5vIGNvbGxpc2lvbnMuXG4gICAgaWYgKCF2aWV3TW9kZWwuaGFzQ29sbGlkZSkge1xuICAgICAgICB3aWR0aCA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogb3B0aW9ucy5iYXNlTGVmdFtvcHRpb25zLmNvbHVtbkluZGV4XSxcbiAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgfTtcbn07XG5cbi8qKlxuICogY2FsY3VsYXRlIHRvcCwgaGVpZ2h0LCBjcm9wcGVkU3RhcnQgYW5kIGNyb3BwZWRFbmRcbiAqIEBwYXJhbSB7U2NoZWR1bGVWaWV3TW9kZWx9IHZpZXdNb2RlbCAtIHZpZXcgbW9kZWwgaW5zdGFuY2UgdG8gY2FsY3VsYXRlIGJvdW5kLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBjYWxjdWxhdGluZyBzY2hlZHVsZSBlbGVtZW50J3MgYm91bmQuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIGxlZnQgYW5kIHdpZHRoXG4gKi9cblRpbWUucHJvdG90eXBlLl9nZXRTY2hlZHVsZVZpZXdCb3VuZFkgPSBmdW5jdGlvbih2aWV3TW9kZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgYmFzZU1TID0gb3B0aW9ucy5iYXNlTVM7XG4gICAgdmFyIGJhc2VIZWlnaHQgPSBvcHRpb25zLmJhc2VIZWlnaHQ7XG4gICAgdmFyIGNyb3BwZWRTdGFydCA9IGZhbHNlO1xuICAgIHZhciBjcm9wcGVkRW5kID0gZmFsc2U7XG4gICAgdmFyIGdvaW5nRHVyYXRpb24gPSBkYXRldGltZS5taWxsaXNlY29uZHNGcm9tKCdtaW51dGVzJywgdmlld01vZGVsLnZhbHVlT2YoKS5nb2luZ0R1cmF0aW9uKTtcbiAgICB2YXIgY29taW5nRHVyYXRpb24gPSBkYXRldGltZS5taWxsaXNlY29uZHNGcm9tKCdtaW51dGVzJywgdmlld01vZGVsLnZhbHVlT2YoKS5jb21pbmdEdXJhdGlvbik7XG4gICAgdmFyIG1vZGVsRHVyYXRpb24gPSB2aWV3TW9kZWwuZHVyYXRpb24oKTtcbiAgICB2YXIgdG9wLCBoZWlnaHQsIGR1cmF0aW9uO1xuICAgIHZhciBnb2luZ0R1cmF0aW9uSGVpZ2h0LCBtb2RlbER1cmF0aW9uSGVpZ2h0LCBjb21pbmdEdXJhdGlvbkhlaWdodDtcbiAgICB2YXIgb2Zmc2V0U3RhcnQgPSBnZXRPZmZzZXRTdGFydCh2aWV3TW9kZWwsIG9wdGlvbnMpO1xuXG4gICAgLy8gY29udGFpbmVySGVpZ2h0IDogbWlsbGlzZWNvbmRzIGluIGRheSA9IHggOiBzY2hlZHVsZSdzIG1pbGxpc2Vjb25kc1xuICAgIHRvcCA9IChiYXNlSGVpZ2h0ICogb2Zmc2V0U3RhcnQpIC8gYmFzZU1TO1xuXG4gICAgbW9kZWxEdXJhdGlvbiA9IG1vZGVsRHVyYXRpb24gPiBTQ0hFRFVMRV9NSU5fRFVSQVRJT04gPyBtb2RlbER1cmF0aW9uIDogU0NIRURVTEVfTUlOX0RVUkFUSU9OO1xuICAgIGR1cmF0aW9uID0gbW9kZWxEdXJhdGlvbiArIGdvaW5nRHVyYXRpb24gKyBjb21pbmdEdXJhdGlvbjtcbiAgICBoZWlnaHQgPSAoYmFzZUhlaWdodCAqIGR1cmF0aW9uKSAvIGJhc2VNUztcblxuICAgIGdvaW5nRHVyYXRpb25IZWlnaHQgPSAoYmFzZUhlaWdodCAqIGdvaW5nRHVyYXRpb24pIC8gYmFzZU1TOyAvLyBjb21tb24ucmF0aW8oZHVyYXRpb24sIGdvaW5nRHVyYXRpb24sIDEwMCk7XG4gICAgbW9kZWxEdXJhdGlvbkhlaWdodCA9IChiYXNlSGVpZ2h0ICogbW9kZWxEdXJhdGlvbikgLyBiYXNlTVM7IC8vIGNvbW1vbi5yYXRpbyhkdXJhdGlvbiwgbW9kZWxEdXJhdGlvbiwgMTAwKTtcbiAgICBjb21pbmdEdXJhdGlvbkhlaWdodCA9IChiYXNlSGVpZ2h0ICogY29taW5nRHVyYXRpb24pIC8gYmFzZU1TOyAvLyBjb21tb24ucmF0aW8oZHVyYXRpb24sIGNvbWluZ0R1cmF0aW9uLCAxMDApO1xuXG4gICAgaWYgKG9mZnNldFN0YXJ0IDwgMCkge1xuICAgICAgICB0b3AgPSAwO1xuICAgICAgICBoZWlnaHQgKz0gKGJhc2VIZWlnaHQgKiBvZmZzZXRTdGFydCkgLyBiYXNlTVM7XG4gICAgICAgIGNyb3BwZWRTdGFydCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGhlaWdodCArIHRvcCA+IGJhc2VIZWlnaHQpIHtcbiAgICAgICAgaGVpZ2h0ID0gYmFzZUhlaWdodCAtIHRvcDtcbiAgICAgICAgY3JvcHBlZEVuZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGhlaWdodDogTWF0aC5tYXgoaGVpZ2h0LCB0aGlzLm9wdGlvbnMubWluSGVpZ2h0KSAtIHRoaXMub3B0aW9ucy5kZWZhdWx0TWFyZ2luQm90dG9tLFxuICAgICAgICBtb2RlbER1cmF0aW9uSGVpZ2h0OiBtb2RlbER1cmF0aW9uSGVpZ2h0LFxuICAgICAgICBnb2luZ0R1cmF0aW9uSGVpZ2h0OiBnb2luZ0R1cmF0aW9uSGVpZ2h0LFxuICAgICAgICBjb21pbmdEdXJhdGlvbkhlaWdodDogY29taW5nRHVyYXRpb25IZWlnaHQsXG4gICAgICAgIGhhc0dvaW5nRHVyYXRpb246IGdvaW5nRHVyYXRpb24gPiAwLFxuICAgICAgICBoYXNDb21pbmdEdXJhdGlvbjogY29taW5nRHVyYXRpb24gPiAwLFxuICAgICAgICBjcm9wcGVkU3RhcnQ6IGNyb3BwZWRTdGFydCxcbiAgICAgICAgY3JvcHBlZEVuZDogY3JvcHBlZEVuZFxuICAgIH07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7U2NoZWR1bGVWaWV3TW9kZWx9IHZpZXdNb2RlbCAtIHZpZXcgbW9kZWwgaW5zdGFuY2UgdG8gY2FsY3VsYXRlIGJvdW5kLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBjYWxjdWxhdGluZyBzY2hlZHVsZSBlbGVtZW50J3MgYm91bmQuXG4gKiBAcGFyYW0ge0RhdGV9IG9wdGlvbnMudG9kYXlTdGFydCAtIGRhdGUgb2JqZWN0IHJlcHJlc2VudCBzY2hlZHVsZSBkYXRlJ3Mgc3RhcnQgKDAwOjAwOjAwKVxuICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuYmFzZU1TIC0gdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gcmVuZGVyIHNjaGVkdWxlIGJsb2Nrcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmJhc2VIZWlnaHQgLSBwaXhlbCB2YWx1ZSByZWxhdGVkIHdpdGggYmFzZU1TIG9wdGlvbnMuXG4gKiBAcGFyYW0ge251bWJlcltdfSBvcHRpb25zLmJhc2VMZWZ0IC0gbGVmdCBwb3NpdGlvbiBwZXJjZW50cyBmb3IgZWFjaCBjb2x1bW5zLlxuICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuYmFzZVdpZHRoIC0gdGhlIHVuaXQgb2Ygc2NoZWR1bGUgYmxvY2tzIHdpZHRoIHBlcmNlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5jb2x1bW5JbmRleCAtIHRoZSBudW1iZXIgaW5kZXggb2Ygc2NoZWR1bGUgYmxvY2tzLlxuICogaXQgcmVwcmVzZW50IHJlbmRlcmluZyBpbmRleCBmcm9tIGxlZnQgc2lkZXMgaW4gdmlldy5cbiAqIEByZXR1cm5zIHtvYmplY3R9IGJvdW5kIG9iamVjdCBmb3Igc3VwcGxpZWQgdmlldyBtb2RlbC5cbiAqL1xuVGltZS5wcm90b3R5cGUuZ2V0U2NoZWR1bGVWaWV3Qm91bmQgPSBmdW5jdGlvbih2aWV3TW9kZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgYm91bmRYID0gdGhpcy5fZ2V0U2NoZWR1bGVWaWV3Qm91bmRYKHZpZXdNb2RlbCwgb3B0aW9ucyk7XG4gICAgdmFyIGJvdW5kWSA9IHRoaXMuX2dldFNjaGVkdWxlVmlld0JvdW5kWSh2aWV3TW9kZWwsIG9wdGlvbnMpO1xuICAgIHZhciBzY2hlZHVsZSA9IHZpZXdNb2RlbC5tb2RlbDtcbiAgICB2YXIgaXNSZWFkT25seSA9IHV0aWwucGljayhzY2hlZHVsZSwgJ2lzUmVhZE9ubHknKSB8fCBmYWxzZTtcbiAgICB2YXIgdHJhdmVsQm9yZGVyQ29sb3IgPSBzY2hlZHVsZS5pc0ZvY3VzZWQgPyAnI2ZmZmZmZicgOiBzY2hlZHVsZS5ib3JkZXJDb2xvcjtcbiAgICBpZiAodHJhdmVsQm9yZGVyQ29sb3IgPT09IHNjaGVkdWxlLmJnQ29sb3IpIHtcbiAgICAgICAgdHJhdmVsQm9yZGVyQ29sb3IgPSBudWxsOyAvLyBmb2xsb3cgdGV4dCBjb2xvclxuICAgIH1cblxuICAgIHJldHVybiB1dGlsLmV4dGVuZChcbiAgICAgICAge1xuICAgICAgICAgICAgaXNSZWFkT25seTogaXNSZWFkT25seSxcbiAgICAgICAgICAgIHRyYXZlbEJvcmRlckNvbG9yOiB0cmF2ZWxCb3JkZXJDb2xvclxuICAgICAgICB9LFxuICAgICAgICBib3VuZFgsXG4gICAgICAgIGJvdW5kWVxuICAgICk7XG59O1xuXG4vKipcbiAqIFNldCB2aWV3bW9kZWxzIGZvciByZW5kZXJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30geW1kIFRoZSBkYXRlIG9mIHNjaGVkdWxlcy4gWVlZWU1NREQgZm9ybWF0LlxuICogQHBhcmFtIHthcnJheX0gbWF0cmljZXMgVGhlIG1hdHJpY2VzIGZvciBzY2hlZHVsZSBwbGFjaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvbnRhaW5lckhlaWdodCAtIGNvbnRhaW5lcidzIGhlaWdodFxuICovXG5UaW1lLnByb3RvdHlwZS5fZ2V0QmFzZVZpZXdNb2RlbCA9IGZ1bmN0aW9uKHltZCwgbWF0cmljZXMsIGNvbnRhaW5lckhlaWdodCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgaG91clN0YXJ0ID0gb3B0aW9ucy5ob3VyU3RhcnQsXG4gICAgICAgIGhvdXJFbmQgPSBvcHRpb25zLmhvdXJFbmQsXG4gICAgICAgIGlzUmVhZE9ubHkgPSBvcHRpb25zLmlzUmVhZE9ubHksXG4gICAgICAgIHRvZGF5U3RhcnQsXG4gICAgICAgIGJhc2VNUztcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBlYWNoIHNjaGVkdWxlIGVsZW1lbnQgYm91bmRzIHJlbGF0aXZlIHdpdGggcmVuZGVyZWQgaG91ciBtaWxsaXNlY29uZHMgYW5kXG4gICAgICogd3JhcCBlYWNoIHNjaGVkdWxlIG1vZGVsIHRvIHZpZXdtb2RlbHMuXG4gICAgICovXG4gICAgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVySGVpZ2h0IHx8IHRoaXMuZ2V0Vmlld0JvdW5kKCkuaGVpZ2h0O1xuICAgIHRvZGF5U3RhcnQgPSB0aGlzLl9wYXJzZURhdGVHcm91cCh5bWQpO1xuICAgIHRvZGF5U3RhcnQuc2V0SG91cnMoaG91clN0YXJ0KTtcbiAgICBiYXNlTVMgPSBkYXRldGltZS5taWxsaXNlY29uZHNGcm9tKCdob3VyJywgaG91ckVuZCAtIGhvdXJTdGFydCk7XG5cbiAgICBmb3JFYWNoQXJyKG1hdHJpY2VzLCBmdW5jdGlvbihtYXRyaXgpIHtcbiAgICAgICAgdmFyIG1heFJvd0xlbmd0aCwgd2lkdGhQZXJjZW50LCBsZWZ0UGVyY2VudHMsIGk7XG5cbiAgICAgICAgbWF4Um93TGVuZ3RoID0gTWF0aC5tYXguYXBwbHkoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgdXRpbC5tYXAobWF0cml4LCBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcm93Lmxlbmd0aDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgd2lkdGhQZXJjZW50ID0gMTAwIC8gbWF4Um93TGVuZ3RoO1xuXG4gICAgICAgIGxlZnRQZXJjZW50cyA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWF4Um93TGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGxlZnRQZXJjZW50c1tpXSA9IHdpZHRoUGVyY2VudCAqIGk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JFYWNoQXJyKG1hdHJpeCwgZnVuY3Rpb24ocm93KSB7XG4gICAgICAgICAgICBmb3JFYWNoQXJyKHJvdywgZnVuY3Rpb24odmlld01vZGVsLCBjb2wpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlld0JvdW5kO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZpZXdCb3VuZCA9IHNlbGYuZ2V0U2NoZWR1bGVWaWV3Qm91bmQodmlld01vZGVsLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvZGF5U3RhcnQ6IHRvZGF5U3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIGJhc2VNUzogYmFzZU1TLFxuICAgICAgICAgICAgICAgICAgICBiYXNlTGVmdDogbGVmdFBlcmNlbnRzLFxuICAgICAgICAgICAgICAgICAgICBiYXNlV2lkdGg6IHdpZHRoUGVyY2VudCxcbiAgICAgICAgICAgICAgICAgICAgYmFzZUhlaWdodDogY29udGFpbmVySGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5JbmRleDogY29sLFxuICAgICAgICAgICAgICAgICAgICBpc1JlYWRPbmx5OiBpc1JlYWRPbmx5XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB1dGlsLmV4dGVuZCh2aWV3TW9kZWwsIHZpZXdCb3VuZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtEYXRlfSAtIERhdGUgb2YgdGhpcyB2aWV3LlxuICovXG5UaW1lLnByb3RvdHlwZS5nZXREYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlRGF0ZUdyb3VwKHRoaXMub3B0aW9ucy55bWQpO1xufTtcblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB5bWQgVGhlIGRhdGUgb2Ygc2NoZWR1bGVzLiBZWVlZTU1ERCBmb3JtYXRcbiAqIEBwYXJhbSB7YXJyYXl9IG1hdHJpY2VzIE1hdHJpY2VzIGZvciBwbGFjaW5nIHNjaGVkdWxlc1xuICogQHBhcmFtIHtudW1iZXJ9IGNvbnRhaW5lckhlaWdodCAtIGNvbnRhaW5lcidzIGhlaWdodFxuICovXG5UaW1lLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbih5bWQsIG1hdHJpY2VzLCBjb250YWluZXJIZWlnaHQpIHtcbiAgICB0aGlzLl9nZXRCYXNlVmlld01vZGVsKHltZCwgbWF0cmljZXMsIGNvbnRhaW5lckhlaWdodCk7XG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy50aW1lVG1wbCh7XG4gICAgICAgIG1hdHJpY2VzOiBtYXRyaWNlcyxcbiAgICAgICAgc3R5bGVzOiB0aGlzLl9nZXRTdHlsZXModGhpcy50aGVtZSksXG4gICAgICAgIGlzUmVhZE9ubHk6IHRoaXMub3B0aW9ucy5pc1JlYWRPbmx5XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgc3R5bGVzIGZyb20gdGhlbWVcbiAqIEBwYXJhbSB7VGhlbWV9IHRoZW1lIC0gdGhlbWUgaW5zdGFuY2VcbiAqIEByZXR1cm5zIHtvYmplY3R9IHN0eWxlcyAtIHN0eWxlcyBvYmplY3RcbiAqL1xuVGltZS5wcm90b3R5cGUuX2dldFN0eWxlcyA9IGZ1bmN0aW9uKHRoZW1lKSB7XG4gICAgdmFyIHN0eWxlcyA9IHt9O1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgaWYgKHRoZW1lKSB7XG4gICAgICAgIHN0eWxlcy5ib3JkZXJSaWdodCA9IHRoZW1lLndlZWsudGltZWdyaWQuYm9yZGVyUmlnaHQgfHwgdGhlbWUuY29tbW9uLmJvcmRlcjtcbiAgICAgICAgc3R5bGVzLm1hcmdpblJpZ2h0ID0gdGhlbWUud2Vlay50aW1lZ3JpZC5wYWRkaW5nUmlnaHQ7XG4gICAgICAgIHN0eWxlcy5ib3JkZXJSYWRpdXMgPSB0aGVtZS53ZWVrLnRpbWVncmlkU2NoZWR1bGUuYm9yZGVyUmFkaXVzO1xuICAgICAgICBzdHlsZXMucGFkZGluZ0xlZnQgPSB0aGVtZS53ZWVrLnRpbWVncmlkU2NoZWR1bGUucGFkZGluZ0xlZnQ7XG4gICAgICAgIHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmlzVG9kYXkgPyB0aGVtZS53ZWVrLnRvZGF5LmJhY2tncm91bmRDb2xvciA6ICdpbmhlcml0JztcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVzO1xufTtcblxuVGltZS5wcm90b3R5cGUuYXBwbHlUaGVtZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHlsZSA9IHRoaXMuY29udGFpbmVyLnN0eWxlO1xuICAgIHZhciBzdHlsZXMgPSB0aGlzLl9nZXRTdHlsZXModGhpcy50aGVtZSk7XG5cbiAgICBzdHlsZS5ib3JkZXJSaWdodCA9IHN0eWxlcy5ib3JkZXJSaWdodDtcbiAgICBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBzdHlsZXMuYmFja2dyb3VuZENvbG9yO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUaW1lO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3ZpZXcvd2Vlay90aW1lR3JpZC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy93ZWVrL3RpbWVHcmlkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBWaWV3IGZvciByZW5kZXJlZCBzY2hlZHVsZXMgYnkgdGltZXMuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpO1xudmFyIGNvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9jb21tb24gKi8gXCIuL3NyYy9qcy9jb21tb24vY29tbW9uLmpzXCIpO1xudmFyIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpO1xudmFyIGRvbWV2ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RvbWV2ZW50ICovIFwiLi9zcmMvanMvY29tbW9uL2RvbWV2ZW50LmpzXCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIHR6ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpO1xudmFyIHJlcUFuaW1GcmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi9yZXFBbmltRnJhbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vcmVxQW5pbUZyYW1lLmpzXCIpO1xudmFyIFZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi92aWV3ICovIFwiLi9zcmMvanMvdmlldy92aWV3LmpzXCIpO1xudmFyIFRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RpbWUgKi8gXCIuL3NyYy9qcy92aWV3L3dlZWsvdGltZS5qc1wiKTtcbnZhciBBdXRvU2Nyb2xsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2F1dG9TY3JvbGwgKi8gXCIuL3NyYy9qcy9jb21tb24vYXV0b1Njcm9sbC5qc1wiKTtcbnZhciBtYWluVG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RlbXBsYXRlL3dlZWsvdGltZUdyaWQuaGJzICovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS93ZWVrL3RpbWVHcmlkLmhic1wiKTtcbnZhciB0aW1lem9uZVN0aWNreVRtcGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90ZW1wbGF0ZS93ZWVrL3RpbWV6b25lU3RpY2t5LmhicyAqLyBcIi4vc3JjL2pzL3ZpZXcvdGVtcGxhdGUvd2Vlay90aW1lem9uZVN0aWNreS5oYnNcIik7XG52YXIgdGltZWdyaWRDdXJyZW50VGltZVRtcGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90ZW1wbGF0ZS93ZWVrL3RpbWVHcmlkQ3VycmVudFRpbWUuaGJzICovIFwiLi9zcmMvanMvdmlldy90ZW1wbGF0ZS93ZWVrL3RpbWVHcmlkQ3VycmVudFRpbWUuaGJzXCIpO1xudmFyIFRaRGF0ZSA9IHR6LkRhdGU7XG52YXIgSE9VUk1BUktFUl9SRUZSRVNIX0lOVEVSVkFMID0gMTAwMCAqIDYwO1xudmFyIFNJWFRZX1NFQ09ORFMgPSA2MDtcbnZhciBTSVhUWV9NSU5VVEVTID0gNjA7XG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgdGltZSBsYWJlbHMgZnJvbSBzdGFydCB0byBlbmQuXG4gKiBGb3IgaGlkZGVuIGxhYmVscyBuZWFyIHRoZSBjdXJyZW50IHRpbWUsIHNldCB0byBoaWRkZW46IHRydWUuXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0IC0gVGltZUdyaWQub3B0aW9uc1xuICogQHBhcmFtIHtib29sZWFufSBoYXNIb3VyTWFya2VyIC0gV2hldGhlciB0aGUgY3VycmVudCB0aW1lIGlzIGRpc3BsYXllZFxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWV6b25lT2Zmc2V0IC0gdGltZXpvbmUgb2Zmc2V0XG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGVzIC0gc3R5bGVzXG4gKiBAcmV0dXJucyB7QXJyYXkuPE9iamVjdD59XG4gKi9cbmZ1bmN0aW9uIGdldEhvdXJzTGFiZWxzKG9wdCwgaGFzSG91ck1hcmtlciwgdGltZXpvbmVPZmZzZXQsIHN0eWxlcykge1xuICAgIHZhciBob3VyU3RhcnQgPSBvcHQuaG91clN0YXJ0O1xuICAgIHZhciBob3VyRW5kID0gb3B0LmhvdXJFbmQ7XG4gICAgdmFyIHJlbmRlckVuZERhdGUgPSBuZXcgVFpEYXRlKG9wdC5yZW5kZXJFbmREYXRlKTtcbiAgICB2YXIgc2hpZnRCeU9mZnNldCA9IHBhcnNlSW50KHRpbWV6b25lT2Zmc2V0IC8gU0lYVFlfTUlOVVRFUywgMTApO1xuICAgIHZhciBzaGlmdE1pbnV0ZXMgPSBNYXRoLmFicyh0aW1lem9uZU9mZnNldCAlIFNJWFRZX01JTlVURVMpO1xuICAgIHZhciBub3cgPSBuZXcgVFpEYXRlKCkudG9Mb2NhbFRpbWUoKTtcbiAgICB2YXIgbm93TWludXRlcyA9IG5vdy5nZXRNaW51dGVzKCk7XG4gICAgdmFyIGhvdXJzUmFuZ2UgPSB1dGlsLnJhbmdlKDAsIDI0KTtcbiAgICB2YXIgbm93QXJvdW5kSG91cnMgPSBudWxsO1xuICAgIHZhciBub3dIb3Vycywgbm93SG91cnNJbmRleDtcbiAgICB2YXIgaXNOZWdhdGl2ZVplcm8gPSAxIC8gLUluZmluaXR5ID09PSBzaGlmdEJ5T2Zmc2V0O1xuXG4gICAgaWYgKChzaGlmdEJ5T2Zmc2V0IDwgMCB8fCBpc05lZ2F0aXZlWmVybykgJiYgc2hpZnRNaW51dGVzID4gMCkge1xuICAgICAgICBzaGlmdEJ5T2Zmc2V0IC09IDE7XG4gICAgfVxuXG4gICAgLy8gc2hpZnQgdGhlIGFycmF5IGFuZCB0YWtlIGVsZW1lbnRzIGJldHdlZW4gc3RhcnQgYW5kIGVuZFxuICAgIGNvbW1vbi5zaGlmdEFycmF5KGhvdXJzUmFuZ2UsIHNoaWZ0QnlPZmZzZXQpO1xuICAgIGNvbW1vbi50YWtlQXJyYXkoaG91cnNSYW5nZSwgaG91clN0YXJ0LCBob3VyRW5kKTtcblxuICAgIG5vd0hvdXJzID0gY29tbW9uLnNoaWZ0SG91cnMobm93LmdldEhvdXJzKCksIHNoaWZ0QnlPZmZzZXQpICUgMjQ7XG4gICAgbm93SG91cnNJbmRleCA9IHV0aWwuaW5BcnJheShub3dIb3VycywgaG91cnNSYW5nZSk7XG5cbiAgICBpZiAoaGFzSG91ck1hcmtlcikge1xuICAgICAgICBpZiAobm93TWludXRlcyA8IDIwKSB7XG4gICAgICAgICAgICBub3dBcm91bmRIb3VycyA9IG5vd0hvdXJzO1xuICAgICAgICB9IGVsc2UgaWYgKG5vd01pbnV0ZXMgPiA0MCkge1xuICAgICAgICAgICAgbm93QXJvdW5kSG91cnMgPSBub3dIb3VycyArIDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbC5pc051bWJlcihub3dBcm91bmRIb3VycykpIHtcbiAgICAgICAgICAgIG5vd0Fyb3VuZEhvdXJzICU9IDI0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWwubWFwKGhvdXJzUmFuZ2UsIGZ1bmN0aW9uKGhvdXIsIGluZGV4KSB7XG4gICAgICAgIHZhciBjb2xvcjtcbiAgICAgICAgdmFyIGZvbnRXZWlnaHQ7XG4gICAgICAgIHZhciBpc1Bhc3QgPVxuICAgICAgICAgICAgKGhhc0hvdXJNYXJrZXIgJiYgaW5kZXggPD0gbm93SG91cnNJbmRleCkgfHxcbiAgICAgICAgICAgIChyZW5kZXJFbmREYXRlIDwgbm93ICYmICFkYXRldGltZS5pc1NhbWVEYXRlKHJlbmRlckVuZERhdGUsIG5vdykpO1xuXG4gICAgICAgIGlmIChpc1Bhc3QpIHtcbiAgICAgICAgICAgIC8vIHBhc3RcbiAgICAgICAgICAgIGNvbG9yID0gc3R5bGVzLnBhc3RUaW1lQ29sb3I7XG4gICAgICAgICAgICBmb250V2VpZ2h0ID0gc3R5bGVzLnBhc3RUaW1lRm9udFdlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZ1dHVyZVxuICAgICAgICAgICAgY29sb3IgPSBzdHlsZXMuZnV0dXJlVGltZUNvbG9yO1xuICAgICAgICAgICAgZm9udFdlaWdodCA9IHN0eWxlcy5mdXR1cmVUaW1lRm9udFdlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBob3VyOiBob3VyLFxuICAgICAgICAgICAgbWludXRlczogc2hpZnRNaW51dGVzLFxuICAgICAgICAgICAgaGlkZGVuOiBub3dBcm91bmRIb3VycyA9PT0gaG91ciB8fCBpbmRleCA9PT0gMCxcbiAgICAgICAgICAgIGNvbG9yOiBjb2xvciB8fCAnJyxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IGZvbnRXZWlnaHQgfHwgJydcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRpbWV6b25lIG9mZnNldCBmcm9tIHRpbWV6b25lIG9iamVjdFxuICogQHBhcmFtIHtvYmplY3R9IHRpbWV6b25lT2JqIC0gdGltZXpvbmUgb2JqZWN0IGluIG9wdGlvbnMudGltem9uZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXAgLSB0aW1lc3RhbXBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbWV6b25lT2Zmc2V0IC0gdGltZXpvbmUgb2Zmc2V0XG4gKi9cbmZ1bmN0aW9uIGdldE9mZnNldEJ5VGltZXpvbmVPcHRpb24odGltZXpvbmVPYmosIHRpbWVzdGFtcCkge1xuICAgIHZhciBwcmltYXJ5T2Zmc2V0ID0gdHouZ2V0UHJpbWFyeU9mZnNldCgpO1xuICAgIGlmICh1dGlsLmlzU3RyaW5nKHRpbWV6b25lT2JqLnRpbWV6b25lTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIC10ei5nZXRPZmZzZXRCeVRpbWV6b25lTmFtZSh0aW1lem9uZU9iai50aW1lem9uZU5hbWUsIHRpbWVzdGFtcCk7XG4gICAgfVxuXG4gICAgLy8gQGRlcHJlY2F0ZWQgdGltZXpvbmVPZmZzZXQgcHJvcGVydHkgd2lsbCBiZSBkZXByZWNhdGVkXG4gICAgaWYgKHV0aWwuaXNOdW1iZXIodGltZXpvbmVPYmoudGltZXpvbmVPZmZzZXQpICYmIHRpbWV6b25lT2JqLnRpbWV6b25lT2Zmc2V0ICE9PSBwcmltYXJ5T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aW1lem9uZU9iai50aW1lem9uZU9mZnNldDtcbiAgICB9XG5cbiAgICByZXR1cm4gLXByaW1hcnlPZmZzZXQ7XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7Vmlld31cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gdmlldyBuYW1lXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBUaGUgb2JqZWN0IGZvciB2aWV3IGN1c3RvbWl6YXRpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5yZW5kZXJTdGFydERhdGUgLSByZW5kZXIgc3RhcnQgZGF0ZS4gWVlZWS1NTS1ERFxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMucmVuZGVyRW5kRGF0ZSAtIHJlbmRlciBlbmQgZGF0ZS4gWVlZWS1NTS1ERFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhvdXJTdGFydD0wXSBZb3UgY2FuIGNoYW5nZSB2aWV3J3Mgc3RhcnQgaG91cnMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaG91ckVuZD0wXSBZb3UgY2FuIGNoYW5nZSB2aWV3J3MgZW5kIGhvdXJzLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFuZWxFbGVtZW50IHBhbmVsIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIFRpbWVHcmlkKG5hbWUsIG9wdGlvbnMsIHBhbmVsRWxlbWVudCkge1xuICAgIHZhciBjb250YWluZXIgPSBkb211dGlsLmFwcGVuZEhUTUxFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgcGFuZWxFbGVtZW50LFxuICAgICAgICBjb25maWcuY2xhc3NuYW1lKCd0aW1lZ3JpZC1jb250YWluZXInKVxuICAgICk7XG4gICAgdmFyIHN0aWNreUNvbnRhaW5lciA9IGRvbXV0aWwuYXBwZW5kSFRNTEVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBwYW5lbEVsZW1lbnQsXG4gICAgICAgIGNvbmZpZy5jbGFzc25hbWUoJ3RpbWVncmlkLXN0aWNreS1jb250YWluZXInKVxuICAgICk7XG5cbiAgICBwYW5lbEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnOyAvLyBmb3Igc3RpY2t5Q29udGFpbmVyXG5cbiAgICBuYW1lID0gbmFtZSB8fCAndGltZSc7XG5cbiAgICBWaWV3LmNhbGwodGhpcywgY29udGFpbmVyKTtcblxuICAgIGlmICghdXRpbC5icm93c2VyLnNhZmFyaSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0F1dG9TY3JvbGx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hdXRvU2Nyb2xsID0gbmV3IEF1dG9TY3JvbGwoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0aWNreUNvbnRhaW5lciA9IHN0aWNreUNvbnRhaW5lcjtcblxuICAgIC8qKlxuICAgICAqIFRpbWUgdmlldyBvcHRpb25zLlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5vcHRpb25zID0gdXRpbC5leHRlbmQoXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXdOYW1lOiBuYW1lLFxuICAgICAgICAgICAgcmVuZGVyU3RhcnREYXRlOiAnJyxcbiAgICAgICAgICAgIHJlbmRlckVuZERhdGU6ICcnLFxuICAgICAgICAgICAgaG91clN0YXJ0OiAwLFxuICAgICAgICAgICAgaG91ckVuZDogMjQsXG4gICAgICAgICAgICB0aW1lem9uZXM6IG9wdGlvbnMudGltZXpvbmVzLFxuICAgICAgICAgICAgaXNSZWFkT25seTogb3B0aW9ucy5pc1JlYWRPbmx5LFxuICAgICAgICAgICAgc2hvd1RpbWV6b25lQ29sbGFwc2VCdXR0b246IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMud2Vla1xuICAgICk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRpbWV6b25lcy5sZW5ndGggPCAxKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy50aW1lem9uZXMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGltZXpvbmVPZmZzZXQ6IHR6LmdldFByaW1hcnlPZmZzZXQoKVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVydmFsIGlkIGZvciBob3VybWFya2VyIGFuaW1hdGlvbi5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJ2YWxJRCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiB0aW1lciBpZCBmb3IgaG91cm1hcmtlciBpbml0aWFsIHN0YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbWVySUQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHVuaXF1ZSBJRFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yQW5pbWF0aW9uRnJhbWVJRCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLl9zY3JvbGxlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogY2FjaGUgcGFyZW50J3MgdmlldyBtb2RlbFxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5fY2FjaGVQYXJlbnRWaWV3TW9kZWwgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogY2FjaGUgaG91cnNMYWJlbHMgdmlldyBtb2RlbCB0byByZW5kZXIgYWdhaW4gVGltZUdyaWRcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuX2NhY2hlSG91cnNMYWJlbHMgPSBudWxsO1xuXG4gICAgdGhpcy5hdHRhY2hFdmVudCgpO1xufVxuXG51dGlsLmluaGVyaXQoVGltZUdyaWQsIFZpZXcpO1xuXG4vKioqKioqKioqKlxuICogUHJvdG90eXBlIHByb3BzXG4gKioqKioqKioqKi9cblxuLyoqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5UaW1lR3JpZC5wcm90b3R5cGUudmlld05hbWUgPSAndGltZWdyaWQnO1xuXG4vKipcbiAqIERlc3Ryb3kgdmlldy5cbiAqIEBvdmVycmlkZVxuICovXG5UaW1lR3JpZC5wcm90b3R5cGUuX2JlZm9yZURlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJRCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJRCk7XG4gICAgcmVxQW5pbUZyYW1lLmNhbmNlbEFuaW1GcmFtZSh0aGlzLnJBbmltYXRpb25GcmFtZUlEKTtcblxuICAgIGlmICh0aGlzLl9hdXRvU2Nyb2xsKSB7XG4gICAgICAgIHRoaXMuX2F1dG9TY3JvbGwuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGRvbWV2ZW50Lm9mZih0aGlzLnN0aWNreUNvbnRhaW5lciwgJ2NsaWNrJywgdGhpcy5fb25DbGlja1N0aWNreUNvbnRhaW5lciwgdGhpcyk7XG5cbiAgICB0aGlzLl9hdXRvU2Nyb2xsID0gdGhpcy5ob3VybWFya2VycyA9IHRoaXMuaW50ZXJ2YWxJRFxuICAgICAgICA9IHRoaXMudGltZXJJRCA9IHRoaXMuckFuaW1hdGlvbkZyYW1lSUQgPSB0aGlzLl9jYWNoZVBhcmVudFZpZXdNb2RlbCA9IHRoaXMuc3RpY2t5Q29udGFpbmVyID0gbnVsbDtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtEYXRlfSBbdGltZV0gLSBkYXRlIG9iamVjdCB0byBjb252ZXJ0IHBpeGVsIGluIGdyaWRzLlxuICogdXNlICoqRGF0ZS5ub3coKSoqIHdoZW4gbm90IHN1cHBsaWVkLlxuICogQHJldHVybnMge251bWJlcn0gVGhlIHBpeGVsIHZhbHVlIHJlcHJlc2VudCBjdXJyZW50IHRpbWUgaW4gZ3JpZHMuXG4gKi9cblRpbWVHcmlkLnByb3RvdHlwZS5fZ2V0VG9wUGVyY2VudEJ5VGltZSA9IGZ1bmN0aW9uKHRpbWUpIHtcbiAgICB2YXIgb3B0ID0gdGhpcy5vcHRpb25zLFxuICAgICAgICByYXcgPSBkYXRldGltZS5yYXcodGltZSB8fCBuZXcgVFpEYXRlKCkpLFxuICAgICAgICBob3VyTGVuZ3RoID0gdXRpbC5yYW5nZShvcHQuaG91clN0YXJ0LCBvcHQuaG91ckVuZCkubGVuZ3RoLFxuICAgICAgICBtYXhNaWxsaXNlY29uZHMgPSBob3VyTGVuZ3RoICogZGF0ZXRpbWUuTUlMTElTRUNPTkRTX1BFUl9IT1VSLFxuICAgICAgICBobXNNaWxsaXNlY29uZHMgPVxuICAgICAgICAgICAgZGF0ZXRpbWUubWlsbGlzZWNvbmRzRnJvbSgnaG91cicsIHJhdy5oKSArXG4gICAgICAgICAgICBkYXRldGltZS5taWxsaXNlY29uZHNGcm9tKCdtaW51dGVzJywgcmF3Lm0pICtcbiAgICAgICAgICAgIGRhdGV0aW1lLm1pbGxpc2Vjb25kc0Zyb20oJ3NlY29uZHMnLCByYXcucykgK1xuICAgICAgICAgICAgcmF3Lm1zLFxuICAgICAgICB0b3BQZXJjZW50O1xuXG4gICAgdG9wUGVyY2VudCA9IGNvbW1vbi5yYXRpbyhtYXhNaWxsaXNlY29uZHMsIDEwMCwgaG1zTWlsbGlzZWNvbmRzKTtcbiAgICB0b3BQZXJjZW50IC09IGNvbW1vbi5yYXRpbyhcbiAgICAgICAgbWF4TWlsbGlzZWNvbmRzLFxuICAgICAgICAxMDAsXG4gICAgICAgIGRhdGV0aW1lLm1pbGxpc2Vjb25kc0Zyb20oJ2hvdXInLCBvcHQuaG91clN0YXJ0KVxuICAgICk7XG5cbiAgICByZXR1cm4gY29tbW9uLmxpbWl0KHRvcFBlcmNlbnQsIFswXSwgWzEwMF0pO1xufTtcblxuLyoqXG4gKiBHZXQgSG91cm1hcmtlciB2aWV3bW9kZWwuXG4gKiBAcGFyYW0ge1RaRGF0ZX0gbm93IC0gbm93XG4gKiBAcGFyYW0ge29iamVjdH0gZ3JpZHMgZ3JpZCBpbmZvcm1hdGlvbih3aWR0aCwgbGVmdCwgZGF5KVxuICogQHBhcmFtIHtBcnJheS48VFpEYXRlPn0gcmFuZ2UgcmVuZGVyIHJhbmdlXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBWaWV3TW9kZWwgb2YgaG91cm1hcmtlci5cbiAqL1xuVGltZUdyaWQucHJvdG90eXBlLl9nZXRIb3VybWFya2VyVmlld01vZGVsID0gZnVuY3Rpb24obm93LCBncmlkcywgcmFuZ2UpIHtcbiAgICB2YXIgdG9kYXltYXJrZXJMZWZ0ID0gLTE7XG4gICAgdmFyIHRvZGF5bWFya2VyV2lkdGggPSAtMTtcbiAgICB2YXIgaG91cm1hcmtlclRpbXpvbmVzID0gW107XG4gICAgdmFyIG9wdCA9IHRoaXMub3B0aW9ucztcbiAgICB2YXIgcHJpbWFyeU9mZnNldCA9IHR6LmdldFByaW1hcnlPZmZzZXQoKTtcbiAgICB2YXIgdGltZXpvbmVzID0gb3B0LnRpbWV6b25lcztcbiAgICB2YXIgdmlld01vZGVsO1xuXG4gICAgdXRpbC5mb3JFYWNoKHJhbmdlLCBmdW5jdGlvbihkYXRlLCBpbmRleCkge1xuICAgICAgICBpZiAoZGF0ZXRpbWUuaXNTYW1lRGF0ZShub3csIGRhdGUpKSB7XG4gICAgICAgICAgICB0b2RheW1hcmtlckxlZnQgPSBncmlkc1tpbmRleF0gPyBncmlkc1tpbmRleF0ubGVmdCA6IDA7XG4gICAgICAgICAgICB0b2RheW1hcmtlcldpZHRoID0gZ3JpZHNbaW5kZXhdID8gZ3JpZHNbaW5kZXhdLndpZHRoIDogMDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXRpbC5mb3JFYWNoKHRpbWV6b25lcywgZnVuY3Rpb24odGltZXpvbmUpIHtcbiAgICAgICAgdmFyIGhvdXJtYXJrZXIgPSBuZXcgVFpEYXRlKG5vdyk7XG4gICAgICAgIHZhciB0aW1lem9uZU9mZnNldCA9IGdldE9mZnNldEJ5VGltZXpvbmVPcHRpb24odGltZXpvbmUsIGhvdXJtYXJrZXIuZ2V0VGltZSgpKTtcbiAgICAgICAgdmFyIHRpbWV6b25lRGlmZmVyZW5jZSA9IHRpbWV6b25lT2Zmc2V0ICsgcHJpbWFyeU9mZnNldDtcbiAgICAgICAgdmFyIGRhdGVEaWZmZXJlbmNlO1xuXG4gICAgICAgIGhvdXJtYXJrZXIuc2V0TWludXRlcyhob3VybWFya2VyLmdldE1pbnV0ZXMoKSArIHRpbWV6b25lRGlmZmVyZW5jZSk7XG4gICAgICAgIGRhdGVEaWZmZXJlbmNlID0gZGF0ZXRpbWUuZ2V0RGF0ZURpZmZlcmVuY2UoaG91cm1hcmtlciwgbm93KTtcblxuICAgICAgICBob3VybWFya2VyVGltem9uZXMucHVzaCh7XG4gICAgICAgICAgICBob3VybWFya2VyOiBob3VybWFya2VyLFxuICAgICAgICAgICAgZGF0ZURpZmZlcmVuY2VTaWduOiBkYXRlRGlmZmVyZW5jZSA8IDAgPyAnLScgOiAnKycsXG4gICAgICAgICAgICBkYXRlRGlmZmVyZW5jZTogTWF0aC5hYnMoZGF0ZURpZmZlcmVuY2UpXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmlld01vZGVsID0ge1xuICAgICAgICBjdXJyZW50SG91cnM6IG5vdy5nZXRIb3VycygpLFxuICAgICAgICBob3VybWFya2VyVG9wOiB0aGlzLl9nZXRUb3BQZXJjZW50QnlUaW1lKG5vdyksXG4gICAgICAgIGhvdXJtYXJrZXJUaW16b25lczogaG91cm1hcmtlclRpbXpvbmVzLFxuICAgICAgICB0b2RheW1hcmtlckxlZnQ6IHRvZGF5bWFya2VyTGVmdCxcbiAgICAgICAgdG9kYXltYXJrZXJXaWR0aDogdG9kYXltYXJrZXJXaWR0aCxcbiAgICAgICAgdG9kYXltYXJrZXJSaWdodDogdG9kYXltYXJrZXJMZWZ0ICsgdG9kYXltYXJrZXJXaWR0aFxuICAgIH07XG5cbiAgICByZXR1cm4gdmlld01vZGVsO1xufTtcblxuLyoqXG4gKiBHZXQgdGltZXpvbmUgdmlldyBtb2RlbFxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRIb3VycyAtIGN1cnJlbnQgaG91clxuICogQHBhcmFtIHtib29sZWFufSB0aW1lem9uZXNDb2xsYXBzZWQgLSBtdWx0aXBsZSB0aW1lem9uZXMgYXJlIGNvbGxhcHNlZC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZXMgLSBzdHlsZXNcbiAqIEByZXR1cm5zIHtvYmplY3R9IFZpZXdNb2RlbFxuICovXG5UaW1lR3JpZC5wcm90b3R5cGUuX2dldFRpbWV6b25lVmlld01vZGVsID0gZnVuY3Rpb24oY3VycmVudEhvdXJzLCB0aW1lem9uZXNDb2xsYXBzZWQsIHN0eWxlcykge1xuICAgIHZhciBvcHQgPSB0aGlzLm9wdGlvbnM7XG4gICAgdmFyIHByaW1hcnlPZmZzZXQgPSB0ei5nZXRQcmltYXJ5T2Zmc2V0KCk7XG4gICAgdmFyIHRpbWV6b25lcyA9IG9wdC50aW1lem9uZXM7XG4gICAgdmFyIHRpbWV6b25lc0xlbmd0aCA9IHRpbWV6b25lcy5sZW5ndGg7XG4gICAgdmFyIHRpbWV6b25lVmlld01vZGVsID0gW107XG4gICAgdmFyIGNvbGxhcHNlZCA9IHRpbWV6b25lc0NvbGxhcHNlZDtcbiAgICB2YXIgd2lkdGggPSBjb2xsYXBzZWQgPyAxMDAgOiAxMDAgLyB0aW1lem9uZXNMZW5ndGg7XG4gICAgdmFyIG5vdyA9IG5ldyBUWkRhdGUoKS50b0xvY2FsVGltZSgpO1xuICAgIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSBzdHlsZXMuZGlzcGxheVRpbWV6b25lTGFiZWxCYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICAgIHV0aWwuZm9yRWFjaCh0aW1lem9uZXMsIGZ1bmN0aW9uKHRpbWV6b25lLCBpbmRleCkge1xuICAgICAgICB2YXIgaG91cm1hcmtlciA9IG5ldyBUWkRhdGUobm93KTtcbiAgICAgICAgdmFyIHRpbWV6b25lT2Zmc2V0ID0gZ2V0T2Zmc2V0QnlUaW1lem9uZU9wdGlvbih0aW1lem9uZSwgaG91cm1hcmtlci5nZXRUaW1lKCkpO1xuICAgICAgICB2YXIgdGltZXpvbmVEaWZmZXJlbmNlID0gdGltZXpvbmVPZmZzZXQgKyBwcmltYXJ5T2Zmc2V0O1xuICAgICAgICB2YXIgdGltZVNsb3RzID0gZ2V0SG91cnNMYWJlbHMob3B0LCBjdXJyZW50SG91cnMgPj0gMCwgdGltZXpvbmVEaWZmZXJlbmNlLCBzdHlsZXMpO1xuICAgICAgICB2YXIgZGF0ZURpZmZlcmVuY2U7XG5cbiAgICAgICAgaG91cm1hcmtlci5zZXRNaW51dGVzKGhvdXJtYXJrZXIuZ2V0TWludXRlcygpICsgdGltZXpvbmVEaWZmZXJlbmNlKTtcbiAgICAgICAgZGF0ZURpZmZlcmVuY2UgPSBkYXRldGltZS5nZXREYXRlRGlmZmVyZW5jZShob3VybWFya2VyLCBub3cpO1xuXG4gICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IHN0eWxlcy5hZGRpdGlvbmFsVGltZXpvbmVCYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0aW1lem9uZVZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgIHRpbWVTbG90czogdGltZVNsb3RzLFxuICAgICAgICAgICAgZGlzcGxheUxhYmVsOiB0aW1lem9uZS5kaXNwbGF5TGFiZWwsXG4gICAgICAgICAgICB0aW1lem9uZU9mZnNldDogdGltZXpvbmUudGltZXpvbmVPZmZzZXQsXG4gICAgICAgICAgICB0b29sdGlwOiB0aW1lem9uZS50b29sdGlwIHx8ICcnLFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgbGVmdDogY29sbGFwc2VkID8gMCA6ICh0aW1lem9uZXMubGVuZ3RoIC0gaW5kZXggLSAxKSAqIHdpZHRoLFxuICAgICAgICAgICAgaXNQcmltYXJ5OiBpbmRleCA9PT0gMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yIHx8ICcnLFxuICAgICAgICAgICAgaGlkZGVuOiBpbmRleCAhPT0gMCAmJiBjb2xsYXBzZWQsXG4gICAgICAgICAgICBob3VybWFya2VyOiBob3VybWFya2VyLFxuICAgICAgICAgICAgZGF0ZURpZmZlcmVuY2VTaWduOiBkYXRlRGlmZmVyZW5jZSA8IDAgPyAnLScgOiAnKycsXG4gICAgICAgICAgICBkYXRlRGlmZmVyZW5jZTogTWF0aC5hYnMoZGF0ZURpZmZlcmVuY2UpXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRpbWV6b25lVmlld01vZGVsO1xufTtcblxuLyoqXG4gKiBHZXQgYmFzZSB2aWV3TW9kZWwuXG4gKiBAcGFyYW0ge29iamVjdH0gdmlld01vZGVsIC0gdmlldyBtb2RlbFxuICogQHJldHVybnMge29iamVjdH0gVmlld01vZGVsXG4gKi9cblRpbWVHcmlkLnByb3RvdHlwZS5fZ2V0QmFzZVZpZXdNb2RlbCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgIHZhciBncmlkcyA9IHZpZXdNb2RlbC5ncmlkcztcbiAgICB2YXIgcmFuZ2UgPSB2aWV3TW9kZWwucmFuZ2U7XG4gICAgdmFyIG9wdCA9IHRoaXMub3B0aW9ucztcbiAgICB2YXIgYmFzZVZpZXdNb2RlbCA9IHRoaXMuX2dldEhvdXJtYXJrZXJWaWV3TW9kZWwobmV3IFRaRGF0ZSgpLnRvTG9jYWxUaW1lKCksIGdyaWRzLCByYW5nZSk7XG4gICAgdmFyIHRpbWV6b25lc0NvbGxhcHNlZCA9IHV0aWwucGljayh2aWV3TW9kZWwsICdzdGF0ZScsICd0aW1lem9uZXNDb2xsYXBzZWQnKTtcbiAgICB2YXIgc3R5bGVzID0gdGhpcy5fZ2V0U3R5bGVzKHZpZXdNb2RlbC50aGVtZSwgdGltZXpvbmVzQ29sbGFwc2VkKTtcblxuICAgIHJldHVybiB1dGlsLmV4dGVuZChiYXNlVmlld01vZGVsLCB7XG4gICAgICAgIHRpbWV6b25lczogdGhpcy5fZ2V0VGltZXpvbmVWaWV3TW9kZWwoXG4gICAgICAgICAgICBiYXNlVmlld01vZGVsLnRvZGF5bWFya2VyTGVmdCxcbiAgICAgICAgICAgIHRpbWV6b25lc0NvbGxhcHNlZCxcbiAgICAgICAgICAgIHN0eWxlc1xuICAgICAgICApLFxuICAgICAgICBob3Vyc0xhYmVsczogZ2V0SG91cnNMYWJlbHMob3B0LCBiYXNlVmlld01vZGVsLnRvZGF5bWFya2VyTGVmdCA+PSAwLCAwLCBzdHlsZXMpLFxuICAgICAgICBzdHlsZXM6IHN0eWxlcyxcbiAgICAgICAgc2hvd1RpbWV6b25lQ29sbGFwc2VCdXR0b246IHV0aWwucGljayhvcHQsICdzaG93VGltZXpvbmVDb2xsYXBzZUJ1dHRvbicpLFxuICAgICAgICB0aW1lem9uZXNDb2xsYXBzZWQ6IHRpbWV6b25lc0NvbGxhcHNlZFxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZWNvbmNpbGF0aW9uIGNoaWxkIHZpZXdzIGFuZCByZW5kZXIuXG4gKiBAcGFyYW0ge29iamVjdH0gdmlld01vZGVscyBWaWV3bW9kZWxcbiAqIEBwYXJhbSB7b2JqZWN0fSBncmlkcyBncmlkIGluZm9ybWF0aW9uKHdpZHRoLCBsZWZ0LCBkYXkpXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgQ29udGFpbmVyIGVsZW1lbnQgZm9yIGVhY2ggdGltZSB2aWV3LlxuICogQHBhcmFtIHtUaGVtZX0gdGhlbWUgLSB0aGVtZSBpbnN0YW5jZVxuICovXG5UaW1lR3JpZC5wcm90b3R5cGUuX3JlbmRlckNoaWxkcmVuID0gZnVuY3Rpb24odmlld01vZGVscywgZ3JpZHMsIGNvbnRhaW5lciwgdGhlbWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIGNoaWxkT3B0aW9uLFxuICAgICAgICBjaGlsZCxcbiAgICAgICAgaXNUb2RheSxcbiAgICAgICAgY29udGFpbmVySGVpZ2h0LFxuICAgICAgICB0b2RheSA9IGRhdGV0aW1lLmZvcm1hdChuZXcgVFpEYXRlKCkudG9Mb2NhbFRpbWUoKSwgJ1lZWVlNTUREJyksXG4gICAgICAgIGkgPSAwO1xuXG4gICAgLy8gY2xlYXIgY29udGVudHNcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5jaGlsZHJlbi5jbGVhcigpO1xuXG4gICAgY29udGFpbmVySGVpZ2h0ID0gZG9tdXRpbC5nZXRTaXplKGNvbnRhaW5lci5wYXJlbnRFbGVtZW50KVsxXTtcblxuICAgIC8vIHJlY29uY2lsYXRpb24gb2YgY2hpbGQgdmlld3NcbiAgICB1dGlsLmZvckVhY2godmlld01vZGVscywgZnVuY3Rpb24oc2NoZWR1bGVzLCB5bWQpIHtcbiAgICAgICAgaXNUb2RheSA9IHltZCA9PT0gdG9kYXk7XG5cbiAgICAgICAgY2hpbGRPcHRpb24gPSB7XG4gICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgIGxlZnQ6IGdyaWRzW2ldID8gZ3JpZHNbaV0ubGVmdCA6IDAsXG4gICAgICAgICAgICB3aWR0aDogZ3JpZHNbaV0gPyBncmlkc1tpXS53aWR0aCA6IDAsXG4gICAgICAgICAgICB5bWQ6IHltZCxcbiAgICAgICAgICAgIGlzVG9kYXk6IGlzVG9kYXksXG4gICAgICAgICAgICBpc1BlbmRpbmc6IG9wdGlvbnMuaXNQZW5kaW5nLFxuICAgICAgICAgICAgaXNGb2N1c2VkOiBvcHRpb25zLmlzRm9jdXNlZCxcbiAgICAgICAgICAgIGlzUmVhZE9ubHk6IG9wdGlvbnMuaXNSZWFkT25seSxcbiAgICAgICAgICAgIGhvdXJTdGFydDogb3B0aW9ucy5ob3VyU3RhcnQsXG4gICAgICAgICAgICBob3VyRW5kOiBvcHRpb25zLmhvdXJFbmRcbiAgICAgICAgfTtcblxuICAgICAgICBjaGlsZCA9IG5ldyBUaW1lKFxuICAgICAgICAgICAgY2hpbGRPcHRpb24sXG4gICAgICAgICAgICBkb211dGlsLmFwcGVuZEhUTUxFbGVtZW50KCdkaXYnLCBjb250YWluZXIsIGNvbmZpZy5jbGFzc25hbWUoJ3RpbWUtZGF0ZScpKSxcbiAgICAgICAgICAgIHRoZW1lXG4gICAgICAgICk7XG4gICAgICAgIGNoaWxkLnJlbmRlcih5bWQsIHNjaGVkdWxlcywgY29udGFpbmVySGVpZ2h0KTtcblxuICAgICAgICBzZWxmLmFkZENoaWxkKGNoaWxkKTtcblxuICAgICAgICBpICs9IDE7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICogQHBhcmFtIHtvYmplY3R9IHZpZXdNb2RlbCBWaWV3TW9kZWwgbGlzdCBmcm9tIFdlZWsgdmlldy5cbiAqL1xuVGltZUdyaWQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgIHZhciBvcHQgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHRpbWVWaWV3TW9kZWwgPSB2aWV3TW9kZWwuc2NoZWR1bGVzSW5EYXRlUmFuZ2Vbb3B0LnZpZXdOYW1lXSxcbiAgICAgICAgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXG4gICAgICAgIGdyaWRzID0gdmlld01vZGVsLmdyaWRzLFxuICAgICAgICBiYXNlVmlld01vZGVsID0gdGhpcy5fZ2V0QmFzZVZpZXdNb2RlbCh2aWV3TW9kZWwpLFxuICAgICAgICBzY2hlZHVsZUxlbiA9IHV0aWwua2V5cyh0aW1lVmlld01vZGVsKS5sZW5ndGg7XG5cbiAgICB0aGlzLl9jYWNoZVBhcmVudFZpZXdNb2RlbCA9IHZpZXdNb2RlbDtcbiAgICB0aGlzLl9jYWNoZUhvdXJzTGFiZWxzID0gYmFzZVZpZXdNb2RlbC5ob3Vyc0xhYmVscztcblxuICAgIGlmICghc2NoZWR1bGVMZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGJhc2VWaWV3TW9kZWwuc2hvd0hvdXJNYXJrZXIgPSBiYXNlVmlld01vZGVsLnRvZGF5bWFya2VyTGVmdCA+PSAwO1xuXG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IG1haW5UbXBsKGJhc2VWaWV3TW9kZWwpO1xuXG4gICAgLyoqKioqKioqKipcbiAgICAgKiBSZW5kZXIgc3RpY2t5IGNvbnRhaW5lciBmb3IgdGltZXpvbmUgZGlzcGxheSBsYWJlbFxuICAgICAqKioqKioqKioqL1xuICAgIHRoaXMucmVuZGVyU3RpY2t5Q29udGFpbmVyKGJhc2VWaWV3TW9kZWwpO1xuXG4gICAgLyoqKioqKioqKipcbiAgICAgKiBSZW5kZXIgY2hpbGRyZW5cbiAgICAgKioqKioqKioqKi9cbiAgICB0aGlzLl9yZW5kZXJDaGlsZHJlbihcbiAgICAgICAgdGltZVZpZXdNb2RlbCxcbiAgICAgICAgZ3JpZHMsXG4gICAgICAgIGRvbXV0aWwuZmluZChjb25maWcuY2xhc3NuYW1lKCcudGltZWdyaWQtc2NoZWR1bGVzLWNvbnRhaW5lcicpLCBjb250YWluZXIpLFxuICAgICAgICB2aWV3TW9kZWwudGhlbWVcbiAgICApO1xuXG4gICAgdGhpcy5faG91ckxhYmVscyA9IGRvbXV0aWwuZmluZCgndWwnLCBjb250YWluZXIpO1xuXG4gICAgLyoqKioqKioqKipcbiAgICAgKiBSZW5kZXIgaG91cm1hcmtlclxuICAgICAqKioqKioqKioqL1xuICAgIHRoaXMuaG91cm1hcmtlcnMgPSBkb211dGlsLmZpbmQoY29uZmlnLmNsYXNzbmFtZSgnLnRpbWVncmlkLWhvdXJtYXJrZXInKSwgY29udGFpbmVyLCB0cnVlKTtcblxuICAgIGlmICghdGhpcy5fc2Nyb2xsZWQpIHtcbiAgICAgICAgdGhpcy5fc2Nyb2xsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNjcm9sbFRvTm93KCk7XG4gICAgfVxufTtcblxuVGltZUdyaWQucHJvdG90eXBlLnJlbmRlclN0aWNreUNvbnRhaW5lciA9IGZ1bmN0aW9uKGJhc2VWaWV3TW9kZWwpIHtcbiAgICB2YXIgc3RpY2t5Q29udGFpbmVyID0gdGhpcy5zdGlja3lDb250YWluZXI7XG5cbiAgICBzdGlja3lDb250YWluZXIuaW5uZXJIVE1MID0gdGltZXpvbmVTdGlja3lUbXBsKGJhc2VWaWV3TW9kZWwpO1xuXG4gICAgc3RpY2t5Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBiYXNlVmlld01vZGVsLnRpbWV6b25lcy5sZW5ndGggPiAxID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICBzdGlja3lDb250YWluZXIuc3R5bGUud2lkdGggPSBiYXNlVmlld01vZGVsLnN0eWxlcy5sZWZ0V2lkdGg7XG4gICAgc3RpY2t5Q29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGJhc2VWaWV3TW9kZWwuc3R5bGVzLmRpc3BsYXlUaW1lem9uZUxhYmVsSGVpZ2h0O1xuICAgIHN0aWNreUNvbnRhaW5lci5zdHlsZS5ib3JkZXJCb3R0b20gPSBiYXNlVmlld01vZGVsLnN0eWxlcy5sZWZ0Qm9yZGVyUmlnaHQ7XG59O1xuXG4vKipcbiAqIFJlZnJlc2ggaG91cm1hcmtlciBlbGVtZW50LlxuICovXG5UaW1lR3JpZC5wcm90b3R5cGUucmVmcmVzaEhvdXJtYXJrZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaG91cm1hcmtlcnMgPSB0aGlzLmhvdXJtYXJrZXJzO1xuICAgIHZhciB2aWV3TW9kZWwgPSB0aGlzLl9jYWNoZVBhcmVudFZpZXdNb2RlbDtcbiAgICB2YXIgaG91cnNMYWJlbHMgPSB0aGlzLl9jYWNoZUhvdXJzTGFiZWxzO1xuICAgIHZhciByQW5pbWF0aW9uRnJhbWVJRCA9IHRoaXMuckFuaW1hdGlvbkZyYW1lSUQ7XG4gICAgdmFyIGJhc2VWaWV3TW9kZWw7XG5cbiAgICBpZiAoIWhvdXJtYXJrZXJzIHx8ICF2aWV3TW9kZWwgfHwgckFuaW1hdGlvbkZyYW1lSUQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGJhc2VWaWV3TW9kZWwgPSB0aGlzLl9nZXRCYXNlVmlld01vZGVsKHZpZXdNb2RlbCk7XG5cbiAgICB0aGlzLnJBbmltYXRpb25GcmFtZUlEID0gcmVxQW5pbUZyYW1lLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZWVkc1JlbmRlciA9IGZhbHNlO1xuXG4gICAgICAgIHV0aWwuZm9yRWFjaChob3Vyc0xhYmVscywgZnVuY3Rpb24oaG91cnNMYWJlbCwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChob3Vyc0xhYmVsLmhpZGRlbiAhPT0gYmFzZVZpZXdNb2RlbC5ob3Vyc0xhYmVsc1tpbmRleF0uaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgbmVlZHNSZW5kZXIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG5lZWRzUmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcih2aWV3TW9kZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXRpbC5mb3JFYWNoKGhvdXJtYXJrZXJzLCBmdW5jdGlvbihob3VybWFya2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvZGF5bWFya2VyID0gZG9tdXRpbC5maW5kKFxuICAgICAgICAgICAgICAgICAgICBjb25maWcuY2xhc3NuYW1lKCcudGltZWdyaWQtdG9kYXltYXJrZXInKSxcbiAgICAgICAgICAgICAgICAgICAgaG91cm1hcmtlclxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdmFyIGhvdXJtYXJrZXJDb250YWluZXIgPSBkb211dGlsLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5jbGFzc25hbWUoJy50aW1lZ3JpZC1ob3VybWFya2VyLXRpbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgaG91cm1hcmtlclxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWV6b25lID0gZG9tdXRpbC5jbG9zZXN0KGhvdXJtYXJrZXIsIGNvbmZpZy5jbGFzc25hbWUoJy50aW1lZ3JpZC10aW1lem9uZScpKTtcbiAgICAgICAgICAgICAgICB2YXIgdGltZXpvbmVJbmRleCA9IHRpbWV6b25lID8gZG9tdXRpbC5nZXREYXRhKHRpbWV6b25lLCAndGltZXpvbmVJbmRleCcpIDogMDtcblxuICAgICAgICAgICAgICAgIGhvdXJtYXJrZXIuc3R5bGUudG9wID0gYmFzZVZpZXdNb2RlbC5ob3VybWFya2VyVG9wICsgJyUnO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRvZGF5bWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvZGF5bWFya2VyLnN0eWxlLmRpc3BsYXkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVZpZXdNb2RlbC50b2RheW1hcmtlckxlZnQgPj0gMCA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChob3VybWFya2VyQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvdXJtYXJrZXJDb250YWluZXIuaW5uZXJIVE1MID0gdGltZWdyaWRDdXJyZW50VGltZVRtcGwoXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVmlld01vZGVsLmhvdXJtYXJrZXJUaW16b25lc1t0aW1lem9uZUluZGV4XVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yQW5pbWF0aW9uRnJhbWVJRCA9IG51bGw7XG4gICAgfSwgdGhpcyk7XG59O1xuXG4vKipcbiAqIEF0dGFjaCBldmVudHNcbiAqL1xuVGltZUdyaWQucHJvdG90eXBlLmF0dGFjaEV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSUQpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVySUQpO1xuICAgIHRoaXMuaW50ZXJ2YWxJRCA9IHRoaXMudGltZXJJRCA9IHRoaXMuckFuaW1hdGlvbkZyYW1lSUQgPSBudWxsO1xuXG4gICAgdGhpcy50aW1lcklEID0gc2V0VGltZW91dChcbiAgICAgICAgdGhpcy5vblRpY2suYmluZCh0aGlzKSxcbiAgICAgICAgKFNJWFRZX1NFQ09ORFMgLSBuZXcgVFpEYXRlKCkuZ2V0U2Vjb25kcygpKSAqIDEwMDBcbiAgICApO1xuXG4gICAgZG9tZXZlbnQub24odGhpcy5zdGlja3lDb250YWluZXIsICdjbGljaycsIHRoaXMuX29uQ2xpY2tTdGlja3lDb250YWluZXIsIHRoaXMpO1xufTtcblxuLyoqXG4gKiBTY3JvbGwgdGltZSBncmlkIHRvIGN1cnJlbnQgaG91cm1hcmtlci5cbiAqL1xuVGltZUdyaWQucHJvdG90eXBlLnNjcm9sbFRvTm93ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgIHZhciBvZmZzZXRUb3AsIHZpZXdCb3VuZCwgc2Nyb2xsVG9wLCBzY3JvbGxBbW91bnQsIHNjcm9sbEJ5LCBzY3JvbGxGbjtcblxuICAgIGlmICghdGhpcy5ob3VybWFya2VycyB8fCAhdGhpcy5ob3VybWFya2Vycy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9mZnNldFRvcCA9IHRoaXMuaG91cm1hcmtlcnNbMF0ub2Zmc2V0VG9wO1xuICAgIHZpZXdCb3VuZCA9IHRoaXMuZ2V0Vmlld0JvdW5kKCk7XG4gICAgc2Nyb2xsVG9wID0gb2Zmc2V0VG9wO1xuICAgIHNjcm9sbEFtb3VudCA9IHZpZXdCb3VuZC5oZWlnaHQgLyA0O1xuICAgIHNjcm9sbEJ5ID0gMTA7XG5cbiAgICBzY3JvbGxGbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2Nyb2xsVG9wID4gb2Zmc2V0VG9wIC0gc2Nyb2xsQW1vdW50KSB7XG4gICAgICAgICAgICBzY3JvbGxUb3AgLT0gc2Nyb2xsQnk7XG4gICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICByZXFBbmltRnJhbWUucmVxdWVzdEFuaW1GcmFtZShzY3JvbGxGbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gb2Zmc2V0VG9wIC0gc2Nyb2xsQW1vdW50O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJlcUFuaW1GcmFtZS5yZXF1ZXN0QW5pbUZyYW1lKHNjcm9sbEZuKTtcbn07XG5cbi8qKioqKioqKioqXG4gKiBTY2hlZHVsZSBoYW5kbGVyc1xuICoqKioqKioqKiovXG5cbi8qKlxuICogSW50ZXJ2YWwgdGljayBoYW5kbGVyXG4gKi9cblRpbWVHcmlkLnByb3RvdHlwZS5vblRpY2sgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy50aW1lcklEKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVySUQpO1xuICAgICAgICB0aGlzLnRpbWVySUQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pbnRlcnZhbElEKSB7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWxJRCA9IHNldEludGVydmFsKHRoaXMub25UaWNrLmJpbmQodGhpcyksIEhPVVJNQVJLRVJfUkVGUkVTSF9JTlRFUlZBTCk7XG4gICAgfVxuICAgIHRoaXMucmVmcmVzaEhvdXJtYXJrZXIoKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBzdHlsZXMgZnJvbSB0aGVtZVxuICogQHBhcmFtIHtUaGVtZX0gdGhlbWUgLSB0aGVtZSBpbnN0YW5jZVxuICogQHBhcmFtIHtib29sZWFufSB0aW1lem9uZXNDb2xsYXBzZWQgLSBtdWx0aXBsZSB0aW1lem9uZXMgYXJlIGNvbGxhcHNlZC5cbiAqIEByZXR1cm5zIHtvYmplY3R9IHN0eWxlcyAtIHN0eWxlcyBvYmplY3RcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcblRpbWVHcmlkLnByb3RvdHlwZS5fZ2V0U3R5bGVzID0gZnVuY3Rpb24odGhlbWUsIHRpbWV6b25lc0NvbGxhcHNlZCkge1xuICAgIHZhciBzdHlsZXMgPSB7fTtcbiAgICB2YXIgdGltZXpvbmVzTGVuZ3RoID0gdGhpcy5vcHRpb25zLnRpbWV6b25lcy5sZW5ndGg7XG4gICAgdmFyIGNvbGxhcHNlZCA9IHRpbWV6b25lc0NvbGxhcHNlZDtcbiAgICB2YXIgbnVtYmVyQW5kVW5pdDtcblxuICAgIGlmICh0aGVtZSkge1xuICAgICAgICBzdHlsZXMuYm9yZGVyQm90dG9tID0gdGhlbWUud2Vlay50aW1lZ3JpZEhvcml6b250YWxMaW5lLmJvcmRlckJvdHRvbSB8fCB0aGVtZS5jb21tb24uYm9yZGVyO1xuICAgICAgICBzdHlsZXMuaGFsZkhvdXJCb3JkZXJCb3R0b20gPVxuICAgICAgICAgICAgdGhlbWUud2Vlay50aW1lZ3JpZEhhbGZIb3VyLmJvcmRlckJvdHRvbSB8fCB0aGVtZS5jb21tb24uYm9yZGVyO1xuXG4gICAgICAgIHN0eWxlcy50b2RheUJhY2tncm91bmRDb2xvciA9IHRoZW1lLndlZWsudG9kYXkuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBzdHlsZXMud2Vla2VuZEJhY2tncm91bmRDb2xvciA9IHRoZW1lLndlZWsud2Vla2VuZC5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS53ZWVrLmRheWdyaWQuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBzdHlsZXMubGVmdFdpZHRoID0gdGhlbWUud2Vlay50aW1lZ3JpZExlZnQud2lkdGg7XG4gICAgICAgIHN0eWxlcy5sZWZ0QmFja2dyb3VuZENvbG9yID0gdGhlbWUud2Vlay50aW1lZ3JpZExlZnQuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBzdHlsZXMubGVmdEJvcmRlclJpZ2h0ID0gdGhlbWUud2Vlay50aW1lZ3JpZExlZnQuYm9yZGVyUmlnaHQgfHwgdGhlbWUuY29tbW9uLmJvcmRlcjtcbiAgICAgICAgc3R5bGVzLmxlZnRGb250U2l6ZSA9IHRoZW1lLndlZWsudGltZWdyaWRMZWZ0LmZvbnRTaXplO1xuICAgICAgICBzdHlsZXMudGltZXpvbmVXaWR0aCA9IHRoZW1lLndlZWsudGltZWdyaWRMZWZ0LndpZHRoO1xuICAgICAgICBzdHlsZXMuYWRkaXRpb25hbFRpbWV6b25lQmFja2dyb3VuZENvbG9yID1cbiAgICAgICAgICAgIHRoZW1lLndlZWsudGltZWdyaWRMZWZ0QWRkaXRpb25hbFRpbWV6b25lLmJhY2tncm91bmRDb2xvciB8fCBzdHlsZXMubGVmdEJhY2tncm91bmRDb2xvcjtcblxuICAgICAgICBzdHlsZXMuZGlzcGxheVRpbWV6b25lTGFiZWxIZWlnaHQgPSB0aGVtZS53ZWVrLnRpbWVncmlkTGVmdFRpbWV6b25lTGFiZWwuaGVpZ2h0O1xuICAgICAgICBzdHlsZXMuZGlzcGxheVRpbWV6b25lTGFiZWxCYWNrZ3JvdW5kQ29sb3IgPVxuICAgICAgICAgICAgdGhlbWUud2Vlay50aW1lZ3JpZExlZnQuYmFja2dyb3VuZENvbG9yID09PSAnaW5oZXJpdCdcbiAgICAgICAgICAgICAgICA/ICd3aGl0ZSdcbiAgICAgICAgICAgICAgICA6IHRoZW1lLndlZWsudGltZWdyaWRMZWZ0LmJhY2tncm91bmRDb2xvcjtcblxuICAgICAgICBzdHlsZXMub25lSG91ckhlaWdodCA9IHRoZW1lLndlZWsudGltZWdyaWRPbmVIb3VyLmhlaWdodDtcbiAgICAgICAgc3R5bGVzLmhhbGZIb3VySGVpZ2h0ID0gdGhlbWUud2Vlay50aW1lZ3JpZEhhbGZIb3VyLmhlaWdodDtcbiAgICAgICAgc3R5bGVzLnF1YXRlckhvdXJIZWlnaHQgPSAocGFyc2VJbnQoc3R5bGVzLmhhbGZIb3VySGVpZ2h0LCAxMCkgLyAyKSArICdweCc7XG5cbiAgICAgICAgc3R5bGVzLmN1cnJlbnRUaW1lQ29sb3IgPSB0aGVtZS53ZWVrLmN1cnJlbnRUaW1lLmNvbG9yO1xuICAgICAgICBzdHlsZXMuY3VycmVudFRpbWVGb250U2l6ZSA9IHRoZW1lLndlZWsuY3VycmVudFRpbWUuZm9udFNpemU7XG4gICAgICAgIHN0eWxlcy5jdXJyZW50VGltZUZvbnRXZWlnaHQgPSB0aGVtZS53ZWVrLmN1cnJlbnRUaW1lLmZvbnRXZWlnaHQ7XG5cbiAgICAgICAgc3R5bGVzLnBhc3RUaW1lQ29sb3IgPSB0aGVtZS53ZWVrLnBhc3RUaW1lLmNvbG9yO1xuICAgICAgICBzdHlsZXMucGFzdFRpbWVGb250V2VpZ2h0ID0gdGhlbWUud2Vlay5wYXN0VGltZS5mb250V2VpZ2h0O1xuXG4gICAgICAgIHN0eWxlcy5mdXR1cmVUaW1lQ29sb3IgPSB0aGVtZS53ZWVrLmZ1dHVyZVRpbWUuY29sb3I7XG4gICAgICAgIHN0eWxlcy5mdXR1cmVUaW1lRm9udFdlaWdodCA9IHRoZW1lLndlZWsuZnV0dXJlVGltZS5mb250V2VpZ2h0O1xuXG4gICAgICAgIHN0eWxlcy5jdXJyZW50VGltZUxlZnRCb3JkZXJUb3AgPSB0aGVtZS53ZWVrLmN1cnJlbnRUaW1lTGluZVBhc3QuYm9yZGVyO1xuICAgICAgICBzdHlsZXMuY3VycmVudFRpbWVCdWxsZXRCYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZS53ZWVrLmN1cnJlbnRUaW1lTGluZUJ1bGxldC5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHN0eWxlcy5jdXJyZW50VGltZVRvZGF5Qm9yZGVyVG9wID0gdGhlbWUud2Vlay5jdXJyZW50VGltZUxpbmVUb2RheS5ib3JkZXI7XG4gICAgICAgIHN0eWxlcy5jdXJyZW50VGltZVJpZ2h0Qm9yZGVyVG9wID0gdGhlbWUud2Vlay5jdXJyZW50VGltZUxpbmVGdXR1cmUuYm9yZGVyO1xuXG4gICAgICAgIGlmICghY29sbGFwc2VkICYmIHRpbWV6b25lc0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIG51bWJlckFuZFVuaXQgPSBjb21tb24ucGFyc2VVbml0KHN0eWxlcy5sZWZ0V2lkdGgpO1xuICAgICAgICAgICAgc3R5bGVzLmxlZnRXaWR0aCA9IChudW1iZXJBbmRVbml0WzBdICogdGltZXpvbmVzTGVuZ3RoKSArIG51bWJlckFuZFVuaXRbMV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVzO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gbW91c2UgZXZlbnQgb2JqZWN0XG4gKi9cblRpbWVHcmlkLnByb3RvdHlwZS5fb25DbGlja1N0aWNreUNvbnRhaW5lciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHRhcmdldCA9IGRvbWV2ZW50LmdldEV2ZW50VGFyZ2V0KGV2ZW50KTtcbiAgICB2YXIgY2xvc2VCdG4gPSBkb211dGlsLmNsb3Nlc3QodGFyZ2V0LCBjb25maWcuY2xhc3NuYW1lKCcudGltZWdyaWQtdGltZXpvbmUtY2xvc2UtYnRuJykpO1xuXG4gICAgaWYgKCFjbG9zZUJ0bikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5maXJlKCdjbGlja1RpbWV6b25lc0NvbGxhcHNlZEJ0bicpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUaW1lR3JpZDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9qcy92aWV3L3dlZWsvd2Vlay5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9qcy92aWV3L3dlZWsvd2Vlay5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBWaWV3IG9mIGRheXMgVUkuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHVpLWNvZGUtc25pcHBldCAqLyBcInR1aS1jb2RlLXNuaXBwZXRcIik7XG52YXIgY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29uZmlnICovIFwiLi9zcmMvanMvY29uZmlnLmpzXCIpO1xudmFyIGRvbXV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24vZG9tdXRpbCAqLyBcIi4vc3JjL2pzL2NvbW1vbi9kb211dGlsLmpzXCIpO1xudmFyIGRhdGV0aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uL2RhdGV0aW1lICovIFwiLi9zcmMvanMvY29tbW9uL2RhdGV0aW1lLmpzXCIpO1xudmFyIFRaRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbi90aW1lem9uZSAqLyBcIi4vc3JjL2pzL2NvbW1vbi90aW1lem9uZS5qc1wiKS5EYXRlO1xudmFyIFZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi92aWV3ICovIFwiLi9zcmMvanMvdmlldy92aWV3LmpzXCIpO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtCYXNlLldlZWt9IGNvbnRyb2xsZXIgVGhlIGNvbnRyb2xsZXIgbWl4aW4gcGFydC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFZpZXcgb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnJlbmRlclN0YXJ0RGF0ZV0gU3RhcnQgZGF0ZSBvZiByZW5kZXIuXG4gKiAgaWYgbm90IHN1cHBsaWVkIHRoZW4gdXNlIC0zZCBmcm9tIHRvZGF5LiBZWVlZLU1NLUREIGZvcm1hdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5yZW5kZXJFbmREYXRlXSBFbmQgZGF0ZSBvZiByZW5kZXIuXG4gKiAgaWYgbm90IHN1cHBsaWVkIHRoZW4gdXNlICszZCBmcm9tIHRvZGF5LiBZWVlZLU1NLUREIGZvcm1hdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jc3NQcmVmaXhdIC0gQ1NTIGNsYXNzbmFtZSBwcmVmaXhcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciBUaGUgZWxlbWVudCB0byB1c2UgY29udGFpbmVyIGZvciB0aGlzIHZpZXcuXG4gKiBAcGFyYW0ge29iamVjdH0gcGFuZWxzIC0gc2NoZWR1bGUgcGFuZWxzIGxpa2UgJ21pbGVzdG9uZScsICd0YXNrJywgJ2FsbGRheScsICd0aW1lJ1xuICogQHBhcmFtIHtzdHJpbmd9IHZpZXdOYW1lIC0gJ3dlZWsnLCAnZGF5J1xuICogQGV4dGVuZHMge1ZpZXd9XG4gKi9cbmZ1bmN0aW9uIFdlZWsoY29udHJvbGxlciwgb3B0aW9ucywgY29udGFpbmVyLCBwYW5lbHMsIHZpZXdOYW1lKSB7XG4gICAgdmFyIHJhbmdlO1xuXG4gICAgY29udGFpbmVyID0gZG9tdXRpbC5hcHBlbmRIVE1MRWxlbWVudCgnZGl2JywgY29udGFpbmVyKTtcblxuICAgIFZpZXcuY2FsbCh0aGlzLCBjb250YWluZXIpO1xuXG4gICAgZG9tdXRpbC5hZGRDbGFzcyhjb250YWluZXIsIGNvbmZpZy5jbGFzc25hbWUoJ3dlZWstY29udGFpbmVyJykpO1xuXG4gICAgcmFuZ2UgPSB0aGlzLl9nZXRSZW5kZXJEYXRlUmFuZ2UobmV3IFRaRGF0ZSgpKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtvYmplY3R9IE9wdGlvbnMgZm9yIHZpZXcuXG4gICAgICovXG4gICAgdGhpcy5vcHRpb25zID0gdXRpbC5leHRlbmQoe1xuICAgICAgICBzY2hlZHVsZUZpbHRlcjogW2Z1bmN0aW9uKHNjaGVkdWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbihzY2hlZHVsZS5pc1Zpc2libGUpO1xuICAgICAgICB9XSxcbiAgICAgICAgcmVuZGVyU3RhcnREYXRlOiBkYXRldGltZS5mb3JtYXQocmFuZ2Uuc3RhcnQsICdZWVlZLU1NLUREJyksXG4gICAgICAgIHJlbmRlckVuZERhdGU6IGRhdGV0aW1lLmZvcm1hdChyYW5nZS5lbmQsICdZWVlZLU1NLUREJyksXG4gICAgICAgIG5hcnJvd1dlZWtlbmQ6IGZhbHNlLFxuICAgICAgICBzdGFydERheU9mV2VlazogMCxcbiAgICAgICAgd29ya3dlZWs6IGZhbHNlLFxuICAgICAgICBzaG93VGltZXpvbmVDb2xsYXBzZUJ1dHRvbjogZmFsc2UsXG4gICAgICAgIHRpbWV6b25lc0NvbGxhcHNlZDogZmFsc2UsXG4gICAgICAgIGhvdXJTdGFydDogMCxcbiAgICAgICAgaG91ckVuZDogMjRcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFdlZWsgY29udHJvbGxlciBtaXhpbi5cbiAgICAgKiBAdHlwZSB7QmFzZS5XZWVrfVxuICAgICAqL1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG5cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZSBQYW5lbHNcbiAgICAgKiBAdHlwZSB7QXJyYXkuPG9iamVjdD59XG4gICAgICovXG4gICAgdGhpcy5wYW5lbHMgPSBwYW5lbHM7XG5cbiAgICAvKipcbiAgICAgKiBXZWVrIHZpZXcgc3RhdGVzXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICB0aW1lem9uZXNDb2xsYXBzZWQ6IHRoaXMub3B0aW9ucy50aW1lem9uZXNDb2xsYXBzZWRcbiAgICB9O1xuXG4gICAgaWYgKHZpZXdOYW1lID09PSAnZGF5Jykge1xuICAgICAgICBfZGlzYWJsZURheU9wdGlvbnModGhpcy5vcHRpb25zKTtcbiAgICB9XG59XG5cbnV0aWwuaW5oZXJpdChXZWVrLCBWaWV3KTtcblxuLyoqKioqKioqKipcbiAqIE92ZXJyaWRlIHByb3BzXG4gKioqKioqKioqKi9cblxuLyoqXG4gKiBSZW5kZXIgZWFjaCBjaGlsZCB2aWV3IHdpdGggc2NoZWR1bGVzIGluIHJhbmdlcy5cbiAqIEBmaXJlcyBXZWVrI2FmdGVyUmVuZGVyXG4gKiBAb3ZlcnJpZGVcbiAqL1xuV2Vlay5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBzY2hlZHVsZUZpbHRlciA9IG9wdGlvbnMuc2NoZWR1bGVGaWx0ZXIsXG4gICAgICAgIG5hcnJvd1dlZWtlbmQgPSBvcHRpb25zLm5hcnJvd1dlZWtlbmQsXG4gICAgICAgIHN0YXJ0RGF5T2ZXZWVrID0gb3B0aW9ucy5zdGFydERheU9mV2VlayxcbiAgICAgICAgd29ya3dlZWsgPSBvcHRpb25zLndvcmt3ZWVrLFxuICAgICAgICB0aGVtZSA9IHRoaXMuY29udHJvbGxlci50aGVtZSB8fCB7fSxcbiAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciByZW5kZXJTdGFydERhdGUsIHJlbmRlckVuZERhdGUsIHNjaGVkdWxlc0luRGF0ZVJhbmdlLCB2aWV3TW9kZWwsIGdyaWRzLCByYW5nZTtcblxuICAgIHJlbmRlclN0YXJ0RGF0ZSA9IG5ldyBUWkRhdGUob3B0aW9ucy5yZW5kZXJTdGFydERhdGUpO1xuICAgIHJlbmRlckVuZERhdGUgPSBuZXcgVFpEYXRlKG9wdGlvbnMucmVuZGVyRW5kRGF0ZSk7XG5cbiAgICByYW5nZSA9IGRhdGV0aW1lLnJhbmdlKFxuICAgICAgICBkYXRldGltZS5zdGFydChyZW5kZXJTdGFydERhdGUpLFxuICAgICAgICBkYXRldGltZS5lbmQocmVuZGVyRW5kRGF0ZSksXG4gICAgICAgIGRhdGV0aW1lLk1JTExJU0VDT05EU19QRVJfREFZXG4gICAgKTtcblxuICAgIGlmIChvcHRpb25zLndvcmt3ZWVrICYmIGRhdGV0aW1lLmNvbXBhcmUocmVuZGVyU3RhcnREYXRlLCByZW5kZXJFbmREYXRlKSkge1xuICAgICAgICByYW5nZSA9IHV0aWwuZmlsdGVyKHJhbmdlLCBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gIWRhdGV0aW1lLmlzV2Vla2VuZChkYXRlLmdldERheSgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVuZGVyU3RhcnREYXRlID0gcmFuZ2VbMF07XG4gICAgICAgIHJlbmRlckVuZERhdGUgPSByYW5nZVtyYW5nZS5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICBzY2hlZHVsZXNJbkRhdGVSYW5nZSA9IHRoaXMuY29udHJvbGxlci5maW5kQnlEYXRlUmFuZ2UoXG4gICAgICAgIGRhdGV0aW1lLnN0YXJ0KHJlbmRlclN0YXJ0RGF0ZSksXG4gICAgICAgIGRhdGV0aW1lLmVuZChyZW5kZXJFbmREYXRlKSxcbiAgICAgICAgdGhpcy5wYW5lbHMsXG4gICAgICAgIHNjaGVkdWxlRmlsdGVyLFxuICAgICAgICB0aGlzLm9wdGlvbnNcbiAgICApO1xuXG4gICAgZ3JpZHMgPSBkYXRldGltZS5nZXRHcmlkTGVmdEFuZFdpZHRoKFxuICAgICAgICByYW5nZS5sZW5ndGgsXG4gICAgICAgIG5hcnJvd1dlZWtlbmQsXG4gICAgICAgIHN0YXJ0RGF5T2ZXZWVrLFxuICAgICAgICB3b3Jrd2Vla1xuICAgICk7XG5cbiAgICB2aWV3TW9kZWwgPSB7XG4gICAgICAgIHNjaGVkdWxlc0luRGF0ZVJhbmdlOiBzY2hlZHVsZXNJbkRhdGVSYW5nZSxcbiAgICAgICAgcmVuZGVyU3RhcnREYXRlOiByZW5kZXJTdGFydERhdGUsXG4gICAgICAgIHJlbmRlckVuZERhdGU6IHJlbmRlckVuZERhdGUsXG4gICAgICAgIGdyaWRzOiBncmlkcyxcbiAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgICB0aGVtZTogdGhlbWUsXG4gICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgIH07XG5cbiAgICB0aGlzLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oY2hpbGRWaWV3KSB7XG4gICAgICAgIHZhciBtYXRyaWNlcztcbiAgICAgICAgdmFyIHZpZXdOYW1lID0gdXRpbC5waWNrKGNoaWxkVmlldy5vcHRpb25zLCAndmlld05hbWUnKTtcbiAgICAgICAgY2hpbGRWaWV3LnJlbmRlcih2aWV3TW9kZWwpO1xuXG4gICAgICAgIGlmICh2aWV3TmFtZSkge1xuICAgICAgICAgICAgbWF0cmljZXMgPSB2aWV3TW9kZWwuc2NoZWR1bGVzSW5EYXRlUmFuZ2Vbdmlld05hbWVdOyAvLyBEYXlHcmlkIGxpbWl0cyBzY2hlZHVsZSBjb3VudCBieSB2aXNpYmxlU2NoZWR1bGVDb3VudCBhZnRlciByZW5kZXJpbmcgaXQuXG5cbiAgICAgICAgICAgIGlmICh1dGlsLmlzQXJyYXkobWF0cmljZXMpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5faW52b2tlQWZ0ZXJSZW5kZXJTY2hlZHVsZShtYXRyaWNlcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuZm9yRWFjaChtYXRyaWNlcywgZnVuY3Rpb24obWF0cmljZXNPZkRheSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9pbnZva2VBZnRlclJlbmRlclNjaGVkdWxlKG1hdHJpY2VzT2ZEYXkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgV2VlayNhZnRlclJlbmRlclxuICAgICAqL1xuICAgIHRoaXMuZmlyZSgnYWZ0ZXJSZW5kZXInKTtcbn07XG5cbi8qKlxuICogRmlyZSAnYWZ0ZXJSZW5kZXJTY2hlZHVsZScgZXZlbnRcbiAqIEBwYXJhbSB7QXJyYXl9IG1hdHJpY2VzIC0gc2NoZWR1bGUgbWF0cmljZXMgZnJvbSB2aWV3IG1vZGVsXG4gKiBAZmlyZXMgV2VlayNhZnRlclJlbmRlclNjaGVkdWxlXG4gKi9cbldlZWsucHJvdG90eXBlLl9pbnZva2VBZnRlclJlbmRlclNjaGVkdWxlID0gZnVuY3Rpb24obWF0cmljZXMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdXRpbC5mb3JFYWNoQXJyYXkobWF0cmljZXMsIGZ1bmN0aW9uKG1hdHJpeCkge1xuICAgICAgICB1dGlsLmZvckVhY2hBcnJheShtYXRyaXgsIGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgdXRpbC5mb3JFYWNoQXJyYXkoY29sdW1uLCBmdW5jdGlvbihzY2hlZHVsZVZpZXdNb2RlbCkge1xuICAgICAgICAgICAgICAgIGlmIChzY2hlZHVsZVZpZXdNb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQGV2ZW50IFdlZWsjYWZ0ZXJSZW5kZXJTY2hlZHVsZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5maXJlKCdhZnRlclJlbmRlclNjaGVkdWxlJywge3NjaGVkdWxlOiBzY2hlZHVsZVZpZXdNb2RlbC5tb2RlbH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbi8qKioqKioqKioqXG4gKiBQcm90b3R5cGUgcHJvcHNcbiAqKioqKioqKioqL1xuXG5XZWVrLnByb3RvdHlwZS52aWV3TmFtZSA9ICd3ZWVrJztcblxuLyoqXG4gKiBDYWxjdWxhdGUgZGVmYXVsdCByZW5kZXIgZGF0ZSByYW5nZSBmcm9tIHN1cHBsaWVkIGRhdGUuXG4gKiBAcGFyYW0ge0RhdGV9IGJhc2VEYXRlIGJhc2UgZGF0ZS5cbiAqIEByZXR1cm5zIHtvYmplY3R9IGRhdGUgcmFuZ2UuXG4gKi9cbldlZWsucHJvdG90eXBlLl9nZXRSZW5kZXJEYXRlUmFuZ2UgPSBmdW5jdGlvbihiYXNlRGF0ZSkge1xuICAgIHZhciBiYXNlID0gZGF0ZXRpbWUuc3RhcnQoYmFzZURhdGUpLFxuICAgICAgICBzdGFydCA9IG5ldyBUWkRhdGUoTnVtYmVyKGJhc2UpKSxcbiAgICAgICAgZW5kID0gbmV3IFRaRGF0ZShOdW1iZXIoYmFzZSkpO1xuXG4gICAgc3RhcnQuc2V0RGF0ZShzdGFydC5nZXREYXRlKCkgLSAzKTtcbiAgICBlbmQuc2V0RGF0ZShlbmQuZ2V0RGF0ZSgpICsgMyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgIGVuZDogZW5kXG4gICAgfTtcbn07XG5cbi8qKlxuICogZGlzYWJsZSBvcHRpb25zIGZvciBkYXkgdmlld1xuICogQHBhcmFtIHtXZWVrT3B0aW9uc30gb3B0aW9ucyAtIHdlZWsgb3B0aW9ucyB0byBkaXNhYmxlXG4gKi9cbmZ1bmN0aW9uIF9kaXNhYmxlRGF5T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgb3B0aW9ucy53b3Jrd2VlayA9IGZhbHNlO1xufVxuXG51dGlsLkN1c3RvbUV2ZW50cy5taXhpbihXZWVrKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWVrO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2pzL3ZpZXcvd2Vla2RheS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvanMvdmlldy93ZWVrZGF5LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBXZWVrZGF5IHZpZXdcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dWktY29kZS1zbmlwcGV0ICovIFwidHVpLWNvZGUtc25pcHBldFwiKTtcbnZhciBjb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb25maWcgKi8gXCIuL3NyYy9qcy9jb25maWcuanNcIiksXG4gICAgZG9tdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbi9kb211dGlsICovIFwiLi9zcmMvanMvY29tbW9uL2RvbXV0aWwuanNcIiksXG4gICAgZGF0ZXRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24vZGF0ZXRpbWUgKi8gXCIuL3NyYy9qcy9jb21tb24vZGF0ZXRpbWUuanNcIiksXG4gICAgVFpEYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uL3RpbWV6b25lICovIFwiLi9zcmMvanMvY29tbW9uL3RpbWV6b25lLmpzXCIpLkRhdGUsXG4gICAgVmlldyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdmlldyAqLyBcIi4vc3JjL2pzL3ZpZXcvdmlldy5qc1wiKTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtWaWV3fVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSB2aWV3IG9wdGlvbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29udGFpbmVyQnV0dG9uR3V0dGVyPThdIC0gZnJlZSBzcGFjZSBhdCBib3R0b20gdG9cbiAqICBtYWtlIGNyZWF0ZSBlYXN5LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjaGVkdWxlSGVpZ2h0PTE4XSAtIGhlaWdodCBvZiBlYWNoIHNjaGVkdWxlIGJsb2NrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjaGVkdWxlR3V0dGVyPTJdIC0gZ3V0dGVyIGhlaWdodCBvZiBlYWNoIHNjaGVkdWxlIGJsb2NrLlxuICogQHBhcmFtIHtIVE1MRElWRWxlbWVudH0gY29udGFpbmVyIC0gRE9NIGVsZW1lbnQgdG8gdXNlIGNvbnRhaW5lciBmb3IgdGhpc1xuICogIHZpZXcuXG4gKi9cbmZ1bmN0aW9uIFdlZWtkYXkob3B0aW9ucywgY29udGFpbmVyKSB7XG4gICAgY29udGFpbmVyID0gZG9tdXRpbC5hcHBlbmRIVE1MRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgY29uZmlnLmNsYXNzbmFtZSgnd2Vla2RheScpXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5vcHRpb25zID0gdXRpbC5leHRlbmQoe1xuICAgICAgICBjb250YWluZXJCb3R0b21HdXR0ZXI6IDgsXG4gICAgICAgIHNjaGVkdWxlSGVpZ2h0OiAxOCxcbiAgICAgICAgc2NoZWR1bGVHdXR0ZXI6IDIsXG4gICAgICAgIG5hcnJvd1dlZWtlbmQ6IGZhbHNlLFxuICAgICAgICBzdGFydERheU9mV2VlazogMCxcbiAgICAgICAgd29ya3dlZWs6IGZhbHNlXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvKlxuICAgICAqIGNhY2hlIHBhcmVudCdzIHZpZXcgbW9kZWxcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuX2NhY2hlUGFyZW50Vmlld01vZGVsID0gbnVsbDtcblxuICAgIFZpZXcuY2FsbCh0aGlzLCBjb250YWluZXIpO1xufVxuXG51dGlsLmluaGVyaXQoV2Vla2RheSwgVmlldyk7XG5cbi8qKlxuICogR2V0IHJlbmRlciBkYXRlIHJhbmdlXG4gKiBAcmV0dXJucyB7RGF0ZVtdfSByZW5kZXJlZCBkYXRlIHJhbmdlXG4gKi9cbldlZWtkYXkucHJvdG90eXBlLmdldFJlbmRlckRhdGVSYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZVBhcmVudFZpZXdNb2RlbC5yYW5nZTtcbn07XG5cbi8qKlxuICogR2V0IHJlbmRlciBkYXRlIGdyaWRzIGluZm9ybWF0aW9uXG4gKiBAcmV0dXJucyB7RGF0ZVtdfSByZW5kZXJlZCBkYXRlIGdyaWRzIGluZm9ybWF0aW9uXG4gKi9cbldlZWtkYXkucHJvdG90eXBlLmdldFJlbmRlckRhdGVHcmlkcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZVBhcmVudFZpZXdNb2RlbC5ncmlkcztcbn07XG5cbi8qKlxuICogR2V0IGRlZmF1bHQgdmlldyBtb2RlbC5cbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWV3TW9kZWwgcGFyZW50J3MgdmlldyBtb2RlbFxuICogQHJldHVybnMge29iamVjdH0gdmlld01vZGVsIHRvIHJlbmRlcmluZy5cbiAqL1xuV2Vla2RheS5wcm90b3R5cGUuZ2V0QmFzZVZpZXdNb2RlbCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgIHZhciBvcHQgPSB0aGlzLm9wdGlvbnM7XG4gICAgdmFyIHJhbmdlID0gdmlld01vZGVsLnJhbmdlO1xuICAgIHZhciBncmlkV2lkdGggPSAoMTAwIC8gcmFuZ2UubGVuZ3RoKTtcbiAgICB2YXIgZ3JpZHMgPSB2aWV3TW9kZWwuZ3JpZHM7XG4gICAgdmFyIGV4Y2VlZERhdGUgPSB2aWV3TW9kZWwuZXhjZWVkRGF0ZSB8fCB7fTtcbiAgICB2YXIgdGhlbWUgPSB2aWV3TW9kZWwudGhlbWU7XG4gICAgdmFyIG5vdyA9IG5ldyBUWkRhdGUoKS50b0xvY2FsVGltZSgpO1xuXG4gICAgdGhpcy5fY2FjaGVQYXJlbnRWaWV3TW9kZWwgPSB2aWV3TW9kZWw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogZ3JpZFdpZHRoLFxuICAgICAgICBzY2hlZHVsZUhlaWdodDogb3B0LnNjaGVkdWxlSGVpZ2h0LFxuICAgICAgICBzY2hlZHVsZUJsb2NrSGVpZ2h0OiAob3B0LnNjaGVkdWxlSGVpZ2h0ICsgb3B0LnNjaGVkdWxlR3V0dGVyKSxcbiAgICAgICAgc2NoZWR1bGVCbG9ja0d1dHRlcjogb3B0LnNjaGVkdWxlR3V0dGVyLFxuICAgICAgICBkYXRlczogdXRpbC5tYXAocmFuZ2UsIGZ1bmN0aW9uKGRhdGUsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZGF5ID0gZGF0ZS5nZXREYXkoKTtcbiAgICAgICAgICAgIHZhciB5bWQgPSBkYXRldGltZS5mb3JtYXQobmV3IFRaRGF0ZShkYXRlKSwgJ1lZWVlNTUREJyk7XG4gICAgICAgICAgICB2YXIgaXNUb2RheSA9IGRhdGV0aW1lLmlzU2FtZURhdGUobm93LCBkYXRlKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXRlOiBkYXRldGltZS5mb3JtYXQoZGF0ZSwgJ1lZWVktTU0tREQnKSxcbiAgICAgICAgICAgICAgICBtb250aDogZGF0ZS5nZXRNb250aCgpICsgMSxcbiAgICAgICAgICAgICAgICBkYXk6IGRheSxcbiAgICAgICAgICAgICAgICBpc1RvZGF5OiBpc1RvZGF5LFxuICAgICAgICAgICAgICAgIHltZDogeW1kLFxuICAgICAgICAgICAgICAgIGhpZGRlblNjaGVkdWxlczogZXhjZWVkRGF0ZVt5bWRdIHx8IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGdyaWRzW2luZGV4XSA/IGdyaWRzW2luZGV4XS53aWR0aCA6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogZ3JpZHNbaW5kZXhdID8gZ3JpZHNbaW5kZXhdLmxlZnQgOiAwLFxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLl9nZXREYXlOYW1lQ29sb3IodGhlbWUsIGRheSwgaXNUb2RheSksXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLl9nZXREYXlCYWNrZ3JvdW5kQ29sb3IodGhlbWUsIGRheSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHRoaXMpXG4gICAgfTtcbn07XG5cbi8qIGVzbGludCBtYXgtbmVzdGVkLWNhbGxiYWNrczogMCAqL1xuLyoqXG4gKiBNYWtlIGV4Y2VlZCBkYXRlIGluZm9ybWF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4Q291bnQgLSBleGNlZWQgc2NoZWR1bGUgY291bnRcbiAqIEBwYXJhbSB7QXJyYXl9IGV2ZW50c0luRGF0ZVJhbmdlICAtIG1hdHJpeCBvZiBTY2hlZHVsZVZpZXdNb2RlbFxuICogQHBhcmFtIHtBcnJheS48VFpEYXRlPn0gcmFuZ2UgLSBkYXRlIHJhbmdlIG9mIG9uZSB3ZWVrXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBleGNlZWREYXRlXG4gKi9cbldlZWtkYXkucHJvdG90eXBlLmdldEV4Y2VlZERhdGUgPSBmdW5jdGlvbihtYXhDb3VudCwgZXZlbnRzSW5EYXRlUmFuZ2UsIHJhbmdlKSB7XG4gICAgdmFyIGV4Y2VlZERhdGUgPSB0aGlzLl9pbml0RXhjZWVkRGF0ZShyYW5nZSk7XG5cbiAgICB1dGlsLmZvckVhY2goZXZlbnRzSW5EYXRlUmFuZ2UsIGZ1bmN0aW9uKG1hdHJpeCkge1xuICAgICAgICB1dGlsLmZvckVhY2gobWF0cml4LCBmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgIHV0aWwuZm9yRWFjaChjb2x1bW4sIGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgICAgIHZhciBwZXJpb2Q7XG4gICAgICAgICAgICAgICAgaWYgKCF2aWV3TW9kZWwgfHwgdmlld01vZGVsLnRvcCA8IG1heENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGF0IHRoaXMgc2NoZWR1bGUgYmxvY2sgaXMgbm90IHZpc2libGUgYWZ0ZXIgcmVuZGVyZWQuXG4gICAgICAgICAgICAgICAgdmlld01vZGVsLmhpZGRlbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBwZXJpb2QgPSBkYXRldGltZS5yYW5nZShcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmdldFN0YXJ0cygpLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwuZ2V0RW5kcygpLFxuICAgICAgICAgICAgICAgICAgICBkYXRldGltZS5NSUxMSVNFQ09ORFNfUEVSX0RBWVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB1dGlsLmZvckVhY2gocGVyaW9kLCBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5bWQgPSBkYXRldGltZS5mb3JtYXQoZGF0ZSwgJ1lZWVlNTUREJyk7XG4gICAgICAgICAgICAgICAgICAgIGV4Y2VlZERhdGVbeW1kXSArPSAxO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGV4Y2VlZERhdGU7XG59O1xuXG4vKipcbiAqIEluaXRpYXRlIGV4Y2VlZCBkYXRlIGluZm9ybWF0aW9uXG4gKiBAcGFyYW0ge0FycmF5LjxUWkRhdGU+fSByYW5nZSAtIGRhdGUgcmFuZ2Ugb2Ygb25lIHdlZWtcbiAqIEByZXR1cm5zIHtPYmplY3R9IC0gaW5pdGlhdGVkIGV4Y2VlZCBkYXRlXG4gKi9cbldlZWtkYXkucHJvdG90eXBlLl9pbml0RXhjZWVkRGF0ZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgdmFyIGV4Y2VlZERhdGUgPSB7fTtcblxuICAgIHV0aWwuZm9yRWFjaChyYW5nZSwgZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICB2YXIgeW1kID0gZGF0ZXRpbWUuZm9ybWF0KGRhdGUsICdZWVlZTU1ERCcpO1xuICAgICAgICBleGNlZWREYXRlW3ltZF0gPSAwO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGV4Y2VlZERhdGU7XG59O1xuXG4vKipcbiAqIEdldCBhIGRheSBuYW1lIGNvbG9yXG4gKiBAcGFyYW0ge1RoZW1lfSB0aGVtZSAtIHRoZW1lIGluc3RhbmNlXG4gKiBAcGFyYW0ge251bWJlcn0gZGF5IC0gZGF5IG51bWJlclxuICogQHBhcmFtIHtib29sZWFufSBpc1RvZGF5IC0gdG9kYXkgZmxhZ1xuICogQHBhcmFtIHtib29sZWFufSBpc090aGVyTW9udGggLSBub3QgdGhpcyBtb250aCBmbGFnXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdHlsZSAtIGNvbG9yIHN0eWxlXG4gKi9cbldlZWtkYXkucHJvdG90eXBlLl9nZXREYXlOYW1lQ29sb3IgPSBmdW5jdGlvbih0aGVtZSwgZGF5LCBpc1RvZGF5LCBpc090aGVyTW9udGgpIHtcbiAgICB2YXIgY29sb3IgPSAnJztcblxuICAgIGlmICh0aGVtZSkge1xuICAgICAgICBpZiAoZGF5ID09PSAwKSB7XG4gICAgICAgICAgICBjb2xvciA9IGlzT3RoZXJNb250aCA/IHRoZW1lLm1vbnRoLmhvbGlkYXlFeGNlcHRUaGlzTW9udGguY29sb3IgOiB0aGVtZS5jb21tb24uaG9saWRheS5jb2xvcjtcbiAgICAgICAgfSBlbHNlIGlmIChkYXkgPT09IDYpIHtcbiAgICAgICAgICAgIGNvbG9yID0gaXNPdGhlck1vbnRoID8gdGhlbWUubW9udGguZGF5RXhjZXB0VGhpc01vbnRoLmNvbG9yIDogdGhlbWUuY29tbW9uLnNhdHVyZGF5LmNvbG9yO1xuICAgICAgICB9IGVsc2UgaWYgKGlzVG9kYXkpIHtcbiAgICAgICAgICAgIGNvbG9yID0gdGhlbWUuY29tbW9uLnRvZGF5LmNvbG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3IgPSBpc090aGVyTW9udGggPyB0aGVtZS5tb250aC5kYXlFeGNlcHRUaGlzTW9udGguY29sb3IgOiB0aGVtZS5jb21tb24uZGF5bmFtZS5jb2xvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb2xvcjtcbn07XG5cbi8qKlxuICogR2V0IGEgZGF5IGJhY2tncm91bmQgY29sb3JcbiAqIEBwYXJhbSB7VGhlbWV9IHRoZW1lIC0gdGhlbWUgaW5zdGFuY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBkYXkgLSBkYXkgbnVtYmVyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdHlsZSAtIGNvbG9yIHN0eWxlXG4gKi9cbldlZWtkYXkucHJvdG90eXBlLl9nZXREYXlCYWNrZ3JvdW5kQ29sb3IgPSBmdW5jdGlvbih0aGVtZSwgZGF5KSB7XG4gICAgdmFyIGNvbG9yID0gJyc7XG5cbiAgICBpZiAodGhlbWUpIHtcbiAgICAgICAgaWYgKGRheSA9PT0gMCB8fCBkYXkgPT09IDYpIHtcbiAgICAgICAgICAgIGNvbG9yID0gdGhlbWUubW9udGgud2Vla2VuZC5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvciA9ICdpbmhlcml0JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb2xvcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gV2Vla2RheTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCJ0dWktY29kZS1zbmlwcGV0XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInR1aS1jb2RlLXNuaXBwZXRcIixcImNvbW1vbmpzMlwiOlwidHVpLWNvZGUtc25pcHBldFwiLFwiYW1kXCI6XCJ0dWktY29kZS1zbmlwcGV0XCIsXCJyb290XCI6W1widHVpXCIsXCJ1dGlsXCJdfSAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV90dWlfY29kZV9zbmlwcGV0X187XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcInR1aS1kYXRlLXBpY2tlclwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJ0dWktZGF0ZS1waWNrZXJcIixcImNvbW1vbmpzMlwiOlwidHVpLWRhdGUtcGlja2VyXCIsXCJhbWRcIjpcInR1aS1kYXRlLXBpY2tlclwiLFwicm9vdFwiOltcInR1aVwiLFwiRGF0ZVBpY2tlclwiXX0gKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfdHVpX2RhdGVfcGlja2VyX187XG5cbi8qKiovIH0pXG5cbi8qKioqKiovIH0pO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10dWktY2FsZW5kYXIuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///583\n')},738:function(module){eval("/*!\n * tui-code-snippet.js\n * @version 1.5.2\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_687__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_687__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__nested_webpack_require_687__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__nested_webpack_require_687__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__nested_webpack_require_687__.p = \"dist\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __nested_webpack_require_687__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __nested_webpack_require_1892__) {\n\n\t'use strict';\n\n\t/**\n\t * @fileoverview\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t * @namespace tui.util\n\t * @example\n\t * // node, commonjs\n\t * var util = require('tui-code-snippet');\n\t * @example\n\t * // distribution file, script\n\t * <script src='path-to/tui-code-snippt.js'><\/script>\n\t * <script>\n\t * var util = tui.util;\n\t * <script>\n\t */\n\tvar util = {};\n\tvar object = __nested_webpack_require_1892__(1);\n\tvar extend = object.extend;\n\n\textend(util, object);\n\textend(util, __nested_webpack_require_1892__(3));\n\textend(util, __nested_webpack_require_1892__(2));\n\textend(util, __nested_webpack_require_1892__(4));\n\textend(util, __nested_webpack_require_1892__(5));\n\textend(util, __nested_webpack_require_1892__(6));\n\textend(util, __nested_webpack_require_1892__(7));\n\textend(util, __nested_webpack_require_1892__(8));\n\textend(util, __nested_webpack_require_1892__(9));\n\n\tutil.browser = __nested_webpack_require_1892__(10);\n\tutil.popup = __nested_webpack_require_1892__(11);\n\tutil.formatDate = __nested_webpack_require_1892__(12);\n\tutil.defineClass = __nested_webpack_require_1892__(13);\n\tutil.defineModule = __nested_webpack_require_1892__(14);\n\tutil.defineNamespace = __nested_webpack_require_1892__(15);\n\tutil.CustomEvents = __nested_webpack_require_1892__(16);\n\tutil.Enum = __nested_webpack_require_1892__(17);\n\tutil.ExMap = __nested_webpack_require_1892__(18);\n\tutil.HashMap = __nested_webpack_require_1892__(20);\n\tutil.Map = __nested_webpack_require_1892__(19);\n\n\tmodule.exports = util;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __nested_webpack_require_3250__) {\n\n\t/**\n\t * @fileoverview This module has some functions for handling a plain object, json.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar type = __nested_webpack_require_3250__(2);\n\tvar array = __nested_webpack_require_3250__(3);\n\n\t/**\n\t * The last id of stamp\n\t * @type {number}\n\t * @private\n\t */\n\tvar lastId = 0;\n\n\t/**\n\t * Extend the target object from other objects.\n\t * @param {object} target - Object that will be extended\n\t * @param {...object} objects - Objects as sources\n\t * @returns {object} Extended object\n\t * @memberof tui.util\n\t */\n\tfunction extend(target, objects) { // eslint-disable-line no-unused-vars\n\t    var hasOwnProp = Object.prototype.hasOwnProperty;\n\t    var source, prop, i, len;\n\n\t    for (i = 1, len = arguments.length; i < len; i += 1) {\n\t        source = arguments[i];\n\t        for (prop in source) {\n\t            if (hasOwnProp.call(source, prop)) {\n\t                target[prop] = source[prop];\n\t            }\n\t        }\n\t    }\n\n\t    return target;\n\t}\n\n\t/**\n\t * Assign a unique id to an object\n\t * @param {object} obj - Object that will be assigned id.\n\t * @returns {number} Stamped id\n\t * @memberof tui.util\n\t */\n\tfunction stamp(obj) {\n\t    if (!obj.__fe_id) {\n\t        lastId += 1;\n\t        obj.__fe_id = lastId; // eslint-disable-line camelcase\n\t    }\n\n\t    return obj.__fe_id;\n\t}\n\n\t/**\n\t * Verify whether an object has a stamped id or not.\n\t * @param {object} obj - adjusted object\n\t * @returns {boolean}\n\t * @memberof tui.util\n\t */\n\tfunction hasStamp(obj) {\n\t    return type.isExisty(pick(obj, '__fe_id'));\n\t}\n\n\t/**\n\t * Reset the last id of stamp\n\t * @private\n\t */\n\tfunction resetLastId() {\n\t    lastId = 0;\n\t}\n\n\t/**\n\t * Return a key-list(array) of a given object\n\t * @param {object} obj - Object from which a key-list will be extracted\n\t * @returns {Array} A key-list(array)\n\t * @memberof tui.util\n\t */\n\tfunction keys(obj) {\n\t    var keyArray = [];\n\t    var key;\n\n\t    for (key in obj) {\n\t        if (obj.hasOwnProperty(key)) {\n\t            keyArray.push(key);\n\t        }\n\t    }\n\n\t    return keyArray;\n\t}\n\n\t/**\n\t * Return the equality for multiple objects(jsonObjects).<br>\n\t *  See {@link http://stackoverflow.com/questions/1068834/object-comparison-in-javascript}\n\t * @param {...object} object - Multiple objects for comparing.\n\t * @returns {boolean} Equality\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var jsonObj1 = {name:'milk', price: 1000};\n\t * var jsonObj2 = {name:'milk', price: 1000};\n\t * var jsonObj3 = {name:'milk', price: 1000};\n\t * util.compareJSON(jsonObj1, jsonObj2, jsonObj3);   // true\n\t *\n\t * var jsonObj4 = {name:'milk', price: 1000};\n\t * var jsonObj5 = {name:'beer', price: 3000};\n\t * util.compareJSON(jsonObj4, jsonObj5); // false\n\t */\n\tfunction compareJSON(object) {\n\t    var argsLen = arguments.length;\n\t    var i = 1;\n\n\t    if (argsLen < 1) {\n\t        return true;\n\t    }\n\n\t    for (; i < argsLen; i += 1) {\n\t        if (!isSameObject(object, arguments[i])) {\n\t            return false;\n\t        }\n\t    }\n\n\t    return true;\n\t}\n\n\t/**\n\t * @param {*} x - object to compare\n\t * @param {*} y - object to compare\n\t * @returns {boolean} - whether object x and y is same or not\n\t * @private\n\t */\n\tfunction isSameObject(x, y) { // eslint-disable-line complexity\n\t    var leftChain = [];\n\t    var rightChain = [];\n\t    var p;\n\n\t    // remember that NaN === NaN returns false\n\t    // and isNaN(undefined) returns true\n\t    if (isNaN(x) &&\n\t        isNaN(y) &&\n\t        type.isNumber(x) &&\n\t        type.isNumber(y)) {\n\t        return true;\n\t    }\n\n\t    // Compare primitives and functions.\n\t    // Check if both arguments link to the same object.\n\t    // Especially useful on step when comparing prototypes\n\t    if (x === y) {\n\t        return true;\n\t    }\n\n\t    // Works in case when functions are created in constructor.\n\t    // Comparing dates is a common scenario. Another built-ins?\n\t    // We can even handle functions passed across iframes\n\t    if ((type.isFunction(x) && type.isFunction(y)) ||\n\t        (x instanceof Date && y instanceof Date) ||\n\t        (x instanceof RegExp && y instanceof RegExp) ||\n\t        (x instanceof String && y instanceof String) ||\n\t        (x instanceof Number && y instanceof Number)) {\n\t        return x.toString() === y.toString();\n\t    }\n\n\t    // At last checking prototypes as good a we can\n\t    if (!(x instanceof Object && y instanceof Object)) {\n\t        return false;\n\t    }\n\n\t    if (x.isPrototypeOf(y) ||\n\t        y.isPrototypeOf(x) ||\n\t        x.constructor !== y.constructor ||\n\t        x.prototype !== y.prototype) {\n\t        return false;\n\t    }\n\n\t    // check for infinitive linking loops\n\t    if (array.inArray(x, leftChain) > -1 ||\n\t        array.inArray(y, rightChain) > -1) {\n\t        return false;\n\t    }\n\n\t    // Quick checking of one object beeing a subset of another.\n\t    for (p in y) {\n\t        if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n\t            return false;\n\t        } else if (typeof y[p] !== typeof x[p]) {\n\t            return false;\n\t        }\n\t    }\n\n\t    // This for loop executes comparing with hasOwnProperty() and typeof for each property in 'x' object,\n\t    // and verifying equality for x[property] and y[property].\n\t    for (p in x) {\n\t        if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n\t            return false;\n\t        } else if (typeof y[p] !== typeof x[p]) {\n\t            return false;\n\t        }\n\n\t        if (typeof (x[p]) === 'object' || typeof (x[p]) === 'function') {\n\t            leftChain.push(x);\n\t            rightChain.push(y);\n\n\t            if (!isSameObject(x[p], y[p])) {\n\t                return false;\n\t            }\n\n\t            leftChain.pop();\n\t            rightChain.pop();\n\t        } else if (x[p] !== y[p]) {\n\t            return false;\n\t        }\n\t    }\n\n\t    return true;\n\t}\n\t/* eslint-enable complexity */\n\n\t/**\n\t * Retrieve a nested item from the given object/array\n\t * @param {object|Array} obj - Object for retrieving\n\t * @param {...string|number} paths - Paths of property\n\t * @returns {*} Value\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var obj = {\n\t *     'key1': 1,\n\t *     'nested' : {\n\t *         'key1': 11,\n\t *         'nested': {\n\t *             'key1': 21\n\t *         }\n\t *     }\n\t * };\n\t * util.pick(obj, 'nested', 'nested', 'key1'); // 21\n\t * util.pick(obj, 'nested', 'nested', 'key2'); // undefined\n\t *\n\t * var arr = ['a', 'b', 'c'];\n\t * util.pick(arr, 1); // 'b'\n\t */\n\tfunction pick(obj, paths) { // eslint-disable-line no-unused-vars\n\t    var args = arguments;\n\t    var target = args[0];\n\t    var i = 1;\n\t    var length = args.length;\n\n\t    for (; i < length; i += 1) {\n\t        if (type.isUndefined(target) ||\n\t            type.isNull(target)) {\n\t            return;\n\t        }\n\n\t        target = target[args[i]];\n\t    }\n\n\t    return target; // eslint-disable-line consistent-return\n\t}\n\n\tmodule.exports = {\n\t    extend: extend,\n\t    stamp: stamp,\n\t    hasStamp: hasStamp,\n\t    resetLastId: resetLastId,\n\t    keys: Object.prototype.keys || keys,\n\t    compareJSON: compareJSON,\n\t    pick: pick\n\t};\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t/**\n\t * @fileoverview This module provides some functions to check the type of variable\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar toString = Object.prototype.toString;\n\n\t/**\n\t * Check whether the given variable is existing or not.<br>\n\t *  If the given variable is not null and not undefined, returns true.\n\t * @param {*} param - Target for checking\n\t * @returns {boolean} Is existy?\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * util.isExisty(''); //true\n\t * util.isExisty(0); //true\n\t * util.isExisty([]); //true\n\t * util.isExisty({}); //true\n\t * util.isExisty(null); //false\n\t * util.isExisty(undefined); //false\n\t*/\n\tfunction isExisty(param) {\n\t    return !isUndefined(param) && !isNull(param);\n\t}\n\n\t/**\n\t * Check whether the given variable is undefined or not.<br>\n\t *  If the given variable is undefined, returns true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is undefined?\n\t * @memberof tui.util\n\t */\n\tfunction isUndefined(obj) {\n\t    return obj === undefined; // eslint-disable-line no-undefined\n\t}\n\n\t/**\n\t * Check whether the given variable is null or not.<br>\n\t *  If the given variable(arguments[0]) is null, returns true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is null?\n\t * @memberof tui.util\n\t */\n\tfunction isNull(obj) {\n\t    return obj === null;\n\t}\n\n\t/**\n\t * Check whether the given variable is truthy or not.<br>\n\t *  If the given variable is not null or not undefined or not false, returns true.<br>\n\t *  (It regards 0 as true)\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is truthy?\n\t * @memberof tui.util\n\t */\n\tfunction isTruthy(obj) {\n\t    return isExisty(obj) && obj !== false;\n\t}\n\n\t/**\n\t * Check whether the given variable is falsy or not.<br>\n\t *  If the given variable is null or undefined or false, returns true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is falsy?\n\t * @memberof tui.util\n\t */\n\tfunction isFalsy(obj) {\n\t    return !isTruthy(obj);\n\t}\n\n\t/**\n\t * Check whether the given variable is an arguments object or not.<br>\n\t *  If the given variable is an arguments object, return true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is arguments?\n\t * @memberof tui.util\n\t */\n\tfunction isArguments(obj) {\n\t    var result = isExisty(obj) &&\n\t        ((toString.call(obj) === '[object Arguments]') || !!obj.callee);\n\n\t    return result;\n\t}\n\n\t/**\n\t * Check whether the given variable is an instance of Array or not.<br>\n\t *  If the given variable is an instance of Array, return true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is array instance?\n\t * @memberof tui.util\n\t */\n\tfunction isArray(obj) {\n\t    return obj instanceof Array;\n\t}\n\n\t/**\n\t * Check whether the given variable is an object or not.<br>\n\t *  If the given variable is an object, return true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is object?\n\t * @memberof tui.util\n\t */\n\tfunction isObject(obj) {\n\t    return obj === Object(obj);\n\t}\n\n\t/**\n\t * Check whether the given variable is a function or not.<br>\n\t *  If the given variable is a function, return true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is function?\n\t * @memberof tui.util\n\t */\n\tfunction isFunction(obj) {\n\t    return obj instanceof Function;\n\t}\n\n\t/**\n\t * Check whether the given variable is a number or not.<br>\n\t *  If the given variable is a number, return true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is number?\n\t * @memberof tui.util\n\t */\n\tfunction isNumber(obj) {\n\t    return typeof obj === 'number' || obj instanceof Number;\n\t}\n\n\t/**\n\t * Check whether the given variable is a string or not.<br>\n\t *  If the given variable is a string, return true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is string?\n\t * @memberof tui.util\n\t */\n\tfunction isString(obj) {\n\t    return typeof obj === 'string' || obj instanceof String;\n\t}\n\n\t/**\n\t * Check whether the given variable is a boolean or not.<br>\n\t *  If the given variable is a boolean, return true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is boolean?\n\t * @memberof tui.util\n\t */\n\tfunction isBoolean(obj) {\n\t    return typeof obj === 'boolean' || obj instanceof Boolean;\n\t}\n\n\t/**\n\t * Check whether the given variable is an instance of Array or not.<br>\n\t *  If the given variable is an instance of Array, return true.<br>\n\t *  (It is used for multiple frame environments)\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is an instance of array?\n\t * @memberof tui.util\n\t */\n\tfunction isArraySafe(obj) {\n\t    return toString.call(obj) === '[object Array]';\n\t}\n\n\t/**\n\t * Check whether the given variable is a function or not.<br>\n\t *  If the given variable is a function, return true.<br>\n\t *  (It is used for multiple frame environments)\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is a function?\n\t * @memberof tui.util\n\t */\n\tfunction isFunctionSafe(obj) {\n\t    return toString.call(obj) === '[object Function]';\n\t}\n\n\t/**\n\t * Check whether the given variable is a number or not.<br>\n\t *  If the given variable is a number, return true.<br>\n\t *  (It is used for multiple frame environments)\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is a number?\n\t * @memberof tui.util\n\t */\n\tfunction isNumberSafe(obj) {\n\t    return toString.call(obj) === '[object Number]';\n\t}\n\n\t/**\n\t * Check whether the given variable is a string or not.<br>\n\t *  If the given variable is a string, return true.<br>\n\t *  (It is used for multiple frame environments)\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is a string?\n\t * @memberof tui.util\n\t */\n\tfunction isStringSafe(obj) {\n\t    return toString.call(obj) === '[object String]';\n\t}\n\n\t/**\n\t * Check whether the given variable is a boolean or not.<br>\n\t *  If the given variable is a boolean, return true.<br>\n\t *  (It is used for multiple frame environments)\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is a boolean?\n\t * @memberof tui.util\n\t */\n\tfunction isBooleanSafe(obj) {\n\t    return toString.call(obj) === '[object Boolean]';\n\t}\n\n\t/**\n\t * Check whether the given variable is a instance of HTMLNode or not.<br>\n\t *  If the given variables is a instance of HTMLNode, return true.\n\t * @param {*} html - Target for checking\n\t * @returns {boolean} Is HTMLNode ?\n\t * @memberof tui.util\n\t */\n\tfunction isHTMLNode(html) {\n\t    if (typeof HTMLElement === 'object') {\n\t        return (html && (html instanceof HTMLElement || !!html.nodeType));\n\t    }\n\n\t    return !!(html && html.nodeType);\n\t}\n\n\t/**\n\t * Check whether the given variable is a HTML tag or not.<br>\n\t *  If the given variables is a HTML tag, return true.\n\t * @param {*} html - Target for checking\n\t * @returns {Boolean} Is HTML tag?\n\t * @memberof tui.util\n\t */\n\tfunction isHTMLTag(html) {\n\t    if (typeof HTMLElement === 'object') {\n\t        return (html && (html instanceof HTMLElement));\n\t    }\n\n\t    return !!(html && html.nodeType && html.nodeType === 1);\n\t}\n\n\t/**\n\t * Check whether the given variable is empty(null, undefined, or empty array, empty object) or not.<br>\n\t *  If the given variables is empty, return true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is empty?\n\t * @memberof tui.util\n\t */\n\tfunction isEmpty(obj) {\n\t    if (!isExisty(obj) || _isEmptyString(obj)) {\n\t        return true;\n\t    }\n\n\t    if (isArray(obj) || isArguments(obj)) {\n\t        return obj.length === 0;\n\t    }\n\n\t    if (isObject(obj) && !isFunction(obj)) {\n\t        return !_hasOwnProperty(obj);\n\t    }\n\n\t    return true;\n\t}\n\n\t/**\n\t * Check whether given argument is empty string\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} whether given argument is empty string\n\t * @memberof tui.util\n\t * @private\n\t */\n\tfunction _isEmptyString(obj) {\n\t    return isString(obj) && obj === '';\n\t}\n\n\t/**\n\t * Check whether given argument has own property\n\t * @param {Object} obj - Target for checking\n\t * @returns {boolean} - whether given argument has own property\n\t * @memberof tui.util\n\t * @private\n\t */\n\tfunction _hasOwnProperty(obj) {\n\t    var key;\n\t    for (key in obj) {\n\t        if (obj.hasOwnProperty(key)) {\n\t            return true;\n\t        }\n\t    }\n\n\t    return false;\n\t}\n\n\t/**\n\t * Check whether the given variable is not empty\n\t * (not null, not undefined, or not empty array, not empty object) or not.<br>\n\t *  If the given variables is not empty, return true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is not empty?\n\t * @memberof tui.util\n\t */\n\tfunction isNotEmpty(obj) {\n\t    return !isEmpty(obj);\n\t}\n\n\t/**\n\t * Check whether the given variable is an instance of Date or not.<br>\n\t *  If the given variables is an instance of Date, return true.\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is an instance of Date?\n\t * @memberof tui.util\n\t */\n\tfunction isDate(obj) {\n\t    return obj instanceof Date;\n\t}\n\n\t/**\n\t * Check whether the given variable is an instance of Date or not.<br>\n\t *  If the given variables is an instance of Date, return true.<br>\n\t *  (It is used for multiple frame environments)\n\t * @param {*} obj - Target for checking\n\t * @returns {boolean} Is an instance of Date?\n\t * @memberof tui.util\n\t */\n\tfunction isDateSafe(obj) {\n\t    return toString.call(obj) === '[object Date]';\n\t}\n\n\tmodule.exports = {\n\t    isExisty: isExisty,\n\t    isUndefined: isUndefined,\n\t    isNull: isNull,\n\t    isTruthy: isTruthy,\n\t    isFalsy: isFalsy,\n\t    isArguments: isArguments,\n\t    isArray: isArray,\n\t    isArraySafe: isArraySafe,\n\t    isObject: isObject,\n\t    isFunction: isFunction,\n\t    isFunctionSafe: isFunctionSafe,\n\t    isNumber: isNumber,\n\t    isNumberSafe: isNumberSafe,\n\t    isDate: isDate,\n\t    isDateSafe: isDateSafe,\n\t    isString: isString,\n\t    isStringSafe: isStringSafe,\n\t    isBoolean: isBoolean,\n\t    isBooleanSafe: isBooleanSafe,\n\t    isHTMLNode: isHTMLNode,\n\t    isHTMLTag: isHTMLTag,\n\t    isEmpty: isEmpty,\n\t    isNotEmpty: isNotEmpty\n\t};\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __nested_webpack_require_20915__) {\n\n\t/**\n\t * @fileoverview This module has some functions for handling array.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar collection = __nested_webpack_require_20915__(4);\n\tvar type = __nested_webpack_require_20915__(2);\n\n\tvar aps = Array.prototype.slice;\n\tvar util;\n\n\t/**\n\t * Generate an integer Array containing an arithmetic progression.\n\t * @param {number} start - start index\n\t * @param {number} stop - stop index\n\t * @param {number} step - next visit index = current index + step\n\t * @returns {Array}\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * util.range(5); // [0, 1, 2, 3, 4]\n\t * util.range(1, 5); // [1,2,3,4]\n\t * util.range(2, 10, 2); // [2,4,6,8]\n\t * util.range(10, 2, -2); // [10,8,6,4]\n\t */\n\tvar range = function(start, stop, step) {\n\t    var arr = [];\n\t    var flag;\n\n\t    if (type.isUndefined(stop)) {\n\t        stop = start || 0;\n\t        start = 0;\n\t    }\n\n\t    step = step || 1;\n\t    flag = step < 0 ? -1 : 1;\n\t    stop *= flag;\n\n\t    for (; start * flag < stop; start += step) {\n\t        arr.push(start);\n\t    }\n\n\t    return arr;\n\t};\n\n\t/* eslint-disable valid-jsdoc */\n\t/**\n\t * Zip together multiple lists into a single array\n\t * @param {...Array}\n\t * @returns {Array}\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var result = util.zip([1, 2, 3], ['a', 'b','c'], [true, false, true]);\n\t * console.log(result[0]); // [1, 'a', true]\n\t * console.log(result[1]); // [2, 'b', false]\n\t * console.log(result[2]); // [3, 'c', true]\n\t */\n\tvar zip = function() {/* eslint-enable valid-jsdoc */\n\t    var arr2d = aps.call(arguments);\n\t    var result = [];\n\n\t    collection.forEach(arr2d, function(arr) {\n\t        collection.forEach(arr, function(value, index) {\n\t            if (!result[index]) {\n\t                result[index] = [];\n\t            }\n\t            result[index].push(value);\n\t        });\n\t    });\n\n\t    return result;\n\t};\n\n\t/**\n\t * Returns the first index at which a given element can be found in the array\n\t * from start index(default 0), or -1 if it is not present.<br>\n\t * It compares searchElement to elements of the Array using strict equality\n\t * (the same method used by the ===, or triple-equals, operator).\n\t * @param {*} searchElement Element to locate in the array\n\t * @param {Array} array Array that will be traversed.\n\t * @param {number} startIndex Start index in array for searching (default 0)\n\t * @returns {number} the First index at which a given element, or -1 if it is not present\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var arr = ['one', 'two', 'three', 'four'];\n\t * var idx1 = util.inArray('one', arr, 3); // -1\n\t * var idx2 = util.inArray('one', arr); // 0\n\t */\n\tvar inArray = function(searchElement, array, startIndex) {\n\t    var i;\n\t    var length;\n\t    startIndex = startIndex || 0;\n\n\t    if (!type.isArray(array)) {\n\t        return -1;\n\t    }\n\n\t    if (Array.prototype.indexOf) {\n\t        return Array.prototype.indexOf.call(array, searchElement, startIndex);\n\t    }\n\n\t    length = array.length;\n\t    for (i = startIndex; startIndex >= 0 && i < length; i += 1) {\n\t        if (array[i] === searchElement) {\n\t            return i;\n\t        }\n\t    }\n\n\t    return -1;\n\t};\n\n\tutil = {\n\t    inArray: inArray,\n\t    range: range,\n\t    zip: zip\n\t};\n\n\tmodule.exports = util;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __nested_webpack_require_24735__) {\n\n\t/**\n\t * @fileoverview This module has some functions for handling object as collection.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar type = __nested_webpack_require_24735__(2);\n\tvar object = __nested_webpack_require_24735__(1);\n\n\t/**\n\t * Execute the provided callback once for each element present\n\t * in the array(or Array-like object) in ascending order.<br>\n\t * If the callback function returns false, the loop will be stopped.<br>\n\t * Callback function(iteratee) is invoked with three arguments:\n\t *  - The value of the element\n\t *  - The index of the element\n\t *  - The array(or Array-like object) being traversed\n\t * @param {Array} arr The array(or Array-like object) that will be traversed\n\t * @param {function} iteratee Callback function\n\t * @param {Object} [context] Context(this) of callback function\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var sum = 0;\n\t *\n\t * util.forEachArray([1,2,3], function(value){\n\t *     sum += value;\n\t * });\n\t * alert(sum); // 6\n\t */\n\tfunction forEachArray(arr, iteratee, context) {\n\t    var index = 0;\n\t    var len = arr.length;\n\n\t    context = context || null;\n\n\t    for (; index < len; index += 1) {\n\t        if (iteratee.call(context, arr[index], index, arr) === false) {\n\t            break;\n\t        }\n\t    }\n\t}\n\n\t/**\n\t * Execute the provided callback once for each property of object which actually exist.<br>\n\t * If the callback function returns false, the loop will be stopped.<br>\n\t * Callback function(iteratee) is invoked with three arguments:\n\t *  - The value of the property\n\t *  - The name of the property\n\t *  - The object being traversed\n\t * @param {Object} obj The object that will be traversed\n\t * @param {function} iteratee  Callback function\n\t * @param {Object} [context] Context(this) of callback function\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var sum = 0;\n\t *\n\t * util.forEachOwnProperties({a:1,b:2,c:3}, function(value){\n\t *     sum += value;\n\t * });\n\t * alert(sum); // 6\n\t **/\n\tfunction forEachOwnProperties(obj, iteratee, context) {\n\t    var key;\n\n\t    context = context || null;\n\n\t    for (key in obj) {\n\t        if (obj.hasOwnProperty(key)) {\n\t            if (iteratee.call(context, obj[key], key, obj) === false) {\n\t                break;\n\t            }\n\t        }\n\t    }\n\t}\n\n\t/**\n\t * Execute the provided callback once for each property of object(or element of array) which actually exist.<br>\n\t * If the object is Array-like object(ex-arguments object), It needs to transform to Array.(see 'ex2' of example).<br>\n\t * If the callback function returns false, the loop will be stopped.<br>\n\t * Callback function(iteratee) is invoked with three arguments:\n\t *  - The value of the property(or The value of the element)\n\t *  - The name of the property(or The index of the element)\n\t *  - The object being traversed\n\t * @param {Object} obj The object that will be traversed\n\t * @param {function} iteratee Callback function\n\t * @param {Object} [context] Context(this) of callback function\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var sum = 0;\n\t *\n\t * util.forEach([1,2,3], function(value){\n\t *     sum += value;\n\t * });\n\t * alert(sum); // 6\n\t *\n\t * // In case of Array-like object\n\t * var array = Array.prototype.slice.call(arrayLike); // change to array\n\t * util.forEach(array, function(value){\n\t *     sum += value;\n\t * });\n\t */\n\tfunction forEach(obj, iteratee, context) {\n\t    if (type.isArray(obj)) {\n\t        forEachArray(obj, iteratee, context);\n\t    } else {\n\t        forEachOwnProperties(obj, iteratee, context);\n\t    }\n\t}\n\n\t/**\n\t * Execute the provided callback function once for each element in an array, in order,\n\t * and constructs a new array from the results.<br>\n\t * If the object is Array-like object(ex-arguments object),\n\t * It needs to transform to Array.(see 'ex2' of forEach example)<br>\n\t * Callback function(iteratee) is invoked with three arguments:\n\t *  - The value of the property(or The value of the element)\n\t *  - The name of the property(or The index of the element)\n\t *  - The object being traversed\n\t * @param {Object} obj The object that will be traversed\n\t * @param {function} iteratee Callback function\n\t * @param {Object} [context] Context(this) of callback function\n\t * @returns {Array} A new array composed of returned values from callback function\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var result = util.map([0,1,2,3], function(value) {\n\t *     return value + 1;\n\t * });\n\t *\n\t * alert(result);  // 1,2,3,4\n\t */\n\tfunction map(obj, iteratee, context) {\n\t    var resultArray = [];\n\n\t    context = context || null;\n\n\t    forEach(obj, function() {\n\t        resultArray.push(iteratee.apply(context, arguments));\n\t    });\n\n\t    return resultArray;\n\t}\n\n\t/**\n\t * Execute the callback function once for each element present in the array(or Array-like object or plain object).<br>\n\t * If the object is Array-like object(ex-arguments object),\n\t * It needs to transform to Array.(see 'ex2' of forEach example)<br>\n\t * Callback function(iteratee) is invoked with four arguments:\n\t *  - The previousValue\n\t *  - The currentValue\n\t *  - The index\n\t *  - The object being traversed\n\t * @param {Object} obj The object that will be traversed\n\t * @param {function} iteratee Callback function\n\t * @param {Object} [context] Context(this) of callback function\n\t * @returns {*} The result value\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var result = util.reduce([0,1,2,3], function(stored, value) {\n\t *     return stored + value;\n\t * });\n\t *\n\t * alert(result); // 6\n\t */\n\tfunction reduce(obj, iteratee, context) {\n\t    var index = 0;\n\t    var keys, length, store;\n\n\t    context = context || null;\n\n\t    if (!type.isArray(obj)) {\n\t        keys = object.keys(obj);\n\t        length = keys.length;\n\t        store = obj[keys[index += 1]];\n\t    } else {\n\t        length = obj.length;\n\t        store = obj[index];\n\t    }\n\n\t    index += 1;\n\t    for (; index < length; index += 1) {\n\t        store = iteratee.call(context, store, obj[keys ? keys[index] : index]);\n\t    }\n\n\t    return store;\n\t}\n\n\t/**\n\t * Transform the Array-like object to Array.<br>\n\t * In low IE (below 8), Array.prototype.slice.call is not perfect. So, try-catch statement is used.\n\t * @param {*} arrayLike Array-like object\n\t * @returns {Array} Array\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var arrayLike = {\n\t *     0: 'one',\n\t *     1: 'two',\n\t *     2: 'three',\n\t *     3: 'four',\n\t *     length: 4\n\t * };\n\t * var result = util.toArray(arrayLike);\n\t *\n\t * alert(result instanceof Array); // true\n\t * alert(result); // one,two,three,four\n\t */\n\tfunction toArray(arrayLike) {\n\t    var arr;\n\t    try {\n\t        arr = Array.prototype.slice.call(arrayLike);\n\t    } catch (e) {\n\t        arr = [];\n\t        forEachArray(arrayLike, function(value) {\n\t            arr.push(value);\n\t        });\n\t    }\n\n\t    return arr;\n\t}\n\n\t/**\n\t * Create a new array or plain object with all elements(or properties)\n\t * that pass the test implemented by the provided function.<br>\n\t * Callback function(iteratee) is invoked with three arguments:\n\t *  - The value of the property(or The value of the element)\n\t *  - The name of the property(or The index of the element)\n\t *  - The object being traversed\n\t * @param {Object} obj Object(plain object or Array) that will be traversed\n\t * @param {function} iteratee Callback function\n\t * @param {Object} [context] Context(this) of callback function\n\t * @returns {Object} plain object or Array\n\t * @memberof tui.util\n\t * @example\n\t  * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var result1 = util.filter([0,1,2,3], function(value) {\n\t *     return (value % 2 === 0);\n\t * });\n\t * alert(result1); // [0, 2]\n\t *\n\t * var result2 = util.filter({a : 1, b: 2, c: 3}, function(value) {\n\t *     return (value % 2 !== 0);\n\t * });\n\t * alert(result2.a); // 1\n\t * alert(result2.b); // undefined\n\t * alert(result2.c); // 3\n\t */\n\tfunction filter(obj, iteratee, context) {\n\t    var result, add;\n\n\t    context = context || null;\n\n\t    if (!type.isObject(obj) || !type.isFunction(iteratee)) {\n\t        throw new Error('wrong parameter');\n\t    }\n\n\t    if (type.isArray(obj)) {\n\t        result = [];\n\t        add = function(subResult, args) {\n\t            subResult.push(args[0]);\n\t        };\n\t    } else {\n\t        result = {};\n\t        add = function(subResult, args) {\n\t            subResult[args[1]] = args[0];\n\t        };\n\t    }\n\n\t    forEach(obj, function() {\n\t        if (iteratee.apply(context, arguments)) {\n\t            add(result, arguments);\n\t        }\n\t    }, context);\n\n\t    return result;\n\t}\n\n\t/**\n\t * fetching a property\n\t * @param {Array} arr target collection\n\t * @param {String|Number} property property name\n\t * @returns {Array}\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var objArr = [\n\t *     {'abc': 1, 'def': 2, 'ghi': 3},\n\t *     {'abc': 4, 'def': 5, 'ghi': 6},\n\t *     {'abc': 7, 'def': 8, 'ghi': 9}\n\t * ];\n\t * var arr2d = [\n\t *     [1, 2, 3],\n\t *     [4, 5, 6],\n\t *     [7, 8, 9]\n\t * ];\n\t * util.pluck(objArr, 'abc'); // [1, 4, 7]\n\t * util.pluck(arr2d, 2); // [3, 6, 9]\n\t */\n\tfunction pluck(arr, property) {\n\t    var result = map(arr, function(item) {\n\t        return item[property];\n\t    });\n\n\t    return result;\n\t}\n\n\tmodule.exports = {\n\t    forEachOwnProperties: forEachOwnProperties,\n\t    forEachArray: forEachArray,\n\t    forEach: forEach,\n\t    toArray: toArray,\n\t    map: map,\n\t    reduce: reduce,\n\t    filter: filter,\n\t    pluck: pluck\n\t};\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t/**\n\t * @fileoverview This module provides a bind() function for context binding.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\t/**\n\t * Create a new function that, when called, has its this keyword set to the provided value.\n\t * @param {function} fn A original function before binding\n\t * @param {*} obj context of function in arguments[0]\n\t * @returns {function()} A new bound function with context that is in arguments[1]\n\t * @memberof tui.util\n\t */\n\tfunction bind(fn, obj) {\n\t    var slice = Array.prototype.slice;\n\t    var args;\n\n\t    if (fn.bind) {\n\t        return fn.bind.apply(fn, slice.call(arguments, 1));\n\t    }\n\n\t    /* istanbul ignore next */\n\t    args = slice.call(arguments, 2);\n\n\t    /* istanbul ignore next */\n\t    return function() {\n\t        /* istanbul ignore next */\n\t        return fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);\n\t    };\n\t}\n\n\tmodule.exports = {\n\t    bind: bind\n\t};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t/**\n\t * @fileoverview This module provides some simple function for inheritance.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\t/**\n\t * Create a new object with the specified prototype object and properties.\n\t * @param {Object} obj This object will be a prototype of the newly-created object.\n\t * @returns {Object}\n\t * @memberof tui.util\n\t */\n\tfunction createObject(obj) {\n\t    function F() {} // eslint-disable-line require-jsdoc\n\t    F.prototype = obj;\n\n\t    return new F();\n\t}\n\n\t/**\n\t * Provide a simple inheritance in prototype-oriented.<br>\n\t * Caution :\n\t *  Don't overwrite the prototype of child constructor.\n\t *\n\t * @param {function} subType Child constructor\n\t * @param {function} superType Parent constructor\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * // Parent constructor\n\t * function Animal(leg) {\n\t *     this.leg = leg;\n\t * }\n\t * Animal.prototype.growl = function() {\n\t *     // ...\n\t * };\n\t *\n\t * // Child constructor\n\t * function Person(name) {\n\t *     this.name = name;\n\t * }\n\t *\n\t * // Inheritance\n\t * util.inherit(Person, Animal);\n\t *\n\t * // After this inheritance, please use only the extending of property.\n\t * // Do not overwrite prototype.\n\t * Person.prototype.walk = function(direction) {\n\t *     // ...\n\t * };\n\t */\n\tfunction inherit(subType, superType) {\n\t    var prototype = createObject(superType.prototype);\n\t    prototype.constructor = subType;\n\t    subType.prototype = prototype;\n\t}\n\n\tmodule.exports = {\n\t    createObject: createObject,\n\t    inherit: inherit\n\t};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __nested_webpack_require_38288__) {\n\n\t/**\n\t * @fileoverview This module has some functions for handling the string.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar collection = __nested_webpack_require_38288__(4);\n\tvar object = __nested_webpack_require_38288__(1);\n\t/**\n\t * Transform the given HTML Entity string into plain string\n\t * @param {String} htmlEntity - HTML Entity type string\n\t * @returns {String} Plain string\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t *  var htmlEntityString = \"A &#39;quote&#39; is &lt;b&gt;bold&lt;/b&gt;\"\n\t *  var result = util.decodeHTMLEntity(htmlEntityString); //\"A 'quote' is <b>bold</b>\"\n\t */\n\tfunction decodeHTMLEntity(htmlEntity) {\n\t    var entities = {\n\t        '&quot;': '\"',\n\t        '&amp;': '&',\n\t        '&lt;': '<',\n\t        '&gt;': '>',\n\t        '&#39;': '\\'',\n\t        '&nbsp;': ' '\n\t    };\n\n\t    return htmlEntity.replace(/&amp;|&lt;|&gt;|&quot;|&#39;|&nbsp;/g, function(m0) {\n\t        return entities[m0] ? entities[m0] : m0;\n\t    });\n\t}\n\n\t/**\n\t * Transform the given string into HTML Entity string\n\t * @param {String} html - String for encoding\n\t * @returns {String} HTML Entity\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t *  var htmlEntityString = \"<script> alert('test');<\/script><a href='test'>\";\n\t *  var result = util.encodeHTMLEntity(htmlEntityString);\n\t * //\"&lt;script&gt; alert(&#39;test&#39;);&lt;/script&gt;&lt;a href=&#39;test&#39;&gt;\"\n\t */\n\tfunction encodeHTMLEntity(html) {\n\t    var entities = {\n\t        '\"': 'quot',\n\t        '&': 'amp',\n\t        '<': 'lt',\n\t        '>': 'gt',\n\t        '\\'': '#39'\n\t    };\n\n\t    return html.replace(/[<>&\"']/g, function(m0) {\n\t        return entities[m0] ? '&' + entities[m0] + ';' : m0;\n\t    });\n\t}\n\n\t/**\n\t * Return whether the string capable to transform into plain string is in the given string or not.\n\t * @param {String} string - test string\n\t * @memberof tui.util\n\t * @returns {boolean}\n\t */\n\tfunction hasEncodableString(string) {\n\t    return (/[<>&\"']/).test(string);\n\t}\n\n\t/**\n\t * Return duplicate charters\n\t * @param {string} operandStr1 The operand string\n\t * @param {string} operandStr2 The operand string\n\t * @private\n\t * @memberof tui.util\n\t * @returns {string}\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * util.getDuplicatedChar('fe dev', 'nhn entertainment'); // 'e'\n\t * util.getDuplicatedChar('fdsa', 'asdf'); // 'asdf'\n\t */\n\tfunction getDuplicatedChar(operandStr1, operandStr2) {\n\t    var i = 0;\n\t    var len = operandStr1.length;\n\t    var pool = {};\n\t    var dupl, key;\n\n\t    for (; i < len; i += 1) {\n\t        key = operandStr1.charAt(i);\n\t        pool[key] = 1;\n\t    }\n\n\t    for (i = 0, len = operandStr2.length; i < len; i += 1) {\n\t        key = operandStr2.charAt(i);\n\t        if (pool[key]) {\n\t            pool[key] += 1;\n\t        }\n\t    }\n\n\t    pool = collection.filter(pool, function(item) {\n\t        return item > 1;\n\t    });\n\n\t    pool = object.keys(pool).sort();\n\t    dupl = pool.join('');\n\n\t    return dupl;\n\t}\n\n\tmodule.exports = {\n\t    decodeHTMLEntity: decodeHTMLEntity,\n\t    encodeHTMLEntity: encodeHTMLEntity,\n\t    hasEncodableString: hasEncodableString,\n\t    getDuplicatedChar: getDuplicatedChar\n\t};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t/**\n\t * @fileoverview collections of some technic methods.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript.nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar tricks = {};\n\tvar aps = Array.prototype.slice;\n\n\t/**\n\t * Creates a debounced function that delays invoking fn until after delay milliseconds has elapsed\n\t * since the last time the debouced function was invoked.\n\t * @param {function} fn The function to debounce.\n\t * @param {number} [delay=0] The number of milliseconds to delay\n\t * @memberof tui.util\n\t * @returns {function} debounced function.\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * function someMethodToInvokeDebounced() {}\n\t *\n\t * var debounced = util.debounce(someMethodToInvokeDebounced, 300);\n\t *\n\t * // invoke repeatedly\n\t * debounced();\n\t * debounced();\n\t * debounced();\n\t * debounced();\n\t * debounced();\n\t * debounced();    // last invoke of debounced()\n\t *\n\t * // invoke someMethodToInvokeDebounced() after 300 milliseconds.\n\t */\n\tfunction debounce(fn, delay) {\n\t    var timer, args;\n\n\t    /* istanbul ignore next */\n\t    delay = delay || 0;\n\n\t    function debounced() { // eslint-disable-line require-jsdoc\n\t        args = aps.call(arguments);\n\n\t        window.clearTimeout(timer);\n\t        timer = window.setTimeout(function() {\n\t            fn.apply(null, args);\n\t        }, delay);\n\t    }\n\n\t    return debounced;\n\t}\n\n\t/**\n\t * return timestamp\n\t * @memberof tui.util\n\t * @returns {number} The number of milliseconds from Jan. 1970 00:00:00 (GMT)\n\t */\n\tfunction timestamp() {\n\t    return Number(new Date());\n\t}\n\n\t/**\n\t * Creates a throttled function that only invokes fn at most once per every interval milliseconds.\n\t *\n\t * You can use this throttle short time repeatedly invoking functions. (e.g MouseMove, Resize ...)\n\t *\n\t * if you need reuse throttled method. you must remove slugs (e.g. flag variable) related with throttling.\n\t * @param {function} fn function to throttle\n\t * @param {number} [interval=0] the number of milliseconds to throttle invocations to.\n\t * @memberof tui.util\n\t * @returns {function} throttled function\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * function someMethodToInvokeThrottled() {}\n\t *\n\t * var throttled = util.throttle(someMethodToInvokeThrottled, 300);\n\t *\n\t * // invoke repeatedly\n\t * throttled();    // invoke (leading)\n\t * throttled();\n\t * throttled();    // invoke (near 300 milliseconds)\n\t * throttled();\n\t * throttled();\n\t * throttled();    // invoke (near 600 milliseconds)\n\t * // ...\n\t * // invoke (trailing)\n\t *\n\t * // if you need reuse throttled method. then invoke reset()\n\t * throttled.reset();\n\t */\n\tfunction throttle(fn, interval) {\n\t    var base;\n\t    var isLeading = true;\n\t    var tick = function(_args) {\n\t        fn.apply(null, _args);\n\t        base = null;\n\t    };\n\t    var debounced, stamp, args;\n\n\t    /* istanbul ignore next */\n\t    interval = interval || 0;\n\n\t    debounced = tricks.debounce(tick, interval);\n\n\t    function throttled() { // eslint-disable-line require-jsdoc\n\t        args = aps.call(arguments);\n\n\t        if (isLeading) {\n\t            tick(args);\n\t            isLeading = false;\n\n\t            return;\n\t        }\n\n\t        stamp = tricks.timestamp();\n\n\t        base = base || stamp;\n\n\t        // pass array directly because `debounce()`, `tick()` are already use\n\t        // `apply()` method to invoke developer's `fn` handler.\n\t        //\n\t        // also, this `debounced` line invoked every time for implements\n\t        // `trailing` features.\n\t        debounced(args);\n\n\t        if ((stamp - base) >= interval) {\n\t            tick(args);\n\t        }\n\t    }\n\n\t    function reset() { // eslint-disable-line require-jsdoc\n\t        isLeading = true;\n\t        base = null;\n\t    }\n\n\t    throttled.reset = reset;\n\n\t    return throttled;\n\t}\n\n\ttricks.timestamp = timestamp;\n\ttricks.debounce = debounce;\n\ttricks.throttle = throttle;\n\n\tmodule.exports = tricks;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __nested_webpack_require_46171__) {\n\n\t/**\n\t * @fileoverview This module has some functions for handling object as collection.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\t'use strict';\n\n\tvar object = __nested_webpack_require_46171__(1);\n\tvar collection = __nested_webpack_require_46171__(4);\n\tvar type = __nested_webpack_require_46171__(2);\n\tvar ms7days = 7 * 24 * 60 * 60 * 1000;\n\n\t/**\n\t * Check if the date has passed 7 days\n\t * @param {number} date - milliseconds\n\t * @returns {boolean}\n\t * @ignore\n\t */\n\tfunction isExpired(date) {\n\t    var now = new Date().getTime();\n\n\t    return now - date > ms7days;\n\t}\n\n\t/**\n\t * Send hostname on DOMContentLoaded.\n\t * To prevent hostname set tui.usageStatistics to false.\n\t * @param {string} appName - application name\n\t * @param {string} trackingId - GA tracking ID\n\t * @ignore\n\t */\n\tfunction sendHostname(appName, trackingId) {\n\t    var url = 'https://www.google-analytics.com/collect';\n\t    var hostname = location.hostname;\n\t    var hitType = 'event';\n\t    var eventCategory = 'use';\n\t    var applicationKeyForStorage = 'TOAST UI ' + appName + ' for ' + hostname + ': Statistics';\n\t    var date = window.localStorage.getItem(applicationKeyForStorage);\n\n\t    // skip if the flag is defined and is set to false explicitly\n\t    if (!type.isUndefined(window.tui) && window.tui.usageStatistics === false) {\n\t        return;\n\t    }\n\n\t    // skip if not pass seven days old\n\t    if (date && !isExpired(date)) {\n\t        return;\n\t    }\n\n\t    window.localStorage.setItem(applicationKeyForStorage, new Date().getTime());\n\n\t    setTimeout(function() {\n\t        if (document.readyState === 'interactive' || document.readyState === 'complete') {\n\t            imagePing(url, {\n\t                v: 1,\n\t                t: hitType,\n\t                tid: trackingId,\n\t                cid: hostname,\n\t                dp: hostname,\n\t                dh: appName,\n\t                el: appName,\n\t                ec: eventCategory\n\t            });\n\t        }\n\t    }, 1000);\n\t}\n\n\t/**\n\t * Request image ping.\n\t * @param {String} url url for ping request\n\t * @param {Object} trackingInfo infos for make query string\n\t * @returns {HTMLElement}\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * util.imagePing('https://www.google-analytics.com/collect', {\n\t *     v: 1,\n\t *     t: 'event',\n\t *     tid: 'trackingid',\n\t *     cid: 'cid',\n\t *     dp: 'dp',\n\t *     dh: 'dh'\n\t * });\n\t */\n\tfunction imagePing(url, trackingInfo) {\n\t    var queryString = collection.map(object.keys(trackingInfo), function(key, index) {\n\t        var startWith = index === 0 ? '' : '&';\n\n\t        return startWith + key + '=' + trackingInfo[key];\n\t    }).join('');\n\t    var trackingElement = document.createElement('img');\n\n\t    trackingElement.src = url + '?' + queryString;\n\n\t    trackingElement.style.display = 'none';\n\t    document.body.appendChild(trackingElement);\n\t    document.body.removeChild(trackingElement);\n\n\t    return trackingElement;\n\t}\n\n\tmodule.exports = {\n\t    imagePing: imagePing,\n\t    sendHostname: sendHostname\n\t};\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t/**\n\t * @fileoverview This module detects the kind of well-known browser and version.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\t/**\n\t * This object has an information that indicate the kind of browser.<br>\n\t * The list below is a detectable browser list.\n\t *  - ie8 ~ ie11\n\t *  - chrome\n\t *  - firefox\n\t *  - safari\n\t *  - edge\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * util.browser.chrome === true; // chrome\n\t * util.browser.firefox === true; // firefox\n\t * util.browser.safari === true; // safari\n\t * util.browser.msie === true; // IE\n\t * util.browser.edge === true; // edge\n\t * util.browser.others === true; // other browser\n\t * util.browser.version; // browser version\n\t */\n\tvar browser = {\n\t    chrome: false,\n\t    firefox: false,\n\t    safari: false,\n\t    msie: false,\n\t    edge: false,\n\t    others: false,\n\t    version: 0\n\t};\n\n\tif (window && window.navigator) {\n\t    detectBrowser();\n\t}\n\n\t/**\n\t * Detect the browser.\n\t * @private\n\t */\n\tfunction detectBrowser() {\n\t    var nav = window.navigator;\n\t    var appName = nav.appName.replace(/\\s/g, '_');\n\t    var userAgent = nav.userAgent;\n\n\t    var rIE = /MSIE\\s([0-9]+[.0-9]*)/;\n\t    var rIE11 = /Trident.*rv:11\\./;\n\t    var rEdge = /Edge\\/(\\d+)\\./;\n\t    var versionRegex = {\n\t        firefox: /Firefox\\/(\\d+)\\./,\n\t        chrome: /Chrome\\/(\\d+)\\./,\n\t        safari: /Version\\/([\\d.]+).*Safari\\/(\\d+)/\n\t    };\n\n\t    var key, tmp;\n\n\t    var detector = {\n\t        Microsoft_Internet_Explorer: function() { // eslint-disable-line camelcase\n\t            var detectedVersion = userAgent.match(rIE);\n\n\t            if (detectedVersion) { // ie8 ~ ie10\n\t                browser.msie = true;\n\t                browser.version = parseFloat(detectedVersion[1]);\n\t            } else { // no version information\n\t                browser.others = true;\n\t            }\n\t        },\n\t        Netscape: function() { // eslint-disable-line complexity\n\t            var detected = false;\n\n\t            if (rIE11.exec(userAgent)) {\n\t                browser.msie = true;\n\t                browser.version = 11;\n\t                detected = true;\n\t            } else if (rEdge.exec(userAgent)) {\n\t                browser.edge = true;\n\t                browser.version = userAgent.match(rEdge)[1];\n\t                detected = true;\n\t            } else {\n\t                for (key in versionRegex) {\n\t                    if (versionRegex.hasOwnProperty(key)) {\n\t                        tmp = userAgent.match(versionRegex[key]);\n\t                        if (tmp && tmp.length > 1) { // eslint-disable-line max-depth\n\t                            browser[key] = detected = true;\n\t                            browser.version = parseFloat(tmp[1] || 0);\n\t                            break;\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t            if (!detected) {\n\t                browser.others = true;\n\t            }\n\t        }\n\t    };\n\n\t    var fn = detector[appName];\n\n\t    if (fn) {\n\t        detector[appName]();\n\t    }\n\t}\n\n\tmodule.exports = browser;\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __nested_webpack_require_52691__) {\n\n\t/**\n\t * @fileoverview This module has some methods for handling popup-window\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar collection = __nested_webpack_require_52691__(4);\n\tvar type = __nested_webpack_require_52691__(2);\n\tvar func = __nested_webpack_require_52691__(5);\n\tvar browser = __nested_webpack_require_52691__(10);\n\tvar object = __nested_webpack_require_52691__(1);\n\n\tvar popupId = 0;\n\n\t/**\n\t * Popup management class\n\t * @constructor\n\t * @memberof tui.util\n\t * @example\n\t * // node, commonjs\n\t * var popup = require('tui-code-snippet').popup;\n\t * @example\n\t * // distribution file, script\n\t * <script src='path-to/tui-code-snippt.js'><\/script>\n\t * <script>\n\t * var popup = tui.util.popup;\n\t * <script>\n\t */\n\tfunction Popup() {\n\t    /**\n\t     * Caching the window-contexts of opened popups\n\t     * @type {Object}\n\t     */\n\t    this.openedPopup = {};\n\n\t    /**\n\t     * In IE7, an error occurs when the closeWithParent property attaches to window object.<br>\n\t     * So, It is for saving the value of closeWithParent instead of attaching to window object.\n\t     * @type {Object}\n\t     */\n\t    this.closeWithParentPopup = {};\n\n\t    /**\n\t     * Post data bridge for IE11 popup\n\t     * @type {string}\n\t     */\n\t    this.postBridgeUrl = '';\n\t}\n\n\t/**********\n\t * public methods\n\t **********/\n\n\t/**\n\t * Returns a popup-list administered by current window.\n\t * @param {string} [key] The key of popup.\n\t * @returns {Object} popup window list object\n\t */\n\tPopup.prototype.getPopupList = function(key) {\n\t    var target;\n\t    if (type.isExisty(key)) {\n\t        target = this.openedPopup[key];\n\t    } else {\n\t        target = this.openedPopup;\n\t    }\n\n\t    return target;\n\t};\n\n\t/**\n\t * Open popup\n\t * Caution:\n\t *  In IE11, when transfer data to popup by POST, must set the postBridgeUrl.\n\t *\n\t * @param {string} url - popup url\n\t * @param {Object} options - popup options\n\t *     @param {string} [options.popupName] - Key of popup window.<br>\n\t *      If the key is set, when you try to open by this key, the popup of this key is focused.<br>\n\t *      Or else a new popup window having this key is opened.\n\t *\n\t *     @param {string} [options.popupOptionStr=\"\"] - Option string of popup window<br>\n\t *      It is same with the third parameter of window.open() method.<br>\n\t *      See {@link http://www.w3schools.com/jsref/met_win_open.asp}\n\t *\n\t *     @param {boolean} [options.closeWithParent=true] - Is closed when parent window closed?\n\t *\n\t *     @param {boolean} [options.useReload=false] - This property indicates whether reload the popup or not.<br>\n\t *      If true, the popup will be reloaded when you try to re-open the popup that has been opened.<br>\n\t *      When transmit the POST-data, some browsers alert a message for confirming whether retransmit or not.\n\t *\n\t *     @param {string} [options.postBridgeUrl='']\n\t *      Use this url to avoid a certain bug occuring when transmitting POST data to the popup in IE11.<br>\n\t *      This specific buggy situation is known to happen because IE11 tries to open the requested url<br>\n\t *      not in a new popup window as intended, but in a new tab.<br>\n\t *      See {@link http://wiki.nhnent.com/pages/viewpage.action?pageId=240562844}\n\t *\n\t *     @param {string} [options.method=get]\n\t *     The method of transmission when the form-data is transmitted to popup-window.\n\t *\n\t *     @param {Object} [options.param=null]\n\t *     Using as parameters for transmission when the form-data is transmitted to popup-window.\n\t */\n\tPopup.prototype.openPopup = function(url, options) { // eslint-disable-line complexity\n\t    var popup, formElement, useIEPostBridge;\n\n\t    options = object.extend({\n\t        popupName: 'popup_' + popupId + '_' + Number(new Date()),\n\t        popupOptionStr: '',\n\t        useReload: true,\n\t        closeWithParent: true,\n\t        method: 'get',\n\t        param: {}\n\t    }, options || {});\n\n\t    options.method = options.method.toUpperCase();\n\n\t    this.postBridgeUrl = options.postBridgeUrl || this.postBridgeUrl;\n\n\t    useIEPostBridge = options.method === 'POST' && options.param &&\n\t            browser.msie && browser.version === 11;\n\n\t    if (!type.isExisty(url)) {\n\t        throw new Error('Popup#open() need popup url.');\n\t    }\n\n\t    popupId += 1;\n\n\t    /*\n\t     * In form-data transmission\n\t     * 1. Create a form before opening a popup.\n\t     * 2. Transmit the form-data.\n\t     * 3. Remove the form after transmission.\n\t     */\n\t    if (options.param) {\n\t        if (options.method === 'GET') {\n\t            url = url + (/\\?/.test(url) ? '&' : '?') + this._parameterize(options.param);\n\t        } else if (options.method === 'POST') {\n\t            if (!useIEPostBridge) {\n\t                formElement = this.createForm(url, options.param, options.method, options.popupName);\n\t                url = 'about:blank';\n\t            }\n\t        }\n\t    }\n\n\t    popup = this.openedPopup[options.popupName];\n\n\t    if (!type.isExisty(popup)) {\n\t        this.openedPopup[options.popupName] = popup = this._open(useIEPostBridge, options.param,\n\t            url, options.popupName, options.popupOptionStr);\n\t    } else if (popup.closed) {\n\t        this.openedPopup[options.popupName] = popup = this._open(useIEPostBridge, options.param,\n\t            url, options.popupName, options.popupOptionStr);\n\t    } else {\n\t        if (options.useReload) {\n\t            popup.location.replace(url);\n\t        }\n\t        popup.focus();\n\t    }\n\n\t    this.closeWithParentPopup[options.popupName] = options.closeWithParent;\n\n\t    if (!popup || popup.closed || type.isUndefined(popup.closed)) {\n\t        alert('please enable popup windows for this website');\n\t    }\n\n\t    if (options.param && options.method === 'POST' && !useIEPostBridge) {\n\t        if (popup) {\n\t            formElement.submit();\n\t        }\n\t        if (formElement.parentNode) {\n\t            formElement.parentNode.removeChild(formElement);\n\t        }\n\t    }\n\n\t    window.onunload = func.bind(this.closeAllPopup, this);\n\t};\n\n\t/**\n\t * Close the popup\n\t * @param {boolean} [skipBeforeUnload] - If true, the 'window.onunload' will be null and skip unload event.\n\t * @param {Window} [popup] - Window-context of popup for closing. If omit this, current window-context will be closed.\n\t */\n\tPopup.prototype.close = function(skipBeforeUnload, popup) {\n\t    var target = popup || window;\n\t    skipBeforeUnload = type.isExisty(skipBeforeUnload) ? skipBeforeUnload : false;\n\n\t    if (skipBeforeUnload) {\n\t        window.onunload = null;\n\t    }\n\n\t    if (!target.closed) {\n\t        target.opener = window.location.href;\n\t        target.close();\n\t    }\n\t};\n\n\t/**\n\t * Close all the popups in current window.\n\t * @param {boolean} closeWithParent - If true, popups having the closeWithParentPopup property as true will be closed.\n\t */\n\tPopup.prototype.closeAllPopup = function(closeWithParent) {\n\t    var hasArg = type.isExisty(closeWithParent);\n\n\t    collection.forEachOwnProperties(this.openedPopup, function(popup, key) {\n\t        if ((hasArg && this.closeWithParentPopup[key]) || !hasArg) {\n\t            this.close(false, popup);\n\t        }\n\t    }, this);\n\t};\n\n\t/**\n\t * Activate(or focus) the popup of the given name.\n\t * @param {string} popupName - Name of popup for activation\n\t */\n\tPopup.prototype.focus = function(popupName) {\n\t    this.getPopupList(popupName).focus();\n\t};\n\n\t/**\n\t * Return an object made of parsing the query string.\n\t * @returns {Object} An object having some information of the query string.\n\t * @private\n\t */\n\tPopup.prototype.parseQuery = function() {\n\t    var param = {};\n\t    var search, pair;\n\n\t    search = window.location.search.substr(1);\n\t    collection.forEachArray(search.split('&'), function(part) {\n\t        pair = part.split('=');\n\t        param[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n\t    });\n\n\t    return param;\n\t};\n\n\t/**\n\t * Create a hidden form from the given arguments and return this form.\n\t * @param {string} action - URL for form transmission\n\t * @param {Object} [data] - Data for form transmission\n\t * @param {string} [method] - Method of transmission\n\t * @param {string} [target] - Target of transmission\n\t * @param {HTMLElement} [container] - Container element of form.\n\t * @returns {HTMLElement} Form element\n\t */\n\tPopup.prototype.createForm = function(action, data, method, target, container) {\n\t    var form = document.createElement('form'),\n\t        input;\n\n\t    container = container || document.body;\n\n\t    form.method = method || 'POST';\n\t    form.action = action || '';\n\t    form.target = target || '';\n\t    form.style.display = 'none';\n\n\t    collection.forEachOwnProperties(data, function(value, key) {\n\t        input = document.createElement('input');\n\t        input.name = key;\n\t        input.type = 'hidden';\n\t        input.value = value;\n\t        form.appendChild(input);\n\t    });\n\n\t    container.appendChild(form);\n\n\t    return form;\n\t};\n\n\t/**********\n\t * private methods\n\t **********/\n\n\t/**\n\t * Return an query string made by parsing the given object\n\t * @param {Object} obj - An object that has information for query string\n\t * @returns {string} - Query string\n\t * @private\n\t */\n\tPopup.prototype._parameterize = function(obj) {\n\t    var query = [];\n\n\t    collection.forEachOwnProperties(obj, function(value, key) {\n\t        query.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n\t    });\n\n\t    return query.join('&');\n\t};\n\n\t/**\n\t * Open popup\n\t * @param {boolean} useIEPostBridge - A switch option whether to use alternative\n\t *                                  of tossing POST data to the popup window in IE11\n\t * @param {Object} param - A data for tossing to popup\n\t * @param {string} url - Popup url\n\t * @param {string} popupName - Popup name\n\t * @param {string} optionStr - Setting for popup, ex) 'width=640,height=320,scrollbars=yes'\n\t * @returns {Window} Window context of popup\n\t * @private\n\t */\n\tPopup.prototype._open = function(useIEPostBridge, param, url, popupName, optionStr) {\n\t    var popup;\n\n\t    if (useIEPostBridge) {\n\t        popup = window.open(this.postBridgeUrl, popupName, optionStr);\n\t        setTimeout(function() {\n\t            popup.redirect(url, param);\n\t        }, 100);\n\t    } else {\n\t        popup = window.open(url, popupName, optionStr);\n\t    }\n\n\t    return popup;\n\t};\n\n\tmodule.exports = new Popup();\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __nested_webpack_require_63006__) {\n\n\t/**\n\t * @fileoverview This module has a function for date format.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar type = __nested_webpack_require_63006__(2);\n\tvar object = __nested_webpack_require_63006__(1);\n\n\tvar tokens = /[\\\\]*YYYY|[\\\\]*YY|[\\\\]*MMMM|[\\\\]*MMM|[\\\\]*MM|[\\\\]*M|[\\\\]*DD|[\\\\]*D|[\\\\]*HH|[\\\\]*H|[\\\\]*A/gi;\n\tvar MONTH_STR = [\n\t    'Invalid month', 'January', 'February', 'March', 'April', 'May',\n\t    'June', 'July', 'August', 'September', 'October', 'November', 'December'\n\t];\n\tvar MONTH_DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\tvar replaceMap = {\n\t    M: function(date) {\n\t        return Number(date.month);\n\t    },\n\t    MM: function(date) {\n\t        var month = date.month;\n\n\t        return (Number(month) < 10) ? '0' + month : month;\n\t    },\n\t    MMM: function(date) {\n\t        return MONTH_STR[Number(date.month)].substr(0, 3);\n\t    },\n\t    MMMM: function(date) {\n\t        return MONTH_STR[Number(date.month)];\n\t    },\n\t    D: function(date) {\n\t        return Number(date.date);\n\t    },\n\t    d: function(date) {\n\t        return replaceMap.D(date); // eslint-disable-line new-cap\n\t    },\n\t    DD: function(date) {\n\t        var dayInMonth = date.date;\n\n\t        return (Number(dayInMonth) < 10) ? '0' + dayInMonth : dayInMonth;\n\t    },\n\t    dd: function(date) {\n\t        return replaceMap.DD(date); // eslint-disable-line new-cap\n\t    },\n\t    YY: function(date) {\n\t        return Number(date.year) % 100;\n\t    },\n\t    yy: function(date) {\n\t        return replaceMap.YY(date); // eslint-disable-line new-cap\n\t    },\n\t    YYYY: function(date) {\n\t        var prefix = '20',\n\t            year = date.year;\n\t        if (year > 69 && year < 100) {\n\t            prefix = '19';\n\t        }\n\n\t        return (Number(year) < 100) ? prefix + String(year) : year;\n\t    },\n\t    yyyy: function(date) {\n\t        return replaceMap.YYYY(date); // eslint-disable-line new-cap\n\t    },\n\t    A: function(date) {\n\t        return date.meridiem;\n\t    },\n\t    a: function(date) {\n\t        return date.meridiem;\n\t    },\n\t    hh: function(date) {\n\t        var hour = date.hour;\n\n\t        return (Number(hour) < 10) ? '0' + hour : hour;\n\t    },\n\t    HH: function(date) {\n\t        return replaceMap.hh(date);\n\t    },\n\t    h: function(date) {\n\t        return String(Number(date.hour));\n\t    },\n\t    H: function(date) {\n\t        return replaceMap.h(date);\n\t    },\n\t    m: function(date) {\n\t        return String(Number(date.minute));\n\t    },\n\t    mm: function(date) {\n\t        var minute = date.minute;\n\n\t        return (Number(minute) < 10) ? '0' + minute : minute;\n\t    }\n\t};\n\n\t/**\n\t * Check whether the given variables are valid date or not.\n\t * @param {number} year - Year\n\t * @param {number} month - Month\n\t * @param {number} date - Day in month.\n\t * @returns {boolean} Is valid?\n\t * @private\n\t */\n\tfunction isValidDate(year, month, date) { // eslint-disable-line complexity\n\t    var isValidYear, isValidMonth, isValid, lastDayInMonth;\n\n\t    year = Number(year);\n\t    month = Number(month);\n\t    date = Number(date);\n\n\t    isValidYear = (year > -1 && year < 100) || ((year > 1969) && (year < 2070));\n\t    isValidMonth = (month > 0) && (month < 13);\n\n\t    if (!isValidYear || !isValidMonth) {\n\t        return false;\n\t    }\n\n\t    lastDayInMonth = MONTH_DAYS[month];\n\t    if (month === 2 && year % 4 === 0) {\n\t        if (year % 100 !== 0 || year % 400 === 0) {\n\t            lastDayInMonth = 29;\n\t        }\n\t    }\n\n\t    isValid = (date > 0) && (date <= lastDayInMonth);\n\n\t    return isValid;\n\t}\n\n\t/**\n\t * Return a string that transformed from the given form and date.\n\t * @param {string} form - Date form\n\t * @param {Date|Object} date - Date object\n\t * @param {{meridiemSet: {AM: string, PM: string}}} option - Option\n\t * @returns {boolean|string} A transformed string or false.\n\t * @memberof tui.util\n\t * @example\n\t *  // key             | Shorthand\n\t *  // --------------- |-----------------------\n\t *  // years           | YY / YYYY / yy / yyyy\n\t *  // months(n)       | M / MM\n\t *  // months(str)     | MMM / MMMM\n\t *  // days            | D / DD / d / dd\n\t *  // hours           | H / HH / h / hh\n\t *  // minutes         | m / mm\n\t *  // meridiem(AM,PM) | A / a\n\t *\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var dateStr1 = util.formatDate('yyyy-MM-dd', {\n\t *     year: 2014,\n\t *     month: 12,\n\t *     date: 12\n\t * });\n\t * alert(dateStr1); // '2014-12-12'\n\t *\n\t * var dateStr2 = util.formatDate('MMM DD YYYY HH:mm', {\n\t *     year: 1999,\n\t *     month: 9,\n\t *     date: 9,\n\t *     hour: 0,\n\t *     minute: 2\n\t * });\n\t * alert(dateStr2); // 'Sep 09 1999 00:02'\n\t *\n\t * var dt = new Date(2010, 2, 13),\n\t *     dateStr3 = util.formatDate('yyyy년 M월 dd일', dt);\n\t * alert(dateStr3); // '2010년 3월 13일'\n\t *\n\t * var option4 = {\n\t *     meridiemSet: {\n\t *         AM: '오전',\n\t *         PM: '오후'\n\t *     }\n\t * };\n\t * var date4 = {year: 1999, month: 9, date: 9, hour: 13, minute: 2};\n\t * var dateStr4 = util.formatDate('yyyy-MM-dd A hh:mm', date4, option4));\n\t * alert(dateStr4); // '1999-09-09 오후 01:02'\n\t */\n\tfunction formatDate(form, date, option) { // eslint-disable-line complexity\n\t    var am = object.pick(option, 'meridiemSet', 'AM') || 'AM';\n\t    var pm = object.pick(option, 'meridiemSet', 'PM') || 'PM';\n\t    var meridiem, nDate, resultStr;\n\n\t    if (type.isDate(date)) {\n\t        nDate = {\n\t            year: date.getFullYear(),\n\t            month: date.getMonth() + 1,\n\t            date: date.getDate(),\n\t            hour: date.getHours(),\n\t            minute: date.getMinutes()\n\t        };\n\t    } else {\n\t        nDate = {\n\t            year: date.year,\n\t            month: date.month,\n\t            date: date.date,\n\t            hour: date.hour,\n\t            minute: date.minute\n\t        };\n\t    }\n\n\t    if (!isValidDate(nDate.year, nDate.month, nDate.date)) {\n\t        return false;\n\t    }\n\n\t    nDate.meridiem = '';\n\t    if (/([^\\\\]|^)[aA]\\b/.test(form)) {\n\t        meridiem = (nDate.hour > 11) ? pm : am;\n\t        if (nDate.hour > 12) { // See the clock system: https://en.wikipedia.org/wiki/12-hour_clock\n\t            nDate.hour %= 12;\n\t        }\n\t        if (nDate.hour === 0) {\n\t            nDate.hour = 12;\n\t        }\n\t        nDate.meridiem = meridiem;\n\t    }\n\n\t    resultStr = form.replace(tokens, function(key) {\n\t        if (key.indexOf('\\\\') > -1) { // escape character\n\t            return key.replace(/\\\\/, '');\n\t        }\n\n\t        return replaceMap[key](nDate) || '';\n\t    });\n\n\t    return resultStr;\n\t}\n\n\tmodule.exports = formatDate;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __nested_webpack_require_69704__) {\n\n\t/**\n\t * @fileoverview\n\t *  This module provides a function to make a constructor\n\t * that can inherit from the other constructors like the CLASS easily.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar inherit = __nested_webpack_require_69704__(6).inherit;\n\tvar extend = __nested_webpack_require_69704__(1).extend;\n\n\t/**\n\t * Help a constructor to be defined and to inherit from the other constructors\n\t * @param {*} [parent] Parent constructor\n\t * @param {Object} props Members of constructor\n\t *  @param {Function} props.init Initialization method\n\t *  @param {Object} [props.static] Static members of constructor\n\t * @returns {*} Constructor\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var Parent = util.defineClass({\n\t *     init: function() { // constuructor\n\t *         this.name = 'made by def';\n\t *     },\n\t *     method: function() {\n\t *         // ...\n\t *     },\n\t *     static: {\n\t *         staticMethod: function() {\n\t *              // ...\n\t *         }\n\t *     }\n\t * });\n\t *\n\t * var Child = util.defineClass(Parent, {\n\t *     childMethod: function() {}\n\t * });\n\t *\n\t * Parent.staticMethod();\n\t *\n\t * var parentInstance = new Parent();\n\t * console.log(parentInstance.name); //made by def\n\t * parentInstance.staticMethod(); // Error\n\t *\n\t * var childInstance = new Child();\n\t * childInstance.method();\n\t * childInstance.childMethod();\n\t */\n\tfunction defineClass(parent, props) {\n\t    var obj;\n\n\t    if (!props) {\n\t        props = parent;\n\t        parent = null;\n\t    }\n\n\t    obj = props.init || function() {};\n\n\t    if (parent) {\n\t        inherit(obj, parent);\n\t    }\n\n\t    if (props.hasOwnProperty('static')) {\n\t        extend(obj, props['static']);\n\t        delete props['static'];\n\t    }\n\n\t    extend(obj.prototype, props);\n\n\t    return obj;\n\t}\n\n\tmodule.exports = defineClass;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __nested_webpack_require_71767__) {\n\n\t/**\n\t * @fileoverview Define module\n\t * @author NHN.\n\t *         FE Development Lab <dl_javscript@nhn.com>\n\t * @dependency type.js, defineNamespace.js\n\t */\n\n\t'use strict';\n\n\tvar defineNamespace = __nested_webpack_require_71767__(15);\n\tvar type = __nested_webpack_require_71767__(2);\n\n\tvar INITIALIZATION_METHOD_NAME = 'initialize';\n\n\t/**\n\t * Define module\n\t * @param {string} namespace - Namespace of module\n\t * @param {Object} moduleDefinition - Object literal for module\n\t * @returns {Object} Defined module\n\t * @memberof tui.util\n\t * @example\n\t  * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var myModule = util.defineModule('modules.myModule', {\n\t *     name: 'john',\n\t *     message: '',\n\t *     initialize: function() {\n\t *        this.message = 'hello world';\n\t *     },\n\t *     getMessage: function() {\n\t *         return this.name + ': ' + this.message\n\t *     }\n\t * });\n\t *\n\t * console.log(myModule.getMessage());  // 'john: hello world';\n\t */\n\tfunction defineModule(namespace, moduleDefinition) {\n\t    var base = moduleDefinition || {};\n\n\t    if (type.isFunction(base[INITIALIZATION_METHOD_NAME])) {\n\t        base[INITIALIZATION_METHOD_NAME]();\n\t    }\n\n\t    return defineNamespace(namespace, base);\n\t}\n\n\tmodule.exports = defineModule;\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __nested_webpack_require_73194__) {\n\n\t/**\n\t * @fileoverview Define namespace\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t * @dependency object.js, collection.js\n\t */\n\n\t'use strict';\n\n\tvar collection = __nested_webpack_require_73194__(4);\n\tvar object = __nested_webpack_require_73194__(1);\n\n\t/**\n\t * Define namespace\n\t * @param {string} namespace - Namespace (ex- 'foo.bar.baz')\n\t * @param {(object|function)} props - A set of modules or one module\n\t * @param {boolean} [isOverride] - Override the props to the namespace.<br>\n\t *                                  (It removes previous properties of this namespace)\n\t * @returns {(object|function)} Defined namespace\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var util = require('tui-code-snippet'); // node, commonjs\n\t * var util = tui.util; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var neComp = util.defineNamespace;\n\t * neComp.listMenu = defineClass({\n\t *     init: function() {\n\t *         // ...\n\t *     }\n\t * });\n\t */\n\tfunction defineNamespace(namespace, props, isOverride) {\n\t    var names, result, prevLast, last;\n\n\t    names = namespace.split('.');\n\t    names.unshift(window);\n\n\t    result = collection.reduce(names, function(obj, name) {\n\t        obj[name] = obj[name] || {};\n\n\t        return obj[name];\n\t    });\n\n\t    if (isOverride) {\n\t        last = names.pop();\n\t        prevLast = object.pick.apply(null, names);\n\t        result = prevLast[last] = props;\n\t    } else {\n\t        object.extend(result, props);\n\t    }\n\n\t    return result;\n\t}\n\n\tmodule.exports = defineNamespace;\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __nested_webpack_require_74820__) {\n\n\t/**\n\t * @fileoverview\n\t *  This module provides some functions for custom events.<br>\n\t *  And it is implemented in the observer design pattern.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar collection = __nested_webpack_require_74820__(4);\n\tvar type = __nested_webpack_require_74820__(2);\n\tvar object = __nested_webpack_require_74820__(1);\n\n\tvar R_EVENTNAME_SPLIT = /\\s+/g;\n\n\t/**\n\t * A unit of event handler item.\n\t * @ignore\n\t * @typedef {object} HandlerItem\n\t * @property {function} fn - event handler\n\t * @property {object} ctx - context of event handler\n\t */\n\n\t/**\n\t * @class\n\t * @memberof tui.util\n\t * @example\n\t * // node, commonjs\n\t * var CustomEvents = require('tui-code-snippet').CustomEvents;\n\t * @example\n\t * // distribution file, script\n\t * <script src='path-to/tui-code-snippt.js'><\/script>\n\t * <script>\n\t * var CustomEvents = tui.util.CustomEvents;\n\t * <\/script>\n\t */\n\tfunction CustomEvents() {\n\t    /**\n\t     * @type {HandlerItem[]}\n\t     */\n\t    this.events = null;\n\n\t    /**\n\t     * only for checking specific context event was binded\n\t     * @type {object[]}\n\t     */\n\t    this.contexts = null;\n\t}\n\n\t/**\n\t * Mixin custom events feature to specific constructor\n\t * @param {function} func - constructor\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var CustomEvents = require('tui-code-snippet').CustomEvents; // node, commonjs\n\t * var CustomEvents = tui.util.CustomEvents; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var model;\n\t * function Model() {\n\t *     this.name = '';\n\t * }\n\t * CustomEvents.mixin(Model);\n\t *\n\t * model = new Model();\n\t * model.on('change', function() { this.name = 'model'; }, this);\n\t * model.fire('change');\n\t * alert(model.name); // 'model';\n\t */\n\tCustomEvents.mixin = function(func) {\n\t    object.extend(func.prototype, CustomEvents.prototype);\n\t};\n\n\t/**\n\t * Get HandlerItem object\n\t * @param {function} handler - handler function\n\t * @param {object} [context] - context for handler\n\t * @returns {HandlerItem} HandlerItem object\n\t * @private\n\t */\n\tCustomEvents.prototype._getHandlerItem = function(handler, context) {\n\t    var item = {handler: handler};\n\n\t    if (context) {\n\t        item.context = context;\n\t    }\n\n\t    return item;\n\t};\n\n\t/**\n\t * Get event object safely\n\t * @param {string} [eventName] - create sub event map if not exist.\n\t * @returns {(object|array)} event object. if you supplied `eventName`\n\t *  parameter then make new array and return it\n\t * @private\n\t */\n\tCustomEvents.prototype._safeEvent = function(eventName) {\n\t    var events = this.events;\n\t    var byName;\n\n\t    if (!events) {\n\t        events = this.events = {};\n\t    }\n\n\t    if (eventName) {\n\t        byName = events[eventName];\n\n\t        if (!byName) {\n\t            byName = [];\n\t            events[eventName] = byName;\n\t        }\n\n\t        events = byName;\n\t    }\n\n\t    return events;\n\t};\n\n\t/**\n\t * Get context array safely\n\t * @returns {array} context array\n\t * @private\n\t */\n\tCustomEvents.prototype._safeContext = function() {\n\t    var context = this.contexts;\n\n\t    if (!context) {\n\t        context = this.contexts = [];\n\t    }\n\n\t    return context;\n\t};\n\n\t/**\n\t * Get index of context\n\t * @param {object} ctx - context that used for bind custom event\n\t * @returns {number} index of context\n\t * @private\n\t */\n\tCustomEvents.prototype._indexOfContext = function(ctx) {\n\t    var context = this._safeContext();\n\t    var index = 0;\n\n\t    while (context[index]) {\n\t        if (ctx === context[index][0]) {\n\t            return index;\n\t        }\n\n\t        index += 1;\n\t    }\n\n\t    return -1;\n\t};\n\n\t/**\n\t * Memorize supplied context for recognize supplied object is context or\n\t *  name: handler pair object when off()\n\t * @param {object} ctx - context object to memorize\n\t * @private\n\t */\n\tCustomEvents.prototype._memorizeContext = function(ctx) {\n\t    var context, index;\n\n\t    if (!type.isExisty(ctx)) {\n\t        return;\n\t    }\n\n\t    context = this._safeContext();\n\t    index = this._indexOfContext(ctx);\n\n\t    if (index > -1) {\n\t        context[index][1] += 1;\n\t    } else {\n\t        context.push([ctx, 1]);\n\t    }\n\t};\n\n\t/**\n\t * Forget supplied context object\n\t * @param {object} ctx - context object to forget\n\t * @private\n\t */\n\tCustomEvents.prototype._forgetContext = function(ctx) {\n\t    var context, contextIndex;\n\n\t    if (!type.isExisty(ctx)) {\n\t        return;\n\t    }\n\n\t    context = this._safeContext();\n\t    contextIndex = this._indexOfContext(ctx);\n\n\t    if (contextIndex > -1) {\n\t        context[contextIndex][1] -= 1;\n\n\t        if (context[contextIndex][1] <= 0) {\n\t            context.splice(contextIndex, 1);\n\t        }\n\t    }\n\t};\n\n\t/**\n\t * Bind event handler\n\t * @param {(string|{name:string, handler:function})} eventName - custom\n\t *  event name or an object {eventName: handler}\n\t * @param {(function|object)} [handler] - handler function or context\n\t * @param {object} [context] - context for binding\n\t * @private\n\t */\n\tCustomEvents.prototype._bindEvent = function(eventName, handler, context) {\n\t    var events = this._safeEvent(eventName);\n\t    this._memorizeContext(context);\n\t    events.push(this._getHandlerItem(handler, context));\n\t};\n\n\t/**\n\t * Bind event handlers\n\t * @param {(string|{name:string, handler:function})} eventName - custom\n\t *  event name or an object {eventName: handler}\n\t * @param {(function|object)} [handler] - handler function or context\n\t * @param {object} [context] - context for binding\n\t * //-- #1. Get Module --//\n\t * var CustomEvents = require('tui-code-snippet').CustomEvents; // node, commonjs\n\t * var CustomEvents = tui.util.CustomEvents; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * // # 2.1 Basic Usage\n\t * CustomEvents.on('onload', handler);\n\t *\n\t * // # 2.2 With context\n\t * CustomEvents.on('onload', handler, myObj);\n\t *\n\t * // # 2.3 Bind by object that name, handler pairs\n\t * CustomEvents.on({\n\t *     'play': handler,\n\t *     'pause': handler2\n\t * });\n\t *\n\t * // # 2.4 Bind by object that name, handler pairs with context object\n\t * CustomEvents.on({\n\t *     'play': handler\n\t * }, myObj);\n\t */\n\tCustomEvents.prototype.on = function(eventName, handler, context) {\n\t    var self = this;\n\n\t    if (type.isString(eventName)) {\n\t        // [syntax 1, 2]\n\t        eventName = eventName.split(R_EVENTNAME_SPLIT);\n\t        collection.forEach(eventName, function(name) {\n\t            self._bindEvent(name, handler, context);\n\t        });\n\t    } else if (type.isObject(eventName)) {\n\t        // [syntax 3, 4]\n\t        context = handler;\n\t        collection.forEach(eventName, function(func, name) {\n\t            self.on(name, func, context);\n\t        });\n\t    }\n\t};\n\n\t/**\n\t * Bind one-shot event handlers\n\t * @param {(string|{name:string,handler:function})} eventName - custom\n\t *  event name or an object {eventName: handler}\n\t * @param {function|object} [handler] - handler function or context\n\t * @param {object} [context] - context for binding\n\t */\n\tCustomEvents.prototype.once = function(eventName, handler, context) {\n\t    var self = this;\n\n\t    if (type.isObject(eventName)) {\n\t        context = handler;\n\t        collection.forEach(eventName, function(func, name) {\n\t            self.once(name, func, context);\n\t        });\n\n\t        return;\n\t    }\n\n\t    function onceHandler() { // eslint-disable-line require-jsdoc\n\t        handler.apply(context, arguments);\n\t        self.off(eventName, onceHandler, context);\n\t    }\n\n\t    this.on(eventName, onceHandler, context);\n\t};\n\n\t/**\n\t * Splice supplied array by callback result\n\t * @param {array} arr - array to splice\n\t * @param {function} predicate - function return boolean\n\t * @private\n\t */\n\tCustomEvents.prototype._spliceMatches = function(arr, predicate) {\n\t    var i = 0;\n\t    var len;\n\n\t    if (!type.isArray(arr)) {\n\t        return;\n\t    }\n\n\t    for (len = arr.length; i < len; i += 1) {\n\t        if (predicate(arr[i]) === true) {\n\t            arr.splice(i, 1);\n\t            len -= 1;\n\t            i -= 1;\n\t        }\n\t    }\n\t};\n\n\t/**\n\t * Get matcher for unbind specific handler events\n\t * @param {function} handler - handler function\n\t * @returns {function} handler matcher\n\t * @private\n\t */\n\tCustomEvents.prototype._matchHandler = function(handler) {\n\t    var self = this;\n\n\t    return function(item) {\n\t        var needRemove = handler === item.handler;\n\n\t        if (needRemove) {\n\t            self._forgetContext(item.context);\n\t        }\n\n\t        return needRemove;\n\t    };\n\t};\n\n\t/**\n\t * Get matcher for unbind specific context events\n\t * @param {object} context - context\n\t * @returns {function} object matcher\n\t * @private\n\t */\n\tCustomEvents.prototype._matchContext = function(context) {\n\t    var self = this;\n\n\t    return function(item) {\n\t        var needRemove = context === item.context;\n\n\t        if (needRemove) {\n\t            self._forgetContext(item.context);\n\t        }\n\n\t        return needRemove;\n\t    };\n\t};\n\n\t/**\n\t * Get matcher for unbind specific hander, context pair events\n\t * @param {function} handler - handler function\n\t * @param {object} context - context\n\t * @returns {function} handler, context matcher\n\t * @private\n\t */\n\tCustomEvents.prototype._matchHandlerAndContext = function(handler, context) {\n\t    var self = this;\n\n\t    return function(item) {\n\t        var matchHandler = (handler === item.handler);\n\t        var matchContext = (context === item.context);\n\t        var needRemove = (matchHandler && matchContext);\n\n\t        if (needRemove) {\n\t            self._forgetContext(item.context);\n\t        }\n\n\t        return needRemove;\n\t    };\n\t};\n\n\t/**\n\t * Unbind event by event name\n\t * @param {string} eventName - custom event name to unbind\n\t * @param {function} [handler] - handler function\n\t * @private\n\t */\n\tCustomEvents.prototype._offByEventName = function(eventName, handler) {\n\t    var self = this;\n\t    var forEach = collection.forEachArray;\n\t    var andByHandler = type.isFunction(handler);\n\t    var matchHandler = self._matchHandler(handler);\n\n\t    eventName = eventName.split(R_EVENTNAME_SPLIT);\n\n\t    forEach(eventName, function(name) {\n\t        var handlerItems = self._safeEvent(name);\n\n\t        if (andByHandler) {\n\t            self._spliceMatches(handlerItems, matchHandler);\n\t        } else {\n\t            forEach(handlerItems, function(item) {\n\t                self._forgetContext(item.context);\n\t            });\n\n\t            self.events[name] = [];\n\t        }\n\t    });\n\t};\n\n\t/**\n\t * Unbind event by handler function\n\t * @param {function} handler - handler function\n\t * @private\n\t */\n\tCustomEvents.prototype._offByHandler = function(handler) {\n\t    var self = this;\n\t    var matchHandler = this._matchHandler(handler);\n\n\t    collection.forEach(this._safeEvent(), function(handlerItems) {\n\t        self._spliceMatches(handlerItems, matchHandler);\n\t    });\n\t};\n\n\t/**\n\t * Unbind event by object(name: handler pair object or context object)\n\t * @param {object} obj - context or {name: handler} pair object\n\t * @param {function} handler - handler function\n\t * @private\n\t */\n\tCustomEvents.prototype._offByObject = function(obj, handler) {\n\t    var self = this;\n\t    var matchFunc;\n\n\t    if (this._indexOfContext(obj) < 0) {\n\t        collection.forEach(obj, function(func, name) {\n\t            self.off(name, func);\n\t        });\n\t    } else if (type.isString(handler)) {\n\t        matchFunc = this._matchContext(obj);\n\n\t        self._spliceMatches(this._safeEvent(handler), matchFunc);\n\t    } else if (type.isFunction(handler)) {\n\t        matchFunc = this._matchHandlerAndContext(handler, obj);\n\n\t        collection.forEach(this._safeEvent(), function(handlerItems) {\n\t            self._spliceMatches(handlerItems, matchFunc);\n\t        });\n\t    } else {\n\t        matchFunc = this._matchContext(obj);\n\n\t        collection.forEach(this._safeEvent(), function(handlerItems) {\n\t            self._spliceMatches(handlerItems, matchFunc);\n\t        });\n\t    }\n\t};\n\n\t/**\n\t * Unbind custom events\n\t * @param {(string|object|function)} eventName - event name or context or\n\t *  {name: handler} pair object or handler function\n\t * @param {(function)} handler - handler function\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var CustomEvents = require('tui-code-snippet').CustomEvents; // node, commonjs\n\t * var CustomEvents = tui.util.CustomEvents; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * // # 2.1 off by event name\n\t * CustomEvents.off('onload');\n\t *\n\t * // # 2.2 off by event name and handler\n\t * CustomEvents.off('play', handler);\n\t *\n\t * // # 2.3 off by handler\n\t * CustomEvents.off(handler);\n\t *\n\t * // # 2.4 off by context\n\t * CustomEvents.off(myObj);\n\t *\n\t * // # 2.5 off by context and handler\n\t * CustomEvents.off(myObj, handler);\n\t *\n\t * // # 2.6 off by context and event name\n\t * CustomEvents.off(myObj, 'onload');\n\t *\n\t * // # 2.7 off by an Object.<string, function> that is {eventName: handler}\n\t * CustomEvents.off({\n\t *   'play': handler,\n\t *   'pause': handler2\n\t * });\n\t *\n\t * // # 2.8 off the all events\n\t * CustomEvents.off();\n\t */\n\tCustomEvents.prototype.off = function(eventName, handler) {\n\t    if (type.isString(eventName)) {\n\t        // [syntax 1, 2]\n\t        this._offByEventName(eventName, handler);\n\t    } else if (!arguments.length) {\n\t        // [syntax 8]\n\t        this.events = {};\n\t        this.contexts = [];\n\t    } else if (type.isFunction(eventName)) {\n\t        // [syntax 3]\n\t        this._offByHandler(eventName);\n\t    } else if (type.isObject(eventName)) {\n\t        // [syntax 4, 5, 6]\n\t        this._offByObject(eventName, handler);\n\t    }\n\t};\n\n\t/**\n\t * Fire custom event\n\t * @param {string} eventName - name of custom event\n\t */\n\tCustomEvents.prototype.fire = function(eventName) {  // eslint-disable-line\n\t    this.invoke.apply(this, arguments);\n\t};\n\n\t/**\n\t * Fire a event and returns the result of operation 'boolean AND' with all\n\t *  listener's results.\n\t *\n\t * So, It is different from {@link CustomEvents#fire}.\n\t *\n\t * In service code, use this as a before event in component level usually\n\t *  for notifying that the event is cancelable.\n\t * @param {string} eventName - Custom event name\n\t * @param {...*} data - Data for event\n\t * @returns {boolean} The result of operation 'boolean AND'\n\t * @example\n\t * var map = new Map();\n\t * map.on({\n\t *     'beforeZoom': function() {\n\t *         // It should cancel the 'zoom' event by some conditions.\n\t *         if (that.disabled && this.getState()) {\n\t *             return false;\n\t *         }\n\t *         return true;\n\t *     }\n\t * });\n\t *\n\t * if (this.invoke('beforeZoom')) {    // check the result of 'beforeZoom'\n\t *     // if true,\n\t *     // doSomething\n\t * }\n\t */\n\tCustomEvents.prototype.invoke = function(eventName) {\n\t    var events, args, index, item;\n\n\t    if (!this.hasListener(eventName)) {\n\t        return true;\n\t    }\n\n\t    events = this._safeEvent(eventName);\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    index = 0;\n\n\t    while (events[index]) {\n\t        item = events[index];\n\n\t        if (item.handler.apply(item.context, args) === false) {\n\t            return false;\n\t        }\n\n\t        index += 1;\n\t    }\n\n\t    return true;\n\t};\n\n\t/**\n\t * Return whether at least one of the handlers is registered in the given\n\t *  event name.\n\t * @param {string} eventName - Custom event name\n\t * @returns {boolean} Is there at least one handler in event name?\n\t */\n\tCustomEvents.prototype.hasListener = function(eventName) {\n\t    return this.getListenerLength(eventName) > 0;\n\t};\n\n\t/**\n\t * Return a count of events registered.\n\t * @param {string} eventName - Custom event name\n\t * @returns {number} number of event\n\t */\n\tCustomEvents.prototype.getListenerLength = function(eventName) {\n\t    var events = this._safeEvent(eventName);\n\n\t    return events.length;\n\t};\n\n\tmodule.exports = CustomEvents;\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __nested_webpack_require_90552__) {\n\n\t/**\n\t * @fileoverview This module provides a Enum Constructor.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t * @example\n\t * // node, commonjs\n\t * var Enum = require('tui-code-snippet').Enum;\n\t * @example\n\t * // distribution file, script\n\t * <script src='path-to/tui-code-snippt.js'><\/script>\n\t * <script>\n\t * var Enum = tui.util.Enum;\n\t * <script>\n\t */\n\n\t'use strict';\n\n\tvar collection = __nested_webpack_require_90552__(4);\n\tvar type = __nested_webpack_require_90552__(2);\n\n\t/**\n\t * Check whether the defineProperty() method is supported.\n\t * @type {boolean}\n\t * @ignore\n\t */\n\tvar isSupportDefinedProperty = (function() {\n\t    try {\n\t        Object.defineProperty({}, 'x', {});\n\n\t        return true;\n\t    } catch (e) {\n\t        return false;\n\t    }\n\t})();\n\n\t/**\n\t * A unique value of a constant.\n\t * @type {number}\n\t * @ignore\n\t */\n\tvar enumValue = 0;\n\n\t/**\n\t * Make a constant-list that has unique values.<br>\n\t * In modern browsers (except IE8 and lower),<br>\n\t *  a value defined once can not be changed.\n\t *\n\t * @param {...string|string[]} itemList Constant-list (An array of string is available)\n\t * @class\n\t * @memberof tui.util\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var Enum = require('tui-code-snippet').Enum; // node, commonjs\n\t * var Enum = tui.util.Enum; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var MYENUM = new Enum('TYPE1', 'TYPE2');\n\t * var MYENUM2 = new Enum(['TYPE1', 'TYPE2']);\n\t *\n\t * //usage\n\t * if (value === MYENUM.TYPE1) {\n\t *      ....\n\t * }\n\t *\n\t * //add (If a duplicate name is inputted, will be disregarded.)\n\t * MYENUM.set('TYPE3', 'TYPE4');\n\t *\n\t * //get name of a constant by a value\n\t * MYENUM.getName(MYENUM.TYPE1); // 'TYPE1'\n\t *\n\t * // In modern browsers (except IE8 and lower), a value can not be changed in constants.\n\t * var originalValue = MYENUM.TYPE1;\n\t * MYENUM.TYPE1 = 1234; // maybe TypeError\n\t * MYENUM.TYPE1 === originalValue; // true\n\t **/\n\tfunction Enum(itemList) {\n\t    if (itemList) {\n\t        this.set.apply(this, arguments);\n\t    }\n\t}\n\n\t/**\n\t * Define a constants-list\n\t * @param {...string|string[]} itemList Constant-list (An array of string is available)\n\t */\n\tEnum.prototype.set = function(itemList) {\n\t    var self = this;\n\n\t    if (!type.isArray(itemList)) {\n\t        itemList = collection.toArray(arguments);\n\t    }\n\n\t    collection.forEach(itemList, function itemListIteratee(item) {\n\t        self._addItem(item);\n\t    });\n\t};\n\n\t/**\n\t * Return a key of the constant.\n\t * @param {number} value A value of the constant.\n\t * @returns {string|undefined} Key of the constant.\n\t */\n\tEnum.prototype.getName = function(value) {\n\t    var self = this;\n\t    var foundedKey;\n\n\t    collection.forEach(this, function(itemValue, key) { // eslint-disable-line consistent-return\n\t        if (self._isEnumItem(key) && value === itemValue) {\n\t            foundedKey = key;\n\n\t            return false;\n\t        }\n\t    });\n\n\t    return foundedKey;\n\t};\n\n\t/**\n\t * Create a constant.\n\t * @private\n\t * @param {string} name Constant name. (It will be a key of a constant)\n\t */\n\tEnum.prototype._addItem = function(name) {\n\t    var value;\n\n\t    if (!this.hasOwnProperty(name)) {\n\t        value = this._makeEnumValue();\n\n\t        if (isSupportDefinedProperty) {\n\t            Object.defineProperty(this, name, {\n\t                enumerable: true,\n\t                configurable: false,\n\t                writable: false,\n\t                value: value\n\t            });\n\t        } else {\n\t            this[name] = value;\n\t        }\n\t    }\n\t};\n\n\t/**\n\t * Return a unique value for assigning to a constant.\n\t * @private\n\t * @returns {number} A unique value\n\t */\n\tEnum.prototype._makeEnumValue = function() {\n\t    var value;\n\n\t    value = enumValue;\n\t    enumValue += 1;\n\n\t    return value;\n\t};\n\n\t/**\n\t * Return whether a constant from the given key is in instance or not.\n\t * @param {string} key - A constant key\n\t * @returns {boolean} Result\n\t * @private\n\t */\n\tEnum.prototype._isEnumItem = function(key) {\n\t    return type.isNumber(this[key]);\n\t};\n\n\tmodule.exports = Enum;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __nested_webpack_require_94658__) {\n\n\t/**\n\t * @fileoverview\n\t *  Implements the ExMap (Extended Map) object.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar collection = __nested_webpack_require_94658__(4);\n\tvar Map = __nested_webpack_require_94658__(19);\n\n\t// Caching tui.util for performance enhancing\n\tvar mapAPIsForRead = ['get', 'has', 'forEach', 'keys', 'values', 'entries'];\n\tvar mapAPIsForDelete = ['delete', 'clear'];\n\n\t/**\n\t * The ExMap object is Extended Version of the tui.util.Map object.<br>\n\t * and added some useful feature to make it easy to manage the Map object.\n\t * @constructor\n\t * @param {Array} initData - Array of key-value pairs (2-element Arrays).\n\t *      Each key-value pair will be added to the new Map\n\t * @memberof tui.util\n\t * @example\n\t * // node, commonjs\n\t * var ExMap = require('tui-code-snippet').ExMap;\n\t * @example\n\t * // distribution file, script\n\t * <script src='path-to/tui-code-snippt.js'><\/script>\n\t * <script>\n\t * var ExMap = tui.util.ExMap;\n\t * <script>\n\t */\n\tfunction ExMap(initData) {\n\t    this._map = new Map(initData);\n\t    this.size = this._map.size;\n\t}\n\n\tcollection.forEachArray(mapAPIsForRead, function(name) {\n\t    ExMap.prototype[name] = function() {\n\t        return this._map[name].apply(this._map, arguments);\n\t    };\n\t});\n\n\tcollection.forEachArray(mapAPIsForDelete, function(name) {\n\t    ExMap.prototype[name] = function() {\n\t        var result = this._map[name].apply(this._map, arguments);\n\t        this.size = this._map.size;\n\n\t        return result;\n\t    };\n\t});\n\n\tExMap.prototype.set = function() {\n\t    this._map.set.apply(this._map, arguments);\n\t    this.size = this._map.size;\n\n\t    return this;\n\t};\n\n\t/**\n\t * Sets all of the key-value pairs in the specified object to the Map object.\n\t * @param  {Object} object - Plain object that has a key-value pair\n\t */\n\tExMap.prototype.setObject = function(object) {\n\t    collection.forEachOwnProperties(object, function(value, key) {\n\t        this.set(key, value);\n\t    }, this);\n\t};\n\n\t/**\n\t * Removes the elements associated with keys in the specified array.\n\t * @param  {Array} keys - Array that contains keys of the element to remove\n\t */\n\tExMap.prototype.deleteByKeys = function(keys) {\n\t    collection.forEachArray(keys, function(key) {\n\t        this['delete'](key);\n\t    }, this);\n\t};\n\n\t/**\n\t * Sets all of the key-value pairs in the specified Map object to this Map object.\n\t * @param  {Map} map - Map object to be merged into this Map object\n\t */\n\tExMap.prototype.merge = function(map) {\n\t    map.forEach(function(value, key) {\n\t        this.set(key, value);\n\t    }, this);\n\t};\n\n\t/**\n\t * Looks through each key-value pair in the map and returns the new ExMap object of\n\t * all key-value pairs that pass a truth test implemented by the provided function.\n\t * @param  {function} predicate - Function to test each key-value pair of the Map object.<br>\n\t *      Invoked with arguments (value, key). Return true to keep the element, false otherwise.\n\t * @returns {ExMap} A new ExMap object\n\t */\n\tExMap.prototype.filter = function(predicate) {\n\t    var filtered = new ExMap();\n\n\t    this.forEach(function(value, key) {\n\t        if (predicate(value, key)) {\n\t            filtered.set(key, value);\n\t        }\n\t    });\n\n\t    return filtered;\n\t};\n\n\tmodule.exports = ExMap;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __nested_webpack_require_98002__) {\n\n\t\n\t/**\n\t * @fileoverview\n\t *  Implements the Map object.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar collection = __nested_webpack_require_98002__(4);\n\tvar type = __nested_webpack_require_98002__(2);\n\tvar array = __nested_webpack_require_98002__(3);\n\tvar browser = __nested_webpack_require_98002__(10);\n\tvar func = __nested_webpack_require_98002__(5);\n\n\t/**\n\t * Using undefined for a key can be ambiguous if there's deleted item in the array,<br>\n\t * which is also undefined when accessed by index.<br>\n\t * So use this unique object as an undefined key to distinguish it from deleted keys.\n\t * @private\n\t * @constant\n\t */\n\tvar _KEY_FOR_UNDEFINED = {};\n\n\t/**\n\t * For using NaN as a key, use this unique object as a NaN key.<br>\n\t * This makes it easier and faster to compare an object with each keys in the array<br>\n\t * through no exceptional comapring for NaN.\n\t * @private\n\t * @constant\n\t */\n\tvar _KEY_FOR_NAN = {};\n\n\t/**\n\t * Constructor of MapIterator<br>\n\t * Creates iterator object with new keyword.\n\t * @constructor\n\t * @param  {Array} keys - The array of keys in the map\n\t * @param  {function} valueGetter - Function that returns certain value,\n\t *      taking key and keyIndex as arguments.\n\t * @ignore\n\t */\n\tfunction MapIterator(keys, valueGetter) {\n\t    this._keys = keys;\n\t    this._valueGetter = valueGetter;\n\t    this._length = this._keys.length;\n\t    this._index = -1;\n\t    this._done = false;\n\t}\n\n\t/**\n\t * Implementation of Iterator protocol.\n\t * @returns {{done: boolean, value: *}} Object that contains done(boolean) and value.\n\t */\n\tMapIterator.prototype.next = function() {\n\t    var data = {};\n\t    do {\n\t        this._index += 1;\n\t    } while (type.isUndefined(this._keys[this._index]) && this._index < this._length);\n\n\t    if (this._index >= this._length) {\n\t        data.done = true;\n\t    } else {\n\t        data.done = false;\n\t        data.value = this._valueGetter(this._keys[this._index], this._index);\n\t    }\n\n\t    return data;\n\t};\n\n\t/**\n\t * The Map object implements the ES6 Map specification as closely as possible.<br>\n\t * For using objects and primitive values as keys, this object uses array internally.<br>\n\t * So if the key is not a string, get(), set(), has(), delete() will operates in O(n),<br>\n\t * and it can cause performance issues with a large dataset.\n\t *\n\t * Features listed below are not supported. (can't be implented without native support)\n\t * - Map object is iterable<br>\n\t * - Iterable object can be used as an argument of constructor\n\t *\n\t * If the browser supports full implementation of ES6 Map specification, native Map obejct\n\t * will be used internally.\n\t * @class\n\t * @param  {Array} initData - Array of key-value pairs (2-element Arrays).\n\t *      Each key-value pair will be added to the new Map\n\t * @memberof tui.util\n\t * @example\n\t * // node, commonjs\n\t * var Map = require('tui-code-snippet').Map;\n\t * @example\n\t * // distribution file, script\n\t * <script src='path-to/tui-code-snippt.js'><\/script>\n\t * <script>\n\t * var Map = tui.util.Map;\n\t * <script>\n\t */\n\tfunction Map(initData) {\n\t    this._valuesForString = {};\n\t    this._valuesForIndex = {};\n\t    this._keys = [];\n\n\t    if (initData) {\n\t        this._setInitData(initData);\n\t    }\n\n\t    this.size = 0;\n\t}\n\n\t/* eslint-disable no-extend-native */\n\t/**\n\t * Add all elements in the initData to the Map object.\n\t * @private\n\t * @param  {Array} initData - Array of key-value pairs to add to the Map object\n\t */\n\tMap.prototype._setInitData = function(initData) {\n\t    if (!type.isArray(initData)) {\n\t        throw new Error('Only Array is supported.');\n\t    }\n\t    collection.forEachArray(initData, function(pair) {\n\t        this.set(pair[0], pair[1]);\n\t    }, this);\n\t};\n\n\t/**\n\t * Returns true if the specified value is NaN.<br>\n\t * For unsing NaN as a key, use this method to test equality of NaN<br>\n\t * because === operator doesn't work for NaN.\n\t * @private\n\t * @param {*} value - Any object to be tested\n\t * @returns {boolean} True if value is NaN, false otherwise.\n\t */\n\tMap.prototype._isNaN = function(value) {\n\t    return typeof value === 'number' && value !== value; // eslint-disable-line no-self-compare\n\t};\n\n\t/**\n\t * Returns the index of the specified key.\n\t * @private\n\t * @param  {*} key - The key object to search for.\n\t * @returns {number} The index of the specified key\n\t */\n\tMap.prototype._getKeyIndex = function(key) {\n\t    var result = -1;\n\t    var value;\n\n\t    if (type.isString(key)) {\n\t        value = this._valuesForString[key];\n\t        if (value) {\n\t            result = value.keyIndex;\n\t        }\n\t    } else {\n\t        result = array.inArray(key, this._keys);\n\t    }\n\n\t    return result;\n\t};\n\n\t/**\n\t * Returns the original key of the specified key.\n\t * @private\n\t * @param  {*} key - key\n\t * @returns {*} Original key\n\t */\n\tMap.prototype._getOriginKey = function(key) {\n\t    var originKey = key;\n\t    if (key === _KEY_FOR_UNDEFINED) {\n\t        originKey = undefined; // eslint-disable-line no-undefined\n\t    } else if (key === _KEY_FOR_NAN) {\n\t        originKey = NaN;\n\t    }\n\n\t    return originKey;\n\t};\n\n\t/**\n\t * Returns the unique key of the specified key.\n\t * @private\n\t * @param  {*} key - key\n\t * @returns {*} Unique key\n\t */\n\tMap.prototype._getUniqueKey = function(key) {\n\t    var uniqueKey = key;\n\t    if (type.isUndefined(key)) {\n\t        uniqueKey = _KEY_FOR_UNDEFINED;\n\t    } else if (this._isNaN(key)) {\n\t        uniqueKey = _KEY_FOR_NAN;\n\t    }\n\n\t    return uniqueKey;\n\t};\n\n\t/**\n\t * Returns the value object of the specified key.\n\t * @private\n\t * @param  {*} key - The key of the value object to be returned\n\t * @param  {number} keyIndex - The index of the key\n\t * @returns {{keyIndex: number, origin: *}} Value object\n\t */\n\tMap.prototype._getValueObject = function(key, keyIndex) { // eslint-disable-line consistent-return\n\t    if (type.isString(key)) {\n\t        return this._valuesForString[key];\n\t    }\n\n\t    if (type.isUndefined(keyIndex)) {\n\t        keyIndex = this._getKeyIndex(key);\n\t    }\n\t    if (keyIndex >= 0) {\n\t        return this._valuesForIndex[keyIndex];\n\t    }\n\t};\n\n\t/**\n\t * Returns the original value of the specified key.\n\t * @private\n\t * @param  {*} key - The key of the value object to be returned\n\t * @param  {number} keyIndex - The index of the key\n\t * @returns {*} Original value\n\t */\n\tMap.prototype._getOriginValue = function(key, keyIndex) {\n\t    return this._getValueObject(key, keyIndex).origin;\n\t};\n\n\t/**\n\t * Returns key-value pair of the specified key.\n\t * @private\n\t * @param  {*} key - The key of the value object to be returned\n\t * @param  {number} keyIndex - The index of the key\n\t * @returns {Array} Key-value Pair\n\t */\n\tMap.prototype._getKeyValuePair = function(key, keyIndex) {\n\t    return [this._getOriginKey(key), this._getOriginValue(key, keyIndex)];\n\t};\n\n\t/**\n\t * Creates the wrapper object of original value that contains a key index\n\t * and returns it.\n\t * @private\n\t * @param  {type} origin - Original value\n\t * @param  {type} keyIndex - Index of the key\n\t * @returns {{keyIndex: number, origin: *}} Value object\n\t */\n\tMap.prototype._createValueObject = function(origin, keyIndex) {\n\t    return {\n\t        keyIndex: keyIndex,\n\t        origin: origin\n\t    };\n\t};\n\n\t/**\n\t * Sets the value for the key in the Map object.\n\t * @param  {*} key - The key of the element to add to the Map object\n\t * @param  {*} value - The value of the element to add to the Map object\n\t * @returns {Map} The Map object\n\t */\n\tMap.prototype.set = function(key, value) {\n\t    var uniqueKey = this._getUniqueKey(key);\n\t    var keyIndex = this._getKeyIndex(uniqueKey);\n\t    var valueObject;\n\n\t    if (keyIndex < 0) {\n\t        keyIndex = this._keys.push(uniqueKey) - 1;\n\t        this.size += 1;\n\t    }\n\t    valueObject = this._createValueObject(value, keyIndex);\n\n\t    if (type.isString(key)) {\n\t        this._valuesForString[key] = valueObject;\n\t    } else {\n\t        this._valuesForIndex[keyIndex] = valueObject;\n\t    }\n\n\t    return this;\n\t};\n\n\t/**\n\t * Returns the value associated to the key, or undefined if there is none.\n\t * @param  {*} key - The key of the element to return\n\t * @returns {*} Element associated with the specified key\n\t */\n\tMap.prototype.get = function(key) {\n\t    var uniqueKey = this._getUniqueKey(key);\n\t    var value = this._getValueObject(uniqueKey);\n\n\t    return value && value.origin;\n\t};\n\n\t/**\n\t * Returns a new Iterator object that contains the keys for each element\n\t * in the Map object in insertion order.\n\t * @returns {Iterator} A new Iterator object\n\t */\n\tMap.prototype.keys = function() {\n\t    return new MapIterator(this._keys, func.bind(this._getOriginKey, this));\n\t};\n\n\t/**\n\t * Returns a new Iterator object that contains the values for each element\n\t * in the Map object in insertion order.\n\t * @returns {Iterator} A new Iterator object\n\t */\n\tMap.prototype.values = function() {\n\t    return new MapIterator(this._keys, func.bind(this._getOriginValue, this));\n\t};\n\n\t/**\n\t * Returns a new Iterator object that contains the [key, value] pairs\n\t * for each element in the Map object in insertion order.\n\t * @returns {Iterator} A new Iterator object\n\t */\n\tMap.prototype.entries = function() {\n\t    return new MapIterator(this._keys, func.bind(this._getKeyValuePair, this));\n\t};\n\n\t/**\n\t * Returns a boolean asserting whether a value has been associated to the key\n\t * in the Map object or not.\n\t * @param  {*} key - The key of the element to test for presence\n\t * @returns {boolean} True if an element with the specified key exists;\n\t *          Otherwise false\n\t */\n\tMap.prototype.has = function(key) {\n\t    return !!this._getValueObject(key);\n\t};\n\n\t/**\n\t * Removes the specified element from a Map object.\n\t * @param {*} key - The key of the element to remove\n\t * @function delete\n\t * @memberof tui.util.Map.prototype\n\t */\n\t// cannot use reserved keyword as a property name in IE8 and under.\n\tMap.prototype['delete'] = function(key) {\n\t    var keyIndex;\n\n\t    if (type.isString(key)) {\n\t        if (this._valuesForString[key]) {\n\t            keyIndex = this._valuesForString[key].keyIndex;\n\t            delete this._valuesForString[key];\n\t        }\n\t    } else {\n\t        keyIndex = this._getKeyIndex(key);\n\t        if (keyIndex >= 0) {\n\t            delete this._valuesForIndex[keyIndex];\n\t        }\n\t    }\n\n\t    if (keyIndex >= 0) {\n\t        delete this._keys[keyIndex];\n\t        this.size -= 1;\n\t    }\n\t};\n\n\t/**\n\t * Executes a provided function once per each key/value pair in the Map object,\n\t * in insertion order.\n\t * @param  {function} callback - Function to execute for each element\n\t * @param  {thisArg} thisArg - Value to use as this when executing callback\n\t */\n\tMap.prototype.forEach = function(callback, thisArg) {\n\t    thisArg = thisArg || this;\n\t    collection.forEachArray(this._keys, function(key) {\n\t        if (!type.isUndefined(key)) {\n\t            callback.call(thisArg, this._getValueObject(key).origin, key, this);\n\t        }\n\t    }, this);\n\t};\n\n\t/**\n\t * Removes all elements from a Map object.\n\t */\n\tMap.prototype.clear = function() {\n\t    Map.call(this);\n\t};\n\t/* eslint-enable no-extend-native */\n\n\t// Use native Map object if exists.\n\t// But only latest versions of Chrome and Firefox support full implementation.\n\t(function() {\n\t    if (window.Map && (\n\t        (browser.firefox && browser.version >= 37) ||\n\t            (browser.chrome && browser.version >= 42)\n\t    )\n\t    ) {\n\t        Map = window.Map; // eslint-disable-line no-func-assign\n\t    }\n\t})();\n\n\tmodule.exports = Map;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __nested_webpack_require_109481__) {\n\n\t/**\n\t * @fileoverview This module provides the HashMap constructor.\n\t * @author NHN.\n\t *         FE Development Lab <dl_javascript@nhn.com>\n\t */\n\n\t'use strict';\n\n\tvar collection = __nested_webpack_require_109481__(4);\n\tvar type = __nested_webpack_require_109481__(2);\n\t/**\n\t * All the data in hashMap begin with _MAPDATAPREFIX;\n\t * @type {string}\n\t * @private\n\t */\n\tvar _MAPDATAPREFIX = 'å';\n\n\t/**\n\t * HashMap can handle the key-value pairs.<br>\n\t * Caution:<br>\n\t *  HashMap instance has a length property but is not an instance of Array.\n\t * @param {Object} [obj] A initial data for creation.\n\t * @constructor\n\t * @memberof tui.util\n\t * @deprecated since version 1.3.0\n\t * @example\n\t * // node, commonjs\n\t * var HashMap = require('tui-code-snippet').HashMap;\n\t * var hm = new tui.util.HashMap({\n\t  'mydata': {\n\t    'hello': 'imfine'\n\t  },\n\t  'what': 'time'\n\t});\n\t * @example\n\t * // distribution file, script\n\t * <script src='path-to/tui-code-snippt.js'><\/script>\n\t * <script>\n\t * var HashMap = tui.util.HashMap;\n\t * <script>\n\t * var hm = new tui.util.HashMap({\n\t  'mydata': {\n\t    'hello': 'imfine'\n\t  },\n\t  'what': 'time'\n\t});\n\t */\n\tfunction HashMap(obj) {\n\t    /**\n\t     * size\n\t     * @type {number}\n\t     */\n\t    this.length = 0;\n\n\t    if (obj) {\n\t        this.setObject(obj);\n\t    }\n\t}\n\n\t/**\n\t * Set a data from the given key with value or the given object.\n\t * @param {string|Object} key A string or object for key\n\t * @param {*} [value] A data\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var hm = new HashMap();\n\t * hm.set('key', 'value');\n\t * hm.set({\n\t *     'key1': 'data1',\n\t *     'key2': 'data2'\n\t * });\n\t */\n\tHashMap.prototype.set = function(key, value) {\n\t    if (arguments.length === 2) {\n\t        this.setKeyValue(key, value);\n\t    } else {\n\t        this.setObject(key);\n\t    }\n\t};\n\n\t/**\n\t * Set a data from the given key with value.\n\t * @param {string} key A string for key\n\t * @param {*} value A data\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var hm = new HashMap();\n\t * hm.setKeyValue('key', 'value');\n\t */\n\tHashMap.prototype.setKeyValue = function(key, value) {\n\t    if (!this.has(key)) {\n\t        this.length += 1;\n\t    }\n\t    this[this.encodeKey(key)] = value;\n\t};\n\n\t/**\n\t * Set a data from the given object.\n\t * @param {Object} obj A object for data\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var hm = new HashMap();\n\t * hm.setObject({\n\t *     'key1': 'data1',\n\t *     'key2': 'data2'\n\t * });\n\t */\n\tHashMap.prototype.setObject = function(obj) {\n\t    var self = this;\n\n\t    collection.forEachOwnProperties(obj, function(value, key) {\n\t        self.setKeyValue(key, value);\n\t    });\n\t};\n\n\t/**\n\t * Merge with the given another hashMap.\n\t * @param {HashMap} hashMap Another hashMap instance\n\t */\n\tHashMap.prototype.merge = function(hashMap) {\n\t    var self = this;\n\n\t    hashMap.each(function(value, key) {\n\t        self.setKeyValue(key, value);\n\t    });\n\t};\n\n\t/**\n\t * Encode the given key for hashMap.\n\t * @param {string} key A string for key\n\t * @returns {string} A encoded key\n\t * @private\n\t */\n\tHashMap.prototype.encodeKey = function(key) {\n\t    return _MAPDATAPREFIX + key;\n\t};\n\n\t/**\n\t * Decode the given key in hashMap.\n\t * @param {string} key A string for key\n\t * @returns {string} A decoded key\n\t * @private\n\t */\n\tHashMap.prototype.decodeKey = function(key) {\n\t    var decodedKey = key.split(_MAPDATAPREFIX);\n\n\t    return decodedKey[decodedKey.length - 1];\n\t};\n\n\t/**\n\t * Return the value from the given key.\n\t * @param {string} key A string for key\n\t * @returns {*} The value from a key\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var hm = new HashMap();\n\t * hm.set('key', 'value');\n\t * hm.get('key') // value\n\t */\n\tHashMap.prototype.get = function(key) {\n\t    return this[this.encodeKey(key)];\n\t};\n\n\t/**\n\t * Check the existence of a value from the key.\n\t * @param {string} key A string for key\n\t * @returns {boolean} Indicating whether a value exists or not.\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var hm = new HashMap();\n\t * hm.set('key', 'value');\n\t * hm.has('key') // true\n\t */\n\tHashMap.prototype.has = function(key) {\n\t    return this.hasOwnProperty(this.encodeKey(key));\n\t};\n\n\t/**\n\t * Remove a data(key-value pairs) from the given key or the given key-list.\n\t * @param {...string|string[]} key A string for key\n\t * @returns {string|string[]} A removed data\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var hm = new HashMap();\n\t * hm.set('key', 'value');\n\t * hm.set('key2', 'value');\n\t *\n\t * hm.remove('key');\n\t * hm.remove('key', 'key2');\n\t * hm.remove(['key', 'key2']);\n\t */\n\tHashMap.prototype.remove = function(key) {\n\t    if (arguments.length > 1) {\n\t        key = collection.toArray(arguments);\n\t    }\n\n\t    return type.isArray(key) ? this.removeByKeyArray(key) : this.removeByKey(key);\n\t};\n\n\t/**\n\t * Remove data(key-value pair) from the given key.\n\t * @param {string} key A string for key\n\t * @returns {*|null} A removed data\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var hm = new HashMap();\n\t * hm.set('key', 'value');\n\t * hm.removeByKey('key')\n\t */\n\tHashMap.prototype.removeByKey = function(key) {\n\t    var data = this.has(key) ? this.get(key) : null;\n\n\t    if (data !== null) {\n\t        delete this[this.encodeKey(key)];\n\t        this.length -= 1;\n\t    }\n\n\t    return data;\n\t};\n\n\t/**\n\t * Remove a data(key-value pairs) from the given key-list.\n\t * @param {string[]} keyArray An array of keys\n\t * @returns {string[]} A removed data\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var hm = new HashMap();\n\t * hm.set('key', 'value');\n\t * hm.set('key2', 'value');\n\t * hm.removeByKeyArray(['key', 'key2']);\n\t */\n\tHashMap.prototype.removeByKeyArray = function(keyArray) {\n\t    var data = [];\n\t    var self = this;\n\n\t    collection.forEach(keyArray, function(key) {\n\t        data.push(self.removeByKey(key));\n\t    });\n\n\t    return data;\n\t};\n\n\t/**\n\t * Remove all the data\n\t */\n\tHashMap.prototype.removeAll = function() {\n\t    var self = this;\n\n\t    this.each(function(value, key) {\n\t        self.remove(key);\n\t    });\n\t};\n\n\t/**\n\t * Execute the provided callback once for each all the data.\n\t * @param {Function} iteratee Callback function\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var hm = new HashMap();\n\t * hm.set('key', 'value');\n\t * hm.set('key2', 'value');\n\t *\n\t * hm.each(function(value, key) {\n\t *     //do something...\n\t * });\n\t */\n\tHashMap.prototype.each = function(iteratee) {\n\t    var self = this;\n\t    var flag;\n\n\t    collection.forEachOwnProperties(this, function(value, key) { // eslint-disable-line consistent-return\n\t        if (key.charAt(0) === _MAPDATAPREFIX) {\n\t            flag = iteratee(value, self.decodeKey(key));\n\t        }\n\n\t        if (flag === false) {\n\t            return flag;\n\t        }\n\t    });\n\t};\n\n\t/**\n\t * Return the key-list stored.\n\t * @returns {Array} A key-list\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t *  var hm = new HashMap();\n\t *  hm.set('key', 'value');\n\t *  hm.set('key2', 'value');\n\t *  hm.keys();  //['key', 'key2');\n\t */\n\tHashMap.prototype.keys = function() {\n\t    var keys = [];\n\t    var self = this;\n\n\t    this.each(function(value, key) {\n\t        keys.push(self.decodeKey(key));\n\t    });\n\n\t    return keys;\n\t};\n\n\t/**\n\t * Work similarly to Array.prototype.map().<br>\n\t * It executes the provided callback that checks conditions once for each element of hashMap,<br>\n\t *  and returns a new array having elements satisfying the conditions\n\t * @param {Function} condition A function that checks conditions\n\t * @returns {Array} A new array having elements satisfying the conditions\n\t * @example\n\t * //-- #1. Get Module --//\n\t * var HashMap = require('tui-code-snippet').HashMap; // node, commonjs\n\t * var HashMap = tui.util.HashMap; // distribution file\n\t *\n\t * //-- #2. Use property --//\n\t * var hm1 = new HashMap();\n\t * hm1.set('key', 'value');\n\t * hm1.set('key2', 'value');\n\t *\n\t * hm1.find(function(value, key) {\n\t *     return key === 'key2';\n\t * }); // ['value']\n\t *\n\t * var hm2 = new HashMap({\n\t *     'myobj1': {\n\t *         visible: true\n\t *     },\n\t *     'mybobj2': {\n\t *         visible: false\n\t *     }\n\t * });\n\t *\n\t * hm2.find(function(obj, key) {\n\t *     return obj.visible === true;\n\t * }); // [{visible: true}];\n\t */\n\tHashMap.prototype.find = function(condition) {\n\t    var founds = [];\n\n\t    this.each(function(value, key) {\n\t        if (condition(value, key)) {\n\t            founds.push(value);\n\t        }\n\t    });\n\n\t    return founds;\n\t};\n\n\t/**\n\t * Return a new Array having all values.\n\t * @returns {Array} A new array having all values\n\t */\n\tHashMap.prototype.toArray = function() {\n\t    var result = [];\n\n\t    this.each(function(v) {\n\t        result.push(v);\n\t    });\n\n\t    return result;\n\t};\n\n\tmodule.exports = HashMap;\n\n\n/***/ })\n/******/ ])\n});\n;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzM4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTnBtSlMvLi9ub2RlX21vZHVsZXMvdHVpLWNvZGUtc25pcHBldC9kaXN0L3R1aS1jb2RlLXNuaXBwZXQuanM/NGFlMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIHR1aS1jb2RlLXNuaXBwZXQuanNcbiAqIEB2ZXJzaW9uIDEuNS4yXG4gKiBAYXV0aG9yIE5ITi4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1widXRpbFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ0dWlcIl0gPSByb290W1widHVpXCJdIHx8IHt9LCByb290W1widHVpXCJdW1widXRpbFwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG5cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG5cblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJkaXN0XCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHQvKipcblx0ICogQGZpbGVvdmVydmlld1xuXHQgKiBAYXV0aG9yIE5ITi5cblx0ICogICAgICAgICBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cblx0ICogQG5hbWVzcGFjZSB0dWkudXRpbFxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTtcblx0ICogQGV4YW1wbGVcblx0ICogLy8gZGlzdHJpYnV0aW9uIGZpbGUsIHNjcmlwdFxuXHQgKiA8c2NyaXB0IHNyYz0ncGF0aC10by90dWktY29kZS1zbmlwcHQuanMnPjwvc2NyaXB0PlxuXHQgKiA8c2NyaXB0PlxuXHQgKiB2YXIgdXRpbCA9IHR1aS51dGlsO1xuXHQgKiA8c2NyaXB0PlxuXHQgKi9cblx0dmFyIHV0aWwgPSB7fTtcblx0dmFyIG9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBleHRlbmQgPSBvYmplY3QuZXh0ZW5kO1xuXG5cdGV4dGVuZCh1dGlsLCBvYmplY3QpO1xuXHRleHRlbmQodXRpbCwgX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cdGV4dGVuZCh1dGlsLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKTtcblx0ZXh0ZW5kKHV0aWwsIF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXHRleHRlbmQodXRpbCwgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSk7XG5cdGV4dGVuZCh1dGlsLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKTtcblx0ZXh0ZW5kKHV0aWwsIF9fd2VicGFja19yZXF1aXJlX18oNykpO1xuXHRleHRlbmQodXRpbCwgX193ZWJwYWNrX3JlcXVpcmVfXyg4KSk7XG5cdGV4dGVuZCh1dGlsLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpKTtcblxuXHR1dGlsLmJyb3dzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0dXRpbC5wb3B1cCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR1dGlsLmZvcm1hdERhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0dXRpbC5kZWZpbmVDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHR1dGlsLmRlZmluZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHR1dGlsLmRlZmluZU5hbWVzcGFjZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHR1dGlsLkN1c3RvbUV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHR1dGlsLkVudW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0dXRpbC5FeE1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHR1dGlsLkhhc2hNYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0dXRpbC5NYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHV0aWw7XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIEBmaWxlb3ZlcnZpZXcgVGhpcyBtb2R1bGUgaGFzIHNvbWUgZnVuY3Rpb25zIGZvciBoYW5kbGluZyBhIHBsYWluIG9iamVjdCwganNvbi5cblx0ICogQGF1dGhvciBOSE4uXG5cdCAqICAgICAgICAgRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG5cdCAqL1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciBhcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0LyoqXG5cdCAqIFRoZSBsYXN0IGlkIG9mIHN0YW1wXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHR2YXIgbGFzdElkID0gMDtcblxuXHQvKipcblx0ICogRXh0ZW5kIHRoZSB0YXJnZXQgb2JqZWN0IGZyb20gb3RoZXIgb2JqZWN0cy5cblx0ICogQHBhcmFtIHtvYmplY3R9IHRhcmdldCAtIE9iamVjdCB0aGF0IHdpbGwgYmUgZXh0ZW5kZWRcblx0ICogQHBhcmFtIHsuLi5vYmplY3R9IG9iamVjdHMgLSBPYmplY3RzIGFzIHNvdXJjZXNcblx0ICogQHJldHVybnMge29iamVjdH0gRXh0ZW5kZWQgb2JqZWN0XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKi9cblx0ZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgb2JqZWN0cykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdCAgICB2YXIgaGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdCAgICB2YXIgc291cmNlLCBwcm9wLCBpLCBsZW47XG5cblx0ICAgIGZvciAoaSA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuXHQgICAgICAgIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICBmb3IgKHByb3AgaW4gc291cmNlKSB7XG5cdCAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wLmNhbGwoc291cmNlLCBwcm9wKSkge1xuXHQgICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gdGFyZ2V0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzc2lnbiBhIHVuaXF1ZSBpZCB0byBhbiBvYmplY3Rcblx0ICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIE9iamVjdCB0aGF0IHdpbGwgYmUgYXNzaWduZWQgaWQuXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IFN0YW1wZWQgaWRcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqL1xuXHRmdW5jdGlvbiBzdGFtcChvYmopIHtcblx0ICAgIGlmICghb2JqLl9fZmVfaWQpIHtcblx0ICAgICAgICBsYXN0SWQgKz0gMTtcblx0ICAgICAgICBvYmouX19mZV9pZCA9IGxhc3RJZDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2Vcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIG9iai5fX2ZlX2lkO1xuXHR9XG5cblx0LyoqXG5cdCAqIFZlcmlmeSB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBzdGFtcGVkIGlkIG9yIG5vdC5cblx0ICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIGFkanVzdGVkIG9iamVjdFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqL1xuXHRmdW5jdGlvbiBoYXNTdGFtcChvYmopIHtcblx0ICAgIHJldHVybiB0eXBlLmlzRXhpc3R5KHBpY2sob2JqLCAnX19mZV9pZCcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXNldCB0aGUgbGFzdCBpZCBvZiBzdGFtcFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gcmVzZXRMYXN0SWQoKSB7XG5cdCAgICBsYXN0SWQgPSAwO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybiBhIGtleS1saXN0KGFycmF5KSBvZiBhIGdpdmVuIG9iamVjdFxuXHQgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gT2JqZWN0IGZyb20gd2hpY2ggYSBrZXktbGlzdCB3aWxsIGJlIGV4dHJhY3RlZFxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEga2V5LWxpc3QoYXJyYXkpXG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKi9cblx0ZnVuY3Rpb24ga2V5cyhvYmopIHtcblx0ICAgIHZhciBrZXlBcnJheSA9IFtdO1xuXHQgICAgdmFyIGtleTtcblxuXHQgICAgZm9yIChrZXkgaW4gb2JqKSB7XG5cdCAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdCAgICAgICAgICAgIGtleUFycmF5LnB1c2goa2V5KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBrZXlBcnJheTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm4gdGhlIGVxdWFsaXR5IGZvciBtdWx0aXBsZSBvYmplY3RzKGpzb25PYmplY3RzKS48YnI+XG5cdCAqICBTZWUge0BsaW5rIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA2ODgzNC9vYmplY3QtY29tcGFyaXNvbi1pbi1qYXZhc2NyaXB0fVxuXHQgKiBAcGFyYW0gey4uLm9iamVjdH0gb2JqZWN0IC0gTXVsdGlwbGUgb2JqZWN0cyBmb3IgY29tcGFyaW5nLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gRXF1YWxpdHlcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdmFyIGpzb25PYmoxID0ge25hbWU6J21pbGsnLCBwcmljZTogMTAwMH07XG5cdCAqIHZhciBqc29uT2JqMiA9IHtuYW1lOidtaWxrJywgcHJpY2U6IDEwMDB9O1xuXHQgKiB2YXIganNvbk9iajMgPSB7bmFtZTonbWlsaycsIHByaWNlOiAxMDAwfTtcblx0ICogdXRpbC5jb21wYXJlSlNPTihqc29uT2JqMSwganNvbk9iajIsIGpzb25PYmozKTsgICAvLyB0cnVlXG5cdCAqXG5cdCAqIHZhciBqc29uT2JqNCA9IHtuYW1lOidtaWxrJywgcHJpY2U6IDEwMDB9O1xuXHQgKiB2YXIganNvbk9iajUgPSB7bmFtZTonYmVlcicsIHByaWNlOiAzMDAwfTtcblx0ICogdXRpbC5jb21wYXJlSlNPTihqc29uT2JqNCwganNvbk9iajUpOyAvLyBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcGFyZUpTT04ob2JqZWN0KSB7XG5cdCAgICB2YXIgYXJnc0xlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICB2YXIgaSA9IDE7XG5cblx0ICAgIGlmIChhcmdzTGVuIDwgMSkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXG5cdCAgICBmb3IgKDsgaSA8IGFyZ3NMZW47IGkgKz0gMSkge1xuXHQgICAgICAgIGlmICghaXNTYW1lT2JqZWN0KG9iamVjdCwgYXJndW1lbnRzW2ldKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0geyp9IHggLSBvYmplY3QgdG8gY29tcGFyZVxuXHQgKiBAcGFyYW0geyp9IHkgLSBvYmplY3QgdG8gY29tcGFyZVxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSB3aGV0aGVyIG9iamVjdCB4IGFuZCB5IGlzIHNhbWUgb3Igbm90XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc1NhbWVPYmplY3QoeCwgeSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbXBsZXhpdHlcblx0ICAgIHZhciBsZWZ0Q2hhaW4gPSBbXTtcblx0ICAgIHZhciByaWdodENoYWluID0gW107XG5cdCAgICB2YXIgcDtcblxuXHQgICAgLy8gcmVtZW1iZXIgdGhhdCBOYU4gPT09IE5hTiByZXR1cm5zIGZhbHNlXG5cdCAgICAvLyBhbmQgaXNOYU4odW5kZWZpbmVkKSByZXR1cm5zIHRydWVcblx0ICAgIGlmIChpc05hTih4KSAmJlxuXHQgICAgICAgIGlzTmFOKHkpICYmXG5cdCAgICAgICAgdHlwZS5pc051bWJlcih4KSAmJlxuXHQgICAgICAgIHR5cGUuaXNOdW1iZXIoeSkpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblxuXHQgICAgLy8gQ29tcGFyZSBwcmltaXRpdmVzIGFuZCBmdW5jdGlvbnMuXG5cdCAgICAvLyBDaGVjayBpZiBib3RoIGFyZ3VtZW50cyBsaW5rIHRvIHRoZSBzYW1lIG9iamVjdC5cblx0ICAgIC8vIEVzcGVjaWFsbHkgdXNlZnVsIG9uIHN0ZXAgd2hlbiBjb21wYXJpbmcgcHJvdG90eXBlc1xuXHQgICAgaWYgKHggPT09IHkpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblxuXHQgICAgLy8gV29ya3MgaW4gY2FzZSB3aGVuIGZ1bmN0aW9ucyBhcmUgY3JlYXRlZCBpbiBjb25zdHJ1Y3Rvci5cblx0ICAgIC8vIENvbXBhcmluZyBkYXRlcyBpcyBhIGNvbW1vbiBzY2VuYXJpby4gQW5vdGhlciBidWlsdC1pbnM/XG5cdCAgICAvLyBXZSBjYW4gZXZlbiBoYW5kbGUgZnVuY3Rpb25zIHBhc3NlZCBhY3Jvc3MgaWZyYW1lc1xuXHQgICAgaWYgKCh0eXBlLmlzRnVuY3Rpb24oeCkgJiYgdHlwZS5pc0Z1bmN0aW9uKHkpKSB8fFxuXHQgICAgICAgICh4IGluc3RhbmNlb2YgRGF0ZSAmJiB5IGluc3RhbmNlb2YgRGF0ZSkgfHxcblx0ICAgICAgICAoeCBpbnN0YW5jZW9mIFJlZ0V4cCAmJiB5IGluc3RhbmNlb2YgUmVnRXhwKSB8fFxuXHQgICAgICAgICh4IGluc3RhbmNlb2YgU3RyaW5nICYmIHkgaW5zdGFuY2VvZiBTdHJpbmcpIHx8XG5cdCAgICAgICAgKHggaW5zdGFuY2VvZiBOdW1iZXIgJiYgeSBpbnN0YW5jZW9mIE51bWJlcikpIHtcblx0ICAgICAgICByZXR1cm4geC50b1N0cmluZygpID09PSB5LnRvU3RyaW5nKCk7XG5cdCAgICB9XG5cblx0ICAgIC8vIEF0IGxhc3QgY2hlY2tpbmcgcHJvdG90eXBlcyBhcyBnb29kIGEgd2UgY2FuXG5cdCAgICBpZiAoISh4IGluc3RhbmNlb2YgT2JqZWN0ICYmIHkgaW5zdGFuY2VvZiBPYmplY3QpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoeC5pc1Byb3RvdHlwZU9mKHkpIHx8XG5cdCAgICAgICAgeS5pc1Byb3RvdHlwZU9mKHgpIHx8XG5cdCAgICAgICAgeC5jb25zdHJ1Y3RvciAhPT0geS5jb25zdHJ1Y3RvciB8fFxuXHQgICAgICAgIHgucHJvdG90eXBlICE9PSB5LnByb3RvdHlwZSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gY2hlY2sgZm9yIGluZmluaXRpdmUgbGlua2luZyBsb29wc1xuXHQgICAgaWYgKGFycmF5LmluQXJyYXkoeCwgbGVmdENoYWluKSA+IC0xIHx8XG5cdCAgICAgICAgYXJyYXkuaW5BcnJheSh5LCByaWdodENoYWluKSA+IC0xKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBRdWljayBjaGVja2luZyBvZiBvbmUgb2JqZWN0IGJlZWluZyBhIHN1YnNldCBvZiBhbm90aGVyLlxuXHQgICAgZm9yIChwIGluIHkpIHtcblx0ICAgICAgICBpZiAoeS5oYXNPd25Qcm9wZXJ0eShwKSAhPT0geC5oYXNPd25Qcm9wZXJ0eShwKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgeVtwXSAhPT0gdHlwZW9mIHhbcF0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgLy8gVGhpcyBmb3IgbG9vcCBleGVjdXRlcyBjb21wYXJpbmcgd2l0aCBoYXNPd25Qcm9wZXJ0eSgpIGFuZCB0eXBlb2YgZm9yIGVhY2ggcHJvcGVydHkgaW4gJ3gnIG9iamVjdCxcblx0ICAgIC8vIGFuZCB2ZXJpZnlpbmcgZXF1YWxpdHkgZm9yIHhbcHJvcGVydHldIGFuZCB5W3Byb3BlcnR5XS5cblx0ICAgIGZvciAocCBpbiB4KSB7XG5cdCAgICAgICAgaWYgKHkuaGFzT3duUHJvcGVydHkocCkgIT09IHguaGFzT3duUHJvcGVydHkocCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHlbcF0gIT09IHR5cGVvZiB4W3BdKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAodHlwZW9mICh4W3BdKSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mICh4W3BdKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBsZWZ0Q2hhaW4ucHVzaCh4KTtcblx0ICAgICAgICAgICAgcmlnaHRDaGFpbi5wdXNoKHkpO1xuXG5cdCAgICAgICAgICAgIGlmICghaXNTYW1lT2JqZWN0KHhbcF0sIHlbcF0pKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBsZWZ0Q2hhaW4ucG9wKCk7XG5cdCAgICAgICAgICAgIHJpZ2h0Q2hhaW4ucG9wKCk7XG5cdCAgICAgICAgfSBlbHNlIGlmICh4W3BdICE9PSB5W3BdKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9XG5cdC8qIGVzbGludC1lbmFibGUgY29tcGxleGl0eSAqL1xuXG5cdC8qKlxuXHQgKiBSZXRyaWV2ZSBhIG5lc3RlZCBpdGVtIGZyb20gdGhlIGdpdmVuIG9iamVjdC9hcnJheVxuXHQgKiBAcGFyYW0ge29iamVjdHxBcnJheX0gb2JqIC0gT2JqZWN0IGZvciByZXRyaWV2aW5nXG5cdCAqIEBwYXJhbSB7Li4uc3RyaW5nfG51bWJlcn0gcGF0aHMgLSBQYXRocyBvZiBwcm9wZXJ0eVxuXHQgKiBAcmV0dXJucyB7Kn0gVmFsdWVcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdmFyIG9iaiA9IHtcblx0ICogICAgICdrZXkxJzogMSxcblx0ICogICAgICduZXN0ZWQnIDoge1xuXHQgKiAgICAgICAgICdrZXkxJzogMTEsXG5cdCAqICAgICAgICAgJ25lc3RlZCc6IHtcblx0ICogICAgICAgICAgICAgJ2tleTEnOiAyMVxuXHQgKiAgICAgICAgIH1cblx0ICogICAgIH1cblx0ICogfTtcblx0ICogdXRpbC5waWNrKG9iaiwgJ25lc3RlZCcsICduZXN0ZWQnLCAna2V5MScpOyAvLyAyMVxuXHQgKiB1dGlsLnBpY2sob2JqLCAnbmVzdGVkJywgJ25lc3RlZCcsICdrZXkyJyk7IC8vIHVuZGVmaW5lZFxuXHQgKlxuXHQgKiB2YXIgYXJyID0gWydhJywgJ2InLCAnYyddO1xuXHQgKiB1dGlsLnBpY2soYXJyLCAxKTsgLy8gJ2InXG5cdCAqL1xuXHRmdW5jdGlvbiBwaWNrKG9iaiwgcGF0aHMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHQgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cdCAgICB2YXIgdGFyZ2V0ID0gYXJnc1swXTtcblx0ICAgIHZhciBpID0gMTtcblx0ICAgIHZhciBsZW5ndGggPSBhcmdzLmxlbmd0aDtcblxuXHQgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuXHQgICAgICAgIGlmICh0eXBlLmlzVW5kZWZpbmVkKHRhcmdldCkgfHxcblx0ICAgICAgICAgICAgdHlwZS5pc051bGwodGFyZ2V0KSkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W2FyZ3NbaV1dO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gdGFyZ2V0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICAgIGV4dGVuZDogZXh0ZW5kLFxuXHQgICAgc3RhbXA6IHN0YW1wLFxuXHQgICAgaGFzU3RhbXA6IGhhc1N0YW1wLFxuXHQgICAgcmVzZXRMYXN0SWQ6IHJlc2V0TGFzdElkLFxuXHQgICAga2V5czogT2JqZWN0LnByb3RvdHlwZS5rZXlzIHx8IGtleXMsXG5cdCAgICBjb21wYXJlSlNPTjogY29tcGFyZUpTT04sXG5cdCAgICBwaWNrOiBwaWNrXG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIEBmaWxlb3ZlcnZpZXcgVGhpcyBtb2R1bGUgcHJvdmlkZXMgc29tZSBmdW5jdGlvbnMgdG8gY2hlY2sgdGhlIHR5cGUgb2YgdmFyaWFibGVcblx0ICogQGF1dGhvciBOSE4uXG5cdCAqICAgICAgICAgRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG5cdCAqL1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBleGlzdGluZyBvciBub3QuPGJyPlxuXHQgKiAgSWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIG5vdCBudWxsIGFuZCBub3QgdW5kZWZpbmVkLCByZXR1cm5zIHRydWUuXG5cdCAqIEBwYXJhbSB7Kn0gcGFyYW0gLSBUYXJnZXQgZm9yIGNoZWNraW5nXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBJcyBleGlzdHk/XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIHV0aWwgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0Jyk7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciB1dGlsID0gdHVpLnV0aWw7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqIHV0aWwuaXNFeGlzdHkoJycpOyAvL3RydWVcblx0ICogdXRpbC5pc0V4aXN0eSgwKTsgLy90cnVlXG5cdCAqIHV0aWwuaXNFeGlzdHkoW10pOyAvL3RydWVcblx0ICogdXRpbC5pc0V4aXN0eSh7fSk7IC8vdHJ1ZVxuXHQgKiB1dGlsLmlzRXhpc3R5KG51bGwpOyAvL2ZhbHNlXG5cdCAqIHV0aWwuaXNFeGlzdHkodW5kZWZpbmVkKTsgLy9mYWxzZVxuXHQqL1xuXHRmdW5jdGlvbiBpc0V4aXN0eShwYXJhbSkge1xuXHQgICAgcmV0dXJuICFpc1VuZGVmaW5lZChwYXJhbSkgJiYgIWlzTnVsbChwYXJhbSk7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgdW5kZWZpbmVkIG9yIG5vdC48YnI+XG5cdCAqICBJZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgdW5kZWZpbmVkLCByZXR1cm5zIHRydWUuXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgdW5kZWZpbmVkP1xuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICovXG5cdGZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmaW5lZFxuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIG51bGwgb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZShhcmd1bWVudHNbMF0pIGlzIG51bGwsIHJldHVybnMgdHJ1ZS5cblx0ICogQHBhcmFtIHsqfSBvYmogLSBUYXJnZXQgZm9yIGNoZWNraW5nXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBJcyBudWxsP1xuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICovXG5cdGZ1bmN0aW9uIGlzTnVsbChvYmopIHtcblx0ICAgIHJldHVybiBvYmogPT09IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgdHJ1dGh5IG9yIG5vdC48YnI+XG5cdCAqICBJZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgbm90IG51bGwgb3Igbm90IHVuZGVmaW5lZCBvciBub3QgZmFsc2UsIHJldHVybnMgdHJ1ZS48YnI+XG5cdCAqICAoSXQgcmVnYXJkcyAwIGFzIHRydWUpXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgdHJ1dGh5P1xuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICovXG5cdGZ1bmN0aW9uIGlzVHJ1dGh5KG9iaikge1xuXHQgICAgcmV0dXJuIGlzRXhpc3R5KG9iaikgJiYgb2JqICE9PSBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBmYWxzeSBvciBub3QuPGJyPlxuXHQgKiAgSWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIG51bGwgb3IgdW5kZWZpbmVkIG9yIGZhbHNlLCByZXR1cm5zIHRydWUuXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgZmFsc3k/XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKi9cblx0ZnVuY3Rpb24gaXNGYWxzeShvYmopIHtcblx0ICAgIHJldHVybiAhaXNUcnV0aHkob2JqKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhbiBhcmd1bWVudHMgb2JqZWN0IG9yIG5vdC48YnI+XG5cdCAqICBJZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYW4gYXJndW1lbnRzIG9iamVjdCwgcmV0dXJuIHRydWUuXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgYXJndW1lbnRzP1xuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICovXG5cdGZ1bmN0aW9uIGlzQXJndW1lbnRzKG9iaikge1xuXHQgICAgdmFyIHJlc3VsdCA9IGlzRXhpc3R5KG9iaikgJiZcblx0ICAgICAgICAoKHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXScpIHx8ICEhb2JqLmNhbGxlZSk7XG5cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYW4gaW5zdGFuY2Ugb2YgQXJyYXkgb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhbiBpbnN0YW5jZSBvZiBBcnJheSwgcmV0dXJuIHRydWUuXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgYXJyYXkgaW5zdGFuY2U/XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKi9cblx0ZnVuY3Rpb24gaXNBcnJheShvYmopIHtcblx0ICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBBcnJheTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhbiBvYmplY3Qgb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhbiBvYmplY3QsIHJldHVybiB0cnVlLlxuXHQgKiBAcGFyYW0geyp9IG9iaiAtIFRhcmdldCBmb3IgY2hlY2tpbmdcblx0ICogQHJldHVybnMge2Jvb2xlYW59IElzIG9iamVjdD9cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqL1xuXHRmdW5jdGlvbiBpc09iamVjdChvYmopIHtcblx0ICAgIHJldHVybiBvYmogPT09IE9iamVjdChvYmopO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgZnVuY3Rpb24gb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGZ1bmN0aW9uLCByZXR1cm4gdHJ1ZS5cblx0ICogQHBhcmFtIHsqfSBvYmogLSBUYXJnZXQgZm9yIGNoZWNraW5nXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBJcyBmdW5jdGlvbj9cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEZ1bmN0aW9uO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgbnVtYmVyIG9yIG5vdC48YnI+XG5cdCAqICBJZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBudW1iZXIsIHJldHVybiB0cnVlLlxuXHQgKiBAcGFyYW0geyp9IG9iaiAtIFRhcmdldCBmb3IgY2hlY2tpbmdcblx0ICogQHJldHVybnMge2Jvb2xlYW59IElzIG51bWJlcj9cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqL1xuXHRmdW5jdGlvbiBpc051bWJlcihvYmopIHtcblx0ICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnbnVtYmVyJyB8fCBvYmogaW5zdGFuY2VvZiBOdW1iZXI7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBzdHJpbmcgb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIHN0cmluZywgcmV0dXJuIHRydWUuXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgc3RyaW5nP1xuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICovXG5cdGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8IG9iaiBpbnN0YW5jZW9mIFN0cmluZztcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGJvb2xlYW4gb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGJvb2xlYW4sIHJldHVybiB0cnVlLlxuXHQgKiBAcGFyYW0geyp9IG9iaiAtIFRhcmdldCBmb3IgY2hlY2tpbmdcblx0ICogQHJldHVybnMge2Jvb2xlYW59IElzIGJvb2xlYW4/XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKi9cblx0ZnVuY3Rpb24gaXNCb29sZWFuKG9iaikge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fCBvYmogaW5zdGFuY2VvZiBCb29sZWFuO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGFuIGluc3RhbmNlIG9mIEFycmF5IG9yIG5vdC48YnI+XG5cdCAqICBJZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYW4gaW5zdGFuY2Ugb2YgQXJyYXksIHJldHVybiB0cnVlLjxicj5cblx0ICogIChJdCBpcyB1c2VkIGZvciBtdWx0aXBsZSBmcmFtZSBlbnZpcm9ubWVudHMpXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgYW4gaW5zdGFuY2Ugb2YgYXJyYXk/XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKi9cblx0ZnVuY3Rpb24gaXNBcnJheVNhZmUob2JqKSB7XG5cdCAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgZnVuY3Rpb24gb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGZ1bmN0aW9uLCByZXR1cm4gdHJ1ZS48YnI+XG5cdCAqICAoSXQgaXMgdXNlZCBmb3IgbXVsdGlwbGUgZnJhbWUgZW52aXJvbm1lbnRzKVxuXHQgKiBAcGFyYW0geyp9IG9iaiAtIFRhcmdldCBmb3IgY2hlY2tpbmdcblx0ICogQHJldHVybnMge2Jvb2xlYW59IElzIGEgZnVuY3Rpb24/XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKi9cblx0ZnVuY3Rpb24gaXNGdW5jdGlvblNhZmUob2JqKSB7XG5cdCAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgbnVtYmVyIG9yIG5vdC48YnI+XG5cdCAqICBJZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBudW1iZXIsIHJldHVybiB0cnVlLjxicj5cblx0ICogIChJdCBpcyB1c2VkIGZvciBtdWx0aXBsZSBmcmFtZSBlbnZpcm9ubWVudHMpXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgYSBudW1iZXI/XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKi9cblx0ZnVuY3Rpb24gaXNOdW1iZXJTYWZlKG9iaikge1xuXHQgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBzdHJpbmcgb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIHN0cmluZywgcmV0dXJuIHRydWUuPGJyPlxuXHQgKiAgKEl0IGlzIHVzZWQgZm9yIG11bHRpcGxlIGZyYW1lIGVudmlyb25tZW50cylcblx0ICogQHBhcmFtIHsqfSBvYmogLSBUYXJnZXQgZm9yIGNoZWNraW5nXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBJcyBhIHN0cmluZz9cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqL1xuXHRmdW5jdGlvbiBpc1N0cmluZ1NhZmUob2JqKSB7XG5cdCAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBTdHJpbmddJztcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGJvb2xlYW4gb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGJvb2xlYW4sIHJldHVybiB0cnVlLjxicj5cblx0ICogIChJdCBpcyB1c2VkIGZvciBtdWx0aXBsZSBmcmFtZSBlbnZpcm9ubWVudHMpXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgYSBib29sZWFuP1xuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICovXG5cdGZ1bmN0aW9uIGlzQm9vbGVhblNhZmUob2JqKSB7XG5cdCAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBpbnN0YW5jZSBvZiBIVE1MTm9kZSBvciBub3QuPGJyPlxuXHQgKiAgSWYgdGhlIGdpdmVuIHZhcmlhYmxlcyBpcyBhIGluc3RhbmNlIG9mIEhUTUxOb2RlLCByZXR1cm4gdHJ1ZS5cblx0ICogQHBhcmFtIHsqfSBodG1sIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgSFRNTE5vZGUgP1xuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICovXG5cdGZ1bmN0aW9uIGlzSFRNTE5vZGUoaHRtbCkge1xuXHQgICAgaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gKGh0bWwgJiYgKGh0bWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCAhIWh0bWwubm9kZVR5cGUpKTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuICEhKGh0bWwgJiYgaHRtbC5ub2RlVHlwZSk7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBIVE1MIHRhZyBvciBub3QuPGJyPlxuXHQgKiAgSWYgdGhlIGdpdmVuIHZhcmlhYmxlcyBpcyBhIEhUTUwgdGFnLCByZXR1cm4gdHJ1ZS5cblx0ICogQHBhcmFtIHsqfSBodG1sIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSXMgSFRNTCB0YWc/XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKi9cblx0ZnVuY3Rpb24gaXNIVE1MVGFnKGh0bWwpIHtcblx0ICAgIGlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIChodG1sICYmIChodG1sIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuICEhKGh0bWwgJiYgaHRtbC5ub2RlVHlwZSAmJiBodG1sLm5vZGVUeXBlID09PSAxKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBlbXB0eShudWxsLCB1bmRlZmluZWQsIG9yIGVtcHR5IGFycmF5LCBlbXB0eSBvYmplY3QpIG9yIG5vdC48YnI+XG5cdCAqICBJZiB0aGUgZ2l2ZW4gdmFyaWFibGVzIGlzIGVtcHR5LCByZXR1cm4gdHJ1ZS5cblx0ICogQHBhcmFtIHsqfSBvYmogLSBUYXJnZXQgZm9yIGNoZWNraW5nXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBJcyBlbXB0eT9cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0VtcHR5KG9iaikge1xuXHQgICAgaWYgKCFpc0V4aXN0eShvYmopIHx8IF9pc0VtcHR5U3RyaW5nKG9iaikpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGlzQXJyYXkob2JqKSB8fCBpc0FyZ3VtZW50cyhvYmopKSB7XG5cdCAgICAgICAgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG5cdCAgICB9XG5cblx0ICAgIGlmIChpc09iamVjdChvYmopICYmICFpc0Z1bmN0aW9uKG9iaikpIHtcblx0ICAgICAgICByZXR1cm4gIV9oYXNPd25Qcm9wZXJ0eShvYmopO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIGdpdmVuIGFyZ3VtZW50IGlzIGVtcHR5IHN0cmluZ1xuXHQgKiBAcGFyYW0geyp9IG9iaiAtIFRhcmdldCBmb3IgY2hlY2tpbmdcblx0ICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgZ2l2ZW4gYXJndW1lbnQgaXMgZW1wdHkgc3RyaW5nXG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2lzRW1wdHlTdHJpbmcob2JqKSB7XG5cdCAgICByZXR1cm4gaXNTdHJpbmcob2JqKSAmJiBvYmogPT09ICcnO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgZ2l2ZW4gYXJndW1lbnQgaGFzIG93biBwcm9wZXJ0eVxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSB3aGV0aGVyIGdpdmVuIGFyZ3VtZW50IGhhcyBvd24gcHJvcGVydHlcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfaGFzT3duUHJvcGVydHkob2JqKSB7XG5cdCAgICB2YXIga2V5O1xuXHQgICAgZm9yIChrZXkgaW4gb2JqKSB7XG5cdCAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIG5vdCBlbXB0eVxuXHQgKiAobm90IG51bGwsIG5vdCB1bmRlZmluZWQsIG9yIG5vdCBlbXB0eSBhcnJheSwgbm90IGVtcHR5IG9iamVjdCkgb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZXMgaXMgbm90IGVtcHR5LCByZXR1cm4gdHJ1ZS5cblx0ICogQHBhcmFtIHsqfSBvYmogLSBUYXJnZXQgZm9yIGNoZWNraW5nXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBJcyBub3QgZW1wdHk/XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKi9cblx0ZnVuY3Rpb24gaXNOb3RFbXB0eShvYmopIHtcblx0ICAgIHJldHVybiAhaXNFbXB0eShvYmopO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGFuIGluc3RhbmNlIG9mIERhdGUgb3Igbm90Ljxicj5cblx0ICogIElmIHRoZSBnaXZlbiB2YXJpYWJsZXMgaXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZSwgcmV0dXJuIHRydWUuXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZT9cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0RhdGUob2JqKSB7XG5cdCAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRGF0ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlIG9yIG5vdC48YnI+XG5cdCAqICBJZiB0aGUgZ2l2ZW4gdmFyaWFibGVzIGlzIGFuIGluc3RhbmNlIG9mIERhdGUsIHJldHVybiB0cnVlLjxicj5cblx0ICogIChJdCBpcyB1c2VkIGZvciBtdWx0aXBsZSBmcmFtZSBlbnZpcm9ubWVudHMpXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZT9cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0RhdGVTYWZlKG9iaikge1xuXHQgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICBpc0V4aXN0eTogaXNFeGlzdHksXG5cdCAgICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG5cdCAgICBpc051bGw6IGlzTnVsbCxcblx0ICAgIGlzVHJ1dGh5OiBpc1RydXRoeSxcblx0ICAgIGlzRmFsc3k6IGlzRmFsc3ksXG5cdCAgICBpc0FyZ3VtZW50czogaXNBcmd1bWVudHMsXG5cdCAgICBpc0FycmF5OiBpc0FycmF5LFxuXHQgICAgaXNBcnJheVNhZmU6IGlzQXJyYXlTYWZlLFxuXHQgICAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuXHQgICAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcblx0ICAgIGlzRnVuY3Rpb25TYWZlOiBpc0Z1bmN0aW9uU2FmZSxcblx0ICAgIGlzTnVtYmVyOiBpc051bWJlcixcblx0ICAgIGlzTnVtYmVyU2FmZTogaXNOdW1iZXJTYWZlLFxuXHQgICAgaXNEYXRlOiBpc0RhdGUsXG5cdCAgICBpc0RhdGVTYWZlOiBpc0RhdGVTYWZlLFxuXHQgICAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuXHQgICAgaXNTdHJpbmdTYWZlOiBpc1N0cmluZ1NhZmUsXG5cdCAgICBpc0Jvb2xlYW46IGlzQm9vbGVhbixcblx0ICAgIGlzQm9vbGVhblNhZmU6IGlzQm9vbGVhblNhZmUsXG5cdCAgICBpc0hUTUxOb2RlOiBpc0hUTUxOb2RlLFxuXHQgICAgaXNIVE1MVGFnOiBpc0hUTUxUYWcsXG5cdCAgICBpc0VtcHR5OiBpc0VtcHR5LFxuXHQgICAgaXNOb3RFbXB0eTogaXNOb3RFbXB0eVxuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBAZmlsZW92ZXJ2aWV3IFRoaXMgbW9kdWxlIGhhcyBzb21lIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgYXJyYXkuXG5cdCAqIEBhdXRob3IgTkhOLlxuXHQgKiAgICAgICAgIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuXHQgKi9cblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNvbGxlY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGFwcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0dmFyIHV0aWw7XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBzdGFydCBpbmRleFxuXHQgKiBAcGFyYW0ge251bWJlcn0gc3RvcCAtIHN0b3AgaW5kZXhcblx0ICogQHBhcmFtIHtudW1iZXJ9IHN0ZXAgLSBuZXh0IHZpc2l0IGluZGV4ID0gY3VycmVudCBpbmRleCArIHN0ZXBcblx0ICogQHJldHVybnMge0FycmF5fVxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciB1dGlsID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgdXRpbCA9IHR1aS51dGlsOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB1dGlsLnJhbmdlKDUpOyAvLyBbMCwgMSwgMiwgMywgNF1cblx0ICogdXRpbC5yYW5nZSgxLCA1KTsgLy8gWzEsMiwzLDRdXG5cdCAqIHV0aWwucmFuZ2UoMiwgMTAsIDIpOyAvLyBbMiw0LDYsOF1cblx0ICogdXRpbC5yYW5nZSgxMCwgMiwgLTIpOyAvLyBbMTAsOCw2LDRdXG5cdCAqL1xuXHR2YXIgcmFuZ2UgPSBmdW5jdGlvbihzdGFydCwgc3RvcCwgc3RlcCkge1xuXHQgICAgdmFyIGFyciA9IFtdO1xuXHQgICAgdmFyIGZsYWc7XG5cblx0ICAgIGlmICh0eXBlLmlzVW5kZWZpbmVkKHN0b3ApKSB7XG5cdCAgICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG5cdCAgICAgICAgc3RhcnQgPSAwO1xuXHQgICAgfVxuXG5cdCAgICBzdGVwID0gc3RlcCB8fCAxO1xuXHQgICAgZmxhZyA9IHN0ZXAgPCAwID8gLTEgOiAxO1xuXHQgICAgc3RvcCAqPSBmbGFnO1xuXG5cdCAgICBmb3IgKDsgc3RhcnQgKiBmbGFnIDwgc3RvcDsgc3RhcnQgKz0gc3RlcCkge1xuXHQgICAgICAgIGFyci5wdXNoKHN0YXJ0KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGFycjtcblx0fTtcblxuXHQvKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuXHQvKipcblx0ICogWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXlcblx0ICogQHBhcmFtIHsuLi5BcnJheX1cblx0ICogQHJldHVybnMge0FycmF5fVxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciB1dGlsID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgdXRpbCA9IHR1aS51dGlsOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgcmVzdWx0ID0gdXRpbC56aXAoWzEsIDIsIDNdLCBbJ2EnLCAnYicsJ2MnXSwgW3RydWUsIGZhbHNlLCB0cnVlXSk7XG5cdCAqIGNvbnNvbGUubG9nKHJlc3VsdFswXSk7IC8vIFsxLCAnYScsIHRydWVdXG5cdCAqIGNvbnNvbGUubG9nKHJlc3VsdFsxXSk7IC8vIFsyLCAnYicsIGZhbHNlXVxuXHQgKiBjb25zb2xlLmxvZyhyZXN1bHRbMl0pOyAvLyBbMywgJ2MnLCB0cnVlXVxuXHQgKi9cblx0dmFyIHppcCA9IGZ1bmN0aW9uKCkgey8qIGVzbGludC1lbmFibGUgdmFsaWQtanNkb2MgKi9cblx0ICAgIHZhciBhcnIyZCA9IGFwcy5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICB2YXIgcmVzdWx0ID0gW107XG5cblx0ICAgIGNvbGxlY3Rpb24uZm9yRWFjaChhcnIyZCwgZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgY29sbGVjdGlvbi5mb3JFYWNoKGFyciwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG5cdCAgICAgICAgICAgIGlmICghcmVzdWx0W2luZGV4XSkge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IFtdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJlc3VsdFtpbmRleF0ucHVzaCh2YWx1ZSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9KTtcblxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggYXQgd2hpY2ggYSBnaXZlbiBlbGVtZW50IGNhbiBiZSBmb3VuZCBpbiB0aGUgYXJyYXlcblx0ICogZnJvbSBzdGFydCBpbmRleChkZWZhdWx0IDApLCBvciAtMSBpZiBpdCBpcyBub3QgcHJlc2VudC48YnI+XG5cdCAqIEl0IGNvbXBhcmVzIHNlYXJjaEVsZW1lbnQgdG8gZWxlbWVudHMgb2YgdGhlIEFycmF5IHVzaW5nIHN0cmljdCBlcXVhbGl0eVxuXHQgKiAodGhlIHNhbWUgbWV0aG9kIHVzZWQgYnkgdGhlID09PSwgb3IgdHJpcGxlLWVxdWFscywgb3BlcmF0b3IpLlxuXHQgKiBAcGFyYW0geyp9IHNlYXJjaEVsZW1lbnQgRWxlbWVudCB0byBsb2NhdGUgaW4gdGhlIGFycmF5XG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IEFycmF5IHRoYXQgd2lsbCBiZSB0cmF2ZXJzZWQuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IFN0YXJ0IGluZGV4IGluIGFycmF5IGZvciBzZWFyY2hpbmcgKGRlZmF1bHQgMClcblx0ICogQHJldHVybnMge251bWJlcn0gdGhlIEZpcnN0IGluZGV4IGF0IHdoaWNoIGEgZ2l2ZW4gZWxlbWVudCwgb3IgLTEgaWYgaXQgaXMgbm90IHByZXNlbnRcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdmFyIGFyciA9IFsnb25lJywgJ3R3bycsICd0aHJlZScsICdmb3VyJ107XG5cdCAqIHZhciBpZHgxID0gdXRpbC5pbkFycmF5KCdvbmUnLCBhcnIsIDMpOyAvLyAtMVxuXHQgKiB2YXIgaWR4MiA9IHV0aWwuaW5BcnJheSgnb25lJywgYXJyKTsgLy8gMFxuXHQgKi9cblx0dmFyIGluQXJyYXkgPSBmdW5jdGlvbihzZWFyY2hFbGVtZW50LCBhcnJheSwgc3RhcnRJbmRleCkge1xuXHQgICAgdmFyIGk7XG5cdCAgICB2YXIgbGVuZ3RoO1xuXHQgICAgc3RhcnRJbmRleCA9IHN0YXJ0SW5kZXggfHwgMDtcblxuXHQgICAgaWYgKCF0eXBlLmlzQXJyYXkoYXJyYXkpKSB7XG5cdCAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcblx0ICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhcnJheSwgc2VhcmNoRWxlbWVudCwgc3RhcnRJbmRleCk7XG5cdCAgICB9XG5cblx0ICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0ICAgIGZvciAoaSA9IHN0YXJ0SW5kZXg7IHN0YXJ0SW5kZXggPj0gMCAmJiBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcblx0ICAgICAgICBpZiAoYXJyYXlbaV0gPT09IHNlYXJjaEVsZW1lbnQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gLTE7XG5cdH07XG5cblx0dXRpbCA9IHtcblx0ICAgIGluQXJyYXk6IGluQXJyYXksXG5cdCAgICByYW5nZTogcmFuZ2UsXG5cdCAgICB6aXA6IHppcFxuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gdXRpbDtcblxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogQGZpbGVvdmVydmlldyBUaGlzIG1vZHVsZSBoYXMgc29tZSBmdW5jdGlvbnMgZm9yIGhhbmRsaW5nIG9iamVjdCBhcyBjb2xsZWN0aW9uLlxuXHQgKiBAYXV0aG9yIE5ITi5cblx0ICogICAgICAgICBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cblx0ICovXG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciB0eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIG9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblx0LyoqXG5cdCAqIEV4ZWN1dGUgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggZWxlbWVudCBwcmVzZW50XG5cdCAqIGluIHRoZSBhcnJheShvciBBcnJheS1saWtlIG9iamVjdCkgaW4gYXNjZW5kaW5nIG9yZGVyLjxicj5cblx0ICogSWYgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UsIHRoZSBsb29wIHdpbGwgYmUgc3RvcHBlZC48YnI+XG5cdCAqIENhbGxiYWNrIGZ1bmN0aW9uKGl0ZXJhdGVlKSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuXHQgKiAgLSBUaGUgdmFsdWUgb2YgdGhlIGVsZW1lbnRcblx0ICogIC0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50XG5cdCAqICAtIFRoZSBhcnJheShvciBBcnJheS1saWtlIG9iamVjdCkgYmVpbmcgdHJhdmVyc2VkXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFyciBUaGUgYXJyYXkob3IgQXJyYXktbGlrZSBvYmplY3QpIHRoYXQgd2lsbCBiZSB0cmF2ZXJzZWRcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0ZWUgQ2FsbGJhY2sgZnVuY3Rpb25cblx0ICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XSBDb250ZXh0KHRoaXMpIG9mIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIHV0aWwgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0Jyk7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciB1dGlsID0gdHVpLnV0aWw7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqIHZhciBzdW0gPSAwO1xuXHQgKlxuXHQgKiB1dGlsLmZvckVhY2hBcnJheShbMSwyLDNdLCBmdW5jdGlvbih2YWx1ZSl7XG5cdCAqICAgICBzdW0gKz0gdmFsdWU7XG5cdCAqIH0pO1xuXHQgKiBhbGVydChzdW0pOyAvLyA2XG5cdCAqL1xuXHRmdW5jdGlvbiBmb3JFYWNoQXJyYXkoYXJyLCBpdGVyYXRlZSwgY29udGV4dCkge1xuXHQgICAgdmFyIGluZGV4ID0gMDtcblx0ICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuXG5cdCAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG5cdCAgICBmb3IgKDsgaW5kZXggPCBsZW47IGluZGV4ICs9IDEpIHtcblx0ICAgICAgICBpZiAoaXRlcmF0ZWUuY2FsbChjb250ZXh0LCBhcnJbaW5kZXhdLCBpbmRleCwgYXJyKSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cblx0LyoqXG5cdCAqIEV4ZWN1dGUgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggcHJvcGVydHkgb2Ygb2JqZWN0IHdoaWNoIGFjdHVhbGx5IGV4aXN0Ljxicj5cblx0ICogSWYgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UsIHRoZSBsb29wIHdpbGwgYmUgc3RvcHBlZC48YnI+XG5cdCAqIENhbGxiYWNrIGZ1bmN0aW9uKGl0ZXJhdGVlKSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuXHQgKiAgLSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5XG5cdCAqICAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eVxuXHQgKiAgLSBUaGUgb2JqZWN0IGJlaW5nIHRyYXZlcnNlZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIHRyYXZlcnNlZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRlZSAgQ2FsbGJhY2sgZnVuY3Rpb25cblx0ICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XSBDb250ZXh0KHRoaXMpIG9mIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIHV0aWwgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0Jyk7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciB1dGlsID0gdHVpLnV0aWw7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqIHZhciBzdW0gPSAwO1xuXHQgKlxuXHQgKiB1dGlsLmZvckVhY2hPd25Qcm9wZXJ0aWVzKHthOjEsYjoyLGM6M30sIGZ1bmN0aW9uKHZhbHVlKXtcblx0ICogICAgIHN1bSArPSB2YWx1ZTtcblx0ICogfSk7XG5cdCAqIGFsZXJ0KHN1bSk7IC8vIDZcblx0ICoqL1xuXHRmdW5jdGlvbiBmb3JFYWNoT3duUHJvcGVydGllcyhvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG5cdCAgICB2YXIga2V5O1xuXG5cdCAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG5cdCAgICBmb3IgKGtleSBpbiBvYmopIHtcblx0ICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0ICAgICAgICAgICAgaWYgKGl0ZXJhdGVlLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cblx0LyoqXG5cdCAqIEV4ZWN1dGUgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggcHJvcGVydHkgb2Ygb2JqZWN0KG9yIGVsZW1lbnQgb2YgYXJyYXkpIHdoaWNoIGFjdHVhbGx5IGV4aXN0Ljxicj5cblx0ICogSWYgdGhlIG9iamVjdCBpcyBBcnJheS1saWtlIG9iamVjdChleC1hcmd1bWVudHMgb2JqZWN0KSwgSXQgbmVlZHMgdG8gdHJhbnNmb3JtIHRvIEFycmF5LihzZWUgJ2V4Micgb2YgZXhhbXBsZSkuPGJyPlxuXHQgKiBJZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gcmV0dXJucyBmYWxzZSwgdGhlIGxvb3Agd2lsbCBiZSBzdG9wcGVkLjxicj5cblx0ICogQ2FsbGJhY2sgZnVuY3Rpb24oaXRlcmF0ZWUpIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG5cdCAqICAtIFRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkob3IgVGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50KVxuXHQgKiAgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkob3IgVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50KVxuXHQgKiAgLSBUaGUgb2JqZWN0IGJlaW5nIHRyYXZlcnNlZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIHRyYXZlcnNlZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRlZSBDYWxsYmFjayBmdW5jdGlvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdIENvbnRleHQodGhpcykgb2YgY2FsbGJhY2sgZnVuY3Rpb25cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdmFyIHN1bSA9IDA7XG5cdCAqXG5cdCAqIHV0aWwuZm9yRWFjaChbMSwyLDNdLCBmdW5jdGlvbih2YWx1ZSl7XG5cdCAqICAgICBzdW0gKz0gdmFsdWU7XG5cdCAqIH0pO1xuXHQgKiBhbGVydChzdW0pOyAvLyA2XG5cdCAqXG5cdCAqIC8vIEluIGNhc2Ugb2YgQXJyYXktbGlrZSBvYmplY3Rcblx0ICogdmFyIGFycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyYXlMaWtlKTsgLy8gY2hhbmdlIHRvIGFycmF5XG5cdCAqIHV0aWwuZm9yRWFjaChhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuXHQgKiAgICAgc3VtICs9IHZhbHVlO1xuXHQgKiB9KTtcblx0ICovXG5cdGZ1bmN0aW9uIGZvckVhY2gob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuXHQgICAgaWYgKHR5cGUuaXNBcnJheShvYmopKSB7XG5cdCAgICAgICAgZm9yRWFjaEFycmF5KG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBmb3JFYWNoT3duUHJvcGVydGllcyhvYmosIGl0ZXJhdGVlLCBjb250ZXh0KTtcblx0ICAgIH1cblx0fVxuXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBvbmNlIGZvciBlYWNoIGVsZW1lbnQgaW4gYW4gYXJyYXksIGluIG9yZGVyLFxuXHQgKiBhbmQgY29uc3RydWN0cyBhIG5ldyBhcnJheSBmcm9tIHRoZSByZXN1bHRzLjxicj5cblx0ICogSWYgdGhlIG9iamVjdCBpcyBBcnJheS1saWtlIG9iamVjdChleC1hcmd1bWVudHMgb2JqZWN0KSxcblx0ICogSXQgbmVlZHMgdG8gdHJhbnNmb3JtIHRvIEFycmF5LihzZWUgJ2V4Micgb2YgZm9yRWFjaCBleGFtcGxlKTxicj5cblx0ICogQ2FsbGJhY2sgZnVuY3Rpb24oaXRlcmF0ZWUpIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG5cdCAqICAtIFRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkob3IgVGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50KVxuXHQgKiAgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkob3IgVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50KVxuXHQgKiAgLSBUaGUgb2JqZWN0IGJlaW5nIHRyYXZlcnNlZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIHRyYXZlcnNlZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRlZSBDYWxsYmFjayBmdW5jdGlvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdIENvbnRleHQodGhpcykgb2YgY2FsbGJhY2sgZnVuY3Rpb25cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBjb21wb3NlZCBvZiByZXR1cm5lZCB2YWx1ZXMgZnJvbSBjYWxsYmFjayBmdW5jdGlvblxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciB1dGlsID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgdXRpbCA9IHR1aS51dGlsOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgcmVzdWx0ID0gdXRpbC5tYXAoWzAsMSwyLDNdLCBmdW5jdGlvbih2YWx1ZSkge1xuXHQgKiAgICAgcmV0dXJuIHZhbHVlICsgMTtcblx0ICogfSk7XG5cdCAqXG5cdCAqIGFsZXJ0KHJlc3VsdCk7ICAvLyAxLDIsMyw0XG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuXHQgICAgdmFyIHJlc3VsdEFycmF5ID0gW107XG5cblx0ICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IG51bGw7XG5cblx0ICAgIGZvckVhY2gob2JqLCBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXN1bHRBcnJheS5wdXNoKGl0ZXJhdGVlLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cykpO1xuXHQgICAgfSk7XG5cblx0ICAgIHJldHVybiByZXN1bHRBcnJheTtcblx0fVxuXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBvbmNlIGZvciBlYWNoIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkob3IgQXJyYXktbGlrZSBvYmplY3Qgb3IgcGxhaW4gb2JqZWN0KS48YnI+XG5cdCAqIElmIHRoZSBvYmplY3QgaXMgQXJyYXktbGlrZSBvYmplY3QoZXgtYXJndW1lbnRzIG9iamVjdCksXG5cdCAqIEl0IG5lZWRzIHRvIHRyYW5zZm9ybSB0byBBcnJheS4oc2VlICdleDInIG9mIGZvckVhY2ggZXhhbXBsZSk8YnI+XG5cdCAqIENhbGxiYWNrIGZ1bmN0aW9uKGl0ZXJhdGVlKSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG5cdCAqICAtIFRoZSBwcmV2aW91c1ZhbHVlXG5cdCAqICAtIFRoZSBjdXJyZW50VmFsdWVcblx0ICogIC0gVGhlIGluZGV4XG5cdCAqICAtIFRoZSBvYmplY3QgYmVpbmcgdHJhdmVyc2VkXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgdHJhdmVyc2VkXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGl0ZXJhdGVlIENhbGxiYWNrIGZ1bmN0aW9uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF0gQ29udGV4dCh0aGlzKSBvZiBjYWxsYmFjayBmdW5jdGlvblxuXHQgKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdCB2YWx1ZVxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciB1dGlsID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgdXRpbCA9IHR1aS51dGlsOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgcmVzdWx0ID0gdXRpbC5yZWR1Y2UoWzAsMSwyLDNdLCBmdW5jdGlvbihzdG9yZWQsIHZhbHVlKSB7XG5cdCAqICAgICByZXR1cm4gc3RvcmVkICsgdmFsdWU7XG5cdCAqIH0pO1xuXHQgKlxuXHQgKiBhbGVydChyZXN1bHQpOyAvLyA2XG5cdCAqL1xuXHRmdW5jdGlvbiByZWR1Y2Uob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuXHQgICAgdmFyIGluZGV4ID0gMDtcblx0ICAgIHZhciBrZXlzLCBsZW5ndGgsIHN0b3JlO1xuXG5cdCAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG5cdCAgICBpZiAoIXR5cGUuaXNBcnJheShvYmopKSB7XG5cdCAgICAgICAga2V5cyA9IG9iamVjdC5rZXlzKG9iaik7XG5cdCAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG5cdCAgICAgICAgc3RvcmUgPSBvYmpba2V5c1tpbmRleCArPSAxXV07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGxlbmd0aCA9IG9iai5sZW5ndGg7XG5cdCAgICAgICAgc3RvcmUgPSBvYmpbaW5kZXhdO1xuXHQgICAgfVxuXG5cdCAgICBpbmRleCArPSAxO1xuXHQgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG5cdCAgICAgICAgc3RvcmUgPSBpdGVyYXRlZS5jYWxsKGNvbnRleHQsIHN0b3JlLCBvYmpba2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXhdKTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHN0b3JlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYW5zZm9ybSB0aGUgQXJyYXktbGlrZSBvYmplY3QgdG8gQXJyYXkuPGJyPlxuXHQgKiBJbiBsb3cgSUUgKGJlbG93IDgpLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCBpcyBub3QgcGVyZmVjdC4gU28sIHRyeS1jYXRjaCBzdGF0ZW1lbnQgaXMgdXNlZC5cblx0ICogQHBhcmFtIHsqfSBhcnJheUxpa2UgQXJyYXktbGlrZSBvYmplY3Rcblx0ICogQHJldHVybnMge0FycmF5fSBBcnJheVxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciB1dGlsID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgdXRpbCA9IHR1aS51dGlsOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgYXJyYXlMaWtlID0ge1xuXHQgKiAgICAgMDogJ29uZScsXG5cdCAqICAgICAxOiAndHdvJyxcblx0ICogICAgIDI6ICd0aHJlZScsXG5cdCAqICAgICAzOiAnZm91cicsXG5cdCAqICAgICBsZW5ndGg6IDRcblx0ICogfTtcblx0ICogdmFyIHJlc3VsdCA9IHV0aWwudG9BcnJheShhcnJheUxpa2UpO1xuXHQgKlxuXHQgKiBhbGVydChyZXN1bHQgaW5zdGFuY2VvZiBBcnJheSk7IC8vIHRydWVcblx0ICogYWxlcnQocmVzdWx0KTsgLy8gb25lLHR3byx0aHJlZSxmb3VyXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FycmF5KGFycmF5TGlrZSkge1xuXHQgICAgdmFyIGFycjtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgYXJyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyYXlMaWtlKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBhcnIgPSBbXTtcblx0ICAgICAgICBmb3JFYWNoQXJyYXkoYXJyYXlMaWtlLCBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICBhcnIucHVzaCh2YWx1ZSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBhcnI7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlIGEgbmV3IGFycmF5IG9yIHBsYWluIG9iamVjdCB3aXRoIGFsbCBlbGVtZW50cyhvciBwcm9wZXJ0aWVzKVxuXHQgKiB0aGF0IHBhc3MgdGhlIHRlc3QgaW1wbGVtZW50ZWQgYnkgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uLjxicj5cblx0ICogQ2FsbGJhY2sgZnVuY3Rpb24oaXRlcmF0ZWUpIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG5cdCAqICAtIFRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkob3IgVGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50KVxuXHQgKiAgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkob3IgVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50KVxuXHQgKiAgLSBUaGUgb2JqZWN0IGJlaW5nIHRyYXZlcnNlZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqIE9iamVjdChwbGFpbiBvYmplY3Qgb3IgQXJyYXkpIHRoYXQgd2lsbCBiZSB0cmF2ZXJzZWRcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0ZWUgQ2FsbGJhY2sgZnVuY3Rpb25cblx0ICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XSBDb250ZXh0KHRoaXMpIG9mIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IHBsYWluIG9iamVjdCBvciBBcnJheVxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGV4YW1wbGVcblx0ICAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdmFyIHJlc3VsdDEgPSB1dGlsLmZpbHRlcihbMCwxLDIsM10sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAqICAgICByZXR1cm4gKHZhbHVlICUgMiA9PT0gMCk7XG5cdCAqIH0pO1xuXHQgKiBhbGVydChyZXN1bHQxKTsgLy8gWzAsIDJdXG5cdCAqXG5cdCAqIHZhciByZXN1bHQyID0gdXRpbC5maWx0ZXIoe2EgOiAxLCBiOiAyLCBjOiAzfSwgZnVuY3Rpb24odmFsdWUpIHtcblx0ICogICAgIHJldHVybiAodmFsdWUgJSAyICE9PSAwKTtcblx0ICogfSk7XG5cdCAqIGFsZXJ0KHJlc3VsdDIuYSk7IC8vIDFcblx0ICogYWxlcnQocmVzdWx0Mi5iKTsgLy8gdW5kZWZpbmVkXG5cdCAqIGFsZXJ0KHJlc3VsdDIuYyk7IC8vIDNcblx0ICovXG5cdGZ1bmN0aW9uIGZpbHRlcihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG5cdCAgICB2YXIgcmVzdWx0LCBhZGQ7XG5cblx0ICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IG51bGw7XG5cblx0ICAgIGlmICghdHlwZS5pc09iamVjdChvYmopIHx8ICF0eXBlLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwYXJhbWV0ZXInKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKHR5cGUuaXNBcnJheShvYmopKSB7XG5cdCAgICAgICAgcmVzdWx0ID0gW107XG5cdCAgICAgICAgYWRkID0gZnVuY3Rpb24oc3ViUmVzdWx0LCBhcmdzKSB7XG5cdCAgICAgICAgICAgIHN1YlJlc3VsdC5wdXNoKGFyZ3NbMF0pO1xuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlc3VsdCA9IHt9O1xuXHQgICAgICAgIGFkZCA9IGZ1bmN0aW9uKHN1YlJlc3VsdCwgYXJncykge1xuXHQgICAgICAgICAgICBzdWJSZXN1bHRbYXJnc1sxXV0gPSBhcmdzWzBdO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cblx0ICAgIGZvckVhY2gob2JqLCBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAoaXRlcmF0ZWUuYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKSkge1xuXHQgICAgICAgICAgICBhZGQocmVzdWx0LCBhcmd1bWVudHMpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIGNvbnRleHQpO1xuXG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIGZldGNoaW5nIGEgcHJvcGVydHlcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyIHRhcmdldCBjb2xsZWN0aW9uXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gcHJvcGVydHkgcHJvcGVydHkgbmFtZVxuXHQgKiBAcmV0dXJucyB7QXJyYXl9XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIHV0aWwgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0Jyk7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciB1dGlsID0gdHVpLnV0aWw7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqIHZhciBvYmpBcnIgPSBbXG5cdCAqICAgICB7J2FiYyc6IDEsICdkZWYnOiAyLCAnZ2hpJzogM30sXG5cdCAqICAgICB7J2FiYyc6IDQsICdkZWYnOiA1LCAnZ2hpJzogNn0sXG5cdCAqICAgICB7J2FiYyc6IDcsICdkZWYnOiA4LCAnZ2hpJzogOX1cblx0ICogXTtcblx0ICogdmFyIGFycjJkID0gW1xuXHQgKiAgICAgWzEsIDIsIDNdLFxuXHQgKiAgICAgWzQsIDUsIDZdLFxuXHQgKiAgICAgWzcsIDgsIDldXG5cdCAqIF07XG5cdCAqIHV0aWwucGx1Y2sob2JqQXJyLCAnYWJjJyk7IC8vIFsxLCA0LCA3XVxuXHQgKiB1dGlsLnBsdWNrKGFycjJkLCAyKTsgLy8gWzMsIDYsIDldXG5cdCAqL1xuXHRmdW5jdGlvbiBwbHVjayhhcnIsIHByb3BlcnR5KSB7XG5cdCAgICB2YXIgcmVzdWx0ID0gbWFwKGFyciwgZnVuY3Rpb24oaXRlbSkge1xuXHQgICAgICAgIHJldHVybiBpdGVtW3Byb3BlcnR5XTtcblx0ICAgIH0pO1xuXG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICBmb3JFYWNoT3duUHJvcGVydGllczogZm9yRWFjaE93blByb3BlcnRpZXMsXG5cdCAgICBmb3JFYWNoQXJyYXk6IGZvckVhY2hBcnJheSxcblx0ICAgIGZvckVhY2g6IGZvckVhY2gsXG5cdCAgICB0b0FycmF5OiB0b0FycmF5LFxuXHQgICAgbWFwOiBtYXAsXG5cdCAgICByZWR1Y2U6IHJlZHVjZSxcblx0ICAgIGZpbHRlcjogZmlsdGVyLFxuXHQgICAgcGx1Y2s6IHBsdWNrXG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIEBmaWxlb3ZlcnZpZXcgVGhpcyBtb2R1bGUgcHJvdmlkZXMgYSBiaW5kKCkgZnVuY3Rpb24gZm9yIGNvbnRleHQgYmluZGluZy5cblx0ICogQGF1dGhvciBOSE4uXG5cdCAqICAgICAgICAgRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG5cdCAqL1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHQvKipcblx0ICogQ3JlYXRlIGEgbmV3IGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBoYXMgaXRzIHRoaXMga2V5d29yZCBzZXQgdG8gdGhlIHByb3ZpZGVkIHZhbHVlLlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiBBIG9yaWdpbmFsIGZ1bmN0aW9uIGJlZm9yZSBiaW5kaW5nXG5cdCAqIEBwYXJhbSB7Kn0gb2JqIGNvbnRleHQgb2YgZnVuY3Rpb24gaW4gYXJndW1lbnRzWzBdXG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBBIG5ldyBib3VuZCBmdW5jdGlvbiB3aXRoIGNvbnRleHQgdGhhdCBpcyBpbiBhcmd1bWVudHNbMV1cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqL1xuXHRmdW5jdGlvbiBiaW5kKGZuLCBvYmopIHtcblx0ICAgIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0ICAgIHZhciBhcmdzO1xuXG5cdCAgICBpZiAoZm4uYmluZCkge1xuXHQgICAgICAgIHJldHVybiBmbi5iaW5kLmFwcGx5KGZuLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuXHQgICAgfVxuXG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgICAgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcblxuXHQgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgICAgICAgIHJldHVybiBmbi5hcHBseShvYmosIGFyZ3MubGVuZ3RoID8gYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSA6IGFyZ3VtZW50cyk7XG5cdCAgICB9O1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICBiaW5kOiBiaW5kXG5cdH07XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIEBmaWxlb3ZlcnZpZXcgVGhpcyBtb2R1bGUgcHJvdmlkZXMgc29tZSBzaW1wbGUgZnVuY3Rpb24gZm9yIGluaGVyaXRhbmNlLlxuXHQgKiBAYXV0aG9yIE5ITi5cblx0ICogICAgICAgICBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cblx0ICovXG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNwZWNpZmllZCBwcm90b3R5cGUgb2JqZWN0IGFuZCBwcm9wZXJ0aWVzLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoaXMgb2JqZWN0IHdpbGwgYmUgYSBwcm90b3R5cGUgb2YgdGhlIG5ld2x5LWNyZWF0ZWQgb2JqZWN0LlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fVxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZU9iamVjdChvYmopIHtcblx0ICAgIGZ1bmN0aW9uIEYoKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2Ncblx0ICAgIEYucHJvdG90eXBlID0gb2JqO1xuXG5cdCAgICByZXR1cm4gbmV3IEYoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBQcm92aWRlIGEgc2ltcGxlIGluaGVyaXRhbmNlIGluIHByb3RvdHlwZS1vcmllbnRlZC48YnI+XG5cdCAqIENhdXRpb24gOlxuXHQgKiAgRG9uJ3Qgb3ZlcndyaXRlIHRoZSBwcm90b3R5cGUgb2YgY2hpbGQgY29uc3RydWN0b3IuXG5cdCAqXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1YlR5cGUgQ2hpbGQgY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJUeXBlIFBhcmVudCBjb25zdHJ1Y3RvclxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciB1dGlsID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgdXRpbCA9IHR1aS51dGlsOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiAvLyBQYXJlbnQgY29uc3RydWN0b3Jcblx0ICogZnVuY3Rpb24gQW5pbWFsKGxlZykge1xuXHQgKiAgICAgdGhpcy5sZWcgPSBsZWc7XG5cdCAqIH1cblx0ICogQW5pbWFsLnByb3RvdHlwZS5ncm93bCA9IGZ1bmN0aW9uKCkge1xuXHQgKiAgICAgLy8gLi4uXG5cdCAqIH07XG5cdCAqXG5cdCAqIC8vIENoaWxkIGNvbnN0cnVjdG9yXG5cdCAqIGZ1bmN0aW9uIFBlcnNvbihuYW1lKSB7XG5cdCAqICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuXHQgKiB9XG5cdCAqXG5cdCAqIC8vIEluaGVyaXRhbmNlXG5cdCAqIHV0aWwuaW5oZXJpdChQZXJzb24sIEFuaW1hbCk7XG5cdCAqXG5cdCAqIC8vIEFmdGVyIHRoaXMgaW5oZXJpdGFuY2UsIHBsZWFzZSB1c2Ugb25seSB0aGUgZXh0ZW5kaW5nIG9mIHByb3BlcnR5LlxuXHQgKiAvLyBEbyBub3Qgb3ZlcndyaXRlIHByb3RvdHlwZS5cblx0ICogUGVyc29uLnByb3RvdHlwZS53YWxrID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG5cdCAqICAgICAvLyAuLi5cblx0ICogfTtcblx0ICovXG5cdGZ1bmN0aW9uIGluaGVyaXQoc3ViVHlwZSwgc3VwZXJUeXBlKSB7XG5cdCAgICB2YXIgcHJvdG90eXBlID0gY3JlYXRlT2JqZWN0KHN1cGVyVHlwZS5wcm90b3R5cGUpO1xuXHQgICAgcHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViVHlwZTtcblx0ICAgIHN1YlR5cGUucHJvdG90eXBlID0gcHJvdG90eXBlO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICBjcmVhdGVPYmplY3Q6IGNyZWF0ZU9iamVjdCxcblx0ICAgIGluaGVyaXQ6IGluaGVyaXRcblx0fTtcblxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogQGZpbGVvdmVydmlldyBUaGlzIG1vZHVsZSBoYXMgc29tZSBmdW5jdGlvbnMgZm9yIGhhbmRsaW5nIHRoZSBzdHJpbmcuXG5cdCAqIEBhdXRob3IgTkhOLlxuXHQgKiAgICAgICAgIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuXHQgKi9cblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNvbGxlY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgb2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0LyoqXG5cdCAqIFRyYW5zZm9ybSB0aGUgZ2l2ZW4gSFRNTCBFbnRpdHkgc3RyaW5nIGludG8gcGxhaW4gc3RyaW5nXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBodG1sRW50aXR5IC0gSFRNTCBFbnRpdHkgdHlwZSBzdHJpbmdcblx0ICogQHJldHVybnMge1N0cmluZ30gUGxhaW4gc3RyaW5nXG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIHV0aWwgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0Jyk7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciB1dGlsID0gdHVpLnV0aWw7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqICB2YXIgaHRtbEVudGl0eVN0cmluZyA9IFwiQSAmIzM5O3F1b3RlJiMzOTsgaXMgJmx0O2ImZ3Q7Ym9sZCZsdDsvYiZndDtcIlxuXHQgKiAgdmFyIHJlc3VsdCA9IHV0aWwuZGVjb2RlSFRNTEVudGl0eShodG1sRW50aXR5U3RyaW5nKTsgLy9cIkEgJ3F1b3RlJyBpcyA8Yj5ib2xkPC9iPlwiXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGVIVE1MRW50aXR5KGh0bWxFbnRpdHkpIHtcblx0ICAgIHZhciBlbnRpdGllcyA9IHtcblx0ICAgICAgICAnJnF1b3Q7JzogJ1wiJyxcblx0ICAgICAgICAnJmFtcDsnOiAnJicsXG5cdCAgICAgICAgJyZsdDsnOiAnPCcsXG5cdCAgICAgICAgJyZndDsnOiAnPicsXG5cdCAgICAgICAgJyYjMzk7JzogJ1xcJycsXG5cdCAgICAgICAgJyZuYnNwOyc6ICcgJ1xuXHQgICAgfTtcblxuXHQgICAgcmV0dXJuIGh0bWxFbnRpdHkucmVwbGFjZSgvJmFtcDt8Jmx0O3wmZ3Q7fCZxdW90O3wmIzM5O3wmbmJzcDsvZywgZnVuY3Rpb24obTApIHtcblx0ICAgICAgICByZXR1cm4gZW50aXRpZXNbbTBdID8gZW50aXRpZXNbbTBdIDogbTA7XG5cdCAgICB9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUcmFuc2Zvcm0gdGhlIGdpdmVuIHN0cmluZyBpbnRvIEhUTUwgRW50aXR5IHN0cmluZ1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gaHRtbCAtIFN0cmluZyBmb3IgZW5jb2Rpbmdcblx0ICogQHJldHVybnMge1N0cmluZ30gSFRNTCBFbnRpdHlcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogIHZhciBodG1sRW50aXR5U3RyaW5nID0gXCI8c2NyaXB0PiBhbGVydCgndGVzdCcpOzwvc2NyaXB0PjxhIGhyZWY9J3Rlc3QnPlwiO1xuXHQgKiAgdmFyIHJlc3VsdCA9IHV0aWwuZW5jb2RlSFRNTEVudGl0eShodG1sRW50aXR5U3RyaW5nKTtcblx0ICogLy9cIiZsdDtzY3JpcHQmZ3Q7IGFsZXJ0KCYjMzk7dGVzdCYjMzk7KTsmbHQ7L3NjcmlwdCZndDsmbHQ7YSBocmVmPSYjMzk7dGVzdCYjMzk7Jmd0O1wiXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGVIVE1MRW50aXR5KGh0bWwpIHtcblx0ICAgIHZhciBlbnRpdGllcyA9IHtcblx0ICAgICAgICAnXCInOiAncXVvdCcsXG5cdCAgICAgICAgJyYnOiAnYW1wJyxcblx0ICAgICAgICAnPCc6ICdsdCcsXG5cdCAgICAgICAgJz4nOiAnZ3QnLFxuXHQgICAgICAgICdcXCcnOiAnIzM5J1xuXHQgICAgfTtcblxuXHQgICAgcmV0dXJuIGh0bWwucmVwbGFjZSgvWzw+JlwiJ10vZywgZnVuY3Rpb24obTApIHtcblx0ICAgICAgICByZXR1cm4gZW50aXRpZXNbbTBdID8gJyYnICsgZW50aXRpZXNbbTBdICsgJzsnIDogbTA7XG5cdCAgICB9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm4gd2hldGhlciB0aGUgc3RyaW5nIGNhcGFibGUgdG8gdHJhbnNmb3JtIGludG8gcGxhaW4gc3RyaW5nIGlzIGluIHRoZSBnaXZlbiBzdHJpbmcgb3Igbm90LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIC0gdGVzdCBzdHJpbmdcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0ZnVuY3Rpb24gaGFzRW5jb2RhYmxlU3RyaW5nKHN0cmluZykge1xuXHQgICAgcmV0dXJuICgvWzw+JlwiJ10vKS50ZXN0KHN0cmluZyk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJuIGR1cGxpY2F0ZSBjaGFydGVyc1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gb3BlcmFuZFN0cjEgVGhlIG9wZXJhbmQgc3RyaW5nXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcGVyYW5kU3RyMiBUaGUgb3BlcmFuZCBzdHJpbmdcblx0ICogQHByaXZhdGVcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9XG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdXRpbC5nZXREdXBsaWNhdGVkQ2hhcignZmUgZGV2JywgJ25obiBlbnRlcnRhaW5tZW50Jyk7IC8vICdlJ1xuXHQgKiB1dGlsLmdldER1cGxpY2F0ZWRDaGFyKCdmZHNhJywgJ2FzZGYnKTsgLy8gJ2FzZGYnXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXREdXBsaWNhdGVkQ2hhcihvcGVyYW5kU3RyMSwgb3BlcmFuZFN0cjIpIHtcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHZhciBsZW4gPSBvcGVyYW5kU3RyMS5sZW5ndGg7XG5cdCAgICB2YXIgcG9vbCA9IHt9O1xuXHQgICAgdmFyIGR1cGwsIGtleTtcblxuXHQgICAgZm9yICg7IGkgPCBsZW47IGkgKz0gMSkge1xuXHQgICAgICAgIGtleSA9IG9wZXJhbmRTdHIxLmNoYXJBdChpKTtcblx0ICAgICAgICBwb29sW2tleV0gPSAxO1xuXHQgICAgfVxuXG5cdCAgICBmb3IgKGkgPSAwLCBsZW4gPSBvcGVyYW5kU3RyMi5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuXHQgICAgICAgIGtleSA9IG9wZXJhbmRTdHIyLmNoYXJBdChpKTtcblx0ICAgICAgICBpZiAocG9vbFtrZXldKSB7XG5cdCAgICAgICAgICAgIHBvb2xba2V5XSArPSAxO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcG9vbCA9IGNvbGxlY3Rpb24uZmlsdGVyKHBvb2wsIGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICAgICAgICByZXR1cm4gaXRlbSA+IDE7XG5cdCAgICB9KTtcblxuXHQgICAgcG9vbCA9IG9iamVjdC5rZXlzKHBvb2wpLnNvcnQoKTtcblx0ICAgIGR1cGwgPSBwb29sLmpvaW4oJycpO1xuXG5cdCAgICByZXR1cm4gZHVwbDtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgICAgZGVjb2RlSFRNTEVudGl0eTogZGVjb2RlSFRNTEVudGl0eSxcblx0ICAgIGVuY29kZUhUTUxFbnRpdHk6IGVuY29kZUhUTUxFbnRpdHksXG5cdCAgICBoYXNFbmNvZGFibGVTdHJpbmc6IGhhc0VuY29kYWJsZVN0cmluZyxcblx0ICAgIGdldER1cGxpY2F0ZWRDaGFyOiBnZXREdXBsaWNhdGVkQ2hhclxuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBAZmlsZW92ZXJ2aWV3IGNvbGxlY3Rpb25zIG9mIHNvbWUgdGVjaG5pYyBtZXRob2RzLlxuXHQgKiBAYXV0aG9yIE5ITi5cblx0ICogICAgICAgICBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHQubmhuLmNvbT5cblx0ICovXG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciB0cmlja3MgPSB7fTtcblx0dmFyIGFwcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBmbiB1bnRpbCBhZnRlciBkZWxheSBtaWxsaXNlY29uZHMgaGFzIGVsYXBzZWRcblx0ICogc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VjZWQgZnVuY3Rpb24gd2FzIGludm9rZWQuXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtkZWxheT0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheVxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQHJldHVybnMge2Z1bmN0aW9ufSBkZWJvdW5jZWQgZnVuY3Rpb24uXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogZnVuY3Rpb24gc29tZU1ldGhvZFRvSW52b2tlRGVib3VuY2VkKCkge31cblx0ICpcblx0ICogdmFyIGRlYm91bmNlZCA9IHV0aWwuZGVib3VuY2Uoc29tZU1ldGhvZFRvSW52b2tlRGVib3VuY2VkLCAzMDApO1xuXHQgKlxuXHQgKiAvLyBpbnZva2UgcmVwZWF0ZWRseVxuXHQgKiBkZWJvdW5jZWQoKTtcblx0ICogZGVib3VuY2VkKCk7XG5cdCAqIGRlYm91bmNlZCgpO1xuXHQgKiBkZWJvdW5jZWQoKTtcblx0ICogZGVib3VuY2VkKCk7XG5cdCAqIGRlYm91bmNlZCgpOyAgICAvLyBsYXN0IGludm9rZSBvZiBkZWJvdW5jZWQoKVxuXHQgKlxuXHQgKiAvLyBpbnZva2Ugc29tZU1ldGhvZFRvSW52b2tlRGVib3VuY2VkKCkgYWZ0ZXIgMzAwIG1pbGxpc2Vjb25kcy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlYm91bmNlKGZuLCBkZWxheSkge1xuXHQgICAgdmFyIHRpbWVyLCBhcmdzO1xuXG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgICAgZGVsYXkgPSBkZWxheSB8fCAwO1xuXG5cdCAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuXHQgICAgICAgIGFyZ3MgPSBhcHMuY2FsbChhcmd1bWVudHMpO1xuXG5cdCAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lcik7XG5cdCAgICAgICAgdGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG5cdCAgICAgICAgfSwgZGVsYXkpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gZGVib3VuY2VkO1xuXHR9XG5cblx0LyoqXG5cdCAqIHJldHVybiB0aW1lc3RhbXBcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZyb20gSmFuLiAxOTcwIDAwOjAwOjAwIChHTVQpXG5cdCAqL1xuXHRmdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG5cdCAgICByZXR1cm4gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgZm4gYXQgbW9zdCBvbmNlIHBlciBldmVyeSBpbnRlcnZhbCBtaWxsaXNlY29uZHMuXG5cdCAqXG5cdCAqIFlvdSBjYW4gdXNlIHRoaXMgdGhyb3R0bGUgc2hvcnQgdGltZSByZXBlYXRlZGx5IGludm9raW5nIGZ1bmN0aW9ucy4gKGUuZyBNb3VzZU1vdmUsIFJlc2l6ZSAuLi4pXG5cdCAqXG5cdCAqIGlmIHlvdSBuZWVkIHJldXNlIHRocm90dGxlZCBtZXRob2QuIHlvdSBtdXN0IHJlbW92ZSBzbHVncyAoZS5nLiBmbGFnIHZhcmlhYmxlKSByZWxhdGVkIHdpdGggdGhyb3R0bGluZy5cblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gZnVuY3Rpb24gdG8gdGhyb3R0bGVcblx0ICogQHBhcmFtIHtudW1iZXJ9IFtpbnRlcnZhbD0wXSB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbn0gdGhyb3R0bGVkIGZ1bmN0aW9uXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogZnVuY3Rpb24gc29tZU1ldGhvZFRvSW52b2tlVGhyb3R0bGVkKCkge31cblx0ICpcblx0ICogdmFyIHRocm90dGxlZCA9IHV0aWwudGhyb3R0bGUoc29tZU1ldGhvZFRvSW52b2tlVGhyb3R0bGVkLCAzMDApO1xuXHQgKlxuXHQgKiAvLyBpbnZva2UgcmVwZWF0ZWRseVxuXHQgKiB0aHJvdHRsZWQoKTsgICAgLy8gaW52b2tlIChsZWFkaW5nKVxuXHQgKiB0aHJvdHRsZWQoKTtcblx0ICogdGhyb3R0bGVkKCk7ICAgIC8vIGludm9rZSAobmVhciAzMDAgbWlsbGlzZWNvbmRzKVxuXHQgKiB0aHJvdHRsZWQoKTtcblx0ICogdGhyb3R0bGVkKCk7XG5cdCAqIHRocm90dGxlZCgpOyAgICAvLyBpbnZva2UgKG5lYXIgNjAwIG1pbGxpc2Vjb25kcylcblx0ICogLy8gLi4uXG5cdCAqIC8vIGludm9rZSAodHJhaWxpbmcpXG5cdCAqXG5cdCAqIC8vIGlmIHlvdSBuZWVkIHJldXNlIHRocm90dGxlZCBtZXRob2QuIHRoZW4gaW52b2tlIHJlc2V0KClcblx0ICogdGhyb3R0bGVkLnJlc2V0KCk7XG5cdCAqL1xuXHRmdW5jdGlvbiB0aHJvdHRsZShmbiwgaW50ZXJ2YWwpIHtcblx0ICAgIHZhciBiYXNlO1xuXHQgICAgdmFyIGlzTGVhZGluZyA9IHRydWU7XG5cdCAgICB2YXIgdGljayA9IGZ1bmN0aW9uKF9hcmdzKSB7XG5cdCAgICAgICAgZm4uYXBwbHkobnVsbCwgX2FyZ3MpO1xuXHQgICAgICAgIGJhc2UgPSBudWxsO1xuXHQgICAgfTtcblx0ICAgIHZhciBkZWJvdW5jZWQsIHN0YW1wLCBhcmdzO1xuXG5cdCAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHQgICAgaW50ZXJ2YWwgPSBpbnRlcnZhbCB8fCAwO1xuXG5cdCAgICBkZWJvdW5jZWQgPSB0cmlja3MuZGVib3VuY2UodGljaywgaW50ZXJ2YWwpO1xuXG5cdCAgICBmdW5jdGlvbiB0aHJvdHRsZWQoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuXHQgICAgICAgIGFyZ3MgPSBhcHMuY2FsbChhcmd1bWVudHMpO1xuXG5cdCAgICAgICAgaWYgKGlzTGVhZGluZykge1xuXHQgICAgICAgICAgICB0aWNrKGFyZ3MpO1xuXHQgICAgICAgICAgICBpc0xlYWRpbmcgPSBmYWxzZTtcblxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgc3RhbXAgPSB0cmlja3MudGltZXN0YW1wKCk7XG5cblx0ICAgICAgICBiYXNlID0gYmFzZSB8fCBzdGFtcDtcblxuXHQgICAgICAgIC8vIHBhc3MgYXJyYXkgZGlyZWN0bHkgYmVjYXVzZSBgZGVib3VuY2UoKWAsIGB0aWNrKClgIGFyZSBhbHJlYWR5IHVzZVxuXHQgICAgICAgIC8vIGBhcHBseSgpYCBtZXRob2QgdG8gaW52b2tlIGRldmVsb3BlcidzIGBmbmAgaGFuZGxlci5cblx0ICAgICAgICAvL1xuXHQgICAgICAgIC8vIGFsc28sIHRoaXMgYGRlYm91bmNlZGAgbGluZSBpbnZva2VkIGV2ZXJ5IHRpbWUgZm9yIGltcGxlbWVudHNcblx0ICAgICAgICAvLyBgdHJhaWxpbmdgIGZlYXR1cmVzLlxuXHQgICAgICAgIGRlYm91bmNlZChhcmdzKTtcblxuXHQgICAgICAgIGlmICgoc3RhbXAgLSBiYXNlKSA+PSBpbnRlcnZhbCkge1xuXHQgICAgICAgICAgICB0aWNrKGFyZ3MpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gcmVzZXQoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuXHQgICAgICAgIGlzTGVhZGluZyA9IHRydWU7XG5cdCAgICAgICAgYmFzZSA9IG51bGw7XG5cdCAgICB9XG5cblx0ICAgIHRocm90dGxlZC5yZXNldCA9IHJlc2V0O1xuXG5cdCAgICByZXR1cm4gdGhyb3R0bGVkO1xuXHR9XG5cblx0dHJpY2tzLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcblx0dHJpY2tzLmRlYm91bmNlID0gZGVib3VuY2U7XG5cdHRyaWNrcy50aHJvdHRsZSA9IHRocm90dGxlO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gdHJpY2tzO1xuXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBAZmlsZW92ZXJ2aWV3IFRoaXMgbW9kdWxlIGhhcyBzb21lIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgb2JqZWN0IGFzIGNvbGxlY3Rpb24uXG5cdCAqIEBhdXRob3IgTkhOLlxuXHQgKiAgICAgICAgIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBvYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgY29sbGVjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciB0eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIG1zN2RheXMgPSA3ICogMjQgKiA2MCAqIDYwICogMTAwMDtcblxuXHQvKipcblx0ICogQ2hlY2sgaWYgdGhlIGRhdGUgaGFzIHBhc3NlZCA3IGRheXNcblx0ICogQHBhcmFtIHtudW1iZXJ9IGRhdGUgLSBtaWxsaXNlY29uZHNcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdGZ1bmN0aW9uIGlzRXhwaXJlZChkYXRlKSB7XG5cdCAgICB2YXIgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cblx0ICAgIHJldHVybiBub3cgLSBkYXRlID4gbXM3ZGF5cztcblx0fVxuXG5cdC8qKlxuXHQgKiBTZW5kIGhvc3RuYW1lIG9uIERPTUNvbnRlbnRMb2FkZWQuXG5cdCAqIFRvIHByZXZlbnQgaG9zdG5hbWUgc2V0IHR1aS51c2FnZVN0YXRpc3RpY3MgdG8gZmFsc2UuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBhcHBOYW1lIC0gYXBwbGljYXRpb24gbmFtZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdHJhY2tpbmdJZCAtIEdBIHRyYWNraW5nIElEXG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdGZ1bmN0aW9uIHNlbmRIb3N0bmFtZShhcHBOYW1lLCB0cmFja2luZ0lkKSB7XG5cdCAgICB2YXIgdXJsID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tL2NvbGxlY3QnO1xuXHQgICAgdmFyIGhvc3RuYW1lID0gbG9jYXRpb24uaG9zdG5hbWU7XG5cdCAgICB2YXIgaGl0VHlwZSA9ICdldmVudCc7XG5cdCAgICB2YXIgZXZlbnRDYXRlZ29yeSA9ICd1c2UnO1xuXHQgICAgdmFyIGFwcGxpY2F0aW9uS2V5Rm9yU3RvcmFnZSA9ICdUT0FTVCBVSSAnICsgYXBwTmFtZSArICcgZm9yICcgKyBob3N0bmFtZSArICc6IFN0YXRpc3RpY3MnO1xuXHQgICAgdmFyIGRhdGUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oYXBwbGljYXRpb25LZXlGb3JTdG9yYWdlKTtcblxuXHQgICAgLy8gc2tpcCBpZiB0aGUgZmxhZyBpcyBkZWZpbmVkIGFuZCBpcyBzZXQgdG8gZmFsc2UgZXhwbGljaXRseVxuXHQgICAgaWYgKCF0eXBlLmlzVW5kZWZpbmVkKHdpbmRvdy50dWkpICYmIHdpbmRvdy50dWkudXNhZ2VTdGF0aXN0aWNzID09PSBmYWxzZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgLy8gc2tpcCBpZiBub3QgcGFzcyBzZXZlbiBkYXlzIG9sZFxuXHQgICAgaWYgKGRhdGUgJiYgIWlzRXhwaXJlZChkYXRlKSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGFwcGxpY2F0aW9uS2V5Rm9yU3RvcmFnZSwgbmV3IERhdGUoKS5nZXRUaW1lKCkpO1xuXG5cdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcblx0ICAgICAgICAgICAgaW1hZ2VQaW5nKHVybCwge1xuXHQgICAgICAgICAgICAgICAgdjogMSxcblx0ICAgICAgICAgICAgICAgIHQ6IGhpdFR5cGUsXG5cdCAgICAgICAgICAgICAgICB0aWQ6IHRyYWNraW5nSWQsXG5cdCAgICAgICAgICAgICAgICBjaWQ6IGhvc3RuYW1lLFxuXHQgICAgICAgICAgICAgICAgZHA6IGhvc3RuYW1lLFxuXHQgICAgICAgICAgICAgICAgZGg6IGFwcE5hbWUsXG5cdCAgICAgICAgICAgICAgICBlbDogYXBwTmFtZSxcblx0ICAgICAgICAgICAgICAgIGVjOiBldmVudENhdGVnb3J5XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIDEwMDApO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlcXVlc3QgaW1hZ2UgcGluZy5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHVybCB1cmwgZm9yIHBpbmcgcmVxdWVzdFxuXHQgKiBAcGFyYW0ge09iamVjdH0gdHJhY2tpbmdJbmZvIGluZm9zIGZvciBtYWtlIHF1ZXJ5IHN0cmluZ1xuXHQgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIHV0aWwgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0Jyk7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciB1dGlsID0gdHVpLnV0aWw7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqIHV0aWwuaW1hZ2VQaW5nKCdodHRwczovL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9jb2xsZWN0Jywge1xuXHQgKiAgICAgdjogMSxcblx0ICogICAgIHQ6ICdldmVudCcsXG5cdCAqICAgICB0aWQ6ICd0cmFja2luZ2lkJyxcblx0ICogICAgIGNpZDogJ2NpZCcsXG5cdCAqICAgICBkcDogJ2RwJyxcblx0ICogICAgIGRoOiAnZGgnXG5cdCAqIH0pO1xuXHQgKi9cblx0ZnVuY3Rpb24gaW1hZ2VQaW5nKHVybCwgdHJhY2tpbmdJbmZvKSB7XG5cdCAgICB2YXIgcXVlcnlTdHJpbmcgPSBjb2xsZWN0aW9uLm1hcChvYmplY3Qua2V5cyh0cmFja2luZ0luZm8pLCBmdW5jdGlvbihrZXksIGluZGV4KSB7XG5cdCAgICAgICAgdmFyIHN0YXJ0V2l0aCA9IGluZGV4ID09PSAwID8gJycgOiAnJic7XG5cblx0ICAgICAgICByZXR1cm4gc3RhcnRXaXRoICsga2V5ICsgJz0nICsgdHJhY2tpbmdJbmZvW2tleV07XG5cdCAgICB9KS5qb2luKCcnKTtcblx0ICAgIHZhciB0cmFja2luZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuXHQgICAgdHJhY2tpbmdFbGVtZW50LnNyYyA9IHVybCArICc/JyArIHF1ZXJ5U3RyaW5nO1xuXG5cdCAgICB0cmFja2luZ0VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0ICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodHJhY2tpbmdFbGVtZW50KTtcblx0ICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodHJhY2tpbmdFbGVtZW50KTtcblxuXHQgICAgcmV0dXJuIHRyYWNraW5nRWxlbWVudDtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgICAgaW1hZ2VQaW5nOiBpbWFnZVBpbmcsXG5cdCAgICBzZW5kSG9zdG5hbWU6IHNlbmRIb3N0bmFtZVxuXHR9O1xuXG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQGZpbGVvdmVydmlldyBUaGlzIG1vZHVsZSBkZXRlY3RzIHRoZSBraW5kIG9mIHdlbGwta25vd24gYnJvd3NlciBhbmQgdmVyc2lvbi5cblx0ICogQGF1dGhvciBOSE4uXG5cdCAqICAgICAgICAgRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG5cdCAqL1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHQvKipcblx0ICogVGhpcyBvYmplY3QgaGFzIGFuIGluZm9ybWF0aW9uIHRoYXQgaW5kaWNhdGUgdGhlIGtpbmQgb2YgYnJvd3Nlci48YnI+XG5cdCAqIFRoZSBsaXN0IGJlbG93IGlzIGEgZGV0ZWN0YWJsZSBicm93c2VyIGxpc3QuXG5cdCAqICAtIGllOCB+IGllMTFcblx0ICogIC0gY2hyb21lXG5cdCAqICAtIGZpcmVmb3hcblx0ICogIC0gc2FmYXJpXG5cdCAqICAtIGVkZ2Vcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdXRpbC5icm93c2VyLmNocm9tZSA9PT0gdHJ1ZTsgLy8gY2hyb21lXG5cdCAqIHV0aWwuYnJvd3Nlci5maXJlZm94ID09PSB0cnVlOyAvLyBmaXJlZm94XG5cdCAqIHV0aWwuYnJvd3Nlci5zYWZhcmkgPT09IHRydWU7IC8vIHNhZmFyaVxuXHQgKiB1dGlsLmJyb3dzZXIubXNpZSA9PT0gdHJ1ZTsgLy8gSUVcblx0ICogdXRpbC5icm93c2VyLmVkZ2UgPT09IHRydWU7IC8vIGVkZ2Vcblx0ICogdXRpbC5icm93c2VyLm90aGVycyA9PT0gdHJ1ZTsgLy8gb3RoZXIgYnJvd3NlclxuXHQgKiB1dGlsLmJyb3dzZXIudmVyc2lvbjsgLy8gYnJvd3NlciB2ZXJzaW9uXG5cdCAqL1xuXHR2YXIgYnJvd3NlciA9IHtcblx0ICAgIGNocm9tZTogZmFsc2UsXG5cdCAgICBmaXJlZm94OiBmYWxzZSxcblx0ICAgIHNhZmFyaTogZmFsc2UsXG5cdCAgICBtc2llOiBmYWxzZSxcblx0ICAgIGVkZ2U6IGZhbHNlLFxuXHQgICAgb3RoZXJzOiBmYWxzZSxcblx0ICAgIHZlcnNpb246IDBcblx0fTtcblxuXHRpZiAod2luZG93ICYmIHdpbmRvdy5uYXZpZ2F0b3IpIHtcblx0ICAgIGRldGVjdEJyb3dzZXIoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZXRlY3QgdGhlIGJyb3dzZXIuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBkZXRlY3RCcm93c2VyKCkge1xuXHQgICAgdmFyIG5hdiA9IHdpbmRvdy5uYXZpZ2F0b3I7XG5cdCAgICB2YXIgYXBwTmFtZSA9IG5hdi5hcHBOYW1lLnJlcGxhY2UoL1xccy9nLCAnXycpO1xuXHQgICAgdmFyIHVzZXJBZ2VudCA9IG5hdi51c2VyQWdlbnQ7XG5cblx0ICAgIHZhciBySUUgPSAvTVNJRVxccyhbMC05XStbLjAtOV0qKS87XG5cdCAgICB2YXIgcklFMTEgPSAvVHJpZGVudC4qcnY6MTFcXC4vO1xuXHQgICAgdmFyIHJFZGdlID0gL0VkZ2VcXC8oXFxkKylcXC4vO1xuXHQgICAgdmFyIHZlcnNpb25SZWdleCA9IHtcblx0ICAgICAgICBmaXJlZm94OiAvRmlyZWZveFxcLyhcXGQrKVxcLi8sXG5cdCAgICAgICAgY2hyb21lOiAvQ2hyb21lXFwvKFxcZCspXFwuLyxcblx0ICAgICAgICBzYWZhcmk6IC9WZXJzaW9uXFwvKFtcXGQuXSspLipTYWZhcmlcXC8oXFxkKykvXG5cdCAgICB9O1xuXG5cdCAgICB2YXIga2V5LCB0bXA7XG5cblx0ICAgIHZhciBkZXRlY3RvciA9IHtcblx0ICAgICAgICBNaWNyb3NvZnRfSW50ZXJuZXRfRXhwbG9yZXI6IGZ1bmN0aW9uKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbWVsY2FzZVxuXHQgICAgICAgICAgICB2YXIgZGV0ZWN0ZWRWZXJzaW9uID0gdXNlckFnZW50Lm1hdGNoKHJJRSk7XG5cblx0ICAgICAgICAgICAgaWYgKGRldGVjdGVkVmVyc2lvbikgeyAvLyBpZTggfiBpZTEwXG5cdCAgICAgICAgICAgICAgICBicm93c2VyLm1zaWUgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgYnJvd3Nlci52ZXJzaW9uID0gcGFyc2VGbG9hdChkZXRlY3RlZFZlcnNpb25bMV0pO1xuXHQgICAgICAgICAgICB9IGVsc2UgeyAvLyBubyB2ZXJzaW9uIGluZm9ybWF0aW9uXG5cdCAgICAgICAgICAgICAgICBicm93c2VyLm90aGVycyA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIE5ldHNjYXBlOiBmdW5jdGlvbigpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb21wbGV4aXR5XG5cdCAgICAgICAgICAgIHZhciBkZXRlY3RlZCA9IGZhbHNlO1xuXG5cdCAgICAgICAgICAgIGlmIChySUUxMS5leGVjKHVzZXJBZ2VudCkpIHtcblx0ICAgICAgICAgICAgICAgIGJyb3dzZXIubXNpZSA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICBicm93c2VyLnZlcnNpb24gPSAxMTtcblx0ICAgICAgICAgICAgICAgIGRldGVjdGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChyRWRnZS5leGVjKHVzZXJBZ2VudCkpIHtcblx0ICAgICAgICAgICAgICAgIGJyb3dzZXIuZWRnZSA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICBicm93c2VyLnZlcnNpb24gPSB1c2VyQWdlbnQubWF0Y2gockVkZ2UpWzFdO1xuXHQgICAgICAgICAgICAgICAgZGV0ZWN0ZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gdmVyc2lvblJlZ2V4KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHZlcnNpb25SZWdleC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IHVzZXJBZ2VudC5tYXRjaCh2ZXJzaW9uUmVnZXhba2V5XSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXAgJiYgdG1wLmxlbmd0aCA+IDEpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtZGVwdGhcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyb3dzZXJba2V5XSA9IGRldGVjdGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyb3dzZXIudmVyc2lvbiA9IHBhcnNlRmxvYXQodG1wWzFdIHx8IDApO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFkZXRlY3RlZCkge1xuXHQgICAgICAgICAgICAgICAgYnJvd3Nlci5vdGhlcnMgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgdmFyIGZuID0gZGV0ZWN0b3JbYXBwTmFtZV07XG5cblx0ICAgIGlmIChmbikge1xuXHQgICAgICAgIGRldGVjdG9yW2FwcE5hbWVdKCk7XG5cdCAgICB9XG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGJyb3dzZXI7XG5cblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBAZmlsZW92ZXJ2aWV3IFRoaXMgbW9kdWxlIGhhcyBzb21lIG1ldGhvZHMgZm9yIGhhbmRsaW5nIHBvcHVwLXdpbmRvd1xuXHQgKiBAYXV0aG9yIE5ITi5cblx0ICogICAgICAgICBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cblx0ICovXG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBjb2xsZWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIHR5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHR2YXIgZnVuYyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdHZhciBicm93c2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdHZhciBvYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cdHZhciBwb3B1cElkID0gMDtcblxuXHQvKipcblx0ICogUG9wdXAgbWFuYWdlbWVudCBjbGFzc1xuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciBwb3B1cCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKS5wb3B1cDtcblx0ICogQGV4YW1wbGVcblx0ICogLy8gZGlzdHJpYnV0aW9uIGZpbGUsIHNjcmlwdFxuXHQgKiA8c2NyaXB0IHNyYz0ncGF0aC10by90dWktY29kZS1zbmlwcHQuanMnPjwvc2NyaXB0PlxuXHQgKiA8c2NyaXB0PlxuXHQgKiB2YXIgcG9wdXAgPSB0dWkudXRpbC5wb3B1cDtcblx0ICogPHNjcmlwdD5cblx0ICovXG5cdGZ1bmN0aW9uIFBvcHVwKCkge1xuXHQgICAgLyoqXG5cdCAgICAgKiBDYWNoaW5nIHRoZSB3aW5kb3ctY29udGV4dHMgb2Ygb3BlbmVkIHBvcHVwc1xuXHQgICAgICogQHR5cGUge09iamVjdH1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5vcGVuZWRQb3B1cCA9IHt9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIEluIElFNywgYW4gZXJyb3Igb2NjdXJzIHdoZW4gdGhlIGNsb3NlV2l0aFBhcmVudCBwcm9wZXJ0eSBhdHRhY2hlcyB0byB3aW5kb3cgb2JqZWN0Ljxicj5cblx0ICAgICAqIFNvLCBJdCBpcyBmb3Igc2F2aW5nIHRoZSB2YWx1ZSBvZiBjbG9zZVdpdGhQYXJlbnQgaW5zdGVhZCBvZiBhdHRhY2hpbmcgdG8gd2luZG93IG9iamVjdC5cblx0ICAgICAqIEB0eXBlIHtPYmplY3R9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY2xvc2VXaXRoUGFyZW50UG9wdXAgPSB7fTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBQb3N0IGRhdGEgYnJpZGdlIGZvciBJRTExIHBvcHVwXG5cdCAgICAgKiBAdHlwZSB7c3RyaW5nfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnBvc3RCcmlkZ2VVcmwgPSAnJztcblx0fVxuXG5cdC8qKioqKioqKioqXG5cdCAqIHB1YmxpYyBtZXRob2RzXG5cdCAqKioqKioqKioqL1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgcG9wdXAtbGlzdCBhZG1pbmlzdGVyZWQgYnkgY3VycmVudCB3aW5kb3cuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBUaGUga2V5IG9mIHBvcHVwLlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBwb3B1cCB3aW5kb3cgbGlzdCBvYmplY3Rcblx0ICovXG5cdFBvcHVwLnByb3RvdHlwZS5nZXRQb3B1cExpc3QgPSBmdW5jdGlvbihrZXkpIHtcblx0ICAgIHZhciB0YXJnZXQ7XG5cdCAgICBpZiAodHlwZS5pc0V4aXN0eShrZXkpKSB7XG5cdCAgICAgICAgdGFyZ2V0ID0gdGhpcy5vcGVuZWRQb3B1cFtrZXldO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0YXJnZXQgPSB0aGlzLm9wZW5lZFBvcHVwO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gdGFyZ2V0O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBPcGVuIHBvcHVwXG5cdCAqIENhdXRpb246XG5cdCAqICBJbiBJRTExLCB3aGVuIHRyYW5zZmVyIGRhdGEgdG8gcG9wdXAgYnkgUE9TVCwgbXVzdCBzZXQgdGhlIHBvc3RCcmlkZ2VVcmwuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBwb3B1cCB1cmxcblx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBwb3B1cCBvcHRpb25zXG5cdCAqICAgICBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG9wdXBOYW1lXSAtIEtleSBvZiBwb3B1cCB3aW5kb3cuPGJyPlxuXHQgKiAgICAgIElmIHRoZSBrZXkgaXMgc2V0LCB3aGVuIHlvdSB0cnkgdG8gb3BlbiBieSB0aGlzIGtleSwgdGhlIHBvcHVwIG9mIHRoaXMga2V5IGlzIGZvY3VzZWQuPGJyPlxuXHQgKiAgICAgIE9yIGVsc2UgYSBuZXcgcG9wdXAgd2luZG93IGhhdmluZyB0aGlzIGtleSBpcyBvcGVuZWQuXG5cdCAqXG5cdCAqICAgICBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG9wdXBPcHRpb25TdHI9XCJcIl0gLSBPcHRpb24gc3RyaW5nIG9mIHBvcHVwIHdpbmRvdzxicj5cblx0ICogICAgICBJdCBpcyBzYW1lIHdpdGggdGhlIHRoaXJkIHBhcmFtZXRlciBvZiB3aW5kb3cub3BlbigpIG1ldGhvZC48YnI+XG5cdCAqICAgICAgU2VlIHtAbGluayBodHRwOi8vd3d3Lnczc2Nob29scy5jb20vanNyZWYvbWV0X3dpbl9vcGVuLmFzcH1cblx0ICpcblx0ICogICAgIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xvc2VXaXRoUGFyZW50PXRydWVdIC0gSXMgY2xvc2VkIHdoZW4gcGFyZW50IHdpbmRvdyBjbG9zZWQ/XG5cdCAqXG5cdCAqICAgICBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZVJlbG9hZD1mYWxzZV0gLSBUaGlzIHByb3BlcnR5IGluZGljYXRlcyB3aGV0aGVyIHJlbG9hZCB0aGUgcG9wdXAgb3Igbm90Ljxicj5cblx0ICogICAgICBJZiB0cnVlLCB0aGUgcG9wdXAgd2lsbCBiZSByZWxvYWRlZCB3aGVuIHlvdSB0cnkgdG8gcmUtb3BlbiB0aGUgcG9wdXAgdGhhdCBoYXMgYmVlbiBvcGVuZWQuPGJyPlxuXHQgKiAgICAgIFdoZW4gdHJhbnNtaXQgdGhlIFBPU1QtZGF0YSwgc29tZSBicm93c2VycyBhbGVydCBhIG1lc3NhZ2UgZm9yIGNvbmZpcm1pbmcgd2hldGhlciByZXRyYW5zbWl0IG9yIG5vdC5cblx0ICpcblx0ICogICAgIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3N0QnJpZGdlVXJsPScnXVxuXHQgKiAgICAgIFVzZSB0aGlzIHVybCB0byBhdm9pZCBhIGNlcnRhaW4gYnVnIG9jY3VyaW5nIHdoZW4gdHJhbnNtaXR0aW5nIFBPU1QgZGF0YSB0byB0aGUgcG9wdXAgaW4gSUUxMS48YnI+XG5cdCAqICAgICAgVGhpcyBzcGVjaWZpYyBidWdneSBzaXR1YXRpb24gaXMga25vd24gdG8gaGFwcGVuIGJlY2F1c2UgSUUxMSB0cmllcyB0byBvcGVuIHRoZSByZXF1ZXN0ZWQgdXJsPGJyPlxuXHQgKiAgICAgIG5vdCBpbiBhIG5ldyBwb3B1cCB3aW5kb3cgYXMgaW50ZW5kZWQsIGJ1dCBpbiBhIG5ldyB0YWIuPGJyPlxuXHQgKiAgICAgIFNlZSB7QGxpbmsgaHR0cDovL3dpa2kubmhuZW50LmNvbS9wYWdlcy92aWV3cGFnZS5hY3Rpb24/cGFnZUlkPTI0MDU2Mjg0NH1cblx0ICpcblx0ICogICAgIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5tZXRob2Q9Z2V0XVxuXHQgKiAgICAgVGhlIG1ldGhvZCBvZiB0cmFuc21pc3Npb24gd2hlbiB0aGUgZm9ybS1kYXRhIGlzIHRyYW5zbWl0dGVkIHRvIHBvcHVwLXdpbmRvdy5cblx0ICpcblx0ICogICAgIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wYXJhbT1udWxsXVxuXHQgKiAgICAgVXNpbmcgYXMgcGFyYW1ldGVycyBmb3IgdHJhbnNtaXNzaW9uIHdoZW4gdGhlIGZvcm0tZGF0YSBpcyB0cmFuc21pdHRlZCB0byBwb3B1cC13aW5kb3cuXG5cdCAqL1xuXHRQb3B1cC5wcm90b3R5cGUub3BlblBvcHVwID0gZnVuY3Rpb24odXJsLCBvcHRpb25zKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29tcGxleGl0eVxuXHQgICAgdmFyIHBvcHVwLCBmb3JtRWxlbWVudCwgdXNlSUVQb3N0QnJpZGdlO1xuXG5cdCAgICBvcHRpb25zID0gb2JqZWN0LmV4dGVuZCh7XG5cdCAgICAgICAgcG9wdXBOYW1lOiAncG9wdXBfJyArIHBvcHVwSWQgKyAnXycgKyBOdW1iZXIobmV3IERhdGUoKSksXG5cdCAgICAgICAgcG9wdXBPcHRpb25TdHI6ICcnLFxuXHQgICAgICAgIHVzZVJlbG9hZDogdHJ1ZSxcblx0ICAgICAgICBjbG9zZVdpdGhQYXJlbnQ6IHRydWUsXG5cdCAgICAgICAgbWV0aG9kOiAnZ2V0Jyxcblx0ICAgICAgICBwYXJhbToge31cblx0ICAgIH0sIG9wdGlvbnMgfHwge30pO1xuXG5cdCAgICBvcHRpb25zLm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kLnRvVXBwZXJDYXNlKCk7XG5cblx0ICAgIHRoaXMucG9zdEJyaWRnZVVybCA9IG9wdGlvbnMucG9zdEJyaWRnZVVybCB8fCB0aGlzLnBvc3RCcmlkZ2VVcmw7XG5cblx0ICAgIHVzZUlFUG9zdEJyaWRnZSA9IG9wdGlvbnMubWV0aG9kID09PSAnUE9TVCcgJiYgb3B0aW9ucy5wYXJhbSAmJlxuXHQgICAgICAgICAgICBicm93c2VyLm1zaWUgJiYgYnJvd3Nlci52ZXJzaW9uID09PSAxMTtcblxuXHQgICAgaWYgKCF0eXBlLmlzRXhpc3R5KHVybCkpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BvcHVwI29wZW4oKSBuZWVkIHBvcHVwIHVybC4nKTtcblx0ICAgIH1cblxuXHQgICAgcG9wdXBJZCArPSAxO1xuXG5cdCAgICAvKlxuXHQgICAgICogSW4gZm9ybS1kYXRhIHRyYW5zbWlzc2lvblxuXHQgICAgICogMS4gQ3JlYXRlIGEgZm9ybSBiZWZvcmUgb3BlbmluZyBhIHBvcHVwLlxuXHQgICAgICogMi4gVHJhbnNtaXQgdGhlIGZvcm0tZGF0YS5cblx0ICAgICAqIDMuIFJlbW92ZSB0aGUgZm9ybSBhZnRlciB0cmFuc21pc3Npb24uXG5cdCAgICAgKi9cblx0ICAgIGlmIChvcHRpb25zLnBhcmFtKSB7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMubWV0aG9kID09PSAnR0VUJykge1xuXHQgICAgICAgICAgICB1cmwgPSB1cmwgKyAoL1xcPy8udGVzdCh1cmwpID8gJyYnIDogJz8nKSArIHRoaXMuX3BhcmFtZXRlcml6ZShvcHRpb25zLnBhcmFtKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMubWV0aG9kID09PSAnUE9TVCcpIHtcblx0ICAgICAgICAgICAgaWYgKCF1c2VJRVBvc3RCcmlkZ2UpIHtcblx0ICAgICAgICAgICAgICAgIGZvcm1FbGVtZW50ID0gdGhpcy5jcmVhdGVGb3JtKHVybCwgb3B0aW9ucy5wYXJhbSwgb3B0aW9ucy5tZXRob2QsIG9wdGlvbnMucG9wdXBOYW1lKTtcblx0ICAgICAgICAgICAgICAgIHVybCA9ICdhYm91dDpibGFuayc7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHBvcHVwID0gdGhpcy5vcGVuZWRQb3B1cFtvcHRpb25zLnBvcHVwTmFtZV07XG5cblx0ICAgIGlmICghdHlwZS5pc0V4aXN0eShwb3B1cCkpIHtcblx0ICAgICAgICB0aGlzLm9wZW5lZFBvcHVwW29wdGlvbnMucG9wdXBOYW1lXSA9IHBvcHVwID0gdGhpcy5fb3Blbih1c2VJRVBvc3RCcmlkZ2UsIG9wdGlvbnMucGFyYW0sXG5cdCAgICAgICAgICAgIHVybCwgb3B0aW9ucy5wb3B1cE5hbWUsIG9wdGlvbnMucG9wdXBPcHRpb25TdHIpO1xuXHQgICAgfSBlbHNlIGlmIChwb3B1cC5jbG9zZWQpIHtcblx0ICAgICAgICB0aGlzLm9wZW5lZFBvcHVwW29wdGlvbnMucG9wdXBOYW1lXSA9IHBvcHVwID0gdGhpcy5fb3Blbih1c2VJRVBvc3RCcmlkZ2UsIG9wdGlvbnMucGFyYW0sXG5cdCAgICAgICAgICAgIHVybCwgb3B0aW9ucy5wb3B1cE5hbWUsIG9wdGlvbnMucG9wdXBPcHRpb25TdHIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAob3B0aW9ucy51c2VSZWxvYWQpIHtcblx0ICAgICAgICAgICAgcG9wdXAubG9jYXRpb24ucmVwbGFjZSh1cmwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBwb3B1cC5mb2N1cygpO1xuXHQgICAgfVxuXG5cdCAgICB0aGlzLmNsb3NlV2l0aFBhcmVudFBvcHVwW29wdGlvbnMucG9wdXBOYW1lXSA9IG9wdGlvbnMuY2xvc2VXaXRoUGFyZW50O1xuXG5cdCAgICBpZiAoIXBvcHVwIHx8IHBvcHVwLmNsb3NlZCB8fCB0eXBlLmlzVW5kZWZpbmVkKHBvcHVwLmNsb3NlZCkpIHtcblx0ICAgICAgICBhbGVydCgncGxlYXNlIGVuYWJsZSBwb3B1cCB3aW5kb3dzIGZvciB0aGlzIHdlYnNpdGUnKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKG9wdGlvbnMucGFyYW0gJiYgb3B0aW9ucy5tZXRob2QgPT09ICdQT1NUJyAmJiAhdXNlSUVQb3N0QnJpZGdlKSB7XG5cdCAgICAgICAgaWYgKHBvcHVwKSB7XG5cdCAgICAgICAgICAgIGZvcm1FbGVtZW50LnN1Ym1pdCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZm9ybUVsZW1lbnQucGFyZW50Tm9kZSkge1xuXHQgICAgICAgICAgICBmb3JtRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZvcm1FbGVtZW50KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHdpbmRvdy5vbnVubG9hZCA9IGZ1bmMuYmluZCh0aGlzLmNsb3NlQWxsUG9wdXAsIHRoaXMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDbG9zZSB0aGUgcG9wdXBcblx0ICogQHBhcmFtIHtib29sZWFufSBbc2tpcEJlZm9yZVVubG9hZF0gLSBJZiB0cnVlLCB0aGUgJ3dpbmRvdy5vbnVubG9hZCcgd2lsbCBiZSBudWxsIGFuZCBza2lwIHVubG9hZCBldmVudC5cblx0ICogQHBhcmFtIHtXaW5kb3d9IFtwb3B1cF0gLSBXaW5kb3ctY29udGV4dCBvZiBwb3B1cCBmb3IgY2xvc2luZy4gSWYgb21pdCB0aGlzLCBjdXJyZW50IHdpbmRvdy1jb250ZXh0IHdpbGwgYmUgY2xvc2VkLlxuXHQgKi9cblx0UG9wdXAucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oc2tpcEJlZm9yZVVubG9hZCwgcG9wdXApIHtcblx0ICAgIHZhciB0YXJnZXQgPSBwb3B1cCB8fCB3aW5kb3c7XG5cdCAgICBza2lwQmVmb3JlVW5sb2FkID0gdHlwZS5pc0V4aXN0eShza2lwQmVmb3JlVW5sb2FkKSA/IHNraXBCZWZvcmVVbmxvYWQgOiBmYWxzZTtcblxuXHQgICAgaWYgKHNraXBCZWZvcmVVbmxvYWQpIHtcblx0ICAgICAgICB3aW5kb3cub251bmxvYWQgPSBudWxsO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoIXRhcmdldC5jbG9zZWQpIHtcblx0ICAgICAgICB0YXJnZXQub3BlbmVyID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cdCAgICAgICAgdGFyZ2V0LmNsb3NlKCk7XG5cdCAgICB9XG5cdH07XG5cblx0LyoqXG5cdCAqIENsb3NlIGFsbCB0aGUgcG9wdXBzIGluIGN1cnJlbnQgd2luZG93LlxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlV2l0aFBhcmVudCAtIElmIHRydWUsIHBvcHVwcyBoYXZpbmcgdGhlIGNsb3NlV2l0aFBhcmVudFBvcHVwIHByb3BlcnR5IGFzIHRydWUgd2lsbCBiZSBjbG9zZWQuXG5cdCAqL1xuXHRQb3B1cC5wcm90b3R5cGUuY2xvc2VBbGxQb3B1cCA9IGZ1bmN0aW9uKGNsb3NlV2l0aFBhcmVudCkge1xuXHQgICAgdmFyIGhhc0FyZyA9IHR5cGUuaXNFeGlzdHkoY2xvc2VXaXRoUGFyZW50KTtcblxuXHQgICAgY29sbGVjdGlvbi5mb3JFYWNoT3duUHJvcGVydGllcyh0aGlzLm9wZW5lZFBvcHVwLCBmdW5jdGlvbihwb3B1cCwga2V5KSB7XG5cdCAgICAgICAgaWYgKChoYXNBcmcgJiYgdGhpcy5jbG9zZVdpdGhQYXJlbnRQb3B1cFtrZXldKSB8fCAhaGFzQXJnKSB7XG5cdCAgICAgICAgICAgIHRoaXMuY2xvc2UoZmFsc2UsIHBvcHVwKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB0aGlzKTtcblx0fTtcblxuXHQvKipcblx0ICogQWN0aXZhdGUob3IgZm9jdXMpIHRoZSBwb3B1cCBvZiB0aGUgZ2l2ZW4gbmFtZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHBvcHVwTmFtZSAtIE5hbWUgb2YgcG9wdXAgZm9yIGFjdGl2YXRpb25cblx0ICovXG5cdFBvcHVwLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uKHBvcHVwTmFtZSkge1xuXHQgICAgdGhpcy5nZXRQb3B1cExpc3QocG9wdXBOYW1lKS5mb2N1cygpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm4gYW4gb2JqZWN0IG1hZGUgb2YgcGFyc2luZyB0aGUgcXVlcnkgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgaGF2aW5nIHNvbWUgaW5mb3JtYXRpb24gb2YgdGhlIHF1ZXJ5IHN0cmluZy5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdFBvcHVwLnByb3RvdHlwZS5wYXJzZVF1ZXJ5ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgcGFyYW0gPSB7fTtcblx0ICAgIHZhciBzZWFyY2gsIHBhaXI7XG5cblx0ICAgIHNlYXJjaCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpO1xuXHQgICAgY29sbGVjdGlvbi5mb3JFYWNoQXJyYXkoc2VhcmNoLnNwbGl0KCcmJyksIGZ1bmN0aW9uKHBhcnQpIHtcblx0ICAgICAgICBwYWlyID0gcGFydC5zcGxpdCgnPScpO1xuXHQgICAgICAgIHBhcmFtW2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG5cdCAgICB9KTtcblxuXHQgICAgcmV0dXJuIHBhcmFtO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBoaWRkZW4gZm9ybSBmcm9tIHRoZSBnaXZlbiBhcmd1bWVudHMgYW5kIHJldHVybiB0aGlzIGZvcm0uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gLSBVUkwgZm9yIGZvcm0gdHJhbnNtaXNzaW9uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gLSBEYXRhIGZvciBmb3JtIHRyYW5zbWlzc2lvblxuXHQgKiBAcGFyYW0ge3N0cmluZ30gW21ldGhvZF0gLSBNZXRob2Qgb2YgdHJhbnNtaXNzaW9uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSAtIFRhcmdldCBvZiB0cmFuc21pc3Npb25cblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2NvbnRhaW5lcl0gLSBDb250YWluZXIgZWxlbWVudCBvZiBmb3JtLlxuXHQgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IEZvcm0gZWxlbWVudFxuXHQgKi9cblx0UG9wdXAucHJvdG90eXBlLmNyZWF0ZUZvcm0gPSBmdW5jdGlvbihhY3Rpb24sIGRhdGEsIG1ldGhvZCwgdGFyZ2V0LCBjb250YWluZXIpIHtcblx0ICAgIHZhciBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpLFxuXHQgICAgICAgIGlucHV0O1xuXG5cdCAgICBjb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQuYm9keTtcblxuXHQgICAgZm9ybS5tZXRob2QgPSBtZXRob2QgfHwgJ1BPU1QnO1xuXHQgICAgZm9ybS5hY3Rpb24gPSBhY3Rpb24gfHwgJyc7XG5cdCAgICBmb3JtLnRhcmdldCA9IHRhcmdldCB8fCAnJztcblx0ICAgIGZvcm0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuXHQgICAgY29sbGVjdGlvbi5mb3JFYWNoT3duUHJvcGVydGllcyhkYXRhLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG5cdCAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXHQgICAgICAgIGlucHV0Lm5hbWUgPSBrZXk7XG5cdCAgICAgICAgaW5wdXQudHlwZSA9ICdoaWRkZW4nO1xuXHQgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG5cdCAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XG5cdCAgICB9KTtcblxuXHQgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZvcm0pO1xuXG5cdCAgICByZXR1cm4gZm9ybTtcblx0fTtcblxuXHQvKioqKioqKioqKlxuXHQgKiBwcml2YXRlIG1ldGhvZHNcblx0ICoqKioqKioqKiovXG5cblx0LyoqXG5cdCAqIFJldHVybiBhbiBxdWVyeSBzdHJpbmcgbWFkZSBieSBwYXJzaW5nIHRoZSBnaXZlbiBvYmplY3Rcblx0ICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIEFuIG9iamVjdCB0aGF0IGhhcyBpbmZvcm1hdGlvbiBmb3IgcXVlcnkgc3RyaW5nXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IC0gUXVlcnkgc3RyaW5nXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRQb3B1cC5wcm90b3R5cGUuX3BhcmFtZXRlcml6ZSA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgdmFyIHF1ZXJ5ID0gW107XG5cblx0ICAgIGNvbGxlY3Rpb24uZm9yRWFjaE93blByb3BlcnRpZXMob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG5cdCAgICAgICAgcXVlcnkucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXHQgICAgfSk7XG5cblx0ICAgIHJldHVybiBxdWVyeS5qb2luKCcmJyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIE9wZW4gcG9wdXBcblx0ICogQHBhcmFtIHtib29sZWFufSB1c2VJRVBvc3RCcmlkZ2UgLSBBIHN3aXRjaCBvcHRpb24gd2hldGhlciB0byB1c2UgYWx0ZXJuYXRpdmVcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdG9zc2luZyBQT1NUIGRhdGEgdG8gdGhlIHBvcHVwIHdpbmRvdyBpbiBJRTExXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSAtIEEgZGF0YSBmb3IgdG9zc2luZyB0byBwb3B1cFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gUG9wdXAgdXJsXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwb3B1cE5hbWUgLSBQb3B1cCBuYW1lXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25TdHIgLSBTZXR0aW5nIGZvciBwb3B1cCwgZXgpICd3aWR0aD02NDAsaGVpZ2h0PTMyMCxzY3JvbGxiYXJzPXllcydcblx0ICogQHJldHVybnMge1dpbmRvd30gV2luZG93IGNvbnRleHQgb2YgcG9wdXBcblx0ICogQHByaXZhdGVcblx0ICovXG5cdFBvcHVwLnByb3RvdHlwZS5fb3BlbiA9IGZ1bmN0aW9uKHVzZUlFUG9zdEJyaWRnZSwgcGFyYW0sIHVybCwgcG9wdXBOYW1lLCBvcHRpb25TdHIpIHtcblx0ICAgIHZhciBwb3B1cDtcblxuXHQgICAgaWYgKHVzZUlFUG9zdEJyaWRnZSkge1xuXHQgICAgICAgIHBvcHVwID0gd2luZG93Lm9wZW4odGhpcy5wb3N0QnJpZGdlVXJsLCBwb3B1cE5hbWUsIG9wdGlvblN0cik7XG5cdCAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcG9wdXAucmVkaXJlY3QodXJsLCBwYXJhbSk7XG5cdCAgICAgICAgfSwgMTAwKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcG9wdXAgPSB3aW5kb3cub3Blbih1cmwsIHBvcHVwTmFtZSwgb3B0aW9uU3RyKTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHBvcHVwO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gbmV3IFBvcHVwKCk7XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBAZmlsZW92ZXJ2aWV3IFRoaXMgbW9kdWxlIGhhcyBhIGZ1bmN0aW9uIGZvciBkYXRlIGZvcm1hdC5cblx0ICogQGF1dGhvciBOSE4uXG5cdCAqICAgICAgICAgRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG5cdCAqL1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciBvYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cdHZhciB0b2tlbnMgPSAvW1xcXFxdKllZWVl8W1xcXFxdKllZfFtcXFxcXSpNTU1NfFtcXFxcXSpNTU18W1xcXFxdKk1NfFtcXFxcXSpNfFtcXFxcXSpERHxbXFxcXF0qRHxbXFxcXF0qSEh8W1xcXFxdKkh8W1xcXFxdKkEvZ2k7XG5cdHZhciBNT05USF9TVFIgPSBbXG5cdCAgICAnSW52YWxpZCBtb250aCcsICdKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsXG5cdCAgICAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlcidcblx0XTtcblx0dmFyIE1PTlRIX0RBWVMgPSBbMCwgMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XG5cdHZhciByZXBsYWNlTWFwID0ge1xuXHQgICAgTTogZnVuY3Rpb24oZGF0ZSkge1xuXHQgICAgICAgIHJldHVybiBOdW1iZXIoZGF0ZS5tb250aCk7XG5cdCAgICB9LFxuXHQgICAgTU06IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICB2YXIgbW9udGggPSBkYXRlLm1vbnRoO1xuXG5cdCAgICAgICAgcmV0dXJuIChOdW1iZXIobW9udGgpIDwgMTApID8gJzAnICsgbW9udGggOiBtb250aDtcblx0ICAgIH0sXG5cdCAgICBNTU06IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICByZXR1cm4gTU9OVEhfU1RSW051bWJlcihkYXRlLm1vbnRoKV0uc3Vic3RyKDAsIDMpO1xuXHQgICAgfSxcblx0ICAgIE1NTU06IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICByZXR1cm4gTU9OVEhfU1RSW051bWJlcihkYXRlLm1vbnRoKV07XG5cdCAgICB9LFxuXHQgICAgRDogZnVuY3Rpb24oZGF0ZSkge1xuXHQgICAgICAgIHJldHVybiBOdW1iZXIoZGF0ZS5kYXRlKTtcblx0ICAgIH0sXG5cdCAgICBkOiBmdW5jdGlvbihkYXRlKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlcGxhY2VNYXAuRChkYXRlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuZXctY2FwXG5cdCAgICB9LFxuXHQgICAgREQ6IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICB2YXIgZGF5SW5Nb250aCA9IGRhdGUuZGF0ZTtcblxuXHQgICAgICAgIHJldHVybiAoTnVtYmVyKGRheUluTW9udGgpIDwgMTApID8gJzAnICsgZGF5SW5Nb250aCA6IGRheUluTW9udGg7XG5cdCAgICB9LFxuXHQgICAgZGQ6IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICByZXR1cm4gcmVwbGFjZU1hcC5ERChkYXRlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuZXctY2FwXG5cdCAgICB9LFxuXHQgICAgWVk6IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICByZXR1cm4gTnVtYmVyKGRhdGUueWVhcikgJSAxMDA7XG5cdCAgICB9LFxuXHQgICAgeXk6IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICByZXR1cm4gcmVwbGFjZU1hcC5ZWShkYXRlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuZXctY2FwXG5cdCAgICB9LFxuXHQgICAgWVlZWTogZnVuY3Rpb24oZGF0ZSkge1xuXHQgICAgICAgIHZhciBwcmVmaXggPSAnMjAnLFxuXHQgICAgICAgICAgICB5ZWFyID0gZGF0ZS55ZWFyO1xuXHQgICAgICAgIGlmICh5ZWFyID4gNjkgJiYgeWVhciA8IDEwMCkge1xuXHQgICAgICAgICAgICBwcmVmaXggPSAnMTknO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiAoTnVtYmVyKHllYXIpIDwgMTAwKSA/IHByZWZpeCArIFN0cmluZyh5ZWFyKSA6IHllYXI7XG5cdCAgICB9LFxuXHQgICAgeXl5eTogZnVuY3Rpb24oZGF0ZSkge1xuXHQgICAgICAgIHJldHVybiByZXBsYWNlTWFwLllZWVkoZGF0ZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbmV3LWNhcFxuXHQgICAgfSxcblx0ICAgIEE6IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICByZXR1cm4gZGF0ZS5tZXJpZGllbTtcblx0ICAgIH0sXG5cdCAgICBhOiBmdW5jdGlvbihkYXRlKSB7XG5cdCAgICAgICAgcmV0dXJuIGRhdGUubWVyaWRpZW07XG5cdCAgICB9LFxuXHQgICAgaGg6IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICB2YXIgaG91ciA9IGRhdGUuaG91cjtcblxuXHQgICAgICAgIHJldHVybiAoTnVtYmVyKGhvdXIpIDwgMTApID8gJzAnICsgaG91ciA6IGhvdXI7XG5cdCAgICB9LFxuXHQgICAgSEg6IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICByZXR1cm4gcmVwbGFjZU1hcC5oaChkYXRlKTtcblx0ICAgIH0sXG5cdCAgICBoOiBmdW5jdGlvbihkYXRlKSB7XG5cdCAgICAgICAgcmV0dXJuIFN0cmluZyhOdW1iZXIoZGF0ZS5ob3VyKSk7XG5cdCAgICB9LFxuXHQgICAgSDogZnVuY3Rpb24oZGF0ZSkge1xuXHQgICAgICAgIHJldHVybiByZXBsYWNlTWFwLmgoZGF0ZSk7XG5cdCAgICB9LFxuXHQgICAgbTogZnVuY3Rpb24oZGF0ZSkge1xuXHQgICAgICAgIHJldHVybiBTdHJpbmcoTnVtYmVyKGRhdGUubWludXRlKSk7XG5cdCAgICB9LFxuXHQgICAgbW06IGZ1bmN0aW9uKGRhdGUpIHtcblx0ICAgICAgICB2YXIgbWludXRlID0gZGF0ZS5taW51dGU7XG5cblx0ICAgICAgICByZXR1cm4gKE51bWJlcihtaW51dGUpIDwgMTApID8gJzAnICsgbWludXRlIDogbWludXRlO1xuXHQgICAgfVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZXMgYXJlIHZhbGlkIGRhdGUgb3Igbm90LlxuXHQgKiBAcGFyYW0ge251bWJlcn0geWVhciAtIFllYXJcblx0ICogQHBhcmFtIHtudW1iZXJ9IG1vbnRoIC0gTW9udGhcblx0ICogQHBhcmFtIHtudW1iZXJ9IGRhdGUgLSBEYXkgaW4gbW9udGguXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBJcyB2YWxpZD9cblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGlzVmFsaWREYXRlKHllYXIsIG1vbnRoLCBkYXRlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29tcGxleGl0eVxuXHQgICAgdmFyIGlzVmFsaWRZZWFyLCBpc1ZhbGlkTW9udGgsIGlzVmFsaWQsIGxhc3REYXlJbk1vbnRoO1xuXG5cdCAgICB5ZWFyID0gTnVtYmVyKHllYXIpO1xuXHQgICAgbW9udGggPSBOdW1iZXIobW9udGgpO1xuXHQgICAgZGF0ZSA9IE51bWJlcihkYXRlKTtcblxuXHQgICAgaXNWYWxpZFllYXIgPSAoeWVhciA+IC0xICYmIHllYXIgPCAxMDApIHx8ICgoeWVhciA+IDE5NjkpICYmICh5ZWFyIDwgMjA3MCkpO1xuXHQgICAgaXNWYWxpZE1vbnRoID0gKG1vbnRoID4gMCkgJiYgKG1vbnRoIDwgMTMpO1xuXG5cdCAgICBpZiAoIWlzVmFsaWRZZWFyIHx8ICFpc1ZhbGlkTW9udGgpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGxhc3REYXlJbk1vbnRoID0gTU9OVEhfREFZU1ttb250aF07XG5cdCAgICBpZiAobW9udGggPT09IDIgJiYgeWVhciAlIDQgPT09IDApIHtcblx0ICAgICAgICBpZiAoeWVhciAlIDEwMCAhPT0gMCB8fCB5ZWFyICUgNDAwID09PSAwKSB7XG5cdCAgICAgICAgICAgIGxhc3REYXlJbk1vbnRoID0gMjk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBpc1ZhbGlkID0gKGRhdGUgPiAwKSAmJiAoZGF0ZSA8PSBsYXN0RGF5SW5Nb250aCk7XG5cblx0ICAgIHJldHVybiBpc1ZhbGlkO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybiBhIHN0cmluZyB0aGF0IHRyYW5zZm9ybWVkIGZyb20gdGhlIGdpdmVuIGZvcm0gYW5kIGRhdGUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtIC0gRGF0ZSBmb3JtXG5cdCAqIEBwYXJhbSB7RGF0ZXxPYmplY3R9IGRhdGUgLSBEYXRlIG9iamVjdFxuXHQgKiBAcGFyYW0ge3ttZXJpZGllbVNldDoge0FNOiBzdHJpbmcsIFBNOiBzdHJpbmd9fX0gb3B0aW9uIC0gT3B0aW9uXG5cdCAqIEByZXR1cm5zIHtib29sZWFufHN0cmluZ30gQSB0cmFuc2Zvcm1lZCBzdHJpbmcgb3IgZmFsc2UuXG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKiBAZXhhbXBsZVxuXHQgKiAgLy8ga2V5ICAgICAgICAgICAgIHwgU2hvcnRoYW5kXG5cdCAqICAvLyAtLS0tLS0tLS0tLS0tLS0gfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdCAqICAvLyB5ZWFycyAgICAgICAgICAgfCBZWSAvIFlZWVkgLyB5eSAvIHl5eXlcblx0ICogIC8vIG1vbnRocyhuKSAgICAgICB8IE0gLyBNTVxuXHQgKiAgLy8gbW9udGhzKHN0cikgICAgIHwgTU1NIC8gTU1NTVxuXHQgKiAgLy8gZGF5cyAgICAgICAgICAgIHwgRCAvIEREIC8gZCAvIGRkXG5cdCAqICAvLyBob3VycyAgICAgICAgICAgfCBIIC8gSEggLyBoIC8gaGhcblx0ICogIC8vIG1pbnV0ZXMgICAgICAgICB8IG0gLyBtbVxuXHQgKiAgLy8gbWVyaWRpZW0oQU0sUE0pIHwgQSAvIGFcblx0ICpcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciB1dGlsID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgdXRpbCA9IHR1aS51dGlsOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgZGF0ZVN0cjEgPSB1dGlsLmZvcm1hdERhdGUoJ3l5eXktTU0tZGQnLCB7XG5cdCAqICAgICB5ZWFyOiAyMDE0LFxuXHQgKiAgICAgbW9udGg6IDEyLFxuXHQgKiAgICAgZGF0ZTogMTJcblx0ICogfSk7XG5cdCAqIGFsZXJ0KGRhdGVTdHIxKTsgLy8gJzIwMTQtMTItMTInXG5cdCAqXG5cdCAqIHZhciBkYXRlU3RyMiA9IHV0aWwuZm9ybWF0RGF0ZSgnTU1NIEREIFlZWVkgSEg6bW0nLCB7XG5cdCAqICAgICB5ZWFyOiAxOTk5LFxuXHQgKiAgICAgbW9udGg6IDksXG5cdCAqICAgICBkYXRlOiA5LFxuXHQgKiAgICAgaG91cjogMCxcblx0ICogICAgIG1pbnV0ZTogMlxuXHQgKiB9KTtcblx0ICogYWxlcnQoZGF0ZVN0cjIpOyAvLyAnU2VwIDA5IDE5OTkgMDA6MDInXG5cdCAqXG5cdCAqIHZhciBkdCA9IG5ldyBEYXRlKDIwMTAsIDIsIDEzKSxcblx0ICogICAgIGRhdGVTdHIzID0gdXRpbC5mb3JtYXREYXRlKCd5eXl564WEIE3sm5QgZGTsnbwnLCBkdCk7XG5cdCAqIGFsZXJ0KGRhdGVTdHIzKTsgLy8gJzIwMTDrhYQgM+yblCAxM+ydvCdcblx0ICpcblx0ICogdmFyIG9wdGlvbjQgPSB7XG5cdCAqICAgICBtZXJpZGllbVNldDoge1xuXHQgKiAgICAgICAgIEFNOiAn7Jik7KCEJyxcblx0ICogICAgICAgICBQTTogJ+yYpO2bhCdcblx0ICogICAgIH1cblx0ICogfTtcblx0ICogdmFyIGRhdGU0ID0ge3llYXI6IDE5OTksIG1vbnRoOiA5LCBkYXRlOiA5LCBob3VyOiAxMywgbWludXRlOiAyfTtcblx0ICogdmFyIGRhdGVTdHI0ID0gdXRpbC5mb3JtYXREYXRlKCd5eXl5LU1NLWRkIEEgaGg6bW0nLCBkYXRlNCwgb3B0aW9uNCkpO1xuXHQgKiBhbGVydChkYXRlU3RyNCk7IC8vICcxOTk5LTA5LTA5IOyYpO2bhCAwMTowMidcblx0ICovXG5cdGZ1bmN0aW9uIGZvcm1hdERhdGUoZm9ybSwgZGF0ZSwgb3B0aW9uKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29tcGxleGl0eVxuXHQgICAgdmFyIGFtID0gb2JqZWN0LnBpY2sob3B0aW9uLCAnbWVyaWRpZW1TZXQnLCAnQU0nKSB8fCAnQU0nO1xuXHQgICAgdmFyIHBtID0gb2JqZWN0LnBpY2sob3B0aW9uLCAnbWVyaWRpZW1TZXQnLCAnUE0nKSB8fCAnUE0nO1xuXHQgICAgdmFyIG1lcmlkaWVtLCBuRGF0ZSwgcmVzdWx0U3RyO1xuXG5cdCAgICBpZiAodHlwZS5pc0RhdGUoZGF0ZSkpIHtcblx0ICAgICAgICBuRGF0ZSA9IHtcblx0ICAgICAgICAgICAgeWVhcjogZGF0ZS5nZXRGdWxsWWVhcigpLFxuXHQgICAgICAgICAgICBtb250aDogZGF0ZS5nZXRNb250aCgpICsgMSxcblx0ICAgICAgICAgICAgZGF0ZTogZGF0ZS5nZXREYXRlKCksXG5cdCAgICAgICAgICAgIGhvdXI6IGRhdGUuZ2V0SG91cnMoKSxcblx0ICAgICAgICAgICAgbWludXRlOiBkYXRlLmdldE1pbnV0ZXMoKVxuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIG5EYXRlID0ge1xuXHQgICAgICAgICAgICB5ZWFyOiBkYXRlLnllYXIsXG5cdCAgICAgICAgICAgIG1vbnRoOiBkYXRlLm1vbnRoLFxuXHQgICAgICAgICAgICBkYXRlOiBkYXRlLmRhdGUsXG5cdCAgICAgICAgICAgIGhvdXI6IGRhdGUuaG91cixcblx0ICAgICAgICAgICAgbWludXRlOiBkYXRlLm1pbnV0ZVxuXHQgICAgICAgIH07XG5cdCAgICB9XG5cblx0ICAgIGlmICghaXNWYWxpZERhdGUobkRhdGUueWVhciwgbkRhdGUubW9udGgsIG5EYXRlLmRhdGUpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBuRGF0ZS5tZXJpZGllbSA9ICcnO1xuXHQgICAgaWYgKC8oW15cXFxcXXxeKVthQV1cXGIvLnRlc3QoZm9ybSkpIHtcblx0ICAgICAgICBtZXJpZGllbSA9IChuRGF0ZS5ob3VyID4gMTEpID8gcG0gOiBhbTtcblx0ICAgICAgICBpZiAobkRhdGUuaG91ciA+IDEyKSB7IC8vIFNlZSB0aGUgY2xvY2sgc3lzdGVtOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS8xMi1ob3VyX2Nsb2NrXG5cdCAgICAgICAgICAgIG5EYXRlLmhvdXIgJT0gMTI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChuRGF0ZS5ob3VyID09PSAwKSB7XG5cdCAgICAgICAgICAgIG5EYXRlLmhvdXIgPSAxMjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgbkRhdGUubWVyaWRpZW0gPSBtZXJpZGllbTtcblx0ICAgIH1cblxuXHQgICAgcmVzdWx0U3RyID0gZm9ybS5yZXBsYWNlKHRva2VucywgZnVuY3Rpb24oa2V5KSB7XG5cdCAgICAgICAgaWYgKGtleS5pbmRleE9mKCdcXFxcJykgPiAtMSkgeyAvLyBlc2NhcGUgY2hhcmFjdGVyXG5cdCAgICAgICAgICAgIHJldHVybiBrZXkucmVwbGFjZSgvXFxcXC8sICcnKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gcmVwbGFjZU1hcFtrZXldKG5EYXRlKSB8fCAnJztcblx0ICAgIH0pO1xuXG5cdCAgICByZXR1cm4gcmVzdWx0U3RyO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmb3JtYXREYXRlO1xuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogQGZpbGVvdmVydmlld1xuXHQgKiAgVGhpcyBtb2R1bGUgcHJvdmlkZXMgYSBmdW5jdGlvbiB0byBtYWtlIGEgY29uc3RydWN0b3Jcblx0ICogdGhhdCBjYW4gaW5oZXJpdCBmcm9tIHRoZSBvdGhlciBjb25zdHJ1Y3RvcnMgbGlrZSB0aGUgQ0xBU1MgZWFzaWx5LlxuXHQgKiBAYXV0aG9yIE5ITi5cblx0ICogICAgICAgICBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cblx0ICovXG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBpbmhlcml0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KS5pbmhlcml0O1xuXHR2YXIgZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKS5leHRlbmQ7XG5cblx0LyoqXG5cdCAqIEhlbHAgYSBjb25zdHJ1Y3RvciB0byBiZSBkZWZpbmVkIGFuZCB0byBpbmhlcml0IGZyb20gdGhlIG90aGVyIGNvbnN0cnVjdG9yc1xuXHQgKiBAcGFyYW0geyp9IFtwYXJlbnRdIFBhcmVudCBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgTWVtYmVycyBvZiBjb25zdHJ1Y3RvclxuXHQgKiAgQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMuaW5pdCBJbml0aWFsaXphdGlvbiBtZXRob2Rcblx0ICogIEBwYXJhbSB7T2JqZWN0fSBbcHJvcHMuc3RhdGljXSBTdGF0aWMgbWVtYmVycyBvZiBjb25zdHJ1Y3RvclxuXHQgKiBAcmV0dXJucyB7Kn0gQ29uc3RydWN0b3Jcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgdXRpbCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIHV0aWwgPSB0dWkudXRpbDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdmFyIFBhcmVudCA9IHV0aWwuZGVmaW5lQ2xhc3Moe1xuXHQgKiAgICAgaW5pdDogZnVuY3Rpb24oKSB7IC8vIGNvbnN0dXJ1Y3RvclxuXHQgKiAgICAgICAgIHRoaXMubmFtZSA9ICdtYWRlIGJ5IGRlZic7XG5cdCAqICAgICB9LFxuXHQgKiAgICAgbWV0aG9kOiBmdW5jdGlvbigpIHtcblx0ICogICAgICAgICAvLyAuLi5cblx0ICogICAgIH0sXG5cdCAqICAgICBzdGF0aWM6IHtcblx0ICogICAgICAgICBzdGF0aWNNZXRob2Q6IGZ1bmN0aW9uKCkge1xuXHQgKiAgICAgICAgICAgICAgLy8gLi4uXG5cdCAqICAgICAgICAgfVxuXHQgKiAgICAgfVxuXHQgKiB9KTtcblx0ICpcblx0ICogdmFyIENoaWxkID0gdXRpbC5kZWZpbmVDbGFzcyhQYXJlbnQsIHtcblx0ICogICAgIGNoaWxkTWV0aG9kOiBmdW5jdGlvbigpIHt9XG5cdCAqIH0pO1xuXHQgKlxuXHQgKiBQYXJlbnQuc3RhdGljTWV0aG9kKCk7XG5cdCAqXG5cdCAqIHZhciBwYXJlbnRJbnN0YW5jZSA9IG5ldyBQYXJlbnQoKTtcblx0ICogY29uc29sZS5sb2cocGFyZW50SW5zdGFuY2UubmFtZSk7IC8vbWFkZSBieSBkZWZcblx0ICogcGFyZW50SW5zdGFuY2Uuc3RhdGljTWV0aG9kKCk7IC8vIEVycm9yXG5cdCAqXG5cdCAqIHZhciBjaGlsZEluc3RhbmNlID0gbmV3IENoaWxkKCk7XG5cdCAqIGNoaWxkSW5zdGFuY2UubWV0aG9kKCk7XG5cdCAqIGNoaWxkSW5zdGFuY2UuY2hpbGRNZXRob2QoKTtcblx0ICovXG5cdGZ1bmN0aW9uIGRlZmluZUNsYXNzKHBhcmVudCwgcHJvcHMpIHtcblx0ICAgIHZhciBvYmo7XG5cblx0ICAgIGlmICghcHJvcHMpIHtcblx0ICAgICAgICBwcm9wcyA9IHBhcmVudDtcblx0ICAgICAgICBwYXJlbnQgPSBudWxsO1xuXHQgICAgfVxuXG5cdCAgICBvYmogPSBwcm9wcy5pbml0IHx8IGZ1bmN0aW9uKCkge307XG5cblx0ICAgIGlmIChwYXJlbnQpIHtcblx0ICAgICAgICBpbmhlcml0KG9iaiwgcGFyZW50KTtcblx0ICAgIH1cblxuXHQgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KCdzdGF0aWMnKSkge1xuXHQgICAgICAgIGV4dGVuZChvYmosIHByb3BzWydzdGF0aWMnXSk7XG5cdCAgICAgICAgZGVsZXRlIHByb3BzWydzdGF0aWMnXTtcblx0ICAgIH1cblxuXHQgICAgZXh0ZW5kKG9iai5wcm90b3R5cGUsIHByb3BzKTtcblxuXHQgICAgcmV0dXJuIG9iajtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0gZGVmaW5lQ2xhc3M7XG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBAZmlsZW92ZXJ2aWV3IERlZmluZSBtb2R1bGVcblx0ICogQGF1dGhvciBOSE4uXG5cdCAqICAgICAgICAgRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZzY3JpcHRAbmhuLmNvbT5cblx0ICogQGRlcGVuZGVuY3kgdHlwZS5qcywgZGVmaW5lTmFtZXNwYWNlLmpzXG5cdCAqL1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgZGVmaW5lTmFtZXNwYWNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdHZhciB0eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgSU5JVElBTElaQVRJT05fTUVUSE9EX05BTUUgPSAnaW5pdGlhbGl6ZSc7XG5cblx0LyoqXG5cdCAqIERlZmluZSBtb2R1bGVcblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWVzcGFjZSAtIE5hbWVzcGFjZSBvZiBtb2R1bGVcblx0ICogQHBhcmFtIHtPYmplY3R9IG1vZHVsZURlZmluaXRpb24gLSBPYmplY3QgbGl0ZXJhbCBmb3IgbW9kdWxlXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IERlZmluZWQgbW9kdWxlXG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKiBAZXhhbXBsZVxuXHQgICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciB1dGlsID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgdXRpbCA9IHR1aS51dGlsOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgbXlNb2R1bGUgPSB1dGlsLmRlZmluZU1vZHVsZSgnbW9kdWxlcy5teU1vZHVsZScsIHtcblx0ICogICAgIG5hbWU6ICdqb2huJyxcblx0ICogICAgIG1lc3NhZ2U6ICcnLFxuXHQgKiAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdCAqICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnaGVsbG8gd29ybGQnO1xuXHQgKiAgICAgfSxcblx0ICogICAgIGdldE1lc3NhZ2U6IGZ1bmN0aW9uKCkge1xuXHQgKiAgICAgICAgIHJldHVybiB0aGlzLm5hbWUgKyAnOiAnICsgdGhpcy5tZXNzYWdlXG5cdCAqICAgICB9XG5cdCAqIH0pO1xuXHQgKlxuXHQgKiBjb25zb2xlLmxvZyhteU1vZHVsZS5nZXRNZXNzYWdlKCkpOyAgLy8gJ2pvaG46IGhlbGxvIHdvcmxkJztcblx0ICovXG5cdGZ1bmN0aW9uIGRlZmluZU1vZHVsZShuYW1lc3BhY2UsIG1vZHVsZURlZmluaXRpb24pIHtcblx0ICAgIHZhciBiYXNlID0gbW9kdWxlRGVmaW5pdGlvbiB8fCB7fTtcblxuXHQgICAgaWYgKHR5cGUuaXNGdW5jdGlvbihiYXNlW0lOSVRJQUxJWkFUSU9OX01FVEhPRF9OQU1FXSkpIHtcblx0ICAgICAgICBiYXNlW0lOSVRJQUxJWkFUSU9OX01FVEhPRF9OQU1FXSgpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gZGVmaW5lTmFtZXNwYWNlKG5hbWVzcGFjZSwgYmFzZSk7XG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGRlZmluZU1vZHVsZTtcblxuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIEBmaWxlb3ZlcnZpZXcgRGVmaW5lIG5hbWVzcGFjZVxuXHQgKiBAYXV0aG9yIE5ITi5cblx0ICogICAgICAgICBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cblx0ICogQGRlcGVuZGVuY3kgb2JqZWN0LmpzLCBjb2xsZWN0aW9uLmpzXG5cdCAqL1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgY29sbGVjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciBvYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cdC8qKlxuXHQgKiBEZWZpbmUgbmFtZXNwYWNlXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lc3BhY2UgLSBOYW1lc3BhY2UgKGV4LSAnZm9vLmJhci5iYXonKVxuXHQgKiBAcGFyYW0geyhvYmplY3R8ZnVuY3Rpb24pfSBwcm9wcyAtIEEgc2V0IG9mIG1vZHVsZXMgb3Igb25lIG1vZHVsZVxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc092ZXJyaWRlXSAtIE92ZXJyaWRlIHRoZSBwcm9wcyB0byB0aGUgbmFtZXNwYWNlLjxicj5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEl0IHJlbW92ZXMgcHJldmlvdXMgcHJvcGVydGllcyBvZiB0aGlzIG5hbWVzcGFjZSlcblx0ICogQHJldHVybnMgeyhvYmplY3R8ZnVuY3Rpb24pfSBEZWZpbmVkIG5hbWVzcGFjZVxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciB1dGlsID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgdXRpbCA9IHR1aS51dGlsOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgbmVDb21wID0gdXRpbC5kZWZpbmVOYW1lc3BhY2U7XG5cdCAqIG5lQ29tcC5saXN0TWVudSA9IGRlZmluZUNsYXNzKHtcblx0ICogICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuXHQgKiAgICAgICAgIC8vIC4uLlxuXHQgKiAgICAgfVxuXHQgKiB9KTtcblx0ICovXG5cdGZ1bmN0aW9uIGRlZmluZU5hbWVzcGFjZShuYW1lc3BhY2UsIHByb3BzLCBpc092ZXJyaWRlKSB7XG5cdCAgICB2YXIgbmFtZXMsIHJlc3VsdCwgcHJldkxhc3QsIGxhc3Q7XG5cblx0ICAgIG5hbWVzID0gbmFtZXNwYWNlLnNwbGl0KCcuJyk7XG5cdCAgICBuYW1lcy51bnNoaWZ0KHdpbmRvdyk7XG5cblx0ICAgIHJlc3VsdCA9IGNvbGxlY3Rpb24ucmVkdWNlKG5hbWVzLCBmdW5jdGlvbihvYmosIG5hbWUpIHtcblx0ICAgICAgICBvYmpbbmFtZV0gPSBvYmpbbmFtZV0gfHwge307XG5cblx0ICAgICAgICByZXR1cm4gb2JqW25hbWVdO1xuXHQgICAgfSk7XG5cblx0ICAgIGlmIChpc092ZXJyaWRlKSB7XG5cdCAgICAgICAgbGFzdCA9IG5hbWVzLnBvcCgpO1xuXHQgICAgICAgIHByZXZMYXN0ID0gb2JqZWN0LnBpY2suYXBwbHkobnVsbCwgbmFtZXMpO1xuXHQgICAgICAgIHJlc3VsdCA9IHByZXZMYXN0W2xhc3RdID0gcHJvcHM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIG9iamVjdC5leHRlbmQocmVzdWx0LCBwcm9wcyk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGRlZmluZU5hbWVzcGFjZTtcblxuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIEBmaWxlb3ZlcnZpZXdcblx0ICogIFRoaXMgbW9kdWxlIHByb3ZpZGVzIHNvbWUgZnVuY3Rpb25zIGZvciBjdXN0b20gZXZlbnRzLjxicj5cblx0ICogIEFuZCBpdCBpcyBpbXBsZW1lbnRlZCBpbiB0aGUgb2JzZXJ2ZXIgZGVzaWduIHBhdHRlcm4uXG5cdCAqIEBhdXRob3IgTkhOLlxuXHQgKiAgICAgICAgIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuXHQgKi9cblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNvbGxlY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciBvYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cdHZhciBSX0VWRU5UTkFNRV9TUExJVCA9IC9cXHMrL2c7XG5cblx0LyoqXG5cdCAqIEEgdW5pdCBvZiBldmVudCBoYW5kbGVyIGl0ZW0uXG5cdCAqIEBpZ25vcmVcblx0ICogQHR5cGVkZWYge29iamVjdH0gSGFuZGxlckl0ZW1cblx0ICogQHByb3BlcnR5IHtmdW5jdGlvbn0gZm4gLSBldmVudCBoYW5kbGVyXG5cdCAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBjdHggLSBjb250ZXh0IG9mIGV2ZW50IGhhbmRsZXJcblx0ICovXG5cblx0LyoqXG5cdCAqIEBjbGFzc1xuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGV4YW1wbGVcblx0ICogLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIEN1c3RvbUV2ZW50cyA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKS5DdXN0b21FdmVudHM7XG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vIGRpc3RyaWJ1dGlvbiBmaWxlLCBzY3JpcHRcblx0ICogPHNjcmlwdCBzcmM9J3BhdGgtdG8vdHVpLWNvZGUtc25pcHB0LmpzJz48L3NjcmlwdD5cblx0ICogPHNjcmlwdD5cblx0ICogdmFyIEN1c3RvbUV2ZW50cyA9IHR1aS51dGlsLkN1c3RvbUV2ZW50cztcblx0ICogPC9zY3JpcHQ+XG5cdCAqL1xuXHRmdW5jdGlvbiBDdXN0b21FdmVudHMoKSB7XG5cdCAgICAvKipcblx0ICAgICAqIEB0eXBlIHtIYW5kbGVySXRlbVtdfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmV2ZW50cyA9IG51bGw7XG5cblx0ICAgIC8qKlxuXHQgICAgICogb25seSBmb3IgY2hlY2tpbmcgc3BlY2lmaWMgY29udGV4dCBldmVudCB3YXMgYmluZGVkXG5cdCAgICAgKiBAdHlwZSB7b2JqZWN0W119XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY29udGV4dHMgPSBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1peGluIGN1c3RvbSBldmVudHMgZmVhdHVyZSB0byBzcGVjaWZpYyBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIC0gY29uc3RydWN0b3Jcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciBDdXN0b21FdmVudHMgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0JykuQ3VzdG9tRXZlbnRzOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgQ3VzdG9tRXZlbnRzID0gdHVpLnV0aWwuQ3VzdG9tRXZlbnRzOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgbW9kZWw7XG5cdCAqIGZ1bmN0aW9uIE1vZGVsKCkge1xuXHQgKiAgICAgdGhpcy5uYW1lID0gJyc7XG5cdCAqIH1cblx0ICogQ3VzdG9tRXZlbnRzLm1peGluKE1vZGVsKTtcblx0ICpcblx0ICogbW9kZWwgPSBuZXcgTW9kZWwoKTtcblx0ICogbW9kZWwub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkgeyB0aGlzLm5hbWUgPSAnbW9kZWwnOyB9LCB0aGlzKTtcblx0ICogbW9kZWwuZmlyZSgnY2hhbmdlJyk7XG5cdCAqIGFsZXJ0KG1vZGVsLm5hbWUpOyAvLyAnbW9kZWwnO1xuXHQgKi9cblx0Q3VzdG9tRXZlbnRzLm1peGluID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgb2JqZWN0LmV4dGVuZChmdW5jLnByb3RvdHlwZSwgQ3VzdG9tRXZlbnRzLnByb3RvdHlwZSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldCBIYW5kbGVySXRlbSBvYmplY3Rcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb25cblx0ICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XSAtIGNvbnRleHQgZm9yIGhhbmRsZXJcblx0ICogQHJldHVybnMge0hhbmRsZXJJdGVtfSBIYW5kbGVySXRlbSBvYmplY3Rcblx0ICogQHByaXZhdGVcblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX2dldEhhbmRsZXJJdGVtID0gZnVuY3Rpb24oaGFuZGxlciwgY29udGV4dCkge1xuXHQgICAgdmFyIGl0ZW0gPSB7aGFuZGxlcjogaGFuZGxlcn07XG5cblx0ICAgIGlmIChjb250ZXh0KSB7XG5cdCAgICAgICAgaXRlbS5jb250ZXh0ID0gY29udGV4dDtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGl0ZW07XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldCBldmVudCBvYmplY3Qgc2FmZWx5XG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBbZXZlbnROYW1lXSAtIGNyZWF0ZSBzdWIgZXZlbnQgbWFwIGlmIG5vdCBleGlzdC5cblx0ICogQHJldHVybnMgeyhvYmplY3R8YXJyYXkpfSBldmVudCBvYmplY3QuIGlmIHlvdSBzdXBwbGllZCBgZXZlbnROYW1lYFxuXHQgKiAgcGFyYW1ldGVyIHRoZW4gbWFrZSBuZXcgYXJyYXkgYW5kIHJldHVybiBpdFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0Q3VzdG9tRXZlbnRzLnByb3RvdHlwZS5fc2FmZUV2ZW50ID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG5cdCAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHM7XG5cdCAgICB2YXIgYnlOYW1lO1xuXG5cdCAgICBpZiAoIWV2ZW50cykge1xuXHQgICAgICAgIGV2ZW50cyA9IHRoaXMuZXZlbnRzID0ge307XG5cdCAgICB9XG5cblx0ICAgIGlmIChldmVudE5hbWUpIHtcblx0ICAgICAgICBieU5hbWUgPSBldmVudHNbZXZlbnROYW1lXTtcblxuXHQgICAgICAgIGlmICghYnlOYW1lKSB7XG5cdCAgICAgICAgICAgIGJ5TmFtZSA9IFtdO1xuXHQgICAgICAgICAgICBldmVudHNbZXZlbnROYW1lXSA9IGJ5TmFtZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBldmVudHMgPSBieU5hbWU7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBldmVudHM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldCBjb250ZXh0IGFycmF5IHNhZmVseVxuXHQgKiBAcmV0dXJucyB7YXJyYXl9IGNvbnRleHQgYXJyYXlcblx0ICogQHByaXZhdGVcblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX3NhZmVDb250ZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dHM7XG5cblx0ICAgIGlmICghY29udGV4dCkge1xuXHQgICAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHRzID0gW107XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBjb250ZXh0O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXQgaW5kZXggb2YgY29udGV4dFxuXHQgKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gY29udGV4dCB0aGF0IHVzZWQgZm9yIGJpbmQgY3VzdG9tIGV2ZW50XG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IGluZGV4IG9mIGNvbnRleHRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX2luZGV4T2ZDb250ZXh0ID0gZnVuY3Rpb24oY3R4KSB7XG5cdCAgICB2YXIgY29udGV4dCA9IHRoaXMuX3NhZmVDb250ZXh0KCk7XG5cdCAgICB2YXIgaW5kZXggPSAwO1xuXG5cdCAgICB3aGlsZSAoY29udGV4dFtpbmRleF0pIHtcblx0ICAgICAgICBpZiAoY3R4ID09PSBjb250ZXh0W2luZGV4XVswXSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaW5kZXggKz0gMTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIC0xO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBNZW1vcml6ZSBzdXBwbGllZCBjb250ZXh0IGZvciByZWNvZ25pemUgc3VwcGxpZWQgb2JqZWN0IGlzIGNvbnRleHQgb3Jcblx0ICogIG5hbWU6IGhhbmRsZXIgcGFpciBvYmplY3Qgd2hlbiBvZmYoKVxuXHQgKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gY29udGV4dCBvYmplY3QgdG8gbWVtb3JpemVcblx0ICogQHByaXZhdGVcblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX21lbW9yaXplQ29udGV4dCA9IGZ1bmN0aW9uKGN0eCkge1xuXHQgICAgdmFyIGNvbnRleHQsIGluZGV4O1xuXG5cdCAgICBpZiAoIXR5cGUuaXNFeGlzdHkoY3R4KSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgY29udGV4dCA9IHRoaXMuX3NhZmVDb250ZXh0KCk7XG5cdCAgICBpbmRleCA9IHRoaXMuX2luZGV4T2ZDb250ZXh0KGN0eCk7XG5cblx0ICAgIGlmIChpbmRleCA+IC0xKSB7XG5cdCAgICAgICAgY29udGV4dFtpbmRleF1bMV0gKz0gMTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY29udGV4dC5wdXNoKFtjdHgsIDFdKTtcblx0ICAgIH1cblx0fTtcblxuXHQvKipcblx0ICogRm9yZ2V0IHN1cHBsaWVkIGNvbnRleHQgb2JqZWN0XG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBjdHggLSBjb250ZXh0IG9iamVjdCB0byBmb3JnZXRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX2ZvcmdldENvbnRleHQgPSBmdW5jdGlvbihjdHgpIHtcblx0ICAgIHZhciBjb250ZXh0LCBjb250ZXh0SW5kZXg7XG5cblx0ICAgIGlmICghdHlwZS5pc0V4aXN0eShjdHgpKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICBjb250ZXh0ID0gdGhpcy5fc2FmZUNvbnRleHQoKTtcblx0ICAgIGNvbnRleHRJbmRleCA9IHRoaXMuX2luZGV4T2ZDb250ZXh0KGN0eCk7XG5cblx0ICAgIGlmIChjb250ZXh0SW5kZXggPiAtMSkge1xuXHQgICAgICAgIGNvbnRleHRbY29udGV4dEluZGV4XVsxXSAtPSAxO1xuXG5cdCAgICAgICAgaWYgKGNvbnRleHRbY29udGV4dEluZGV4XVsxXSA8PSAwKSB7XG5cdCAgICAgICAgICAgIGNvbnRleHQuc3BsaWNlKGNvbnRleHRJbmRleCwgMSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBCaW5kIGV2ZW50IGhhbmRsZXJcblx0ICogQHBhcmFtIHsoc3RyaW5nfHtuYW1lOnN0cmluZywgaGFuZGxlcjpmdW5jdGlvbn0pfSBldmVudE5hbWUgLSBjdXN0b21cblx0ICogIGV2ZW50IG5hbWUgb3IgYW4gb2JqZWN0IHtldmVudE5hbWU6IGhhbmRsZXJ9XG5cdCAqIEBwYXJhbSB7KGZ1bmN0aW9ufG9iamVjdCl9IFtoYW5kbGVyXSAtIGhhbmRsZXIgZnVuY3Rpb24gb3IgY29udGV4dFxuXHQgKiBAcGFyYW0ge29iamVjdH0gW2NvbnRleHRdIC0gY29udGV4dCBmb3IgYmluZGluZ1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0Q3VzdG9tRXZlbnRzLnByb3RvdHlwZS5fYmluZEV2ZW50ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBoYW5kbGVyLCBjb250ZXh0KSB7XG5cdCAgICB2YXIgZXZlbnRzID0gdGhpcy5fc2FmZUV2ZW50KGV2ZW50TmFtZSk7XG5cdCAgICB0aGlzLl9tZW1vcml6ZUNvbnRleHQoY29udGV4dCk7XG5cdCAgICBldmVudHMucHVzaCh0aGlzLl9nZXRIYW5kbGVySXRlbShoYW5kbGVyLCBjb250ZXh0KSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEJpbmQgZXZlbnQgaGFuZGxlcnNcblx0ICogQHBhcmFtIHsoc3RyaW5nfHtuYW1lOnN0cmluZywgaGFuZGxlcjpmdW5jdGlvbn0pfSBldmVudE5hbWUgLSBjdXN0b21cblx0ICogIGV2ZW50IG5hbWUgb3IgYW4gb2JqZWN0IHtldmVudE5hbWU6IGhhbmRsZXJ9XG5cdCAqIEBwYXJhbSB7KGZ1bmN0aW9ufG9iamVjdCl9IFtoYW5kbGVyXSAtIGhhbmRsZXIgZnVuY3Rpb24gb3IgY29udGV4dFxuXHQgKiBAcGFyYW0ge29iamVjdH0gW2NvbnRleHRdIC0gY29udGV4dCBmb3IgYmluZGluZ1xuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIEN1c3RvbUV2ZW50cyA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKS5DdXN0b21FdmVudHM7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciBDdXN0b21FdmVudHMgPSB0dWkudXRpbC5DdXN0b21FdmVudHM7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqIC8vICMgMi4xIEJhc2ljIFVzYWdlXG5cdCAqIEN1c3RvbUV2ZW50cy5vbignb25sb2FkJywgaGFuZGxlcik7XG5cdCAqXG5cdCAqIC8vICMgMi4yIFdpdGggY29udGV4dFxuXHQgKiBDdXN0b21FdmVudHMub24oJ29ubG9hZCcsIGhhbmRsZXIsIG15T2JqKTtcblx0ICpcblx0ICogLy8gIyAyLjMgQmluZCBieSBvYmplY3QgdGhhdCBuYW1lLCBoYW5kbGVyIHBhaXJzXG5cdCAqIEN1c3RvbUV2ZW50cy5vbih7XG5cdCAqICAgICAncGxheSc6IGhhbmRsZXIsXG5cdCAqICAgICAncGF1c2UnOiBoYW5kbGVyMlxuXHQgKiB9KTtcblx0ICpcblx0ICogLy8gIyAyLjQgQmluZCBieSBvYmplY3QgdGhhdCBuYW1lLCBoYW5kbGVyIHBhaXJzIHdpdGggY29udGV4dCBvYmplY3Rcblx0ICogQ3VzdG9tRXZlbnRzLm9uKHtcblx0ICogICAgICdwbGF5JzogaGFuZGxlclxuXHQgKiB9LCBteU9iaik7XG5cdCAqL1xuXHRDdXN0b21FdmVudHMucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBoYW5kbGVyLCBjb250ZXh0KSB7XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgIGlmICh0eXBlLmlzU3RyaW5nKGV2ZW50TmFtZSkpIHtcblx0ICAgICAgICAvLyBbc3ludGF4IDEsIDJdXG5cdCAgICAgICAgZXZlbnROYW1lID0gZXZlbnROYW1lLnNwbGl0KFJfRVZFTlROQU1FX1NQTElUKTtcblx0ICAgICAgICBjb2xsZWN0aW9uLmZvckVhY2goZXZlbnROYW1lLCBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgICAgICAgIHNlbGYuX2JpbmRFdmVudChuYW1lLCBoYW5kbGVyLCBjb250ZXh0KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZS5pc09iamVjdChldmVudE5hbWUpKSB7XG5cdCAgICAgICAgLy8gW3N5bnRheCAzLCA0XVxuXHQgICAgICAgIGNvbnRleHQgPSBoYW5kbGVyO1xuXHQgICAgICAgIGNvbGxlY3Rpb24uZm9yRWFjaChldmVudE5hbWUsIGZ1bmN0aW9uKGZ1bmMsIG5hbWUpIHtcblx0ICAgICAgICAgICAgc2VsZi5vbihuYW1lLCBmdW5jLCBjb250ZXh0KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fTtcblxuXHQvKipcblx0ICogQmluZCBvbmUtc2hvdCBldmVudCBoYW5kbGVyc1xuXHQgKiBAcGFyYW0geyhzdHJpbmd8e25hbWU6c3RyaW5nLGhhbmRsZXI6ZnVuY3Rpb259KX0gZXZlbnROYW1lIC0gY3VzdG9tXG5cdCAqICBldmVudCBuYW1lIG9yIGFuIG9iamVjdCB7ZXZlbnROYW1lOiBoYW5kbGVyfVxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufG9iamVjdH0gW2hhbmRsZXJdIC0gaGFuZGxlciBmdW5jdGlvbiBvciBjb250ZXh0XG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBbY29udGV4dF0gLSBjb250ZXh0IGZvciBiaW5kaW5nXG5cdCAqL1xuXHRDdXN0b21FdmVudHMucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudE5hbWUsIGhhbmRsZXIsIGNvbnRleHQpIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgaWYgKHR5cGUuaXNPYmplY3QoZXZlbnROYW1lKSkge1xuXHQgICAgICAgIGNvbnRleHQgPSBoYW5kbGVyO1xuXHQgICAgICAgIGNvbGxlY3Rpb24uZm9yRWFjaChldmVudE5hbWUsIGZ1bmN0aW9uKGZ1bmMsIG5hbWUpIHtcblx0ICAgICAgICAgICAgc2VsZi5vbmNlKG5hbWUsIGZ1bmMsIGNvbnRleHQpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBvbmNlSGFuZGxlcigpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG5cdCAgICAgICAgaGFuZGxlci5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuXHQgICAgICAgIHNlbGYub2ZmKGV2ZW50TmFtZSwgb25jZUhhbmRsZXIsIGNvbnRleHQpO1xuXHQgICAgfVxuXG5cdCAgICB0aGlzLm9uKGV2ZW50TmFtZSwgb25jZUhhbmRsZXIsIGNvbnRleHQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTcGxpY2Ugc3VwcGxpZWQgYXJyYXkgYnkgY2FsbGJhY2sgcmVzdWx0XG5cdCAqIEBwYXJhbSB7YXJyYXl9IGFyciAtIGFycmF5IHRvIHNwbGljZVxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcmVkaWNhdGUgLSBmdW5jdGlvbiByZXR1cm4gYm9vbGVhblxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0Q3VzdG9tRXZlbnRzLnByb3RvdHlwZS5fc3BsaWNlTWF0Y2hlcyA9IGZ1bmN0aW9uKGFyciwgcHJlZGljYXRlKSB7XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB2YXIgbGVuO1xuXG5cdCAgICBpZiAoIXR5cGUuaXNBcnJheShhcnIpKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICBmb3IgKGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuXHQgICAgICAgIGlmIChwcmVkaWNhdGUoYXJyW2ldKSA9PT0gdHJ1ZSkge1xuXHQgICAgICAgICAgICBhcnIuc3BsaWNlKGksIDEpO1xuXHQgICAgICAgICAgICBsZW4gLT0gMTtcblx0ICAgICAgICAgICAgaSAtPSAxO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblxuXHQvKipcblx0ICogR2V0IG1hdGNoZXIgZm9yIHVuYmluZCBzcGVjaWZpYyBoYW5kbGVyIGV2ZW50c1xuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIC0gaGFuZGxlciBmdW5jdGlvblxuXHQgKiBAcmV0dXJucyB7ZnVuY3Rpb259IGhhbmRsZXIgbWF0Y2hlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0Q3VzdG9tRXZlbnRzLnByb3RvdHlwZS5fbWF0Y2hIYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcikge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xuXHQgICAgICAgIHZhciBuZWVkUmVtb3ZlID0gaGFuZGxlciA9PT0gaXRlbS5oYW5kbGVyO1xuXG5cdCAgICAgICAgaWYgKG5lZWRSZW1vdmUpIHtcblx0ICAgICAgICAgICAgc2VsZi5fZm9yZ2V0Q29udGV4dChpdGVtLmNvbnRleHQpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBuZWVkUmVtb3ZlO1xuXHQgICAgfTtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IG1hdGNoZXIgZm9yIHVuYmluZCBzcGVjaWZpYyBjb250ZXh0IGV2ZW50c1xuXHQgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcblx0ICogQHJldHVybnMge2Z1bmN0aW9ufSBvYmplY3QgbWF0Y2hlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0Q3VzdG9tRXZlbnRzLnByb3RvdHlwZS5fbWF0Y2hDb250ZXh0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xuXHQgICAgICAgIHZhciBuZWVkUmVtb3ZlID0gY29udGV4dCA9PT0gaXRlbS5jb250ZXh0O1xuXG5cdCAgICAgICAgaWYgKG5lZWRSZW1vdmUpIHtcblx0ICAgICAgICAgICAgc2VsZi5fZm9yZ2V0Q29udGV4dChpdGVtLmNvbnRleHQpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBuZWVkUmVtb3ZlO1xuXHQgICAgfTtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IG1hdGNoZXIgZm9yIHVuYmluZCBzcGVjaWZpYyBoYW5kZXIsIGNvbnRleHQgcGFpciBldmVudHNcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb25cblx0ICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBjb250ZXh0XG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbn0gaGFuZGxlciwgY29udGV4dCBtYXRjaGVyXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRDdXN0b21FdmVudHMucHJvdG90eXBlLl9tYXRjaEhhbmRsZXJBbmRDb250ZXh0ID0gZnVuY3Rpb24oaGFuZGxlciwgY29udGV4dCkge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xuXHQgICAgICAgIHZhciBtYXRjaEhhbmRsZXIgPSAoaGFuZGxlciA9PT0gaXRlbS5oYW5kbGVyKTtcblx0ICAgICAgICB2YXIgbWF0Y2hDb250ZXh0ID0gKGNvbnRleHQgPT09IGl0ZW0uY29udGV4dCk7XG5cdCAgICAgICAgdmFyIG5lZWRSZW1vdmUgPSAobWF0Y2hIYW5kbGVyICYmIG1hdGNoQ29udGV4dCk7XG5cblx0ICAgICAgICBpZiAobmVlZFJlbW92ZSkge1xuXHQgICAgICAgICAgICBzZWxmLl9mb3JnZXRDb250ZXh0KGl0ZW0uY29udGV4dCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIG5lZWRSZW1vdmU7XG5cdCAgICB9O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBVbmJpbmQgZXZlbnQgYnkgZXZlbnQgbmFtZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gY3VzdG9tIGV2ZW50IG5hbWUgdG8gdW5iaW5kXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyXSAtIGhhbmRsZXIgZnVuY3Rpb25cblx0ICogQHByaXZhdGVcblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX29mZkJ5RXZlbnROYW1lID0gZnVuY3Rpb24oZXZlbnROYW1lLCBoYW5kbGVyKSB7XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICB2YXIgZm9yRWFjaCA9IGNvbGxlY3Rpb24uZm9yRWFjaEFycmF5O1xuXHQgICAgdmFyIGFuZEJ5SGFuZGxlciA9IHR5cGUuaXNGdW5jdGlvbihoYW5kbGVyKTtcblx0ICAgIHZhciBtYXRjaEhhbmRsZXIgPSBzZWxmLl9tYXRjaEhhbmRsZXIoaGFuZGxlcik7XG5cblx0ICAgIGV2ZW50TmFtZSA9IGV2ZW50TmFtZS5zcGxpdChSX0VWRU5UTkFNRV9TUExJVCk7XG5cblx0ICAgIGZvckVhY2goZXZlbnROYW1lLCBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgICAgdmFyIGhhbmRsZXJJdGVtcyA9IHNlbGYuX3NhZmVFdmVudChuYW1lKTtcblxuXHQgICAgICAgIGlmIChhbmRCeUhhbmRsZXIpIHtcblx0ICAgICAgICAgICAgc2VsZi5fc3BsaWNlTWF0Y2hlcyhoYW5kbGVySXRlbXMsIG1hdGNoSGFuZGxlcik7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZm9yRWFjaChoYW5kbGVySXRlbXMsIGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICAgIHNlbGYuX2ZvcmdldENvbnRleHQoaXRlbS5jb250ZXh0KTtcblx0ICAgICAgICAgICAgfSk7XG5cblx0ICAgICAgICAgICAgc2VsZi5ldmVudHNbbmFtZV0gPSBbXTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0fTtcblxuXHQvKipcblx0ICogVW5iaW5kIGV2ZW50IGJ5IGhhbmRsZXIgZnVuY3Rpb25cblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb25cblx0ICogQHByaXZhdGVcblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX29mZkJ5SGFuZGxlciA9IGZ1bmN0aW9uKGhhbmRsZXIpIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgIHZhciBtYXRjaEhhbmRsZXIgPSB0aGlzLl9tYXRjaEhhbmRsZXIoaGFuZGxlcik7XG5cblx0ICAgIGNvbGxlY3Rpb24uZm9yRWFjaCh0aGlzLl9zYWZlRXZlbnQoKSwgZnVuY3Rpb24oaGFuZGxlckl0ZW1zKSB7XG5cdCAgICAgICAgc2VsZi5fc3BsaWNlTWF0Y2hlcyhoYW5kbGVySXRlbXMsIG1hdGNoSGFuZGxlcik7XG5cdCAgICB9KTtcblx0fTtcblxuXHQvKipcblx0ICogVW5iaW5kIGV2ZW50IGJ5IG9iamVjdChuYW1lOiBoYW5kbGVyIHBhaXIgb2JqZWN0IG9yIGNvbnRleHQgb2JqZWN0KVxuXHQgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gY29udGV4dCBvciB7bmFtZTogaGFuZGxlcn0gcGFpciBvYmplY3Rcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb25cblx0ICogQHByaXZhdGVcblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX29mZkJ5T2JqZWN0ID0gZnVuY3Rpb24ob2JqLCBoYW5kbGVyKSB7XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICB2YXIgbWF0Y2hGdW5jO1xuXG5cdCAgICBpZiAodGhpcy5faW5kZXhPZkNvbnRleHQob2JqKSA8IDApIHtcblx0ICAgICAgICBjb2xsZWN0aW9uLmZvckVhY2gob2JqLCBmdW5jdGlvbihmdW5jLCBuYW1lKSB7XG5cdCAgICAgICAgICAgIHNlbGYub2ZmKG5hbWUsIGZ1bmMpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlLmlzU3RyaW5nKGhhbmRsZXIpKSB7XG5cdCAgICAgICAgbWF0Y2hGdW5jID0gdGhpcy5fbWF0Y2hDb250ZXh0KG9iaik7XG5cblx0ICAgICAgICBzZWxmLl9zcGxpY2VNYXRjaGVzKHRoaXMuX3NhZmVFdmVudChoYW5kbGVyKSwgbWF0Y2hGdW5jKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZS5pc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG5cdCAgICAgICAgbWF0Y2hGdW5jID0gdGhpcy5fbWF0Y2hIYW5kbGVyQW5kQ29udGV4dChoYW5kbGVyLCBvYmopO1xuXG5cdCAgICAgICAgY29sbGVjdGlvbi5mb3JFYWNoKHRoaXMuX3NhZmVFdmVudCgpLCBmdW5jdGlvbihoYW5kbGVySXRlbXMpIHtcblx0ICAgICAgICAgICAgc2VsZi5fc3BsaWNlTWF0Y2hlcyhoYW5kbGVySXRlbXMsIG1hdGNoRnVuYyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIG1hdGNoRnVuYyA9IHRoaXMuX21hdGNoQ29udGV4dChvYmopO1xuXG5cdCAgICAgICAgY29sbGVjdGlvbi5mb3JFYWNoKHRoaXMuX3NhZmVFdmVudCgpLCBmdW5jdGlvbihoYW5kbGVySXRlbXMpIHtcblx0ICAgICAgICAgICAgc2VsZi5fc3BsaWNlTWF0Y2hlcyhoYW5kbGVySXRlbXMsIG1hdGNoRnVuYyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdH07XG5cblx0LyoqXG5cdCAqIFVuYmluZCBjdXN0b20gZXZlbnRzXG5cdCAqIEBwYXJhbSB7KHN0cmluZ3xvYmplY3R8ZnVuY3Rpb24pfSBldmVudE5hbWUgLSBldmVudCBuYW1lIG9yIGNvbnRleHQgb3Jcblx0ICogIHtuYW1lOiBoYW5kbGVyfSBwYWlyIG9iamVjdCBvciBoYW5kbGVyIGZ1bmN0aW9uXG5cdCAqIEBwYXJhbSB7KGZ1bmN0aW9uKX0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb25cblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciBDdXN0b21FdmVudHMgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0JykuQ3VzdG9tRXZlbnRzOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgQ3VzdG9tRXZlbnRzID0gdHVpLnV0aWwuQ3VzdG9tRXZlbnRzOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiAvLyAjIDIuMSBvZmYgYnkgZXZlbnQgbmFtZVxuXHQgKiBDdXN0b21FdmVudHMub2ZmKCdvbmxvYWQnKTtcblx0ICpcblx0ICogLy8gIyAyLjIgb2ZmIGJ5IGV2ZW50IG5hbWUgYW5kIGhhbmRsZXJcblx0ICogQ3VzdG9tRXZlbnRzLm9mZigncGxheScsIGhhbmRsZXIpO1xuXHQgKlxuXHQgKiAvLyAjIDIuMyBvZmYgYnkgaGFuZGxlclxuXHQgKiBDdXN0b21FdmVudHMub2ZmKGhhbmRsZXIpO1xuXHQgKlxuXHQgKiAvLyAjIDIuNCBvZmYgYnkgY29udGV4dFxuXHQgKiBDdXN0b21FdmVudHMub2ZmKG15T2JqKTtcblx0ICpcblx0ICogLy8gIyAyLjUgb2ZmIGJ5IGNvbnRleHQgYW5kIGhhbmRsZXJcblx0ICogQ3VzdG9tRXZlbnRzLm9mZihteU9iaiwgaGFuZGxlcik7XG5cdCAqXG5cdCAqIC8vICMgMi42IG9mZiBieSBjb250ZXh0IGFuZCBldmVudCBuYW1lXG5cdCAqIEN1c3RvbUV2ZW50cy5vZmYobXlPYmosICdvbmxvYWQnKTtcblx0ICpcblx0ICogLy8gIyAyLjcgb2ZmIGJ5IGFuIE9iamVjdC48c3RyaW5nLCBmdW5jdGlvbj4gdGhhdCBpcyB7ZXZlbnROYW1lOiBoYW5kbGVyfVxuXHQgKiBDdXN0b21FdmVudHMub2ZmKHtcblx0ICogICAncGxheSc6IGhhbmRsZXIsXG5cdCAqICAgJ3BhdXNlJzogaGFuZGxlcjJcblx0ICogfSk7XG5cdCAqXG5cdCAqIC8vICMgMi44IG9mZiB0aGUgYWxsIGV2ZW50c1xuXHQgKiBDdXN0b21FdmVudHMub2ZmKCk7XG5cdCAqL1xuXHRDdXN0b21FdmVudHMucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuXHQgICAgaWYgKHR5cGUuaXNTdHJpbmcoZXZlbnROYW1lKSkge1xuXHQgICAgICAgIC8vIFtzeW50YXggMSwgMl1cblx0ICAgICAgICB0aGlzLl9vZmZCeUV2ZW50TmFtZShldmVudE5hbWUsIGhhbmRsZXIpO1xuXHQgICAgfSBlbHNlIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuXHQgICAgICAgIC8vIFtzeW50YXggOF1cblx0ICAgICAgICB0aGlzLmV2ZW50cyA9IHt9O1xuXHQgICAgICAgIHRoaXMuY29udGV4dHMgPSBbXTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZS5pc0Z1bmN0aW9uKGV2ZW50TmFtZSkpIHtcblx0ICAgICAgICAvLyBbc3ludGF4IDNdXG5cdCAgICAgICAgdGhpcy5fb2ZmQnlIYW5kbGVyKGV2ZW50TmFtZSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGUuaXNPYmplY3QoZXZlbnROYW1lKSkge1xuXHQgICAgICAgIC8vIFtzeW50YXggNCwgNSwgNl1cblx0ICAgICAgICB0aGlzLl9vZmZCeU9iamVjdChldmVudE5hbWUsIGhhbmRsZXIpO1xuXHQgICAgfVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBGaXJlIGN1c3RvbSBldmVudFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gbmFtZSBvZiBjdXN0b20gZXZlbnRcblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkgeyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHQgICAgdGhpcy5pbnZva2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fTtcblxuXHQvKipcblx0ICogRmlyZSBhIGV2ZW50IGFuZCByZXR1cm5zIHRoZSByZXN1bHQgb2Ygb3BlcmF0aW9uICdib29sZWFuIEFORCcgd2l0aCBhbGxcblx0ICogIGxpc3RlbmVyJ3MgcmVzdWx0cy5cblx0ICpcblx0ICogU28sIEl0IGlzIGRpZmZlcmVudCBmcm9tIHtAbGluayBDdXN0b21FdmVudHMjZmlyZX0uXG5cdCAqXG5cdCAqIEluIHNlcnZpY2UgY29kZSwgdXNlIHRoaXMgYXMgYSBiZWZvcmUgZXZlbnQgaW4gY29tcG9uZW50IGxldmVsIHVzdWFsbHlcblx0ICogIGZvciBub3RpZnlpbmcgdGhhdCB0aGUgZXZlbnQgaXMgY2FuY2VsYWJsZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIEN1c3RvbSBldmVudCBuYW1lXG5cdCAqIEBwYXJhbSB7Li4uKn0gZGF0YSAtIERhdGEgZm9yIGV2ZW50XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUaGUgcmVzdWx0IG9mIG9wZXJhdGlvbiAnYm9vbGVhbiBBTkQnXG5cdCAqIEBleGFtcGxlXG5cdCAqIHZhciBtYXAgPSBuZXcgTWFwKCk7XG5cdCAqIG1hcC5vbih7XG5cdCAqICAgICAnYmVmb3JlWm9vbSc6IGZ1bmN0aW9uKCkge1xuXHQgKiAgICAgICAgIC8vIEl0IHNob3VsZCBjYW5jZWwgdGhlICd6b29tJyBldmVudCBieSBzb21lIGNvbmRpdGlvbnMuXG5cdCAqICAgICAgICAgaWYgKHRoYXQuZGlzYWJsZWQgJiYgdGhpcy5nZXRTdGF0ZSgpKSB7XG5cdCAqICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICogICAgICAgICB9XG5cdCAqICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAqICAgICB9XG5cdCAqIH0pO1xuXHQgKlxuXHQgKiBpZiAodGhpcy5pbnZva2UoJ2JlZm9yZVpvb20nKSkgeyAgICAvLyBjaGVjayB0aGUgcmVzdWx0IG9mICdiZWZvcmVab29tJ1xuXHQgKiAgICAgLy8gaWYgdHJ1ZSxcblx0ICogICAgIC8vIGRvU29tZXRoaW5nXG5cdCAqIH1cblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuaW52b2tlID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG5cdCAgICB2YXIgZXZlbnRzLCBhcmdzLCBpbmRleCwgaXRlbTtcblxuXHQgICAgaWYgKCF0aGlzLmhhc0xpc3RlbmVyKGV2ZW50TmFtZSkpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblxuXHQgICAgZXZlbnRzID0gdGhpcy5fc2FmZUV2ZW50KGV2ZW50TmFtZSk7XG5cdCAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0ICAgIGluZGV4ID0gMDtcblxuXHQgICAgd2hpbGUgKGV2ZW50c1tpbmRleF0pIHtcblx0ICAgICAgICBpdGVtID0gZXZlbnRzW2luZGV4XTtcblxuXHQgICAgICAgIGlmIChpdGVtLmhhbmRsZXIuYXBwbHkoaXRlbS5jb250ZXh0LCBhcmdzKSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGluZGV4ICs9IDE7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm4gd2hldGhlciBhdCBsZWFzdCBvbmUgb2YgdGhlIGhhbmRsZXJzIGlzIHJlZ2lzdGVyZWQgaW4gdGhlIGdpdmVuXG5cdCAqICBldmVudCBuYW1lLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gQ3VzdG9tIGV2ZW50IG5hbWVcblx0ICogQHJldHVybnMge2Jvb2xlYW59IElzIHRoZXJlIGF0IGxlYXN0IG9uZSBoYW5kbGVyIGluIGV2ZW50IG5hbWU/XG5cdCAqL1xuXHRDdXN0b21FdmVudHMucHJvdG90eXBlLmhhc0xpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG5cdCAgICByZXR1cm4gdGhpcy5nZXRMaXN0ZW5lckxlbmd0aChldmVudE5hbWUpID4gMDtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJuIGEgY291bnQgb2YgZXZlbnRzIHJlZ2lzdGVyZWQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBDdXN0b20gZXZlbnQgbmFtZVxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfSBudW1iZXIgb2YgZXZlbnRcblx0ICovXG5cdEN1c3RvbUV2ZW50cy5wcm90b3R5cGUuZ2V0TGlzdGVuZXJMZW5ndGggPSBmdW5jdGlvbihldmVudE5hbWUpIHtcblx0ICAgIHZhciBldmVudHMgPSB0aGlzLl9zYWZlRXZlbnQoZXZlbnROYW1lKTtcblxuXHQgICAgcmV0dXJuIGV2ZW50cy5sZW5ndGg7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBDdXN0b21FdmVudHM7XG5cblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBAZmlsZW92ZXJ2aWV3IFRoaXMgbW9kdWxlIHByb3ZpZGVzIGEgRW51bSBDb25zdHJ1Y3Rvci5cblx0ICogQGF1dGhvciBOSE4uXG5cdCAqICAgICAgICAgRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciBFbnVtID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpLkVudW07XG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vIGRpc3RyaWJ1dGlvbiBmaWxlLCBzY3JpcHRcblx0ICogPHNjcmlwdCBzcmM9J3BhdGgtdG8vdHVpLWNvZGUtc25pcHB0LmpzJz48L3NjcmlwdD5cblx0ICogPHNjcmlwdD5cblx0ICogdmFyIEVudW0gPSB0dWkudXRpbC5FbnVtO1xuXHQgKiA8c2NyaXB0PlxuXHQgKi9cblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNvbGxlY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIGRlZmluZVByb3BlcnR5KCkgbWV0aG9kIGlzIHN1cHBvcnRlZC5cblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdHZhciBpc1N1cHBvcnREZWZpbmVkUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3gnLCB7fSk7XG5cblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdH0pKCk7XG5cblx0LyoqXG5cdCAqIEEgdW5pcXVlIHZhbHVlIG9mIGEgY29uc3RhbnQuXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdHZhciBlbnVtVmFsdWUgPSAwO1xuXG5cdC8qKlxuXHQgKiBNYWtlIGEgY29uc3RhbnQtbGlzdCB0aGF0IGhhcyB1bmlxdWUgdmFsdWVzLjxicj5cblx0ICogSW4gbW9kZXJuIGJyb3dzZXJzIChleGNlcHQgSUU4IGFuZCBsb3dlciksPGJyPlxuXHQgKiAgYSB2YWx1ZSBkZWZpbmVkIG9uY2UgY2FuIG5vdCBiZSBjaGFuZ2VkLlxuXHQgKlxuXHQgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0gaXRlbUxpc3QgQ29uc3RhbnQtbGlzdCAoQW4gYXJyYXkgb2Ygc3RyaW5nIGlzIGF2YWlsYWJsZSlcblx0ICogQGNsYXNzXG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbFxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIEVudW0gPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0JykuRW51bTsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIEVudW0gPSB0dWkudXRpbC5FbnVtOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgTVlFTlVNID0gbmV3IEVudW0oJ1RZUEUxJywgJ1RZUEUyJyk7XG5cdCAqIHZhciBNWUVOVU0yID0gbmV3IEVudW0oWydUWVBFMScsICdUWVBFMiddKTtcblx0ICpcblx0ICogLy91c2FnZVxuXHQgKiBpZiAodmFsdWUgPT09IE1ZRU5VTS5UWVBFMSkge1xuXHQgKiAgICAgIC4uLi5cblx0ICogfVxuXHQgKlxuXHQgKiAvL2FkZCAoSWYgYSBkdXBsaWNhdGUgbmFtZSBpcyBpbnB1dHRlZCwgd2lsbCBiZSBkaXNyZWdhcmRlZC4pXG5cdCAqIE1ZRU5VTS5zZXQoJ1RZUEUzJywgJ1RZUEU0Jyk7XG5cdCAqXG5cdCAqIC8vZ2V0IG5hbWUgb2YgYSBjb25zdGFudCBieSBhIHZhbHVlXG5cdCAqIE1ZRU5VTS5nZXROYW1lKE1ZRU5VTS5UWVBFMSk7IC8vICdUWVBFMSdcblx0ICpcblx0ICogLy8gSW4gbW9kZXJuIGJyb3dzZXJzIChleGNlcHQgSUU4IGFuZCBsb3dlciksIGEgdmFsdWUgY2FuIG5vdCBiZSBjaGFuZ2VkIGluIGNvbnN0YW50cy5cblx0ICogdmFyIG9yaWdpbmFsVmFsdWUgPSBNWUVOVU0uVFlQRTE7XG5cdCAqIE1ZRU5VTS5UWVBFMSA9IDEyMzQ7IC8vIG1heWJlIFR5cGVFcnJvclxuXHQgKiBNWUVOVU0uVFlQRTEgPT09IG9yaWdpbmFsVmFsdWU7IC8vIHRydWVcblx0ICoqL1xuXHRmdW5jdGlvbiBFbnVtKGl0ZW1MaXN0KSB7XG5cdCAgICBpZiAoaXRlbUxpc3QpIHtcblx0ICAgICAgICB0aGlzLnNldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZSBhIGNvbnN0YW50cy1saXN0XG5cdCAqIEBwYXJhbSB7Li4uc3RyaW5nfHN0cmluZ1tdfSBpdGVtTGlzdCBDb25zdGFudC1saXN0IChBbiBhcnJheSBvZiBzdHJpbmcgaXMgYXZhaWxhYmxlKVxuXHQgKi9cblx0RW51bS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oaXRlbUxpc3QpIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgaWYgKCF0eXBlLmlzQXJyYXkoaXRlbUxpc3QpKSB7XG5cdCAgICAgICAgaXRlbUxpc3QgPSBjb2xsZWN0aW9uLnRvQXJyYXkoYXJndW1lbnRzKTtcblx0ICAgIH1cblxuXHQgICAgY29sbGVjdGlvbi5mb3JFYWNoKGl0ZW1MaXN0LCBmdW5jdGlvbiBpdGVtTGlzdEl0ZXJhdGVlKGl0ZW0pIHtcblx0ICAgICAgICBzZWxmLl9hZGRJdGVtKGl0ZW0pO1xuXHQgICAgfSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybiBhIGtleSBvZiB0aGUgY29uc3RhbnQuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBBIHZhbHVlIG9mIHRoZSBjb25zdGFudC5cblx0ICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IEtleSBvZiB0aGUgY29uc3RhbnQuXG5cdCAqL1xuXHRFbnVtLnByb3RvdHlwZS5nZXROYW1lID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgIHZhciBmb3VuZGVkS2V5O1xuXG5cdCAgICBjb2xsZWN0aW9uLmZvckVhY2godGhpcywgZnVuY3Rpb24oaXRlbVZhbHVlLCBrZXkpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb25zaXN0ZW50LXJldHVyblxuXHQgICAgICAgIGlmIChzZWxmLl9pc0VudW1JdGVtKGtleSkgJiYgdmFsdWUgPT09IGl0ZW1WYWx1ZSkge1xuXHQgICAgICAgICAgICBmb3VuZGVkS2V5ID0ga2V5O1xuXG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgcmV0dXJuIGZvdW5kZWRLZXk7XG5cdH07XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIGNvbnN0YW50LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDb25zdGFudCBuYW1lLiAoSXQgd2lsbCBiZSBhIGtleSBvZiBhIGNvbnN0YW50KVxuXHQgKi9cblx0RW51bS5wcm90b3R5cGUuX2FkZEl0ZW0gPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICB2YXIgdmFsdWU7XG5cblx0ICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuXHQgICAgICAgIHZhbHVlID0gdGhpcy5fbWFrZUVudW1WYWx1ZSgpO1xuXG5cdCAgICAgICAgaWYgKGlzU3VwcG9ydERlZmluZWRQcm9wZXJ0eSkge1xuXHQgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgbmFtZSwge1xuXHQgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJuIGEgdW5pcXVlIHZhbHVlIGZvciBhc3NpZ25pbmcgdG8gYSBjb25zdGFudC5cblx0ICogQHByaXZhdGVcblx0ICogQHJldHVybnMge251bWJlcn0gQSB1bmlxdWUgdmFsdWVcblx0ICovXG5cdEVudW0ucHJvdG90eXBlLl9tYWtlRW51bVZhbHVlID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgdmFsdWU7XG5cblx0ICAgIHZhbHVlID0gZW51bVZhbHVlO1xuXHQgICAgZW51bVZhbHVlICs9IDE7XG5cblx0ICAgIHJldHVybiB2YWx1ZTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJuIHdoZXRoZXIgYSBjb25zdGFudCBmcm9tIHRoZSBnaXZlbiBrZXkgaXMgaW4gaW5zdGFuY2Ugb3Igbm90LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQSBjb25zdGFudCBrZXlcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJlc3VsdFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0RW51bS5wcm90b3R5cGUuX2lzRW51bUl0ZW0gPSBmdW5jdGlvbihrZXkpIHtcblx0ICAgIHJldHVybiB0eXBlLmlzTnVtYmVyKHRoaXNba2V5XSk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBFbnVtO1xuXG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogQGZpbGVvdmVydmlld1xuXHQgKiAgSW1wbGVtZW50cyB0aGUgRXhNYXAgKEV4dGVuZGVkIE1hcCkgb2JqZWN0LlxuXHQgKiBAYXV0aG9yIE5ITi5cblx0ICogICAgICAgICBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cblx0ICovXG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBjb2xsZWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIE1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG5cdC8vIENhY2hpbmcgdHVpLnV0aWwgZm9yIHBlcmZvcm1hbmNlIGVuaGFuY2luZ1xuXHR2YXIgbWFwQVBJc0ZvclJlYWQgPSBbJ2dldCcsICdoYXMnLCAnZm9yRWFjaCcsICdrZXlzJywgJ3ZhbHVlcycsICdlbnRyaWVzJ107XG5cdHZhciBtYXBBUElzRm9yRGVsZXRlID0gWydkZWxldGUnLCAnY2xlYXInXTtcblxuXHQvKipcblx0ICogVGhlIEV4TWFwIG9iamVjdCBpcyBFeHRlbmRlZCBWZXJzaW9uIG9mIHRoZSB0dWkudXRpbC5NYXAgb2JqZWN0Ljxicj5cblx0ICogYW5kIGFkZGVkIHNvbWUgdXNlZnVsIGZlYXR1cmUgdG8gbWFrZSBpdCBlYXN5IHRvIG1hbmFnZSB0aGUgTWFwIG9iamVjdC5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGluaXREYXRhIC0gQXJyYXkgb2Yga2V5LXZhbHVlIHBhaXJzICgyLWVsZW1lbnQgQXJyYXlzKS5cblx0ICogICAgICBFYWNoIGtleS12YWx1ZSBwYWlyIHdpbGwgYmUgYWRkZWQgdG8gdGhlIG5ldyBNYXBcblx0ICogQG1lbWJlcm9mIHR1aS51dGlsXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciBFeE1hcCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKS5FeE1hcDtcblx0ICogQGV4YW1wbGVcblx0ICogLy8gZGlzdHJpYnV0aW9uIGZpbGUsIHNjcmlwdFxuXHQgKiA8c2NyaXB0IHNyYz0ncGF0aC10by90dWktY29kZS1zbmlwcHQuanMnPjwvc2NyaXB0PlxuXHQgKiA8c2NyaXB0PlxuXHQgKiB2YXIgRXhNYXAgPSB0dWkudXRpbC5FeE1hcDtcblx0ICogPHNjcmlwdD5cblx0ICovXG5cdGZ1bmN0aW9uIEV4TWFwKGluaXREYXRhKSB7XG5cdCAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKGluaXREYXRhKTtcblx0ICAgIHRoaXMuc2l6ZSA9IHRoaXMuX21hcC5zaXplO1xuXHR9XG5cblx0Y29sbGVjdGlvbi5mb3JFYWNoQXJyYXkobWFwQVBJc0ZvclJlYWQsIGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIEV4TWFwLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9tYXBbbmFtZV0uYXBwbHkodGhpcy5fbWFwLCBhcmd1bWVudHMpO1xuXHQgICAgfTtcblx0fSk7XG5cblx0Y29sbGVjdGlvbi5mb3JFYWNoQXJyYXkobWFwQVBJc0ZvckRlbGV0ZSwgZnVuY3Rpb24obmFtZSkge1xuXHQgICAgRXhNYXAucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX21hcFtuYW1lXS5hcHBseSh0aGlzLl9tYXAsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgdGhpcy5zaXplID0gdGhpcy5fbWFwLnNpemU7XG5cblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfTtcblx0fSk7XG5cblx0RXhNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fbWFwLnNldC5hcHBseSh0aGlzLl9tYXAsIGFyZ3VtZW50cyk7XG5cdCAgICB0aGlzLnNpemUgPSB0aGlzLl9tYXAuc2l6ZTtcblxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldHMgYWxsIG9mIHRoZSBrZXktdmFsdWUgcGFpcnMgaW4gdGhlIHNwZWNpZmllZCBvYmplY3QgdG8gdGhlIE1hcCBvYmplY3QuXG5cdCAqIEBwYXJhbSAge09iamVjdH0gb2JqZWN0IC0gUGxhaW4gb2JqZWN0IHRoYXQgaGFzIGEga2V5LXZhbHVlIHBhaXJcblx0ICovXG5cdEV4TWFwLnByb3RvdHlwZS5zZXRPYmplY3QgPSBmdW5jdGlvbihvYmplY3QpIHtcblx0ICAgIGNvbGxlY3Rpb24uZm9yRWFjaE93blByb3BlcnRpZXMob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG5cdCAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG5cdCAgICB9LCB0aGlzKTtcblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlcyB0aGUgZWxlbWVudHMgYXNzb2NpYXRlZCB3aXRoIGtleXMgaW4gdGhlIHNwZWNpZmllZCBhcnJheS5cblx0ICogQHBhcmFtICB7QXJyYXl9IGtleXMgLSBBcnJheSB0aGF0IGNvbnRhaW5zIGtleXMgb2YgdGhlIGVsZW1lbnQgdG8gcmVtb3ZlXG5cdCAqL1xuXHRFeE1hcC5wcm90b3R5cGUuZGVsZXRlQnlLZXlzID0gZnVuY3Rpb24oa2V5cykge1xuXHQgICAgY29sbGVjdGlvbi5mb3JFYWNoQXJyYXkoa2V5cywgZnVuY3Rpb24oa2V5KSB7XG5cdCAgICAgICAgdGhpc1snZGVsZXRlJ10oa2V5KTtcblx0ICAgIH0sIHRoaXMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXRzIGFsbCBvZiB0aGUga2V5LXZhbHVlIHBhaXJzIGluIHRoZSBzcGVjaWZpZWQgTWFwIG9iamVjdCB0byB0aGlzIE1hcCBvYmplY3QuXG5cdCAqIEBwYXJhbSAge01hcH0gbWFwIC0gTWFwIG9iamVjdCB0byBiZSBtZXJnZWQgaW50byB0aGlzIE1hcCBvYmplY3Rcblx0ICovXG5cdEV4TWFwLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uKG1hcCkge1xuXHQgICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXHQgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuXHQgICAgfSwgdGhpcyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIExvb2tzIHRocm91Z2ggZWFjaCBrZXktdmFsdWUgcGFpciBpbiB0aGUgbWFwIGFuZCByZXR1cm5zIHRoZSBuZXcgRXhNYXAgb2JqZWN0IG9mXG5cdCAqIGFsbCBrZXktdmFsdWUgcGFpcnMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdCBpbXBsZW1lbnRlZCBieSB0aGUgcHJvdmlkZWQgZnVuY3Rpb24uXG5cdCAqIEBwYXJhbSAge2Z1bmN0aW9ufSBwcmVkaWNhdGUgLSBGdW5jdGlvbiB0byB0ZXN0IGVhY2gga2V5LXZhbHVlIHBhaXIgb2YgdGhlIE1hcCBvYmplY3QuPGJyPlxuXHQgKiAgICAgIEludm9rZWQgd2l0aCBhcmd1bWVudHMgKHZhbHVlLCBrZXkpLiBSZXR1cm4gdHJ1ZSB0byBrZWVwIHRoZSBlbGVtZW50LCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqIEByZXR1cm5zIHtFeE1hcH0gQSBuZXcgRXhNYXAgb2JqZWN0XG5cdCAqL1xuXHRFeE1hcC5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG5cdCAgICB2YXIgZmlsdGVyZWQgPSBuZXcgRXhNYXAoKTtcblxuXHQgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcblx0ICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXkpKSB7XG5cdCAgICAgICAgICAgIGZpbHRlcmVkLnNldChrZXksIHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgcmV0dXJuIGZpbHRlcmVkO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gRXhNYXA7XG5cblxuLyoqKi8gfSksXG4vKiAxOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFxuXHQvKipcblx0ICogQGZpbGVvdmVydmlld1xuXHQgKiAgSW1wbGVtZW50cyB0aGUgTWFwIG9iamVjdC5cblx0ICogQGF1dGhvciBOSE4uXG5cdCAqICAgICAgICAgRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG5cdCAqL1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgY29sbGVjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciB0eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIGFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIGJyb3dzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0dmFyIGZ1bmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdC8qKlxuXHQgKiBVc2luZyB1bmRlZmluZWQgZm9yIGEga2V5IGNhbiBiZSBhbWJpZ3VvdXMgaWYgdGhlcmUncyBkZWxldGVkIGl0ZW0gaW4gdGhlIGFycmF5LDxicj5cblx0ICogd2hpY2ggaXMgYWxzbyB1bmRlZmluZWQgd2hlbiBhY2Nlc3NlZCBieSBpbmRleC48YnI+XG5cdCAqIFNvIHVzZSB0aGlzIHVuaXF1ZSBvYmplY3QgYXMgYW4gdW5kZWZpbmVkIGtleSB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGRlbGV0ZWQga2V5cy5cblx0ICogQHByaXZhdGVcblx0ICogQGNvbnN0YW50XG5cdCAqL1xuXHR2YXIgX0tFWV9GT1JfVU5ERUZJTkVEID0ge307XG5cblx0LyoqXG5cdCAqIEZvciB1c2luZyBOYU4gYXMgYSBrZXksIHVzZSB0aGlzIHVuaXF1ZSBvYmplY3QgYXMgYSBOYU4ga2V5Ljxicj5cblx0ICogVGhpcyBtYWtlcyBpdCBlYXNpZXIgYW5kIGZhc3RlciB0byBjb21wYXJlIGFuIG9iamVjdCB3aXRoIGVhY2gga2V5cyBpbiB0aGUgYXJyYXk8YnI+XG5cdCAqIHRocm91Z2ggbm8gZXhjZXB0aW9uYWwgY29tYXByaW5nIGZvciBOYU4uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBjb25zdGFudFxuXHQgKi9cblx0dmFyIF9LRVlfRk9SX05BTiA9IHt9O1xuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RvciBvZiBNYXBJdGVyYXRvcjxicj5cblx0ICogQ3JlYXRlcyBpdGVyYXRvciBvYmplY3Qgd2l0aCBuZXcga2V5d29yZC5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSAge0FycmF5fSBrZXlzIC0gVGhlIGFycmF5IG9mIGtleXMgaW4gdGhlIG1hcFxuXHQgKiBAcGFyYW0gIHtmdW5jdGlvbn0gdmFsdWVHZXR0ZXIgLSBGdW5jdGlvbiB0aGF0IHJldHVybnMgY2VydGFpbiB2YWx1ZSxcblx0ICogICAgICB0YWtpbmcga2V5IGFuZCBrZXlJbmRleCBhcyBhcmd1bWVudHMuXG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdGZ1bmN0aW9uIE1hcEl0ZXJhdG9yKGtleXMsIHZhbHVlR2V0dGVyKSB7XG5cdCAgICB0aGlzLl9rZXlzID0ga2V5cztcblx0ICAgIHRoaXMuX3ZhbHVlR2V0dGVyID0gdmFsdWVHZXR0ZXI7XG5cdCAgICB0aGlzLl9sZW5ndGggPSB0aGlzLl9rZXlzLmxlbmd0aDtcblx0ICAgIHRoaXMuX2luZGV4ID0gLTE7XG5cdCAgICB0aGlzLl9kb25lID0gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0ICogSW1wbGVtZW50YXRpb24gb2YgSXRlcmF0b3IgcHJvdG9jb2wuXG5cdCAqIEByZXR1cm5zIHt7ZG9uZTogYm9vbGVhbiwgdmFsdWU6ICp9fSBPYmplY3QgdGhhdCBjb250YWlucyBkb25lKGJvb2xlYW4pIGFuZCB2YWx1ZS5cblx0ICovXG5cdE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgZGF0YSA9IHt9O1xuXHQgICAgZG8ge1xuXHQgICAgICAgIHRoaXMuX2luZGV4ICs9IDE7XG5cdCAgICB9IHdoaWxlICh0eXBlLmlzVW5kZWZpbmVkKHRoaXMuX2tleXNbdGhpcy5faW5kZXhdKSAmJiB0aGlzLl9pbmRleCA8IHRoaXMuX2xlbmd0aCk7XG5cblx0ICAgIGlmICh0aGlzLl9pbmRleCA+PSB0aGlzLl9sZW5ndGgpIHtcblx0ICAgICAgICBkYXRhLmRvbmUgPSB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBkYXRhLmRvbmUgPSBmYWxzZTtcblx0ICAgICAgICBkYXRhLnZhbHVlID0gdGhpcy5fdmFsdWVHZXR0ZXIodGhpcy5fa2V5c1t0aGlzLl9pbmRleF0sIHRoaXMuX2luZGV4KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGRhdGE7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBNYXAgb2JqZWN0IGltcGxlbWVudHMgdGhlIEVTNiBNYXAgc3BlY2lmaWNhdGlvbiBhcyBjbG9zZWx5IGFzIHBvc3NpYmxlLjxicj5cblx0ICogRm9yIHVzaW5nIG9iamVjdHMgYW5kIHByaW1pdGl2ZSB2YWx1ZXMgYXMga2V5cywgdGhpcyBvYmplY3QgdXNlcyBhcnJheSBpbnRlcm5hbGx5Ljxicj5cblx0ICogU28gaWYgdGhlIGtleSBpcyBub3QgYSBzdHJpbmcsIGdldCgpLCBzZXQoKSwgaGFzKCksIGRlbGV0ZSgpIHdpbGwgb3BlcmF0ZXMgaW4gTyhuKSw8YnI+XG5cdCAqIGFuZCBpdCBjYW4gY2F1c2UgcGVyZm9ybWFuY2UgaXNzdWVzIHdpdGggYSBsYXJnZSBkYXRhc2V0LlxuXHQgKlxuXHQgKiBGZWF0dXJlcyBsaXN0ZWQgYmVsb3cgYXJlIG5vdCBzdXBwb3J0ZWQuIChjYW4ndCBiZSBpbXBsZW50ZWQgd2l0aG91dCBuYXRpdmUgc3VwcG9ydClcblx0ICogLSBNYXAgb2JqZWN0IGlzIGl0ZXJhYmxlPGJyPlxuXHQgKiAtIEl0ZXJhYmxlIG9iamVjdCBjYW4gYmUgdXNlZCBhcyBhbiBhcmd1bWVudCBvZiBjb25zdHJ1Y3RvclxuXHQgKlxuXHQgKiBJZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBmdWxsIGltcGxlbWVudGF0aW9uIG9mIEVTNiBNYXAgc3BlY2lmaWNhdGlvbiwgbmF0aXZlIE1hcCBvYmVqY3Rcblx0ICogd2lsbCBiZSB1c2VkIGludGVybmFsbHkuXG5cdCAqIEBjbGFzc1xuXHQgKiBAcGFyYW0gIHtBcnJheX0gaW5pdERhdGEgLSBBcnJheSBvZiBrZXktdmFsdWUgcGFpcnMgKDItZWxlbWVudCBBcnJheXMpLlxuXHQgKiAgICAgIEVhY2gga2V5LXZhbHVlIHBhaXIgd2lsbCBiZSBhZGRlZCB0byB0aGUgbmV3IE1hcFxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGV4YW1wbGVcblx0ICogLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIE1hcCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKS5NYXA7XG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vIGRpc3RyaWJ1dGlvbiBmaWxlLCBzY3JpcHRcblx0ICogPHNjcmlwdCBzcmM9J3BhdGgtdG8vdHVpLWNvZGUtc25pcHB0LmpzJz48L3NjcmlwdD5cblx0ICogPHNjcmlwdD5cblx0ICogdmFyIE1hcCA9IHR1aS51dGlsLk1hcDtcblx0ICogPHNjcmlwdD5cblx0ICovXG5cdGZ1bmN0aW9uIE1hcChpbml0RGF0YSkge1xuXHQgICAgdGhpcy5fdmFsdWVzRm9yU3RyaW5nID0ge307XG5cdCAgICB0aGlzLl92YWx1ZXNGb3JJbmRleCA9IHt9O1xuXHQgICAgdGhpcy5fa2V5cyA9IFtdO1xuXG5cdCAgICBpZiAoaW5pdERhdGEpIHtcblx0ICAgICAgICB0aGlzLl9zZXRJbml0RGF0YShpbml0RGF0YSk7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMuc2l6ZSA9IDA7XG5cdH1cblxuXHQvKiBlc2xpbnQtZGlzYWJsZSBuby1leHRlbmQtbmF0aXZlICovXG5cdC8qKlxuXHQgKiBBZGQgYWxsIGVsZW1lbnRzIGluIHRoZSBpbml0RGF0YSB0byB0aGUgTWFwIG9iamVjdC5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtICB7QXJyYXl9IGluaXREYXRhIC0gQXJyYXkgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCB0byB0aGUgTWFwIG9iamVjdFxuXHQgKi9cblx0TWFwLnByb3RvdHlwZS5fc2V0SW5pdERhdGEgPSBmdW5jdGlvbihpbml0RGF0YSkge1xuXHQgICAgaWYgKCF0eXBlLmlzQXJyYXkoaW5pdERhdGEpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IEFycmF5IGlzIHN1cHBvcnRlZC4nKTtcblx0ICAgIH1cblx0ICAgIGNvbGxlY3Rpb24uZm9yRWFjaEFycmF5KGluaXREYXRhLCBmdW5jdGlvbihwYWlyKSB7XG5cdCAgICAgICAgdGhpcy5zZXQocGFpclswXSwgcGFpclsxXSk7XG5cdCAgICB9LCB0aGlzKTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgTmFOLjxicj5cblx0ICogRm9yIHVuc2luZyBOYU4gYXMgYSBrZXksIHVzZSB0aGlzIG1ldGhvZCB0byB0ZXN0IGVxdWFsaXR5IG9mIE5hTjxicj5cblx0ICogYmVjYXVzZSA9PT0gb3BlcmF0b3IgZG9lc24ndCB3b3JrIGZvciBOYU4uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBBbnkgb2JqZWN0IHRvIGJlIHRlc3RlZFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBOYU4sIGZhbHNlIG90aGVyd2lzZS5cblx0ICovXG5cdE1hcC5wcm90b3R5cGUuX2lzTmFOID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSB2YWx1ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIHNwZWNpZmllZCBrZXkuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSAgeyp9IGtleSAtIFRoZSBrZXkgb2JqZWN0IHRvIHNlYXJjaCBmb3IuXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgc3BlY2lmaWVkIGtleVxuXHQgKi9cblx0TWFwLnByb3RvdHlwZS5fZ2V0S2V5SW5kZXggPSBmdW5jdGlvbihrZXkpIHtcblx0ICAgIHZhciByZXN1bHQgPSAtMTtcblx0ICAgIHZhciB2YWx1ZTtcblxuXHQgICAgaWYgKHR5cGUuaXNTdHJpbmcoa2V5KSkge1xuXHQgICAgICAgIHZhbHVlID0gdGhpcy5fdmFsdWVzRm9yU3RyaW5nW2tleV07XG5cdCAgICAgICAgaWYgKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlLmtleUluZGV4O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVzdWx0ID0gYXJyYXkuaW5BcnJheShrZXksIHRoaXMuX2tleXMpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBrZXkgb2YgdGhlIHNwZWNpZmllZCBrZXkuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSAgeyp9IGtleSAtIGtleVxuXHQgKiBAcmV0dXJucyB7Kn0gT3JpZ2luYWwga2V5XG5cdCAqL1xuXHRNYXAucHJvdG90eXBlLl9nZXRPcmlnaW5LZXkgPSBmdW5jdGlvbihrZXkpIHtcblx0ICAgIHZhciBvcmlnaW5LZXkgPSBrZXk7XG5cdCAgICBpZiAoa2V5ID09PSBfS0VZX0ZPUl9VTkRFRklORUQpIHtcblx0ICAgICAgICBvcmlnaW5LZXkgPSB1bmRlZmluZWQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZpbmVkXG5cdCAgICB9IGVsc2UgaWYgKGtleSA9PT0gX0tFWV9GT1JfTkFOKSB7XG5cdCAgICAgICAgb3JpZ2luS2V5ID0gTmFOO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gb3JpZ2luS2V5O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSB1bmlxdWUga2V5IG9mIHRoZSBzcGVjaWZpZWQga2V5LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0gIHsqfSBrZXkgLSBrZXlcblx0ICogQHJldHVybnMgeyp9IFVuaXF1ZSBrZXlcblx0ICovXG5cdE1hcC5wcm90b3R5cGUuX2dldFVuaXF1ZUtleSA9IGZ1bmN0aW9uKGtleSkge1xuXHQgICAgdmFyIHVuaXF1ZUtleSA9IGtleTtcblx0ICAgIGlmICh0eXBlLmlzVW5kZWZpbmVkKGtleSkpIHtcblx0ICAgICAgICB1bmlxdWVLZXkgPSBfS0VZX0ZPUl9VTkRFRklORUQ7XG5cdCAgICB9IGVsc2UgaWYgKHRoaXMuX2lzTmFOKGtleSkpIHtcblx0ICAgICAgICB1bmlxdWVLZXkgPSBfS0VZX0ZPUl9OQU47XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB1bmlxdWVLZXk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHZhbHVlIG9iamVjdCBvZiB0aGUgc3BlY2lmaWVkIGtleS5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtICB7Kn0ga2V5IC0gVGhlIGtleSBvZiB0aGUgdmFsdWUgb2JqZWN0IHRvIGJlIHJldHVybmVkXG5cdCAqIEBwYXJhbSAge251bWJlcn0ga2V5SW5kZXggLSBUaGUgaW5kZXggb2YgdGhlIGtleVxuXHQgKiBAcmV0dXJucyB7e2tleUluZGV4OiBudW1iZXIsIG9yaWdpbjogKn19IFZhbHVlIG9iamVjdFxuXHQgKi9cblx0TWFwLnByb3RvdHlwZS5fZ2V0VmFsdWVPYmplY3QgPSBmdW5jdGlvbihrZXksIGtleUluZGV4KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29uc2lzdGVudC1yZXR1cm5cblx0ICAgIGlmICh0eXBlLmlzU3RyaW5nKGtleSkpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVzRm9yU3RyaW5nW2tleV07XG5cdCAgICB9XG5cblx0ICAgIGlmICh0eXBlLmlzVW5kZWZpbmVkKGtleUluZGV4KSkge1xuXHQgICAgICAgIGtleUluZGV4ID0gdGhpcy5fZ2V0S2V5SW5kZXgoa2V5KTtcblx0ICAgIH1cblx0ICAgIGlmIChrZXlJbmRleCA+PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc0ZvckluZGV4W2tleUluZGV4XTtcblx0ICAgIH1cblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgb3JpZ2luYWwgdmFsdWUgb2YgdGhlIHNwZWNpZmllZCBrZXkuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSAgeyp9IGtleSAtIFRoZSBrZXkgb2YgdGhlIHZhbHVlIG9iamVjdCB0byBiZSByZXR1cm5lZFxuXHQgKiBAcGFyYW0gIHtudW1iZXJ9IGtleUluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBrZXlcblx0ICogQHJldHVybnMgeyp9IE9yaWdpbmFsIHZhbHVlXG5cdCAqL1xuXHRNYXAucHJvdG90eXBlLl9nZXRPcmlnaW5WYWx1ZSA9IGZ1bmN0aW9uKGtleSwga2V5SW5kZXgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9nZXRWYWx1ZU9iamVjdChrZXksIGtleUluZGV4KS5vcmlnaW47XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMga2V5LXZhbHVlIHBhaXIgb2YgdGhlIHNwZWNpZmllZCBrZXkuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSAgeyp9IGtleSAtIFRoZSBrZXkgb2YgdGhlIHZhbHVlIG9iamVjdCB0byBiZSByZXR1cm5lZFxuXHQgKiBAcGFyYW0gIHtudW1iZXJ9IGtleUluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBrZXlcblx0ICogQHJldHVybnMge0FycmF5fSBLZXktdmFsdWUgUGFpclxuXHQgKi9cblx0TWFwLnByb3RvdHlwZS5fZ2V0S2V5VmFsdWVQYWlyID0gZnVuY3Rpb24oa2V5LCBrZXlJbmRleCkge1xuXHQgICAgcmV0dXJuIFt0aGlzLl9nZXRPcmlnaW5LZXkoa2V5KSwgdGhpcy5fZ2V0T3JpZ2luVmFsdWUoa2V5LCBrZXlJbmRleCldO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHRoZSB3cmFwcGVyIG9iamVjdCBvZiBvcmlnaW5hbCB2YWx1ZSB0aGF0IGNvbnRhaW5zIGEga2V5IGluZGV4XG5cdCAqIGFuZCByZXR1cm5zIGl0LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0gIHt0eXBlfSBvcmlnaW4gLSBPcmlnaW5hbCB2YWx1ZVxuXHQgKiBAcGFyYW0gIHt0eXBlfSBrZXlJbmRleCAtIEluZGV4IG9mIHRoZSBrZXlcblx0ICogQHJldHVybnMge3trZXlJbmRleDogbnVtYmVyLCBvcmlnaW46ICp9fSBWYWx1ZSBvYmplY3Rcblx0ICovXG5cdE1hcC5wcm90b3R5cGUuX2NyZWF0ZVZhbHVlT2JqZWN0ID0gZnVuY3Rpb24ob3JpZ2luLCBrZXlJbmRleCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBrZXlJbmRleDoga2V5SW5kZXgsXG5cdCAgICAgICAgb3JpZ2luOiBvcmlnaW5cblx0ICAgIH07XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHZhbHVlIGZvciB0aGUga2V5IGluIHRoZSBNYXAgb2JqZWN0LlxuXHQgKiBAcGFyYW0gIHsqfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBlbGVtZW50IHRvIGFkZCB0byB0aGUgTWFwIG9iamVjdFxuXHQgKiBAcGFyYW0gIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCB0byBhZGQgdG8gdGhlIE1hcCBvYmplY3Rcblx0ICogQHJldHVybnMge01hcH0gVGhlIE1hcCBvYmplY3Rcblx0ICovXG5cdE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuXHQgICAgdmFyIHVuaXF1ZUtleSA9IHRoaXMuX2dldFVuaXF1ZUtleShrZXkpO1xuXHQgICAgdmFyIGtleUluZGV4ID0gdGhpcy5fZ2V0S2V5SW5kZXgodW5pcXVlS2V5KTtcblx0ICAgIHZhciB2YWx1ZU9iamVjdDtcblxuXHQgICAgaWYgKGtleUluZGV4IDwgMCkge1xuXHQgICAgICAgIGtleUluZGV4ID0gdGhpcy5fa2V5cy5wdXNoKHVuaXF1ZUtleSkgLSAxO1xuXHQgICAgICAgIHRoaXMuc2l6ZSArPSAxO1xuXHQgICAgfVxuXHQgICAgdmFsdWVPYmplY3QgPSB0aGlzLl9jcmVhdGVWYWx1ZU9iamVjdCh2YWx1ZSwga2V5SW5kZXgpO1xuXG5cdCAgICBpZiAodHlwZS5pc1N0cmluZyhrZXkpKSB7XG5cdCAgICAgICAgdGhpcy5fdmFsdWVzRm9yU3RyaW5nW2tleV0gPSB2YWx1ZU9iamVjdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5fdmFsdWVzRm9ySW5kZXhba2V5SW5kZXhdID0gdmFsdWVPYmplY3Q7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHRvIHRoZSBrZXksIG9yIHVuZGVmaW5lZCBpZiB0aGVyZSBpcyBub25lLlxuXHQgKiBAcGFyYW0gIHsqfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBlbGVtZW50IHRvIHJldHVyblxuXHQgKiBAcmV0dXJucyB7Kn0gRWxlbWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBrZXlcblx0ICovXG5cdE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG5cdCAgICB2YXIgdW5pcXVlS2V5ID0gdGhpcy5fZ2V0VW5pcXVlS2V5KGtleSk7XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLl9nZXRWYWx1ZU9iamVjdCh1bmlxdWVLZXkpO1xuXG5cdCAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUub3JpZ2luO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgbmV3IEl0ZXJhdG9yIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBrZXlzIGZvciBlYWNoIGVsZW1lbnRcblx0ICogaW4gdGhlIE1hcCBvYmplY3QgaW4gaW5zZXJ0aW9uIG9yZGVyLlxuXHQgKiBAcmV0dXJucyB7SXRlcmF0b3J9IEEgbmV3IEl0ZXJhdG9yIG9iamVjdFxuXHQgKi9cblx0TWFwLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIGZ1bmMuYmluZCh0aGlzLl9nZXRPcmlnaW5LZXksIHRoaXMpKTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIG5ldyBJdGVyYXRvciBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgdmFsdWVzIGZvciBlYWNoIGVsZW1lbnRcblx0ICogaW4gdGhlIE1hcCBvYmplY3QgaW4gaW5zZXJ0aW9uIG9yZGVyLlxuXHQgKiBAcmV0dXJucyB7SXRlcmF0b3J9IEEgbmV3IEl0ZXJhdG9yIG9iamVjdFxuXHQgKi9cblx0TWFwLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgZnVuYy5iaW5kKHRoaXMuX2dldE9yaWdpblZhbHVlLCB0aGlzKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBuZXcgSXRlcmF0b3Igb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIFtrZXksIHZhbHVlXSBwYWlyc1xuXHQgKiBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSBNYXAgb2JqZWN0IGluIGluc2VydGlvbiBvcmRlci5cblx0ICogQHJldHVybnMge0l0ZXJhdG9yfSBBIG5ldyBJdGVyYXRvciBvYmplY3Rcblx0ICovXG5cdE1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCBmdW5jLmJpbmQodGhpcy5fZ2V0S2V5VmFsdWVQYWlyLCB0aGlzKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBib29sZWFuIGFzc2VydGluZyB3aGV0aGVyIGEgdmFsdWUgaGFzIGJlZW4gYXNzb2NpYXRlZCB0byB0aGUga2V5XG5cdCAqIGluIHRoZSBNYXAgb2JqZWN0IG9yIG5vdC5cblx0ICogQHBhcmFtICB7Kn0ga2V5IC0gVGhlIGtleSBvZiB0aGUgZWxlbWVudCB0byB0ZXN0IGZvciBwcmVzZW5jZVxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBrZXkgZXhpc3RzO1xuXHQgKiAgICAgICAgICBPdGhlcndpc2UgZmFsc2Vcblx0ICovXG5cdE1hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG5cdCAgICByZXR1cm4gISF0aGlzLl9nZXRWYWx1ZU9iamVjdChrZXkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBmcm9tIGEgTWFwIG9iamVjdC5cblx0ICogQHBhcmFtIHsqfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBlbGVtZW50IHRvIHJlbW92ZVxuXHQgKiBAZnVuY3Rpb24gZGVsZXRlXG5cdCAqIEBtZW1iZXJvZiB0dWkudXRpbC5NYXAucHJvdG90eXBlXG5cdCAqL1xuXHQvLyBjYW5ub3QgdXNlIHJlc2VydmVkIGtleXdvcmQgYXMgYSBwcm9wZXJ0eSBuYW1lIGluIElFOCBhbmQgdW5kZXIuXG5cdE1hcC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24oa2V5KSB7XG5cdCAgICB2YXIga2V5SW5kZXg7XG5cblx0ICAgIGlmICh0eXBlLmlzU3RyaW5nKGtleSkpIHtcblx0ICAgICAgICBpZiAodGhpcy5fdmFsdWVzRm9yU3RyaW5nW2tleV0pIHtcblx0ICAgICAgICAgICAga2V5SW5kZXggPSB0aGlzLl92YWx1ZXNGb3JTdHJpbmdba2V5XS5rZXlJbmRleDtcblx0ICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ZhbHVlc0ZvclN0cmluZ1trZXldO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAga2V5SW5kZXggPSB0aGlzLl9nZXRLZXlJbmRleChrZXkpO1xuXHQgICAgICAgIGlmIChrZXlJbmRleCA+PSAwKSB7XG5cdCAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl92YWx1ZXNGb3JJbmRleFtrZXlJbmRleF07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBpZiAoa2V5SW5kZXggPj0gMCkge1xuXHQgICAgICAgIGRlbGV0ZSB0aGlzLl9rZXlzW2tleUluZGV4XTtcblx0ICAgICAgICB0aGlzLnNpemUgLT0gMTtcblx0ICAgIH1cblx0fTtcblxuXHQvKipcblx0ICogRXhlY3V0ZXMgYSBwcm92aWRlZCBmdW5jdGlvbiBvbmNlIHBlciBlYWNoIGtleS92YWx1ZSBwYWlyIGluIHRoZSBNYXAgb2JqZWN0LFxuXHQgKiBpbiBpbnNlcnRpb24gb3JkZXIuXG5cdCAqIEBwYXJhbSAge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgZm9yIGVhY2ggZWxlbWVudFxuXHQgKiBAcGFyYW0gIHt0aGlzQXJnfSB0aGlzQXJnIC0gVmFsdWUgdG8gdXNlIGFzIHRoaXMgd2hlbiBleGVjdXRpbmcgY2FsbGJhY2tcblx0ICovXG5cdE1hcC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdCAgICB0aGlzQXJnID0gdGhpc0FyZyB8fCB0aGlzO1xuXHQgICAgY29sbGVjdGlvbi5mb3JFYWNoQXJyYXkodGhpcy5fa2V5cywgZnVuY3Rpb24oa2V5KSB7XG5cdCAgICAgICAgaWYgKCF0eXBlLmlzVW5kZWZpbmVkKGtleSkpIHtcblx0ICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLl9nZXRWYWx1ZU9iamVjdChrZXkpLm9yaWdpbiwga2V5LCB0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB0aGlzKTtcblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBhIE1hcCBvYmplY3QuXG5cdCAqL1xuXHRNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdCAgICBNYXAuY2FsbCh0aGlzKTtcblx0fTtcblx0LyogZXNsaW50LWVuYWJsZSBuby1leHRlbmQtbmF0aXZlICovXG5cblx0Ly8gVXNlIG5hdGl2ZSBNYXAgb2JqZWN0IGlmIGV4aXN0cy5cblx0Ly8gQnV0IG9ubHkgbGF0ZXN0IHZlcnNpb25zIG9mIENocm9tZSBhbmQgRmlyZWZveCBzdXBwb3J0IGZ1bGwgaW1wbGVtZW50YXRpb24uXG5cdChmdW5jdGlvbigpIHtcblx0ICAgIGlmICh3aW5kb3cuTWFwICYmIChcblx0ICAgICAgICAoYnJvd3Nlci5maXJlZm94ICYmIGJyb3dzZXIudmVyc2lvbiA+PSAzNykgfHxcblx0ICAgICAgICAgICAgKGJyb3dzZXIuY2hyb21lICYmIGJyb3dzZXIudmVyc2lvbiA+PSA0Milcblx0ICAgIClcblx0ICAgICkge1xuXHQgICAgICAgIE1hcCA9IHdpbmRvdy5NYXA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZnVuYy1hc3NpZ25cblx0ICAgIH1cblx0fSkoKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IE1hcDtcblxuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIEBmaWxlb3ZlcnZpZXcgVGhpcyBtb2R1bGUgcHJvdmlkZXMgdGhlIEhhc2hNYXAgY29uc3RydWN0b3IuXG5cdCAqIEBhdXRob3IgTkhOLlxuXHQgKiAgICAgICAgIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuXHQgKi9cblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNvbGxlY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdC8qKlxuXHQgKiBBbGwgdGhlIGRhdGEgaW4gaGFzaE1hcCBiZWdpbiB3aXRoIF9NQVBEQVRBUFJFRklYO1xuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0dmFyIF9NQVBEQVRBUFJFRklYID0gJ8OlJztcblxuXHQvKipcblx0ICogSGFzaE1hcCBjYW4gaGFuZGxlIHRoZSBrZXktdmFsdWUgcGFpcnMuPGJyPlxuXHQgKiBDYXV0aW9uOjxicj5cblx0ICogIEhhc2hNYXAgaW5zdGFuY2UgaGFzIGEgbGVuZ3RoIHByb3BlcnR5IGJ1dCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgQXJyYXkuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqXSBBIGluaXRpYWwgZGF0YSBmb3IgY3JlYXRpb24uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAbWVtYmVyb2YgdHVpLnV0aWxcblx0ICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAxLjMuMFxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgSGFzaE1hcCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKS5IYXNoTWFwO1xuXHQgKiB2YXIgaG0gPSBuZXcgdHVpLnV0aWwuSGFzaE1hcCh7XG5cdCAgJ215ZGF0YSc6IHtcblx0ICAgICdoZWxsbyc6ICdpbWZpbmUnXG5cdCAgfSxcblx0ICAnd2hhdCc6ICd0aW1lJ1xuXHR9KTtcblx0ICogQGV4YW1wbGVcblx0ICogLy8gZGlzdHJpYnV0aW9uIGZpbGUsIHNjcmlwdFxuXHQgKiA8c2NyaXB0IHNyYz0ncGF0aC10by90dWktY29kZS1zbmlwcHQuanMnPjwvc2NyaXB0PlxuXHQgKiA8c2NyaXB0PlxuXHQgKiB2YXIgSGFzaE1hcCA9IHR1aS51dGlsLkhhc2hNYXA7XG5cdCAqIDxzY3JpcHQ+XG5cdCAqIHZhciBobSA9IG5ldyB0dWkudXRpbC5IYXNoTWFwKHtcblx0ICAnbXlkYXRhJzoge1xuXHQgICAgJ2hlbGxvJzogJ2ltZmluZSdcblx0ICB9LFxuXHQgICd3aGF0JzogJ3RpbWUnXG5cdH0pO1xuXHQgKi9cblx0ZnVuY3Rpb24gSGFzaE1hcChvYmopIHtcblx0ICAgIC8qKlxuXHQgICAgICogc2l6ZVxuXHQgICAgICogQHR5cGUge251bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5sZW5ndGggPSAwO1xuXG5cdCAgICBpZiAob2JqKSB7XG5cdCAgICAgICAgdGhpcy5zZXRPYmplY3Qob2JqKTtcblx0ICAgIH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTZXQgYSBkYXRhIGZyb20gdGhlIGdpdmVuIGtleSB3aXRoIHZhbHVlIG9yIHRoZSBnaXZlbiBvYmplY3QuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0ga2V5IEEgc3RyaW5nIG9yIG9iamVjdCBmb3Iga2V5XG5cdCAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSBBIGRhdGFcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciBIYXNoTWFwID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpLkhhc2hNYXA7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciBIYXNoTWFwID0gdHVpLnV0aWwuSGFzaE1hcDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdmFyIGhtID0gbmV3IEhhc2hNYXAoKTtcblx0ICogaG0uc2V0KCdrZXknLCAndmFsdWUnKTtcblx0ICogaG0uc2V0KHtcblx0ICogICAgICdrZXkxJzogJ2RhdGExJyxcblx0ICogICAgICdrZXkyJzogJ2RhdGEyJ1xuXHQgKiB9KTtcblx0ICovXG5cdEhhc2hNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG5cdCAgICAgICAgdGhpcy5zZXRLZXlWYWx1ZShrZXksIHZhbHVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5zZXRPYmplY3Qoa2V5KTtcblx0ICAgIH1cblx0fTtcblxuXHQvKipcblx0ICogU2V0IGEgZGF0YSBmcm9tIHRoZSBnaXZlbiBrZXkgd2l0aCB2YWx1ZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIHN0cmluZyBmb3Iga2V5XG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgQSBkYXRhXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgSGFzaE1hcCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKS5IYXNoTWFwOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgSGFzaE1hcCA9IHR1aS51dGlsLkhhc2hNYXA7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqIHZhciBobSA9IG5ldyBIYXNoTWFwKCk7XG5cdCAqIGhtLnNldEtleVZhbHVlKCdrZXknLCAndmFsdWUnKTtcblx0ICovXG5cdEhhc2hNYXAucHJvdG90eXBlLnNldEtleVZhbHVlID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuXHQgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7XG5cdCAgICAgICAgdGhpcy5sZW5ndGggKz0gMTtcblx0ICAgIH1cblx0ICAgIHRoaXNbdGhpcy5lbmNvZGVLZXkoa2V5KV0gPSB2YWx1ZTtcblx0fTtcblxuXHQvKipcblx0ICogU2V0IGEgZGF0YSBmcm9tIHRoZSBnaXZlbiBvYmplY3QuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmogQSBvYmplY3QgZm9yIGRhdGFcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciBIYXNoTWFwID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpLkhhc2hNYXA7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciBIYXNoTWFwID0gdHVpLnV0aWwuSGFzaE1hcDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdmFyIGhtID0gbmV3IEhhc2hNYXAoKTtcblx0ICogaG0uc2V0T2JqZWN0KHtcblx0ICogICAgICdrZXkxJzogJ2RhdGExJyxcblx0ICogICAgICdrZXkyJzogJ2RhdGEyJ1xuXHQgKiB9KTtcblx0ICovXG5cdEhhc2hNYXAucHJvdG90eXBlLnNldE9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICBjb2xsZWN0aW9uLmZvckVhY2hPd25Qcm9wZXJ0aWVzKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXHQgICAgICAgIHNlbGYuc2V0S2V5VmFsdWUoa2V5LCB2YWx1ZSk7XG5cdCAgICB9KTtcblx0fTtcblxuXHQvKipcblx0ICogTWVyZ2Ugd2l0aCB0aGUgZ2l2ZW4gYW5vdGhlciBoYXNoTWFwLlxuXHQgKiBAcGFyYW0ge0hhc2hNYXB9IGhhc2hNYXAgQW5vdGhlciBoYXNoTWFwIGluc3RhbmNlXG5cdCAqL1xuXHRIYXNoTWFwLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uKGhhc2hNYXApIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgaGFzaE1hcC5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcblx0ICAgICAgICBzZWxmLnNldEtleVZhbHVlKGtleSwgdmFsdWUpO1xuXHQgICAgfSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEVuY29kZSB0aGUgZ2l2ZW4ga2V5IGZvciBoYXNoTWFwLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEEgc3RyaW5nIGZvciBrZXlcblx0ICogQHJldHVybnMge3N0cmluZ30gQSBlbmNvZGVkIGtleVxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0SGFzaE1hcC5wcm90b3R5cGUuZW5jb2RlS2V5ID0gZnVuY3Rpb24oa2V5KSB7XG5cdCAgICByZXR1cm4gX01BUERBVEFQUkVGSVggKyBrZXk7XG5cdH07XG5cblx0LyoqXG5cdCAqIERlY29kZSB0aGUgZ2l2ZW4ga2V5IGluIGhhc2hNYXAuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgQSBzdHJpbmcgZm9yIGtleVxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBBIGRlY29kZWQga2V5XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRIYXNoTWFwLnByb3RvdHlwZS5kZWNvZGVLZXkgPSBmdW5jdGlvbihrZXkpIHtcblx0ICAgIHZhciBkZWNvZGVkS2V5ID0ga2V5LnNwbGl0KF9NQVBEQVRBUFJFRklYKTtcblxuXHQgICAgcmV0dXJuIGRlY29kZWRLZXlbZGVjb2RlZEtleS5sZW5ndGggLSAxXTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJuIHRoZSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBrZXkuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgQSBzdHJpbmcgZm9yIGtleVxuXHQgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIGZyb20gYSBrZXlcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciBIYXNoTWFwID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpLkhhc2hNYXA7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciBIYXNoTWFwID0gdHVpLnV0aWwuSGFzaE1hcDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdmFyIGhtID0gbmV3IEhhc2hNYXAoKTtcblx0ICogaG0uc2V0KCdrZXknLCAndmFsdWUnKTtcblx0ICogaG0uZ2V0KCdrZXknKSAvLyB2YWx1ZVxuXHQgKi9cblx0SGFzaE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG5cdCAgICByZXR1cm4gdGhpc1t0aGlzLmVuY29kZUtleShrZXkpXTtcblx0fTtcblxuXHQvKipcblx0ICogQ2hlY2sgdGhlIGV4aXN0ZW5jZSBvZiBhIHZhbHVlIGZyb20gdGhlIGtleS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIHN0cmluZyBmb3Iga2V5XG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBJbmRpY2F0aW5nIHdoZXRoZXIgYSB2YWx1ZSBleGlzdHMgb3Igbm90LlxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIEhhc2hNYXAgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0JykuSGFzaE1hcDsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIEhhc2hNYXAgPSB0dWkudXRpbC5IYXNoTWFwOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgaG0gPSBuZXcgSGFzaE1hcCgpO1xuXHQgKiBobS5zZXQoJ2tleScsICd2YWx1ZScpO1xuXHQgKiBobS5oYXMoJ2tleScpIC8vIHRydWVcblx0ICovXG5cdEhhc2hNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuXHQgICAgcmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkodGhpcy5lbmNvZGVLZXkoa2V5KSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZSBhIGRhdGEoa2V5LXZhbHVlIHBhaXJzKSBmcm9tIHRoZSBnaXZlbiBrZXkgb3IgdGhlIGdpdmVuIGtleS1saXN0LlxuXHQgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0ga2V5IEEgc3RyaW5nIGZvciBrZXlcblx0ICogQHJldHVybnMge3N0cmluZ3xzdHJpbmdbXX0gQSByZW1vdmVkIGRhdGFcblx0ICogQGV4YW1wbGVcblx0ICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG5cdCAqIHZhciBIYXNoTWFwID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldCcpLkhhc2hNYXA7IC8vIG5vZGUsIGNvbW1vbmpzXG5cdCAqIHZhciBIYXNoTWFwID0gdHVpLnV0aWwuSGFzaE1hcDsgLy8gZGlzdHJpYnV0aW9uIGZpbGVcblx0ICpcblx0ICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cblx0ICogdmFyIGhtID0gbmV3IEhhc2hNYXAoKTtcblx0ICogaG0uc2V0KCdrZXknLCAndmFsdWUnKTtcblx0ICogaG0uc2V0KCdrZXkyJywgJ3ZhbHVlJyk7XG5cdCAqXG5cdCAqIGhtLnJlbW92ZSgna2V5Jyk7XG5cdCAqIGhtLnJlbW92ZSgna2V5JywgJ2tleTInKTtcblx0ICogaG0ucmVtb3ZlKFsna2V5JywgJ2tleTInXSk7XG5cdCAqL1xuXHRIYXNoTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrZXkpIHtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGtleSA9IGNvbGxlY3Rpb24udG9BcnJheShhcmd1bWVudHMpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gdHlwZS5pc0FycmF5KGtleSkgPyB0aGlzLnJlbW92ZUJ5S2V5QXJyYXkoa2V5KSA6IHRoaXMucmVtb3ZlQnlLZXkoa2V5KTtcblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlIGRhdGEoa2V5LXZhbHVlIHBhaXIpIGZyb20gdGhlIGdpdmVuIGtleS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIHN0cmluZyBmb3Iga2V5XG5cdCAqIEByZXR1cm5zIHsqfG51bGx9IEEgcmVtb3ZlZCBkYXRhXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgSGFzaE1hcCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKS5IYXNoTWFwOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgSGFzaE1hcCA9IHR1aS51dGlsLkhhc2hNYXA7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqIHZhciBobSA9IG5ldyBIYXNoTWFwKCk7XG5cdCAqIGhtLnNldCgna2V5JywgJ3ZhbHVlJyk7XG5cdCAqIGhtLnJlbW92ZUJ5S2V5KCdrZXknKVxuXHQgKi9cblx0SGFzaE1hcC5wcm90b3R5cGUucmVtb3ZlQnlLZXkgPSBmdW5jdGlvbihrZXkpIHtcblx0ICAgIHZhciBkYXRhID0gdGhpcy5oYXMoa2V5KSA/IHRoaXMuZ2V0KGtleSkgOiBudWxsO1xuXG5cdCAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuXHQgICAgICAgIGRlbGV0ZSB0aGlzW3RoaXMuZW5jb2RlS2V5KGtleSldO1xuXHQgICAgICAgIHRoaXMubGVuZ3RoIC09IDE7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBkYXRhO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmUgYSBkYXRhKGtleS12YWx1ZSBwYWlycykgZnJvbSB0aGUgZ2l2ZW4ga2V5LWxpc3QuXG5cdCAqIEBwYXJhbSB7c3RyaW5nW119IGtleUFycmF5IEFuIGFycmF5IG9mIGtleXNcblx0ICogQHJldHVybnMge3N0cmluZ1tdfSBBIHJlbW92ZWQgZGF0YVxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIEhhc2hNYXAgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0JykuSGFzaE1hcDsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIEhhc2hNYXAgPSB0dWkudXRpbC5IYXNoTWFwOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgaG0gPSBuZXcgSGFzaE1hcCgpO1xuXHQgKiBobS5zZXQoJ2tleScsICd2YWx1ZScpO1xuXHQgKiBobS5zZXQoJ2tleTInLCAndmFsdWUnKTtcblx0ICogaG0ucmVtb3ZlQnlLZXlBcnJheShbJ2tleScsICdrZXkyJ10pO1xuXHQgKi9cblx0SGFzaE1hcC5wcm90b3R5cGUucmVtb3ZlQnlLZXlBcnJheSA9IGZ1bmN0aW9uKGtleUFycmF5KSB7XG5cdCAgICB2YXIgZGF0YSA9IFtdO1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICBjb2xsZWN0aW9uLmZvckVhY2goa2V5QXJyYXksIGZ1bmN0aW9uKGtleSkge1xuXHQgICAgICAgIGRhdGEucHVzaChzZWxmLnJlbW92ZUJ5S2V5KGtleSkpO1xuXHQgICAgfSk7XG5cblx0ICAgIHJldHVybiBkYXRhO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmUgYWxsIHRoZSBkYXRhXG5cdCAqL1xuXHRIYXNoTWFwLnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcblx0ICAgICAgICBzZWxmLnJlbW92ZShrZXkpO1xuXHQgICAgfSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEV4ZWN1dGUgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggYWxsIHRoZSBkYXRhLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBDYWxsYmFjayBmdW5jdGlvblxuXHQgKiBAZXhhbXBsZVxuXHQgKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cblx0ICogdmFyIEhhc2hNYXAgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0JykuSGFzaE1hcDsgLy8gbm9kZSwgY29tbW9uanNcblx0ICogdmFyIEhhc2hNYXAgPSB0dWkudXRpbC5IYXNoTWFwOyAvLyBkaXN0cmlidXRpb24gZmlsZVxuXHQgKlxuXHQgKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuXHQgKiB2YXIgaG0gPSBuZXcgSGFzaE1hcCgpO1xuXHQgKiBobS5zZXQoJ2tleScsICd2YWx1ZScpO1xuXHQgKiBobS5zZXQoJ2tleTInLCAndmFsdWUnKTtcblx0ICpcblx0ICogaG0uZWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG5cdCAqICAgICAvL2RvIHNvbWV0aGluZy4uLlxuXHQgKiB9KTtcblx0ICovXG5cdEhhc2hNYXAucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbihpdGVyYXRlZSkge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgdmFyIGZsYWc7XG5cblx0ICAgIGNvbGxlY3Rpb24uZm9yRWFjaE93blByb3BlcnRpZXModGhpcywgZnVuY3Rpb24odmFsdWUsIGtleSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5cdCAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09IF9NQVBEQVRBUFJFRklYKSB7XG5cdCAgICAgICAgICAgIGZsYWcgPSBpdGVyYXRlZSh2YWx1ZSwgc2VsZi5kZWNvZGVLZXkoa2V5KSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKGZsYWcgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmbGFnO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm4gdGhlIGtleS1saXN0IHN0b3JlZC5cblx0ICogQHJldHVybnMge0FycmF5fSBBIGtleS1saXN0XG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgSGFzaE1hcCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKS5IYXNoTWFwOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgSGFzaE1hcCA9IHR1aS51dGlsLkhhc2hNYXA7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqICB2YXIgaG0gPSBuZXcgSGFzaE1hcCgpO1xuXHQgKiAgaG0uc2V0KCdrZXknLCAndmFsdWUnKTtcblx0ICogIGhtLnNldCgna2V5MicsICd2YWx1ZScpO1xuXHQgKiAgaG0ua2V5cygpOyAgLy9bJ2tleScsICdrZXkyJyk7XG5cdCAqL1xuXHRIYXNoTWFwLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIga2V5cyA9IFtdO1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXHQgICAgICAgIGtleXMucHVzaChzZWxmLmRlY29kZUtleShrZXkpKTtcblx0ICAgIH0pO1xuXG5cdCAgICByZXR1cm4ga2V5cztcblx0fTtcblxuXHQvKipcblx0ICogV29yayBzaW1pbGFybHkgdG8gQXJyYXkucHJvdG90eXBlLm1hcCgpLjxicj5cblx0ICogSXQgZXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIHRoYXQgY2hlY2tzIGNvbmRpdGlvbnMgb25jZSBmb3IgZWFjaCBlbGVtZW50IG9mIGhhc2hNYXAsPGJyPlxuXHQgKiAgYW5kIHJldHVybnMgYSBuZXcgYXJyYXkgaGF2aW5nIGVsZW1lbnRzIHNhdGlzZnlpbmcgdGhlIGNvbmRpdGlvbnNcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY29uZGl0aW9uIEEgZnVuY3Rpb24gdGhhdCBjaGVja3MgY29uZGl0aW9uc1xuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IGhhdmluZyBlbGVtZW50cyBzYXRpc2Z5aW5nIHRoZSBjb25kaXRpb25zXG5cdCAqIEBleGFtcGxlXG5cdCAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuXHQgKiB2YXIgSGFzaE1hcCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQnKS5IYXNoTWFwOyAvLyBub2RlLCBjb21tb25qc1xuXHQgKiB2YXIgSGFzaE1hcCA9IHR1aS51dGlsLkhhc2hNYXA7IC8vIGRpc3RyaWJ1dGlvbiBmaWxlXG5cdCAqXG5cdCAqIC8vLS0gIzIuIFVzZSBwcm9wZXJ0eSAtLS8vXG5cdCAqIHZhciBobTEgPSBuZXcgSGFzaE1hcCgpO1xuXHQgKiBobTEuc2V0KCdrZXknLCAndmFsdWUnKTtcblx0ICogaG0xLnNldCgna2V5MicsICd2YWx1ZScpO1xuXHQgKlxuXHQgKiBobTEuZmluZChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG5cdCAqICAgICByZXR1cm4ga2V5ID09PSAna2V5Mic7XG5cdCAqIH0pOyAvLyBbJ3ZhbHVlJ11cblx0ICpcblx0ICogdmFyIGhtMiA9IG5ldyBIYXNoTWFwKHtcblx0ICogICAgICdteW9iajEnOiB7XG5cdCAqICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuXHQgKiAgICAgfSxcblx0ICogICAgICdteWJvYmoyJzoge1xuXHQgKiAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAqICAgICB9XG5cdCAqIH0pO1xuXHQgKlxuXHQgKiBobTIuZmluZChmdW5jdGlvbihvYmosIGtleSkge1xuXHQgKiAgICAgcmV0dXJuIG9iai52aXNpYmxlID09PSB0cnVlO1xuXHQgKiB9KTsgLy8gW3t2aXNpYmxlOiB0cnVlfV07XG5cdCAqL1xuXHRIYXNoTWFwLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24oY29uZGl0aW9uKSB7XG5cdCAgICB2YXIgZm91bmRzID0gW107XG5cblx0ICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG5cdCAgICAgICAgaWYgKGNvbmRpdGlvbih2YWx1ZSwga2V5KSkge1xuXHQgICAgICAgICAgICBmb3VuZHMucHVzaCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIHJldHVybiBmb3VuZHM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybiBhIG5ldyBBcnJheSBoYXZpbmcgYWxsIHZhbHVlcy5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBoYXZpbmcgYWxsIHZhbHVlc1xuXHQgKi9cblx0SGFzaE1hcC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG5cdCAgICB0aGlzLmVhY2goZnVuY3Rpb24odikge1xuXHQgICAgICAgIHJlc3VsdC5wdXNoKHYpO1xuXHQgICAgfSk7XG5cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBIYXNoTWFwO1xuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKVxufSk7XG47Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///738\n")},702:(module,__unused_webpack_exports,__webpack_require__)=>{eval("/*!\n * TOAST UI Date Picker\n * @version 4.2.0\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory(__webpack_require__(337));\n\telse {}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__43__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_835__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_835__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__nested_webpack_require_835__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__nested_webpack_require_835__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__nested_webpack_require_835__.d = function(exports, name, getter) {\n/******/ \t\tif(!__nested_webpack_require_835__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__nested_webpack_require_835__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__nested_webpack_require_835__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __nested_webpack_require_835__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__nested_webpack_require_835__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __nested_webpack_require_835__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__nested_webpack_require_835__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__nested_webpack_require_835__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__nested_webpack_require_835__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__nested_webpack_require_835__.p = \"dist\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __nested_webpack_require_835__(__nested_webpack_require_835__.s = 34);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __nested_webpack_require_4304__) {\n\n\"use strict\";\n/**\n * @fileoverview\n * This module provides a function to make a constructor\n * that can inherit from the other constructors like the CLASS easily.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inherit = __nested_webpack_require_4304__(35);\nvar extend = __nested_webpack_require_4304__(7);\n\n/**\n * @module defineClass\n */\n\n/**\n * Help a constructor to be defined and to inherit from the other constructors\n * @param {*} [parent] Parent constructor\n * @param {Object} props Members of constructor\n *  @param {Function} props.init Initialization method\n *  @param {Object} [props.static] Static members of constructor\n * @returns {*} Constructor\n * @memberof module:defineClass\n * @example\n * var defineClass = require('tui-code-snippet/defineClass/defineClass'); // node, commonjs\n *\n * //-- #2. Use property --//\n * var Parent = defineClass({\n *     init: function() { // constuructor\n *         this.name = 'made by def';\n *     },\n *     method: function() {\n *         // ...\n *     },\n *     static: {\n *         staticMethod: function() {\n *              // ...\n *         }\n *     }\n * });\n *\n * var Child = defineClass(Parent, {\n *     childMethod: function() {}\n * });\n *\n * Parent.staticMethod();\n *\n * var parentInstance = new Parent();\n * console.log(parentInstance.name); //made by def\n * parentInstance.staticMethod(); // Error\n *\n * var childInstance = new Child();\n * childInstance.method();\n * childInstance.childMethod();\n */\nfunction defineClass(parent, props) {\n  var obj;\n\n  if (!props) {\n    props = parent;\n    parent = null;\n  }\n\n  obj = props.init || function() {};\n\n  if (parent) {\n    inherit(obj, parent);\n  }\n\n  if (props.hasOwnProperty('static')) {\n    extend(obj, props['static']);\n    delete props['static'];\n  }\n\n  extend(obj.prototype, props);\n\n  return obj;\n}\n\nmodule.exports = defineClass;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Constants of date-picker\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nmodule.exports = {\n  TYPE_DATE: 'date',\n  TYPE_MONTH: 'month',\n  TYPE_YEAR: 'year',\n  TYPE_HOUR: 'hour',\n  TYPE_MINUTE: 'minute',\n  TYPE_MERIDIEM: 'meridiem',\n  MIN_DATE: new Date(1900, 0, 1),\n  MAX_DATE: new Date(2999, 11, 31),\n\n  DEFAULT_LANGUAGE_TYPE: 'en',\n\n  CLASS_NAME_SELECTED: 'tui-is-selected',\n\n  CLASS_NAME_PREV_MONTH_BTN: 'tui-calendar-btn-prev-month',\n  CLASS_NAME_PREV_YEAR_BTN: 'tui-calendar-btn-prev-year',\n  CLASS_NAME_NEXT_YEAR_BTN: 'tui-calendar-btn-next-year',\n  CLASS_NAME_NEXT_MONTH_BTN: 'tui-calendar-btn-next-month',\n\n  DEFAULT_WEEK_START_DAY: 'Sun',\n  WEEK_START_DAY_MAP: {\n    sun: 0,\n    mon: 1,\n    tue: 2,\n    wed: 3,\n    thu: 4,\n    fri: 5,\n    sat: 6\n  }\n};\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Execute the provided callback once for each element present in the array(or Array-like object) in ascending order.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Execute the provided callback once for each element present\n * in the array(or Array-like object) in ascending order.\n * If the callback function returns false, the loop will be stopped.\n * Callback function(iteratee) is invoked with three arguments:\n *  1) The value of the element\n *  2) The index of the element\n *  3) The array(or Array-like object) being traversed\n * @param {Array|Arguments|NodeList} arr The array(or Array-like object) that will be traversed\n * @param {function} iteratee Callback function\n * @param {Object} [context] Context(this) of callback function\n * @memberof module:collection\n * @example\n * var forEachArray = require('tui-code-snippet/collection/forEachArray'); // node, commonjs\n *\n * var sum = 0;\n *\n * forEachArray([1,2,3], function(value){\n *     sum += value;\n * });\n * alert(sum); // 6\n */\nfunction forEachArray(arr, iteratee, context) {\n  var index = 0;\n  var len = arr.length;\n\n  context = context || null;\n\n  for (; index < len; index += 1) {\n    if (iteratee.call(context, arr[index], index, arr) === false) {\n      break;\n    }\n  }\n}\n\nmodule.exports = forEachArray;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __nested_webpack_require_8522__) {\n\n\"use strict\";\n/* eslint-disable complexity */\n/**\n * @fileoverview Returns the first index at which a given element can be found in the array.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isArray = __nested_webpack_require_8522__(6);\n\n/**\n * @module array\n */\n\n/**\n * Returns the first index at which a given element can be found in the array\n * from start index(default 0), or -1 if it is not present.\n * It compares searchElement to elements of the Array using strict equality\n * (the same method used by the ===, or triple-equals, operator).\n * @param {*} searchElement Element to locate in the array\n * @param {Array} array Array that will be traversed.\n * @param {number} startIndex Start index in array for searching (default 0)\n * @returns {number} the First index at which a given element, or -1 if it is not present\n * @memberof module:array\n * @example\n * var inArray = require('tui-code-snippet/array/inArray'); // node, commonjs\n *\n * var arr = ['one', 'two', 'three', 'four'];\n * var idx1 = inArray('one', arr, 3); // -1\n * var idx2 = inArray('one', arr); // 0\n */\nfunction inArray(searchElement, array, startIndex) {\n  var i;\n  var length;\n  startIndex = startIndex || 0;\n\n  if (!isArray(array)) {\n    return -1;\n  }\n\n  if (Array.prototype.indexOf) {\n    return Array.prototype.indexOf.call(array, searchElement, startIndex);\n  }\n\n  length = array.length;\n  for (i = startIndex; startIndex >= 0 && i < length; i += 1) {\n    if (array[i] === searchElement) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nmodule.exports = inArray;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __nested_webpack_require_10152__) {\n\n\"use strict\";\n/**\n * @fileoverview Utils for Datepicker component\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEachArray = __nested_webpack_require_10152__(2);\nvar isHTMLNode = __nested_webpack_require_10152__(46);\nvar sendHostname = __nested_webpack_require_10152__(47);\n\nvar currentId = 0;\n\nvar utils = {\n  /**\n   * Get a target element\n   * @param {Event} ev Event object\n   * @returns {HTMLElement} An event target element\n   */\n  getTarget: function(ev) {\n    return ev.target || ev.srcElement;\n  },\n\n  /**\n   * Return the same element with an element or a matched element searched by a selector.\n   * @param {HTMLElement|string} param HTMLElement or selector\n   * @returns {HTMLElement} A matched element\n   */\n  getElement: function(param) {\n    return isHTMLNode(param) ? param : document.querySelector(param);\n  },\n\n  /**\n   * Get a selector of the element.\n   * @param {HTMLElement} elem An element\n   * @returns {string}\n   */\n  getSelector: function(elem) {\n    var selector = '';\n    if (elem.id) {\n      selector = '#' + elem.id;\n    } else if (elem.className) {\n      selector = '.' + elem.className.split(' ')[0];\n    }\n\n    return selector;\n  },\n\n  /**\n   * Create an unique id.\n   * @returns {number}\n   */\n  generateId: function() {\n    currentId += 1;\n\n    return currentId;\n  },\n\n  /**\n   * Create a new array with all elements that pass the test implemented by the provided function.\n   * @param {Array} arr - Array that will be traversed\n   * @param {function} iteratee - iteratee callback function\n   * @returns {Array}\n   */\n  filter: function(arr, iteratee) {\n    var result = [];\n\n    forEachArray(arr, function(item) {\n      if (iteratee(item)) {\n        result.push(item);\n      }\n    });\n\n    return result;\n  },\n\n  /**\n   * Send hostname for GA\n   * @ignore\n   */\n  sendHostName: function() {\n    sendHostname('date-picker', 'UA-129987462-1');\n  }\n};\n\nmodule.exports = utils;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __nested_webpack_require_12125__) {\n\n\"use strict\";\n/**\n * @fileoverview Utils for DatePicker component\n * @author NHN. FE dev Lab. <dl_javascript@nhn.com>\n */\n\n\n\nvar isDate = __nested_webpack_require_12125__(28);\nvar isNumber = __nested_webpack_require_12125__(15);\n\nvar constants = __nested_webpack_require_12125__(1);\n\nvar TYPE_DATE = constants.TYPE_DATE;\nvar TYPE_MONTH = constants.TYPE_MONTH;\nvar TYPE_YEAR = constants.TYPE_YEAR;\n\n/**\n * Utils of calendar\n * @namespace dateUtil\n * @ignore\n */\nvar utils = {\n  /**\n   * Get weeks count by paramenter\n   * @param {number} year A year\n   * @param {number} month A month\n   * @returns {number} Weeks count (4~6)\n   **/\n  getWeeksCount: function(year, month) {\n    var firstDay = utils.getFirstDay(year, month),\n      lastDate = utils.getLastDayInMonth(year, month);\n\n    return Math.ceil((firstDay + lastDate) / 7);\n  },\n\n  /**\n   * @param {Date} date - Date instance\n   * @returns {boolean}\n   */\n  isValidDate: function(date) {\n    return isDate(date) && !isNaN(date.getTime());\n  },\n\n  /**\n   * Get which day is first by parameters that include year and month information.\n   * @param {number} year A year\n   * @param {number} month A month\n   * @returns {number} (0~6)\n   */\n  getFirstDay: function(year, month) {\n    return new Date(year, month - 1, 1).getDay();\n  },\n\n  /**\n   * Get timestamp of the first day.\n   * @param {number} year A year\n   * @param {number} month A month\n   * @returns {number} timestamp\n   */\n  getFirstDayTimestamp: function(year, month) {\n    return new Date(year, month, 1).getTime();\n  },\n\n  /**\n   * Get last date by parameters that include year and month information.\n   * @param {number} year A year\n   * @param {number} month A month\n   * @returns {number} (1~31)\n   */\n  getLastDayInMonth: function(year, month) {\n    return new Date(year, month, 0).getDate();\n  },\n\n  /**\n   * Chagne number 0~9 to '00~09'\n   * @param {number} number number\n   * @returns {string}\n   * @example\n   *  dateUtil.prependLeadingZero(0); //  '00'\n   *  dateUtil.prependLeadingZero(9); //  '09'\n   *  dateUtil.prependLeadingZero(12); //  '12'\n   */\n  prependLeadingZero: function(number) {\n    var prefix = '';\n\n    if (number < 10) {\n      prefix = '0';\n    }\n\n    return prefix + number;\n  },\n\n  /**\n   * Get meridiem hour\n   * @param {number} hour - Original hour\n   * @returns {number} Converted meridiem hour\n   */\n  getMeridiemHour: function(hour) {\n    hour %= 12;\n\n    if (hour === 0) {\n      hour = 12;\n    }\n\n    return hour;\n  },\n\n  /**\n   * Returns number or default\n   * @param {*} any - Any value\n   * @param {number} defaultNumber - Default number\n   * @throws Will throw an error if the defaultNumber is invalid.\n   * @returns {number}\n   */\n  getSafeNumber: function(any, defaultNumber) {\n    if (isNaN(defaultNumber) || !isNumber(defaultNumber)) {\n      throw Error('The defaultNumber must be a valid number.');\n    }\n    if (isNaN(any)) {\n      return defaultNumber;\n    }\n\n    return Number(any);\n  },\n\n  /**\n   * Return date of the week\n   * @param {number} year - Year\n   * @param {number} month - Month\n   * @param {number} weekNumber - Week number (0~5)\n   * @param {number} dayNumber - Day number (0: sunday, 1: monday, ....)\n   * @returns {number}\n   */\n  getDateOfWeek: function(year, month, weekNumber, dayNumber) {\n    var firstDayOfMonth = new Date(year, month - 1).getDay();\n    var dateOffset = firstDayOfMonth - dayNumber - 1;\n\n    return new Date(year, month - 1, weekNumber * 7 - dateOffset);\n  },\n\n  /**\n   * Returns range arr\n   * @param {number} start - Start value\n   * @param {number} end - End value\n   * @returns {Array}\n   */\n  getRangeArr: function(start, end) {\n    var arr = [];\n    var i;\n\n    if (start > end) {\n      for (i = end; i >= start; i -= 1) {\n        arr.push(i);\n      }\n    } else {\n      for (i = start; i <= end; i += 1) {\n        arr.push(i);\n      }\n    }\n\n    return arr;\n  },\n\n  /**\n   * Returns cloned date with the start of a unit of time\n   * @param {Date|number} date - Original date\n   * @param {string} [type = TYPE_DATE] - Unit type\n   * @throws {Error}\n   * @returns {Date}\n   */\n  cloneWithStartOf: function(date, type) {\n    type = type || TYPE_DATE;\n    date = new Date(date);\n\n    // Does not consider time-level yet.\n    date.setHours(0, 0, 0, 0);\n\n    switch (type) {\n      case TYPE_DATE:\n        break;\n      case TYPE_MONTH:\n        date.setDate(1);\n        break;\n      case TYPE_YEAR:\n        date.setMonth(0, 1);\n        break;\n      default:\n        throw Error('Unsupported type: ' + type);\n    }\n\n    return date;\n  },\n\n  /**\n   * Returns cloned date with the end of a unit of time\n   * @param {Date|number} date - Original date\n   * @param {string} [type = TYPE_DATE] - Unit type\n   * @throws {Error}\n   * @returns {Date}\n   */\n  cloneWithEndOf: function(date, type) {\n    type = type || TYPE_DATE;\n    date = new Date(date);\n\n    // Does not consider time-level yet.\n    date.setHours(23, 59, 59, 999);\n\n    switch (type) {\n      case TYPE_DATE:\n        break;\n      case TYPE_MONTH:\n        date.setMonth(date.getMonth() + 1, 0);\n        break;\n      case TYPE_YEAR:\n        date.setMonth(11, 31);\n        break;\n      default:\n        throw Error('Unsupported type: ' + type);\n    }\n\n    return date;\n  },\n\n  /**\n   * Compare two dates\n   * @param {Date|number} dateA - Date\n   * @param {Date|number} dateB - Date\n   * @param {string} [cmpLevel] - Comparing level\n   * @returns {number}\n   */\n  compare: function(dateA, dateB, cmpLevel) {\n    var aTimestamp, bTimestamp;\n\n    if (!(utils.isValidDate(dateA) && utils.isValidDate(dateB))) {\n      return NaN;\n    }\n\n    if (!cmpLevel) {\n      aTimestamp = dateA.getTime();\n      bTimestamp = dateB.getTime();\n    } else {\n      aTimestamp = utils.cloneWithStartOf(dateA, cmpLevel).getTime();\n      bTimestamp = utils.cloneWithStartOf(dateB, cmpLevel).getTime();\n    }\n\n    if (aTimestamp > bTimestamp) {\n      return 1;\n    }\n\n    return aTimestamp === bTimestamp ? 0 : -1;\n  },\n\n  /**\n   * Returns whether two dates are same\n   * @param {Date|number} dateA - Date\n   * @param {Date|number} dateB - Date\n   * @param {string} [cmpLevel] - Comparing level\n   * @returns {boolean}\n   */\n  isSame: function(dateA, dateB, cmpLevel) {\n    return utils.compare(dateA, dateB, cmpLevel) === 0;\n  },\n\n  /**\n   * Returns whether the target is in range\n   * @param {Date|number} start - Range start\n   * @param {Date|number} end - Range end\n   * @param {Date|number} target - Target\n   * @param {string} [cmpLevel = TYPE_DATE] - Comparing level\n   * @returns {boolean}\n   */\n  inRange: function(start, end, target, cmpLevel) {\n    return utils.compare(start, target, cmpLevel) < 1 && utils.compare(end, target, cmpLevel) > -1;\n  }\n};\n\nmodule.exports = utils;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is an instance of Array or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is an instance of Array or not.\n * If the given variable is an instance of Array, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is array instance?\n * @memberof module:type\n */\nfunction isArray(obj) {\n  return obj instanceof Array;\n}\n\nmodule.exports = isArray;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Extend the target object from other objects.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * @module object\n */\n\n/**\n * Extend the target object from other objects.\n * @param {object} target - Object that will be extended\n * @param {...object} objects - Objects as sources\n * @returns {object} Extended object\n * @memberof module:object\n */\nfunction extend(target, objects) { // eslint-disable-line no-unused-vars\n  var hasOwnProp = Object.prototype.hasOwnProperty;\n  var source, prop, i, len;\n\n  for (i = 1, len = arguments.length; i < len; i += 1) {\n    source = arguments[i];\n    for (prop in source) {\n      if (hasOwnProp.call(source, prop)) {\n        target[prop] = source[prop];\n      }\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = extend;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __nested_webpack_require_20340__) {\n\n\"use strict\";\n/**\n * @fileoverview This module provides some functions for custom events. And it is implemented in the observer design pattern.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar extend = __nested_webpack_require_20340__(7);\nvar isExisty = __nested_webpack_require_20340__(37);\nvar isString = __nested_webpack_require_20340__(13);\nvar isObject = __nested_webpack_require_20340__(22);\nvar isArray = __nested_webpack_require_20340__(6);\nvar isFunction = __nested_webpack_require_20340__(39);\nvar forEach = __nested_webpack_require_20340__(9);\n\nvar R_EVENTNAME_SPLIT = /\\s+/g;\n\n/**\n * @class\n * @example\n * // node, commonjs\n * var CustomEvents = require('tui-code-snippet/customEvents/customEvents');\n */\nfunction CustomEvents() {\n  /**\n     * @type {HandlerItem[]}\n     */\n  this.events = null;\n\n  /**\n     * only for checking specific context event was binded\n     * @type {object[]}\n     */\n  this.contexts = null;\n}\n\n/**\n * Mixin custom events feature to specific constructor\n * @param {function} func - constructor\n * @example\n * var CustomEvents = require('tui-code-snippet/customEvents/customEvents'); // node, commonjs\n *\n * var model;\n * function Model() {\n *     this.name = '';\n * }\n * CustomEvents.mixin(Model);\n *\n * model = new Model();\n * model.on('change', function() { this.name = 'model'; }, this);\n * model.fire('change');\n * alert(model.name); // 'model';\n */\nCustomEvents.mixin = function(func) {\n  extend(func.prototype, CustomEvents.prototype);\n};\n\n/**\n * Get HandlerItem object\n * @param {function} handler - handler function\n * @param {object} [context] - context for handler\n * @returns {HandlerItem} HandlerItem object\n * @private\n */\nCustomEvents.prototype._getHandlerItem = function(handler, context) {\n  var item = {handler: handler};\n\n  if (context) {\n    item.context = context;\n  }\n\n  return item;\n};\n\n/**\n * Get event object safely\n * @param {string} [eventName] - create sub event map if not exist.\n * @returns {(object|array)} event object. if you supplied `eventName`\n *  parameter then make new array and return it\n * @private\n */\nCustomEvents.prototype._safeEvent = function(eventName) {\n  var events = this.events;\n  var byName;\n\n  if (!events) {\n    events = this.events = {};\n  }\n\n  if (eventName) {\n    byName = events[eventName];\n\n    if (!byName) {\n      byName = [];\n      events[eventName] = byName;\n    }\n\n    events = byName;\n  }\n\n  return events;\n};\n\n/**\n * Get context array safely\n * @returns {array} context array\n * @private\n */\nCustomEvents.prototype._safeContext = function() {\n  var context = this.contexts;\n\n  if (!context) {\n    context = this.contexts = [];\n  }\n\n  return context;\n};\n\n/**\n * Get index of context\n * @param {object} ctx - context that used for bind custom event\n * @returns {number} index of context\n * @private\n */\nCustomEvents.prototype._indexOfContext = function(ctx) {\n  var context = this._safeContext();\n  var index = 0;\n\n  while (context[index]) {\n    if (ctx === context[index][0]) {\n      return index;\n    }\n\n    index += 1;\n  }\n\n  return -1;\n};\n\n/**\n * Memorize supplied context for recognize supplied object is context or\n *  name: handler pair object when off()\n * @param {object} ctx - context object to memorize\n * @private\n */\nCustomEvents.prototype._memorizeContext = function(ctx) {\n  var context, index;\n\n  if (!isExisty(ctx)) {\n    return;\n  }\n\n  context = this._safeContext();\n  index = this._indexOfContext(ctx);\n\n  if (index > -1) {\n    context[index][1] += 1;\n  } else {\n    context.push([ctx, 1]);\n  }\n};\n\n/**\n * Forget supplied context object\n * @param {object} ctx - context object to forget\n * @private\n */\nCustomEvents.prototype._forgetContext = function(ctx) {\n  var context, contextIndex;\n\n  if (!isExisty(ctx)) {\n    return;\n  }\n\n  context = this._safeContext();\n  contextIndex = this._indexOfContext(ctx);\n\n  if (contextIndex > -1) {\n    context[contextIndex][1] -= 1;\n\n    if (context[contextIndex][1] <= 0) {\n      context.splice(contextIndex, 1);\n    }\n  }\n};\n\n/**\n * Bind event handler\n * @param {(string|{name:string, handler:function})} eventName - custom\n *  event name or an object {eventName: handler}\n * @param {(function|object)} [handler] - handler function or context\n * @param {object} [context] - context for binding\n * @private\n */\nCustomEvents.prototype._bindEvent = function(eventName, handler, context) {\n  var events = this._safeEvent(eventName);\n  this._memorizeContext(context);\n  events.push(this._getHandlerItem(handler, context));\n};\n\n/**\n * Bind event handlers\n * @param {(string|{name:string, handler:function})} eventName - custom\n *  event name or an object {eventName: handler}\n * @param {(function|object)} [handler] - handler function or context\n * @param {object} [context] - context for binding\n * //-- #1. Get Module --//\n * var CustomEvents = require('tui-code-snippet/customEvents/customEvents'); // node, commonjs\n *\n * //-- #2. Use method --//\n * // # 2.1 Basic Usage\n * CustomEvents.on('onload', handler);\n *\n * // # 2.2 With context\n * CustomEvents.on('onload', handler, myObj);\n *\n * // # 2.3 Bind by object that name, handler pairs\n * CustomEvents.on({\n *     'play': handler,\n *     'pause': handler2\n * });\n *\n * // # 2.4 Bind by object that name, handler pairs with context object\n * CustomEvents.on({\n *     'play': handler\n * }, myObj);\n */\nCustomEvents.prototype.on = function(eventName, handler, context) {\n  var self = this;\n\n  if (isString(eventName)) {\n    // [syntax 1, 2]\n    eventName = eventName.split(R_EVENTNAME_SPLIT);\n    forEach(eventName, function(name) {\n      self._bindEvent(name, handler, context);\n    });\n  } else if (isObject(eventName)) {\n    // [syntax 3, 4]\n    context = handler;\n    forEach(eventName, function(func, name) {\n      self.on(name, func, context);\n    });\n  }\n};\n\n/**\n * Bind one-shot event handlers\n * @param {(string|{name:string,handler:function})} eventName - custom\n *  event name or an object {eventName: handler}\n * @param {function|object} [handler] - handler function or context\n * @param {object} [context] - context for binding\n */\nCustomEvents.prototype.once = function(eventName, handler, context) {\n  var self = this;\n\n  if (isObject(eventName)) {\n    context = handler;\n    forEach(eventName, function(func, name) {\n      self.once(name, func, context);\n    });\n\n    return;\n  }\n\n  function onceHandler() { // eslint-disable-line require-jsdoc\n    handler.apply(context, arguments);\n    self.off(eventName, onceHandler, context);\n  }\n\n  this.on(eventName, onceHandler, context);\n};\n\n/**\n * Splice supplied array by callback result\n * @param {array} arr - array to splice\n * @param {function} predicate - function return boolean\n * @private\n */\nCustomEvents.prototype._spliceMatches = function(arr, predicate) {\n  var i = 0;\n  var len;\n\n  if (!isArray(arr)) {\n    return;\n  }\n\n  for (len = arr.length; i < len; i += 1) {\n    if (predicate(arr[i]) === true) {\n      arr.splice(i, 1);\n      len -= 1;\n      i -= 1;\n    }\n  }\n};\n\n/**\n * Get matcher for unbind specific handler events\n * @param {function} handler - handler function\n * @returns {function} handler matcher\n * @private\n */\nCustomEvents.prototype._matchHandler = function(handler) {\n  var self = this;\n\n  return function(item) {\n    var needRemove = handler === item.handler;\n\n    if (needRemove) {\n      self._forgetContext(item.context);\n    }\n\n    return needRemove;\n  };\n};\n\n/**\n * Get matcher for unbind specific context events\n * @param {object} context - context\n * @returns {function} object matcher\n * @private\n */\nCustomEvents.prototype._matchContext = function(context) {\n  var self = this;\n\n  return function(item) {\n    var needRemove = context === item.context;\n\n    if (needRemove) {\n      self._forgetContext(item.context);\n    }\n\n    return needRemove;\n  };\n};\n\n/**\n * Get matcher for unbind specific hander, context pair events\n * @param {function} handler - handler function\n * @param {object} context - context\n * @returns {function} handler, context matcher\n * @private\n */\nCustomEvents.prototype._matchHandlerAndContext = function(handler, context) {\n  var self = this;\n\n  return function(item) {\n    var matchHandler = (handler === item.handler);\n    var matchContext = (context === item.context);\n    var needRemove = (matchHandler && matchContext);\n\n    if (needRemove) {\n      self._forgetContext(item.context);\n    }\n\n    return needRemove;\n  };\n};\n\n/**\n * Unbind event by event name\n * @param {string} eventName - custom event name to unbind\n * @param {function} [handler] - handler function\n * @private\n */\nCustomEvents.prototype._offByEventName = function(eventName, handler) {\n  var self = this;\n  var andByHandler = isFunction(handler);\n  var matchHandler = self._matchHandler(handler);\n\n  eventName = eventName.split(R_EVENTNAME_SPLIT);\n\n  forEach(eventName, function(name) {\n    var handlerItems = self._safeEvent(name);\n\n    if (andByHandler) {\n      self._spliceMatches(handlerItems, matchHandler);\n    } else {\n      forEach(handlerItems, function(item) {\n        self._forgetContext(item.context);\n      });\n\n      self.events[name] = [];\n    }\n  });\n};\n\n/**\n * Unbind event by handler function\n * @param {function} handler - handler function\n * @private\n */\nCustomEvents.prototype._offByHandler = function(handler) {\n  var self = this;\n  var matchHandler = this._matchHandler(handler);\n\n  forEach(this._safeEvent(), function(handlerItems) {\n    self._spliceMatches(handlerItems, matchHandler);\n  });\n};\n\n/**\n * Unbind event by object(name: handler pair object or context object)\n * @param {object} obj - context or {name: handler} pair object\n * @param {function} handler - handler function\n * @private\n */\nCustomEvents.prototype._offByObject = function(obj, handler) {\n  var self = this;\n  var matchFunc;\n\n  if (this._indexOfContext(obj) < 0) {\n    forEach(obj, function(func, name) {\n      self.off(name, func);\n    });\n  } else if (isString(handler)) {\n    matchFunc = this._matchContext(obj);\n\n    self._spliceMatches(this._safeEvent(handler), matchFunc);\n  } else if (isFunction(handler)) {\n    matchFunc = this._matchHandlerAndContext(handler, obj);\n\n    forEach(this._safeEvent(), function(handlerItems) {\n      self._spliceMatches(handlerItems, matchFunc);\n    });\n  } else {\n    matchFunc = this._matchContext(obj);\n\n    forEach(this._safeEvent(), function(handlerItems) {\n      self._spliceMatches(handlerItems, matchFunc);\n    });\n  }\n};\n\n/**\n * Unbind custom events\n * @param {(string|object|function)} eventName - event name or context or\n *  {name: handler} pair object or handler function\n * @param {(function)} handler - handler function\n * @example\n * //-- #1. Get Module --//\n * var CustomEvents = require('tui-code-snippet/customEvents/customEvents'); // node, commonjs\n *\n * //-- #2. Use method --//\n * // # 2.1 off by event name\n * CustomEvents.off('onload');\n *\n * // # 2.2 off by event name and handler\n * CustomEvents.off('play', handler);\n *\n * // # 2.3 off by handler\n * CustomEvents.off(handler);\n *\n * // # 2.4 off by context\n * CustomEvents.off(myObj);\n *\n * // # 2.5 off by context and handler\n * CustomEvents.off(myObj, handler);\n *\n * // # 2.6 off by context and event name\n * CustomEvents.off(myObj, 'onload');\n *\n * // # 2.7 off by an Object.<string, function> that is {eventName: handler}\n * CustomEvents.off({\n *   'play': handler,\n *   'pause': handler2\n * });\n *\n * // # 2.8 off the all events\n * CustomEvents.off();\n */\nCustomEvents.prototype.off = function(eventName, handler) {\n  if (isString(eventName)) {\n    // [syntax 1, 2]\n    this._offByEventName(eventName, handler);\n  } else if (!arguments.length) {\n    // [syntax 8]\n    this.events = {};\n    this.contexts = [];\n  } else if (isFunction(eventName)) {\n    // [syntax 3]\n    this._offByHandler(eventName);\n  } else if (isObject(eventName)) {\n    // [syntax 4, 5, 6]\n    this._offByObject(eventName, handler);\n  }\n};\n\n/**\n * Fire custom event\n * @param {string} eventName - name of custom event\n */\nCustomEvents.prototype.fire = function(eventName) {  // eslint-disable-line\n  this.invoke.apply(this, arguments);\n};\n\n/**\n * Fire a event and returns the result of operation 'boolean AND' with all\n *  listener's results.\n *\n * So, It is different from {@link CustomEvents#fire}.\n *\n * In service code, use this as a before event in component level usually\n *  for notifying that the event is cancelable.\n * @param {string} eventName - Custom event name\n * @param {...*} data - Data for event\n * @returns {boolean} The result of operation 'boolean AND'\n * @example\n * var map = new Map();\n * map.on({\n *     'beforeZoom': function() {\n *         // It should cancel the 'zoom' event by some conditions.\n *         if (that.disabled && this.getState()) {\n *             return false;\n *         }\n *         return true;\n *     }\n * });\n *\n * if (this.invoke('beforeZoom')) {    // check the result of 'beforeZoom'\n *     // if true,\n *     // doSomething\n * }\n */\nCustomEvents.prototype.invoke = function(eventName) {\n  var events, args, index, item;\n\n  if (!this.hasListener(eventName)) {\n    return true;\n  }\n\n  events = this._safeEvent(eventName);\n  args = Array.prototype.slice.call(arguments, 1);\n  index = 0;\n\n  while (events[index]) {\n    item = events[index];\n\n    if (item.handler.apply(item.context, args) === false) {\n      return false;\n    }\n\n    index += 1;\n  }\n\n  return true;\n};\n\n/**\n * Return whether at least one of the handlers is registered in the given\n *  event name.\n * @param {string} eventName - Custom event name\n * @returns {boolean} Is there at least one handler in event name?\n */\nCustomEvents.prototype.hasListener = function(eventName) {\n  return this.getListenerLength(eventName) > 0;\n};\n\n/**\n * Return a count of events registered.\n * @param {string} eventName - Custom event name\n * @returns {number} number of event\n */\nCustomEvents.prototype.getListenerLength = function(eventName) {\n  var events = this._safeEvent(eventName);\n\n  return events.length;\n};\n\nmodule.exports = CustomEvents;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __nested_webpack_require_34286__) {\n\n\"use strict\";\n/**\n * @fileoverview Execute the provided callback once for each property of object(or element of array) which actually exist.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isArray = __nested_webpack_require_34286__(6);\nvar forEachArray = __nested_webpack_require_34286__(2);\nvar forEachOwnProperties = __nested_webpack_require_34286__(23);\n\n/**\n * @module collection\n */\n\n/**\n * Execute the provided callback once for each property of object(or element of array) which actually exist.\n * If the object is Array-like object(ex-arguments object), It needs to transform to Array.(see 'ex2' of example).\n * If the callback function returns false, the loop will be stopped.\n * Callback function(iteratee) is invoked with three arguments:\n *  1) The value of the property(or The value of the element)\n *  2) The name of the property(or The index of the element)\n *  3) The object being traversed\n * @param {Object} obj The object that will be traversed\n * @param {function} iteratee Callback function\n * @param {Object} [context] Context(this) of callback function\n * @memberof module:collection\n * @example\n * var forEach = require('tui-code-snippet/collection/forEach'); // node, commonjs\n *\n * var sum = 0;\n *\n * forEach([1,2,3], function(value){\n *     sum += value;\n * });\n * alert(sum); // 6\n *\n * // In case of Array-like object\n * var array = Array.prototype.slice.call(arrayLike); // change to array\n * forEach(array, function(value){\n *     sum += value;\n * });\n */\nfunction forEach(obj, iteratee, context) {\n  if (isArray(obj)) {\n    forEachArray(obj, iteratee, context);\n  } else {\n    forEachOwnProperties(obj, iteratee, context);\n  }\n}\n\nmodule.exports = forEach;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Default locale texts\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nmodule.exports = {\n  en: {\n    titles: {\n      DD: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n      D: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n      MMM: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      MMMM: [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December'\n      ]\n    },\n    titleFormat: 'MMMM yyyy',\n    todayFormat: 'To\\\\d\\\\ay: DD, MMMM d, yyyy',\n    time: 'Time',\n    date: 'Date'\n  },\n  ko: {\n    titles: {\n      DD: ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'],\n      D: ['일', '월', '화', '수', '목', '금', '토'],\n      MMM: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],\n      MMMM: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월']\n    },\n    titleFormat: 'yyyy.MM',\n    todayFormat: '오늘: yyyy.MM.dd (D)',\n    date: '날짜',\n    time: '시간'\n  }\n};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __nested_webpack_require_37303__) {\n\n\"use strict\";\n/**\n * @fileoverview Convert text by binding expressions with context.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_37303__(3);\nvar forEach = __nested_webpack_require_37303__(9);\nvar isArray = __nested_webpack_require_37303__(6);\nvar isString = __nested_webpack_require_37303__(13);\nvar extend = __nested_webpack_require_37303__(7);\n\n// IE8 does not support capture groups.\nvar EXPRESSION_REGEXP = /{{\\s?|\\s?}}/g;\nvar BRACKET_NOTATION_REGEXP = /^[a-zA-Z0-9_@]+\\[[a-zA-Z0-9_@\"']+\\]$/;\nvar BRACKET_REGEXP = /\\[\\s?|\\s?\\]/;\nvar DOT_NOTATION_REGEXP = /^[a-zA-Z_]+\\.[a-zA-Z_]+$/;\nvar DOT_REGEXP = /\\./;\nvar STRING_NOTATION_REGEXP = /^[\"']\\w+[\"']$/;\nvar STRING_REGEXP = /\"|'/g;\nvar NUMBER_REGEXP = /^-?\\d+\\.?\\d*$/;\n\nvar EXPRESSION_INTERVAL = 2;\n\nvar BLOCK_HELPERS = {\n  'if': handleIf,\n  'each': handleEach,\n  'with': handleWith\n};\n\nvar isValidSplit = 'a'.split(/a/).length === 3;\n\n/**\n * Split by RegExp. (Polyfill for IE8)\n * @param {string} text - text to be splitted\\\n * @param {RegExp} regexp - regular expression\n * @returns {Array.<string>}\n */\nvar splitByRegExp = (function() {\n  if (isValidSplit) {\n    return function(text, regexp) {\n      return text.split(regexp);\n    };\n  }\n\n  return function(text, regexp) {\n    var result = [];\n    var prevIndex = 0;\n    var match, index;\n\n    if (!regexp.global) {\n      regexp = new RegExp(regexp, 'g');\n    }\n\n    match = regexp.exec(text);\n    while (match !== null) {\n      index = match.index;\n      result.push(text.slice(prevIndex, index));\n\n      prevIndex = index + match[0].length;\n      match = regexp.exec(text);\n    }\n    result.push(text.slice(prevIndex));\n\n    return result;\n  };\n})();\n\n/**\n * Find value in the context by an expression.\n * @param {string} exp - an expression\n * @param {object} context - context\n * @returns {*}\n * @private\n */\n// eslint-disable-next-line complexity\nfunction getValueFromContext(exp, context) {\n  var splitedExps;\n  var value = context[exp];\n\n  if (exp === 'true') {\n    value = true;\n  } else if (exp === 'false') {\n    value = false;\n  } else if (STRING_NOTATION_REGEXP.test(exp)) {\n    value = exp.replace(STRING_REGEXP, '');\n  } else if (BRACKET_NOTATION_REGEXP.test(exp)) {\n    splitedExps = exp.split(BRACKET_REGEXP);\n    value = getValueFromContext(splitedExps[0], context)[getValueFromContext(splitedExps[1], context)];\n  } else if (DOT_NOTATION_REGEXP.test(exp)) {\n    splitedExps = exp.split(DOT_REGEXP);\n    value = getValueFromContext(splitedExps[0], context)[splitedExps[1]];\n  } else if (NUMBER_REGEXP.test(exp)) {\n    value = parseFloat(exp);\n  }\n\n  return value;\n}\n\n/**\n * Extract elseif and else expressions.\n * @param {Array.<string>} ifExps - args of if expression\n * @param {Array.<string>} sourcesInsideBlock - sources inside if block\n * @returns {object} - exps: expressions of if, elseif, and else / sourcesInsideIf: sources inside if, elseif, and else block.\n * @private\n */\nfunction extractElseif(ifExps, sourcesInsideBlock) {\n  var exps = [ifExps];\n  var sourcesInsideIf = [];\n  var otherIfCount = 0;\n  var start = 0;\n\n  // eslint-disable-next-line complexity\n  forEach(sourcesInsideBlock, function(source, index) {\n    if (source.indexOf('if') === 0) {\n      otherIfCount += 1;\n    } else if (source === '/if') {\n      otherIfCount -= 1;\n    } else if (!otherIfCount && (source.indexOf('elseif') === 0 || source === 'else')) {\n      exps.push(source === 'else' ? ['true'] : source.split(' ').slice(1));\n      sourcesInsideIf.push(sourcesInsideBlock.slice(start, index));\n      start = index + 1;\n    }\n  });\n\n  sourcesInsideIf.push(sourcesInsideBlock.slice(start));\n\n  return {\n    exps: exps,\n    sourcesInsideIf: sourcesInsideIf\n  };\n}\n\n/**\n * Helper function for \"if\". \n * @param {Array.<string>} exps - array of expressions split by spaces\n * @param {Array.<string>} sourcesInsideBlock - array of sources inside the if block\n * @param {object} context - context\n * @returns {string}\n * @private\n */\nfunction handleIf(exps, sourcesInsideBlock, context) {\n  var analyzed = extractElseif(exps, sourcesInsideBlock);\n  var result = false;\n  var compiledSource = '';\n\n  forEach(analyzed.exps, function(exp, index) {\n    result = handleExpression(exp, context);\n    if (result) {\n      compiledSource = compile(analyzed.sourcesInsideIf[index], context);\n    }\n\n    return !result;\n  });\n\n  return compiledSource;\n}\n\n/**\n * Helper function for \"each\".\n * @param {Array.<string>} exps - array of expressions split by spaces\n * @param {Array.<string>} sourcesInsideBlock - array of sources inside the each block\n * @param {object} context - context\n * @returns {string}\n * @private\n */\nfunction handleEach(exps, sourcesInsideBlock, context) {\n  var collection = handleExpression(exps, context);\n  var additionalKey = isArray(collection) ? '@index' : '@key';\n  var additionalContext = {};\n  var result = '';\n\n  forEach(collection, function(item, key) {\n    additionalContext[additionalKey] = key;\n    additionalContext['@this'] = item;\n    extend(context, additionalContext);\n\n    result += compile(sourcesInsideBlock.slice(), context);\n  });\n\n  return result;\n}\n\n/**\n * Helper function for \"with ... as\"\n * @param {Array.<string>} exps - array of expressions split by spaces\n * @param {Array.<string>} sourcesInsideBlock - array of sources inside the with block\n * @param {object} context - context\n * @returns {string}\n * @private\n */\nfunction handleWith(exps, sourcesInsideBlock, context) {\n  var asIndex = inArray('as', exps);\n  var alias = exps[asIndex + 1];\n  var result = handleExpression(exps.slice(0, asIndex), context);\n\n  var additionalContext = {};\n  additionalContext[alias] = result;\n\n  return compile(sourcesInsideBlock, extend(context, additionalContext)) || '';\n}\n\n/**\n * Extract sources inside block in place.\n * @param {Array.<string>} sources - array of sources\n * @param {number} start - index of start block\n * @param {number} end - index of end block\n * @returns {Array.<string>}\n * @private\n */\nfunction extractSourcesInsideBlock(sources, start, end) {\n  var sourcesInsideBlock = sources.splice(start + 1, end - start);\n  sourcesInsideBlock.pop();\n\n  return sourcesInsideBlock;\n}\n\n/**\n * Handle block helper function\n * @param {string} helperKeyword - helper keyword (ex. if, each, with)\n * @param {Array.<string>} sourcesToEnd - array of sources after the starting block\n * @param {object} context - context\n * @returns {Array.<string>}\n * @private\n */\nfunction handleBlockHelper(helperKeyword, sourcesToEnd, context) {\n  var executeBlockHelper = BLOCK_HELPERS[helperKeyword];\n  var helperCount = 1;\n  var startBlockIndex = 0;\n  var endBlockIndex;\n  var index = startBlockIndex + EXPRESSION_INTERVAL;\n  var expression = sourcesToEnd[index];\n\n  while (helperCount && isString(expression)) {\n    if (expression.indexOf(helperKeyword) === 0) {\n      helperCount += 1;\n    } else if (expression.indexOf('/' + helperKeyword) === 0) {\n      helperCount -= 1;\n      endBlockIndex = index;\n    }\n\n    index += EXPRESSION_INTERVAL;\n    expression = sourcesToEnd[index];\n  }\n\n  if (helperCount) {\n    throw Error(helperKeyword + ' needs {{/' + helperKeyword + '}} expression.');\n  }\n\n  sourcesToEnd[startBlockIndex] = executeBlockHelper(\n    sourcesToEnd[startBlockIndex].split(' ').slice(1),\n    extractSourcesInsideBlock(sourcesToEnd, startBlockIndex, endBlockIndex),\n    context\n  );\n\n  return sourcesToEnd;\n}\n\n/**\n * Helper function for \"custom helper\".\n * If helper is not a function, return helper itself.\n * @param {Array.<string>} exps - array of expressions split by spaces (first element: helper)\n * @param {object} context - context\n * @returns {string}\n * @private\n */\nfunction handleExpression(exps, context) {\n  var result = getValueFromContext(exps[0], context);\n\n  if (result instanceof Function) {\n    return executeFunction(result, exps.slice(1), context);\n  }\n\n  return result;\n}\n\n/**\n * Execute a helper function.\n * @param {Function} helper - helper function\n * @param {Array.<string>} argExps - expressions of arguments\n * @param {object} context - context\n * @returns {string} - result of executing the function with arguments\n * @private\n */\nfunction executeFunction(helper, argExps, context) {\n  var args = [];\n  forEach(argExps, function(exp) {\n    args.push(getValueFromContext(exp, context));\n  });\n\n  return helper.apply(null, args);\n}\n\n/**\n * Get a result of compiling an expression with the context.\n * @param {Array.<string>} sources - array of sources split by regexp of expression.\n * @param {object} context - context\n * @returns {Array.<string>} - array of sources that bind with its context\n * @private\n */\nfunction compile(sources, context) {\n  var index = 1;\n  var expression = sources[index];\n  var exps, firstExp, result;\n\n  while (isString(expression)) {\n    exps = expression.split(' ');\n    firstExp = exps[0];\n\n    if (BLOCK_HELPERS[firstExp]) {\n      result = handleBlockHelper(firstExp, sources.splice(index, sources.length - index), context);\n      sources = sources.concat(result);\n    } else {\n      sources[index] = handleExpression(exps, context);\n    }\n\n    index += EXPRESSION_INTERVAL;\n    expression = sources[index];\n  }\n\n  return sources.join('');\n}\n\n/**\n * Convert text by binding expressions with context.\n * <br>\n * If expression exists in the context, it will be replaced.\n * ex) '{{title}}' with context {title: 'Hello!'} is converted to 'Hello!'.\n * An array or object can be accessed using bracket and dot notation.\n * ex) '{{odds\\[2\\]}}' with context {odds: \\[1, 3, 5\\]} is converted to '5'.\n * ex) '{{evens\\[first\\]}}' with context {evens: \\[2, 4\\], first: 0} is converted to '2'.\n * ex) '{{project\\[\"name\"\\]}}' and '{{project.name}}' with context {project: {name: 'CodeSnippet'}} is converted to 'CodeSnippet'.\n * <br>\n * If replaced expression is a function, next expressions will be arguments of the function.\n * ex) '{{add 1 2}}' with context {add: function(a, b) {return a + b;}} is converted to '3'.\n * <br>\n * It has 3 predefined block helpers '{{helper ...}} ... {{/helper}}': 'if', 'each', 'with ... as ...'.\n * 1) 'if' evaluates conditional statements. It can use with 'elseif' and 'else'.\n * 2) 'each' iterates an array or object. It provides '@index'(array), '@key'(object), and '@this'(current element).\n * 3) 'with ... as ...' provides an alias.\n * @param {string} text - text with expressions\n * @param {object} context - context\n * @returns {string} - text that bind with its context\n * @memberof module:domUtil\n * @example\n * var template = require('tui-code-snippet/domUtil/template');\n * \n * var source = \n *     '<h1>'\n *   +   '{{if isValidNumber title}}'\n *   +     '{{title}}th'\n *   +   '{{elseif isValidDate title}}'\n *   +     'Date: {{title}}'\n *   +   '{{/if}}'\n *   + '</h1>'\n *   + '{{each list}}'\n *   +   '{{with addOne @index as idx}}'\n *   +     '<p>{{idx}}: {{@this}}</p>'\n *   +   '{{/with}}'\n *   + '{{/each}}';\n * \n * var context = {\n *   isValidDate: function(text) {\n *     return /^\\d{4}-(0|1)\\d-(0|1|2|3)\\d$/.test(text);\n *   },\n *   isValidNumber: function(text) {\n *     return /^\\d+$/.test(text);\n *   }\n *   title: '2019-11-25',\n *   list: ['Clean the room', 'Wash the dishes'],\n *   addOne: function(num) {\n *     return num + 1;\n *   }\n * };\n * \n * var result = template(source, context);\n * console.log(result); // <h1>Date: 2019-11-25</h1><p>1: Clean the room</p><p>2: Wash the dishes</p>\n */\nfunction template(text, context) {\n  return compile(splitByRegExp(text, EXPRESSION_REGEXP), context);\n}\n\nmodule.exports = template;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is undefined or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is undefined or not.\n * If the given variable is undefined, returns true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is undefined?\n * @memberof module:type\n */\nfunction isUndefined(obj) {\n  return obj === undefined; // eslint-disable-line no-undefined\n}\n\nmodule.exports = isUndefined;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is a string or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is a string or not.\n * If the given variable is a string, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is string?\n * @memberof module:type\n */\nfunction isString(obj) {\n  return typeof obj === 'string' || obj instanceof String;\n}\n\nmodule.exports = isString;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Remove element from parent node.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Remove element from parent node.\n * @param {HTMLElement} element - element to remove.\n * @memberof module:domUtil\n */\nfunction removeElement(element) {\n  if (element && element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n}\n\nmodule.exports = removeElement;\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is a number or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is a number or not.\n * If the given variable is a number, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is number?\n * @memberof module:type\n */\nfunction isNumber(obj) {\n  return typeof obj === 'number' || obj instanceof Number;\n}\n\nmodule.exports = isNumber;\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __nested_webpack_require_51046__) {\n\n\"use strict\";\n/**\n * @fileoverview Add css class to element\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEach = __nested_webpack_require_51046__(9);\nvar inArray = __nested_webpack_require_51046__(3);\nvar getClass = __nested_webpack_require_51046__(17);\nvar setClassName = __nested_webpack_require_51046__(24);\n\n/**\n * domUtil module\n * @module domUtil\n */\n\n/**\n * Add css class to element\n * @param {(HTMLElement|SVGElement)} element - target element\n * @param {...string} cssClass - css classes to add\n * @memberof module:domUtil\n */\nfunction addClass(element) {\n  var cssClass = Array.prototype.slice.call(arguments, 1);\n  var classList = element.classList;\n  var newClass = [];\n  var origin;\n\n  if (classList) {\n    forEach(cssClass, function(name) {\n      element.classList.add(name);\n    });\n\n    return;\n  }\n\n  origin = getClass(element);\n\n  if (origin) {\n    cssClass = [].concat(origin.split(/\\s+/), cssClass);\n  }\n\n  forEach(cssClass, function(cls) {\n    if (inArray(cls, newClass) < 0) {\n      newClass.push(cls);\n    }\n  });\n\n  setClassName(element, newClass);\n}\n\nmodule.exports = addClass;\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __nested_webpack_require_52201__) {\n\n\"use strict\";\n/**\n * @fileoverview Get HTML element's design classes.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isUndefined = __nested_webpack_require_52201__(12);\n\n/**\n * Get HTML element's design classes.\n * @param {(HTMLElement|SVGElement)} element target element\n * @returns {string} element css class name\n * @memberof module:domUtil\n */\nfunction getClass(element) {\n  if (!element || !element.className) {\n    return '';\n  }\n\n  if (isUndefined(element.className.baseVal)) {\n    return element.className;\n  }\n\n  return element.className.baseVal;\n}\n\nmodule.exports = getClass;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __nested_webpack_require_52874__) {\n\n\"use strict\";\n/**\n * @fileoverview Remove css class from element\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEachArray = __nested_webpack_require_52874__(2);\nvar inArray = __nested_webpack_require_52874__(3);\nvar getClass = __nested_webpack_require_52874__(17);\nvar setClassName = __nested_webpack_require_52874__(24);\n\n/**\n * Remove css class from element\n * @param {(HTMLElement|SVGElement)} element - target element\n * @param {...string} cssClass - css classes to remove\n * @memberof module:domUtil\n */\nfunction removeClass(element) {\n  var cssClass = Array.prototype.slice.call(arguments, 1);\n  var classList = element.classList;\n  var origin, newClass;\n\n  if (classList) {\n    forEachArray(cssClass, function(name) {\n      classList.remove(name);\n    });\n\n    return;\n  }\n\n  origin = getClass(element).split(/\\s+/);\n  newClass = [];\n  forEachArray(origin, function(name) {\n    if (inArray(name, cssClass) < 0) {\n      newClass.push(name);\n    }\n  });\n\n  setClassName(element, newClass);\n}\n\nmodule.exports = removeClass;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __nested_webpack_require_53953__) {\n\n\"use strict\";\n/**\n * @fileoverview Set mouse-touch event\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar on = __nested_webpack_require_53953__(31);\nvar off = __nested_webpack_require_53953__(33);\n\nvar mouseTouchEvent = {\n  /**\n   * Detect mobile browser\n   * @type {boolean} Whether using Mobile browser\n   * @private\n   */\n  _isMobile: (function() {\n    return /Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(\n      navigator.userAgent\n    );\n  })(),\n\n  /**\n   * Return a matched event type by a mouse event type\n   * @param {string} type A mouse event type - mousedown, click\n   * @returns {string}\n   * @private\n   */\n  _getEventType: function(type) {\n    if (this._isMobile) {\n      if (type === 'mousedown') {\n        type = 'touchstart';\n      } else if (type === 'click') {\n        type = 'touchend';\n      }\n    }\n\n    return type;\n  },\n\n  /**\n   * Bind touch or mouse events\n   * @param {HTMLElement} element An element to bind\n   * @param {string} type A mouse event type - mousedown, click\n   * @param {Function} handler A handler function\n   * @param {object} [context] A context for handler.\n   */\n  on: function(element, type, handler, context) {\n    on(element, this._getEventType(type), handler, context);\n  },\n\n  /**\n   * Unbind touch or mouse events\n   * @param {HTMLElement} element - Target element\n   * @param {string} type A mouse event type - mousedown, click\n   * @param {Function} handler - Handler\n   */\n  off: function(element, type, handler) {\n    off(element, this._getEventType(type), handler);\n  }\n};\n\nmodule.exports = mouseTouchEvent;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __nested_webpack_require_55620__) {\n\n\"use strict\";\n/**\n * @fileoverview Layer base\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar defineClass = __nested_webpack_require_55620__(0);\nvar removeElement = __nested_webpack_require_55620__(14);\n\nvar localeText = __nested_webpack_require_55620__(10);\nvar DEFAULT_LANGUAGE_TYPE = __nested_webpack_require_55620__(1).DEFAULT_LANGUAGE_TYPE;\n\n/**\n * @abstract\n * @class\n * @ignore\n * @param {string} language - Initial language\n * Layer base\n */\nvar LayerBase = defineClass(\n  /** @lends LayerBase.prototype */ {\n    init: function(language) {\n      language = language || DEFAULT_LANGUAGE_TYPE;\n\n      /**\n       * Layer element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._element = null;\n\n      /**\n       * Language type\n       * @type {string}\n       * @private\n       */\n      this._localeText = localeText[language];\n\n      /**\n       * Layer type\n       * @type {string}\n       * @private\n       */\n      this._type = 'base';\n    },\n\n    /**\n     * Make context\n     * @abstract\n     * @throws {Error}\n     * @returns {object}\n     * @private\n     */\n    _makeContext: function() {\n      throwOverrideError(this.getType(), '_makeContext');\n    },\n\n    /**\n     * Render the layer element\n     * @abstract\n     * @throws {Error}\n     */\n    render: function() {\n      throwOverrideError(this.getType(), 'render');\n    },\n\n    /**\n     * Returns date elements\n     * @abstract\n     * @throws {Error}\n     * @returns {HTMLElement[]}\n     */\n    getDateElements: function() {\n      throwOverrideError(this.getType(), 'getDateElements');\n    },\n\n    /**\n     * Returns layer type\n     * @returns {string}\n     */\n    getType: function() {\n      return this._type;\n    },\n\n    /**\n     * Set language\n     * @param {string} language - Language name\n     */\n    changeLanguage: function(language) {\n      this._localeText = localeText[language];\n    },\n\n    /**\n     * Remove elements\n     */\n    remove: function() {\n      if (this._element) {\n        removeElement(this._element);\n      }\n      this._element = null;\n    }\n  }\n);\n\n/**\n * Throw - method override error\n * @ignore\n * @param {string} layerType - Layer type\n * @param {string} methodName - Method name\n * @throws {Error}\n */\nfunction throwOverrideError(layerType, methodName) {\n  throw new Error(layerType + ' layer does not have the \"' + methodName + '\" method.');\n}\n\nmodule.exports = LayerBase;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __nested_webpack_require_58059__) {\n\n\"use strict\";\n/**\n * @fileoverview DatePicker component\n * @author NHN. FE dev Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_58059__(3);\nvar forEachArray = __nested_webpack_require_58059__(2);\nvar defineClass = __nested_webpack_require_58059__(0);\nvar CustomEvents = __nested_webpack_require_58059__(8);\nvar addClass = __nested_webpack_require_58059__(16);\nvar closest = __nested_webpack_require_58059__(25);\nvar getData = __nested_webpack_require_58059__(26);\nvar hasClass = __nested_webpack_require_58059__(27);\nvar removeClass = __nested_webpack_require_58059__(18);\nvar removeElement = __nested_webpack_require_58059__(14);\nvar extend = __nested_webpack_require_58059__(7);\nvar isArray = __nested_webpack_require_58059__(6);\nvar isDate = __nested_webpack_require_58059__(28);\nvar isNumber = __nested_webpack_require_58059__(15);\nvar isObject = __nested_webpack_require_58059__(22);\n\nvar TimePicker = __nested_webpack_require_58059__(43);\n\nvar Calendar = __nested_webpack_require_58059__(29);\nvar RangeModel = __nested_webpack_require_58059__(56);\nvar constants = __nested_webpack_require_58059__(1);\nvar localeTexts = __nested_webpack_require_58059__(10);\nvar dateUtil = __nested_webpack_require_58059__(5);\nvar util = __nested_webpack_require_58059__(4);\nvar mouseTouchEvent = __nested_webpack_require_58059__(19);\nvar tmpl = __nested_webpack_require_58059__(58);\nvar DatePickerInput = __nested_webpack_require_58059__(59);\n\nvar DEFAULT_WEEK_START_DAY = constants.DEFAULT_WEEK_START_DAY;\nvar DEFAULT_LANGUAGE_TYPE = constants.DEFAULT_LANGUAGE_TYPE;\nvar TYPE_DATE = constants.TYPE_DATE;\nvar TYPE_MONTH = constants.TYPE_MONTH;\nvar TYPE_YEAR = constants.TYPE_YEAR;\nvar CLASS_NAME_NEXT_YEAR_BTN = constants.CLASS_NAME_NEXT_YEAR_BTN;\nvar CLASS_NAME_NEXT_MONTH_BTN = constants.CLASS_NAME_NEXT_MONTH_BTN;\nvar CLASS_NAME_PREV_YEAR_BTN = constants.CLASS_NAME_PREV_YEAR_BTN;\nvar CLASS_NAME_PREV_MONTH_BTN = constants.CLASS_NAME_PREV_MONTH_BTN;\nvar CLASS_NAME_SELECTED = constants.CLASS_NAME_SELECTED;\n\nvar CLASS_NAME_SELECTABLE = 'tui-is-selectable';\nvar CLASS_NAME_BLOCKED = 'tui-is-blocked';\nvar CLASS_NAME_CHECKED = 'tui-is-checked';\nvar CLASS_NAME_SELECTOR_BUTTON = 'tui-datepicker-selector-button';\nvar CLASS_NAME_TODAY = 'tui-calendar-today';\nvar CLASS_NAME_HIDDEN = 'tui-hidden';\n\nvar SELECTOR_BODY = '.tui-datepicker-body';\nvar SELECTOR_DATE_ICO = '.tui-ico-date';\nvar SELECTOR_CALENDAR_TITLE = '.tui-calendar-title';\nvar SELECTOR_CALENDAR_CONTAINER = '.tui-calendar-container';\nvar SELECTOR_TIMEPICKER_CONTAINER = '.tui-timepicker-container';\n\n/**\n * Merge default option\n * @ignore\n * @param {object} option - DatePicker option\n * @returns {object}\n */\nvar mergeDefaultOption = function(option) {\n  option = extend(\n    {\n      language: DEFAULT_LANGUAGE_TYPE,\n      calendar: {},\n      input: {\n        element: null,\n        format: null\n      },\n      timePicker: null,\n      date: null,\n      showAlways: false,\n      type: TYPE_DATE,\n      selectableRanges: null,\n      openers: [],\n      autoClose: true,\n      usageStatistics: true,\n      weekStartDay: DEFAULT_WEEK_START_DAY\n    },\n    option\n  );\n\n  option.selectableRanges = option.selectableRanges || [[constants.MIN_DATE, constants.MAX_DATE]];\n\n  if (!isObject(option.calendar)) {\n    throw new Error('Calendar option must be an object');\n  }\n  if (!isObject(option.input)) {\n    throw new Error('Input option must be an object');\n  }\n  if (!isArray(option.selectableRanges)) {\n    throw new Error('Selectable-ranges must be a 2d-array');\n  }\n\n  option.localeText = localeTexts[option.language];\n\n  // override calendar option\n  option.calendar.language = option.language;\n  option.calendar.type = option.type;\n\n  // @TODO: after v5.0.0, remove option.timepicker\n  option.timePicker = option.timePicker || option.timepicker;\n\n  return option;\n};\n\n/**\n * @class\n * @description\n * Create a date picker.\n * @see {@link /tutorial-example01-basic DatePicker example}\n * @param {HTMLElement|string} container - Container element or selector of DatePicker\n * @param {Object} [options] - Options\n *      @param {Date|number} [options.date = null] - Initial date. Set by a Date instance or a number(timestamp). (default: no initial date)\n *      @param {('date'|'month'|'year')} [options.type = 'date'] - DatePicker type. Determine whether to choose a date, month, or year.\n *      @param {string} [options.language='en'] - Language code. English('en') and Korean('ko') are provided as default. To set to the other languages, use {@link DatePicker#localeTexts DatePicker.localeTexts}.\n *      @param {object|boolean} [options.timePicker] - [TimePicker](https://nhn.github.io/tui.time-picker/latest) options. Refer to the [TimePicker instance's options](https://nhn.github.io/tui.time-picker/latest/TimePicker). To create the TimePicker without customization, set to true.\n *      @param {object} [options.calendar] - {@link Calendar} options. Refer to the {@link Calendar Calendar instance's options}.\n *      @param {object} [options.input] - Input option\n *      @param {HTMLElement|string} [options.input.element] - Input element or selector\n *      @param {string} [options.input.format = 'yyyy-mm-dd'] - Format of the Date string\n *      @param {Array.<Array.<Date|number>>} [options.selectableRanges = 1900/1/1 ~ 2999/12/31]\n *        - Ranges of selectable date. Set by Date instances or numbers(timestamp).\n *      @param {Array<HTMLElement|string>} [options.openers = []] - List of the openers to open the DatePicker (example - icon, button, etc.)\n *      @param {boolean} [options.showAlways = false] - Show the DatePicker always\n *      @param {boolean} [options.autoClose = true] - Close the DatePicker after clicking the date\n *      @param {boolean} [options.usageStatistics = true] - Send a hostname to Google Analytics (default: true)\n *      @param {string} [options.weekStartDay = 'Sun'] - Start of the week. 'Sun', 'Mon', ..., 'Sat'(default: 'Sun'(start on Sunday))\n * @example\n * import DatePicker from 'tui-date-picker' // ES6\n * // const DatePicker = require('tui-date-picker'); // CommonJS\n * // const DatePicker = tui.DatePicker;\n *\n * const range1 = [new Date(2015, 2, 1), new Date(2015, 3, 1)];\n * const range2 = [1465570800000, 1481266182155]; // timestamps\n *\n * const picker1 = new DatePicker('#datepicker-container1', {\n *     showAlways: true\n * });\n *\n * const picker2 = new DatePicker('#datepicker-container2', {\n *    showAlways: true,\n *    timePicker: true\n * });\n *\n * const picker3 = new DatePicker('#datepicker-container3', {\n *     language: 'ko',\n *     calendar: {\n *         showToday: true\n *     },\n *     timePicker: {\n *         showMeridiem: true,\n *         defaultHour: 13,\n *         defaultMinute: 24\n *     },\n *     input: {\n *         element: '#datepicker-input',\n *         format: 'yyyy년 MM월 dd일 hh:mm A'\n *     }\n *     type: 'date',\n *     date: new Date(2015, 0, 1)\n *     selectableRanges: [range1, range2],\n *     openers: ['#opener'],\n *     weekStartDay: 'Mon',\n * });\n */\nvar DatePicker = defineClass(\n  /** @lends DatePicker.prototype */ {\n    static: {\n      /**\n       * Locale text data. English('en') and Korean('ko') are provided as default.\n       * @type {object}\n       * @memberof DatePicker\n       * @static\n       * @example\n       * DatePicker.localeTexts['customKey'] = {\n       *     titles: {\n       *         // days\n       *         DD: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n       *         // daysShort\n       *         D: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n       *         // months\n       *         MMMM: [\n       *             'January', 'February', 'March', 'April', 'May', 'June',\n       *             'July', 'August', 'September', 'October', 'November', 'December'\n       *         ],\n       *         // monthsShort\n       *         MMM: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n       *     },\n       *     titleFormat: 'MMM yyyy',\n       *     todayFormat: 'D, MMMM dd, yyyy',\n       *     date: 'Date',\n       *     time: 'Time'\n       * };\n       *\n       * const datepicker = new DatePicker('#datepicker-container', {\n       *     language: 'customKey'\n       * });\n       */\n      localeTexts: localeTexts\n    },\n    init: function(container, options) {\n      options = mergeDefaultOption(options);\n\n      /**\n       * Language type\n       * @type {string}\n       * @private\n       */\n      this._language = options.language;\n\n      /**\n       * DatePicker container\n       * @type {HTMLElement}\n       * @private\n       */\n      this._container = util.getElement(container);\n      this._container.innerHTML = tmpl(\n        extend(options, {\n          isTab: options.timePicker && options.timePicker.layoutType === 'tab'\n        })\n      );\n\n      /**\n       * DatePicker element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._element = this._container.firstChild;\n\n      /**\n       * Calendar instance\n       * @type {Calendar}\n       * @private\n       */\n      this._calendar = new Calendar(\n        this._element.querySelector(SELECTOR_CALENDAR_CONTAINER),\n        extend(options.calendar, {\n          usageStatistics: options.usageStatistics,\n          weekStartDay: options.weekStartDay\n        })\n      );\n\n      /**\n       * TimePicker instance\n       * @type {TimePicker}\n       * @private\n       */\n      this._timePicker = null;\n\n      /**\n       * DatePicker input\n       * @type {DatePickerInput}\n       * @private\n       */\n      this._datepickerInput = null;\n\n      /**\n       * Object having date values\n       * @type {Date}\n       * @private\n       */\n      this._date = null;\n\n      /**\n       * Selectable date-ranges model\n       * @type {RangeModel}\n       * @private\n       */\n      this._rangeModel = null;\n\n      /**\n       * openers - opener list\n       * @type {Array}\n       * @private\n       */\n      this._openers = [];\n\n      /**\n       * State of picker enable\n       * @type {boolean}\n       * @private\n       */\n      this._isEnabled = true;\n\n      /**\n       * ID of instance\n       * @type {number}\n       * @private\n       */\n      this._id = 'tui-datepicker-' + util.generateId();\n\n      /**\n       * DatePicker type\n       * @type {TYPE_DATE|TYPE_MONTH|TYPE_YEAR}\n       * @private\n       */\n      this._type = options.type;\n\n      /**\n       * Show always or not\n       * @type {boolean}\n       */\n      this.showAlways = options.showAlways;\n\n      /**\n       * Close after select a date\n       * @type {boolean}\n       */\n      this.autoClose = options.autoClose;\n\n      this._initializeDatePicker(options);\n    },\n\n    /**\n     * Initialize method\n     * @param {Object} option - user option\n     * @private\n     */\n    _initializeDatePicker: function(option) {\n      this.setRanges(option.selectableRanges);\n      this._setEvents();\n      this._initTimePicker(option.timePicker, option.usageStatistics);\n      this.setInput(option.input.element);\n      this.setDateFormat(option.input.format);\n      this.setDate(option.date);\n\n      forEachArray(option.openers, this.addOpener, this);\n      if (!this.showAlways) {\n        this._hide();\n      }\n\n      if (this.getType() === TYPE_DATE) {\n        addClass(this._element.querySelector(SELECTOR_BODY), 'tui-datepicker-type-date');\n      }\n    },\n\n    /**\n     * Set events on the date picker's element\n     * @param {object} option - Constructor option\n     * @private\n     */\n    _setEvents: function() {\n      mouseTouchEvent.on(this._element, 'click', this._onClickHandler, this);\n      this._calendar.on('draw', this._onDrawCalendar, this);\n    },\n\n    /**\n     * Remove events on the date picker's element\n     * @private\n     */\n    _removeEvents: function() {\n      mouseTouchEvent.off(this._element, 'click', this._onClickHandler, this);\n      this._calendar.off();\n    },\n\n    /**\n     * Set events on the document\n     * @private\n     */\n    _setDocumentEvents: function() {\n      mouseTouchEvent.on(document, 'mousedown', this._onMousedownDocument, this);\n    },\n\n    /**\n     * Remove events on the document\n     * @private\n     */\n    _removeDocumentEvents: function() {\n      mouseTouchEvent.off(document, 'mousedown', this._onMousedownDocument);\n    },\n\n    /**\n     * Set events on the opener\n     * @param {HTMLElement} opener An opener to bind the events\n     * @private\n     */\n    _setOpenerEvents: function(opener) {\n      mouseTouchEvent.on(opener, 'click', this.toggle, this);\n    },\n\n    /**\n     * Remove events on the opener\n     * @param {HTMLElement} opener An opener to unbind the events\n     * @private\n     */\n    _removeOpenerEvents: function(opener) {\n      mouseTouchEvent.off(opener, 'click', this.toggle);\n    },\n\n    /**\n     * Set TimePicker instance\n     * @param {object|boolean} opTimePicker - TimePicker instance options\n     * @param {boolean} usageStatistics - GA tracking options\n     * @private\n     */\n    _initTimePicker: function(opTimePicker, usageStatistics) {\n      var layoutType;\n      if (!opTimePicker) {\n        return;\n      }\n\n      layoutType = opTimePicker.layoutType || '';\n\n      if (isObject(opTimePicker)) {\n        opTimePicker.usageStatistics = usageStatistics;\n      } else {\n        opTimePicker = {\n          usageStatistics: usageStatistics\n        };\n      }\n\n      this._timePicker = new TimePicker(\n        this._element.querySelector(SELECTOR_TIMEPICKER_CONTAINER),\n        opTimePicker\n      );\n\n      if (layoutType.toLowerCase() === 'tab') {\n        this._timePicker.hide();\n      }\n\n      this._timePicker.on(\n        'change',\n        function(ev) {\n          var prevDate;\n          if (this._date) {\n            prevDate = new Date(this._date);\n            this.setDate(prevDate.setHours(ev.hour, ev.minute));\n          }\n        },\n        this\n      );\n    },\n\n    /**\n     * Change picker's type by a selector button.\n     * @param {HTMLElement} target A target element\n     * @private\n     */\n    _changePicker: function(target) {\n      var btnSelector = '.' + CLASS_NAME_SELECTOR_BUTTON;\n      var selectedBtn = closest(target, btnSelector);\n      var isDateElement = !!selectedBtn.querySelector(SELECTOR_DATE_ICO);\n\n      if (isDateElement) {\n        this._calendar.show();\n        this._timePicker.hide();\n      } else {\n        this._calendar.hide();\n        this._timePicker.show();\n      }\n      removeClass(this._element.querySelector('.' + CLASS_NAME_CHECKED), CLASS_NAME_CHECKED);\n      addClass(selectedBtn, CLASS_NAME_CHECKED);\n    },\n\n    /**\n     * Returns whether the element is opener\n     * @param {string|HTMLElement} element - Element or selector\n     * @returns {boolean}\n     * @private\n     */\n    _isOpener: function(element) {\n      var el = util.getElement(element);\n\n      return inArray(el, this._openers) > -1;\n    },\n\n    /**\n     * add/remove today-class-name to date element\n     * @param {HTMLElement} el - date element\n     * @private\n     */\n    _setTodayClassName: function(el) {\n      var timestamp, isToday;\n\n      if (this.getCalendarType() !== TYPE_DATE) {\n        return;\n      }\n\n      timestamp = Number(getData(el, 'timestamp'));\n      isToday = timestamp === new Date().setHours(0, 0, 0, 0);\n\n      if (isToday) {\n        addClass(el, CLASS_NAME_TODAY);\n      } else {\n        removeClass(el, CLASS_NAME_TODAY);\n      }\n    },\n\n    /**\n     * add/remove selectable-class-name to date element\n     * @param {HTMLElement} el - date element\n     * @private\n     */\n    _setSelectableClassName: function(el) {\n      var elDate = new Date(Number(getData(el, 'timestamp')));\n\n      if (this._isSelectableOnCalendar(elDate)) {\n        addClass(el, CLASS_NAME_SELECTABLE);\n        removeClass(el, CLASS_NAME_BLOCKED);\n      } else {\n        removeClass(el, CLASS_NAME_SELECTABLE);\n        addClass(el, CLASS_NAME_BLOCKED);\n      }\n    },\n\n    /**\n     * add/remove selected-class-name to date element\n     * @param {HTMLElement} el - date element\n     * @private\n     */\n    _setSelectedClassName: function(el) {\n      var elDate = new Date(Number(getData(el, 'timestamp')));\n\n      if (this._isSelectedOnCalendar(elDate)) {\n        addClass(el, CLASS_NAME_SELECTED);\n      } else {\n        removeClass(el, CLASS_NAME_SELECTED);\n      }\n    },\n\n    /**\n     * Returns whether the date is selectable on calendar\n     * @param {Date} date - Date instance\n     * @returns {boolean}\n     * @private\n     */\n    _isSelectableOnCalendar: function(date) {\n      var type = this.getCalendarType();\n      var start = dateUtil.cloneWithStartOf(date, type).getTime();\n      var end = dateUtil.cloneWithEndOf(date, type).getTime();\n\n      return this._rangeModel.hasOverlap(start, end);\n    },\n\n    /**\n     * Returns whether the date is selected on calendar\n     * @param {Date} date - Date instance\n     * @returns {boolean}\n     * @private\n     */\n    _isSelectedOnCalendar: function(date) {\n      var curDate = this.getDate();\n      var calendarType = this.getCalendarType();\n\n      return curDate && dateUtil.isSame(curDate, date, calendarType);\n    },\n\n    /**\n     * Show the date picker element\n     * @private\n     */\n    _show: function() {\n      removeClass(this._element, CLASS_NAME_HIDDEN);\n    },\n\n    /**\n     * Hide the date picker element\n     * @private\n     */\n    _hide: function() {\n      addClass(this._element, CLASS_NAME_HIDDEN);\n    },\n\n    /**\n     * Set value a date-string of current this instance to input element\n     * @private\n     */\n    _syncToInput: function() {\n      if (!this._date) {\n        return;\n      }\n\n      this._datepickerInput.setDate(this._date);\n    },\n\n    /**\n     * Set date from input value\n     * @param {boolean} [shouldRollback = false] - Should rollback from unselectable or error\n     * @private\n     */\n    _syncFromInput: function(shouldRollback) {\n      var isFailed = false;\n      var date;\n\n      try {\n        date = this._datepickerInput.getDate();\n\n        if (this.isSelectable(date)) {\n          if (this._timePicker) {\n            this._timePicker.setTime(date.getHours(), date.getMinutes());\n          }\n          this.setDate(date);\n        } else {\n          isFailed = true;\n        }\n      } catch (err) {\n        this.fire('error', {\n          type: 'ParsingError',\n          message: err.message\n        });\n        isFailed = true;\n      } finally {\n        if (isFailed) {\n          if (shouldRollback) {\n            this._syncToInput();\n          } else {\n            this.setNull();\n          }\n        }\n      }\n    },\n\n    /**\n     * Event handler for mousedown of document<br>\n     * - When click the out of layer, close the layer\n     * @param {Event} ev - Event object\n     * @private\n     */\n    _onMousedownDocument: function(ev) {\n      var target = util.getTarget(ev);\n      var selector = util.getSelector(target);\n      var isContain = selector ? this._element.querySelector(selector) : false;\n      var isInput = this._datepickerInput.is(target);\n      var isInOpener = inArray(target, this._openers) > -1;\n      var shouldClose = !(this.showAlways || isInput || isContain || isInOpener);\n\n      if (shouldClose) {\n        this.close();\n      }\n    },\n\n    /**\n     * Event handler for click of calendar\n     * @param {Event} ev An event object\n     * @private\n     */\n    _onClickHandler: function(ev) {\n      var target = util.getTarget(ev);\n\n      if (closest(target, '.' + CLASS_NAME_SELECTABLE)) {\n        this._updateDate(target);\n      } else if (closest(target, SELECTOR_CALENDAR_TITLE)) {\n        this.drawUpperCalendar(this._date);\n      } else if (closest(target, '.' + CLASS_NAME_SELECTOR_BUTTON)) {\n        this._changePicker(target);\n      }\n    },\n\n    /**\n     * Update date from event-target\n     * @param {HTMLElement} target An event target element\n     * @private\n     */\n    _updateDate: function(target) {\n      var timestamp = Number(getData(target, 'timestamp'));\n      var newDate = new Date(timestamp);\n      var timePicker = this._timePicker;\n      var prevDate = this._date;\n      var calendarType = this.getCalendarType();\n      var pickerType = this.getType();\n\n      if (calendarType !== pickerType) {\n        this.drawLowerCalendar(newDate);\n      } else {\n        if (timePicker) {\n          newDate.setHours(timePicker.getHour(), timePicker.getMinute());\n        } else if (prevDate) {\n          newDate.setHours(prevDate.getHours(), prevDate.getMinutes());\n        }\n        this.setDate(newDate);\n\n        if (!this.showAlways && this.autoClose) {\n          this.close();\n        }\n      }\n    },\n\n    /**\n     * Event handler for 'draw'-custom event of calendar\n     * @param {Object} eventData - custom event data\n     * @see {@link Calendar#draw}\n     * @private\n     */\n    _onDrawCalendar: function(eventData) {\n      forEachArray(\n        eventData.dateElements,\n        function(el) {\n          this._setTodayClassName(el);\n          this._setSelectableClassName(el);\n          this._setSelectedClassName(el);\n        },\n        this\n      );\n      this._setDisplayHeadButtons();\n\n      /**\n       * Occur after the calendar is drawn.\n       * @event DatePicker#draw\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#on datepicker.on()} to bind event handlers.\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#off datepicker.off()} to unbind event handlers.\n       * @see Refer to {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents CustomEvents from tui-code-snippet} for more methods. DatePicker mixes in the methods from CustomEvents.\n       * @property {Date} date - Calendar date\n       * @property {('date'|'month'|'year')} type - Calendar type\n       * @property {HTMLElement[]} dateElements - elements for dates\n       * @example\n       * // bind the 'draw' event\n       * datepicker.on('draw', function(event) {\n       *     console.log(`Draw the ${event.type} calendar and its date is ${event.date}.`);\n       * });\n       *\n       * // unbind the 'draw' event\n       * datepicker.off('draw');\n       */\n      this.fire('draw', eventData);\n    },\n\n    /**\n     * Hide useless buttons (next, next-year, prev, prev-year)\n     * @see Don't save buttons reference. The buttons are rerendered every \"calendar.draw\".\n     * @private\n     */\n    _setDisplayHeadButtons: function() {\n      var nextYearDate = this._calendar.getNextYearDate();\n      var prevYearDate = this._calendar.getPrevYearDate();\n      var maxTimestamp = this._rangeModel.getMaximumValue();\n      var minTimestamp = this._rangeModel.getMinimumValue();\n      var nextYearBtn = this._element.querySelector('.' + CLASS_NAME_NEXT_YEAR_BTN);\n      var prevYearBtn = this._element.querySelector('.' + CLASS_NAME_PREV_YEAR_BTN);\n      var nextMonthDate, prevMonthDate, nextMonBtn, prevMonBtn;\n\n      if (this.getCalendarType() === TYPE_DATE) {\n        nextMonthDate = dateUtil.cloneWithStartOf(this._calendar.getNextDate(), TYPE_MONTH);\n        prevMonthDate = dateUtil.cloneWithEndOf(this._calendar.getPrevDate(), TYPE_MONTH);\n\n        nextMonBtn = this._element.querySelector('.' + CLASS_NAME_NEXT_MONTH_BTN);\n        prevMonBtn = this._element.querySelector('.' + CLASS_NAME_PREV_MONTH_BTN);\n\n        this._setDisplay(nextMonBtn, nextMonthDate.getTime() <= maxTimestamp);\n        this._setDisplay(prevMonBtn, prevMonthDate.getTime() >= minTimestamp);\n\n        prevYearDate.setDate(1);\n        nextYearDate.setDate(1);\n      } else {\n        prevYearDate.setMonth(12, 0);\n        nextYearDate.setMonth(0, 1);\n      }\n\n      this._setDisplay(nextYearBtn, nextYearDate.getTime() <= maxTimestamp);\n      this._setDisplay(prevYearBtn, prevYearDate.getTime() >= minTimestamp);\n    },\n\n    /**\n     * Set display show/hide by condition\n     * @param {HTMLElement} el - An Element\n     * @param {boolean} shouldShow - Condition\n     * @private\n     */\n    _setDisplay: function(el, shouldShow) {\n      if (el) {\n        if (shouldShow) {\n          removeClass(el, CLASS_NAME_HIDDEN);\n        } else {\n          addClass(el, CLASS_NAME_HIDDEN);\n        }\n      }\n    },\n\n    /**\n     * Input change handler\n     * @private\n     * @throws {Error}\n     */\n    _onChangeInput: function() {\n      this._syncFromInput(true);\n    },\n\n    /**\n     * Returns whether the date is changed\n     * @param {Date} date - Date\n     * @returns {boolean}\n     * @private\n     */\n    _isChanged: function(date) {\n      var prevDate = this.getDate();\n\n      return !prevDate || date.getTime() !== prevDate.getTime();\n    },\n\n    /**\n     * Refresh datepicker\n     * @private\n     */\n    _refreshFromRanges: function() {\n      if (!this.isSelectable(this._date)) {\n        this.setNull();\n      } else {\n        this._calendar.draw(); // view update\n      }\n    },\n\n    /**\n     * Return the current calendar's type.\n     * @returns {('date'|'month'|'year')}\n     */\n    getCalendarType: function() {\n      return this._calendar.getType();\n    },\n\n    /**\n     * Return the date picker's type.\n     * @returns {('date'|'month'|'year')}\n     */\n    getType: function() {\n      return this._type;\n    },\n\n    /**\n     * Return whether the date is selectable.\n     * @param {Date} date - Date to check\n     * @returns {boolean}\n     */\n    isSelectable: function(date) {\n      var type = this.getType();\n      var start, end;\n\n      if (!dateUtil.isValidDate(date)) {\n        return false;\n      }\n      start = dateUtil.cloneWithStartOf(date, type).getTime();\n      end = dateUtil.cloneWithEndOf(date, type).getTime();\n\n      return this._rangeModel.hasOverlap(start, end);\n    },\n\n    /**\n     * Return whether the date is selected.\n     * @param {Date} date - Date to check\n     * @returns {boolean}\n     */\n    isSelected: function(date) {\n      return dateUtil.isValidDate(date) && dateUtil.isSame(this._date, date, this.getType());\n    },\n\n    /**\n     * Set selectable ranges. Previous ranges will be removed.\n     * @param {Array.<Array<Date|number>>} ranges - Selectable ranges. Use Date instances or numbers(timestamp).\n     * @example\n     * datepicker.setRanges([\n     *     [new Date(2017, 0, 1), new Date(2018, 0, 2)],\n     *     [new Date(2015, 2, 3), new Date(2016, 4, 2)]\n     * ]);\n     */\n    setRanges: function(ranges) {\n      var result = [];\n      forEachArray(ranges, function(range) {\n        var start = new Date(range[0]).getTime();\n        var end = new Date(range[1]).getTime();\n\n        result.push([start, end]);\n      });\n\n      this._rangeModel = new RangeModel(result);\n      this._refreshFromRanges();\n    },\n\n    /**\n     * Set the calendar's type.\n     * @param {('date'|'month'|'year')} type - Calendar type\n     * @example\n     * datepicker.setType('month');\n     */\n    setType: function(type) {\n      this._type = type;\n    },\n\n    /**\n     * Add a selectable range. Use Date instances or numbers(timestamp).\n     * @param {Date|number} start - the start date\n     * @param {Date|number} end - the end date\n     * @example\n     * const start = new Date(2015, 1, 3);\n     * const end = new Date(2015, 2, 6);\n     *\n     * datepicker.addRange(start, end);\n     */\n    addRange: function(start, end) {\n      start = new Date(start).getTime();\n      end = new Date(end).getTime();\n\n      this._rangeModel.add(start, end);\n      this._refreshFromRanges();\n    },\n\n    /**\n     * Remove a range. Use Date instances or numbers(timestamp).\n     * @param {Date|number} start - the start date\n     * @param {Date|number} end - the end date\n     * @param {null|'date'|'month'|'year'} type - Range type. If falsy, start and end values are considered as timestamp\n     * @example\n     * const start = new Date(2015, 1, 3);\n     * const end = new Date(2015, 2, 6);\n     *\n     * datepicker.removeRange(start, end);\n     */\n    removeRange: function(start, end, type) {\n      start = new Date(start);\n      end = new Date(end);\n\n      if (type) {\n        // @todo Consider time-range on timePicker\n        start = dateUtil.cloneWithStartOf(start, type);\n        end = dateUtil.cloneWithEndOf(end, type);\n      }\n\n      this._rangeModel.exclude(start.getTime(), end.getTime());\n      this._refreshFromRanges();\n    },\n\n    /**\n     * Add an opener.\n     * @param {HTMLElement|string} opener - element or selector of opener\n     */\n    addOpener: function(opener) {\n      opener = util.getElement(opener);\n\n      if (!this._isOpener(opener)) {\n        this._openers.push(opener);\n        this._setOpenerEvents(opener);\n      }\n    },\n\n    /**\n     * Remove an opener.\n     * @param {HTMLElement|string} opener - element or selector of opener\n     */\n    removeOpener: function(opener) {\n      var index;\n\n      opener = util.getElement(opener);\n      index = inArray(opener, this._openers);\n\n      if (index > -1) {\n        this._removeOpenerEvents(opener);\n        this._openers.splice(index, 1);\n      }\n    },\n\n    /**\n     * Remove all openers.\n     */\n    removeAllOpeners: function() {\n      forEachArray(\n        this._openers,\n        function(opener) {\n          this._removeOpenerEvents(opener);\n        },\n        this\n      );\n      this._openers = [];\n    },\n\n    /**\n     * Open the date picker.\n     * @example\n     * datepicker.open();\n     */\n    open: function() {\n      if (this.isOpened() || !this._isEnabled) {\n        return;\n      }\n\n      this._calendar.draw({\n        date: this._date,\n        type: this._type\n      });\n      this._show();\n\n      if (!this.showAlways) {\n        this._setDocumentEvents();\n      }\n\n      /**\n       * Occur after the date picker opens.\n       * @event DatePicker#open\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#on datepicker.on()} to bind event handlers.\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#off datepicker.off()} to unbind event handlers.\n       * @see Refer to {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents CustomEvents from tui-code-snippet} for more methods. DatePicker mixes in the methods from CustomEvents.\n       * @example\n       * // bind the 'open' event\n       * datepicker.on('open', function() {\n       *     alert('open');\n       * });\n       *\n       * // unbind the 'open' event\n       * datepicker.off('open');\n       */\n      this.fire('open');\n    },\n\n    /**\n     * Raise the calendar type. (date -> month -> year)\n     * @param {Date} [date] - Date to set\n     */\n    drawUpperCalendar: function(date) {\n      var calendarType = this.getCalendarType();\n\n      if (calendarType === TYPE_DATE) {\n        this._calendar.draw({\n          date: date,\n          type: TYPE_MONTH\n        });\n      } else if (calendarType === TYPE_MONTH) {\n        this._calendar.draw({\n          date: date,\n          type: TYPE_YEAR\n        });\n      }\n    },\n\n    /**\n     * Lower the calendar type. (year -> month -> date)\n     * @param {Date} [date] - Date to set\n     */\n    drawLowerCalendar: function(date) {\n      var calendarType = this.getCalendarType();\n      var pickerType = this.getType();\n      var isLast = calendarType === pickerType;\n\n      if (isLast) {\n        return;\n      }\n\n      if (calendarType === TYPE_MONTH) {\n        this._calendar.draw({\n          date: date,\n          type: TYPE_DATE\n        });\n      } else if (calendarType === TYPE_YEAR) {\n        this._calendar.draw({\n          date: date,\n          type: TYPE_MONTH\n        });\n      }\n    },\n\n    /**\n     * Close the date picker.\n     * @exmaple\n     * datepicker.close();\n     */\n    close: function() {\n      if (!this.isOpened()) {\n        return;\n      }\n      this._removeDocumentEvents();\n      this._hide();\n\n      /**\n       * Occur after the date picker closes.\n       * @event DatePicker#close\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#on datepicker.on()} to bind event handlers.\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#off datepicker.off()} to unbind event handlers.\n       * @see Refer to {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents CustomEvents from tui-code-snippet} for more methods. DatePicker mixes in the methods from CustomEvents.\n       * @example\n       * // bind the 'close' event\n       * datepicker.on('close', function() {\n       *     alert('close');\n       * });\n       *\n       * // unbind the 'close' event\n       * datepicker.off('close');\n       */\n      this.fire('close');\n    },\n\n    /**\n     * Toggle the date picker.\n     * @example\n     * datepicker.toggle();\n     */\n    toggle: function() {\n      if (this.isOpened()) {\n        this.close();\n      } else {\n        this.open();\n      }\n    },\n\n    /**\n     * Return the selected date.\n     * @returns {?Date} - selected date\n     * @example\n     * // 2015-04-13\n     * datepicker.getDate(); // new Date(2015, 3, 13)\n     */\n    getDate: function() {\n      if (!this._date) {\n        return null;\n      }\n\n      return new Date(this._date);\n    },\n\n    /**\n     * Select the date.\n     * @param {Date|number} date - Date instance or timestamp to set\n     * @example\n     * datepicker.setDate(new Date()); // Set today\n     */\n    // eslint-disable-next-line complexity\n    setDate: function(date) {\n      var isValidInput, newDate, shouldUpdate;\n\n      if (date === null) {\n        this.setNull();\n\n        return;\n      }\n\n      isValidInput = isNumber(date) || isDate(date);\n      newDate = new Date(date);\n      shouldUpdate = isValidInput && this._isChanged(newDate) && this.isSelectable(newDate);\n\n      if (shouldUpdate) {\n        newDate = new Date(date);\n        this._date = newDate;\n        this._calendar.draw({ date: newDate });\n        if (this._timePicker) {\n          this._timePicker.setTime(newDate.getHours(), newDate.getMinutes());\n        }\n        this._syncToInput();\n\n        /**\n         * Occur after the selected date is changed.\n         * @event DatePicker#change\n         * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#on datepicker.on()} to bind event handlers.\n         * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#off datepicker.off()} to unbind event handlers.\n         * @see Refer to {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents CustomEvents from tui-code-snippet} for more methods. DatePicker mixes in the methods from CustomEvents.\n         * @example\n         * // bind the 'change' event\n         * datepicker.on('change', function() {\n         *     console.log(`Selected date: ${datepicker.getDate()}`);\n         * });\n         *\n         * // unbind the 'change' event\n         * datepicker.off('change');\n         */\n        this.fire('change');\n      }\n    },\n\n    /**\n     * Set no date to be selected. (Selected date: null)\n     */\n    setNull: function() {\n      var calendarDate = this._calendar.getDate();\n      var isChagned = this._date !== null;\n\n      this._date = null;\n\n      if (this._datepickerInput) {\n        this._datepickerInput.clearText();\n      }\n      if (this._timePicker) {\n        this._timePicker.setTime(0, 0);\n      }\n\n      // View update\n      if (!this.isSelectable(calendarDate)) {\n        this._calendar.draw({\n          date: new Date(this._rangeModel.getMinimumValue())\n        });\n      } else {\n        this._calendar.draw();\n      }\n\n      if (isChagned) {\n        this.fire('change');\n      }\n    },\n\n    /**\n     * Select the date by the date string format.\n     * @param {String} [format] - Date string format\n     * @example\n     * datepicker.setDateFormat('yyyy-MM-dd');\n     * datepicker.setDateFormat('MM-dd, yyyy');\n     * datepicker.setDateFormat('yy/M/d');\n     * datepicker.setDateFormat('yy/MM/dd');\n     */\n    setDateFormat: function(format) {\n      this._datepickerInput.setFormat(format);\n      this._syncToInput();\n    },\n\n    /**\n     * Return whether the datepicker opens or not\n     * @returns {boolean}\n     * @example\n     * datepicker.close();\n     * datepicker.isOpened(); // false\n     *\n     * datepicker.open();\n     * datepicker.isOpened(); // true\n     */\n    isOpened: function() {\n      return !hasClass(this._element, CLASS_NAME_HIDDEN);\n    },\n\n    /**\n     * Return the time picker instance\n     * @returns {?TimePicker} - TimePicker instance\n     * @see {@link https://nhn.github.io/tui.time-picker/latest tui-time-picker}\n     * @example\n     * const timePicker = this.getTimePicker();\n     */\n    getTimePicker: function() {\n      return this._timePicker;\n    },\n\n    /**\n     * Return the calendar instance.\n     * @see {@link calendar Calendar}\n     * @returns {Calendar}\n     */\n    getCalendar: function() {\n      return this._calendar;\n    },\n\n    /**\n     * Return the locale text object.\n     * @see {@link DatePicker#localeTexts DatePicker.localeTexts}\n     * @returns {object}\n     */\n    getLocaleText: function() {\n      return localeTexts[this._language] || localeTexts[DEFAULT_LANGUAGE_TYPE];\n    },\n\n    /**\n     * Set the input element\n     * @param {string|HTMLElement} element - Input element or selector\n     * @param {object} [options] - Input option\n     * @param {string} [options.format = prevInput.format] - Format of the Date string in the input\n     * @param {boolean} [options.syncFromInput = false] - Whether set the date from the input\n     */\n    setInput: function(element, options) {\n      var prev = this._datepickerInput;\n      var localeText = this.getLocaleText();\n      var prevFormat;\n      options = options || {};\n\n      if (prev) {\n        prevFormat = prev.getFormat();\n        prev.destroy();\n      }\n\n      this._datepickerInput = new DatePickerInput(element, {\n        format: options.format || prevFormat,\n        id: this._id,\n        localeText: localeText\n      });\n\n      this._datepickerInput.on(\n        {\n          change: this._onChangeInput,\n          click: this.open\n        },\n        this\n      );\n\n      if (options.syncFromInput) {\n        this._syncFromInput();\n      } else {\n        this._syncToInput();\n      }\n    },\n\n    /**\n     * Enable the date picker.\n     */\n    enable: function() {\n      if (this._isEnabled) {\n        return;\n      }\n      this._isEnabled = true;\n      this._datepickerInput.enable();\n\n      forEachArray(\n        this._openers,\n        function(opener) {\n          opener.removeAttribute('disabled');\n          this._setOpenerEvents(opener);\n        },\n        this\n      );\n    },\n\n    /**\n     * Disable the date picker.\n     */\n    disable: function() {\n      if (!this._isEnabled) {\n        return;\n      }\n\n      this._isEnabled = false;\n      this.close();\n      this._datepickerInput.disable();\n\n      forEachArray(\n        this._openers,\n        function(opener) {\n          opener.setAttribute('disabled', true);\n          this._removeOpenerEvents(opener);\n        },\n        this\n      );\n    },\n\n    /**\n     * Return whether the date picker is disabled\n     * @returns {boolean}\n     */\n    isDisabled: function() {\n      // @todo this._isEnabled --\x3e this._isDisabled\n      return !this._isEnabled;\n    },\n\n    /**\n     * Apply a CSS class to the date picker.\n     * @param {string} className - Class name\n     */\n    addCssClass: function(className) {\n      addClass(this._element, className);\n    },\n\n    /**\n     * Remove a CSS class from the date picker.\n     * @param {string} className - Class name\n     */\n    removeCssClass: function(className) {\n      removeClass(this._element, className);\n    },\n\n    /**\n     * Return the date elements on the calendar.\n     * @returns {HTMLElement[]}\n     */\n    getDateElements: function() {\n      return this._calendar.getDateElements();\n    },\n\n    /**\n     * Return the first overlapped range from the point or range.\n     * @param {Date|number} startDate - Start date to find overlapped range\n     * @param {Date|number} endDate - End date to find overlapped range\n     * @returns {Array.<Date>} - \\[startDate, endDate]\n     */\n    findOverlappedRange: function(startDate, endDate) {\n      var startTimestamp = new Date(startDate).getTime();\n      var endTimestamp = new Date(endDate).getTime();\n      var overlappedRange = this._rangeModel.findOverlappedRange(startTimestamp, endTimestamp);\n\n      return [new Date(overlappedRange[0]), new Date(overlappedRange[1])];\n    },\n\n    /**\n     * Change language.\n     * @param {string} language - Language code. English('en') and Korean('ko') are provided as default.\n     * @see To set to the other languages, use {@link DatePicker#localeTexts DatePicker.localeTexts}.\n     */\n    changeLanguage: function(language) {\n      this._language = language;\n      this._calendar.changeLanguage(this._language);\n      this._datepickerInput.changeLocaleTitles(this.getLocaleText().titles);\n      this.setDateFormat(this._datepickerInput.getFormat());\n\n      if (this._timePicker) {\n        this._timePicker.changeLanguage(this._language);\n      }\n    },\n\n    /**\n     * Destroy the date picker.\n     */\n    destroy: function() {\n      this._removeDocumentEvents();\n      this._calendar.destroy();\n      if (this._timePicker) {\n        this._timePicker.destroy();\n      }\n      if (this._datepickerInput) {\n        this._datepickerInput.destroy();\n      }\n      this._removeEvents();\n      removeElement(this._element);\n      this.removeAllOpeners();\n\n      this._calendar = this._timePicker = this._datepickerInput = this._container = this._element = this._date = this._rangeModel = this._openers = this._isEnabled = this._id = null;\n    }\n  }\n);\n\nCustomEvents.mixin(DatePicker);\nmodule.exports = DatePicker;\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is an object or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is an object or not.\n * If the given variable is an object, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is object?\n * @memberof module:type\n */\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\nmodule.exports = isObject;\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Execute the provided callback once for each property of object which actually exist.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Execute the provided callback once for each property of object which actually exist.\n * If the callback function returns false, the loop will be stopped.\n * Callback function(iteratee) is invoked with three arguments:\n *  1) The value of the property\n *  2) The name of the property\n *  3) The object being traversed\n * @param {Object} obj The object that will be traversed\n * @param {function} iteratee  Callback function\n * @param {Object} [context] Context(this) of callback function\n * @memberof module:collection\n * @example\n * var forEachOwnProperties = require('tui-code-snippet/collection/forEachOwnProperties'); // node, commonjs\n *\n * var sum = 0;\n *\n * forEachOwnProperties({a:1,b:2,c:3}, function(value){\n *     sum += value;\n * });\n * alert(sum); // 6\n */\nfunction forEachOwnProperties(obj, iteratee, context) {\n  var key;\n\n  context = context || null;\n\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      if (iteratee.call(context, obj[key], key, obj) === false) {\n        break;\n      }\n    }\n  }\n}\n\nmodule.exports = forEachOwnProperties;\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __nested_webpack_require_101094__) {\n\n\"use strict\";\n/**\n * @fileoverview Set className value\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isArray = __nested_webpack_require_101094__(6);\nvar isUndefined = __nested_webpack_require_101094__(12);\n\n/**\n * Set className value\n * @param {(HTMLElement|SVGElement)} element - target element\n * @param {(string|string[])} cssClass - class names\n * @private\n */\nfunction setClassName(element, cssClass) {\n  cssClass = isArray(cssClass) ? cssClass.join(' ') : cssClass;\n\n  cssClass = cssClass.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n  if (isUndefined(element.className.baseVal)) {\n    element.className = cssClass;\n\n    return;\n  }\n\n  element.className.baseVal = cssClass;\n}\n\nmodule.exports = setClassName;\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __nested_webpack_require_101888__) {\n\n\"use strict\";\n/**\n * @fileoverview Find parent element recursively\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar matches = __nested_webpack_require_101888__(40);\n\n/**\n * Find parent element recursively\n * @param {HTMLElement} element - base element to start find\n * @param {string} selector - selector string for find\n * @returns {HTMLElement} - element finded or null\n * @memberof module:domUtil\n */\nfunction closest(element, selector) {\n  var parent = element.parentNode;\n\n  if (matches(element, selector)) {\n    return element;\n  }\n\n  while (parent && parent !== document) {\n    if (matches(parent, selector)) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return null;\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __nested_webpack_require_102699__) {\n\n\"use strict\";\n/**\n * @fileoverview Get data value from data-attribute\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar convertToKebabCase = __nested_webpack_require_102699__(42);\n\n/**\n * Get data value from data-attribute\n * @param {HTMLElement} element - target element\n * @param {string} key - key\n * @returns {string} value\n * @memberof module:domUtil\n */\nfunction getData(element, key) {\n  if (element.dataset) {\n    return element.dataset[key];\n  }\n\n  return element.getAttribute('data-' + convertToKebabCase(key));\n}\n\nmodule.exports = getData;\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __nested_webpack_require_103333__) {\n\n\"use strict\";\n/**\n * @fileoverview Check element has specific css class\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_103333__(3);\nvar getClass = __nested_webpack_require_103333__(17);\n\n/**\n * Check element has specific css class\n * @param {(HTMLElement|SVGElement)} element - target element\n * @param {string} cssClass - css class\n * @returns {boolean}\n * @memberof module:domUtil\n */\nfunction hasClass(element, cssClass) {\n  var origin;\n\n  if (element.classList) {\n    return element.classList.contains(cssClass);\n  }\n\n  origin = getClass(element).split(/\\s+/);\n\n  return inArray(cssClass, origin) > -1;\n}\n\nmodule.exports = hasClass;\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is an instance of Date or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is an instance of Date or not.\n * If the given variables is an instance of Date, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is an instance of Date?\n * @memberof module:type\n */\nfunction isDate(obj) {\n  return obj instanceof Date;\n}\n\nmodule.exports = isDate;\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __nested_webpack_require_104649__) {\n\n\"use strict\";\n/**\n * @fileoverview Calendar component\n * @author NHN. FE dev Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar defineClass = __nested_webpack_require_104649__(0);\nvar CustomEvents = __nested_webpack_require_104649__(8);\nvar addClass = __nested_webpack_require_104649__(16);\nvar hasClass = __nested_webpack_require_104649__(27);\nvar removeClass = __nested_webpack_require_104649__(18);\nvar removeElement = __nested_webpack_require_104649__(14);\nvar extend = __nested_webpack_require_104649__(7);\n\nvar Header = __nested_webpack_require_104649__(44);\nvar Body = __nested_webpack_require_104649__(49);\nvar localeTexts = __nested_webpack_require_104649__(10);\nvar constants = __nested_webpack_require_104649__(1);\nvar dateUtil = __nested_webpack_require_104649__(5);\nvar util = __nested_webpack_require_104649__(4);\n\nvar DEFAULT_WEEK_START_DAY = constants.DEFAULT_WEEK_START_DAY;\nvar DEFAULT_LANGUAGE_TYPE = constants.DEFAULT_LANGUAGE_TYPE;\n\nvar TYPE_DATE = constants.TYPE_DATE;\nvar TYPE_MONTH = constants.TYPE_MONTH;\nvar TYPE_YEAR = constants.TYPE_YEAR;\n\nvar CLASS_NAME_PREV_MONTH_BTN = constants.CLASS_NAME_PREV_MONTH_BTN;\nvar CLASS_NAME_PREV_YEAR_BTN = constants.CLASS_NAME_PREV_YEAR_BTN;\nvar CLASS_NAME_NEXT_YEAR_BTN = constants.CLASS_NAME_NEXT_YEAR_BTN;\nvar CLASS_NAME_NEXT_MONTH_BTN = constants.CLASS_NAME_NEXT_MONTH_BTN;\n\nvar CLASS_NAME_CALENDAR_MONTH = 'tui-calendar-month';\nvar CLASS_NAME_CALENDAR_YEAR = 'tui-calendar-year';\nvar CLASS_NAME_HIDDEN = 'tui-hidden';\n\nvar HEADER_SELECTOR = '.tui-calendar-header';\nvar BODY_SELECTOR = '.tui-calendar-body';\n\n/**\n * @class\n * @description\n * Create a calendar by {@link DatePicker#createCalendar DatePicker.createCalendar()}.\n * @see {@link /tutorial-example07-calendar Calendar example}\n * @param {HTMLElement|string} container - Container or selector of the Calendar\n * @param {Object} [options] - Calendar options\n *     @param {Date} [options.date = new Date()] - Initial date (default: today)\n *     @param {('date'|'month'|'year')} [options.type = 'date'] - Calendar type. Determine whether to show a date, month, or year.\n *     @param {string} [options.language = 'en'] - Language code. English('en') and Korean('ko') are provided as default. To use the other languages, use {@link DatePicker#localeTexts DatePicker.localeTexts}.\n *     @param {boolean} [options.showToday = true] - Show today.\n *     @param {boolean} [options.showJumpButtons = false] - Show the yearly jump buttons (move to the previous and next year in 'date' Calendar)\n *     @param {boolean} [options.usageStatistics = true] - Send a hostname to Google Analytics (default: true)\n *     @param {string} [options.weekStartDay = 'Sun'] - Start of the week. 'Sun', 'Mon', ..., 'Sat'(default: 'Sun'(start on Sunday))\n * @example\n * import DatePicker from 'tui-date-picker' // ES6\n * // const DatePicker = require('tui-date-picker'); // CommonJS\n * // const DatePicker = tui.DatePicker;\n *\n * const calendar = DatePicker.createCalendar('#calendar-wrapper', {\n *     language: 'en',\n *     showToday: true,\n *     showJumpButtons: false,\n *     date: new Date(),\n *     type: 'date',\n *     weekStartDay: 'Mon',\n * });\n *\n * calendar.on('draw', function(event) {\n *     console.log(event.date);\n *     console.log(event.type);\n *     for (let i = 0, len = event.dateElements.length; i < len; i += 1) {\n *         const el = event.dateElements[i];\n *         const date = new Date(getData(el, 'timestamp'));\n *         console.log(date);\n *     }\n * });\n */\nvar Calendar = defineClass(\n  /** @lends Calendar.prototype */ {\n    static: {\n      localeTexts: localeTexts\n    },\n    init: function(container, options) {\n      options = extend(\n        {\n          language: DEFAULT_LANGUAGE_TYPE,\n          showToday: true,\n          showJumpButtons: false,\n          date: new Date(),\n          type: TYPE_DATE,\n          usageStatistics: true,\n          weekStartDay: DEFAULT_WEEK_START_DAY\n        },\n        options\n      );\n\n      /**\n       * Container element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._container = util.getElement(container);\n      this._container.innerHTML =\n        '<div class=\"tui-calendar\">' +\n        '    <div class=\"tui-calendar-header\"></div>' +\n        '    <div class=\"tui-calendar-body\"></div>' +\n        '</div>';\n\n      /**\n       * Wrapper element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._element = this._container.firstChild;\n\n      /**\n       * Date\n       * @type {Date}\n       * @private\n       */\n      this._date = null;\n\n      /**\n       * Layer type\n       * @type {string}\n       * @private\n       */\n      this._type = null;\n\n      /**\n       * Header box\n       * @type {Header}\n       * @private\n       */\n      this._header = null;\n\n      /**\n       * Body box\n       * @type {Body}\n       * @private\n       */\n      this._body = null;\n\n      this._initHeader(options);\n      this._initBody(options);\n      this.draw({\n        date: options.date,\n        type: options.type\n      });\n\n      if (options.usageStatistics) {\n        util.sendHostName();\n      }\n    },\n\n    /**\n     * Initialize header\n     * @param {object} options - Header options\n     * @private\n     */\n    _initHeader: function(options) {\n      var headerContainer = this._element.querySelector(HEADER_SELECTOR);\n\n      this._header = new Header(headerContainer, options);\n      this._header.on(\n        'click',\n        function(ev) {\n          var target = util.getTarget(ev);\n          if (hasClass(target, CLASS_NAME_PREV_MONTH_BTN)) {\n            this.drawPrev();\n          } else if (hasClass(target, CLASS_NAME_PREV_YEAR_BTN)) {\n            this._onClickPrevYear();\n          } else if (hasClass(target, CLASS_NAME_NEXT_MONTH_BTN)) {\n            this.drawNext();\n          } else if (hasClass(target, CLASS_NAME_NEXT_YEAR_BTN)) {\n            this._onClickNextYear();\n          }\n        },\n        this\n      );\n    },\n\n    /**\n     * Initialize body\n     * @param {object} options - Body options\n     * @private\n     */\n    _initBody: function(options) {\n      var bodyContainer = this._element.querySelector(BODY_SELECTOR);\n\n      this._body = new Body(bodyContainer, options);\n    },\n\n    /**\n     * clickHandler - prev year button\n     * @private\n     */\n    _onClickPrevYear: function() {\n      if (this.getType() === TYPE_DATE) {\n        this.draw({\n          date: this._getRelativeDate(-12)\n        });\n      } else {\n        this.drawPrev();\n      }\n    },\n\n    /**\n     * clickHandler - next year button\n     * @private\n     */\n    _onClickNextYear: function() {\n      if (this.getType() === TYPE_DATE) {\n        this.draw({\n          date: this._getRelativeDate(12)\n        });\n      } else {\n        this.drawNext();\n      }\n    },\n\n    /**\n     * Returns whether the layer type is valid\n     * @param {string} type - Layer type to check\n     * @returns {boolean}\n     * @private\n     */\n    _isValidType: function(type) {\n      return type === TYPE_DATE || type === TYPE_MONTH || type === TYPE_YEAR;\n    },\n\n    /**\n     * @param {Date} date - Date to draw\n     * @param {string} type - Layer type to draw\n     * @returns {boolean}\n     * @private\n     */\n    _shouldUpdate: function(date, type) {\n      var prevDate = this._date;\n\n      if (!dateUtil.isValidDate(date)) {\n        throw new Error('Invalid date');\n      }\n\n      if (!this._isValidType(type)) {\n        throw new Error('Invalid layer type');\n      }\n\n      return (\n        !prevDate ||\n        prevDate.getFullYear() !== date.getFullYear() ||\n        prevDate.getMonth() !== date.getMonth() ||\n        this.getType() !== type\n      );\n    },\n\n    /**\n     * Render header & body elements\n     * @private\n     */\n    _render: function() {\n      var date = this._date;\n      var type = this.getType();\n\n      this._header.render(date, type);\n      this._body.render(date, type);\n      removeClass(this._element, CLASS_NAME_CALENDAR_MONTH, CLASS_NAME_CALENDAR_YEAR);\n\n      switch (type) {\n        case TYPE_MONTH:\n          addClass(this._element, CLASS_NAME_CALENDAR_MONTH);\n          break;\n        case TYPE_YEAR:\n          addClass(this._element, CLASS_NAME_CALENDAR_YEAR);\n          break;\n        default:\n          break;\n      }\n    },\n\n    /**\n     * Returns relative date\n     * @param {number} step - Month step\n     * @returns {Date}\n     * @private\n     */\n    _getRelativeDate: function(step) {\n      var prev = this._date;\n\n      return new Date(prev.getFullYear(), prev.getMonth() + step);\n    },\n\n    /**\n     * Draw the calendar.\n     * @param {Object} [options] - Draw options\n     *   @param {Date} [options.date] - Date to set\n     *   @param {('date'|'month'|'year')} [options.type = 'date'] - Calendar type. Determine whether to show a date, month, or year.\n     * @example\n     * calendar.draw();\n     * calendar.draw({\n     *     date: new Date()\n     * });\n     * calendar.draw({\n     *     type: 'month'\n     * });\n     * calendar.draw({\n     *     type: 'month',\n     *     date: new Date()\n     * });\n     */\n    draw: function(options) {\n      var date, type;\n\n      options = options || {};\n      date = options.date || this._date;\n      type = (options.type || this.getType()).toLowerCase();\n\n      if (this._shouldUpdate(date, type)) {\n        this._date = date;\n        this._type = type;\n        this._render();\n      }\n\n      /**\n       * Occur after the calendar draws.\n       * @event Calendar#draw\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#on calendar.on()} to bind event handlers.\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#off calendar.off()} to unbind event handlers.\n       * @see Refer to {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents CustomEvents from tui-code-snippet} for more methods. Calendar mixes in the methods from CustomEvents.\n       * @property {Date} date - Calendar date\n       * @property {('date'|'month'|'year')} type - Calendar type\n       * @property {HTMLElement[]} dateElements - elements for dates\n       * @example\n       * // bind the 'draw' event\n       * calendar.on('draw', function({type, date}) {\n       *     console.log(`Draw the ${type} calendar and its date is ${date}.`);\n       * });\n       *\n       * // unbind the 'draw' event\n       * calendar.off('draw');\n       */\n      this.fire('draw', {\n        date: this._date,\n        type: type,\n        dateElements: this._body.getDateElements()\n      });\n    },\n\n    /**\n     * Show the calendar.\n     */\n    show: function() {\n      removeClass(this._element, CLASS_NAME_HIDDEN);\n    },\n\n    /**\n     * Hide the calendar.\n     */\n    hide: function() {\n      addClass(this._element, CLASS_NAME_HIDDEN);\n    },\n\n    /**\n     * Draw the next page.\n     */\n    drawNext: function() {\n      this.draw({\n        date: this.getNextDate()\n      });\n    },\n\n    /**\n     * Draw the previous page.\n     */\n    drawPrev: function() {\n      this.draw({\n        date: this.getPrevDate()\n      });\n    },\n\n    /**\n     * Return the next date.\n     * @returns {Date}\n     */\n    getNextDate: function() {\n      if (this.getType() === TYPE_DATE) {\n        return this._getRelativeDate(1);\n      }\n\n      return this.getNextYearDate();\n    },\n\n    /**\n     * Return the previous date.\n     * @returns {Date}\n     */\n    getPrevDate: function() {\n      if (this.getType() === TYPE_DATE) {\n        return this._getRelativeDate(-1);\n      }\n\n      return this.getPrevYearDate();\n    },\n\n    /**\n     * Return the date a year later.\n     * @returns {Date}\n     */\n    getNextYearDate: function() {\n      switch (this.getType()) {\n        case TYPE_DATE:\n        case TYPE_MONTH:\n          return this._getRelativeDate(12); // 12 months = 1 year\n        case TYPE_YEAR:\n          return this._getRelativeDate(108); // 108 months = 9 years = 12 * 9\n        default:\n          throw new Error('Unknown layer type');\n      }\n    },\n\n    /**\n     * Return the date a year previously.\n     * @returns {Date}\n     */\n    getPrevYearDate: function() {\n      switch (this.getType()) {\n        case TYPE_DATE:\n        case TYPE_MONTH:\n          return this._getRelativeDate(-12); // 12 months = 1 year\n        case TYPE_YEAR:\n          return this._getRelativeDate(-108); // 108 months = 9 years = 12 * 9\n        default:\n          throw new Error('Unknown layer type');\n      }\n    },\n\n    /**\n     * Change language.\n     * @param {string} language - Language code. English('en') and Korean('ko') are provided as default.\n     * @see To set to the other languages, use {@link DatePicker#localeTexts DatePicker.localeTexts}.\n     */\n    changeLanguage: function(language) {\n      this._header.changeLanguage(language);\n      this._body.changeLanguage(language);\n      this._render();\n    },\n\n    /**\n     * Return the rendered date.\n     * @returns {Date}\n     */\n    getDate: function() {\n      return new Date(this._date);\n    },\n\n    /**\n     * Return the calendar's type.\n     * @returns {('date'|'month'|'year')}\n     */\n    getType: function() {\n      return this._type;\n    },\n\n    /**\n     * Returns HTML elements for dates.\n     * @returns {HTMLElement[]}\n     */\n    getDateElements: function() {\n      return this._body.getDateElements();\n    },\n\n    /**\n     * Apply a CSS class to the calendar.\n     * @param {string} className - Class name\n     */\n    addCssClass: function(className) {\n      addClass(this._element, className);\n    },\n\n    /**\n     * Remove a CSS class from the calendar.\n     * @param {string} className - Class name\n     */\n    removeCssClass: function(className) {\n      removeClass(this._element, className);\n    },\n\n    /**\n     * Destroy the calendar.\n     */\n    destroy: function() {\n      this._header.destroy();\n      this._body.destroy();\n      removeElement(this._element);\n\n      this._type = this._date = this._container = this._element = this._header = this._body = null;\n    }\n  }\n);\n\nCustomEvents.mixin(Calendar);\nmodule.exports = Calendar;\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __nested_webpack_require_118512__) {\n\n\"use strict\";\n/**\n * @fileoverview Date <-> Text formatting module\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_118512__(3);\nvar forEachArray = __nested_webpack_require_118512__(2);\nvar defineClass = __nested_webpack_require_118512__(0);\n\nvar util = __nested_webpack_require_118512__(4);\nvar dateUtil = __nested_webpack_require_118512__(5);\nvar constants = __nested_webpack_require_118512__(1);\nvar localeTexts = __nested_webpack_require_118512__(10);\n\nvar rFormableKeys = /\\\\?(yyyy|yy|mmmm|mmm|mm|m|dd|d|hh|h|a)/gi;\nvar mapForConverting = {\n  yyyy: {\n    expression: '(\\\\d{4}|\\\\d{2})',\n    type: constants.TYPE_YEAR\n  },\n  yy: {\n    expression: '(\\\\d{4}|\\\\d{2})',\n    type: constants.TYPE_YEAR\n  },\n  y: {\n    expression: '(\\\\d{4}|\\\\d{2})',\n    type: constants.TYPE_YEAR\n  },\n  M: {\n    expression: '(1[012]|0[1-9]|[1-9])',\n    type: constants.TYPE_MONTH\n  },\n  MM: {\n    expression: '(1[012]|0[1-9]|[1-9])',\n    type: constants.TYPE_MONTH\n  },\n  MMM: {\n    expression: '(1[012]|0[1-9]|[1-9])',\n    type: constants.TYPE_MONTH\n  },\n  MMMM: {\n    expression: '(1[012]|0[1-9]|[1-9])',\n    type: constants.TYPE_MONTH\n  },\n  mmm: {\n    expression: '(1[012]|0[1-9]|[1-9])',\n    type: constants.TYPE_MONTH\n  },\n  mmmm: {\n    expression: '(1[012]|0[1-9]|[1-9])',\n    type: constants.TYPE_MONTH\n  },\n  dd: {\n    expression: '([12]\\\\d{1}|3[01]|0[1-9]|[1-9])',\n    type: constants.TYPE_DATE\n  },\n  d: {\n    expression: '([12]\\\\d{1}|3[01]|0[1-9]|[1-9])',\n    type: constants.TYPE_DATE\n  },\n  D: {\n    expression: '([12]\\\\d{1}|3[01]|0[1-9]|[1-9])',\n    type: constants.TYPE_DATE\n  },\n  DD: {\n    expression: '([12]\\\\d{1}|3[01]|0[1-9]|[1-9])',\n    type: constants.TYPE_DATE\n  },\n  h: {\n    expression: '(d{1}|0\\\\d{1}|1\\\\d{1}|2[0123])',\n    type: constants.TYPE_HOUR\n  },\n  hh: {\n    expression: '(d{1}|[01]\\\\d{1}|2[0123])',\n    type: constants.TYPE_HOUR\n  },\n  H: {\n    expression: '(d{1}|0\\\\d{1}|1\\\\d{1}|2[0123])',\n    type: constants.TYPE_HOUR\n  },\n  HH: {\n    expression: '(d{1}|[01]\\\\d{1}|2[0123])',\n    type: constants.TYPE_HOUR\n  },\n  m: {\n    expression: '(d{1}|[012345]\\\\d{1})',\n    type: constants.TYPE_MINUTE\n  },\n  mm: {\n    expression: '(d{1}|[012345]\\\\d{1})',\n    type: constants.TYPE_MINUTE\n  },\n  a: {\n    expression: '([ap]m)',\n    type: constants.TYPE_MERIDIEM\n  },\n  A: {\n    expression: '([ap]m)',\n    type: constants.TYPE_MERIDIEM\n  }\n};\n\n/**\n * @class\n * @ignore\n */\nvar DateTimeFormatter = defineClass(\n  /** @lends DateTimeFormatter.prototype */ {\n    init: function(rawStr, titles) {\n      /**\n       * @type {string}\n       * @private\n       */\n      this._rawStr = rawStr;\n\n      /**\n       * @type {Array}\n       * @private\n       * @example\n       *  rawStr = \"yyyy-MM-dd\" --\x3e keyOrder = ['year', 'month', 'date']\n       *  rawStr = \"MM/dd, yyyy\" --\x3e keyOrder = ['month', 'date', 'year']\n       */\n      this._keyOrder = null;\n\n      /**\n       * @type {RegExp}\n       * @private\n       */\n      this._regExp = null;\n\n      /**\n       * Titles\n       * @type {object}\n       * @private\n       */\n      this._titles = titles || localeTexts.en.titles;\n\n      this._parseFormat();\n    },\n\n    /**\n     * Parse initial format and make the keyOrder, regExp\n     * @private\n     */\n    _parseFormat: function() {\n      var regExpStr = '^';\n      var matchedKeys = this._rawStr.match(rFormableKeys);\n      var keyOrder = [];\n\n      matchedKeys = util.filter(matchedKeys, function(key) {\n        return key[0] !== '\\\\';\n      });\n\n      forEachArray(matchedKeys, function(key, index) {\n        if (!/m/i.test(key)) {\n          key = key.toLowerCase();\n        }\n\n        regExpStr += mapForConverting[key].expression + '[\\\\D\\\\s]*';\n        keyOrder[index] = mapForConverting[key].type;\n      });\n\n      // This formatter does not allow additional numbers at the end of string.\n      regExpStr += '$';\n\n      this._keyOrder = keyOrder;\n\n      this._regExp = new RegExp(regExpStr, 'gi');\n    },\n\n    /**\n     * Parse string to dateHash\n     * @param {string} str - Date string\n     * @returns {Date}\n     */\n    parse: function(str) {\n      var dateHash = {\n        year: 0,\n        month: 1,\n        date: 1,\n        hour: 0,\n        minute: 0\n      };\n      var hasMeridiem = false;\n      var isPM = false;\n      var matched;\n\n      this._regExp.lastIndex = 0;\n      matched = this._regExp.exec(str);\n\n      if (!matched) {\n        throw Error('DateTimeFormatter: Not matched - \"' + str + '\"');\n      }\n\n      // eslint-disable-next-line complexity\n      forEachArray(this._keyOrder, function(name, index) {\n        var value = matched[index + 1];\n\n        if (name === constants.TYPE_MERIDIEM && /[ap]m/i.test(value)) {\n          hasMeridiem = true;\n          isPM = /pm/i.test(value);\n        } else {\n          value = Number(value);\n\n          if (value !== 0 && !value) {\n            throw Error('DateTimeFormatter: Unknown value - ' + matched[index + 1]);\n          }\n\n          if (name === constants.TYPE_YEAR && value < 100) {\n            value += 2000;\n          }\n\n          dateHash[name] = value;\n        }\n      });\n\n      if (hasMeridiem) {\n        isPM = isPM || dateHash.hour > 12;\n        dateHash.hour %= 12;\n        if (isPM) {\n          dateHash.hour += 12;\n        }\n      }\n\n      return new Date(\n        dateHash.year,\n        dateHash.month - 1,\n        dateHash.date,\n        dateHash.hour,\n        dateHash.minute\n      );\n    },\n\n    /**\n     * Returns raw string of format\n     * @returns {string}\n     */\n    getRawString: function() {\n      return this._rawStr;\n    },\n\n    /**\n     * Format date to string\n     * @param {Date} dateObj - Date object\n     * @returns {string}\n     */\n    format: function(dateObj) {\n      var year = dateObj.getFullYear();\n      var month = dateObj.getMonth() + 1;\n      var dayInMonth = dateObj.getDate();\n      var day = dateObj.getDay();\n      var hour = dateObj.getHours();\n      var minute = dateObj.getMinutes();\n      var meridiem = 'a'; // Default value for unusing meridiem format\n      var replaceMap;\n\n      if (inArray(constants.TYPE_MERIDIEM, this._keyOrder) > -1) {\n        meridiem = hour >= 12 ? 'pm' : 'am';\n        hour = dateUtil.getMeridiemHour(hour);\n      }\n\n      replaceMap = {\n        yyyy: year,\n        yy: String(year).substr(2, 2),\n        M: month,\n        MM: dateUtil.prependLeadingZero(month),\n        MMM: this._titles.MMM[month - 1],\n        MMMM: this._titles.MMMM[month - 1],\n        d: dayInMonth,\n        dd: dateUtil.prependLeadingZero(dayInMonth),\n        D: this._titles.D[day],\n        DD: this._titles.DD[day],\n        hh: dateUtil.prependLeadingZero(hour),\n        h: hour,\n        mm: dateUtil.prependLeadingZero(minute),\n        m: minute,\n        A: meridiem.toUpperCase(),\n        a: meridiem\n      };\n\n      return this._rawStr.replace(rFormableKeys, function(key) {\n        if (key[0] === '\\\\') {\n          return key.substr(1);\n        }\n\n        return replaceMap[key] || replaceMap[key.toLowerCase()] || '';\n      });\n    }\n  }\n);\n\nmodule.exports = DateTimeFormatter;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __nested_webpack_require_125545__) {\n\n\"use strict\";\n/**\n * @fileoverview Bind DOM events\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isString = __nested_webpack_require_125545__(13);\nvar forEach = __nested_webpack_require_125545__(9);\n\nvar safeEvent = __nested_webpack_require_125545__(32);\n\n/**\n * Bind DOM events.\n * @param {HTMLElement} element - element to bind events\n * @param {(string|object)} types - Space splitted events names or eventName:handler object\n * @param {(function|object)} handler - handler function or context for handler method\n * @param {object} [context] context - context for handler method.\n * @memberof module:domEvent\n * @example\n * var div = document.querySelector('div');\n * \n * // Bind one event to an element.\n * on(div, 'click', toggle);\n * \n * // Bind multiple events with a same handler to multiple elements at once.\n * // Use event names splitted by a space.\n * on(div, 'mouseenter mouseleave', changeColor);\n * \n * // Bind multiple events with different handlers to an element at once.\n * // Use an object which of key is an event name and value is a handler function.\n * on(div, {\n *   keydown: highlight,\n *   keyup: dehighlight\n * });\n * \n * // Set a context for handler method.\n * var name = 'global';\n * var repository = {name: 'CodeSnippet'};\n * on(div, 'drag', function() {\n *  console.log(this.name);\n * }, repository);\n * // Result when you drag a div: \"CodeSnippet\"\n */\nfunction on(element, types, handler, context) {\n  if (isString(types)) {\n    forEach(types.split(/\\s+/g), function(type) {\n      bindEvent(element, type, handler, context);\n    });\n\n    return;\n  }\n\n  forEach(types, function(func, type) {\n    bindEvent(element, type, func, handler);\n  });\n}\n\n/**\n * Bind DOM events\n * @param {HTMLElement} element - element to bind events\n * @param {string} type - events name\n * @param {function} handler - handler function or context for handler method\n * @param {object} [context] context - context for handler method.\n * @private\n */\nfunction bindEvent(element, type, handler, context) {\n  /**\n     * Event handler\n     * @param {Event} e - event object\n     */\n  function eventHandler(e) {\n    handler.call(context || element, e || window.event);\n  }\n\n  if ('addEventListener' in element) {\n    element.addEventListener(type, eventHandler);\n  } else if ('attachEvent' in element) {\n    element.attachEvent('on' + type, eventHandler);\n  }\n  memorizeHandler(element, type, handler, eventHandler);\n}\n\n/**\n * Memorize DOM event handler for unbinding.\n * @param {HTMLElement} element - element to bind events\n * @param {string} type - events name\n * @param {function} handler - handler function that user passed at on() use\n * @param {function} wrappedHandler - handler function that wrapped by domevent for implementing some features\n * @private\n */\nfunction memorizeHandler(element, type, handler, wrappedHandler) {\n  var events = safeEvent(element, type);\n  var existInEvents = false;\n\n  forEach(events, function(obj) {\n    if (obj.handler === handler) {\n      existInEvents = true;\n\n      return false;\n    }\n\n    return true;\n  });\n\n  if (!existInEvents) {\n    events.push({\n      handler: handler,\n      wrappedHandler: wrappedHandler\n    });\n  }\n}\n\nmodule.exports = on;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Get event collection for specific HTML element\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar EVENT_KEY = '_feEventKey';\n\n/**\n * Get event collection for specific HTML element\n * @param {HTMLElement} element - HTML element\n * @param {string} type - event type\n * @returns {array}\n * @private\n */\nfunction safeEvent(element, type) {\n  var events = element[EVENT_KEY];\n  var handlers;\n\n  if (!events) {\n    events = element[EVENT_KEY] = {};\n  }\n\n  handlers = events[type];\n  if (!handlers) {\n    handlers = events[type] = [];\n  }\n\n  return handlers;\n}\n\nmodule.exports = safeEvent;\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __nested_webpack_require_129512__) {\n\n\"use strict\";\n/**\n * @fileoverview Unbind DOM events\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isString = __nested_webpack_require_129512__(13);\nvar forEach = __nested_webpack_require_129512__(9);\n\nvar safeEvent = __nested_webpack_require_129512__(32);\n\n/**\n * Unbind DOM events\n * If a handler function is not passed, remove all events of that type.\n * @param {HTMLElement} element - element to unbind events\n * @param {(string|object)} types - Space splitted events names or eventName:handler object\n * @param {function} [handler] - handler function\n * @memberof module:domEvent\n * @example\n * // Following the example of domEvent#on\n * \n * // Unbind one event from an element.\n * off(div, 'click', toggle);\n * \n * // Unbind multiple events with a same handler from multiple elements at once.\n * // Use event names splitted by a space.\n * off(element, 'mouseenter mouseleave', changeColor);\n * \n * // Unbind multiple events with different handlers from an element at once.\n * // Use an object which of key is an event name and value is a handler function.\n * off(div, {\n *   keydown: highlight,\n *   keyup: dehighlight\n * });\n * \n * // Unbind events without handlers.\n * off(div, 'drag');\n */\nfunction off(element, types, handler) {\n  if (isString(types)) {\n    forEach(types.split(/\\s+/g), function(type) {\n      unbindEvent(element, type, handler);\n    });\n\n    return;\n  }\n\n  forEach(types, function(func, type) {\n    unbindEvent(element, type, func);\n  });\n}\n\n/**\n * Unbind DOM events\n * If a handler function is not passed, remove all events of that type.\n * @param {HTMLElement} element - element to unbind events\n * @param {string} type - events name\n * @param {function} [handler] - handler function\n * @private\n */\nfunction unbindEvent(element, type, handler) {\n  var events = safeEvent(element, type);\n  var index;\n\n  if (!handler) {\n    forEach(events, function(item) {\n      removeHandler(element, type, item.wrappedHandler);\n    });\n    events.splice(0, events.length);\n  } else {\n    forEach(events, function(item, idx) {\n      if (handler === item.handler) {\n        removeHandler(element, type, item.wrappedHandler);\n        index = idx;\n\n        return false;\n      }\n\n      return true;\n    });\n    events.splice(index, 1);\n  }\n}\n\n/**\n * Remove an event handler\n * @param {HTMLElement} element - An element to remove an event\n * @param {string} type - event type\n * @param {function} handler - event handler\n * @private\n */\nfunction removeHandler(element, type, handler) {\n  if ('removeEventListener' in element) {\n    element.removeEventListener(type, handler);\n  } else if ('detachEvent' in element) {\n    element.detachEvent('on' + type, handler);\n  }\n}\n\nmodule.exports = off;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __nested_webpack_require_132275__) {\n\n\"use strict\";\n/**\n * @fileoverview The entry file of DatePicker components\n * @author NHN. FE Development Team\n */\n\n\n\nvar DatePicker = __nested_webpack_require_132275__(21);\nvar DateRangePicker = __nested_webpack_require_132275__(60);\nvar Calendar = __nested_webpack_require_132275__(29);\n\n__nested_webpack_require_132275__(61);\n\n/**\n * Create a calendar.\n * @see {@link Calendar}\n * @see {@link /tutorial-example07-calendar Calendar example}\n * @static\n * @param {HTMLElement|string} wrapperElement - Container element or selector of the Calendar\n * @param {Object} [options] - {@link Calendar} options. Refer to the {@link Calendar Calendar instance's options}.\n * @returns {Calendar}\n * @example\n * const calendar = DatePicker.createCalendar('#calendar-wrapper', {\n *    language: 'en',\n *    showToday: true,\n *    showJumpButtons: false,\n *    date: new Date(),\n *    type: 'date'\n * });\n */\nDatePicker.createCalendar = function(wrapperElement, options) {\n  return new Calendar(wrapperElement, options);\n};\n\n/**\n * Create a date-range picker.\n * @see {@link DateRangePicker}\n * @see {@link /tutorial-example08-daterangepicker DateRangePicker example}\n * @static\n * @param {object} options - {@link DateRangePicker} options. Refer to the {@link DateRangePicker DateRangePicker instance's options}.\n * @returns {DateRangePicker}\n * @example\n * const rangepicker = DatePicker.createRangePicker({\n *     startpicker: {\n *         input: '#start-input',\n *         container: '#start-container'\n *     },\n *     endpicker: {\n *         input: '#end-input',\n *         container: '#end-container'\n *     },\n *     type: 'date',\n *     format: 'yyyy-MM-dd'\n *     selectableRanges: [\n *         [new Date(2017, 3, 1), new Date(2017, 5, 1)],\n *         [new Date(2017, 6, 3), new Date(2017, 10, 5)]\n *     ]\n * });\n */\nDatePicker.createRangePicker = function(options) {\n  return new DateRangePicker(options);\n};\n\nmodule.exports = DatePicker;\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __nested_webpack_require_134236__) {\n\n\"use strict\";\n/**\n * @fileoverview Provide a simple inheritance in prototype-oriented.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar createObject = __nested_webpack_require_134236__(36);\n\n/**\n * Provide a simple inheritance in prototype-oriented.\n * Caution :\n *  Don't overwrite the prototype of child constructor.\n *\n * @param {function} subType Child constructor\n * @param {function} superType Parent constructor\n * @memberof module:inheritance\n * @example\n * var inherit = require('tui-code-snippet/inheritance/inherit'); // node, commonjs\n *\n * // Parent constructor\n * function Animal(leg) {\n *     this.leg = leg;\n * }\n * Animal.prototype.growl = function() {\n *     // ...\n * };\n *\n * // Child constructor\n * function Person(name) {\n *     this.name = name;\n * }\n *\n * // Inheritance\n * inherit(Person, Animal);\n *\n * // After this inheritance, please use only the extending of property.\n * // Do not overwrite prototype.\n * Person.prototype.walk = function(direction) {\n *     // ...\n * };\n */\nfunction inherit(subType, superType) {\n  var prototype = createObject(superType.prototype);\n  prototype.constructor = subType;\n  subType.prototype = prototype;\n}\n\nmodule.exports = inherit;\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Create a new object with the specified prototype object and properties.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * @module inheritance\n */\n\n/**\n * Create a new object with the specified prototype object and properties.\n * @param {Object} obj This object will be a prototype of the newly-created object.\n * @returns {Object}\n * @memberof module:inheritance\n */\nfunction createObject(obj) {\n  function F() {} // eslint-disable-line require-jsdoc\n  F.prototype = obj;\n\n  return new F();\n}\n\nmodule.exports = createObject;\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __nested_webpack_require_136175__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is existing or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isUndefined = __nested_webpack_require_136175__(12);\nvar isNull = __nested_webpack_require_136175__(38);\n\n/**\n * Check whether the given variable is existing or not.\n * If the given variable is not null and not undefined, returns true.\n * @param {*} param - Target for checking\n * @returns {boolean} Is existy?\n * @memberof module:type\n * @example\n * var isExisty = require('tui-code-snippet/type/isExisty'); // node, commonjs\n *\n * isExisty(''); //true\n * isExisty(0); //true\n * isExisty([]); //true\n * isExisty({}); //true\n * isExisty(null); //false\n * isExisty(undefined); //false\n*/\nfunction isExisty(param) {\n  return !isUndefined(param) && !isNull(param);\n}\n\nmodule.exports = isExisty;\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is null or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is null or not.\n * If the given variable(arguments[0]) is null, returns true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is null?\n * @memberof module:type\n */\nfunction isNull(obj) {\n  return obj === null;\n}\n\nmodule.exports = isNull;\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is a function or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is a function or not.\n * If the given variable is a function, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is function?\n * @memberof module:type\n */\nfunction isFunction(obj) {\n  return obj instanceof Function;\n}\n\nmodule.exports = isFunction;\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __nested_webpack_require_138138__) {\n\n\"use strict\";\n/**\n * @fileoverview Check element match selector\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_138138__(3);\nvar toArray = __nested_webpack_require_138138__(41);\n\nvar elProto = Element.prototype;\nvar matchSelector = elProto.matches ||\n    elProto.webkitMatchesSelector ||\n    elProto.mozMatchesSelector ||\n    elProto.msMatchesSelector ||\n    function(selector) {\n      var doc = this.document || this.ownerDocument;\n\n      return inArray(this, toArray(doc.querySelectorAll(selector))) > -1;\n    };\n\n/**\n * Check element match selector\n * @param {HTMLElement} element - element to check\n * @param {string} selector - selector to check\n * @returns {boolean} is selector matched to element?\n * @memberof module:domUtil\n */\nfunction matches(element, selector) {\n  return matchSelector.call(element, selector);\n}\n\nmodule.exports = matches;\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __nested_webpack_require_139096__) {\n\n\"use strict\";\n/**\n * @fileoverview Transform the Array-like object to Array.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEachArray = __nested_webpack_require_139096__(2);\n\n/**\n * Transform the Array-like object to Array.\n * In low IE (below 8), Array.prototype.slice.call is not perfect. So, try-catch statement is used.\n * @param {*} arrayLike Array-like object\n * @returns {Array} Array\n * @memberof module:collection\n * @example\n * var toArray = require('tui-code-snippet/collection/toArray'); // node, commonjs\n *\n * var arrayLike = {\n *     0: 'one',\n *     1: 'two',\n *     2: 'three',\n *     3: 'four',\n *     length: 4\n * };\n * var result = toArray(arrayLike);\n *\n * alert(result instanceof Array); // true\n * alert(result); // one,two,three,four\n */\nfunction toArray(arrayLike) {\n  var arr;\n  try {\n    arr = Array.prototype.slice.call(arrayLike);\n  } catch (e) {\n    arr = [];\n    forEachArray(arrayLike, function(value) {\n      arr.push(value);\n    });\n  }\n\n  return arr;\n}\n\nmodule.exports = toArray;\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Convert kebab-case\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Convert kebab-case\n * @param {string} key - string to be converted to Kebab-case\n * @private\n */\nfunction convertToKebabCase(key) {\n  return key.replace(/([A-Z])/g, function(match) {\n    return '-' + match.toLowerCase();\n  });\n}\n\nmodule.exports = convertToKebabCase;\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__43__;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __nested_webpack_require_140777__) {\n\n\"use strict\";\n/**\n * @fileoverview Calendar Header\n * @author NHN. FE dev Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar defineClass = __nested_webpack_require_140777__(0);\nvar CustomEvents = __nested_webpack_require_140777__(8);\nvar closest = __nested_webpack_require_140777__(25);\nvar removeElement = __nested_webpack_require_140777__(14);\n\nvar localeTexts = __nested_webpack_require_140777__(10);\nvar headerTmpl = __nested_webpack_require_140777__(45);\nvar DateTimeFormatter = __nested_webpack_require_140777__(30);\nvar constants = __nested_webpack_require_140777__(1);\nvar util = __nested_webpack_require_140777__(4);\nvar mouseTouchEvent = __nested_webpack_require_140777__(19);\n\nvar TYPE_DATE = constants.TYPE_DATE;\nvar TYPE_MONTH = constants.TYPE_MONTH;\nvar TYPE_YEAR = constants.TYPE_YEAR;\n\nvar CLASS_NAME_TITLE_MONTH = 'tui-calendar-title-month';\nvar CLASS_NAME_TITLE_YEAR = 'tui-calendar-title-year';\nvar CLASS_NAME_TITLE_YEAR_TO_YEAR = 'tui-calendar-title-year-to-year';\n\nvar SELECTOR_INNER_ELEM = '.tui-calendar-header-inner';\nvar SELECTOR_INFO_ELEM = '.tui-calendar-header-info';\nvar SELECTOR_BTN = '.tui-calendar-btn';\n\nvar YEAR_TITLE_FORMAT = 'yyyy';\n\n/**\n * @ignore\n * @class\n * @param {string|HTMLElement} container - Header container or selector\n * @param {object} option - Header option\n * @param {string} option.language - Header language\n * @param {boolean} option.showToday - Has today box or not.\n * @param {boolean} option.showJumpButtons - Has jump buttons or not.\n */\nvar Header = defineClass(\n  /** @lends Header.prototype */ {\n    init: function(container, option) {\n      /**\n       * Container element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._container = util.getElement(container);\n\n      /**\n       * Header inner element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._innerElement = null;\n\n      /**\n       * Header info element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._infoElement = null;\n\n      /**\n       * Render today box or not\n       * @type {boolean}\n       * @private\n       */\n      this._showToday = option.showToday;\n\n      /**\n       * Render jump buttons or not (next,prev year on date calendar)\n       * @type {boolean}\n       * @private\n       */\n      this._showJumpButtons = option.showJumpButtons;\n\n      /**\n       * Year_Month title formatter\n       * @type {DateTimeFormatter}\n       * @private\n       */\n      this._yearMonthTitleFormatter = null;\n\n      /**\n       * Year title formatter\n       * @type {DateTimeFormatter}\n       * @private\n       */\n      this._yearTitleFormatter = null;\n\n      /**\n       * Today formatter\n       * @type {DateTimeFormatter}\n       * @private\n       */\n      this._todayFormatter = null;\n\n      this._setFormatters(localeTexts[option.language]);\n      this._setEvents(option);\n    },\n\n    /**\n     * @param {object} localeText - Locale text\n     * @private\n     */\n    _setFormatters: function(localeText) {\n      this._yearMonthTitleFormatter = new DateTimeFormatter(\n        localeText.titleFormat,\n        localeText.titles\n      );\n      this._yearTitleFormatter = new DateTimeFormatter(YEAR_TITLE_FORMAT, localeText.titles);\n      this._todayFormatter = new DateTimeFormatter(localeText.todayFormat, localeText.titles);\n    },\n\n    /**\n     * @param {object} option - Constructor option\n     * @private\n     */\n    _setEvents: function() {\n      mouseTouchEvent.on(this._container, 'click', this._onClickHandler, this);\n    },\n\n    /**\n     * @private\n     */\n    _removeEvents: function() {\n      this.off();\n      mouseTouchEvent.off(this._container, 'click', this._onClickHandler);\n    },\n\n    /**\n     * Fire customEvents\n     * @param {Event} ev An event object\n     * @private\n     */\n    _onClickHandler: function(ev) {\n      var target = util.getTarget(ev);\n\n      if (closest(target, SELECTOR_BTN)) {\n        this.fire('click', ev);\n      }\n    },\n\n    /**\n     * @param {string} type - Calendar type\n     * @returns {string}\n     * @private\n     */\n    _getTitleClass: function(type) {\n      switch (type) {\n        case TYPE_DATE:\n          return CLASS_NAME_TITLE_MONTH;\n        case TYPE_MONTH:\n          return CLASS_NAME_TITLE_YEAR;\n        case TYPE_YEAR:\n          return CLASS_NAME_TITLE_YEAR_TO_YEAR;\n        default:\n          return '';\n      }\n    },\n\n    /**\n     * @param {Date} date - date\n     * @param {string} type - Calendar type\n     * @returns {string}\n     * @private\n     */\n    _getTitleText: function(date, type) {\n      var currentYear, start, end;\n\n      switch (type) {\n        case TYPE_DATE:\n          return this._yearMonthTitleFormatter.format(date);\n        case TYPE_MONTH:\n          return this._yearTitleFormatter.format(date);\n        case TYPE_YEAR:\n          currentYear = date.getFullYear();\n          start = new Date(currentYear - 4, 0, 1);\n          end = new Date(currentYear + 4, 0, 1);\n\n          return (\n            this._yearTitleFormatter.format(start) + ' - ' + this._yearTitleFormatter.format(end)\n          );\n        default:\n          return '';\n      }\n    },\n\n    /**\n     * Change langauge\n     * @param {string} language - Language\n     */\n    changeLanguage: function(language) {\n      this._setFormatters(localeTexts[language]);\n    },\n\n    /**\n     * Render header\n     * @param {Date} date - date\n     * @param {string} type - Calendar type\n     */\n    render: function(date, type) {\n      var context = {\n        showToday: this._showToday,\n        showJumpButtons: this._showJumpButtons,\n        todayText: this._todayFormatter.format(new Date()),\n        isDateCalendar: type === TYPE_DATE,\n        titleClass: this._getTitleClass(type),\n        title: this._getTitleText(date, type)\n      };\n\n      this._container.innerHTML = headerTmpl(context).replace(/^\\s+|\\s+$/g, '');\n      this._innerElement = this._container.querySelector(SELECTOR_INNER_ELEM);\n      if (context.showToday) {\n        this._infoElement = this._container.querySelector(SELECTOR_INFO_ELEM);\n      }\n    },\n\n    /**\n     * Destroy header\n     */\n    destroy: function() {\n      this._removeEvents();\n      removeElement(this._innerElement);\n      removeElement(this._infoElement);\n      this._container = this._showToday = this._showJumpButtons = this._yearMonthTitleFormatter = this._yearTitleFormatter = this._todayFormatter = this._innerElement = this._infoElement = null;\n    }\n  }\n);\n\nCustomEvents.mixin(Header);\nmodule.exports = Header;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __nested_webpack_require_147173__) {\n\n\"use strict\";\n\n\nvar template = __nested_webpack_require_147173__(11);\n\nmodule.exports = function(context) {\n  var source =\n    '{{if isDateCalendar}}' +\n    '  {{if showJumpButtons}}' +\n    '    <div class=\"tui-calendar-header-inner tui-calendar-has-btns\">' +\n    '      <button class=\"tui-calendar-btn tui-calendar-btn-prev-year\">Prev year</button>' +\n    '      <button class=\"tui-calendar-btn tui-calendar-btn-prev-month\">Prev month</button>' +\n    '      <em class=\"tui-calendar-title {{titleClass}}\">{{title}}</em>' +\n    '      <button class=\"tui-calendar-btn tui-calendar-btn-next-month\">Next month</button>' +\n    '      <button class=\"tui-calendar-btn tui-calendar-btn-next-year\">Next year</button>' +\n    '    </div>' +\n    '  {{else}}' +\n    '    <div class=\"tui-calendar-header-inner\">' +\n    '      <button class=\"tui-calendar-btn tui-calendar-btn-prev-month\">Prev month</button>' +\n    '      <em class=\"tui-calendar-title {{titleClass}}\">{{title}}</em>' +\n    '      <button class=\"tui-calendar-btn tui-calendar-btn-next-month\">Next month</button>' +\n    '    </div>' +\n    '  {{/if}}' +\n    '{{else}}' +\n    '  <div class=\"tui-calendar-header-inner\">' +\n    '    <button class=\"tui-calendar-btn tui-calendar-btn-prev-year\">Prev year</button>' +\n    '    <em class=\"tui-calendar-title {{titleClass}}\">{{title}}</em>' +\n    '    <button class=\"tui-calendar-btn tui-calendar-btn-next-year\">Next year</button>' +\n    '  </div>' +\n    '{{/if}}' +\n    '{{if showToday}}' +\n    '  <div class=\"tui-calendar-header-info\">' +\n    '    <p class=\"tui-calendar-title-today\">{{todayText}}</p>' +\n    '  </div>' +\n    '{{/if}}';\n\n  return template(source, context);\n};\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is a instance of HTMLNode or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is a instance of HTMLNode or not.\n * If the given variables is a instance of HTMLNode, return true.\n * @param {*} html - Target for checking\n * @returns {boolean} Is HTMLNode ?\n * @memberof module:type\n */\nfunction isHTMLNode(html) {\n  if (typeof HTMLElement === 'object') {\n    return (html && (html instanceof HTMLElement || !!html.nodeType));\n  }\n\n  return !!(html && html.nodeType);\n}\n\nmodule.exports = isHTMLNode;\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __nested_webpack_require_149611__) {\n\n\"use strict\";\n/**\n * @fileoverview Send hostname on DOMContentLoaded.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isUndefined = __nested_webpack_require_149611__(12);\nvar imagePing = __nested_webpack_require_149611__(48);\n\nvar ms7days = 7 * 24 * 60 * 60 * 1000;\n\n/**\n * Check if the date has passed 7 days\n * @param {number} date - milliseconds\n * @returns {boolean}\n * @private\n */\nfunction isExpired(date) {\n  var now = new Date().getTime();\n\n  return now - date > ms7days;\n}\n\n/**\n * Send hostname on DOMContentLoaded.\n * To prevent hostname set tui.usageStatistics to false.\n * @param {string} appName - application name\n * @param {string} trackingId - GA tracking ID\n * @ignore\n */\nfunction sendHostname(appName, trackingId) {\n  var url = 'https://www.google-analytics.com/collect';\n  var hostname = location.hostname;\n  var hitType = 'event';\n  var eventCategory = 'use';\n  var applicationKeyForStorage = 'TOAST UI ' + appName + ' for ' + hostname + ': Statistics';\n  var date = window.localStorage.getItem(applicationKeyForStorage);\n\n  // skip if the flag is defined and is set to false explicitly\n  if (!isUndefined(window.tui) && window.tui.usageStatistics === false) {\n    return;\n  }\n\n  // skip if not pass seven days old\n  if (date && !isExpired(date)) {\n    return;\n  }\n\n  window.localStorage.setItem(applicationKeyForStorage, new Date().getTime());\n\n  setTimeout(function() {\n    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n      imagePing(url, {\n        v: 1,\n        t: hitType,\n        tid: trackingId,\n        cid: hostname,\n        dp: hostname,\n        dh: appName,\n        el: appName,\n        ec: eventCategory\n      });\n    }\n  }, 1000);\n}\n\nmodule.exports = sendHostname;\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __nested_webpack_require_151419__) {\n\n\"use strict\";\n/**\n * @fileoverview Request image ping.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEachOwnProperties = __nested_webpack_require_151419__(23);\n\n/**\n * @module request\n */\n\n/**\n * Request image ping.\n * @param {String} url url for ping request\n * @param {Object} trackingInfo infos for make query string\n * @returns {HTMLElement}\n * @memberof module:request\n * @example\n * var imagePing = require('tui-code-snippet/request/imagePing'); // node, commonjs\n *\n * imagePing('https://www.google-analytics.com/collect', {\n *     v: 1,\n *     t: 'event',\n *     tid: 'trackingid',\n *     cid: 'cid',\n *     dp: 'dp',\n *     dh: 'dh'\n * });\n */\nfunction imagePing(url, trackingInfo) {\n  var trackingElement = document.createElement('img');\n  var queryString = '';\n  forEachOwnProperties(trackingInfo, function(value, key) {\n    queryString += '&' + key + '=' + value;\n  });\n  queryString = queryString.substring(1);\n\n  trackingElement.src = url + '?' + queryString;\n\n  trackingElement.style.display = 'none';\n  document.body.appendChild(trackingElement);\n  document.body.removeChild(trackingElement);\n\n  return trackingElement;\n}\n\nmodule.exports = imagePing;\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __nested_webpack_require_152676__) {\n\n\"use strict\";\n/**\n * @fileoverview Calendar body\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEachArray = __nested_webpack_require_152676__(2);\nvar defineClass = __nested_webpack_require_152676__(0);\n\nvar DateLayer = __nested_webpack_require_152676__(50);\nvar MonthLayer = __nested_webpack_require_152676__(52);\nvar YearLayer = __nested_webpack_require_152676__(54);\nvar constants = __nested_webpack_require_152676__(1);\n\nvar TYPE_DATE = constants.TYPE_DATE;\nvar TYPE_MONTH = constants.TYPE_MONTH;\nvar TYPE_YEAR = constants.TYPE_YEAR;\n\n/**\n * @ignore\n * @class\n */\nvar Body = defineClass(\n  /** @lends Body.prototype */ {\n    init: function(bodyContainer, options) {\n      var language = options.language;\n      var weekStartDay = options.weekStartDay;\n\n      /**\n       * Body container element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._container = bodyContainer;\n\n      /**\n       * DateLayer\n       * @type {DateLayer}\n       * @private\n       */\n      this._dateLayer = new DateLayer(language, weekStartDay);\n\n      /**\n       * MonthLayer\n       * @type {MonthLayer}\n       * @private\n       */\n      this._monthLayer = new MonthLayer(language);\n\n      /**\n       * YearLayer\n       * @type {YearLayer}\n       * @private\n       */\n      this._yearLayer = new YearLayer(language);\n\n      /**\n       * Current Layer\n       * @type {DateLayer|MonthLayer|YearLayer}\n       * @private\n       */\n      this._currentLayer = this._dateLayer;\n    },\n\n    /**\n     * Returns matched layer\n     * @param {string} type - Layer type\n     * @returns {Base} - Layer\n     * @private\n     */\n    _getLayer: function(type) {\n      switch (type) {\n        case TYPE_DATE:\n          return this._dateLayer;\n        case TYPE_MONTH:\n          return this._monthLayer;\n        case TYPE_YEAR:\n          return this._yearLayer;\n        default:\n          return this._currentLayer;\n      }\n    },\n\n    /**\n     * Iterate each layer\n     * @param {Function} fn - function\n     * @private\n     */\n    _eachLayer: function(fn) {\n      forEachArray([this._dateLayer, this._monthLayer, this._yearLayer], fn);\n    },\n\n    /**\n     * Change language\n     * @param {string} language - Language\n     */\n    changeLanguage: function(language) {\n      this._eachLayer(function(layer) {\n        layer.changeLanguage(language);\n      });\n    },\n\n    /**\n     * Render body\n     * @param {Date} date - date\n     * @param {string} type - Layer type\n     */\n    render: function(date, type) {\n      var nextLayer = this._getLayer(type);\n      var prevLayer = this._currentLayer;\n\n      prevLayer.remove();\n      nextLayer.render(date, this._container);\n\n      this._currentLayer = nextLayer;\n    },\n\n    /**\n     * Returns date elements\n     * @returns {HTMLElement[]}\n     */\n    getDateElements: function() {\n      return this._currentLayer.getDateElements();\n    },\n\n    /**\n     * Destory\n     */\n    destroy: function() {\n      this._eachLayer(function(layer) {\n        layer.remove();\n      });\n\n      this._container = this._currentLayer = this._dateLayer = this._monthLayer = this._yearLayer = null;\n    }\n  }\n);\n\nmodule.exports = Body;\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __nested_webpack_require_155836__) {\n\n\"use strict\";\n/**\n * @fileoverview Date layer\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar defineClass = __nested_webpack_require_155836__(0);\n\nvar dateUtil = __nested_webpack_require_155836__(5);\nvar bodyTmpl = __nested_webpack_require_155836__(51);\nvar LayerBase = __nested_webpack_require_155836__(20);\nvar TYPE_DATE = __nested_webpack_require_155836__(1).TYPE_DATE;\nvar WEEK_START_DAY_MAP = __nested_webpack_require_155836__(1).WEEK_START_DAY_MAP;\n\nvar DATE_SELECTOR = '.tui-calendar-date';\nvar DAYS_OF_WEEK = 7;\n\n/**\n * @ignore\n * @class\n * @extends LayerBase\n * @param {string} language - Initial language\n */\nvar DateLayer = defineClass(\n  LayerBase,\n  /** @lends DateLayer.prototype */ {\n    init: function(language, weekStartDay) {\n      LayerBase.call(this, language);\n\n      this.weekStartDay = WEEK_START_DAY_MAP[String(weekStartDay).toLowerCase()] || 0;\n    },\n\n    /**\n     * Layer type\n     * @type {string}\n     * @private\n     */\n    _type: TYPE_DATE,\n\n    /**\n     * @override\n     * @private\n     * @returns {object} Template context\n     */\n    _makeContext: function(date) {\n      var daysShort = this._localeText.titles.D;\n      var year, month, days, i;\n\n      date = date || new Date();\n      year = date.getFullYear();\n      month = date.getMonth() + 1;\n\n      if (this.weekStartDay) {\n        days = daysShort.slice();\n        for (i = 0; i < this.weekStartDay; i += 1) {\n          days.push(days.shift());\n        }\n        daysShort = days;\n      }\n\n      return {\n        Sun: daysShort[0],\n        Mon: daysShort[1],\n        Tue: daysShort[2],\n        Wed: daysShort[3],\n        Thu: daysShort[4],\n        Fri: daysShort[5],\n        Sat: daysShort[6],\n        year: year,\n        month: month,\n        weeks: this._getWeeks(year, month)\n      };\n    },\n\n    /**\n     * weeks (templating) for date-calendar\n     * @param {number} year - Year\n     * @param {number} month - Month\n     * @returns {Array.<Array.<Date>>}\n     * @private\n     */\n    _getWeeks: function(year, month) {\n      var weekNumber = 0;\n      var weeksCount = 6; // Fix for no changing height\n      var weeks = [];\n      var week, dates, i;\n\n      while (weekNumber < weeksCount) {\n        dates = [];\n\n        for (i = this.weekStartDay; i < DAYS_OF_WEEK + this.weekStartDay; i += 1) {\n          dates.push(dateUtil.getDateOfWeek(year, month, weekNumber, i));\n        }\n\n        week = this._getWeek(year, month, dates);\n\n        if (this.weekStartDay && !_isFirstWeek(weekNumber, week[0].dayInMonth)) {\n          weeks.push(this._getFirstWeek(year, month));\n          weeksCount -= 1; // Fix for no changing height\n        }\n\n        weeks.push(week);\n        weekNumber += 1;\n      }\n\n      return weeks;\n    },\n\n    /**\n     * week (templating) for date-calendar\n     * @param {number} currentYear\n     * @param {number} currentMonth\n     * @param {Array.<Date>} dates\n     * @private\n     */\n    _getWeek: function(currentYear, currentMonth, dates) {\n      var firstDateOfCurrentMonth = new Date(currentYear, currentMonth - 1, 1);\n      var lastDateOfCurrentMonth = new Date(currentYear, currentMonth, 0);\n      var contexts = [];\n      var i = 0;\n      var length = dates.length;\n      var date, className;\n\n      for (; i < length; i += 1) {\n        className = 'tui-calendar-date';\n        date = dates[i];\n\n        if (date < firstDateOfCurrentMonth) {\n          className += ' tui-calendar-prev-month';\n        }\n\n        if (date > lastDateOfCurrentMonth) {\n          className += ' tui-calendar-next-month';\n        }\n\n        if (date.getDay() === 0) {\n          className += ' tui-calendar-sun';\n        } else if (date.getDay() === 6) {\n          className += ' tui-calendar-sat';\n        }\n\n        contexts.push({\n          dayInMonth: date.getDate(),\n          className: className,\n          timestamp: date.getTime()\n        });\n      }\n\n      return contexts;\n    },\n\n    /**\n     * Render date-layer\n     * @override\n     * @param {Date} date Date to render\n     * @param {HTMLElement} container A container element for the rendered element\n     */\n    render: function(date, container) {\n      var context = this._makeContext(date);\n\n      container.innerHTML = bodyTmpl(context);\n      this._element = container.firstChild;\n    },\n\n    /**\n     * Return date elements\n     * @override\n     * @returns {HTMLElement[]}\n     */\n    getDateElements: function() {\n      return this._element.querySelectorAll(DATE_SELECTOR);\n    },\n\n    _getFirstWeek: function(year, month) {\n      var firstWeekDates = [];\n      var i;\n\n      for (i = this.weekStartDay; i < DAYS_OF_WEEK + this.weekStartDay; i += 1) {\n        firstWeekDates.push(dateUtil.getDateOfWeek(year, month, -1, i));\n      }\n\n      return this._getWeek(year, month, firstWeekDates);\n    }\n  }\n);\n\nfunction _isFirstWeek(weekIndex, dayInMonth) {\n  return weekIndex || dayInMonth === 1 || dayInMonth > DAYS_OF_WEEK;\n}\n\nmodule.exports = DateLayer;\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __nested_webpack_require_160775__) {\n\n\"use strict\";\n\n\nvar template = __nested_webpack_require_160775__(11);\n\nmodule.exports = function(context) {\n  var source =\n    '<table class=\"tui-calendar-body-inner\" cellspacing=\"0\" cellpadding=\"0\">' +\n    '  <caption><span>Dates</span></caption>' +\n    '  <thead class=\"tui-calendar-body-header\">' +\n    '    <tr>' +\n    '      <th class=\"tui-sun\" scope=\"col\">{{Sun}}</th>' +\n    '      <th scope=\"col\">{{Mon}}</th>' +\n    '      <th scope=\"col\">{{Tue}}</th>' +\n    '      <th scope=\"col\">{{Wed}}</th>' +\n    '      <th scope=\"col\">{{Thu}}</th>' +\n    '      <th scope=\"col\">{{Fri}}</th>' +\n    '      <th class=\"tui-sat\" scope=\"col\">{{Sat}}</th>' +\n    '    </tr>' +\n    '  </thead>' +\n    '  <tbody>' +\n    '    {{each weeks}}' +\n    '    <tr class=\"tui-calendar-week\">' +\n    '      {{each @this}}' +\n    '      <td class=\"{{@this[\"className\"]}}\" data-timestamp=\"{{@this[\"timestamp\"]}}\">{{@this[\"dayInMonth\"]}}</td>' +\n    '      {{/each}}' +\n    '    </tr>' +\n    '    {{/each}}' +\n    '  </tbody>' +\n    '</table>';\n\n  return template(source, context);\n};\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __nested_webpack_require_161902__) {\n\n\"use strict\";\n/**\n * @fileoverview Month layer\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar defineClass = __nested_webpack_require_161902__(0);\n\nvar bodyTmpl = __nested_webpack_require_161902__(53);\nvar LayerBase = __nested_webpack_require_161902__(20);\nvar TYPE_MONTH = __nested_webpack_require_161902__(1).TYPE_MONTH;\nvar dateUtil = __nested_webpack_require_161902__(5);\n\nvar DATE_SELECTOR = '.tui-calendar-month';\n\n/**\n * @class\n * @extends LayerBase\n * @param {string} language - Initial language\n * @ignore\n */\nvar MonthLayer = defineClass(\n  LayerBase,\n  /** @lends MonthLayer.prototype */ {\n    init: function(language) {\n      LayerBase.call(this, language);\n    },\n\n    /**\n     * Layer type\n     * @type {string}\n     * @private\n     */\n    _type: TYPE_MONTH,\n\n    /**\n     * @override\n     * @returns {object} Template context\n     * @private\n     */\n    _makeContext: function(date) {\n      var monthsShort = this._localeText.titles.MMM;\n\n      return {\n        year: date.getFullYear(),\n        Jan: monthsShort[0],\n        Feb: monthsShort[1],\n        Mar: monthsShort[2],\n        Apr: monthsShort[3],\n        May: monthsShort[4],\n        Jun: monthsShort[5],\n        Jul: monthsShort[6],\n        Aug: monthsShort[7],\n        Sep: monthsShort[8],\n        Oct: monthsShort[9],\n        Nov: monthsShort[10],\n        Dec: monthsShort[11],\n        getFirstDayTimestamp: dateUtil.getFirstDayTimestamp\n      };\n    },\n\n    /**\n     * Render month-layer element\n     * @override\n     * @param {Date} date Date to render\n     * @param {HTMLElement} container A container element for the rendered element\n     */\n    render: function(date, container) {\n      var context = this._makeContext(date);\n\n      container.innerHTML = bodyTmpl(context);\n      this._element = container.firstChild;\n    },\n\n    /**\n     * Returns month elements\n     * @override\n     * @returns {HTMLElement[]}\n     */\n    getDateElements: function() {\n      return this._element.querySelectorAll(DATE_SELECTOR);\n    }\n  }\n);\n\nmodule.exports = MonthLayer;\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __nested_webpack_require_163970__) {\n\n\"use strict\";\n\n\nvar template = __nested_webpack_require_163970__(11);\n\nmodule.exports = function(context) {\n  var source =\n    '<table class=\"tui-calendar-body-inner\">' +\n    '  <caption><span>Months</span></caption>' +\n    '  <tbody>' +\n    '    <tr class=\"tui-calendar-month-group\">' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 0}}>{{Jan}}</td>' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 1}}>{{Feb}}</td>' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 2}}>{{Mar}}</td>' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 3}}>{{Apr}}</td>' +\n    '    </tr>' +\n    '    <tr class=\"tui-calendar-month-group\">' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 4}}>{{May}}</td>' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 5}}>{{Jun}}</td>' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 6}}>{{Jul}}</td>' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 7}}>{{Aug}}</td>' +\n    '    </tr>' +\n    '    <tr class=\"tui-calendar-month-group\">' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 8}}>{{Sep}}</td>' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 9}}>{{Oct}}</td>' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 10}}>{{Nov}}</td>' +\n    '      <td class=\"tui-calendar-month\" data-timestamp={{getFirstDayTimestamp year 11}}>{{Dec}}</td>' +\n    '    </tr>' +\n    '  </tbody>' +\n    '</table>';\n\n  return template(source, context);\n};\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __nested_webpack_require_165813__) {\n\n\"use strict\";\n/**\n * @fileoverview Year layer\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar defineClass = __nested_webpack_require_165813__(0);\n\nvar bodyTmpl = __nested_webpack_require_165813__(55);\nvar LayerBase = __nested_webpack_require_165813__(20);\nvar TYPE_YEAR = __nested_webpack_require_165813__(1).TYPE_YEAR;\nvar dateUtil = __nested_webpack_require_165813__(5);\n\nvar DATE_SELECTOR = '.tui-calendar-year';\n\n/**\n * @class\n * @extends LayerBase\n * @param {string} language - Initial language\n * @ignore\n */\nvar YearLayer = defineClass(\n  LayerBase,\n  /** @lends YearLayer.prototype */ {\n    init: function(language) {\n      LayerBase.call(this, language);\n    },\n\n    /**\n     * Layer type\n     * @type {string}\n     * @private\n     */\n    _type: TYPE_YEAR,\n\n    /**\n     * @override\n     * @returns {object} Template context\n     * @private\n     */\n    _makeContext: function(date) {\n      var year = date.getFullYear();\n\n      return {\n        yearGroups: [\n          dateUtil.getRangeArr(year - 4, year - 2),\n          dateUtil.getRangeArr(year - 1, year + 1),\n          dateUtil.getRangeArr(year + 2, year + 4)\n        ],\n        getFirstDayTimestamp: dateUtil.getFirstDayTimestamp\n      };\n    },\n\n    /**\n     * Render year-layer element\n     * @override\n     * @param {Date} date Date to render\n     * @param {HTMLElement} container A container element for the rendered element\n     */\n    render: function(date, container) {\n      var context = this._makeContext(date);\n\n      container.innerHTML = bodyTmpl(context);\n      this._element = container.firstChild;\n    },\n\n    /**\n     * Returns year elements\n     * @override\n     * @returns {HTMLElement[]}\n     */\n    getDateElements: function() {\n      return this._element.querySelectorAll(DATE_SELECTOR);\n    }\n  }\n);\n\nmodule.exports = YearLayer;\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __nested_webpack_require_167659__) {\n\n\"use strict\";\n\n\nvar template = __nested_webpack_require_167659__(11);\n\nmodule.exports = function(context) {\n  var source =\n    '<table class=\"tui-calendar-body-inner\">' +\n    '  <caption><span>Years</span></caption>' +\n    '  <tbody>' +\n    '    {{each yearGroups}}' +\n    '    <tr class=\"tui-calendar-year-group\">' +\n    '      {{each @this}}' +\n    '      <td class=\"tui-calendar-year\" data-timestamp={{getFirstDayTimestamp @this 0}}>' +\n    '        {{@this}}' +\n    '      </td>' +\n    '      {{/each}}' +\n    '    </tr>' +\n    '    {{/each}}' +\n    '  </tbody>' +\n    '</table>';\n\n  return template(source, context);\n};\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __nested_webpack_require_168348__) {\n\n\"use strict\";\n/**\n * @fileoverview RangeModel\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEachArray = __nested_webpack_require_168348__(2);\nvar defineClass = __nested_webpack_require_168348__(0);\nvar isNumber = __nested_webpack_require_168348__(15);\n\nvar Range = __nested_webpack_require_168348__(57);\nvar util = __nested_webpack_require_168348__(4);\n\n/**\n * @class\n * @ignore\n * @param {Array.<Array.<number>>} ranges - Ranges\n */\nvar RangeModel = defineClass(\n  /** @lends RangeModel.prototype */ {\n    init: function(ranges) {\n      ranges = ranges || [];\n\n      /**\n       * @type {Array.<Range>}\n       * @private\n       */\n      this._ranges = [];\n\n      forEachArray(\n        ranges,\n        function(range) {\n          this.add(range[0], range[1]);\n        },\n        this\n      );\n    },\n\n    /**\n     * Whether the ranges contain a time or time-range\n     * @param {number} start - Start\n     * @param {number} [end] - End\n     * @returns {boolean}\n     */\n    contains: function(start, end) {\n      var i = 0;\n      var length = this._ranges.length;\n      var range;\n\n      for (; i < length; i += 1) {\n        range = this._ranges[i];\n        if (range.contains(start, end)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Whether overlaps with a point or range\n     * @param {number} start - Start\n     * @param {number} [end] - End\n     * @returns {boolean}\n     */\n    hasOverlap: function(start, end) {\n      var i = 0;\n      var length = this._ranges.length;\n      var range;\n\n      for (; i < length; i += 1) {\n        range = this._ranges[i];\n        if (range.isOverlapped(start, end)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Add range\n     * @param {number} start - Start\n     * @param {number} [end] - End\n     */\n    add: function(start, end) {\n      var overlapped = false;\n      var i = 0;\n      var len = this._ranges.length;\n      var range;\n\n      for (; i < len; i += 1) {\n        range = this._ranges[i];\n        overlapped = range.isOverlapped(start, end);\n\n        if (overlapped) {\n          range.merge(start, end);\n          break;\n        }\n\n        if (start < range.start) {\n          break;\n        }\n      }\n\n      if (!overlapped) {\n        this._ranges.splice(i, 0, new Range(start, end));\n      }\n    },\n\n    /**\n     * Returns minimum value in ranges\n     * @returns {number}\n     */\n    getMinimumValue: function() {\n      return this._ranges[0].start;\n    },\n\n    /**\n     * Returns maximum value in ranges\n     * @returns {number}\n     */\n    getMaximumValue: function() {\n      var length = this._ranges.length;\n\n      return this._ranges[length - 1].end;\n    },\n\n    /**\n     * @param {number} start - Start\n     * @param {number} [end] - End\n     */\n    exclude: function(start, end) {\n      if (!isNumber(end)) {\n        end = start;\n      }\n\n      forEachArray(\n        this._ranges,\n        function(range) {\n          var rangeEnd;\n\n          if (range.isOverlapped(start, end)) {\n            rangeEnd = range.end; // Save before excluding\n            range.exclude(start, end);\n\n            if (end + 1 <= rangeEnd) {\n              this.add(end + 1, rangeEnd); // Add split range\n            }\n          }\n        },\n        this\n      );\n\n      // Reduce empty ranges\n      this._ranges = util.filter(this._ranges, function(range) {\n        return !range.isEmpty();\n      });\n    },\n\n    /**\n     * Returns the first overlapped range from the point or range\n     * @param {number} start - Start\n     * @param {number} end - End\n     * @returns {Array.<number>} - [start, end]\n     */\n    findOverlappedRange: function(start, end) {\n      var i = 0;\n      var len = this._ranges.length;\n      var range;\n\n      for (; i < len; i += 1) {\n        range = this._ranges[i];\n        if (range.isOverlapped(start, end)) {\n          return [range.start, range.end];\n        }\n      }\n\n      return null;\n    }\n  }\n);\n\nmodule.exports = RangeModel;\n\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __nested_webpack_require_172366__) {\n\n\"use strict\";\n/**\n * @fileoverview Range (in RangeModel)\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar defineClass = __nested_webpack_require_172366__(0);\nvar isNumber = __nested_webpack_require_172366__(15);\n\n/**\n * @class\n * @ignore\n * @param {number} start - Start of range\n * @param {number} [end] - End of range\n */\nvar Range = defineClass(\n  /** @lends Range.prototype */ {\n    init: function(start, end) {\n      this.setRange(start, end);\n    },\n\n    /**\n     * Set range\n     * @param {number} start - Start number\n     * @param {number} [end] - End number\n     */\n    setRange: function(start, end) {\n      if (!isNumber(end)) {\n        end = start;\n      }\n\n      this.start = Math.min(start, end);\n      this.end = Math.max(start, end);\n    },\n\n    /**\n     * Merge range\n     * @param {number} start - Start\n     * @param {number} [end] - End\n     */\n    merge: function(start, end) {\n      if (!isNumber(start) || !isNumber(end) || !this.isOverlapped(start, end)) {\n        return;\n      }\n\n      this.start = Math.min(start, this.start);\n      this.end = Math.max(end, this.end);\n    },\n\n    /**\n     * Whether being empty.\n     * @returns {boolean}\n     */\n    isEmpty: function() {\n      return !isNumber(this.start) || !isNumber(this.end);\n    },\n\n    /**\n     * Set empty\n     */\n    setEmpty: function() {\n      this.start = this.end = null;\n    },\n\n    /**\n     * Whether containing a range.\n     * @param {number} start - Start\n     * @param {number} [end] - End\n     * @returns {boolean}\n     */\n    contains: function(start, end) {\n      if (!isNumber(end)) {\n        end = start;\n      }\n\n      return this.start <= start && end <= this.end;\n    },\n\n    /**\n     * Whether overlaps with a range\n     * @param {number} start - Start\n     * @param {number} [end] - End\n     * @returns {boolean}\n     */\n    isOverlapped: function(start, end) {\n      if (!isNumber(end)) {\n        end = start;\n      }\n\n      return this.start <= end && this.end >= start;\n    },\n\n    /**\n     * Exclude a range\n     * @param {number} start - Start\n     * @param {number} end - End\n     */\n    exclude: function(start, end) {\n      if (start <= this.start && end >= this.end) {\n        // Excluding range contains this\n        this.setEmpty();\n      } else if (this.contains(start)) {\n        this.setRange(this.start, start - 1);\n      } else if (this.contains(end)) {\n        this.setRange(end + 1, this.end);\n      }\n    }\n  }\n);\n\nmodule.exports = Range;\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __nested_webpack_require_174902__) {\n\n\"use strict\";\n\n\nvar template = __nested_webpack_require_174902__(11);\n\nmodule.exports = function(context) {\n  var source =\n    '<div class=\"tui-datepicker\">' +\n    '  {{if timePicker}}' +\n    '    {{if isTab}}' +\n    '      <div class=\"tui-datepicker-selector\">' +\n    '        <button type=\"button\" class=\"tui-datepicker-selector-button tui-is-checked\" aria-label=\"selected\">' +\n    '          <span class=\"tui-ico-date\"></span>{{localeText[\"date\"]}}' +\n    '        </button>' +\n    '        <button type=\"button\" class=\"tui-datepicker-selector-button\">' +\n    '          <span class=\"tui-ico-time\"></span>{{localeText[\"time\"]}}' +\n    '        </button>' +\n    '      </div>' +\n    '      <div class=\"tui-datepicker-body\">' +\n    '        <div class=\"tui-calendar-container\"></div>' +\n    '        <div class=\"tui-timepicker-container\"></div>' +\n    '      </div>' +\n    '    {{else}}' +\n    '      <div class=\"tui-datepicker-body\">' +\n    '        <div class=\"tui-calendar-container\"></div>' +\n    '      </div>' +\n    '      <div class=\"tui-datepicker-footer\">' +\n    '        <div class=\"tui-timepicker-container\"></div>' +\n    '      </div>' +\n    '    {{/if}}' +\n    '  {{else}}' +\n    '    <div class=\"tui-datepicker-body\">' +\n    '      <div class=\"tui-calendar-container\"></div>' +\n    '    </div>' +\n    '  {{/if}}' +\n    '</div>';\n\n  return template(source, context);\n};\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __nested_webpack_require_176350__) {\n\n\"use strict\";\n/**\n * @fileoverview DatePicker input(element) component\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar defineClass = __nested_webpack_require_176350__(0);\nvar CustomEvents = __nested_webpack_require_176350__(8);\nvar on = __nested_webpack_require_176350__(31);\nvar off = __nested_webpack_require_176350__(33);\n\nvar DateTimeFormatter = __nested_webpack_require_176350__(30);\nvar mouseTouchEvent = __nested_webpack_require_176350__(19);\nvar util = __nested_webpack_require_176350__(4);\n\nvar DEFAULT_FORMAT = 'yyyy-MM-dd';\n\n/**\n * DatePicker Input\n * @ignore\n * @class\n * @param {string|HTMLElement} inputElement - Input element or selector\n * @param {object} option - Option\n * @param {string} option.id - Id\n * @param {string} option.format - Text format\n */\nvar DatePickerInput = defineClass(\n  /** @lends DatePickerInput.prototype */ {\n    init: function(inputElement, option) {\n      option.format = option.format || DEFAULT_FORMAT;\n\n      /**\n       * Input element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._input = util.getElement(inputElement);\n\n      /**\n       * Id\n       * @type {string}\n       * @private\n       */\n      this._id = option.id;\n\n      /**\n       * LocaleText titles\n       * @type {Object}\n       * @private\n       */\n      this._titles = option.localeText.titles;\n\n      /**\n       * Text<->DateTime Formatter\n       * @type {DateTimeFormatter}\n       * @private\n       */\n      this._formatter = new DateTimeFormatter(option.format, this._titles);\n\n      this._setEvents();\n    },\n\n    /**\n     * Change locale titles\n     * @param {object} titles - locale text in format\n     */\n    changeLocaleTitles: function(titles) {\n      this._titles = titles;\n    },\n\n    /**\n     * Set input 'click', 'change' event\n     * @private\n     */\n    _setEvents: function() {\n      if (this._input) {\n        on(this._input, 'change', this._onChangeHandler, this);\n        mouseTouchEvent.on(this._input, 'click', this._onClickHandler, this);\n      }\n    },\n\n    /**\n     * Remove events\n     * @private\n     */\n    _removeEvents: function() {\n      this.off();\n\n      if (this._input) {\n        off(this._input, 'change', this._onChangeHandler);\n        mouseTouchEvent.off(this._input, 'click', this._onClickHandler);\n      }\n    },\n\n    /**\n     * Onchange handler\n     */\n    _onChangeHandler: function() {\n      this.fire('change');\n    },\n\n    /**\n     * Onclick handler\n     */\n    _onClickHandler: function() {\n      this.fire('click');\n    },\n\n    /**\n     * Check element is same as the input element.\n     * @param {HTMLElement} el - To check matched set of elements\n     * @returns {boolean}\n     */\n    is: function(el) {\n      return this._input === el;\n    },\n\n    /**\n     * Enable input\n     */\n    enable: function() {\n      if (this._input) {\n        this._input.removeAttribute('disabled');\n      }\n    },\n\n    /**\n     * Disable input\n     */\n    disable: function() {\n      if (this._input) {\n        this._input.setAttribute('disabled', true);\n      }\n    },\n\n    /**\n     * Return format\n     * @returns {string}\n     */\n    getFormat: function() {\n      return this._formatter.getRawString();\n    },\n\n    /**\n     * Set format\n     * @param {string} format - Format\n     */\n    setFormat: function(format) {\n      if (!format) {\n        return;\n      }\n\n      this._formatter = new DateTimeFormatter(format, this._titles);\n    },\n\n    /**\n     * Clear text\n     */\n    clearText: function() {\n      if (this._input) {\n        this._input.value = '';\n      }\n    },\n\n    /**\n     * Set value from date\n     * @param {Date} date - Date\n     */\n    setDate: function(date) {\n      if (this._input) {\n        this._input.value = this._formatter.format(date);\n      }\n    },\n\n    /**\n     * Returns date from input-text\n     * @returns {Date}\n     * @throws {Error}\n     */\n    getDate: function() {\n      var value = '';\n\n      if (this._input) {\n        value = this._input.value;\n      }\n\n      return this._formatter.parse(value);\n    },\n\n    /**\n     * Destroy\n     */\n    destroy: function() {\n      this._removeEvents();\n\n      this._input = this._id = this._formatter = null;\n    }\n  }\n);\n\nCustomEvents.mixin(DatePickerInput);\nmodule.exports = DatePickerInput;\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __nested_webpack_require_180596__) {\n\n\"use strict\";\n/**\n * @fileoverview Date-Range picker\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEachArray = __nested_webpack_require_180596__(2);\nvar defineClass = __nested_webpack_require_180596__(0);\nvar CustomEvents = __nested_webpack_require_180596__(8);\nvar addClass = __nested_webpack_require_180596__(16);\nvar getData = __nested_webpack_require_180596__(26);\nvar removeClass = __nested_webpack_require_180596__(18);\nvar extend = __nested_webpack_require_180596__(7);\n\nvar DatePicker = __nested_webpack_require_180596__(21);\nvar dateUtil = __nested_webpack_require_180596__(5);\nvar constants = __nested_webpack_require_180596__(1);\nvar util = __nested_webpack_require_180596__(4);\n\nvar CLASS_NAME_RANGE_PICKER = 'tui-rangepicker';\nvar CLASS_NAME_SELECTED = constants.CLASS_NAME_SELECTED;\nvar CLASS_NAME_SELECTED_RANGE = 'tui-is-selected-range';\n\n/**\n * @class\n * @description\n * Create a date-range picker by {@link DatePicker#createRangePicker DatePicker.createRangePicker()}.\n * @see {@link /tutorial-example08-daterangepicker DateRangePicker example}\n * @param {object} options - DateRangePicker options\n *     @param {object} options.startpicker - Startpicker options\n *         @param {HTMLElement|string} options.startpicker.input - Startpicker input element or selector\n *         @param {HTMLElement|string} options.startpicker.container - Startpicker container element or selector\n *         @param {Date|number} [options.startpicker.date] - Initial date of the start picker. Set by a Date instance or a number(timestamp). (default: no initial date)\n *         @param {string} [options.startpicker.weekStartDay = 'Sun'] - Start of the week. 'Sun', 'Mon', ..., 'Sat'(default: 'Sun'(start on Sunday))\n *     @param {object} options.endpicker - Endpicker options\n *         @param {HTMLElement|string} options.endpicker.input - Endpicker input element or selector\n *         @param {HTMLElement|string} options.endpicker.container - Endpicker container element or selector\n *         @param {Date|number} [options.endpicker.date] - Initial date of the end picker. Set by a Date instance or a number(timestamp). (default: no initial date)\n *         @param {string} [options.endpicker.weekStartDay = 'Sun'] - Start of the week. 'Sun', 'Mon', ..., 'Sat'(default: 'Sun'(start on Sunday))\n *     @param {('date'|'month'|'year')} [options.type = 'date'] - DatePicker type. Determine whether to choose a date, month, or year.\n *     @param {string} [options.language='en'] - Language code. English('en') and Korean('ko') are provided as default. To use the other languages, use {@link DatePicker#localeTexts DatePicker.localeTexts}.\n *     @param {object|boolean} [options.timePicker] - [TimePicker](https://nhn.github.io/tui.time-picker/latest) options. Refer to the [TimePicker instance's options](https://nhn.github.io/tui.time-picker/latest/TimePicker). To create the TimePicker without customization, set to true.\n *     @param {object} [options.calendar] - {@link Calendar} options. Refer to the {@link Calendar Calendar instance's options}.\n *     @param {string} [options.format = 'yyyy-mm-dd'] - Format of the Date string\n *     @param {Array.<Array.<Date|number>>} [options.selectableRanges] - Ranges of selectable date. Set by Date instances or numbers(timestamp).\n *     @param {boolean} [options.showAlways = false] - Show the DateRangePicker always\n *     @param {boolean} [options.autoClose = true] - Close the DateRangePicker after clicking the date\n *     @param {boolean} [options.usageStatistics = true] - Send a hostname to Google Analytics (default: true)\n * @example\n * import DatePicker from 'tui-date-picker' // ES6\n * // const DatePicker = require('tui-date-picker'); // CommonJS\n * // const DatePicker = tui.DatePicker;\n *\n * const rangePicker = DatePicker.createRangePicker({\n *     startpicker: {\n *         input: '#start-input',\n *         container: '#start-container'\n *         date: new Date(2019, 3, 1),\n *         weekStartDay: 'Mon',\n *     },\n *     endpicker: {\n *         input: '#end-input',\n *         container: '#end-container',\n *         weekStartDay: 'Mon',\n *     },\n *     type: 'date',\n *     format: 'yyyy-MM-dd'\n *     selectableRanges: [\n *         [new Date(2017, 3, 1), new Date(2017, 5, 1)],\n *         [new Date(2017, 6, 3), new Date(2017, 10, 5)]\n *     ]\n * });\n */\nvar DateRangePicker = defineClass(\n  /** @lends DateRangePicker.prototype */ {\n    init: function(options) {\n      var startpickerOpt, endpickerOpt;\n\n      options = options || {};\n      startpickerOpt = options.startpicker;\n      endpickerOpt = options.endpicker;\n\n      if (!startpickerOpt) {\n        throw new Error('The \"startpicker\" option is required.');\n      }\n      if (!endpickerOpt) {\n        throw new Error('The \"endpicker\" option is required.');\n      }\n\n      /**\n       * Start picker\n       * @type {DatePicker}\n       * @private\n       */\n      this._startpicker = null;\n\n      /**\n       * End picker\n       * @type {DatePicker}\n       * @private\n       */\n      this._endpicker = null;\n\n      this._initializePickers(options);\n      this._syncRangesToEndpicker();\n    },\n\n    /**\n     * Create picker\n     * @param {Object} options - DatePicker options\n     * @private\n     */\n    _initializePickers: function(options) {\n      var startpickerContainer = util.getElement(options.startpicker.container);\n      var endpickerContainer = util.getElement(options.endpicker.container);\n      var startInput = util.getElement(options.startpicker.input);\n      var endInput = util.getElement(options.endpicker.input);\n\n      var startpickerOpt = extend({}, options, {\n        input: {\n          element: startInput,\n          format: options.format\n        },\n        date: options.startpicker.date,\n        weekStartDay: options.startpicker.weekStartDay\n      });\n      var endpickerOpt = extend({}, options, {\n        input: {\n          element: endInput,\n          format: options.format\n        },\n        date: options.endpicker.date,\n        weekStartDay: options.endpicker.weekStartDay\n      });\n\n      this._startpicker = new DatePicker(startpickerContainer, startpickerOpt);\n      this._startpicker.addCssClass(CLASS_NAME_RANGE_PICKER);\n      this._startpicker.on('change', this._onChangeStartpicker, this);\n      this._startpicker.on('draw', this._onDrawPicker, this);\n\n      this._endpicker = new DatePicker(endpickerContainer, endpickerOpt);\n      this._endpicker.addCssClass(CLASS_NAME_RANGE_PICKER);\n      this._endpicker.on('change', this._onChangeEndpicker, this);\n      this._endpicker.on('draw', this._onDrawPicker, this);\n    },\n\n    /**\n     * Set selection-class to elements after calendar drawing\n     * @param {Object} eventData - Event data {@link DatePicker#event:draw}\n     * @private\n     */\n    _onDrawPicker: function(eventData) {\n      var calendarType = eventData.type;\n      var startDate = this._startpicker.getDate();\n      var endDate = this._endpicker.getDate();\n\n      if (!startDate) {\n        return;\n      }\n\n      if (!endDate) {\n        // Convert null to invaild date.\n        endDate = new Date(NaN);\n      }\n\n      forEachArray(\n        eventData.dateElements,\n        function(el) {\n          var elDate = new Date(Number(getData(el, 'timestamp')));\n          var isInRange = dateUtil.inRange(startDate, endDate, elDate, calendarType);\n          var isSelected =\n            dateUtil.isSame(startDate, elDate, calendarType) ||\n            dateUtil.isSame(endDate, elDate, calendarType);\n\n          this._setRangeClass(el, isInRange);\n          this._setSelectedClass(el, isSelected);\n        },\n        this\n      );\n    },\n\n    /**\n     * Set range class to element\n     * @param {HTMLElement} el - Element\n     * @param {boolean} isInRange - In range\n     * @private\n     */\n    _setRangeClass: function(el, isInRange) {\n      if (isInRange) {\n        addClass(el, CLASS_NAME_SELECTED_RANGE);\n      } else {\n        removeClass(el, CLASS_NAME_SELECTED_RANGE);\n      }\n    },\n\n    /**\n     * Set selected class to element\n     * @param {HTMLElement} el - Element\n     * @param {boolean} isSelected - Is selected\n     * @private\n     */\n    _setSelectedClass: function(el, isSelected) {\n      if (isSelected) {\n        addClass(el, CLASS_NAME_SELECTED);\n      } else {\n        removeClass(el, CLASS_NAME_SELECTED);\n      }\n    },\n\n    /**\n     * Sync ranges to endpicker\n     * @private\n     */\n    _syncRangesToEndpicker: function() {\n      var startDate = this._startpicker.getDate();\n      var overlappedRange;\n\n      if (startDate) {\n        overlappedRange = this._startpicker.findOverlappedRange(\n          dateUtil.cloneWithStartOf(startDate).getTime(),\n          dateUtil.cloneWithEndOf(startDate).getTime()\n        );\n\n        this._endpicker.enable();\n        this._endpicker.setRanges([[startDate.getTime(), overlappedRange[1].getTime()]]);\n      } else {\n        this._endpicker.setNull();\n        this._endpicker.disable();\n      }\n    },\n\n    /**\n     * After change on start-picker\n     * @private\n     */\n    _onChangeStartpicker: function() {\n      this._syncRangesToEndpicker();\n      /**\n       * Occur after the start date is changed.\n       * @event DateRangePicker#change:start\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#on rangePicker.on()} to bind event handlers.\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#off rangePicker.off()} to unbind event handlers.\n       * @see Refer to {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents CustomEvents} for more methods. DateRangePicker mixes in the methods from CustomEvents.\n       * @example\n       * // bind the 'change:start' event\n       * rangePicker.on('change:start', function() {\n       *     console.log(`Start date: ${rangePicker.getStartDate()}`);\n       * });\n       *\n       * // unbind the 'change:start' event\n       * rangePicker.off('change:start');\n       */\n      this.fire('change:start');\n    },\n\n    /**\n     * After change on end-picker\n     * @private\n     */\n    _onChangeEndpicker: function() {\n      /**\n       * Occur after the end date is changed.\n       * @event DateRangePicker#change:end\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#on rangePicker.on()} to bind event handlers.\n       * @see {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents#off rangePicker.off()} to unbind event handlers.\n       * @see Refer to {@link https://nhn.github.io/tui.code-snippet/latest/CustomEvents CustomEvents} for more methods. DateRangePicker mixes in the methods from CustomEvents.\n       * @example\n       * // bind the 'change:end' event\n       * rangePicker.on('change:end', function() {\n       *     console.log(`End date: ${rangePicker.getEndDate()}`);\n       * });\n       *\n       * // unbind the 'change:end' event\n       * rangePicker.off('change:end');\n       */\n      this.fire('change:end');\n    },\n\n    /**\n     * Return a start-datepicker.\n     * @returns {DatePicker}\n     */\n    getStartpicker: function() {\n      return this._startpicker;\n    },\n\n    /**\n     * Return a end-datepicker.\n     * @returns {DatePicker}\n     */\n    getEndpicker: function() {\n      return this._endpicker;\n    },\n\n    /**\n     * Set the start date.\n     * @param {Date} date - Start date\n     */\n    setStartDate: function(date) {\n      this._startpicker.setDate(date);\n    },\n\n    /**\n     * Return the start date.\n     * @returns {?Date}\n     */\n    getStartDate: function() {\n      return this._startpicker.getDate();\n    },\n\n    /**\n     * Return the end date.\n     * @returns {?Date}\n     */\n    getEndDate: function() {\n      return this._endpicker.getDate();\n    },\n\n    /**\n     * Set the end date.\n     * @param {Date} date - End date\n     */\n    setEndDate: function(date) {\n      this._endpicker.setDate(date);\n    },\n\n    /**\n     * Set selectable ranges.\n     * @param {Array.<Array.<number|Date>>} ranges - Selectable ranges. Use Date instances or numbers(timestamp).\n     */\n    setRanges: function(ranges) {\n      this._startpicker.setRanges(ranges);\n      this._syncRangesToEndpicker();\n    },\n\n    /**\n     * Add a selectable range. Use Date instances or numbers(timestamp).\n     * @param {Date|number} start - the start date\n     * @param {Date|number} end - the end date\n     */\n    addRange: function(start, end) {\n      this._startpicker.addRange(start, end);\n      this._syncRangesToEndpicker();\n    },\n\n    /**\n     * Remove a range. Use Date instances or numbers(timestamp).\n     * @param {Date|number} start - the start date\n     * @param {Date|number} end - the end date\n     * @param {null|'date'|'month'|'year'} type - Range type. If falsy, start and end values are considered as timestamp\n     */\n    removeRange: function(start, end, type) {\n      this._startpicker.removeRange(start, end, type);\n      this._syncRangesToEndpicker();\n    },\n\n    /**\n     * Change language.\n     * @param {string} language - Language code. English('en') and Korean('ko') are provided as default.\n     * @see To set to the other languages, use {@link DatePicker#localeTexts DatePicker.localeTexts}.\n     */\n    changeLanguage: function(language) {\n      this._startpicker.changeLanguage(language);\n      this._endpicker.changeLanguage(language);\n    },\n\n    /**\n     * Destroy the date-range picker.\n     */\n    destroy: function() {\n      this.off();\n      this._startpicker.destroy();\n      this._endpicker.destroy();\n      this._startpicker = this._endpicker = null;\n    }\n  }\n);\n\nCustomEvents.mixin(DateRangePicker);\nmodule.exports = DateRangePicker;\n\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n/******/ ]);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTnBtSlMvLi9ub2RlX21vZHVsZXMvdHVpLWRhdGUtcGlja2VyL2Rpc3QvdHVpLWRhdGUtcGlja2VyLmpzPzAzNjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBUT0FTVCBVSSBEYXRlIFBpY2tlclxuICogQHZlcnNpb24gNC4yLjBcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJ0dWktdGltZS1waWNrZXJcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1widHVpLXRpbWUtcGlja2VyXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkRhdGVQaWNrZXJcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJ0dWktdGltZS1waWNrZXJcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInR1aVwiXSA9IHJvb3RbXCJ0dWlcIl0gfHwge30sIHJvb3RbXCJ0dWlcIl1bXCJEYXRlUGlja2VyXCJdID0gZmFjdG9yeShyb290W1widHVpXCJdW1wiVGltZVBpY2tlclwiXSk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzQzX18pIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiZGlzdFwiO1xuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzNCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBUaGlzIG1vZHVsZSBwcm92aWRlcyBhIGZ1bmN0aW9uIHRvIG1ha2UgYSBjb25zdHJ1Y3RvclxuICogdGhhdCBjYW4gaW5oZXJpdCBmcm9tIHRoZSBvdGhlciBjb25zdHJ1Y3RvcnMgbGlrZSB0aGUgQ0xBU1MgZWFzaWx5LlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBpbmhlcml0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG52YXIgZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuLyoqXG4gKiBAbW9kdWxlIGRlZmluZUNsYXNzXG4gKi9cblxuLyoqXG4gKiBIZWxwIGEgY29uc3RydWN0b3IgdG8gYmUgZGVmaW5lZCBhbmQgdG8gaW5oZXJpdCBmcm9tIHRoZSBvdGhlciBjb25zdHJ1Y3RvcnNcbiAqIEBwYXJhbSB7Kn0gW3BhcmVudF0gUGFyZW50IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgTWVtYmVycyBvZiBjb25zdHJ1Y3RvclxuICogIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLmluaXQgSW5pdGlhbGl6YXRpb24gbWV0aG9kXG4gKiAgQHBhcmFtIHtPYmplY3R9IFtwcm9wcy5zdGF0aWNdIFN0YXRpYyBtZW1iZXJzIG9mIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7Kn0gQ29uc3RydWN0b3JcbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZGVmaW5lQ2xhc3NcbiAqIEBleGFtcGxlXG4gKiB2YXIgZGVmaW5lQ2xhc3MgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2RlZmluZUNsYXNzL2RlZmluZUNsYXNzJyk7IC8vIG5vZGUsIGNvbW1vbmpzXG4gKlxuICogLy8tLSAjMi4gVXNlIHByb3BlcnR5IC0tLy9cbiAqIHZhciBQYXJlbnQgPSBkZWZpbmVDbGFzcyh7XG4gKiAgICAgaW5pdDogZnVuY3Rpb24oKSB7IC8vIGNvbnN0dXJ1Y3RvclxuICogICAgICAgICB0aGlzLm5hbWUgPSAnbWFkZSBieSBkZWYnO1xuICogICAgIH0sXG4gKiAgICAgbWV0aG9kOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgLy8gLi4uXG4gKiAgICAgfSxcbiAqICAgICBzdGF0aWM6IHtcbiAqICAgICAgICAgc3RhdGljTWV0aG9kOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgICAvLyAuLi5cbiAqICAgICAgICAgfVxuICogICAgIH1cbiAqIH0pO1xuICpcbiAqIHZhciBDaGlsZCA9IGRlZmluZUNsYXNzKFBhcmVudCwge1xuICogICAgIGNoaWxkTWV0aG9kOiBmdW5jdGlvbigpIHt9XG4gKiB9KTtcbiAqXG4gKiBQYXJlbnQuc3RhdGljTWV0aG9kKCk7XG4gKlxuICogdmFyIHBhcmVudEluc3RhbmNlID0gbmV3IFBhcmVudCgpO1xuICogY29uc29sZS5sb2cocGFyZW50SW5zdGFuY2UubmFtZSk7IC8vbWFkZSBieSBkZWZcbiAqIHBhcmVudEluc3RhbmNlLnN0YXRpY01ldGhvZCgpOyAvLyBFcnJvclxuICpcbiAqIHZhciBjaGlsZEluc3RhbmNlID0gbmV3IENoaWxkKCk7XG4gKiBjaGlsZEluc3RhbmNlLm1ldGhvZCgpO1xuICogY2hpbGRJbnN0YW5jZS5jaGlsZE1ldGhvZCgpO1xuICovXG5mdW5jdGlvbiBkZWZpbmVDbGFzcyhwYXJlbnQsIHByb3BzKSB7XG4gIHZhciBvYmo7XG5cbiAgaWYgKCFwcm9wcykge1xuICAgIHByb3BzID0gcGFyZW50O1xuICAgIHBhcmVudCA9IG51bGw7XG4gIH1cblxuICBvYmogPSBwcm9wcy5pbml0IHx8IGZ1bmN0aW9uKCkge307XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIGluaGVyaXQob2JqLCBwYXJlbnQpO1xuICB9XG5cbiAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KCdzdGF0aWMnKSkge1xuICAgIGV4dGVuZChvYmosIHByb3BzWydzdGF0aWMnXSk7XG4gICAgZGVsZXRlIHByb3BzWydzdGF0aWMnXTtcbiAgfVxuXG4gIGV4dGVuZChvYmoucHJvdG90eXBlLCBwcm9wcyk7XG5cbiAgcmV0dXJuIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVDbGFzcztcblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ29uc3RhbnRzIG9mIGRhdGUtcGlja2VyXG4gKiBAYXV0aG9yIE5ITi4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUWVBFX0RBVEU6ICdkYXRlJyxcbiAgVFlQRV9NT05USDogJ21vbnRoJyxcbiAgVFlQRV9ZRUFSOiAneWVhcicsXG4gIFRZUEVfSE9VUjogJ2hvdXInLFxuICBUWVBFX01JTlVURTogJ21pbnV0ZScsXG4gIFRZUEVfTUVSSURJRU06ICdtZXJpZGllbScsXG4gIE1JTl9EQVRFOiBuZXcgRGF0ZSgxOTAwLCAwLCAxKSxcbiAgTUFYX0RBVEU6IG5ldyBEYXRlKDI5OTksIDExLCAzMSksXG5cbiAgREVGQVVMVF9MQU5HVUFHRV9UWVBFOiAnZW4nLFxuXG4gIENMQVNTX05BTUVfU0VMRUNURUQ6ICd0dWktaXMtc2VsZWN0ZWQnLFxuXG4gIENMQVNTX05BTUVfUFJFVl9NT05USF9CVE46ICd0dWktY2FsZW5kYXItYnRuLXByZXYtbW9udGgnLFxuICBDTEFTU19OQU1FX1BSRVZfWUVBUl9CVE46ICd0dWktY2FsZW5kYXItYnRuLXByZXYteWVhcicsXG4gIENMQVNTX05BTUVfTkVYVF9ZRUFSX0JUTjogJ3R1aS1jYWxlbmRhci1idG4tbmV4dC15ZWFyJyxcbiAgQ0xBU1NfTkFNRV9ORVhUX01PTlRIX0JUTjogJ3R1aS1jYWxlbmRhci1idG4tbmV4dC1tb250aCcsXG5cbiAgREVGQVVMVF9XRUVLX1NUQVJUX0RBWTogJ1N1bicsXG4gIFdFRUtfU1RBUlRfREFZX01BUDoge1xuICAgIHN1bjogMCxcbiAgICBtb246IDEsXG4gICAgdHVlOiAyLFxuICAgIHdlZDogMyxcbiAgICB0aHU6IDQsXG4gICAgZnJpOiA1LFxuICAgIHNhdDogNlxuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBFeGVjdXRlIHRoZSBwcm92aWRlZCBjYWxsYmFjayBvbmNlIGZvciBlYWNoIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkob3IgQXJyYXktbGlrZSBvYmplY3QpIGluIGFzY2VuZGluZyBvcmRlci5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG4vKipcbiAqIEV4ZWN1dGUgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggZWxlbWVudCBwcmVzZW50XG4gKiBpbiB0aGUgYXJyYXkob3IgQXJyYXktbGlrZSBvYmplY3QpIGluIGFzY2VuZGluZyBvcmRlci5cbiAqIElmIHRoZSBjYWxsYmFjayBmdW5jdGlvbiByZXR1cm5zIGZhbHNlLCB0aGUgbG9vcCB3aWxsIGJlIHN0b3BwZWQuXG4gKiBDYWxsYmFjayBmdW5jdGlvbihpdGVyYXRlZSkgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAqICAxKSBUaGUgdmFsdWUgb2YgdGhlIGVsZW1lbnRcbiAqICAyKSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnRcbiAqICAzKSBUaGUgYXJyYXkob3IgQXJyYXktbGlrZSBvYmplY3QpIGJlaW5nIHRyYXZlcnNlZFxuICogQHBhcmFtIHtBcnJheXxBcmd1bWVudHN8Tm9kZUxpc3R9IGFyciBUaGUgYXJyYXkob3IgQXJyYXktbGlrZSBvYmplY3QpIHRoYXQgd2lsbCBiZSB0cmF2ZXJzZWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGl0ZXJhdGVlIENhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdIENvbnRleHQodGhpcykgb2YgY2FsbGJhY2sgZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBtb2R1bGU6Y29sbGVjdGlvblxuICogQGV4YW1wbGVcbiAqIHZhciBmb3JFYWNoQXJyYXkgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2NvbGxlY3Rpb24vZm9yRWFjaEFycmF5Jyk7IC8vIG5vZGUsIGNvbW1vbmpzXG4gKlxuICogdmFyIHN1bSA9IDA7XG4gKlxuICogZm9yRWFjaEFycmF5KFsxLDIsM10sIGZ1bmN0aW9uKHZhbHVlKXtcbiAqICAgICBzdW0gKz0gdmFsdWU7XG4gKiB9KTtcbiAqIGFsZXJ0KHN1bSk7IC8vIDZcbiAqL1xuZnVuY3Rpb24gZm9yRWFjaEFycmF5KGFyciwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgY29udGV4dCA9IGNvbnRleHQgfHwgbnVsbDtcblxuICBmb3IgKDsgaW5kZXggPCBsZW47IGluZGV4ICs9IDEpIHtcbiAgICBpZiAoaXRlcmF0ZWUuY2FsbChjb250ZXh0LCBhcnJbaW5kZXhdLCBpbmRleCwgYXJyKSA9PT0gZmFsc2UpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZvckVhY2hBcnJheTtcblxuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBjb21wbGV4aXR5ICovXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggYXQgd2hpY2ggYSBnaXZlbiBlbGVtZW50IGNhbiBiZSBmb3VuZCBpbiB0aGUgYXJyYXkuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG4vKipcbiAqIEBtb2R1bGUgYXJyYXlcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IGluZGV4IGF0IHdoaWNoIGEgZ2l2ZW4gZWxlbWVudCBjYW4gYmUgZm91bmQgaW4gdGhlIGFycmF5XG4gKiBmcm9tIHN0YXJ0IGluZGV4KGRlZmF1bHQgMCksIG9yIC0xIGlmIGl0IGlzIG5vdCBwcmVzZW50LlxuICogSXQgY29tcGFyZXMgc2VhcmNoRWxlbWVudCB0byBlbGVtZW50cyBvZiB0aGUgQXJyYXkgdXNpbmcgc3RyaWN0IGVxdWFsaXR5XG4gKiAodGhlIHNhbWUgbWV0aG9kIHVzZWQgYnkgdGhlID09PSwgb3IgdHJpcGxlLWVxdWFscywgb3BlcmF0b3IpLlxuICogQHBhcmFtIHsqfSBzZWFyY2hFbGVtZW50IEVsZW1lbnQgdG8gbG9jYXRlIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgQXJyYXkgdGhhdCB3aWxsIGJlIHRyYXZlcnNlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IFN0YXJ0IGluZGV4IGluIGFycmF5IGZvciBzZWFyY2hpbmcgKGRlZmF1bHQgMClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBGaXJzdCBpbmRleCBhdCB3aGljaCBhIGdpdmVuIGVsZW1lbnQsIG9yIC0xIGlmIGl0IGlzIG5vdCBwcmVzZW50XG4gKiBAbWVtYmVyb2YgbW9kdWxlOmFycmF5XG4gKiBAZXhhbXBsZVxuICogdmFyIGluQXJyYXkgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2FycmF5L2luQXJyYXknKTsgLy8gbm9kZSwgY29tbW9uanNcbiAqXG4gKiB2YXIgYXJyID0gWydvbmUnLCAndHdvJywgJ3RocmVlJywgJ2ZvdXInXTtcbiAqIHZhciBpZHgxID0gaW5BcnJheSgnb25lJywgYXJyLCAzKTsgLy8gLTFcbiAqIHZhciBpZHgyID0gaW5BcnJheSgnb25lJywgYXJyKTsgLy8gMFxuICovXG5mdW5jdGlvbiBpbkFycmF5KHNlYXJjaEVsZW1lbnQsIGFycmF5LCBzdGFydEluZGV4KSB7XG4gIHZhciBpO1xuICB2YXIgbGVuZ3RoO1xuICBzdGFydEluZGV4ID0gc3RhcnRJbmRleCB8fCAwO1xuXG4gIGlmICghaXNBcnJheShhcnJheSkpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhcnJheSwgc2VhcmNoRWxlbWVudCwgc3RhcnRJbmRleCk7XG4gIH1cblxuICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIGZvciAoaSA9IHN0YXJ0SW5kZXg7IHN0YXJ0SW5kZXggPj0gMCAmJiBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoYXJyYXlbaV0gPT09IHNlYXJjaEVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbkFycmF5O1xuXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBVdGlscyBmb3IgRGF0ZXBpY2tlciBjb21wb25lbnRcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGZvckVhY2hBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgaXNIVE1MTm9kZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xudmFyIHNlbmRIb3N0bmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXG52YXIgY3VycmVudElkID0gMDtcblxudmFyIHV0aWxzID0ge1xuICAvKipcbiAgICogR2V0IGEgdGFyZ2V0IGVsZW1lbnRcbiAgICogQHBhcmFtIHtFdmVudH0gZXYgRXZlbnQgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gQW4gZXZlbnQgdGFyZ2V0IGVsZW1lbnRcbiAgICovXG4gIGdldFRhcmdldDogZnVuY3Rpb24oZXYpIHtcbiAgICByZXR1cm4gZXYudGFyZ2V0IHx8IGV2LnNyY0VsZW1lbnQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgc2FtZSBlbGVtZW50IHdpdGggYW4gZWxlbWVudCBvciBhIG1hdGNoZWQgZWxlbWVudCBzZWFyY2hlZCBieSBhIHNlbGVjdG9yLlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fHN0cmluZ30gcGFyYW0gSFRNTEVsZW1lbnQgb3Igc2VsZWN0b3JcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSBBIG1hdGNoZWQgZWxlbWVudFxuICAgKi9cbiAgZ2V0RWxlbWVudDogZnVuY3Rpb24ocGFyYW0pIHtcbiAgICByZXR1cm4gaXNIVE1MTm9kZShwYXJhbSkgPyBwYXJhbSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyYW0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgYSBzZWxlY3RvciBvZiB0aGUgZWxlbWVudC5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSBBbiBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZXRTZWxlY3RvcjogZnVuY3Rpb24oZWxlbSkge1xuICAgIHZhciBzZWxlY3RvciA9ICcnO1xuICAgIGlmIChlbGVtLmlkKSB7XG4gICAgICBzZWxlY3RvciA9ICcjJyArIGVsZW0uaWQ7XG4gICAgfSBlbHNlIGlmIChlbGVtLmNsYXNzTmFtZSkge1xuICAgICAgc2VsZWN0b3IgPSAnLicgKyBlbGVtLmNsYXNzTmFtZS5zcGxpdCgnICcpWzBdO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxlY3RvcjtcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlIGFuIHVuaXF1ZSBpZC5cbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdlbmVyYXRlSWQ6IGZ1bmN0aW9uKCkge1xuICAgIGN1cnJlbnRJZCArPSAxO1xuXG4gICAgcmV0dXJuIGN1cnJlbnRJZDtcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGFycmF5IHdpdGggYWxsIGVsZW1lbnRzIHRoYXQgcGFzcyB0aGUgdGVzdCBpbXBsZW1lbnRlZCBieSB0aGUgcHJvdmlkZWQgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyciAtIEFycmF5IHRoYXQgd2lsbCBiZSB0cmF2ZXJzZWRcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0ZWUgLSBpdGVyYXRlZSBjYWxsYmFjayBmdW5jdGlvblxuICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAqL1xuICBmaWx0ZXI6IGZ1bmN0aW9uKGFyciwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICBmb3JFYWNoQXJyYXkoYXJyLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoaXRlbSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZW5kIGhvc3RuYW1lIGZvciBHQVxuICAgKiBAaWdub3JlXG4gICAqL1xuICBzZW5kSG9zdE5hbWU6IGZ1bmN0aW9uKCkge1xuICAgIHNlbmRIb3N0bmFtZSgnZGF0ZS1waWNrZXInLCAnVUEtMTI5OTg3NDYyLTEnKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1dGlscztcblxuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVXRpbHMgZm9yIERhdGVQaWNrZXIgY29tcG9uZW50XG4gKiBAYXV0aG9yIE5ITi4gRkUgZGV2IExhYi4gPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGlzRGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xudmFyIGlzTnVtYmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBjb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgVFlQRV9EQVRFID0gY29uc3RhbnRzLlRZUEVfREFURTtcbnZhciBUWVBFX01PTlRIID0gY29uc3RhbnRzLlRZUEVfTU9OVEg7XG52YXIgVFlQRV9ZRUFSID0gY29uc3RhbnRzLlRZUEVfWUVBUjtcblxuLyoqXG4gKiBVdGlscyBvZiBjYWxlbmRhclxuICogQG5hbWVzcGFjZSBkYXRlVXRpbFxuICogQGlnbm9yZVxuICovXG52YXIgdXRpbHMgPSB7XG4gIC8qKlxuICAgKiBHZXQgd2Vla3MgY291bnQgYnkgcGFyYW1lbnRlclxuICAgKiBAcGFyYW0ge251bWJlcn0geWVhciBBIHllYXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1vbnRoIEEgbW9udGhcbiAgICogQHJldHVybnMge251bWJlcn0gV2Vla3MgY291bnQgKDR+NilcbiAgICoqL1xuICBnZXRXZWVrc0NvdW50OiBmdW5jdGlvbih5ZWFyLCBtb250aCkge1xuICAgIHZhciBmaXJzdERheSA9IHV0aWxzLmdldEZpcnN0RGF5KHllYXIsIG1vbnRoKSxcbiAgICAgIGxhc3REYXRlID0gdXRpbHMuZ2V0TGFzdERheUluTW9udGgoeWVhciwgbW9udGgpO1xuXG4gICAgcmV0dXJuIE1hdGguY2VpbCgoZmlyc3REYXkgKyBsYXN0RGF0ZSkgLyA3KTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtEYXRlfSBkYXRlIC0gRGF0ZSBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzVmFsaWREYXRlOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgcmV0dXJuIGlzRGF0ZShkYXRlKSAmJiAhaXNOYU4oZGF0ZS5nZXRUaW1lKCkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgd2hpY2ggZGF5IGlzIGZpcnN0IGJ5IHBhcmFtZXRlcnMgdGhhdCBpbmNsdWRlIHllYXIgYW5kIG1vbnRoIGluZm9ybWF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0geWVhciBBIHllYXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1vbnRoIEEgbW9udGhcbiAgICogQHJldHVybnMge251bWJlcn0gKDB+NilcbiAgICovXG4gIGdldEZpcnN0RGF5OiBmdW5jdGlvbih5ZWFyLCBtb250aCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIDEpLmdldERheSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGltZXN0YW1wIG9mIHRoZSBmaXJzdCBkYXkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5ZWFyIEEgeWVhclxuICAgKiBAcGFyYW0ge251bWJlcn0gbW9udGggQSBtb250aFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aW1lc3RhbXBcbiAgICovXG4gIGdldEZpcnN0RGF5VGltZXN0YW1wOiBmdW5jdGlvbih5ZWFyLCBtb250aCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSkuZ2V0VGltZSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgbGFzdCBkYXRlIGJ5IHBhcmFtZXRlcnMgdGhhdCBpbmNsdWRlIHllYXIgYW5kIG1vbnRoIGluZm9ybWF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0geWVhciBBIHllYXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1vbnRoIEEgbW9udGhcbiAgICogQHJldHVybnMge251bWJlcn0gKDF+MzEpXG4gICAqL1xuICBnZXRMYXN0RGF5SW5Nb250aDogZnVuY3Rpb24oeWVhciwgbW9udGgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGgsIDApLmdldERhdGUoKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2hhZ25lIG51bWJlciAwfjkgdG8gJzAwfjA5J1xuICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIG51bWJlclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAZXhhbXBsZVxuICAgKiAgZGF0ZVV0aWwucHJlcGVuZExlYWRpbmdaZXJvKDApOyAvLyAgJzAwJ1xuICAgKiAgZGF0ZVV0aWwucHJlcGVuZExlYWRpbmdaZXJvKDkpOyAvLyAgJzA5J1xuICAgKiAgZGF0ZVV0aWwucHJlcGVuZExlYWRpbmdaZXJvKDEyKTsgLy8gICcxMidcbiAgICovXG4gIHByZXBlbmRMZWFkaW5nWmVybzogZnVuY3Rpb24obnVtYmVyKSB7XG4gICAgdmFyIHByZWZpeCA9ICcnO1xuXG4gICAgaWYgKG51bWJlciA8IDEwKSB7XG4gICAgICBwcmVmaXggPSAnMCc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByZWZpeCArIG51bWJlcjtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IG1lcmlkaWVtIGhvdXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhvdXIgLSBPcmlnaW5hbCBob3VyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IENvbnZlcnRlZCBtZXJpZGllbSBob3VyXG4gICAqL1xuICBnZXRNZXJpZGllbUhvdXI6IGZ1bmN0aW9uKGhvdXIpIHtcbiAgICBob3VyICU9IDEyO1xuXG4gICAgaWYgKGhvdXIgPT09IDApIHtcbiAgICAgIGhvdXIgPSAxMjtcbiAgICB9XG5cbiAgICByZXR1cm4gaG91cjtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBudW1iZXIgb3IgZGVmYXVsdFxuICAgKiBAcGFyYW0geyp9IGFueSAtIEFueSB2YWx1ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVmYXVsdE51bWJlciAtIERlZmF1bHQgbnVtYmVyXG4gICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgZGVmYXVsdE51bWJlciBpcyBpbnZhbGlkLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0U2FmZU51bWJlcjogZnVuY3Rpb24oYW55LCBkZWZhdWx0TnVtYmVyKSB7XG4gICAgaWYgKGlzTmFOKGRlZmF1bHROdW1iZXIpIHx8ICFpc051bWJlcihkZWZhdWx0TnVtYmVyKSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1RoZSBkZWZhdWx0TnVtYmVyIG11c3QgYmUgYSB2YWxpZCBudW1iZXIuJyk7XG4gICAgfVxuICAgIGlmIChpc05hTihhbnkpKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdE51bWJlcjtcbiAgICB9XG5cbiAgICByZXR1cm4gTnVtYmVyKGFueSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybiBkYXRlIG9mIHRoZSB3ZWVrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5ZWFyIC0gWWVhclxuICAgKiBAcGFyYW0ge251bWJlcn0gbW9udGggLSBNb250aFxuICAgKiBAcGFyYW0ge251bWJlcn0gd2Vla051bWJlciAtIFdlZWsgbnVtYmVyICgwfjUpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkYXlOdW1iZXIgLSBEYXkgbnVtYmVyICgwOiBzdW5kYXksIDE6IG1vbmRheSwgLi4uLilcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldERhdGVPZldlZWs6IGZ1bmN0aW9uKHllYXIsIG1vbnRoLCB3ZWVrTnVtYmVyLCBkYXlOdW1iZXIpIHtcbiAgICB2YXIgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxKS5nZXREYXkoKTtcbiAgICB2YXIgZGF0ZU9mZnNldCA9IGZpcnN0RGF5T2ZNb250aCAtIGRheU51bWJlciAtIDE7XG5cbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCB3ZWVrTnVtYmVyICogNyAtIGRhdGVPZmZzZXQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHJhbmdlIGFyclxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBTdGFydCB2YWx1ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIC0gRW5kIHZhbHVlXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICovXG4gIGdldFJhbmdlQXJyOiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgdmFyIGFyciA9IFtdO1xuICAgIHZhciBpO1xuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICBmb3IgKGkgPSBlbmQ7IGkgPj0gc3RhcnQ7IGkgLT0gMSkge1xuICAgICAgICBhcnIucHVzaChpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPD0gZW5kOyBpICs9IDEpIHtcbiAgICAgICAgYXJyLnB1c2goaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycjtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBjbG9uZWQgZGF0ZSB3aXRoIHRoZSBzdGFydCBvZiBhIHVuaXQgb2YgdGltZVxuICAgKiBAcGFyYW0ge0RhdGV8bnVtYmVyfSBkYXRlIC0gT3JpZ2luYWwgZGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3R5cGUgPSBUWVBFX0RBVEVdIC0gVW5pdCB0eXBlXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKiBAcmV0dXJucyB7RGF0ZX1cbiAgICovXG4gIGNsb25lV2l0aFN0YXJ0T2Y6IGZ1bmN0aW9uKGRhdGUsIHR5cGUpIHtcbiAgICB0eXBlID0gdHlwZSB8fCBUWVBFX0RBVEU7XG4gICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuXG4gICAgLy8gRG9lcyBub3QgY29uc2lkZXIgdGltZS1sZXZlbCB5ZXQuXG4gICAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBUWVBFX0RBVEU6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUWVBFX01PTlRIOlxuICAgICAgICBkYXRlLnNldERhdGUoMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUWVBFX1lFQVI6XG4gICAgICAgIGRhdGUuc2V0TW9udGgoMCwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGU6ICcgKyB0eXBlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0ZTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBjbG9uZWQgZGF0ZSB3aXRoIHRoZSBlbmQgb2YgYSB1bml0IG9mIHRpbWVcbiAgICogQHBhcmFtIHtEYXRlfG51bWJlcn0gZGF0ZSAtIE9yaWdpbmFsIGRhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlID0gVFlQRV9EQVRFXSAtIFVuaXQgdHlwZVxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICogQHJldHVybnMge0RhdGV9XG4gICAqL1xuICBjbG9uZVdpdGhFbmRPZjogZnVuY3Rpb24oZGF0ZSwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8IFRZUEVfREFURTtcbiAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XG5cbiAgICAvLyBEb2VzIG5vdCBjb25zaWRlciB0aW1lLWxldmVsIHlldC5cbiAgICBkYXRlLnNldEhvdXJzKDIzLCA1OSwgNTksIDk5OSk7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgVFlQRV9EQVRFOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVFlQRV9NT05USDpcbiAgICAgICAgZGF0ZS5zZXRNb250aChkYXRlLmdldE1vbnRoKCkgKyAxLCAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRZUEVfWUVBUjpcbiAgICAgICAgZGF0ZS5zZXRNb250aCgxMSwgMzEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IEVycm9yKCdVbnN1cHBvcnRlZCB0eXBlOiAnICsgdHlwZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbXBhcmUgdHdvIGRhdGVzXG4gICAqIEBwYXJhbSB7RGF0ZXxudW1iZXJ9IGRhdGVBIC0gRGF0ZVxuICAgKiBAcGFyYW0ge0RhdGV8bnVtYmVyfSBkYXRlQiAtIERhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtjbXBMZXZlbF0gLSBDb21wYXJpbmcgbGV2ZWxcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGNvbXBhcmU6IGZ1bmN0aW9uKGRhdGVBLCBkYXRlQiwgY21wTGV2ZWwpIHtcbiAgICB2YXIgYVRpbWVzdGFtcCwgYlRpbWVzdGFtcDtcblxuICAgIGlmICghKHV0aWxzLmlzVmFsaWREYXRlKGRhdGVBKSAmJiB1dGlscy5pc1ZhbGlkRGF0ZShkYXRlQikpKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIGlmICghY21wTGV2ZWwpIHtcbiAgICAgIGFUaW1lc3RhbXAgPSBkYXRlQS5nZXRUaW1lKCk7XG4gICAgICBiVGltZXN0YW1wID0gZGF0ZUIuZ2V0VGltZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhVGltZXN0YW1wID0gdXRpbHMuY2xvbmVXaXRoU3RhcnRPZihkYXRlQSwgY21wTGV2ZWwpLmdldFRpbWUoKTtcbiAgICAgIGJUaW1lc3RhbXAgPSB1dGlscy5jbG9uZVdpdGhTdGFydE9mKGRhdGVCLCBjbXBMZXZlbCkuZ2V0VGltZSgpO1xuICAgIH1cblxuICAgIGlmIChhVGltZXN0YW1wID4gYlRpbWVzdGFtcCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFUaW1lc3RhbXAgPT09IGJUaW1lc3RhbXAgPyAwIDogLTE7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0d28gZGF0ZXMgYXJlIHNhbWVcbiAgICogQHBhcmFtIHtEYXRlfG51bWJlcn0gZGF0ZUEgLSBEYXRlXG4gICAqIEBwYXJhbSB7RGF0ZXxudW1iZXJ9IGRhdGVCIC0gRGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2NtcExldmVsXSAtIENvbXBhcmluZyBsZXZlbFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzU2FtZTogZnVuY3Rpb24oZGF0ZUEsIGRhdGVCLCBjbXBMZXZlbCkge1xuICAgIHJldHVybiB1dGlscy5jb21wYXJlKGRhdGVBLCBkYXRlQiwgY21wTGV2ZWwpID09PSAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHRhcmdldCBpcyBpbiByYW5nZVxuICAgKiBAcGFyYW0ge0RhdGV8bnVtYmVyfSBzdGFydCAtIFJhbmdlIHN0YXJ0XG4gICAqIEBwYXJhbSB7RGF0ZXxudW1iZXJ9IGVuZCAtIFJhbmdlIGVuZFxuICAgKiBAcGFyYW0ge0RhdGV8bnVtYmVyfSB0YXJnZXQgLSBUYXJnZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtjbXBMZXZlbCA9IFRZUEVfREFURV0gLSBDb21wYXJpbmcgbGV2ZWxcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpblJhbmdlOiBmdW5jdGlvbihzdGFydCwgZW5kLCB0YXJnZXQsIGNtcExldmVsKSB7XG4gICAgcmV0dXJuIHV0aWxzLmNvbXBhcmUoc3RhcnQsIHRhcmdldCwgY21wTGV2ZWwpIDwgMSAmJiB1dGlscy5jb21wYXJlKGVuZCwgdGFyZ2V0LCBjbXBMZXZlbCkgPiAtMTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1dGlscztcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYW4gaW5zdGFuY2Ugb2YgQXJyYXkgb3Igbm90LlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYW4gaW5zdGFuY2Ugb2YgQXJyYXkgb3Igbm90LlxuICogSWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGFuIGluc3RhbmNlIG9mIEFycmF5LCByZXR1cm4gdHJ1ZS5cbiAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIGFycmF5IGluc3RhbmNlP1xuICogQG1lbWJlcm9mIG1vZHVsZTp0eXBlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XG4gIHJldHVybiBvYmogaW5zdGFuY2VvZiBBcnJheTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBFeHRlbmQgdGhlIHRhcmdldCBvYmplY3QgZnJvbSBvdGhlciBvYmplY3RzLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogQG1vZHVsZSBvYmplY3RcbiAqL1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgdGFyZ2V0IG9iamVjdCBmcm9tIG90aGVyIG9iamVjdHMuXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0IC0gT2JqZWN0IHRoYXQgd2lsbCBiZSBleHRlbmRlZFxuICogQHBhcmFtIHsuLi5vYmplY3R9IG9iamVjdHMgLSBPYmplY3RzIGFzIHNvdXJjZXNcbiAqIEByZXR1cm5zIHtvYmplY3R9IEV4dGVuZGVkIG9iamVjdFxuICogQG1lbWJlcm9mIG1vZHVsZTpvYmplY3RcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgb2JqZWN0cykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHZhciBoYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHNvdXJjZSwgcHJvcCwgaSwgbGVuO1xuXG4gIGZvciAoaSA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBmb3IgKHByb3AgaW4gc291cmNlKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcC5jYWxsKHNvdXJjZSwgcHJvcCkpIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kO1xuXG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBUaGlzIG1vZHVsZSBwcm92aWRlcyBzb21lIGZ1bmN0aW9ucyBmb3IgY3VzdG9tIGV2ZW50cy4gQW5kIGl0IGlzIGltcGxlbWVudGVkIGluIHRoZSBvYnNlcnZlciBkZXNpZ24gcGF0dGVybi5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbnZhciBpc0V4aXN0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xudmFyIGlzU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbnZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBpc0Z1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG52YXIgZm9yRWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBSX0VWRU5UTkFNRV9TUExJVCA9IC9cXHMrL2c7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXhhbXBsZVxuICogLy8gbm9kZSwgY29tbW9uanNcbiAqIHZhciBDdXN0b21FdmVudHMgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2N1c3RvbUV2ZW50cy9jdXN0b21FdmVudHMnKTtcbiAqL1xuZnVuY3Rpb24gQ3VzdG9tRXZlbnRzKCkge1xuICAvKipcbiAgICAgKiBAdHlwZSB7SGFuZGxlckl0ZW1bXX1cbiAgICAgKi9cbiAgdGhpcy5ldmVudHMgPSBudWxsO1xuXG4gIC8qKlxuICAgICAqIG9ubHkgZm9yIGNoZWNraW5nIHNwZWNpZmljIGNvbnRleHQgZXZlbnQgd2FzIGJpbmRlZFxuICAgICAqIEB0eXBlIHtvYmplY3RbXX1cbiAgICAgKi9cbiAgdGhpcy5jb250ZXh0cyA9IG51bGw7XG59XG5cbi8qKlxuICogTWl4aW4gY3VzdG9tIGV2ZW50cyBmZWF0dXJlIHRvIHNwZWNpZmljIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIC0gY29uc3RydWN0b3JcbiAqIEBleGFtcGxlXG4gKiB2YXIgQ3VzdG9tRXZlbnRzID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldC9jdXN0b21FdmVudHMvY3VzdG9tRXZlbnRzJyk7IC8vIG5vZGUsIGNvbW1vbmpzXG4gKlxuICogdmFyIG1vZGVsO1xuICogZnVuY3Rpb24gTW9kZWwoKSB7XG4gKiAgICAgdGhpcy5uYW1lID0gJyc7XG4gKiB9XG4gKiBDdXN0b21FdmVudHMubWl4aW4oTW9kZWwpO1xuICpcbiAqIG1vZGVsID0gbmV3IE1vZGVsKCk7XG4gKiBtb2RlbC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7IHRoaXMubmFtZSA9ICdtb2RlbCc7IH0sIHRoaXMpO1xuICogbW9kZWwuZmlyZSgnY2hhbmdlJyk7XG4gKiBhbGVydChtb2RlbC5uYW1lKTsgLy8gJ21vZGVsJztcbiAqL1xuQ3VzdG9tRXZlbnRzLm1peGluID0gZnVuY3Rpb24oZnVuYykge1xuICBleHRlbmQoZnVuYy5wcm90b3R5cGUsIEN1c3RvbUV2ZW50cy5wcm90b3R5cGUpO1xufTtcblxuLyoqXG4gKiBHZXQgSGFuZGxlckl0ZW0gb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIC0gaGFuZGxlciBmdW5jdGlvblxuICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XSAtIGNvbnRleHQgZm9yIGhhbmRsZXJcbiAqIEByZXR1cm5zIHtIYW5kbGVySXRlbX0gSGFuZGxlckl0ZW0gb2JqZWN0XG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9nZXRIYW5kbGVySXRlbSA9IGZ1bmN0aW9uKGhhbmRsZXIsIGNvbnRleHQpIHtcbiAgdmFyIGl0ZW0gPSB7aGFuZGxlcjogaGFuZGxlcn07XG5cbiAgaWYgKGNvbnRleHQpIHtcbiAgICBpdGVtLmNvbnRleHQgPSBjb250ZXh0O1xuICB9XG5cbiAgcmV0dXJuIGl0ZW07XG59O1xuXG4vKipcbiAqIEdldCBldmVudCBvYmplY3Qgc2FmZWx5XG4gKiBAcGFyYW0ge3N0cmluZ30gW2V2ZW50TmFtZV0gLSBjcmVhdGUgc3ViIGV2ZW50IG1hcCBpZiBub3QgZXhpc3QuXG4gKiBAcmV0dXJucyB7KG9iamVjdHxhcnJheSl9IGV2ZW50IG9iamVjdC4gaWYgeW91IHN1cHBsaWVkIGBldmVudE5hbWVgXG4gKiAgcGFyYW1ldGVyIHRoZW4gbWFrZSBuZXcgYXJyYXkgYW5kIHJldHVybiBpdFxuICogQHByaXZhdGVcbiAqL1xuQ3VzdG9tRXZlbnRzLnByb3RvdHlwZS5fc2FmZUV2ZW50ID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLmV2ZW50cztcbiAgdmFyIGJ5TmFtZTtcblxuICBpZiAoIWV2ZW50cykge1xuICAgIGV2ZW50cyA9IHRoaXMuZXZlbnRzID0ge307XG4gIH1cblxuICBpZiAoZXZlbnROYW1lKSB7XG4gICAgYnlOYW1lID0gZXZlbnRzW2V2ZW50TmFtZV07XG5cbiAgICBpZiAoIWJ5TmFtZSkge1xuICAgICAgYnlOYW1lID0gW107XG4gICAgICBldmVudHNbZXZlbnROYW1lXSA9IGJ5TmFtZTtcbiAgICB9XG5cbiAgICBldmVudHMgPSBieU5hbWU7XG4gIH1cblxuICByZXR1cm4gZXZlbnRzO1xufTtcblxuLyoqXG4gKiBHZXQgY29udGV4dCBhcnJheSBzYWZlbHlcbiAqIEByZXR1cm5zIHthcnJheX0gY29udGV4dCBhcnJheVxuICogQHByaXZhdGVcbiAqL1xuQ3VzdG9tRXZlbnRzLnByb3RvdHlwZS5fc2FmZUNvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRzO1xuXG4gIGlmICghY29udGV4dCkge1xuICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHRzID0gW107XG4gIH1cblxuICByZXR1cm4gY29udGV4dDtcbn07XG5cbi8qKlxuICogR2V0IGluZGV4IG9mIGNvbnRleHRcbiAqIEBwYXJhbSB7b2JqZWN0fSBjdHggLSBjb250ZXh0IHRoYXQgdXNlZCBmb3IgYmluZCBjdXN0b20gZXZlbnRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGluZGV4IG9mIGNvbnRleHRcbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX2luZGV4T2ZDb250ZXh0ID0gZnVuY3Rpb24oY3R4KSB7XG4gIHZhciBjb250ZXh0ID0gdGhpcy5fc2FmZUNvbnRleHQoKTtcbiAgdmFyIGluZGV4ID0gMDtcblxuICB3aGlsZSAoY29udGV4dFtpbmRleF0pIHtcbiAgICBpZiAoY3R4ID09PSBjb250ZXh0W2luZGV4XVswXSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cblxuICAgIGluZGV4ICs9IDE7XG4gIH1cblxuICByZXR1cm4gLTE7XG59O1xuXG4vKipcbiAqIE1lbW9yaXplIHN1cHBsaWVkIGNvbnRleHQgZm9yIHJlY29nbml6ZSBzdXBwbGllZCBvYmplY3QgaXMgY29udGV4dCBvclxuICogIG5hbWU6IGhhbmRsZXIgcGFpciBvYmplY3Qgd2hlbiBvZmYoKVxuICogQHBhcmFtIHtvYmplY3R9IGN0eCAtIGNvbnRleHQgb2JqZWN0IHRvIG1lbW9yaXplXG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9tZW1vcml6ZUNvbnRleHQgPSBmdW5jdGlvbihjdHgpIHtcbiAgdmFyIGNvbnRleHQsIGluZGV4O1xuXG4gIGlmICghaXNFeGlzdHkoY3R4KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnRleHQgPSB0aGlzLl9zYWZlQ29udGV4dCgpO1xuICBpbmRleCA9IHRoaXMuX2luZGV4T2ZDb250ZXh0KGN0eCk7XG5cbiAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICBjb250ZXh0W2luZGV4XVsxXSArPSAxO1xuICB9IGVsc2Uge1xuICAgIGNvbnRleHQucHVzaChbY3R4LCAxXSk7XG4gIH1cbn07XG5cbi8qKlxuICogRm9yZ2V0IHN1cHBsaWVkIGNvbnRleHQgb2JqZWN0XG4gKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gY29udGV4dCBvYmplY3QgdG8gZm9yZ2V0XG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9mb3JnZXRDb250ZXh0ID0gZnVuY3Rpb24oY3R4KSB7XG4gIHZhciBjb250ZXh0LCBjb250ZXh0SW5kZXg7XG5cbiAgaWYgKCFpc0V4aXN0eShjdHgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29udGV4dCA9IHRoaXMuX3NhZmVDb250ZXh0KCk7XG4gIGNvbnRleHRJbmRleCA9IHRoaXMuX2luZGV4T2ZDb250ZXh0KGN0eCk7XG5cbiAgaWYgKGNvbnRleHRJbmRleCA+IC0xKSB7XG4gICAgY29udGV4dFtjb250ZXh0SW5kZXhdWzFdIC09IDE7XG5cbiAgICBpZiAoY29udGV4dFtjb250ZXh0SW5kZXhdWzFdIDw9IDApIHtcbiAgICAgIGNvbnRleHQuc3BsaWNlKGNvbnRleHRJbmRleCwgMSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEJpbmQgZXZlbnQgaGFuZGxlclxuICogQHBhcmFtIHsoc3RyaW5nfHtuYW1lOnN0cmluZywgaGFuZGxlcjpmdW5jdGlvbn0pfSBldmVudE5hbWUgLSBjdXN0b21cbiAqICBldmVudCBuYW1lIG9yIGFuIG9iamVjdCB7ZXZlbnROYW1lOiBoYW5kbGVyfVxuICogQHBhcmFtIHsoZnVuY3Rpb258b2JqZWN0KX0gW2hhbmRsZXJdIC0gaGFuZGxlciBmdW5jdGlvbiBvciBjb250ZXh0XG4gKiBAcGFyYW0ge29iamVjdH0gW2NvbnRleHRdIC0gY29udGV4dCBmb3IgYmluZGluZ1xuICogQHByaXZhdGVcbiAqL1xuQ3VzdG9tRXZlbnRzLnByb3RvdHlwZS5fYmluZEV2ZW50ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBoYW5kbGVyLCBjb250ZXh0KSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9zYWZlRXZlbnQoZXZlbnROYW1lKTtcbiAgdGhpcy5fbWVtb3JpemVDb250ZXh0KGNvbnRleHQpO1xuICBldmVudHMucHVzaCh0aGlzLl9nZXRIYW5kbGVySXRlbShoYW5kbGVyLCBjb250ZXh0KSk7XG59O1xuXG4vKipcbiAqIEJpbmQgZXZlbnQgaGFuZGxlcnNcbiAqIEBwYXJhbSB7KHN0cmluZ3x7bmFtZTpzdHJpbmcsIGhhbmRsZXI6ZnVuY3Rpb259KX0gZXZlbnROYW1lIC0gY3VzdG9tXG4gKiAgZXZlbnQgbmFtZSBvciBhbiBvYmplY3Qge2V2ZW50TmFtZTogaGFuZGxlcn1cbiAqIEBwYXJhbSB7KGZ1bmN0aW9ufG9iamVjdCl9IFtoYW5kbGVyXSAtIGhhbmRsZXIgZnVuY3Rpb24gb3IgY29udGV4dFxuICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XSAtIGNvbnRleHQgZm9yIGJpbmRpbmdcbiAqIC8vLS0gIzEuIEdldCBNb2R1bGUgLS0vL1xuICogdmFyIEN1c3RvbUV2ZW50cyA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQvY3VzdG9tRXZlbnRzL2N1c3RvbUV2ZW50cycpOyAvLyBub2RlLCBjb21tb25qc1xuICpcbiAqIC8vLS0gIzIuIFVzZSBtZXRob2QgLS0vL1xuICogLy8gIyAyLjEgQmFzaWMgVXNhZ2VcbiAqIEN1c3RvbUV2ZW50cy5vbignb25sb2FkJywgaGFuZGxlcik7XG4gKlxuICogLy8gIyAyLjIgV2l0aCBjb250ZXh0XG4gKiBDdXN0b21FdmVudHMub24oJ29ubG9hZCcsIGhhbmRsZXIsIG15T2JqKTtcbiAqXG4gKiAvLyAjIDIuMyBCaW5kIGJ5IG9iamVjdCB0aGF0IG5hbWUsIGhhbmRsZXIgcGFpcnNcbiAqIEN1c3RvbUV2ZW50cy5vbih7XG4gKiAgICAgJ3BsYXknOiBoYW5kbGVyLFxuICogICAgICdwYXVzZSc6IGhhbmRsZXIyXG4gKiB9KTtcbiAqXG4gKiAvLyAjIDIuNCBCaW5kIGJ5IG9iamVjdCB0aGF0IG5hbWUsIGhhbmRsZXIgcGFpcnMgd2l0aCBjb250ZXh0IG9iamVjdFxuICogQ3VzdG9tRXZlbnRzLm9uKHtcbiAqICAgICAncGxheSc6IGhhbmRsZXJcbiAqIH0sIG15T2JqKTtcbiAqL1xuQ3VzdG9tRXZlbnRzLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgaGFuZGxlciwgY29udGV4dCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKGlzU3RyaW5nKGV2ZW50TmFtZSkpIHtcbiAgICAvLyBbc3ludGF4IDEsIDJdXG4gICAgZXZlbnROYW1lID0gZXZlbnROYW1lLnNwbGl0KFJfRVZFTlROQU1FX1NQTElUKTtcbiAgICBmb3JFYWNoKGV2ZW50TmFtZSwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgc2VsZi5fYmluZEV2ZW50KG5hbWUsIGhhbmRsZXIsIGNvbnRleHQpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGV2ZW50TmFtZSkpIHtcbiAgICAvLyBbc3ludGF4IDMsIDRdXG4gICAgY29udGV4dCA9IGhhbmRsZXI7XG4gICAgZm9yRWFjaChldmVudE5hbWUsIGZ1bmN0aW9uKGZ1bmMsIG5hbWUpIHtcbiAgICAgIHNlbGYub24obmFtZSwgZnVuYywgY29udGV4dCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qKlxuICogQmluZCBvbmUtc2hvdCBldmVudCBoYW5kbGVyc1xuICogQHBhcmFtIHsoc3RyaW5nfHtuYW1lOnN0cmluZyxoYW5kbGVyOmZ1bmN0aW9ufSl9IGV2ZW50TmFtZSAtIGN1c3RvbVxuICogIGV2ZW50IG5hbWUgb3IgYW4gb2JqZWN0IHtldmVudE5hbWU6IGhhbmRsZXJ9XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufG9iamVjdH0gW2hhbmRsZXJdIC0gaGFuZGxlciBmdW5jdGlvbiBvciBjb250ZXh0XG4gKiBAcGFyYW0ge29iamVjdH0gW2NvbnRleHRdIC0gY29udGV4dCBmb3IgYmluZGluZ1xuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudE5hbWUsIGhhbmRsZXIsIGNvbnRleHQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmIChpc09iamVjdChldmVudE5hbWUpKSB7XG4gICAgY29udGV4dCA9IGhhbmRsZXI7XG4gICAgZm9yRWFjaChldmVudE5hbWUsIGZ1bmN0aW9uKGZ1bmMsIG5hbWUpIHtcbiAgICAgIHNlbGYub25jZShuYW1lLCBmdW5jLCBjb250ZXh0KTtcbiAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICBoYW5kbGVyLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgc2VsZi5vZmYoZXZlbnROYW1lLCBvbmNlSGFuZGxlciwgY29udGV4dCk7XG4gIH1cblxuICB0aGlzLm9uKGV2ZW50TmFtZSwgb25jZUhhbmRsZXIsIGNvbnRleHQpO1xufTtcblxuLyoqXG4gKiBTcGxpY2Ugc3VwcGxpZWQgYXJyYXkgYnkgY2FsbGJhY2sgcmVzdWx0XG4gKiBAcGFyYW0ge2FycmF5fSBhcnIgLSBhcnJheSB0byBzcGxpY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHByZWRpY2F0ZSAtIGZ1bmN0aW9uIHJldHVybiBib29sZWFuXG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9zcGxpY2VNYXRjaGVzID0gZnVuY3Rpb24oYXJyLCBwcmVkaWNhdGUpIHtcbiAgdmFyIGkgPSAwO1xuICB2YXIgbGVuO1xuXG4gIGlmICghaXNBcnJheShhcnIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycltpXSkgPT09IHRydWUpIHtcbiAgICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gICAgICBsZW4gLT0gMTtcbiAgICAgIGkgLT0gMTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IG1hdGNoZXIgZm9yIHVuYmluZCBzcGVjaWZpYyBoYW5kbGVyIGV2ZW50c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gaGFuZGxlciBtYXRjaGVyXG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9tYXRjaEhhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVyKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xuICAgIHZhciBuZWVkUmVtb3ZlID0gaGFuZGxlciA9PT0gaXRlbS5oYW5kbGVyO1xuXG4gICAgaWYgKG5lZWRSZW1vdmUpIHtcbiAgICAgIHNlbGYuX2ZvcmdldENvbnRleHQoaXRlbS5jb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmVlZFJlbW92ZTtcbiAgfTtcbn07XG5cbi8qKlxuICogR2V0IG1hdGNoZXIgZm9yIHVuYmluZCBzcGVjaWZpYyBjb250ZXh0IGV2ZW50c1xuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBjb250ZXh0XG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IG9iamVjdCBtYXRjaGVyXG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9tYXRjaENvbnRleHQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xuICAgIHZhciBuZWVkUmVtb3ZlID0gY29udGV4dCA9PT0gaXRlbS5jb250ZXh0O1xuXG4gICAgaWYgKG5lZWRSZW1vdmUpIHtcbiAgICAgIHNlbGYuX2ZvcmdldENvbnRleHQoaXRlbS5jb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmVlZFJlbW92ZTtcbiAgfTtcbn07XG5cbi8qKlxuICogR2V0IG1hdGNoZXIgZm9yIHVuYmluZCBzcGVjaWZpYyBoYW5kZXIsIGNvbnRleHQgcGFpciBldmVudHNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgLSBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gaGFuZGxlciwgY29udGV4dCBtYXRjaGVyXG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9tYXRjaEhhbmRsZXJBbmRDb250ZXh0ID0gZnVuY3Rpb24oaGFuZGxlciwgY29udGV4dCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICB2YXIgbWF0Y2hIYW5kbGVyID0gKGhhbmRsZXIgPT09IGl0ZW0uaGFuZGxlcik7XG4gICAgdmFyIG1hdGNoQ29udGV4dCA9IChjb250ZXh0ID09PSBpdGVtLmNvbnRleHQpO1xuICAgIHZhciBuZWVkUmVtb3ZlID0gKG1hdGNoSGFuZGxlciAmJiBtYXRjaENvbnRleHQpO1xuXG4gICAgaWYgKG5lZWRSZW1vdmUpIHtcbiAgICAgIHNlbGYuX2ZvcmdldENvbnRleHQoaXRlbS5jb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmVlZFJlbW92ZTtcbiAgfTtcbn07XG5cbi8qKlxuICogVW5iaW5kIGV2ZW50IGJ5IGV2ZW50IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBjdXN0b20gZXZlbnQgbmFtZSB0byB1bmJpbmRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyXSAtIGhhbmRsZXIgZnVuY3Rpb25cbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX29mZkJ5RXZlbnROYW1lID0gZnVuY3Rpb24oZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGFuZEJ5SGFuZGxlciA9IGlzRnVuY3Rpb24oaGFuZGxlcik7XG4gIHZhciBtYXRjaEhhbmRsZXIgPSBzZWxmLl9tYXRjaEhhbmRsZXIoaGFuZGxlcik7XG5cbiAgZXZlbnROYW1lID0gZXZlbnROYW1lLnNwbGl0KFJfRVZFTlROQU1FX1NQTElUKTtcblxuICBmb3JFYWNoKGV2ZW50TmFtZSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBoYW5kbGVySXRlbXMgPSBzZWxmLl9zYWZlRXZlbnQobmFtZSk7XG5cbiAgICBpZiAoYW5kQnlIYW5kbGVyKSB7XG4gICAgICBzZWxmLl9zcGxpY2VNYXRjaGVzKGhhbmRsZXJJdGVtcywgbWF0Y2hIYW5kbGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaChoYW5kbGVySXRlbXMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgc2VsZi5fZm9yZ2V0Q29udGV4dChpdGVtLmNvbnRleHQpO1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuZXZlbnRzW25hbWVdID0gW107XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogVW5iaW5kIGV2ZW50IGJ5IGhhbmRsZXIgZnVuY3Rpb25cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgLSBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9vZmZCeUhhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVyKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIG1hdGNoSGFuZGxlciA9IHRoaXMuX21hdGNoSGFuZGxlcihoYW5kbGVyKTtcblxuICBmb3JFYWNoKHRoaXMuX3NhZmVFdmVudCgpLCBmdW5jdGlvbihoYW5kbGVySXRlbXMpIHtcbiAgICBzZWxmLl9zcGxpY2VNYXRjaGVzKGhhbmRsZXJJdGVtcywgbWF0Y2hIYW5kbGVyKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFVuYmluZCBldmVudCBieSBvYmplY3QobmFtZTogaGFuZGxlciBwYWlyIG9iamVjdCBvciBjb250ZXh0IG9iamVjdClcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBjb250ZXh0IG9yIHtuYW1lOiBoYW5kbGVyfSBwYWlyIG9iamVjdFxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb25cbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX29mZkJ5T2JqZWN0ID0gZnVuY3Rpb24ob2JqLCBoYW5kbGVyKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIG1hdGNoRnVuYztcblxuICBpZiAodGhpcy5faW5kZXhPZkNvbnRleHQob2JqKSA8IDApIHtcbiAgICBmb3JFYWNoKG9iaiwgZnVuY3Rpb24oZnVuYywgbmFtZSkge1xuICAgICAgc2VsZi5vZmYobmFtZSwgZnVuYyk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcoaGFuZGxlcikpIHtcbiAgICBtYXRjaEZ1bmMgPSB0aGlzLl9tYXRjaENvbnRleHQob2JqKTtcblxuICAgIHNlbGYuX3NwbGljZU1hdGNoZXModGhpcy5fc2FmZUV2ZW50KGhhbmRsZXIpLCBtYXRjaEZ1bmMpO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBtYXRjaEZ1bmMgPSB0aGlzLl9tYXRjaEhhbmRsZXJBbmRDb250ZXh0KGhhbmRsZXIsIG9iaik7XG5cbiAgICBmb3JFYWNoKHRoaXMuX3NhZmVFdmVudCgpLCBmdW5jdGlvbihoYW5kbGVySXRlbXMpIHtcbiAgICAgIHNlbGYuX3NwbGljZU1hdGNoZXMoaGFuZGxlckl0ZW1zLCBtYXRjaEZ1bmMpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG1hdGNoRnVuYyA9IHRoaXMuX21hdGNoQ29udGV4dChvYmopO1xuXG4gICAgZm9yRWFjaCh0aGlzLl9zYWZlRXZlbnQoKSwgZnVuY3Rpb24oaGFuZGxlckl0ZW1zKSB7XG4gICAgICBzZWxmLl9zcGxpY2VNYXRjaGVzKGhhbmRsZXJJdGVtcywgbWF0Y2hGdW5jKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBVbmJpbmQgY3VzdG9tIGV2ZW50c1xuICogQHBhcmFtIHsoc3RyaW5nfG9iamVjdHxmdW5jdGlvbil9IGV2ZW50TmFtZSAtIGV2ZW50IG5hbWUgb3IgY29udGV4dCBvclxuICogIHtuYW1lOiBoYW5kbGVyfSBwYWlyIG9iamVjdCBvciBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAcGFyYW0geyhmdW5jdGlvbil9IGhhbmRsZXIgLSBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAZXhhbXBsZVxuICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG4gKiB2YXIgQ3VzdG9tRXZlbnRzID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldC9jdXN0b21FdmVudHMvY3VzdG9tRXZlbnRzJyk7IC8vIG5vZGUsIGNvbW1vbmpzXG4gKlxuICogLy8tLSAjMi4gVXNlIG1ldGhvZCAtLS8vXG4gKiAvLyAjIDIuMSBvZmYgYnkgZXZlbnQgbmFtZVxuICogQ3VzdG9tRXZlbnRzLm9mZignb25sb2FkJyk7XG4gKlxuICogLy8gIyAyLjIgb2ZmIGJ5IGV2ZW50IG5hbWUgYW5kIGhhbmRsZXJcbiAqIEN1c3RvbUV2ZW50cy5vZmYoJ3BsYXknLCBoYW5kbGVyKTtcbiAqXG4gKiAvLyAjIDIuMyBvZmYgYnkgaGFuZGxlclxuICogQ3VzdG9tRXZlbnRzLm9mZihoYW5kbGVyKTtcbiAqXG4gKiAvLyAjIDIuNCBvZmYgYnkgY29udGV4dFxuICogQ3VzdG9tRXZlbnRzLm9mZihteU9iaik7XG4gKlxuICogLy8gIyAyLjUgb2ZmIGJ5IGNvbnRleHQgYW5kIGhhbmRsZXJcbiAqIEN1c3RvbUV2ZW50cy5vZmYobXlPYmosIGhhbmRsZXIpO1xuICpcbiAqIC8vICMgMi42IG9mZiBieSBjb250ZXh0IGFuZCBldmVudCBuYW1lXG4gKiBDdXN0b21FdmVudHMub2ZmKG15T2JqLCAnb25sb2FkJyk7XG4gKlxuICogLy8gIyAyLjcgb2ZmIGJ5IGFuIE9iamVjdC48c3RyaW5nLCBmdW5jdGlvbj4gdGhhdCBpcyB7ZXZlbnROYW1lOiBoYW5kbGVyfVxuICogQ3VzdG9tRXZlbnRzLm9mZih7XG4gKiAgICdwbGF5JzogaGFuZGxlcixcbiAqICAgJ3BhdXNlJzogaGFuZGxlcjJcbiAqIH0pO1xuICpcbiAqIC8vICMgMi44IG9mZiB0aGUgYWxsIGV2ZW50c1xuICogQ3VzdG9tRXZlbnRzLm9mZigpO1xuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICBpZiAoaXNTdHJpbmcoZXZlbnROYW1lKSkge1xuICAgIC8vIFtzeW50YXggMSwgMl1cbiAgICB0aGlzLl9vZmZCeUV2ZW50TmFtZShldmVudE5hbWUsIGhhbmRsZXIpO1xuICB9IGVsc2UgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgLy8gW3N5bnRheCA4XVxuICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgdGhpcy5jb250ZXh0cyA9IFtdO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oZXZlbnROYW1lKSkge1xuICAgIC8vIFtzeW50YXggM11cbiAgICB0aGlzLl9vZmZCeUhhbmRsZXIoZXZlbnROYW1lKTtcbiAgfSBlbHNlIGlmIChpc09iamVjdChldmVudE5hbWUpKSB7XG4gICAgLy8gW3N5bnRheCA0LCA1LCA2XVxuICAgIHRoaXMuX29mZkJ5T2JqZWN0KGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gIH1cbn07XG5cbi8qKlxuICogRmlyZSBjdXN0b20gZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBuYW1lIG9mIGN1c3RvbSBldmVudFxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbihldmVudE5hbWUpIHsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgdGhpcy5pbnZva2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbi8qKlxuICogRmlyZSBhIGV2ZW50IGFuZCByZXR1cm5zIHRoZSByZXN1bHQgb2Ygb3BlcmF0aW9uICdib29sZWFuIEFORCcgd2l0aCBhbGxcbiAqICBsaXN0ZW5lcidzIHJlc3VsdHMuXG4gKlxuICogU28sIEl0IGlzIGRpZmZlcmVudCBmcm9tIHtAbGluayBDdXN0b21FdmVudHMjZmlyZX0uXG4gKlxuICogSW4gc2VydmljZSBjb2RlLCB1c2UgdGhpcyBhcyBhIGJlZm9yZSBldmVudCBpbiBjb21wb25lbnQgbGV2ZWwgdXN1YWxseVxuICogIGZvciBub3RpZnlpbmcgdGhhdCB0aGUgZXZlbnQgaXMgY2FuY2VsYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBDdXN0b20gZXZlbnQgbmFtZVxuICogQHBhcmFtIHsuLi4qfSBkYXRhIC0gRGF0YSBmb3IgZXZlbnRcbiAqIEByZXR1cm5zIHtib29sZWFufSBUaGUgcmVzdWx0IG9mIG9wZXJhdGlvbiAnYm9vbGVhbiBBTkQnXG4gKiBAZXhhbXBsZVxuICogdmFyIG1hcCA9IG5ldyBNYXAoKTtcbiAqIG1hcC5vbih7XG4gKiAgICAgJ2JlZm9yZVpvb20nOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgLy8gSXQgc2hvdWxkIGNhbmNlbCB0aGUgJ3pvb20nIGV2ZW50IGJ5IHNvbWUgY29uZGl0aW9ucy5cbiAqICAgICAgICAgaWYgKHRoYXQuZGlzYWJsZWQgJiYgdGhpcy5nZXRTdGF0ZSgpKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gKiAgICAgICAgIH1cbiAqICAgICAgICAgcmV0dXJuIHRydWU7XG4gKiAgICAgfVxuICogfSk7XG4gKlxuICogaWYgKHRoaXMuaW52b2tlKCdiZWZvcmVab29tJykpIHsgICAgLy8gY2hlY2sgdGhlIHJlc3VsdCBvZiAnYmVmb3JlWm9vbSdcbiAqICAgICAvLyBpZiB0cnVlLFxuICogICAgIC8vIGRvU29tZXRoaW5nXG4gKiB9XG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuaW52b2tlID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gIHZhciBldmVudHMsIGFyZ3MsIGluZGV4LCBpdGVtO1xuXG4gIGlmICghdGhpcy5oYXNMaXN0ZW5lcihldmVudE5hbWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBldmVudHMgPSB0aGlzLl9zYWZlRXZlbnQoZXZlbnROYW1lKTtcbiAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIGluZGV4ID0gMDtcblxuICB3aGlsZSAoZXZlbnRzW2luZGV4XSkge1xuICAgIGl0ZW0gPSBldmVudHNbaW5kZXhdO1xuXG4gICAgaWYgKGl0ZW0uaGFuZGxlci5hcHBseShpdGVtLmNvbnRleHQsIGFyZ3MpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGluZGV4ICs9IDE7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHdoZXRoZXIgYXQgbGVhc3Qgb25lIG9mIHRoZSBoYW5kbGVycyBpcyByZWdpc3RlcmVkIGluIHRoZSBnaXZlblxuICogIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gQ3VzdG9tIGV2ZW50IG5hbWVcbiAqIEByZXR1cm5zIHtib29sZWFufSBJcyB0aGVyZSBhdCBsZWFzdCBvbmUgaGFuZGxlciBpbiBldmVudCBuYW1lP1xuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLmhhc0xpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gIHJldHVybiB0aGlzLmdldExpc3RlbmVyTGVuZ3RoKGV2ZW50TmFtZSkgPiAwO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYSBjb3VudCBvZiBldmVudHMgcmVnaXN0ZXJlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBDdXN0b20gZXZlbnQgbmFtZVxuICogQHJldHVybnMge251bWJlcn0gbnVtYmVyIG9mIGV2ZW50XG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuZ2V0TGlzdGVuZXJMZW5ndGggPSBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX3NhZmVFdmVudChldmVudE5hbWUpO1xuXG4gIHJldHVybiBldmVudHMubGVuZ3RoO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDdXN0b21FdmVudHM7XG5cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEV4ZWN1dGUgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggcHJvcGVydHkgb2Ygb2JqZWN0KG9yIGVsZW1lbnQgb2YgYXJyYXkpIHdoaWNoIGFjdHVhbGx5IGV4aXN0LlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBmb3JFYWNoQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGZvckVhY2hPd25Qcm9wZXJ0aWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbi8qKlxuICogQG1vZHVsZSBjb2xsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBFeGVjdXRlIHRoZSBwcm92aWRlZCBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHByb3BlcnR5IG9mIG9iamVjdChvciBlbGVtZW50IG9mIGFycmF5KSB3aGljaCBhY3R1YWxseSBleGlzdC5cbiAqIElmIHRoZSBvYmplY3QgaXMgQXJyYXktbGlrZSBvYmplY3QoZXgtYXJndW1lbnRzIG9iamVjdCksIEl0IG5lZWRzIHRvIHRyYW5zZm9ybSB0byBBcnJheS4oc2VlICdleDInIG9mIGV4YW1wbGUpLlxuICogSWYgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UsIHRoZSBsb29wIHdpbGwgYmUgc3RvcHBlZC5cbiAqIENhbGxiYWNrIGZ1bmN0aW9uKGl0ZXJhdGVlKSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICogIDEpIFRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkob3IgVGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50KVxuICogIDIpIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eShvciBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQpXG4gKiAgMykgVGhlIG9iamVjdCBiZWluZyB0cmF2ZXJzZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgdHJhdmVyc2VkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRlZSBDYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XSBDb250ZXh0KHRoaXMpIG9mIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmNvbGxlY3Rpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgZm9yRWFjaCA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQvY29sbGVjdGlvbi9mb3JFYWNoJyk7IC8vIG5vZGUsIGNvbW1vbmpzXG4gKlxuICogdmFyIHN1bSA9IDA7XG4gKlxuICogZm9yRWFjaChbMSwyLDNdLCBmdW5jdGlvbih2YWx1ZSl7XG4gKiAgICAgc3VtICs9IHZhbHVlO1xuICogfSk7XG4gKiBhbGVydChzdW0pOyAvLyA2XG4gKlxuICogLy8gSW4gY2FzZSBvZiBBcnJheS1saWtlIG9iamVjdFxuICogdmFyIGFycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyYXlMaWtlKTsgLy8gY2hhbmdlIHRvIGFycmF5XG4gKiBmb3JFYWNoKGFycmF5LCBmdW5jdGlvbih2YWx1ZSl7XG4gKiAgICAgc3VtICs9IHZhbHVlO1xuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgZm9yRWFjaEFycmF5KG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9IGVsc2Uge1xuICAgIGZvckVhY2hPd25Qcm9wZXJ0aWVzKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZm9yRWFjaDtcblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IERlZmF1bHQgbG9jYWxlIHRleHRzXG4gKiBAYXV0aG9yIE5ITi4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBlbjoge1xuICAgIHRpdGxlczoge1xuICAgICAgREQ6IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXSxcbiAgICAgIEQ6IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J10sXG4gICAgICBNTU06IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXSxcbiAgICAgIE1NTU06IFtcbiAgICAgICAgJ0phbnVhcnknLFxuICAgICAgICAnRmVicnVhcnknLFxuICAgICAgICAnTWFyY2gnLFxuICAgICAgICAnQXByaWwnLFxuICAgICAgICAnTWF5JyxcbiAgICAgICAgJ0p1bmUnLFxuICAgICAgICAnSnVseScsXG4gICAgICAgICdBdWd1c3QnLFxuICAgICAgICAnU2VwdGVtYmVyJyxcbiAgICAgICAgJ09jdG9iZXInLFxuICAgICAgICAnTm92ZW1iZXInLFxuICAgICAgICAnRGVjZW1iZXInXG4gICAgICBdXG4gICAgfSxcbiAgICB0aXRsZUZvcm1hdDogJ01NTU0geXl5eScsXG4gICAgdG9kYXlGb3JtYXQ6ICdUb1xcXFxkXFxcXGF5OiBERCwgTU1NTSBkLCB5eXl5JyxcbiAgICB0aW1lOiAnVGltZScsXG4gICAgZGF0ZTogJ0RhdGUnXG4gIH0sXG4gIGtvOiB7XG4gICAgdGl0bGVzOiB7XG4gICAgICBERDogWyfsnbzsmpTsnbwnLCAn7JuU7JqU7J28JywgJ+2ZlOyalOydvCcsICfsiJjsmpTsnbwnLCAn66qp7JqU7J28JywgJ+q4iOyalOydvCcsICfthqDsmpTsnbwnXSxcbiAgICAgIEQ6IFsn7J28JywgJ+yblCcsICftmZQnLCAn7IiYJywgJ+uqqScsICfquIgnLCAn7YagJ10sXG4gICAgICBNTU06IFsnMeyblCcsICcy7JuUJywgJzPsm5QnLCAnNOyblCcsICc17JuUJywgJzbsm5QnLCAnN+yblCcsICc47JuUJywgJznsm5QnLCAnMTDsm5QnLCAnMTHsm5QnLCAnMTLsm5QnXSxcbiAgICAgIE1NTU06IFsnMeyblCcsICcy7JuUJywgJzPsm5QnLCAnNOyblCcsICc17JuUJywgJzbsm5QnLCAnN+yblCcsICc47JuUJywgJznsm5QnLCAnMTDsm5QnLCAnMTHsm5QnLCAnMTLsm5QnXVxuICAgIH0sXG4gICAgdGl0bGVGb3JtYXQ6ICd5eXl5Lk1NJyxcbiAgICB0b2RheUZvcm1hdDogJ+yYpOuKmDogeXl5eS5NTS5kZCAoRCknLFxuICAgIGRhdGU6ICfrgqDsp5wnLFxuICAgIHRpbWU6ICfsi5zqsIQnXG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDb252ZXJ0IHRleHQgYnkgYmluZGluZyBleHByZXNzaW9ucyB3aXRoIGNvbnRleHQuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGluQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIGZvckVhY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIGlzU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuLy8gSUU4IGRvZXMgbm90IHN1cHBvcnQgY2FwdHVyZSBncm91cHMuXG52YXIgRVhQUkVTU0lPTl9SRUdFWFAgPSAve3tcXHM/fFxccz99fS9nO1xudmFyIEJSQUNLRVRfTk9UQVRJT05fUkVHRVhQID0gL15bYS16QS1aMC05X0BdK1xcW1thLXpBLVowLTlfQFwiJ10rXFxdJC87XG52YXIgQlJBQ0tFVF9SRUdFWFAgPSAvXFxbXFxzP3xcXHM/XFxdLztcbnZhciBET1RfTk9UQVRJT05fUkVHRVhQID0gL15bYS16QS1aX10rXFwuW2EtekEtWl9dKyQvO1xudmFyIERPVF9SRUdFWFAgPSAvXFwuLztcbnZhciBTVFJJTkdfTk9UQVRJT05fUkVHRVhQID0gL15bXCInXVxcdytbXCInXSQvO1xudmFyIFNUUklOR19SRUdFWFAgPSAvXCJ8Jy9nO1xudmFyIE5VTUJFUl9SRUdFWFAgPSAvXi0/XFxkK1xcLj9cXGQqJC87XG5cbnZhciBFWFBSRVNTSU9OX0lOVEVSVkFMID0gMjtcblxudmFyIEJMT0NLX0hFTFBFUlMgPSB7XG4gICdpZic6IGhhbmRsZUlmLFxuICAnZWFjaCc6IGhhbmRsZUVhY2gsXG4gICd3aXRoJzogaGFuZGxlV2l0aFxufTtcblxudmFyIGlzVmFsaWRTcGxpdCA9ICdhJy5zcGxpdCgvYS8pLmxlbmd0aCA9PT0gMztcblxuLyoqXG4gKiBTcGxpdCBieSBSZWdFeHAuIChQb2x5ZmlsbCBmb3IgSUU4KVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0ZXh0IHRvIGJlIHNwbGl0dGVkXFxcbiAqIEBwYXJhbSB7UmVnRXhwfSByZWdleHAgLSByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn1cbiAqL1xudmFyIHNwbGl0QnlSZWdFeHAgPSAoZnVuY3Rpb24oKSB7XG4gIGlmIChpc1ZhbGlkU3BsaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odGV4dCwgcmVnZXhwKSB7XG4gICAgICByZXR1cm4gdGV4dC5zcGxpdChyZWdleHApO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24odGV4dCwgcmVnZXhwKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBwcmV2SW5kZXggPSAwO1xuICAgIHZhciBtYXRjaCwgaW5kZXg7XG5cbiAgICBpZiAoIXJlZ2V4cC5nbG9iYWwpIHtcbiAgICAgIHJlZ2V4cCA9IG5ldyBSZWdFeHAocmVnZXhwLCAnZycpO1xuICAgIH1cblxuICAgIG1hdGNoID0gcmVnZXhwLmV4ZWModGV4dCk7XG4gICAgd2hpbGUgKG1hdGNoICE9PSBudWxsKSB7XG4gICAgICBpbmRleCA9IG1hdGNoLmluZGV4O1xuICAgICAgcmVzdWx0LnB1c2godGV4dC5zbGljZShwcmV2SW5kZXgsIGluZGV4KSk7XG5cbiAgICAgIHByZXZJbmRleCA9IGluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgbWF0Y2ggPSByZWdleHAuZXhlYyh0ZXh0KTtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2godGV4dC5zbGljZShwcmV2SW5kZXgpKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59KSgpO1xuXG4vKipcbiAqIEZpbmQgdmFsdWUgaW4gdGhlIGNvbnRleHQgYnkgYW4gZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHAgLSBhbiBleHByZXNzaW9uXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcbiAqIEByZXR1cm5zIHsqfVxuICogQHByaXZhdGVcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIGdldFZhbHVlRnJvbUNvbnRleHQoZXhwLCBjb250ZXh0KSB7XG4gIHZhciBzcGxpdGVkRXhwcztcbiAgdmFyIHZhbHVlID0gY29udGV4dFtleHBdO1xuXG4gIGlmIChleHAgPT09ICd0cnVlJykge1xuICAgIHZhbHVlID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChleHAgPT09ICdmYWxzZScpIHtcbiAgICB2YWx1ZSA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKFNUUklOR19OT1RBVElPTl9SRUdFWFAudGVzdChleHApKSB7XG4gICAgdmFsdWUgPSBleHAucmVwbGFjZShTVFJJTkdfUkVHRVhQLCAnJyk7XG4gIH0gZWxzZSBpZiAoQlJBQ0tFVF9OT1RBVElPTl9SRUdFWFAudGVzdChleHApKSB7XG4gICAgc3BsaXRlZEV4cHMgPSBleHAuc3BsaXQoQlJBQ0tFVF9SRUdFWFApO1xuICAgIHZhbHVlID0gZ2V0VmFsdWVGcm9tQ29udGV4dChzcGxpdGVkRXhwc1swXSwgY29udGV4dClbZ2V0VmFsdWVGcm9tQ29udGV4dChzcGxpdGVkRXhwc1sxXSwgY29udGV4dCldO1xuICB9IGVsc2UgaWYgKERPVF9OT1RBVElPTl9SRUdFWFAudGVzdChleHApKSB7XG4gICAgc3BsaXRlZEV4cHMgPSBleHAuc3BsaXQoRE9UX1JFR0VYUCk7XG4gICAgdmFsdWUgPSBnZXRWYWx1ZUZyb21Db250ZXh0KHNwbGl0ZWRFeHBzWzBdLCBjb250ZXh0KVtzcGxpdGVkRXhwc1sxXV07XG4gIH0gZWxzZSBpZiAoTlVNQkVSX1JFR0VYUC50ZXN0KGV4cCkpIHtcbiAgICB2YWx1ZSA9IHBhcnNlRmxvYXQoZXhwKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBFeHRyYWN0IGVsc2VpZiBhbmQgZWxzZSBleHByZXNzaW9ucy5cbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IGlmRXhwcyAtIGFyZ3Mgb2YgaWYgZXhwcmVzc2lvblxuICogQHBhcmFtIHtBcnJheS48c3RyaW5nPn0gc291cmNlc0luc2lkZUJsb2NrIC0gc291cmNlcyBpbnNpZGUgaWYgYmxvY2tcbiAqIEByZXR1cm5zIHtvYmplY3R9IC0gZXhwczogZXhwcmVzc2lvbnMgb2YgaWYsIGVsc2VpZiwgYW5kIGVsc2UgLyBzb3VyY2VzSW5zaWRlSWY6IHNvdXJjZXMgaW5zaWRlIGlmLCBlbHNlaWYsIGFuZCBlbHNlIGJsb2NrLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdEVsc2VpZihpZkV4cHMsIHNvdXJjZXNJbnNpZGVCbG9jaykge1xuICB2YXIgZXhwcyA9IFtpZkV4cHNdO1xuICB2YXIgc291cmNlc0luc2lkZUlmID0gW107XG4gIHZhciBvdGhlcklmQ291bnQgPSAwO1xuICB2YXIgc3RhcnQgPSAwO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG4gIGZvckVhY2goc291cmNlc0luc2lkZUJsb2NrLCBmdW5jdGlvbihzb3VyY2UsIGluZGV4KSB7XG4gICAgaWYgKHNvdXJjZS5pbmRleE9mKCdpZicpID09PSAwKSB7XG4gICAgICBvdGhlcklmQ291bnQgKz0gMTtcbiAgICB9IGVsc2UgaWYgKHNvdXJjZSA9PT0gJy9pZicpIHtcbiAgICAgIG90aGVySWZDb3VudCAtPSAxO1xuICAgIH0gZWxzZSBpZiAoIW90aGVySWZDb3VudCAmJiAoc291cmNlLmluZGV4T2YoJ2Vsc2VpZicpID09PSAwIHx8IHNvdXJjZSA9PT0gJ2Vsc2UnKSkge1xuICAgICAgZXhwcy5wdXNoKHNvdXJjZSA9PT0gJ2Vsc2UnID8gWyd0cnVlJ10gOiBzb3VyY2Uuc3BsaXQoJyAnKS5zbGljZSgxKSk7XG4gICAgICBzb3VyY2VzSW5zaWRlSWYucHVzaChzb3VyY2VzSW5zaWRlQmxvY2suc2xpY2Uoc3RhcnQsIGluZGV4KSk7XG4gICAgICBzdGFydCA9IGluZGV4ICsgMTtcbiAgICB9XG4gIH0pO1xuXG4gIHNvdXJjZXNJbnNpZGVJZi5wdXNoKHNvdXJjZXNJbnNpZGVCbG9jay5zbGljZShzdGFydCkpO1xuXG4gIHJldHVybiB7XG4gICAgZXhwczogZXhwcyxcbiAgICBzb3VyY2VzSW5zaWRlSWY6IHNvdXJjZXNJbnNpZGVJZlxuICB9O1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgXCJpZlwiLiBcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IGV4cHMgLSBhcnJheSBvZiBleHByZXNzaW9ucyBzcGxpdCBieSBzcGFjZXNcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IHNvdXJjZXNJbnNpZGVCbG9jayAtIGFycmF5IG9mIHNvdXJjZXMgaW5zaWRlIHRoZSBpZiBibG9ja1xuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBjb250ZXh0XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaGFuZGxlSWYoZXhwcywgc291cmNlc0luc2lkZUJsb2NrLCBjb250ZXh0KSB7XG4gIHZhciBhbmFseXplZCA9IGV4dHJhY3RFbHNlaWYoZXhwcywgc291cmNlc0luc2lkZUJsb2NrKTtcbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICB2YXIgY29tcGlsZWRTb3VyY2UgPSAnJztcblxuICBmb3JFYWNoKGFuYWx5emVkLmV4cHMsIGZ1bmN0aW9uKGV4cCwgaW5kZXgpIHtcbiAgICByZXN1bHQgPSBoYW5kbGVFeHByZXNzaW9uKGV4cCwgY29udGV4dCk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgY29tcGlsZWRTb3VyY2UgPSBjb21waWxlKGFuYWx5emVkLnNvdXJjZXNJbnNpZGVJZltpbmRleF0sIGNvbnRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiAhcmVzdWx0O1xuICB9KTtcblxuICByZXR1cm4gY29tcGlsZWRTb3VyY2U7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBcImVhY2hcIi5cbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IGV4cHMgLSBhcnJheSBvZiBleHByZXNzaW9ucyBzcGxpdCBieSBzcGFjZXNcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IHNvdXJjZXNJbnNpZGVCbG9jayAtIGFycmF5IG9mIHNvdXJjZXMgaW5zaWRlIHRoZSBlYWNoIGJsb2NrXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBoYW5kbGVFYWNoKGV4cHMsIHNvdXJjZXNJbnNpZGVCbG9jaywgY29udGV4dCkge1xuICB2YXIgY29sbGVjdGlvbiA9IGhhbmRsZUV4cHJlc3Npb24oZXhwcywgY29udGV4dCk7XG4gIHZhciBhZGRpdGlvbmFsS2V5ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/ICdAaW5kZXgnIDogJ0BrZXknO1xuICB2YXIgYWRkaXRpb25hbENvbnRleHQgPSB7fTtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24oaXRlbSwga2V5KSB7XG4gICAgYWRkaXRpb25hbENvbnRleHRbYWRkaXRpb25hbEtleV0gPSBrZXk7XG4gICAgYWRkaXRpb25hbENvbnRleHRbJ0B0aGlzJ10gPSBpdGVtO1xuICAgIGV4dGVuZChjb250ZXh0LCBhZGRpdGlvbmFsQ29udGV4dCk7XG5cbiAgICByZXN1bHQgKz0gY29tcGlsZShzb3VyY2VzSW5zaWRlQmxvY2suc2xpY2UoKSwgY29udGV4dCk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBcIndpdGggLi4uIGFzXCJcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IGV4cHMgLSBhcnJheSBvZiBleHByZXNzaW9ucyBzcGxpdCBieSBzcGFjZXNcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IHNvdXJjZXNJbnNpZGVCbG9jayAtIGFycmF5IG9mIHNvdXJjZXMgaW5zaWRlIHRoZSB3aXRoIGJsb2NrXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBoYW5kbGVXaXRoKGV4cHMsIHNvdXJjZXNJbnNpZGVCbG9jaywgY29udGV4dCkge1xuICB2YXIgYXNJbmRleCA9IGluQXJyYXkoJ2FzJywgZXhwcyk7XG4gIHZhciBhbGlhcyA9IGV4cHNbYXNJbmRleCArIDFdO1xuICB2YXIgcmVzdWx0ID0gaGFuZGxlRXhwcmVzc2lvbihleHBzLnNsaWNlKDAsIGFzSW5kZXgpLCBjb250ZXh0KTtcblxuICB2YXIgYWRkaXRpb25hbENvbnRleHQgPSB7fTtcbiAgYWRkaXRpb25hbENvbnRleHRbYWxpYXNdID0gcmVzdWx0O1xuXG4gIHJldHVybiBjb21waWxlKHNvdXJjZXNJbnNpZGVCbG9jaywgZXh0ZW5kKGNvbnRleHQsIGFkZGl0aW9uYWxDb250ZXh0KSkgfHwgJyc7XG59XG5cbi8qKlxuICogRXh0cmFjdCBzb3VyY2VzIGluc2lkZSBibG9jayBpbiBwbGFjZS5cbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IHNvdXJjZXMgLSBhcnJheSBvZiBzb3VyY2VzXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBpbmRleCBvZiBzdGFydCBibG9ja1xuICogQHBhcmFtIHtudW1iZXJ9IGVuZCAtIGluZGV4IG9mIGVuZCBibG9ja1xuICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdFNvdXJjZXNJbnNpZGVCbG9jayhzb3VyY2VzLCBzdGFydCwgZW5kKSB7XG4gIHZhciBzb3VyY2VzSW5zaWRlQmxvY2sgPSBzb3VyY2VzLnNwbGljZShzdGFydCArIDEsIGVuZCAtIHN0YXJ0KTtcbiAgc291cmNlc0luc2lkZUJsb2NrLnBvcCgpO1xuXG4gIHJldHVybiBzb3VyY2VzSW5zaWRlQmxvY2s7XG59XG5cbi8qKlxuICogSGFuZGxlIGJsb2NrIGhlbHBlciBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IGhlbHBlcktleXdvcmQgLSBoZWxwZXIga2V5d29yZCAoZXguIGlmLCBlYWNoLCB3aXRoKVxuICogQHBhcmFtIHtBcnJheS48c3RyaW5nPn0gc291cmNlc1RvRW5kIC0gYXJyYXkgb2Ygc291cmNlcyBhZnRlciB0aGUgc3RhcnRpbmcgYmxvY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IC0gY29udGV4dFxuICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaGFuZGxlQmxvY2tIZWxwZXIoaGVscGVyS2V5d29yZCwgc291cmNlc1RvRW5kLCBjb250ZXh0KSB7XG4gIHZhciBleGVjdXRlQmxvY2tIZWxwZXIgPSBCTE9DS19IRUxQRVJTW2hlbHBlcktleXdvcmRdO1xuICB2YXIgaGVscGVyQ291bnQgPSAxO1xuICB2YXIgc3RhcnRCbG9ja0luZGV4ID0gMDtcbiAgdmFyIGVuZEJsb2NrSW5kZXg7XG4gIHZhciBpbmRleCA9IHN0YXJ0QmxvY2tJbmRleCArIEVYUFJFU1NJT05fSU5URVJWQUw7XG4gIHZhciBleHByZXNzaW9uID0gc291cmNlc1RvRW5kW2luZGV4XTtcblxuICB3aGlsZSAoaGVscGVyQ291bnQgJiYgaXNTdHJpbmcoZXhwcmVzc2lvbikpIHtcbiAgICBpZiAoZXhwcmVzc2lvbi5pbmRleE9mKGhlbHBlcktleXdvcmQpID09PSAwKSB7XG4gICAgICBoZWxwZXJDb3VudCArPSAxO1xuICAgIH0gZWxzZSBpZiAoZXhwcmVzc2lvbi5pbmRleE9mKCcvJyArIGhlbHBlcktleXdvcmQpID09PSAwKSB7XG4gICAgICBoZWxwZXJDb3VudCAtPSAxO1xuICAgICAgZW5kQmxvY2tJbmRleCA9IGluZGV4O1xuICAgIH1cblxuICAgIGluZGV4ICs9IEVYUFJFU1NJT05fSU5URVJWQUw7XG4gICAgZXhwcmVzc2lvbiA9IHNvdXJjZXNUb0VuZFtpbmRleF07XG4gIH1cblxuICBpZiAoaGVscGVyQ291bnQpIHtcbiAgICB0aHJvdyBFcnJvcihoZWxwZXJLZXl3b3JkICsgJyBuZWVkcyB7ey8nICsgaGVscGVyS2V5d29yZCArICd9fSBleHByZXNzaW9uLicpO1xuICB9XG5cbiAgc291cmNlc1RvRW5kW3N0YXJ0QmxvY2tJbmRleF0gPSBleGVjdXRlQmxvY2tIZWxwZXIoXG4gICAgc291cmNlc1RvRW5kW3N0YXJ0QmxvY2tJbmRleF0uc3BsaXQoJyAnKS5zbGljZSgxKSxcbiAgICBleHRyYWN0U291cmNlc0luc2lkZUJsb2NrKHNvdXJjZXNUb0VuZCwgc3RhcnRCbG9ja0luZGV4LCBlbmRCbG9ja0luZGV4KSxcbiAgICBjb250ZXh0XG4gICk7XG5cbiAgcmV0dXJuIHNvdXJjZXNUb0VuZDtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIFwiY3VzdG9tIGhlbHBlclwiLlxuICogSWYgaGVscGVyIGlzIG5vdCBhIGZ1bmN0aW9uLCByZXR1cm4gaGVscGVyIGl0c2VsZi5cbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IGV4cHMgLSBhcnJheSBvZiBleHByZXNzaW9ucyBzcGxpdCBieSBzcGFjZXMgKGZpcnN0IGVsZW1lbnQ6IGhlbHBlcilcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IC0gY29udGV4dFxuICogQHJldHVybnMge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUV4cHJlc3Npb24oZXhwcywgY29udGV4dCkge1xuICB2YXIgcmVzdWx0ID0gZ2V0VmFsdWVGcm9tQ29udGV4dChleHBzWzBdLCBjb250ZXh0KTtcblxuICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICByZXR1cm4gZXhlY3V0ZUZ1bmN0aW9uKHJlc3VsdCwgZXhwcy5zbGljZSgxKSwgY29udGV4dCk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4ZWN1dGUgYSBoZWxwZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoZWxwZXIgLSBoZWxwZXIgZnVuY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IGFyZ0V4cHMgLSBleHByZXNzaW9ucyBvZiBhcmd1bWVudHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IC0gY29udGV4dFxuICogQHJldHVybnMge3N0cmluZ30gLSByZXN1bHQgb2YgZXhlY3V0aW5nIHRoZSBmdW5jdGlvbiB3aXRoIGFyZ3VtZW50c1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZUZ1bmN0aW9uKGhlbHBlciwgYXJnRXhwcywgY29udGV4dCkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3JFYWNoKGFyZ0V4cHMsIGZ1bmN0aW9uKGV4cCkge1xuICAgIGFyZ3MucHVzaChnZXRWYWx1ZUZyb21Db250ZXh0KGV4cCwgY29udGV4dCkpO1xuICB9KTtcblxuICByZXR1cm4gaGVscGVyLmFwcGx5KG51bGwsIGFyZ3MpO1xufVxuXG4vKipcbiAqIEdldCBhIHJlc3VsdCBvZiBjb21waWxpbmcgYW4gZXhwcmVzc2lvbiB3aXRoIHRoZSBjb250ZXh0LlxuICogQHBhcmFtIHtBcnJheS48c3RyaW5nPn0gc291cmNlcyAtIGFycmF5IG9mIHNvdXJjZXMgc3BsaXQgYnkgcmVnZXhwIG9mIGV4cHJlc3Npb24uXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcbiAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn0gLSBhcnJheSBvZiBzb3VyY2VzIHRoYXQgYmluZCB3aXRoIGl0cyBjb250ZXh0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjb21waWxlKHNvdXJjZXMsIGNvbnRleHQpIHtcbiAgdmFyIGluZGV4ID0gMTtcbiAgdmFyIGV4cHJlc3Npb24gPSBzb3VyY2VzW2luZGV4XTtcbiAgdmFyIGV4cHMsIGZpcnN0RXhwLCByZXN1bHQ7XG5cbiAgd2hpbGUgKGlzU3RyaW5nKGV4cHJlc3Npb24pKSB7XG4gICAgZXhwcyA9IGV4cHJlc3Npb24uc3BsaXQoJyAnKTtcbiAgICBmaXJzdEV4cCA9IGV4cHNbMF07XG5cbiAgICBpZiAoQkxPQ0tfSEVMUEVSU1tmaXJzdEV4cF0pIHtcbiAgICAgIHJlc3VsdCA9IGhhbmRsZUJsb2NrSGVscGVyKGZpcnN0RXhwLCBzb3VyY2VzLnNwbGljZShpbmRleCwgc291cmNlcy5sZW5ndGggLSBpbmRleCksIGNvbnRleHQpO1xuICAgICAgc291cmNlcyA9IHNvdXJjZXMuY29uY2F0KHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNvdXJjZXNbaW5kZXhdID0gaGFuZGxlRXhwcmVzc2lvbihleHBzLCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICBpbmRleCArPSBFWFBSRVNTSU9OX0lOVEVSVkFMO1xuICAgIGV4cHJlc3Npb24gPSBzb3VyY2VzW2luZGV4XTtcbiAgfVxuXG4gIHJldHVybiBzb3VyY2VzLmpvaW4oJycpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgdGV4dCBieSBiaW5kaW5nIGV4cHJlc3Npb25zIHdpdGggY29udGV4dC5cbiAqIDxicj5cbiAqIElmIGV4cHJlc3Npb24gZXhpc3RzIGluIHRoZSBjb250ZXh0LCBpdCB3aWxsIGJlIHJlcGxhY2VkLlxuICogZXgpICd7e3RpdGxlfX0nIHdpdGggY29udGV4dCB7dGl0bGU6ICdIZWxsbyEnfSBpcyBjb252ZXJ0ZWQgdG8gJ0hlbGxvIScuXG4gKiBBbiBhcnJheSBvciBvYmplY3QgY2FuIGJlIGFjY2Vzc2VkIHVzaW5nIGJyYWNrZXQgYW5kIGRvdCBub3RhdGlvbi5cbiAqIGV4KSAne3tvZGRzXFxbMlxcXX19JyB3aXRoIGNvbnRleHQge29kZHM6IFxcWzEsIDMsIDVcXF19IGlzIGNvbnZlcnRlZCB0byAnNScuXG4gKiBleCkgJ3t7ZXZlbnNcXFtmaXJzdFxcXX19JyB3aXRoIGNvbnRleHQge2V2ZW5zOiBcXFsyLCA0XFxdLCBmaXJzdDogMH0gaXMgY29udmVydGVkIHRvICcyJy5cbiAqIGV4KSAne3twcm9qZWN0XFxbXCJuYW1lXCJcXF19fScgYW5kICd7e3Byb2plY3QubmFtZX19JyB3aXRoIGNvbnRleHQge3Byb2plY3Q6IHtuYW1lOiAnQ29kZVNuaXBwZXQnfX0gaXMgY29udmVydGVkIHRvICdDb2RlU25pcHBldCcuXG4gKiA8YnI+XG4gKiBJZiByZXBsYWNlZCBleHByZXNzaW9uIGlzIGEgZnVuY3Rpb24sIG5leHQgZXhwcmVzc2lvbnMgd2lsbCBiZSBhcmd1bWVudHMgb2YgdGhlIGZ1bmN0aW9uLlxuICogZXgpICd7e2FkZCAxIDJ9fScgd2l0aCBjb250ZXh0IHthZGQ6IGZ1bmN0aW9uKGEsIGIpIHtyZXR1cm4gYSArIGI7fX0gaXMgY29udmVydGVkIHRvICczJy5cbiAqIDxicj5cbiAqIEl0IGhhcyAzIHByZWRlZmluZWQgYmxvY2sgaGVscGVycyAne3toZWxwZXIgLi4ufX0gLi4uIHt7L2hlbHBlcn19JzogJ2lmJywgJ2VhY2gnLCAnd2l0aCAuLi4gYXMgLi4uJy5cbiAqIDEpICdpZicgZXZhbHVhdGVzIGNvbmRpdGlvbmFsIHN0YXRlbWVudHMuIEl0IGNhbiB1c2Ugd2l0aCAnZWxzZWlmJyBhbmQgJ2Vsc2UnLlxuICogMikgJ2VhY2gnIGl0ZXJhdGVzIGFuIGFycmF5IG9yIG9iamVjdC4gSXQgcHJvdmlkZXMgJ0BpbmRleCcoYXJyYXkpLCAnQGtleScob2JqZWN0KSwgYW5kICdAdGhpcycoY3VycmVudCBlbGVtZW50KS5cbiAqIDMpICd3aXRoIC4uLiBhcyAuLi4nIHByb3ZpZGVzIGFuIGFsaWFzLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0ZXh0IHdpdGggZXhwcmVzc2lvbnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IC0gY29udGV4dFxuICogQHJldHVybnMge3N0cmluZ30gLSB0ZXh0IHRoYXQgYmluZCB3aXRoIGl0cyBjb250ZXh0XG4gKiBAbWVtYmVyb2YgbW9kdWxlOmRvbVV0aWxcbiAqIEBleGFtcGxlXG4gKiB2YXIgdGVtcGxhdGUgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2RvbVV0aWwvdGVtcGxhdGUnKTtcbiAqIFxuICogdmFyIHNvdXJjZSA9IFxuICogICAgICc8aDE+J1xuICogICArICAgJ3t7aWYgaXNWYWxpZE51bWJlciB0aXRsZX19J1xuICogICArICAgICAne3t0aXRsZX19dGgnXG4gKiAgICsgICAne3tlbHNlaWYgaXNWYWxpZERhdGUgdGl0bGV9fSdcbiAqICAgKyAgICAgJ0RhdGU6IHt7dGl0bGV9fSdcbiAqICAgKyAgICd7ey9pZn19J1xuICogICArICc8L2gxPidcbiAqICAgKyAne3tlYWNoIGxpc3R9fSdcbiAqICAgKyAgICd7e3dpdGggYWRkT25lIEBpbmRleCBhcyBpZHh9fSdcbiAqICAgKyAgICAgJzxwPnt7aWR4fX06IHt7QHRoaXN9fTwvcD4nXG4gKiAgICsgICAne3svd2l0aH19J1xuICogICArICd7ey9lYWNofX0nO1xuICogXG4gKiB2YXIgY29udGV4dCA9IHtcbiAqICAgaXNWYWxpZERhdGU6IGZ1bmN0aW9uKHRleHQpIHtcbiAqICAgICByZXR1cm4gL15cXGR7NH0tKDB8MSlcXGQtKDB8MXwyfDMpXFxkJC8udGVzdCh0ZXh0KTtcbiAqICAgfSxcbiAqICAgaXNWYWxpZE51bWJlcjogZnVuY3Rpb24odGV4dCkge1xuICogICAgIHJldHVybiAvXlxcZCskLy50ZXN0KHRleHQpO1xuICogICB9XG4gKiAgIHRpdGxlOiAnMjAxOS0xMS0yNScsXG4gKiAgIGxpc3Q6IFsnQ2xlYW4gdGhlIHJvb20nLCAnV2FzaCB0aGUgZGlzaGVzJ10sXG4gKiAgIGFkZE9uZTogZnVuY3Rpb24obnVtKSB7XG4gKiAgICAgcmV0dXJuIG51bSArIDE7XG4gKiAgIH1cbiAqIH07XG4gKiBcbiAqIHZhciByZXN1bHQgPSB0ZW1wbGF0ZShzb3VyY2UsIGNvbnRleHQpO1xuICogY29uc29sZS5sb2cocmVzdWx0KTsgLy8gPGgxPkRhdGU6IDIwMTktMTEtMjU8L2gxPjxwPjE6IENsZWFuIHRoZSByb29tPC9wPjxwPjI6IFdhc2ggdGhlIGRpc2hlczwvcD5cbiAqL1xuZnVuY3Rpb24gdGVtcGxhdGUodGV4dCwgY29udGV4dCkge1xuICByZXR1cm4gY29tcGlsZShzcGxpdEJ5UmVnRXhwKHRleHQsIEVYUFJFU1NJT05fUkVHRVhQKSwgY29udGV4dCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGVtcGxhdGU7XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyB1bmRlZmluZWQgb3Igbm90LlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgdW5kZWZpbmVkIG9yIG5vdC5cbiAqIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHJldHVybnMgdHJ1ZS5cbiAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIHVuZGVmaW5lZD9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmaW5lZFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzVW5kZWZpbmVkO1xuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBzdHJpbmcgb3Igbm90LlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBzdHJpbmcgb3Igbm90LlxuICogSWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgc3RyaW5nLCByZXR1cm4gdHJ1ZS5cbiAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIHN0cmluZz9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyhvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8IG9iaiBpbnN0YW5jZW9mIFN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1N0cmluZztcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFJlbW92ZSBlbGVtZW50IGZyb20gcGFyZW50IG5vZGUuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxuLyoqXG4gKiBSZW1vdmUgZWxlbWVudCBmcm9tIHBhcmVudCBub2RlLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQG1lbWJlcm9mIG1vZHVsZTpkb21VdGlsXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZW1vdmVFbGVtZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBudW1iZXIgb3Igbm90LlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBudW1iZXIgb3Igbm90LlxuICogSWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgbnVtYmVyLCByZXR1cm4gdHJ1ZS5cbiAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIG51bWJlcj9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICovXG5mdW5jdGlvbiBpc051bWJlcihvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8IG9iaiBpbnN0YW5jZW9mIE51bWJlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc051bWJlcjtcblxuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEFkZCBjc3MgY2xhc3MgdG8gZWxlbWVudFxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBmb3JFYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBpbkFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBnZXRDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xudmFyIHNldENsYXNzTmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG4vKipcbiAqIGRvbVV0aWwgbW9kdWxlXG4gKiBAbW9kdWxlIGRvbVV0aWxcbiAqL1xuXG4vKipcbiAqIEFkZCBjc3MgY2xhc3MgdG8gZWxlbWVudFxuICogQHBhcmFtIHsoSFRNTEVsZW1lbnR8U1ZHRWxlbWVudCl9IGVsZW1lbnQgLSB0YXJnZXQgZWxlbWVudFxuICogQHBhcmFtIHsuLi5zdHJpbmd9IGNzc0NsYXNzIC0gY3NzIGNsYXNzZXMgdG8gYWRkXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmRvbVV0aWxcbiAqL1xuZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCkge1xuICB2YXIgY3NzQ2xhc3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICB2YXIgY2xhc3NMaXN0ID0gZWxlbWVudC5jbGFzc0xpc3Q7XG4gIHZhciBuZXdDbGFzcyA9IFtdO1xuICB2YXIgb3JpZ2luO1xuXG4gIGlmIChjbGFzc0xpc3QpIHtcbiAgICBmb3JFYWNoKGNzc0NsYXNzLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQobmFtZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBvcmlnaW4gPSBnZXRDbGFzcyhlbGVtZW50KTtcblxuICBpZiAob3JpZ2luKSB7XG4gICAgY3NzQ2xhc3MgPSBbXS5jb25jYXQob3JpZ2luLnNwbGl0KC9cXHMrLyksIGNzc0NsYXNzKTtcbiAgfVxuXG4gIGZvckVhY2goY3NzQ2xhc3MsIGZ1bmN0aW9uKGNscykge1xuICAgIGlmIChpbkFycmF5KGNscywgbmV3Q2xhc3MpIDwgMCkge1xuICAgICAgbmV3Q2xhc3MucHVzaChjbHMpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2V0Q2xhc3NOYW1lKGVsZW1lbnQsIG5ld0NsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhZGRDbGFzcztcblxuXG4vKioqLyB9KSxcbi8qIDE3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEdldCBIVE1MIGVsZW1lbnQncyBkZXNpZ24gY2xhc3Nlcy5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgaXNVbmRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxuLyoqXG4gKiBHZXQgSFRNTCBlbGVtZW50J3MgZGVzaWduIGNsYXNzZXMuXG4gKiBAcGFyYW0geyhIVE1MRWxlbWVudHxTVkdFbGVtZW50KX0gZWxlbWVudCB0YXJnZXQgZWxlbWVudFxuICogQHJldHVybnMge3N0cmluZ30gZWxlbWVudCBjc3MgY2xhc3MgbmFtZVxuICogQG1lbWJlcm9mIG1vZHVsZTpkb21VdGlsXG4gKi9cbmZ1bmN0aW9uIGdldENsYXNzKGVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50IHx8ICFlbGVtZW50LmNsYXNzTmFtZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmIChpc1VuZGVmaW5lZChlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsKSkge1xuICAgIHJldHVybiBlbGVtZW50LmNsYXNzTmFtZTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldENsYXNzO1xuXG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgUmVtb3ZlIGNzcyBjbGFzcyBmcm9tIGVsZW1lbnRcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgZm9yRWFjaEFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBpbkFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBnZXRDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xudmFyIHNldENsYXNzTmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG4vKipcbiAqIFJlbW92ZSBjc3MgY2xhc3MgZnJvbSBlbGVtZW50XG4gKiBAcGFyYW0geyhIVE1MRWxlbWVudHxTVkdFbGVtZW50KX0gZWxlbWVudCAtIHRhcmdldCBlbGVtZW50XG4gKiBAcGFyYW0gey4uLnN0cmluZ30gY3NzQ2xhc3MgLSBjc3MgY2xhc3NlcyB0byByZW1vdmVcbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZG9tVXRpbFxuICovXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50KSB7XG4gIHZhciBjc3NDbGFzcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHZhciBjbGFzc0xpc3QgPSBlbGVtZW50LmNsYXNzTGlzdDtcbiAgdmFyIG9yaWdpbiwgbmV3Q2xhc3M7XG5cbiAgaWYgKGNsYXNzTGlzdCkge1xuICAgIGZvckVhY2hBcnJheShjc3NDbGFzcywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcbiAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIG9yaWdpbiA9IGdldENsYXNzKGVsZW1lbnQpLnNwbGl0KC9cXHMrLyk7XG4gIG5ld0NsYXNzID0gW107XG4gIGZvckVhY2hBcnJheShvcmlnaW4sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAoaW5BcnJheShuYW1lLCBjc3NDbGFzcykgPCAwKSB7XG4gICAgICBuZXdDbGFzcy5wdXNoKG5hbWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2V0Q2xhc3NOYW1lKGVsZW1lbnQsIG5ld0NsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZW1vdmVDbGFzcztcblxuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNldCBtb3VzZS10b3VjaCBldmVudFxuICogQGF1dGhvciBOSE4uIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcbnZhciBvZmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblxudmFyIG1vdXNlVG91Y2hFdmVudCA9IHtcbiAgLyoqXG4gICAqIERldGVjdCBtb2JpbGUgYnJvd3NlclxuICAgKiBAdHlwZSB7Ym9vbGVhbn0gV2hldGhlciB1c2luZyBNb2JpbGUgYnJvd3NlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2lzTW9iaWxlOiAoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIC9BbmRyb2lkfEJsYWNrQmVycnl8aVBob25lfGlQYWR8aVBvZHxPcGVyYSBNaW5pfElFTW9iaWxlfFdQRGVza3RvcC9pLnRlc3QoXG4gICAgICBuYXZpZ2F0b3IudXNlckFnZW50XG4gICAgKTtcbiAgfSkoKSxcblxuICAvKipcbiAgICogUmV0dXJuIGEgbWF0Y2hlZCBldmVudCB0eXBlIGJ5IGEgbW91c2UgZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBBIG1vdXNlIGV2ZW50IHR5cGUgLSBtb3VzZWRvd24sIGNsaWNrXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0RXZlbnRUeXBlOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgaWYgKHRoaXMuX2lzTW9iaWxlKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ21vdXNlZG93bicpIHtcbiAgICAgICAgdHlwZSA9ICd0b3VjaHN0YXJ0JztcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICB0eXBlID0gJ3RvdWNoZW5kJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfSxcblxuICAvKipcbiAgICogQmluZCB0b3VjaCBvciBtb3VzZSBldmVudHNcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBBbiBlbGVtZW50IHRvIGJpbmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgQSBtb3VzZSBldmVudCB0eXBlIC0gbW91c2Vkb3duLCBjbGlja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIEEgaGFuZGxlciBmdW5jdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gW2NvbnRleHRdIEEgY29udGV4dCBmb3IgaGFuZGxlci5cbiAgICovXG4gIG9uOiBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBoYW5kbGVyLCBjb250ZXh0KSB7XG4gICAgb24oZWxlbWVudCwgdGhpcy5fZ2V0RXZlbnRUeXBlKHR5cGUpLCBoYW5kbGVyLCBjb250ZXh0KTtcbiAgfSxcblxuICAvKipcbiAgICogVW5iaW5kIHRvdWNoIG9yIG1vdXNlIGV2ZW50c1xuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gVGFyZ2V0IGVsZW1lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgQSBtb3VzZSBldmVudCB0eXBlIC0gbW91c2Vkb3duLCBjbGlja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gSGFuZGxlclxuICAgKi9cbiAgb2ZmOiBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBoYW5kbGVyKSB7XG4gICAgb2ZmKGVsZW1lbnQsIHRoaXMuX2dldEV2ZW50VHlwZSh0eXBlKSwgaGFuZGxlcik7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbW91c2VUb3VjaEV2ZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgTGF5ZXIgYmFzZVxuICogQGF1dGhvciBOSE4uIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgZGVmaW5lQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIHJlbW92ZUVsZW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxudmFyIGxvY2FsZVRleHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcbnZhciBERUZBVUxUX0xBTkdVQUdFX1RZUEUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLkRFRkFVTFRfTEFOR1VBR0VfVFlQRTtcblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIC0gSW5pdGlhbCBsYW5ndWFnZVxuICogTGF5ZXIgYmFzZVxuICovXG52YXIgTGF5ZXJCYXNlID0gZGVmaW5lQ2xhc3MoXG4gIC8qKiBAbGVuZHMgTGF5ZXJCYXNlLnByb3RvdHlwZSAqLyB7XG4gICAgaW5pdDogZnVuY3Rpb24obGFuZ3VhZ2UpIHtcbiAgICAgIGxhbmd1YWdlID0gbGFuZ3VhZ2UgfHwgREVGQVVMVF9MQU5HVUFHRV9UWVBFO1xuXG4gICAgICAvKipcbiAgICAgICAqIExheWVyIGVsZW1lbnRcbiAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIExhbmd1YWdlIHR5cGVcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9sb2NhbGVUZXh0ID0gbG9jYWxlVGV4dFtsYW5ndWFnZV07XG5cbiAgICAgIC8qKlxuICAgICAgICogTGF5ZXIgdHlwZVxuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3R5cGUgPSAnYmFzZSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ha2UgY29udGV4dFxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWFrZUNvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhyb3dPdmVycmlkZUVycm9yKHRoaXMuZ2V0VHlwZSgpLCAnX21ha2VDb250ZXh0Jyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgbGF5ZXIgZWxlbWVudFxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgICAqL1xuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvd092ZXJyaWRlRXJyb3IodGhpcy5nZXRUeXBlKCksICdyZW5kZXInKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkYXRlIGVsZW1lbnRzXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHRocm93cyB7RXJyb3J9XG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAgICovXG4gICAgZ2V0RGF0ZUVsZW1lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93T3ZlcnJpZGVFcnJvcih0aGlzLmdldFR5cGUoKSwgJ2dldERhdGVFbGVtZW50cycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGxheWVyIHR5cGVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFR5cGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBsYW5ndWFnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIExhbmd1YWdlIG5hbWVcbiAgICAgKi9cbiAgICBjaGFuZ2VMYW5ndWFnZTogZnVuY3Rpb24obGFuZ3VhZ2UpIHtcbiAgICAgIHRoaXMuX2xvY2FsZVRleHQgPSBsb2NhbGVUZXh0W2xhbmd1YWdlXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGVsZW1lbnRzXG4gICAgICovXG4gICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgIHJlbW92ZUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cbik7XG5cbi8qKlxuICogVGhyb3cgLSBtZXRob2Qgb3ZlcnJpZGUgZXJyb3JcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYXllclR5cGUgLSBMYXllciB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSAtIE1ldGhvZCBuYW1lXG4gKiBAdGhyb3dzIHtFcnJvcn1cbiAqL1xuZnVuY3Rpb24gdGhyb3dPdmVycmlkZUVycm9yKGxheWVyVHlwZSwgbWV0aG9kTmFtZSkge1xuICB0aHJvdyBuZXcgRXJyb3IobGF5ZXJUeXBlICsgJyBsYXllciBkb2VzIG5vdCBoYXZlIHRoZSBcIicgKyBtZXRob2ROYW1lICsgJ1wiIG1ldGhvZC4nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBMYXllckJhc2U7XG5cblxuLyoqKi8gfSksXG4vKiAyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBEYXRlUGlja2VyIGNvbXBvbmVudFxuICogQGF1dGhvciBOSE4uIEZFIGRldiBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGluQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIGZvckVhY2hBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgZGVmaW5lQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEN1c3RvbUV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgYWRkQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbnZhciBjbG9zZXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG52YXIgZ2V0RGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xudmFyIGhhc0NsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG52YXIgcmVtb3ZlQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciByZW1vdmVFbGVtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG52YXIgZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbnZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBpc0RhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcbnZhciBpc051bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cbnZhciBUaW1lUGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBDYWxlbmRhciA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xudmFyIFJhbmdlTW9kZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcbnZhciBjb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIGxvY2FsZVRleHRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG52YXIgZGF0ZVV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIG1vdXNlVG91Y2hFdmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xudmFyIHRtcGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcbnZhciBEYXRlUGlja2VySW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblxudmFyIERFRkFVTFRfV0VFS19TVEFSVF9EQVkgPSBjb25zdGFudHMuREVGQVVMVF9XRUVLX1NUQVJUX0RBWTtcbnZhciBERUZBVUxUX0xBTkdVQUdFX1RZUEUgPSBjb25zdGFudHMuREVGQVVMVF9MQU5HVUFHRV9UWVBFO1xudmFyIFRZUEVfREFURSA9IGNvbnN0YW50cy5UWVBFX0RBVEU7XG52YXIgVFlQRV9NT05USCA9IGNvbnN0YW50cy5UWVBFX01PTlRIO1xudmFyIFRZUEVfWUVBUiA9IGNvbnN0YW50cy5UWVBFX1lFQVI7XG52YXIgQ0xBU1NfTkFNRV9ORVhUX1lFQVJfQlROID0gY29uc3RhbnRzLkNMQVNTX05BTUVfTkVYVF9ZRUFSX0JUTjtcbnZhciBDTEFTU19OQU1FX05FWFRfTU9OVEhfQlROID0gY29uc3RhbnRzLkNMQVNTX05BTUVfTkVYVF9NT05USF9CVE47XG52YXIgQ0xBU1NfTkFNRV9QUkVWX1lFQVJfQlROID0gY29uc3RhbnRzLkNMQVNTX05BTUVfUFJFVl9ZRUFSX0JUTjtcbnZhciBDTEFTU19OQU1FX1BSRVZfTU9OVEhfQlROID0gY29uc3RhbnRzLkNMQVNTX05BTUVfUFJFVl9NT05USF9CVE47XG52YXIgQ0xBU1NfTkFNRV9TRUxFQ1RFRCA9IGNvbnN0YW50cy5DTEFTU19OQU1FX1NFTEVDVEVEO1xuXG52YXIgQ0xBU1NfTkFNRV9TRUxFQ1RBQkxFID0gJ3R1aS1pcy1zZWxlY3RhYmxlJztcbnZhciBDTEFTU19OQU1FX0JMT0NLRUQgPSAndHVpLWlzLWJsb2NrZWQnO1xudmFyIENMQVNTX05BTUVfQ0hFQ0tFRCA9ICd0dWktaXMtY2hlY2tlZCc7XG52YXIgQ0xBU1NfTkFNRV9TRUxFQ1RPUl9CVVRUT04gPSAndHVpLWRhdGVwaWNrZXItc2VsZWN0b3ItYnV0dG9uJztcbnZhciBDTEFTU19OQU1FX1RPREFZID0gJ3R1aS1jYWxlbmRhci10b2RheSc7XG52YXIgQ0xBU1NfTkFNRV9ISURERU4gPSAndHVpLWhpZGRlbic7XG5cbnZhciBTRUxFQ1RPUl9CT0RZID0gJy50dWktZGF0ZXBpY2tlci1ib2R5JztcbnZhciBTRUxFQ1RPUl9EQVRFX0lDTyA9ICcudHVpLWljby1kYXRlJztcbnZhciBTRUxFQ1RPUl9DQUxFTkRBUl9USVRMRSA9ICcudHVpLWNhbGVuZGFyLXRpdGxlJztcbnZhciBTRUxFQ1RPUl9DQUxFTkRBUl9DT05UQUlORVIgPSAnLnR1aS1jYWxlbmRhci1jb250YWluZXInO1xudmFyIFNFTEVDVE9SX1RJTUVQSUNLRVJfQ09OVEFJTkVSID0gJy50dWktdGltZXBpY2tlci1jb250YWluZXInO1xuXG4vKipcbiAqIE1lcmdlIGRlZmF1bHQgb3B0aW9uXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uIC0gRGF0ZVBpY2tlciBvcHRpb25cbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbnZhciBtZXJnZURlZmF1bHRPcHRpb24gPSBmdW5jdGlvbihvcHRpb24pIHtcbiAgb3B0aW9uID0gZXh0ZW5kKFxuICAgIHtcbiAgICAgIGxhbmd1YWdlOiBERUZBVUxUX0xBTkdVQUdFX1RZUEUsXG4gICAgICBjYWxlbmRhcjoge30sXG4gICAgICBpbnB1dDoge1xuICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICBmb3JtYXQ6IG51bGxcbiAgICAgIH0sXG4gICAgICB0aW1lUGlja2VyOiBudWxsLFxuICAgICAgZGF0ZTogbnVsbCxcbiAgICAgIHNob3dBbHdheXM6IGZhbHNlLFxuICAgICAgdHlwZTogVFlQRV9EQVRFLFxuICAgICAgc2VsZWN0YWJsZVJhbmdlczogbnVsbCxcbiAgICAgIG9wZW5lcnM6IFtdLFxuICAgICAgYXV0b0Nsb3NlOiB0cnVlLFxuICAgICAgdXNhZ2VTdGF0aXN0aWNzOiB0cnVlLFxuICAgICAgd2Vla1N0YXJ0RGF5OiBERUZBVUxUX1dFRUtfU1RBUlRfREFZXG4gICAgfSxcbiAgICBvcHRpb25cbiAgKTtcblxuICBvcHRpb24uc2VsZWN0YWJsZVJhbmdlcyA9IG9wdGlvbi5zZWxlY3RhYmxlUmFuZ2VzIHx8IFtbY29uc3RhbnRzLk1JTl9EQVRFLCBjb25zdGFudHMuTUFYX0RBVEVdXTtcblxuICBpZiAoIWlzT2JqZWN0KG9wdGlvbi5jYWxlbmRhcikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGVuZGFyIG9wdGlvbiBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG4gIGlmICghaXNPYmplY3Qob3B0aW9uLmlucHV0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW5wdXQgb3B0aW9uIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cbiAgaWYgKCFpc0FycmF5KG9wdGlvbi5zZWxlY3RhYmxlUmFuZ2VzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0YWJsZS1yYW5nZXMgbXVzdCBiZSBhIDJkLWFycmF5Jyk7XG4gIH1cblxuICBvcHRpb24ubG9jYWxlVGV4dCA9IGxvY2FsZVRleHRzW29wdGlvbi5sYW5ndWFnZV07XG5cbiAgLy8gb3ZlcnJpZGUgY2FsZW5kYXIgb3B0aW9uXG4gIG9wdGlvbi5jYWxlbmRhci5sYW5ndWFnZSA9IG9wdGlvbi5sYW5ndWFnZTtcbiAgb3B0aW9uLmNhbGVuZGFyLnR5cGUgPSBvcHRpb24udHlwZTtcblxuICAvLyBAVE9ETzogYWZ0ZXIgdjUuMC4wLCByZW1vdmUgb3B0aW9uLnRpbWVwaWNrZXJcbiAgb3B0aW9uLnRpbWVQaWNrZXIgPSBvcHRpb24udGltZVBpY2tlciB8fCBvcHRpb24udGltZXBpY2tlcjtcblxuICByZXR1cm4gb3B0aW9uO1xufTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlIGEgZGF0ZSBwaWNrZXIuXG4gKiBAc2VlIHtAbGluayAvdHV0b3JpYWwtZXhhbXBsZTAxLWJhc2ljIERhdGVQaWNrZXIgZXhhbXBsZX1cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBjb250YWluZXIgLSBDb250YWluZXIgZWxlbWVudCBvciBzZWxlY3RvciBvZiBEYXRlUGlja2VyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uc1xuICogICAgICBAcGFyYW0ge0RhdGV8bnVtYmVyfSBbb3B0aW9ucy5kYXRlID0gbnVsbF0gLSBJbml0aWFsIGRhdGUuIFNldCBieSBhIERhdGUgaW5zdGFuY2Ugb3IgYSBudW1iZXIodGltZXN0YW1wKS4gKGRlZmF1bHQ6IG5vIGluaXRpYWwgZGF0ZSlcbiAqICAgICAgQHBhcmFtIHsoJ2RhdGUnfCdtb250aCd8J3llYXInKX0gW29wdGlvbnMudHlwZSA9ICdkYXRlJ10gLSBEYXRlUGlja2VyIHR5cGUuIERldGVybWluZSB3aGV0aGVyIHRvIGNob29zZSBhIGRhdGUsIG1vbnRoLCBvciB5ZWFyLlxuICogICAgICBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFuZ3VhZ2U9J2VuJ10gLSBMYW5ndWFnZSBjb2RlLiBFbmdsaXNoKCdlbicpIGFuZCBLb3JlYW4oJ2tvJykgYXJlIHByb3ZpZGVkIGFzIGRlZmF1bHQuIFRvIHNldCB0byB0aGUgb3RoZXIgbGFuZ3VhZ2VzLCB1c2Uge0BsaW5rIERhdGVQaWNrZXIjbG9jYWxlVGV4dHMgRGF0ZVBpY2tlci5sb2NhbGVUZXh0c30uXG4gKiAgICAgIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zLnRpbWVQaWNrZXJdIC0gW1RpbWVQaWNrZXJdKGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkudGltZS1waWNrZXIvbGF0ZXN0KSBvcHRpb25zLiBSZWZlciB0byB0aGUgW1RpbWVQaWNrZXIgaW5zdGFuY2UncyBvcHRpb25zXShodHRwczovL25obi5naXRodWIuaW8vdHVpLnRpbWUtcGlja2VyL2xhdGVzdC9UaW1lUGlja2VyKS4gVG8gY3JlYXRlIHRoZSBUaW1lUGlja2VyIHdpdGhvdXQgY3VzdG9taXphdGlvbiwgc2V0IHRvIHRydWUuXG4gKiAgICAgIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5jYWxlbmRhcl0gLSB7QGxpbmsgQ2FsZW5kYXJ9IG9wdGlvbnMuIFJlZmVyIHRvIHRoZSB7QGxpbmsgQ2FsZW5kYXIgQ2FsZW5kYXIgaW5zdGFuY2UncyBvcHRpb25zfS5cbiAqICAgICAgQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmlucHV0XSAtIElucHV0IG9wdGlvblxuICogICAgICBAcGFyYW0ge0hUTUxFbGVtZW50fHN0cmluZ30gW29wdGlvbnMuaW5wdXQuZWxlbWVudF0gLSBJbnB1dCBlbGVtZW50IG9yIHNlbGVjdG9yXG4gKiAgICAgIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pbnB1dC5mb3JtYXQgPSAneXl5eS1tbS1kZCddIC0gRm9ybWF0IG9mIHRoZSBEYXRlIHN0cmluZ1xuICogICAgICBAcGFyYW0ge0FycmF5LjxBcnJheS48RGF0ZXxudW1iZXI+Pn0gW29wdGlvbnMuc2VsZWN0YWJsZVJhbmdlcyA9IDE5MDAvMS8xIH4gMjk5OS8xMi8zMV1cbiAqICAgICAgICAtIFJhbmdlcyBvZiBzZWxlY3RhYmxlIGRhdGUuIFNldCBieSBEYXRlIGluc3RhbmNlcyBvciBudW1iZXJzKHRpbWVzdGFtcCkuXG4gKiAgICAgIEBwYXJhbSB7QXJyYXk8SFRNTEVsZW1lbnR8c3RyaW5nPn0gW29wdGlvbnMub3BlbmVycyA9IFtdXSAtIExpc3Qgb2YgdGhlIG9wZW5lcnMgdG8gb3BlbiB0aGUgRGF0ZVBpY2tlciAoZXhhbXBsZSAtIGljb24sIGJ1dHRvbiwgZXRjLilcbiAqICAgICAgQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaG93QWx3YXlzID0gZmFsc2VdIC0gU2hvdyB0aGUgRGF0ZVBpY2tlciBhbHdheXNcbiAqICAgICAgQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvQ2xvc2UgPSB0cnVlXSAtIENsb3NlIHRoZSBEYXRlUGlja2VyIGFmdGVyIGNsaWNraW5nIHRoZSBkYXRlXG4gKiAgICAgIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNhZ2VTdGF0aXN0aWNzID0gdHJ1ZV0gLSBTZW5kIGEgaG9zdG5hbWUgdG8gR29vZ2xlIEFuYWx5dGljcyAoZGVmYXVsdDogdHJ1ZSlcbiAqICAgICAgQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLndlZWtTdGFydERheSA9ICdTdW4nXSAtIFN0YXJ0IG9mIHRoZSB3ZWVrLiAnU3VuJywgJ01vbicsIC4uLiwgJ1NhdCcoZGVmYXVsdDogJ1N1bicoc3RhcnQgb24gU3VuZGF5KSlcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgRGF0ZVBpY2tlciBmcm9tICd0dWktZGF0ZS1waWNrZXInIC8vIEVTNlxuICogLy8gY29uc3QgRGF0ZVBpY2tlciA9IHJlcXVpcmUoJ3R1aS1kYXRlLXBpY2tlcicpOyAvLyBDb21tb25KU1xuICogLy8gY29uc3QgRGF0ZVBpY2tlciA9IHR1aS5EYXRlUGlja2VyO1xuICpcbiAqIGNvbnN0IHJhbmdlMSA9IFtuZXcgRGF0ZSgyMDE1LCAyLCAxKSwgbmV3IERhdGUoMjAxNSwgMywgMSldO1xuICogY29uc3QgcmFuZ2UyID0gWzE0NjU1NzA4MDAwMDAsIDE0ODEyNjYxODIxNTVdOyAvLyB0aW1lc3RhbXBzXG4gKlxuICogY29uc3QgcGlja2VyMSA9IG5ldyBEYXRlUGlja2VyKCcjZGF0ZXBpY2tlci1jb250YWluZXIxJywge1xuICogICAgIHNob3dBbHdheXM6IHRydWVcbiAqIH0pO1xuICpcbiAqIGNvbnN0IHBpY2tlcjIgPSBuZXcgRGF0ZVBpY2tlcignI2RhdGVwaWNrZXItY29udGFpbmVyMicsIHtcbiAqICAgIHNob3dBbHdheXM6IHRydWUsXG4gKiAgICB0aW1lUGlja2VyOiB0cnVlXG4gKiB9KTtcbiAqXG4gKiBjb25zdCBwaWNrZXIzID0gbmV3IERhdGVQaWNrZXIoJyNkYXRlcGlja2VyLWNvbnRhaW5lcjMnLCB7XG4gKiAgICAgbGFuZ3VhZ2U6ICdrbycsXG4gKiAgICAgY2FsZW5kYXI6IHtcbiAqICAgICAgICAgc2hvd1RvZGF5OiB0cnVlXG4gKiAgICAgfSxcbiAqICAgICB0aW1lUGlja2VyOiB7XG4gKiAgICAgICAgIHNob3dNZXJpZGllbTogdHJ1ZSxcbiAqICAgICAgICAgZGVmYXVsdEhvdXI6IDEzLFxuICogICAgICAgICBkZWZhdWx0TWludXRlOiAyNFxuICogICAgIH0sXG4gKiAgICAgaW5wdXQ6IHtcbiAqICAgICAgICAgZWxlbWVudDogJyNkYXRlcGlja2VyLWlucHV0JyxcbiAqICAgICAgICAgZm9ybWF0OiAneXl5eeuFhCBNTeyblCBkZOydvCBoaDptbSBBJ1xuICogICAgIH1cbiAqICAgICB0eXBlOiAnZGF0ZScsXG4gKiAgICAgZGF0ZTogbmV3IERhdGUoMjAxNSwgMCwgMSlcbiAqICAgICBzZWxlY3RhYmxlUmFuZ2VzOiBbcmFuZ2UxLCByYW5nZTJdLFxuICogICAgIG9wZW5lcnM6IFsnI29wZW5lciddLFxuICogICAgIHdlZWtTdGFydERheTogJ01vbicsXG4gKiB9KTtcbiAqL1xudmFyIERhdGVQaWNrZXIgPSBkZWZpbmVDbGFzcyhcbiAgLyoqIEBsZW5kcyBEYXRlUGlja2VyLnByb3RvdHlwZSAqLyB7XG4gICAgc3RhdGljOiB7XG4gICAgICAvKipcbiAgICAgICAqIExvY2FsZSB0ZXh0IGRhdGEuIEVuZ2xpc2goJ2VuJykgYW5kIEtvcmVhbigna28nKSBhcmUgcHJvdmlkZWQgYXMgZGVmYXVsdC5cbiAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgKiBAbWVtYmVyb2YgRGF0ZVBpY2tlclxuICAgICAgICogQHN0YXRpY1xuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIERhdGVQaWNrZXIubG9jYWxlVGV4dHNbJ2N1c3RvbUtleSddID0ge1xuICAgICAgICogICAgIHRpdGxlczoge1xuICAgICAgICogICAgICAgICAvLyBkYXlzXG4gICAgICAgKiAgICAgICAgIEREOiBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J10sXG4gICAgICAgKiAgICAgICAgIC8vIGRheXNTaG9ydFxuICAgICAgICogICAgICAgICBEOiBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddLFxuICAgICAgICogICAgICAgICAvLyBtb250aHNcbiAgICAgICAqICAgICAgICAgTU1NTTogW1xuICAgICAgICogICAgICAgICAgICAgJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLFxuICAgICAgICogICAgICAgICAgICAgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ1xuICAgICAgICogICAgICAgICBdLFxuICAgICAgICogICAgICAgICAvLyBtb250aHNTaG9ydFxuICAgICAgICogICAgICAgICBNTU06IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXVxuICAgICAgICogICAgIH0sXG4gICAgICAgKiAgICAgdGl0bGVGb3JtYXQ6ICdNTU0geXl5eScsXG4gICAgICAgKiAgICAgdG9kYXlGb3JtYXQ6ICdELCBNTU1NIGRkLCB5eXl5JyxcbiAgICAgICAqICAgICBkYXRlOiAnRGF0ZScsXG4gICAgICAgKiAgICAgdGltZTogJ1RpbWUnXG4gICAgICAgKiB9O1xuICAgICAgICpcbiAgICAgICAqIGNvbnN0IGRhdGVwaWNrZXIgPSBuZXcgRGF0ZVBpY2tlcignI2RhdGVwaWNrZXItY29udGFpbmVyJywge1xuICAgICAgICogICAgIGxhbmd1YWdlOiAnY3VzdG9tS2V5J1xuICAgICAgICogfSk7XG4gICAgICAgKi9cbiAgICAgIGxvY2FsZVRleHRzOiBsb2NhbGVUZXh0c1xuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24oY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gbWVyZ2VEZWZhdWx0T3B0aW9uKG9wdGlvbnMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIExhbmd1YWdlIHR5cGVcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9sYW5ndWFnZSA9IG9wdGlvbnMubGFuZ3VhZ2U7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGF0ZVBpY2tlciBjb250YWluZXJcbiAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IHV0aWwuZ2V0RWxlbWVudChjb250YWluZXIpO1xuICAgICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IHRtcGwoXG4gICAgICAgIGV4dGVuZChvcHRpb25zLCB7XG4gICAgICAgICAgaXNUYWI6IG9wdGlvbnMudGltZVBpY2tlciAmJiBvcHRpb25zLnRpbWVQaWNrZXIubGF5b3V0VHlwZSA9PT0gJ3RhYidcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGF0ZVBpY2tlciBlbGVtZW50XG4gICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fY29udGFpbmVyLmZpcnN0Q2hpbGQ7XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsZW5kYXIgaW5zdGFuY2VcbiAgICAgICAqIEB0eXBlIHtDYWxlbmRhcn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2NhbGVuZGFyID0gbmV3IENhbGVuZGFyKFxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfQ0FMRU5EQVJfQ09OVEFJTkVSKSxcbiAgICAgICAgZXh0ZW5kKG9wdGlvbnMuY2FsZW5kYXIsIHtcbiAgICAgICAgICB1c2FnZVN0YXRpc3RpY3M6IG9wdGlvbnMudXNhZ2VTdGF0aXN0aWNzLFxuICAgICAgICAgIHdlZWtTdGFydERheTogb3B0aW9ucy53ZWVrU3RhcnREYXlcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGltZVBpY2tlciBpbnN0YW5jZVxuICAgICAgICogQHR5cGUge1RpbWVQaWNrZXJ9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl90aW1lUGlja2VyID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBEYXRlUGlja2VyIGlucHV0XG4gICAgICAgKiBAdHlwZSB7RGF0ZVBpY2tlcklucHV0fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fZGF0ZXBpY2tlcklucHV0ID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBPYmplY3QgaGF2aW5nIGRhdGUgdmFsdWVzXG4gICAgICAgKiBAdHlwZSB7RGF0ZX1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2RhdGUgPSBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIFNlbGVjdGFibGUgZGF0ZS1yYW5nZXMgbW9kZWxcbiAgICAgICAqIEB0eXBlIHtSYW5nZU1vZGVsfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fcmFuZ2VNb2RlbCA9IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogb3BlbmVycyAtIG9wZW5lciBsaXN0XG4gICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9vcGVuZXJzID0gW107XG5cbiAgICAgIC8qKlxuICAgICAgICogU3RhdGUgb2YgcGlja2VyIGVuYWJsZVxuICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9pc0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAvKipcbiAgICAgICAqIElEIG9mIGluc3RhbmNlXG4gICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5faWQgPSAndHVpLWRhdGVwaWNrZXItJyArIHV0aWwuZ2VuZXJhdGVJZCgpO1xuXG4gICAgICAvKipcbiAgICAgICAqIERhdGVQaWNrZXIgdHlwZVxuICAgICAgICogQHR5cGUge1RZUEVfREFURXxUWVBFX01PTlRIfFRZUEVfWUVBUn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3R5cGUgPSBvcHRpb25zLnR5cGU7XG5cbiAgICAgIC8qKlxuICAgICAgICogU2hvdyBhbHdheXMgb3Igbm90XG4gICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgdGhpcy5zaG93QWx3YXlzID0gb3B0aW9ucy5zaG93QWx3YXlzO1xuXG4gICAgICAvKipcbiAgICAgICAqIENsb3NlIGFmdGVyIHNlbGVjdCBhIGRhdGVcbiAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICovXG4gICAgICB0aGlzLmF1dG9DbG9zZSA9IG9wdGlvbnMuYXV0b0Nsb3NlO1xuXG4gICAgICB0aGlzLl9pbml0aWFsaXplRGF0ZVBpY2tlcihvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBtZXRob2RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uIC0gdXNlciBvcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplRGF0ZVBpY2tlcjogZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICB0aGlzLnNldFJhbmdlcyhvcHRpb24uc2VsZWN0YWJsZVJhbmdlcyk7XG4gICAgICB0aGlzLl9zZXRFdmVudHMoKTtcbiAgICAgIHRoaXMuX2luaXRUaW1lUGlja2VyKG9wdGlvbi50aW1lUGlja2VyLCBvcHRpb24udXNhZ2VTdGF0aXN0aWNzKTtcbiAgICAgIHRoaXMuc2V0SW5wdXQob3B0aW9uLmlucHV0LmVsZW1lbnQpO1xuICAgICAgdGhpcy5zZXREYXRlRm9ybWF0KG9wdGlvbi5pbnB1dC5mb3JtYXQpO1xuICAgICAgdGhpcy5zZXREYXRlKG9wdGlvbi5kYXRlKTtcblxuICAgICAgZm9yRWFjaEFycmF5KG9wdGlvbi5vcGVuZXJzLCB0aGlzLmFkZE9wZW5lciwgdGhpcyk7XG4gICAgICBpZiAoIXRoaXMuc2hvd0Fsd2F5cykge1xuICAgICAgICB0aGlzLl9oaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmdldFR5cGUoKSA9PT0gVFlQRV9EQVRFKSB7XG4gICAgICAgIGFkZENsYXNzKHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9CT0RZKSwgJ3R1aS1kYXRlcGlja2VyLXR5cGUtZGF0ZScpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgZXZlbnRzIG9uIHRoZSBkYXRlIHBpY2tlcidzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uIC0gQ29uc3RydWN0b3Igb3B0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0RXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIG1vdXNlVG91Y2hFdmVudC5vbih0aGlzLl9lbGVtZW50LCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrSGFuZGxlciwgdGhpcyk7XG4gICAgICB0aGlzLl9jYWxlbmRhci5vbignZHJhdycsIHRoaXMuX29uRHJhd0NhbGVuZGFyLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGV2ZW50cyBvbiB0aGUgZGF0ZSBwaWNrZXIncyBlbGVtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIG1vdXNlVG91Y2hFdmVudC5vZmYodGhpcy5fZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5fb25DbGlja0hhbmRsZXIsIHRoaXMpO1xuICAgICAgdGhpcy5fY2FsZW5kYXIub2ZmKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBldmVudHMgb24gdGhlIGRvY3VtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0RG9jdW1lbnRFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgbW91c2VUb3VjaEV2ZW50Lm9uKGRvY3VtZW50LCAnbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZWRvd25Eb2N1bWVudCwgdGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBldmVudHMgb24gdGhlIGRvY3VtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlRG9jdW1lbnRFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgbW91c2VUb3VjaEV2ZW50Lm9mZihkb2N1bWVudCwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2Vkb3duRG9jdW1lbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgZXZlbnRzIG9uIHRoZSBvcGVuZXJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBvcGVuZXIgQW4gb3BlbmVyIHRvIGJpbmQgdGhlIGV2ZW50c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldE9wZW5lckV2ZW50czogZnVuY3Rpb24ob3BlbmVyKSB7XG4gICAgICBtb3VzZVRvdWNoRXZlbnQub24ob3BlbmVyLCAnY2xpY2snLCB0aGlzLnRvZ2dsZSwgdGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBldmVudHMgb24gdGhlIG9wZW5lclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG9wZW5lciBBbiBvcGVuZXIgdG8gdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW1vdmVPcGVuZXJFdmVudHM6IGZ1bmN0aW9uKG9wZW5lcikge1xuICAgICAgbW91c2VUb3VjaEV2ZW50Lm9mZihvcGVuZXIsICdjbGljaycsIHRoaXMudG9nZ2xlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IFRpbWVQaWNrZXIgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBvcFRpbWVQaWNrZXIgLSBUaW1lUGlja2VyIGluc3RhbmNlIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzYWdlU3RhdGlzdGljcyAtIEdBIHRyYWNraW5nIG9wdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0VGltZVBpY2tlcjogZnVuY3Rpb24ob3BUaW1lUGlja2VyLCB1c2FnZVN0YXRpc3RpY3MpIHtcbiAgICAgIHZhciBsYXlvdXRUeXBlO1xuICAgICAgaWYgKCFvcFRpbWVQaWNrZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsYXlvdXRUeXBlID0gb3BUaW1lUGlja2VyLmxheW91dFR5cGUgfHwgJyc7XG5cbiAgICAgIGlmIChpc09iamVjdChvcFRpbWVQaWNrZXIpKSB7XG4gICAgICAgIG9wVGltZVBpY2tlci51c2FnZVN0YXRpc3RpY3MgPSB1c2FnZVN0YXRpc3RpY3M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcFRpbWVQaWNrZXIgPSB7XG4gICAgICAgICAgdXNhZ2VTdGF0aXN0aWNzOiB1c2FnZVN0YXRpc3RpY3NcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fdGltZVBpY2tlciA9IG5ldyBUaW1lUGlja2VyKFxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfVElNRVBJQ0tFUl9DT05UQUlORVIpLFxuICAgICAgICBvcFRpbWVQaWNrZXJcbiAgICAgICk7XG5cbiAgICAgIGlmIChsYXlvdXRUeXBlLnRvTG93ZXJDYXNlKCkgPT09ICd0YWInKSB7XG4gICAgICAgIHRoaXMuX3RpbWVQaWNrZXIuaGlkZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl90aW1lUGlja2VyLm9uKFxuICAgICAgICAnY2hhbmdlJyxcbiAgICAgICAgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICB2YXIgcHJldkRhdGU7XG4gICAgICAgICAgaWYgKHRoaXMuX2RhdGUpIHtcbiAgICAgICAgICAgIHByZXZEYXRlID0gbmV3IERhdGUodGhpcy5fZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnNldERhdGUocHJldkRhdGUuc2V0SG91cnMoZXYuaG91ciwgZXYubWludXRlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgcGlja2VyJ3MgdHlwZSBieSBhIHNlbGVjdG9yIGJ1dHRvbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgQSB0YXJnZXQgZWxlbWVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NoYW5nZVBpY2tlcjogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICB2YXIgYnRuU2VsZWN0b3IgPSAnLicgKyBDTEFTU19OQU1FX1NFTEVDVE9SX0JVVFRPTjtcbiAgICAgIHZhciBzZWxlY3RlZEJ0biA9IGNsb3Nlc3QodGFyZ2V0LCBidG5TZWxlY3Rvcik7XG4gICAgICB2YXIgaXNEYXRlRWxlbWVudCA9ICEhc2VsZWN0ZWRCdG4ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9EQVRFX0lDTyk7XG5cbiAgICAgIGlmIChpc0RhdGVFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2NhbGVuZGFyLnNob3coKTtcbiAgICAgICAgdGhpcy5fdGltZVBpY2tlci5oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5oaWRlKCk7XG4gICAgICAgIHRoaXMuX3RpbWVQaWNrZXIuc2hvdygpO1xuICAgICAgfVxuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIENMQVNTX05BTUVfQ0hFQ0tFRCksIENMQVNTX05BTUVfQ0hFQ0tFRCk7XG4gICAgICBhZGRDbGFzcyhzZWxlY3RlZEJ0biwgQ0xBU1NfTkFNRV9DSEVDS0VEKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBlbGVtZW50IGlzIG9wZW5lclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCBvciBzZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2lzT3BlbmVyOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgZWwgPSB1dGlsLmdldEVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgIHJldHVybiBpbkFycmF5KGVsLCB0aGlzLl9vcGVuZXJzKSA+IC0xO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBhZGQvcmVtb3ZlIHRvZGF5LWNsYXNzLW5hbWUgdG8gZGF0ZSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgLSBkYXRlIGVsZW1lbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRUb2RheUNsYXNzTmFtZTogZnVuY3Rpb24oZWwpIHtcbiAgICAgIHZhciB0aW1lc3RhbXAsIGlzVG9kYXk7XG5cbiAgICAgIGlmICh0aGlzLmdldENhbGVuZGFyVHlwZSgpICE9PSBUWVBFX0RBVEUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aW1lc3RhbXAgPSBOdW1iZXIoZ2V0RGF0YShlbCwgJ3RpbWVzdGFtcCcpKTtcbiAgICAgIGlzVG9kYXkgPSB0aW1lc3RhbXAgPT09IG5ldyBEYXRlKCkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgICAgIGlmIChpc1RvZGF5KSB7XG4gICAgICAgIGFkZENsYXNzKGVsLCBDTEFTU19OQU1FX1RPREFZKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKGVsLCBDTEFTU19OQU1FX1RPREFZKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYWRkL3JlbW92ZSBzZWxlY3RhYmxlLWNsYXNzLW5hbWUgdG8gZGF0ZSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgLSBkYXRlIGVsZW1lbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTZWxlY3RhYmxlQ2xhc3NOYW1lOiBmdW5jdGlvbihlbCkge1xuICAgICAgdmFyIGVsRGF0ZSA9IG5ldyBEYXRlKE51bWJlcihnZXREYXRhKGVsLCAndGltZXN0YW1wJykpKTtcblxuICAgICAgaWYgKHRoaXMuX2lzU2VsZWN0YWJsZU9uQ2FsZW5kYXIoZWxEYXRlKSkge1xuICAgICAgICBhZGRDbGFzcyhlbCwgQ0xBU1NfTkFNRV9TRUxFQ1RBQkxFKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsIENMQVNTX05BTUVfQkxPQ0tFRCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVDbGFzcyhlbCwgQ0xBU1NfTkFNRV9TRUxFQ1RBQkxFKTtcbiAgICAgICAgYWRkQ2xhc3MoZWwsIENMQVNTX05BTUVfQkxPQ0tFRCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZC9yZW1vdmUgc2VsZWN0ZWQtY2xhc3MtbmFtZSB0byBkYXRlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIGRhdGUgZWxlbWVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNlbGVjdGVkQ2xhc3NOYW1lOiBmdW5jdGlvbihlbCkge1xuICAgICAgdmFyIGVsRGF0ZSA9IG5ldyBEYXRlKE51bWJlcihnZXREYXRhKGVsLCAndGltZXN0YW1wJykpKTtcblxuICAgICAgaWYgKHRoaXMuX2lzU2VsZWN0ZWRPbkNhbGVuZGFyKGVsRGF0ZSkpIHtcbiAgICAgICAgYWRkQ2xhc3MoZWwsIENMQVNTX05BTUVfU0VMRUNURUQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsIENMQVNTX05BTUVfU0VMRUNURUQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGRhdGUgaXMgc2VsZWN0YWJsZSBvbiBjYWxlbmRhclxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIERhdGUgaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1NlbGVjdGFibGVPbkNhbGVuZGFyOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0Q2FsZW5kYXJUeXBlKCk7XG4gICAgICB2YXIgc3RhcnQgPSBkYXRlVXRpbC5jbG9uZVdpdGhTdGFydE9mKGRhdGUsIHR5cGUpLmdldFRpbWUoKTtcbiAgICAgIHZhciBlbmQgPSBkYXRlVXRpbC5jbG9uZVdpdGhFbmRPZihkYXRlLCB0eXBlKS5nZXRUaW1lKCk7XG5cbiAgICAgIHJldHVybiB0aGlzLl9yYW5nZU1vZGVsLmhhc092ZXJsYXAoc3RhcnQsIGVuZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgZGF0ZSBpcyBzZWxlY3RlZCBvbiBjYWxlbmRhclxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIERhdGUgaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1NlbGVjdGVkT25DYWxlbmRhcjogZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgdmFyIGN1ckRhdGUgPSB0aGlzLmdldERhdGUoKTtcbiAgICAgIHZhciBjYWxlbmRhclR5cGUgPSB0aGlzLmdldENhbGVuZGFyVHlwZSgpO1xuXG4gICAgICByZXR1cm4gY3VyRGF0ZSAmJiBkYXRlVXRpbC5pc1NhbWUoY3VyRGF0ZSwgZGF0ZSwgY2FsZW5kYXJUeXBlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2hvdyB0aGUgZGF0ZSBwaWNrZXIgZWxlbWVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Nob3c6IGZ1bmN0aW9uKCkge1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5fZWxlbWVudCwgQ0xBU1NfTkFNRV9ISURERU4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHRoZSBkYXRlIHBpY2tlciBlbGVtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICBhZGRDbGFzcyh0aGlzLl9lbGVtZW50LCBDTEFTU19OQU1FX0hJRERFTik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB2YWx1ZSBhIGRhdGUtc3RyaW5nIG9mIGN1cnJlbnQgdGhpcyBpbnN0YW5jZSB0byBpbnB1dCBlbGVtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc3luY1RvSW5wdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLl9kYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZGF0ZXBpY2tlcklucHV0LnNldERhdGUodGhpcy5fZGF0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBkYXRlIGZyb20gaW5wdXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG91bGRSb2xsYmFjayA9IGZhbHNlXSAtIFNob3VsZCByb2xsYmFjayBmcm9tIHVuc2VsZWN0YWJsZSBvciBlcnJvclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3N5bmNGcm9tSW5wdXQ6IGZ1bmN0aW9uKHNob3VsZFJvbGxiYWNrKSB7XG4gICAgICB2YXIgaXNGYWlsZWQgPSBmYWxzZTtcbiAgICAgIHZhciBkYXRlO1xuXG4gICAgICB0cnkge1xuICAgICAgICBkYXRlID0gdGhpcy5fZGF0ZXBpY2tlcklucHV0LmdldERhdGUoKTtcblxuICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGFibGUoZGF0ZSkpIHtcbiAgICAgICAgICBpZiAodGhpcy5fdGltZVBpY2tlcikge1xuICAgICAgICAgICAgdGhpcy5fdGltZVBpY2tlci5zZXRUaW1lKGRhdGUuZ2V0SG91cnMoKSwgZGF0ZS5nZXRNaW51dGVzKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNldERhdGUoZGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNGYWlsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy5maXJlKCdlcnJvcicsIHtcbiAgICAgICAgICB0eXBlOiAnUGFyc2luZ0Vycm9yJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgaXNGYWlsZWQgPSB0cnVlO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGlzRmFpbGVkKSB7XG4gICAgICAgICAgaWYgKHNob3VsZFJvbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLl9zeW5jVG9JbnB1dCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldE51bGwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXZlbnQgaGFuZGxlciBmb3IgbW91c2Vkb3duIG9mIGRvY3VtZW50PGJyPlxuICAgICAqIC0gV2hlbiBjbGljayB0aGUgb3V0IG9mIGxheWVyLCBjbG9zZSB0aGUgbGF5ZXJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldiAtIEV2ZW50IG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uTW91c2Vkb3duRG9jdW1lbnQ6IGZ1bmN0aW9uKGV2KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdXRpbC5nZXRUYXJnZXQoZXYpO1xuICAgICAgdmFyIHNlbGVjdG9yID0gdXRpbC5nZXRTZWxlY3Rvcih0YXJnZXQpO1xuICAgICAgdmFyIGlzQ29udGFpbiA9IHNlbGVjdG9yID8gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSA6IGZhbHNlO1xuICAgICAgdmFyIGlzSW5wdXQgPSB0aGlzLl9kYXRlcGlja2VySW5wdXQuaXModGFyZ2V0KTtcbiAgICAgIHZhciBpc0luT3BlbmVyID0gaW5BcnJheSh0YXJnZXQsIHRoaXMuX29wZW5lcnMpID4gLTE7XG4gICAgICB2YXIgc2hvdWxkQ2xvc2UgPSAhKHRoaXMuc2hvd0Fsd2F5cyB8fCBpc0lucHV0IHx8IGlzQ29udGFpbiB8fCBpc0luT3BlbmVyKTtcblxuICAgICAgaWYgKHNob3VsZENsb3NlKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgb2YgY2FsZW5kYXJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldiBBbiBldmVudCBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkNsaWNrSGFuZGxlcjogZnVuY3Rpb24oZXYpIHtcbiAgICAgIHZhciB0YXJnZXQgPSB1dGlsLmdldFRhcmdldChldik7XG5cbiAgICAgIGlmIChjbG9zZXN0KHRhcmdldCwgJy4nICsgQ0xBU1NfTkFNRV9TRUxFQ1RBQkxFKSkge1xuICAgICAgICB0aGlzLl91cGRhdGVEYXRlKHRhcmdldCk7XG4gICAgICB9IGVsc2UgaWYgKGNsb3Nlc3QodGFyZ2V0LCBTRUxFQ1RPUl9DQUxFTkRBUl9USVRMRSkpIHtcbiAgICAgICAgdGhpcy5kcmF3VXBwZXJDYWxlbmRhcih0aGlzLl9kYXRlKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xvc2VzdCh0YXJnZXQsICcuJyArIENMQVNTX05BTUVfU0VMRUNUT1JfQlVUVE9OKSkge1xuICAgICAgICB0aGlzLl9jaGFuZ2VQaWNrZXIodGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGRhdGUgZnJvbSBldmVudC10YXJnZXRcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgQW4gZXZlbnQgdGFyZ2V0IGVsZW1lbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVEYXRlOiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgIHZhciB0aW1lc3RhbXAgPSBOdW1iZXIoZ2V0RGF0YSh0YXJnZXQsICd0aW1lc3RhbXAnKSk7XG4gICAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7XG4gICAgICB2YXIgdGltZVBpY2tlciA9IHRoaXMuX3RpbWVQaWNrZXI7XG4gICAgICB2YXIgcHJldkRhdGUgPSB0aGlzLl9kYXRlO1xuICAgICAgdmFyIGNhbGVuZGFyVHlwZSA9IHRoaXMuZ2V0Q2FsZW5kYXJUeXBlKCk7XG4gICAgICB2YXIgcGlja2VyVHlwZSA9IHRoaXMuZ2V0VHlwZSgpO1xuXG4gICAgICBpZiAoY2FsZW5kYXJUeXBlICE9PSBwaWNrZXJUeXBlKSB7XG4gICAgICAgIHRoaXMuZHJhd0xvd2VyQ2FsZW5kYXIobmV3RGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGltZVBpY2tlcikge1xuICAgICAgICAgIG5ld0RhdGUuc2V0SG91cnModGltZVBpY2tlci5nZXRIb3VyKCksIHRpbWVQaWNrZXIuZ2V0TWludXRlKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZEYXRlKSB7XG4gICAgICAgICAgbmV3RGF0ZS5zZXRIb3VycyhwcmV2RGF0ZS5nZXRIb3VycygpLCBwcmV2RGF0ZS5nZXRNaW51dGVzKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0RGF0ZShuZXdEYXRlKTtcblxuICAgICAgICBpZiAoIXRoaXMuc2hvd0Fsd2F5cyAmJiB0aGlzLmF1dG9DbG9zZSkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBoYW5kbGVyIGZvciAnZHJhdyctY3VzdG9tIGV2ZW50IG9mIGNhbGVuZGFyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50RGF0YSAtIGN1c3RvbSBldmVudCBkYXRhXG4gICAgICogQHNlZSB7QGxpbmsgQ2FsZW5kYXIjZHJhd31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkRyYXdDYWxlbmRhcjogZnVuY3Rpb24oZXZlbnREYXRhKSB7XG4gICAgICBmb3JFYWNoQXJyYXkoXG4gICAgICAgIGV2ZW50RGF0YS5kYXRlRWxlbWVudHMsXG4gICAgICAgIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgdGhpcy5fc2V0VG9kYXlDbGFzc05hbWUoZWwpO1xuICAgICAgICAgIHRoaXMuX3NldFNlbGVjdGFibGVDbGFzc05hbWUoZWwpO1xuICAgICAgICAgIHRoaXMuX3NldFNlbGVjdGVkQ2xhc3NOYW1lKGVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NldERpc3BsYXlIZWFkQnV0dG9ucygpO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9jY3VyIGFmdGVyIHRoZSBjYWxlbmRhciBpcyBkcmF3bi5cbiAgICAgICAqIEBldmVudCBEYXRlUGlja2VyI2RyYXdcbiAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkuY29kZS1zbmlwcGV0L2xhdGVzdC9DdXN0b21FdmVudHMjb24gZGF0ZXBpY2tlci5vbigpfSB0byBiaW5kIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jb2RlLXNuaXBwZXQvbGF0ZXN0L0N1c3RvbUV2ZW50cyNvZmYgZGF0ZXBpY2tlci5vZmYoKX0gdG8gdW5iaW5kIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICogQHNlZSBSZWZlciB0byB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jb2RlLXNuaXBwZXQvbGF0ZXN0L0N1c3RvbUV2ZW50cyBDdXN0b21FdmVudHMgZnJvbSB0dWktY29kZS1zbmlwcGV0fSBmb3IgbW9yZSBtZXRob2RzLiBEYXRlUGlja2VyIG1peGVzIGluIHRoZSBtZXRob2RzIGZyb20gQ3VzdG9tRXZlbnRzLlxuICAgICAgICogQHByb3BlcnR5IHtEYXRlfSBkYXRlIC0gQ2FsZW5kYXIgZGF0ZVxuICAgICAgICogQHByb3BlcnR5IHsoJ2RhdGUnfCdtb250aCd8J3llYXInKX0gdHlwZSAtIENhbGVuZGFyIHR5cGVcbiAgICAgICAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnRbXX0gZGF0ZUVsZW1lbnRzIC0gZWxlbWVudHMgZm9yIGRhdGVzXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogLy8gYmluZCB0aGUgJ2RyYXcnIGV2ZW50XG4gICAgICAgKiBkYXRlcGlja2VyLm9uKCdkcmF3JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAqICAgICBjb25zb2xlLmxvZyhgRHJhdyB0aGUgJHtldmVudC50eXBlfSBjYWxlbmRhciBhbmQgaXRzIGRhdGUgaXMgJHtldmVudC5kYXRlfS5gKTtcbiAgICAgICAqIH0pO1xuICAgICAgICpcbiAgICAgICAqIC8vIHVuYmluZCB0aGUgJ2RyYXcnIGV2ZW50XG4gICAgICAgKiBkYXRlcGlja2VyLm9mZignZHJhdycpO1xuICAgICAgICovXG4gICAgICB0aGlzLmZpcmUoJ2RyYXcnLCBldmVudERhdGEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHVzZWxlc3MgYnV0dG9ucyAobmV4dCwgbmV4dC15ZWFyLCBwcmV2LCBwcmV2LXllYXIpXG4gICAgICogQHNlZSBEb24ndCBzYXZlIGJ1dHRvbnMgcmVmZXJlbmNlLiBUaGUgYnV0dG9ucyBhcmUgcmVyZW5kZXJlZCBldmVyeSBcImNhbGVuZGFyLmRyYXdcIi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXREaXNwbGF5SGVhZEJ1dHRvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5leHRZZWFyRGF0ZSA9IHRoaXMuX2NhbGVuZGFyLmdldE5leHRZZWFyRGF0ZSgpO1xuICAgICAgdmFyIHByZXZZZWFyRGF0ZSA9IHRoaXMuX2NhbGVuZGFyLmdldFByZXZZZWFyRGF0ZSgpO1xuICAgICAgdmFyIG1heFRpbWVzdGFtcCA9IHRoaXMuX3JhbmdlTW9kZWwuZ2V0TWF4aW11bVZhbHVlKCk7XG4gICAgICB2YXIgbWluVGltZXN0YW1wID0gdGhpcy5fcmFuZ2VNb2RlbC5nZXRNaW5pbXVtVmFsdWUoKTtcbiAgICAgIHZhciBuZXh0WWVhckJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBDTEFTU19OQU1FX05FWFRfWUVBUl9CVE4pO1xuICAgICAgdmFyIHByZXZZZWFyQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIENMQVNTX05BTUVfUFJFVl9ZRUFSX0JUTik7XG4gICAgICB2YXIgbmV4dE1vbnRoRGF0ZSwgcHJldk1vbnRoRGF0ZSwgbmV4dE1vbkJ0biwgcHJldk1vbkJ0bjtcblxuICAgICAgaWYgKHRoaXMuZ2V0Q2FsZW5kYXJUeXBlKCkgPT09IFRZUEVfREFURSkge1xuICAgICAgICBuZXh0TW9udGhEYXRlID0gZGF0ZVV0aWwuY2xvbmVXaXRoU3RhcnRPZih0aGlzLl9jYWxlbmRhci5nZXROZXh0RGF0ZSgpLCBUWVBFX01PTlRIKTtcbiAgICAgICAgcHJldk1vbnRoRGF0ZSA9IGRhdGVVdGlsLmNsb25lV2l0aEVuZE9mKHRoaXMuX2NhbGVuZGFyLmdldFByZXZEYXRlKCksIFRZUEVfTU9OVEgpO1xuXG4gICAgICAgIG5leHRNb25CdG4gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgQ0xBU1NfTkFNRV9ORVhUX01PTlRIX0JUTik7XG4gICAgICAgIHByZXZNb25CdG4gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgQ0xBU1NfTkFNRV9QUkVWX01PTlRIX0JUTik7XG5cbiAgICAgICAgdGhpcy5fc2V0RGlzcGxheShuZXh0TW9uQnRuLCBuZXh0TW9udGhEYXRlLmdldFRpbWUoKSA8PSBtYXhUaW1lc3RhbXApO1xuICAgICAgICB0aGlzLl9zZXREaXNwbGF5KHByZXZNb25CdG4sIHByZXZNb250aERhdGUuZ2V0VGltZSgpID49IG1pblRpbWVzdGFtcCk7XG5cbiAgICAgICAgcHJldlllYXJEYXRlLnNldERhdGUoMSk7XG4gICAgICAgIG5leHRZZWFyRGF0ZS5zZXREYXRlKDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldlllYXJEYXRlLnNldE1vbnRoKDEyLCAwKTtcbiAgICAgICAgbmV4dFllYXJEYXRlLnNldE1vbnRoKDAsIDEpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zZXREaXNwbGF5KG5leHRZZWFyQnRuLCBuZXh0WWVhckRhdGUuZ2V0VGltZSgpIDw9IG1heFRpbWVzdGFtcCk7XG4gICAgICB0aGlzLl9zZXREaXNwbGF5KHByZXZZZWFyQnRuLCBwcmV2WWVhckRhdGUuZ2V0VGltZSgpID49IG1pblRpbWVzdGFtcCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBkaXNwbGF5IHNob3cvaGlkZSBieSBjb25kaXRpb25cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIEFuIEVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNob3VsZFNob3cgLSBDb25kaXRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXREaXNwbGF5OiBmdW5jdGlvbihlbCwgc2hvdWxkU2hvdykge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGlmIChzaG91bGRTaG93KSB7XG4gICAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsIENMQVNTX05BTUVfSElEREVOKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRDbGFzcyhlbCwgQ0xBU1NfTkFNRV9ISURERU4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIElucHV0IGNoYW5nZSBoYW5kbGVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICAgKi9cbiAgICBfb25DaGFuZ2VJbnB1dDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9zeW5jRnJvbUlucHV0KHRydWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGRhdGUgaXMgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIERhdGVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc0NoYW5nZWQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHZhciBwcmV2RGF0ZSA9IHRoaXMuZ2V0RGF0ZSgpO1xuXG4gICAgICByZXR1cm4gIXByZXZEYXRlIHx8IGRhdGUuZ2V0VGltZSgpICE9PSBwcmV2RGF0ZS5nZXRUaW1lKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggZGF0ZXBpY2tlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlZnJlc2hGcm9tUmFuZ2VzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5pc1NlbGVjdGFibGUodGhpcy5fZGF0ZSkpIHtcbiAgICAgICAgdGhpcy5zZXROdWxsKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5kcmF3KCk7IC8vIHZpZXcgdXBkYXRlXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY3VycmVudCBjYWxlbmRhcidzIHR5cGUuXG4gICAgICogQHJldHVybnMgeygnZGF0ZSd8J21vbnRoJ3wneWVhcicpfVxuICAgICAqL1xuICAgIGdldENhbGVuZGFyVHlwZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FsZW5kYXIuZ2V0VHlwZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGRhdGUgcGlja2VyJ3MgdHlwZS5cbiAgICAgKiBAcmV0dXJucyB7KCdkYXRlJ3wnbW9udGgnfCd5ZWFyJyl9XG4gICAgICovXG4gICAgZ2V0VHlwZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHdoZXRoZXIgdGhlIGRhdGUgaXMgc2VsZWN0YWJsZS5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGUgLSBEYXRlIHRvIGNoZWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaXNTZWxlY3RhYmxlOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0VHlwZSgpO1xuICAgICAgdmFyIHN0YXJ0LCBlbmQ7XG5cbiAgICAgIGlmICghZGF0ZVV0aWwuaXNWYWxpZERhdGUoZGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBkYXRlVXRpbC5jbG9uZVdpdGhTdGFydE9mKGRhdGUsIHR5cGUpLmdldFRpbWUoKTtcbiAgICAgIGVuZCA9IGRhdGVVdGlsLmNsb25lV2l0aEVuZE9mKGRhdGUsIHR5cGUpLmdldFRpbWUoKTtcblxuICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlTW9kZWwuaGFzT3ZlcmxhcChzdGFydCwgZW5kKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHdoZXRoZXIgdGhlIGRhdGUgaXMgc2VsZWN0ZWQuXG4gICAgICogQHBhcmFtIHtEYXRlfSBkYXRlIC0gRGF0ZSB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzU2VsZWN0ZWQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHJldHVybiBkYXRlVXRpbC5pc1ZhbGlkRGF0ZShkYXRlKSAmJiBkYXRlVXRpbC5pc1NhbWUodGhpcy5fZGF0ZSwgZGF0ZSwgdGhpcy5nZXRUeXBlKCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgc2VsZWN0YWJsZSByYW5nZXMuIFByZXZpb3VzIHJhbmdlcyB3aWxsIGJlIHJlbW92ZWQuXG4gICAgICogQHBhcmFtIHtBcnJheS48QXJyYXk8RGF0ZXxudW1iZXI+Pn0gcmFuZ2VzIC0gU2VsZWN0YWJsZSByYW5nZXMuIFVzZSBEYXRlIGluc3RhbmNlcyBvciBudW1iZXJzKHRpbWVzdGFtcCkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBkYXRlcGlja2VyLnNldFJhbmdlcyhbXG4gICAgICogICAgIFtuZXcgRGF0ZSgyMDE3LCAwLCAxKSwgbmV3IERhdGUoMjAxOCwgMCwgMildLFxuICAgICAqICAgICBbbmV3IERhdGUoMjAxNSwgMiwgMyksIG5ldyBEYXRlKDIwMTYsIDQsIDIpXVxuICAgICAqIF0pO1xuICAgICAqL1xuICAgIHNldFJhbmdlczogZnVuY3Rpb24ocmFuZ2VzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3JFYWNoQXJyYXkocmFuZ2VzLCBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZShyYW5nZVswXSkuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgZW5kID0gbmV3IERhdGUocmFuZ2VbMV0pLmdldFRpbWUoKTtcblxuICAgICAgICByZXN1bHQucHVzaChbc3RhcnQsIGVuZF0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3JhbmdlTW9kZWwgPSBuZXcgUmFuZ2VNb2RlbChyZXN1bHQpO1xuICAgICAgdGhpcy5fcmVmcmVzaEZyb21SYW5nZXMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjYWxlbmRhcidzIHR5cGUuXG4gICAgICogQHBhcmFtIHsoJ2RhdGUnfCdtb250aCd8J3llYXInKX0gdHlwZSAtIENhbGVuZGFyIHR5cGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGRhdGVwaWNrZXIuc2V0VHlwZSgnbW9udGgnKTtcbiAgICAgKi9cbiAgICBzZXRUeXBlOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgc2VsZWN0YWJsZSByYW5nZS4gVXNlIERhdGUgaW5zdGFuY2VzIG9yIG51bWJlcnModGltZXN0YW1wKS5cbiAgICAgKiBAcGFyYW0ge0RhdGV8bnVtYmVyfSBzdGFydCAtIHRoZSBzdGFydCBkYXRlXG4gICAgICogQHBhcmFtIHtEYXRlfG51bWJlcn0gZW5kIC0gdGhlIGVuZCBkYXRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzdGFydCA9IG5ldyBEYXRlKDIwMTUsIDEsIDMpO1xuICAgICAqIGNvbnN0IGVuZCA9IG5ldyBEYXRlKDIwMTUsIDIsIDYpO1xuICAgICAqXG4gICAgICogZGF0ZXBpY2tlci5hZGRSYW5nZShzdGFydCwgZW5kKTtcbiAgICAgKi9cbiAgICBhZGRSYW5nZTogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSBuZXcgRGF0ZShzdGFydCkuZ2V0VGltZSgpO1xuICAgICAgZW5kID0gbmV3IERhdGUoZW5kKS5nZXRUaW1lKCk7XG5cbiAgICAgIHRoaXMuX3JhbmdlTW9kZWwuYWRkKHN0YXJ0LCBlbmQpO1xuICAgICAgdGhpcy5fcmVmcmVzaEZyb21SYW5nZXMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgcmFuZ2UuIFVzZSBEYXRlIGluc3RhbmNlcyBvciBudW1iZXJzKHRpbWVzdGFtcCkuXG4gICAgICogQHBhcmFtIHtEYXRlfG51bWJlcn0gc3RhcnQgLSB0aGUgc3RhcnQgZGF0ZVxuICAgICAqIEBwYXJhbSB7RGF0ZXxudW1iZXJ9IGVuZCAtIHRoZSBlbmQgZGF0ZVxuICAgICAqIEBwYXJhbSB7bnVsbHwnZGF0ZSd8J21vbnRoJ3wneWVhcid9IHR5cGUgLSBSYW5nZSB0eXBlLiBJZiBmYWxzeSwgc3RhcnQgYW5kIGVuZCB2YWx1ZXMgYXJlIGNvbnNpZGVyZWQgYXMgdGltZXN0YW1wXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzdGFydCA9IG5ldyBEYXRlKDIwMTUsIDEsIDMpO1xuICAgICAqIGNvbnN0IGVuZCA9IG5ldyBEYXRlKDIwMTUsIDIsIDYpO1xuICAgICAqXG4gICAgICogZGF0ZXBpY2tlci5yZW1vdmVSYW5nZShzdGFydCwgZW5kKTtcbiAgICAgKi9cbiAgICByZW1vdmVSYW5nZTogZnVuY3Rpb24oc3RhcnQsIGVuZCwgdHlwZSkge1xuICAgICAgc3RhcnQgPSBuZXcgRGF0ZShzdGFydCk7XG4gICAgICBlbmQgPSBuZXcgRGF0ZShlbmQpO1xuXG4gICAgICBpZiAodHlwZSkge1xuICAgICAgICAvLyBAdG9kbyBDb25zaWRlciB0aW1lLXJhbmdlIG9uIHRpbWVQaWNrZXJcbiAgICAgICAgc3RhcnQgPSBkYXRlVXRpbC5jbG9uZVdpdGhTdGFydE9mKHN0YXJ0LCB0eXBlKTtcbiAgICAgICAgZW5kID0gZGF0ZVV0aWwuY2xvbmVXaXRoRW5kT2YoZW5kLCB0eXBlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcmFuZ2VNb2RlbC5leGNsdWRlKHN0YXJ0LmdldFRpbWUoKSwgZW5kLmdldFRpbWUoKSk7XG4gICAgICB0aGlzLl9yZWZyZXNoRnJvbVJhbmdlcygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gb3BlbmVyLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBvcGVuZXIgLSBlbGVtZW50IG9yIHNlbGVjdG9yIG9mIG9wZW5lclxuICAgICAqL1xuICAgIGFkZE9wZW5lcjogZnVuY3Rpb24ob3BlbmVyKSB7XG4gICAgICBvcGVuZXIgPSB1dGlsLmdldEVsZW1lbnQob3BlbmVyKTtcblxuICAgICAgaWYgKCF0aGlzLl9pc09wZW5lcihvcGVuZXIpKSB7XG4gICAgICAgIHRoaXMuX29wZW5lcnMucHVzaChvcGVuZXIpO1xuICAgICAgICB0aGlzLl9zZXRPcGVuZXJFdmVudHMob3BlbmVyKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuIG9wZW5lci5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fHN0cmluZ30gb3BlbmVyIC0gZWxlbWVudCBvciBzZWxlY3RvciBvZiBvcGVuZXJcbiAgICAgKi9cbiAgICByZW1vdmVPcGVuZXI6IGZ1bmN0aW9uKG9wZW5lcikge1xuICAgICAgdmFyIGluZGV4O1xuXG4gICAgICBvcGVuZXIgPSB1dGlsLmdldEVsZW1lbnQob3BlbmVyKTtcbiAgICAgIGluZGV4ID0gaW5BcnJheShvcGVuZXIsIHRoaXMuX29wZW5lcnMpO1xuXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVPcGVuZXJFdmVudHMob3BlbmVyKTtcbiAgICAgICAgdGhpcy5fb3BlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIG9wZW5lcnMuXG4gICAgICovXG4gICAgcmVtb3ZlQWxsT3BlbmVyczogZnVuY3Rpb24oKSB7XG4gICAgICBmb3JFYWNoQXJyYXkoXG4gICAgICAgIHRoaXMuX29wZW5lcnMsXG4gICAgICAgIGZ1bmN0aW9uKG9wZW5lcikge1xuICAgICAgICAgIHRoaXMuX3JlbW92ZU9wZW5lckV2ZW50cyhvcGVuZXIpO1xuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgICAgdGhpcy5fb3BlbmVycyA9IFtdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBPcGVuIHRoZSBkYXRlIHBpY2tlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGRhdGVwaWNrZXIub3BlbigpO1xuICAgICAqL1xuICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuZWQoKSB8fCAhdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2FsZW5kYXIuZHJhdyh7XG4gICAgICAgIGRhdGU6IHRoaXMuX2RhdGUsXG4gICAgICAgIHR5cGU6IHRoaXMuX3R5cGVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc2hvdygpO1xuXG4gICAgICBpZiAoIXRoaXMuc2hvd0Fsd2F5cykge1xuICAgICAgICB0aGlzLl9zZXREb2N1bWVudEV2ZW50cygpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIE9jY3VyIGFmdGVyIHRoZSBkYXRlIHBpY2tlciBvcGVucy5cbiAgICAgICAqIEBldmVudCBEYXRlUGlja2VyI29wZW5cbiAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkuY29kZS1zbmlwcGV0L2xhdGVzdC9DdXN0b21FdmVudHMjb24gZGF0ZXBpY2tlci5vbigpfSB0byBiaW5kIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jb2RlLXNuaXBwZXQvbGF0ZXN0L0N1c3RvbUV2ZW50cyNvZmYgZGF0ZXBpY2tlci5vZmYoKX0gdG8gdW5iaW5kIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICogQHNlZSBSZWZlciB0byB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jb2RlLXNuaXBwZXQvbGF0ZXN0L0N1c3RvbUV2ZW50cyBDdXN0b21FdmVudHMgZnJvbSB0dWktY29kZS1zbmlwcGV0fSBmb3IgbW9yZSBtZXRob2RzLiBEYXRlUGlja2VyIG1peGVzIGluIHRoZSBtZXRob2RzIGZyb20gQ3VzdG9tRXZlbnRzLlxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIC8vIGJpbmQgdGhlICdvcGVuJyBldmVudFxuICAgICAgICogZGF0ZXBpY2tlci5vbignb3BlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICogICAgIGFsZXJ0KCdvcGVuJyk7XG4gICAgICAgKiB9KTtcbiAgICAgICAqXG4gICAgICAgKiAvLyB1bmJpbmQgdGhlICdvcGVuJyBldmVudFxuICAgICAgICogZGF0ZXBpY2tlci5vZmYoJ29wZW4nKTtcbiAgICAgICAqL1xuICAgICAgdGhpcy5maXJlKCdvcGVuJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJhaXNlIHRoZSBjYWxlbmRhciB0eXBlLiAoZGF0ZSAtPiBtb250aCAtPiB5ZWFyKVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gW2RhdGVdIC0gRGF0ZSB0byBzZXRcbiAgICAgKi9cbiAgICBkcmF3VXBwZXJDYWxlbmRhcjogZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgdmFyIGNhbGVuZGFyVHlwZSA9IHRoaXMuZ2V0Q2FsZW5kYXJUeXBlKCk7XG5cbiAgICAgIGlmIChjYWxlbmRhclR5cGUgPT09IFRZUEVfREFURSkge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5kcmF3KHtcbiAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgIHR5cGU6IFRZUEVfTU9OVEhcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGNhbGVuZGFyVHlwZSA9PT0gVFlQRV9NT05USCkge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5kcmF3KHtcbiAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgIHR5cGU6IFRZUEVfWUVBUlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTG93ZXIgdGhlIGNhbGVuZGFyIHR5cGUuICh5ZWFyIC0+IG1vbnRoIC0+IGRhdGUpXG4gICAgICogQHBhcmFtIHtEYXRlfSBbZGF0ZV0gLSBEYXRlIHRvIHNldFxuICAgICAqL1xuICAgIGRyYXdMb3dlckNhbGVuZGFyOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICB2YXIgY2FsZW5kYXJUeXBlID0gdGhpcy5nZXRDYWxlbmRhclR5cGUoKTtcbiAgICAgIHZhciBwaWNrZXJUeXBlID0gdGhpcy5nZXRUeXBlKCk7XG4gICAgICB2YXIgaXNMYXN0ID0gY2FsZW5kYXJUeXBlID09PSBwaWNrZXJUeXBlO1xuXG4gICAgICBpZiAoaXNMYXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGVuZGFyVHlwZSA9PT0gVFlQRV9NT05USCkge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5kcmF3KHtcbiAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgIHR5cGU6IFRZUEVfREFURVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoY2FsZW5kYXJUeXBlID09PSBUWVBFX1lFQVIpIHtcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIuZHJhdyh7XG4gICAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgICB0eXBlOiBUWVBFX01PTlRIXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgZGF0ZSBwaWNrZXIuXG4gICAgICogQGV4bWFwbGVcbiAgICAgKiBkYXRlcGlja2VyLmNsb3NlKCk7XG4gICAgICovXG4gICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmlzT3BlbmVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVtb3ZlRG9jdW1lbnRFdmVudHMoKTtcbiAgICAgIHRoaXMuX2hpZGUoKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBPY2N1ciBhZnRlciB0aGUgZGF0ZSBwaWNrZXIgY2xvc2VzLlxuICAgICAgICogQGV2ZW50IERhdGVQaWNrZXIjY2xvc2VcbiAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkuY29kZS1zbmlwcGV0L2xhdGVzdC9DdXN0b21FdmVudHMjb24gZGF0ZXBpY2tlci5vbigpfSB0byBiaW5kIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jb2RlLXNuaXBwZXQvbGF0ZXN0L0N1c3RvbUV2ZW50cyNvZmYgZGF0ZXBpY2tlci5vZmYoKX0gdG8gdW5iaW5kIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICogQHNlZSBSZWZlciB0byB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jb2RlLXNuaXBwZXQvbGF0ZXN0L0N1c3RvbUV2ZW50cyBDdXN0b21FdmVudHMgZnJvbSB0dWktY29kZS1zbmlwcGV0fSBmb3IgbW9yZSBtZXRob2RzLiBEYXRlUGlja2VyIG1peGVzIGluIHRoZSBtZXRob2RzIGZyb20gQ3VzdG9tRXZlbnRzLlxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIC8vIGJpbmQgdGhlICdjbG9zZScgZXZlbnRcbiAgICAgICAqIGRhdGVwaWNrZXIub24oJ2Nsb3NlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgKiAgICAgYWxlcnQoJ2Nsb3NlJyk7XG4gICAgICAgKiB9KTtcbiAgICAgICAqXG4gICAgICAgKiAvLyB1bmJpbmQgdGhlICdjbG9zZScgZXZlbnRcbiAgICAgICAqIGRhdGVwaWNrZXIub2ZmKCdjbG9zZScpO1xuICAgICAgICovXG4gICAgICB0aGlzLmZpcmUoJ2Nsb3NlJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSB0aGUgZGF0ZSBwaWNrZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBkYXRlcGlja2VyLnRvZ2dsZSgpO1xuICAgICAqL1xuICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc09wZW5lZCgpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHNlbGVjdGVkIGRhdGUuXG4gICAgICogQHJldHVybnMgez9EYXRlfSAtIHNlbGVjdGVkIGRhdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIDIwMTUtMDQtMTNcbiAgICAgKiBkYXRlcGlja2VyLmdldERhdGUoKTsgLy8gbmV3IERhdGUoMjAxNSwgMywgMTMpXG4gICAgICovXG4gICAgZ2V0RGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX2RhdGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLl9kYXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0IHRoZSBkYXRlLlxuICAgICAqIEBwYXJhbSB7RGF0ZXxudW1iZXJ9IGRhdGUgLSBEYXRlIGluc3RhbmNlIG9yIHRpbWVzdGFtcCB0byBzZXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGRhdGVwaWNrZXIuc2V0RGF0ZShuZXcgRGF0ZSgpKTsgLy8gU2V0IHRvZGF5XG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbiAgICBzZXREYXRlOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICB2YXIgaXNWYWxpZElucHV0LCBuZXdEYXRlLCBzaG91bGRVcGRhdGU7XG5cbiAgICAgIGlmIChkYXRlID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2V0TnVsbCgpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaXNWYWxpZElucHV0ID0gaXNOdW1iZXIoZGF0ZSkgfHwgaXNEYXRlKGRhdGUpO1xuICAgICAgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgc2hvdWxkVXBkYXRlID0gaXNWYWxpZElucHV0ICYmIHRoaXMuX2lzQ2hhbmdlZChuZXdEYXRlKSAmJiB0aGlzLmlzU2VsZWN0YWJsZShuZXdEYXRlKTtcblxuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgICAgIHRoaXMuX2RhdGUgPSBuZXdEYXRlO1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5kcmF3KHsgZGF0ZTogbmV3RGF0ZSB9KTtcbiAgICAgICAgaWYgKHRoaXMuX3RpbWVQaWNrZXIpIHtcbiAgICAgICAgICB0aGlzLl90aW1lUGlja2VyLnNldFRpbWUobmV3RGF0ZS5nZXRIb3VycygpLCBuZXdEYXRlLmdldE1pbnV0ZXMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3luY1RvSW5wdXQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogT2NjdXIgYWZ0ZXIgdGhlIHNlbGVjdGVkIGRhdGUgaXMgY2hhbmdlZC5cbiAgICAgICAgICogQGV2ZW50IERhdGVQaWNrZXIjY2hhbmdlXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkuY29kZS1zbmlwcGV0L2xhdGVzdC9DdXN0b21FdmVudHMjb24gZGF0ZXBpY2tlci5vbigpfSB0byBiaW5kIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL25obi5naXRodWIuaW8vdHVpLmNvZGUtc25pcHBldC9sYXRlc3QvQ3VzdG9tRXZlbnRzI29mZiBkYXRlcGlja2VyLm9mZigpfSB0byB1bmJpbmQgZXZlbnQgaGFuZGxlcnMuXG4gICAgICAgICAqIEBzZWUgUmVmZXIgdG8ge0BsaW5rIGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkuY29kZS1zbmlwcGV0L2xhdGVzdC9DdXN0b21FdmVudHMgQ3VzdG9tRXZlbnRzIGZyb20gdHVpLWNvZGUtc25pcHBldH0gZm9yIG1vcmUgbWV0aG9kcy4gRGF0ZVBpY2tlciBtaXhlcyBpbiB0aGUgbWV0aG9kcyBmcm9tIEN1c3RvbUV2ZW50cy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gYmluZCB0aGUgJ2NoYW5nZScgZXZlbnRcbiAgICAgICAgICogZGF0ZXBpY2tlci5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgICBjb25zb2xlLmxvZyhgU2VsZWN0ZWQgZGF0ZTogJHtkYXRlcGlja2VyLmdldERhdGUoKX1gKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIHVuYmluZCB0aGUgJ2NoYW5nZScgZXZlbnRcbiAgICAgICAgICogZGF0ZXBpY2tlci5vZmYoJ2NoYW5nZScpO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maXJlKCdjaGFuZ2UnKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IG5vIGRhdGUgdG8gYmUgc2VsZWN0ZWQuIChTZWxlY3RlZCBkYXRlOiBudWxsKVxuICAgICAqL1xuICAgIHNldE51bGw6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNhbGVuZGFyRGF0ZSA9IHRoaXMuX2NhbGVuZGFyLmdldERhdGUoKTtcbiAgICAgIHZhciBpc0NoYWduZWQgPSB0aGlzLl9kYXRlICE9PSBudWxsO1xuXG4gICAgICB0aGlzLl9kYXRlID0gbnVsbDtcblxuICAgICAgaWYgKHRoaXMuX2RhdGVwaWNrZXJJbnB1dCkge1xuICAgICAgICB0aGlzLl9kYXRlcGlja2VySW5wdXQuY2xlYXJUZXh0KCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fdGltZVBpY2tlcikge1xuICAgICAgICB0aGlzLl90aW1lUGlja2VyLnNldFRpbWUoMCwgMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFZpZXcgdXBkYXRlXG4gICAgICBpZiAoIXRoaXMuaXNTZWxlY3RhYmxlKGNhbGVuZGFyRGF0ZSkpIHtcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIuZHJhdyh7XG4gICAgICAgICAgZGF0ZTogbmV3IERhdGUodGhpcy5fcmFuZ2VNb2RlbC5nZXRNaW5pbXVtVmFsdWUoKSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5kcmF3KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0NoYWduZWQpIHtcbiAgICAgICAgdGhpcy5maXJlKCdjaGFuZ2UnKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0IHRoZSBkYXRlIGJ5IHRoZSBkYXRlIHN0cmluZyBmb3JtYXQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtmb3JtYXRdIC0gRGF0ZSBzdHJpbmcgZm9ybWF0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBkYXRlcGlja2VyLnNldERhdGVGb3JtYXQoJ3l5eXktTU0tZGQnKTtcbiAgICAgKiBkYXRlcGlja2VyLnNldERhdGVGb3JtYXQoJ01NLWRkLCB5eXl5Jyk7XG4gICAgICogZGF0ZXBpY2tlci5zZXREYXRlRm9ybWF0KCd5eS9NL2QnKTtcbiAgICAgKiBkYXRlcGlja2VyLnNldERhdGVGb3JtYXQoJ3l5L01NL2RkJyk7XG4gICAgICovXG4gICAgc2V0RGF0ZUZvcm1hdDogZnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgICB0aGlzLl9kYXRlcGlja2VySW5wdXQuc2V0Rm9ybWF0KGZvcm1hdCk7XG4gICAgICB0aGlzLl9zeW5jVG9JbnB1dCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGUgZGF0ZXBpY2tlciBvcGVucyBvciBub3RcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGRhdGVwaWNrZXIuY2xvc2UoKTtcbiAgICAgKiBkYXRlcGlja2VyLmlzT3BlbmVkKCk7IC8vIGZhbHNlXG4gICAgICpcbiAgICAgKiBkYXRlcGlja2VyLm9wZW4oKTtcbiAgICAgKiBkYXRlcGlja2VyLmlzT3BlbmVkKCk7IC8vIHRydWVcbiAgICAgKi9cbiAgICBpc09wZW5lZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIWhhc0NsYXNzKHRoaXMuX2VsZW1lbnQsIENMQVNTX05BTUVfSElEREVOKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB0aW1lIHBpY2tlciBpbnN0YW5jZVxuICAgICAqIEByZXR1cm5zIHs/VGltZVBpY2tlcn0gLSBUaW1lUGlja2VyIGluc3RhbmNlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS50aW1lLXBpY2tlci9sYXRlc3QgdHVpLXRpbWUtcGlja2VyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgdGltZVBpY2tlciA9IHRoaXMuZ2V0VGltZVBpY2tlcigpO1xuICAgICAqL1xuICAgIGdldFRpbWVQaWNrZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RpbWVQaWNrZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY2FsZW5kYXIgaW5zdGFuY2UuXG4gICAgICogQHNlZSB7QGxpbmsgY2FsZW5kYXIgQ2FsZW5kYXJ9XG4gICAgICogQHJldHVybnMge0NhbGVuZGFyfVxuICAgICAqL1xuICAgIGdldENhbGVuZGFyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWxlbmRhcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBsb2NhbGUgdGV4dCBvYmplY3QuXG4gICAgICogQHNlZSB7QGxpbmsgRGF0ZVBpY2tlciNsb2NhbGVUZXh0cyBEYXRlUGlja2VyLmxvY2FsZVRleHRzfVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgZ2V0TG9jYWxlVGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbG9jYWxlVGV4dHNbdGhpcy5fbGFuZ3VhZ2VdIHx8IGxvY2FsZVRleHRzW0RFRkFVTFRfTEFOR1VBR0VfVFlQRV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaW5wdXQgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxFbGVtZW50fSBlbGVtZW50IC0gSW5wdXQgZWxlbWVudCBvciBzZWxlY3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBJbnB1dCBvcHRpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZm9ybWF0ID0gcHJldklucHV0LmZvcm1hdF0gLSBGb3JtYXQgb2YgdGhlIERhdGUgc3RyaW5nIGluIHRoZSBpbnB1dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc3luY0Zyb21JbnB1dCA9IGZhbHNlXSAtIFdoZXRoZXIgc2V0IHRoZSBkYXRlIGZyb20gdGhlIGlucHV0XG4gICAgICovXG4gICAgc2V0SW5wdXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcmV2ID0gdGhpcy5fZGF0ZXBpY2tlcklucHV0O1xuICAgICAgdmFyIGxvY2FsZVRleHQgPSB0aGlzLmdldExvY2FsZVRleHQoKTtcbiAgICAgIHZhciBwcmV2Rm9ybWF0O1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgIHByZXZGb3JtYXQgPSBwcmV2LmdldEZvcm1hdCgpO1xuICAgICAgICBwcmV2LmRlc3Ryb3koKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZGF0ZXBpY2tlcklucHV0ID0gbmV3IERhdGVQaWNrZXJJbnB1dChlbGVtZW50LCB7XG4gICAgICAgIGZvcm1hdDogb3B0aW9ucy5mb3JtYXQgfHwgcHJldkZvcm1hdCxcbiAgICAgICAgaWQ6IHRoaXMuX2lkLFxuICAgICAgICBsb2NhbGVUZXh0OiBsb2NhbGVUZXh0XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fZGF0ZXBpY2tlcklucHV0Lm9uKFxuICAgICAgICB7XG4gICAgICAgICAgY2hhbmdlOiB0aGlzLl9vbkNoYW5nZUlucHV0LFxuICAgICAgICAgIGNsaWNrOiB0aGlzLm9wZW5cbiAgICAgICAgfSxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcblxuICAgICAgaWYgKG9wdGlvbnMuc3luY0Zyb21JbnB1dCkge1xuICAgICAgICB0aGlzLl9zeW5jRnJvbUlucHV0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zeW5jVG9JbnB1dCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdGhlIGRhdGUgcGlja2VyLlxuICAgICAqL1xuICAgIGVuYWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLl9kYXRlcGlja2VySW5wdXQuZW5hYmxlKCk7XG5cbiAgICAgIGZvckVhY2hBcnJheShcbiAgICAgICAgdGhpcy5fb3BlbmVycyxcbiAgICAgICAgZnVuY3Rpb24ob3BlbmVyKSB7XG4gICAgICAgICAgb3BlbmVyLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICB0aGlzLl9zZXRPcGVuZXJFdmVudHMob3BlbmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSB0aGUgZGF0ZSBwaWNrZXIuXG4gICAgICovXG4gICAgZGlzYWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX2lzRW5hYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgdGhpcy5fZGF0ZXBpY2tlcklucHV0LmRpc2FibGUoKTtcblxuICAgICAgZm9yRWFjaEFycmF5KFxuICAgICAgICB0aGlzLl9vcGVuZXJzLFxuICAgICAgICBmdW5jdGlvbihvcGVuZXIpIHtcbiAgICAgICAgICBvcGVuZXIuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgIHRoaXMuX3JlbW92ZU9wZW5lckV2ZW50cyhvcGVuZXIpO1xuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGUgZGF0ZSBwaWNrZXIgaXMgZGlzYWJsZWRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0Rpc2FibGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIEB0b2RvIHRoaXMuX2lzRW5hYmxlZCAtLT4gdGhpcy5faXNEaXNhYmxlZFxuICAgICAgcmV0dXJuICF0aGlzLl9pc0VuYWJsZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgQ1NTIGNsYXNzIHRvIHRoZSBkYXRlIHBpY2tlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIC0gQ2xhc3MgbmFtZVxuICAgICAqL1xuICAgIGFkZENzc0NsYXNzOiBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgIGFkZENsYXNzKHRoaXMuX2VsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIENTUyBjbGFzcyBmcm9tIHRoZSBkYXRlIHBpY2tlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIC0gQ2xhc3MgbmFtZVxuICAgICAqL1xuICAgIHJlbW92ZUNzc0NsYXNzOiBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgIHJlbW92ZUNsYXNzKHRoaXMuX2VsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZGF0ZSBlbGVtZW50cyBvbiB0aGUgY2FsZW5kYXIuXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAgICovXG4gICAgZ2V0RGF0ZUVsZW1lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci5nZXREYXRlRWxlbWVudHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBmaXJzdCBvdmVybGFwcGVkIHJhbmdlIGZyb20gdGhlIHBvaW50IG9yIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7RGF0ZXxudW1iZXJ9IHN0YXJ0RGF0ZSAtIFN0YXJ0IGRhdGUgdG8gZmluZCBvdmVybGFwcGVkIHJhbmdlXG4gICAgICogQHBhcmFtIHtEYXRlfG51bWJlcn0gZW5kRGF0ZSAtIEVuZCBkYXRlIHRvIGZpbmQgb3ZlcmxhcHBlZCByYW5nZVxuICAgICAqIEByZXR1cm5zIHtBcnJheS48RGF0ZT59IC0gXFxbc3RhcnREYXRlLCBlbmREYXRlXVxuICAgICAqL1xuICAgIGZpbmRPdmVybGFwcGVkUmFuZ2U6IGZ1bmN0aW9uKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuICAgICAgdmFyIHN0YXJ0VGltZXN0YW1wID0gbmV3IERhdGUoc3RhcnREYXRlKS5nZXRUaW1lKCk7XG4gICAgICB2YXIgZW5kVGltZXN0YW1wID0gbmV3IERhdGUoZW5kRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgdmFyIG92ZXJsYXBwZWRSYW5nZSA9IHRoaXMuX3JhbmdlTW9kZWwuZmluZE92ZXJsYXBwZWRSYW5nZShzdGFydFRpbWVzdGFtcCwgZW5kVGltZXN0YW1wKTtcblxuICAgICAgcmV0dXJuIFtuZXcgRGF0ZShvdmVybGFwcGVkUmFuZ2VbMF0pLCBuZXcgRGF0ZShvdmVybGFwcGVkUmFuZ2VbMV0pXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIGxhbmd1YWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIExhbmd1YWdlIGNvZGUuIEVuZ2xpc2goJ2VuJykgYW5kIEtvcmVhbigna28nKSBhcmUgcHJvdmlkZWQgYXMgZGVmYXVsdC5cbiAgICAgKiBAc2VlIFRvIHNldCB0byB0aGUgb3RoZXIgbGFuZ3VhZ2VzLCB1c2Uge0BsaW5rIERhdGVQaWNrZXIjbG9jYWxlVGV4dHMgRGF0ZVBpY2tlci5sb2NhbGVUZXh0c30uXG4gICAgICovXG4gICAgY2hhbmdlTGFuZ3VhZ2U6IGZ1bmN0aW9uKGxhbmd1YWdlKSB7XG4gICAgICB0aGlzLl9sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICAgICAgdGhpcy5fY2FsZW5kYXIuY2hhbmdlTGFuZ3VhZ2UodGhpcy5fbGFuZ3VhZ2UpO1xuICAgICAgdGhpcy5fZGF0ZXBpY2tlcklucHV0LmNoYW5nZUxvY2FsZVRpdGxlcyh0aGlzLmdldExvY2FsZVRleHQoKS50aXRsZXMpO1xuICAgICAgdGhpcy5zZXREYXRlRm9ybWF0KHRoaXMuX2RhdGVwaWNrZXJJbnB1dC5nZXRGb3JtYXQoKSk7XG5cbiAgICAgIGlmICh0aGlzLl90aW1lUGlja2VyKSB7XG4gICAgICAgIHRoaXMuX3RpbWVQaWNrZXIuY2hhbmdlTGFuZ3VhZ2UodGhpcy5fbGFuZ3VhZ2UpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBkYXRlIHBpY2tlci5cbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3JlbW92ZURvY3VtZW50RXZlbnRzKCk7XG4gICAgICB0aGlzLl9jYWxlbmRhci5kZXN0cm95KCk7XG4gICAgICBpZiAodGhpcy5fdGltZVBpY2tlcikge1xuICAgICAgICB0aGlzLl90aW1lUGlja2VyLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9kYXRlcGlja2VySW5wdXQpIHtcbiAgICAgICAgdGhpcy5fZGF0ZXBpY2tlcklucHV0LmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50cygpO1xuICAgICAgcmVtb3ZlRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsT3BlbmVycygpO1xuXG4gICAgICB0aGlzLl9jYWxlbmRhciA9IHRoaXMuX3RpbWVQaWNrZXIgPSB0aGlzLl9kYXRlcGlja2VySW5wdXQgPSB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZGF0ZSA9IHRoaXMuX3JhbmdlTW9kZWwgPSB0aGlzLl9vcGVuZXJzID0gdGhpcy5faXNFbmFibGVkID0gdGhpcy5faWQgPSBudWxsO1xuICAgIH1cbiAgfVxuKTtcblxuQ3VzdG9tRXZlbnRzLm1peGluKERhdGVQaWNrZXIpO1xubW9kdWxlLmV4cG9ydHMgPSBEYXRlUGlja2VyO1xuXG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYW4gb2JqZWN0IG9yIG5vdC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGFuIG9iamVjdCBvciBub3QuXG4gKiBJZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYW4gb2JqZWN0LCByZXR1cm4gdHJ1ZS5cbiAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIG9iamVjdD9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICovXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gT2JqZWN0KG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG5cblxuLyoqKi8gfSksXG4vKiAyMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBFeGVjdXRlIHRoZSBwcm92aWRlZCBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHByb3BlcnR5IG9mIG9iamVjdCB3aGljaCBhY3R1YWxseSBleGlzdC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG4vKipcbiAqIEV4ZWN1dGUgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggcHJvcGVydHkgb2Ygb2JqZWN0IHdoaWNoIGFjdHVhbGx5IGV4aXN0LlxuICogSWYgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UsIHRoZSBsb29wIHdpbGwgYmUgc3RvcHBlZC5cbiAqIENhbGxiYWNrIGZ1bmN0aW9uKGl0ZXJhdGVlKSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICogIDEpIFRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHlcbiAqICAyKSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHlcbiAqICAzKSBUaGUgb2JqZWN0IGJlaW5nIHRyYXZlcnNlZFxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRoYXQgd2lsbCBiZSB0cmF2ZXJzZWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGl0ZXJhdGVlICBDYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XSBDb250ZXh0KHRoaXMpIG9mIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmNvbGxlY3Rpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgZm9yRWFjaE93blByb3BlcnRpZXMgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2NvbGxlY3Rpb24vZm9yRWFjaE93blByb3BlcnRpZXMnKTsgLy8gbm9kZSwgY29tbW9uanNcbiAqXG4gKiB2YXIgc3VtID0gMDtcbiAqXG4gKiBmb3JFYWNoT3duUHJvcGVydGllcyh7YToxLGI6MixjOjN9LCBmdW5jdGlvbih2YWx1ZSl7XG4gKiAgICAgc3VtICs9IHZhbHVlO1xuICogfSk7XG4gKiBhbGVydChzdW0pOyAvLyA2XG4gKi9cbmZ1bmN0aW9uIGZvckVhY2hPd25Qcm9wZXJ0aWVzKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgdmFyIGtleTtcblxuICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgaWYgKGl0ZXJhdGVlLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZm9yRWFjaE93blByb3BlcnRpZXM7XG5cblxuLyoqKi8gfSksXG4vKiAyNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBTZXQgY2xhc3NOYW1lIHZhbHVlXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIGlzVW5kZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbi8qKlxuICogU2V0IGNsYXNzTmFtZSB2YWx1ZVxuICogQHBhcmFtIHsoSFRNTEVsZW1lbnR8U1ZHRWxlbWVudCl9IGVsZW1lbnQgLSB0YXJnZXQgZWxlbWVudFxuICogQHBhcmFtIHsoc3RyaW5nfHN0cmluZ1tdKX0gY3NzQ2xhc3MgLSBjbGFzcyBuYW1lc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2V0Q2xhc3NOYW1lKGVsZW1lbnQsIGNzc0NsYXNzKSB7XG4gIGNzc0NsYXNzID0gaXNBcnJheShjc3NDbGFzcykgPyBjc3NDbGFzcy5qb2luKCcgJykgOiBjc3NDbGFzcztcblxuICBjc3NDbGFzcyA9IGNzc0NsYXNzLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLCAnJyk7XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGVsZW1lbnQuY2xhc3NOYW1lLmJhc2VWYWwpKSB7XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzcztcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGVsZW1lbnQuY2xhc3NOYW1lLmJhc2VWYWwgPSBjc3NDbGFzcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRDbGFzc05hbWU7XG5cblxuLyoqKi8gfSksXG4vKiAyNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBGaW5kIHBhcmVudCBlbGVtZW50IHJlY3Vyc2l2ZWx5XG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIG1hdGNoZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxuLyoqXG4gKiBGaW5kIHBhcmVudCBlbGVtZW50IHJlY3Vyc2l2ZWx5XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gYmFzZSBlbGVtZW50IHRvIHN0YXJ0IGZpbmRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIHNlbGVjdG9yIHN0cmluZyBmb3IgZmluZFxuICogQHJldHVybnMge0hUTUxFbGVtZW50fSAtIGVsZW1lbnQgZmluZGVkIG9yIG51bGxcbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZG9tVXRpbFxuICovXG5mdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgaWYgKG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gZG9jdW1lbnQpIHtcbiAgICBpZiAobWF0Y2hlcyhwYXJlbnQsIHNlbGVjdG9yKSkge1xuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG5cbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb3Nlc3Q7XG5cblxuLyoqKi8gfSksXG4vKiAyNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBHZXQgZGF0YSB2YWx1ZSBmcm9tIGRhdGEtYXR0cmlidXRlXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGNvbnZlcnRUb0tlYmFiQ2FzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG4vKipcbiAqIEdldCBkYXRhIHZhbHVlIGZyb20gZGF0YS1hdHRyaWJ1dGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSB0YXJnZXQgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIGtleVxuICogQHJldHVybnMge3N0cmluZ30gdmFsdWVcbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZG9tVXRpbFxuICovXG5mdW5jdGlvbiBnZXREYXRhKGVsZW1lbnQsIGtleSkge1xuICBpZiAoZWxlbWVudC5kYXRhc2V0KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZGF0YXNldFtrZXldO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLScgKyBjb252ZXJ0VG9LZWJhYkNhc2Uoa2V5KSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RGF0YTtcblxuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENoZWNrIGVsZW1lbnQgaGFzIHNwZWNpZmljIGNzcyBjbGFzc1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBpbkFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBnZXRDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXG4vKipcbiAqIENoZWNrIGVsZW1lbnQgaGFzIHNwZWNpZmljIGNzcyBjbGFzc1xuICogQHBhcmFtIHsoSFRNTEVsZW1lbnR8U1ZHRWxlbWVudCl9IGVsZW1lbnQgLSB0YXJnZXQgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGNzc0NsYXNzIC0gY3NzIGNsYXNzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZG9tVXRpbFxuICovXG5mdW5jdGlvbiBoYXNDbGFzcyhlbGVtZW50LCBjc3NDbGFzcykge1xuICB2YXIgb3JpZ2luO1xuXG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjc3NDbGFzcyk7XG4gIH1cblxuICBvcmlnaW4gPSBnZXRDbGFzcyhlbGVtZW50KS5zcGxpdCgvXFxzKy8pO1xuXG4gIHJldHVybiBpbkFycmF5KGNzc0NsYXNzLCBvcmlnaW4pID4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzQ2xhc3M7XG5cblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlIG9yIG5vdC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGFuIGluc3RhbmNlIG9mIERhdGUgb3Igbm90LlxuICogSWYgdGhlIGdpdmVuIHZhcmlhYmxlcyBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCByZXR1cm4gdHJ1ZS5cbiAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIGFuIGluc3RhbmNlIG9mIERhdGU/XG4gKiBAbWVtYmVyb2YgbW9kdWxlOnR5cGVcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKG9iaikge1xuICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRGF0ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0RhdGU7XG5cblxuLyoqKi8gfSksXG4vKiAyOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDYWxlbmRhciBjb21wb25lbnRcbiAqIEBhdXRob3IgTkhOLiBGRSBkZXYgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBkZWZpbmVDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQ3VzdG9tRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBhZGRDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xudmFyIGhhc0NsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG52YXIgcmVtb3ZlQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciByZW1vdmVFbGVtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG52YXIgZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIEhlYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xudmFyIEJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcbnZhciBsb2NhbGVUZXh0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xudmFyIGNvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgZGF0ZVV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgREVGQVVMVF9XRUVLX1NUQVJUX0RBWSA9IGNvbnN0YW50cy5ERUZBVUxUX1dFRUtfU1RBUlRfREFZO1xudmFyIERFRkFVTFRfTEFOR1VBR0VfVFlQRSA9IGNvbnN0YW50cy5ERUZBVUxUX0xBTkdVQUdFX1RZUEU7XG5cbnZhciBUWVBFX0RBVEUgPSBjb25zdGFudHMuVFlQRV9EQVRFO1xudmFyIFRZUEVfTU9OVEggPSBjb25zdGFudHMuVFlQRV9NT05USDtcbnZhciBUWVBFX1lFQVIgPSBjb25zdGFudHMuVFlQRV9ZRUFSO1xuXG52YXIgQ0xBU1NfTkFNRV9QUkVWX01PTlRIX0JUTiA9IGNvbnN0YW50cy5DTEFTU19OQU1FX1BSRVZfTU9OVEhfQlROO1xudmFyIENMQVNTX05BTUVfUFJFVl9ZRUFSX0JUTiA9IGNvbnN0YW50cy5DTEFTU19OQU1FX1BSRVZfWUVBUl9CVE47XG52YXIgQ0xBU1NfTkFNRV9ORVhUX1lFQVJfQlROID0gY29uc3RhbnRzLkNMQVNTX05BTUVfTkVYVF9ZRUFSX0JUTjtcbnZhciBDTEFTU19OQU1FX05FWFRfTU9OVEhfQlROID0gY29uc3RhbnRzLkNMQVNTX05BTUVfTkVYVF9NT05USF9CVE47XG5cbnZhciBDTEFTU19OQU1FX0NBTEVOREFSX01PTlRIID0gJ3R1aS1jYWxlbmRhci1tb250aCc7XG52YXIgQ0xBU1NfTkFNRV9DQUxFTkRBUl9ZRUFSID0gJ3R1aS1jYWxlbmRhci15ZWFyJztcbnZhciBDTEFTU19OQU1FX0hJRERFTiA9ICd0dWktaGlkZGVuJztcblxudmFyIEhFQURFUl9TRUxFQ1RPUiA9ICcudHVpLWNhbGVuZGFyLWhlYWRlcic7XG52YXIgQk9EWV9TRUxFQ1RPUiA9ICcudHVpLWNhbGVuZGFyLWJvZHknO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGUgYSBjYWxlbmRhciBieSB7QGxpbmsgRGF0ZVBpY2tlciNjcmVhdGVDYWxlbmRhciBEYXRlUGlja2VyLmNyZWF0ZUNhbGVuZGFyKCl9LlxuICogQHNlZSB7QGxpbmsgL3R1dG9yaWFsLWV4YW1wbGUwNy1jYWxlbmRhciBDYWxlbmRhciBleGFtcGxlfVxuICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IGNvbnRhaW5lciAtIENvbnRhaW5lciBvciBzZWxlY3RvciBvZiB0aGUgQ2FsZW5kYXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBDYWxlbmRhciBvcHRpb25zXG4gKiAgICAgQHBhcmFtIHtEYXRlfSBbb3B0aW9ucy5kYXRlID0gbmV3IERhdGUoKV0gLSBJbml0aWFsIGRhdGUgKGRlZmF1bHQ6IHRvZGF5KVxuICogICAgIEBwYXJhbSB7KCdkYXRlJ3wnbW9udGgnfCd5ZWFyJyl9IFtvcHRpb25zLnR5cGUgPSAnZGF0ZSddIC0gQ2FsZW5kYXIgdHlwZS4gRGV0ZXJtaW5lIHdoZXRoZXIgdG8gc2hvdyBhIGRhdGUsIG1vbnRoLCBvciB5ZWFyLlxuICogICAgIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYW5ndWFnZSA9ICdlbiddIC0gTGFuZ3VhZ2UgY29kZS4gRW5nbGlzaCgnZW4nKSBhbmQgS29yZWFuKCdrbycpIGFyZSBwcm92aWRlZCBhcyBkZWZhdWx0LiBUbyB1c2UgdGhlIG90aGVyIGxhbmd1YWdlcywgdXNlIHtAbGluayBEYXRlUGlja2VyI2xvY2FsZVRleHRzIERhdGVQaWNrZXIubG9jYWxlVGV4dHN9LlxuICogICAgIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hvd1RvZGF5ID0gdHJ1ZV0gLSBTaG93IHRvZGF5LlxuICogICAgIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hvd0p1bXBCdXR0b25zID0gZmFsc2VdIC0gU2hvdyB0aGUgeWVhcmx5IGp1bXAgYnV0dG9ucyAobW92ZSB0byB0aGUgcHJldmlvdXMgYW5kIG5leHQgeWVhciBpbiAnZGF0ZScgQ2FsZW5kYXIpXG4gKiAgICAgQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51c2FnZVN0YXRpc3RpY3MgPSB0cnVlXSAtIFNlbmQgYSBob3N0bmFtZSB0byBHb29nbGUgQW5hbHl0aWNzIChkZWZhdWx0OiB0cnVlKVxuICogICAgIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy53ZWVrU3RhcnREYXkgPSAnU3VuJ10gLSBTdGFydCBvZiB0aGUgd2Vlay4gJ1N1bicsICdNb24nLCAuLi4sICdTYXQnKGRlZmF1bHQ6ICdTdW4nKHN0YXJ0IG9uIFN1bmRheSkpXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IERhdGVQaWNrZXIgZnJvbSAndHVpLWRhdGUtcGlja2VyJyAvLyBFUzZcbiAqIC8vIGNvbnN0IERhdGVQaWNrZXIgPSByZXF1aXJlKCd0dWktZGF0ZS1waWNrZXInKTsgLy8gQ29tbW9uSlNcbiAqIC8vIGNvbnN0IERhdGVQaWNrZXIgPSB0dWkuRGF0ZVBpY2tlcjtcbiAqXG4gKiBjb25zdCBjYWxlbmRhciA9IERhdGVQaWNrZXIuY3JlYXRlQ2FsZW5kYXIoJyNjYWxlbmRhci13cmFwcGVyJywge1xuICogICAgIGxhbmd1YWdlOiAnZW4nLFxuICogICAgIHNob3dUb2RheTogdHJ1ZSxcbiAqICAgICBzaG93SnVtcEJ1dHRvbnM6IGZhbHNlLFxuICogICAgIGRhdGU6IG5ldyBEYXRlKCksXG4gKiAgICAgdHlwZTogJ2RhdGUnLFxuICogICAgIHdlZWtTdGFydERheTogJ01vbicsXG4gKiB9KTtcbiAqXG4gKiBjYWxlbmRhci5vbignZHJhdycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgICAgY29uc29sZS5sb2coZXZlbnQuZGF0ZSk7XG4gKiAgICAgY29uc29sZS5sb2coZXZlbnQudHlwZSk7XG4gKiAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGV2ZW50LmRhdGVFbGVtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICogICAgICAgICBjb25zdCBlbCA9IGV2ZW50LmRhdGVFbGVtZW50c1tpXTtcbiAqICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGdldERhdGEoZWwsICd0aW1lc3RhbXAnKSk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGRhdGUpO1xuICogICAgIH1cbiAqIH0pO1xuICovXG52YXIgQ2FsZW5kYXIgPSBkZWZpbmVDbGFzcyhcbiAgLyoqIEBsZW5kcyBDYWxlbmRhci5wcm90b3R5cGUgKi8ge1xuICAgIHN0YXRpYzoge1xuICAgICAgbG9jYWxlVGV4dHM6IGxvY2FsZVRleHRzXG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbihjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBleHRlbmQoXG4gICAgICAgIHtcbiAgICAgICAgICBsYW5ndWFnZTogREVGQVVMVF9MQU5HVUFHRV9UWVBFLFxuICAgICAgICAgIHNob3dUb2RheTogdHJ1ZSxcbiAgICAgICAgICBzaG93SnVtcEJ1dHRvbnM6IGZhbHNlLFxuICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdHlwZTogVFlQRV9EQVRFLFxuICAgICAgICAgIHVzYWdlU3RhdGlzdGljczogdHJ1ZSxcbiAgICAgICAgICB3ZWVrU3RhcnREYXk6IERFRkFVTFRfV0VFS19TVEFSVF9EQVlcbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBDb250YWluZXIgZWxlbWVudFxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gdXRpbC5nZXRFbGVtZW50KGNvbnRhaW5lcik7XG4gICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID1cbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ0dWktY2FsZW5kYXJcIj4nICtcbiAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwidHVpLWNhbGVuZGFyLWhlYWRlclwiPjwvZGl2PicgK1xuICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJ0dWktY2FsZW5kYXItYm9keVwiPjwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+JztcblxuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcGVyIGVsZW1lbnRcbiAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9jb250YWluZXIuZmlyc3RDaGlsZDtcblxuICAgICAgLyoqXG4gICAgICAgKiBEYXRlXG4gICAgICAgKiBAdHlwZSB7RGF0ZX1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2RhdGUgPSBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIExheWVyIHR5cGVcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl90eXBlID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBIZWFkZXIgYm94XG4gICAgICAgKiBAdHlwZSB7SGVhZGVyfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5faGVhZGVyID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBCb2R5IGJveFxuICAgICAgICogQHR5cGUge0JvZHl9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9ib2R5ID0gbnVsbDtcblxuICAgICAgdGhpcy5faW5pdEhlYWRlcihvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRCb2R5KG9wdGlvbnMpO1xuICAgICAgdGhpcy5kcmF3KHtcbiAgICAgICAgZGF0ZTogb3B0aW9ucy5kYXRlLFxuICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob3B0aW9ucy51c2FnZVN0YXRpc3RpY3MpIHtcbiAgICAgICAgdXRpbC5zZW5kSG9zdE5hbWUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEhlYWRlciBvcHRpb25zXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEhlYWRlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGhlYWRlckNvbnRhaW5lciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihIRUFERVJfU0VMRUNUT1IpO1xuXG4gICAgICB0aGlzLl9oZWFkZXIgPSBuZXcgSGVhZGVyKGhlYWRlckNvbnRhaW5lciwgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9oZWFkZXIub24oXG4gICAgICAgICdjbGljaycsXG4gICAgICAgIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgdmFyIHRhcmdldCA9IHV0aWwuZ2V0VGFyZ2V0KGV2KTtcbiAgICAgICAgICBpZiAoaGFzQ2xhc3ModGFyZ2V0LCBDTEFTU19OQU1FX1BSRVZfTU9OVEhfQlROKSkge1xuICAgICAgICAgICAgdGhpcy5kcmF3UHJldigpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3ModGFyZ2V0LCBDTEFTU19OQU1FX1BSRVZfWUVBUl9CVE4pKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNsaWNrUHJldlllYXIoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgQ0xBU1NfTkFNRV9ORVhUX01PTlRIX0JUTikpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd05leHQoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgQ0xBU1NfTkFNRV9ORVhUX1lFQVJfQlROKSkge1xuICAgICAgICAgICAgdGhpcy5fb25DbGlja05leHRZZWFyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGJvZHlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEJvZHkgb3B0aW9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRCb2R5OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgYm9keUNvbnRhaW5lciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihCT0RZX1NFTEVDVE9SKTtcblxuICAgICAgdGhpcy5fYm9keSA9IG5ldyBCb2R5KGJvZHlDb250YWluZXIsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjbGlja0hhbmRsZXIgLSBwcmV2IHllYXIgYnV0dG9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25DbGlja1ByZXZZZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmdldFR5cGUoKSA9PT0gVFlQRV9EQVRFKSB7XG4gICAgICAgIHRoaXMuZHJhdyh7XG4gICAgICAgICAgZGF0ZTogdGhpcy5fZ2V0UmVsYXRpdmVEYXRlKC0xMilcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRyYXdQcmV2KCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNsaWNrSGFuZGxlciAtIG5leHQgeWVhciBidXR0b25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkNsaWNrTmV4dFllYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuZ2V0VHlwZSgpID09PSBUWVBFX0RBVEUpIHtcbiAgICAgICAgdGhpcy5kcmF3KHtcbiAgICAgICAgICBkYXRlOiB0aGlzLl9nZXRSZWxhdGl2ZURhdGUoMTIpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kcmF3TmV4dCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGxheWVyIHR5cGUgaXMgdmFsaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIExheWVyIHR5cGUgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1ZhbGlkVHlwZTogZnVuY3Rpb24odHlwZSkge1xuICAgICAgcmV0dXJuIHR5cGUgPT09IFRZUEVfREFURSB8fCB0eXBlID09PSBUWVBFX01PTlRIIHx8IHR5cGUgPT09IFRZUEVfWUVBUjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtEYXRlfSBkYXRlIC0gRGF0ZSB0byBkcmF3XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBMYXllciB0eXBlIHRvIGRyYXdcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zaG91bGRVcGRhdGU6IGZ1bmN0aW9uKGRhdGUsIHR5cGUpIHtcbiAgICAgIHZhciBwcmV2RGF0ZSA9IHRoaXMuX2RhdGU7XG5cbiAgICAgIGlmICghZGF0ZVV0aWwuaXNWYWxpZERhdGUoZGF0ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGUnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pc1ZhbGlkVHlwZSh0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbGF5ZXIgdHlwZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICAhcHJldkRhdGUgfHxcbiAgICAgICAgcHJldkRhdGUuZ2V0RnVsbFllYXIoKSAhPT0gZGF0ZS5nZXRGdWxsWWVhcigpIHx8XG4gICAgICAgIHByZXZEYXRlLmdldE1vbnRoKCkgIT09IGRhdGUuZ2V0TW9udGgoKSB8fFxuICAgICAgICB0aGlzLmdldFR5cGUoKSAhPT0gdHlwZVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGhlYWRlciAmIGJvZHkgZWxlbWVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRhdGUgPSB0aGlzLl9kYXRlO1xuICAgICAgdmFyIHR5cGUgPSB0aGlzLmdldFR5cGUoKTtcblxuICAgICAgdGhpcy5faGVhZGVyLnJlbmRlcihkYXRlLCB0eXBlKTtcbiAgICAgIHRoaXMuX2JvZHkucmVuZGVyKGRhdGUsIHR5cGUpO1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5fZWxlbWVudCwgQ0xBU1NfTkFNRV9DQUxFTkRBUl9NT05USCwgQ0xBU1NfTkFNRV9DQUxFTkRBUl9ZRUFSKTtcblxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgVFlQRV9NT05USDpcbiAgICAgICAgICBhZGRDbGFzcyh0aGlzLl9lbGVtZW50LCBDTEFTU19OQU1FX0NBTEVOREFSX01PTlRIKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUWVBFX1lFQVI6XG4gICAgICAgICAgYWRkQ2xhc3ModGhpcy5fZWxlbWVudCwgQ0xBU1NfTkFNRV9DQUxFTkRBUl9ZRUFSKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyByZWxhdGl2ZSBkYXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXAgLSBNb250aCBzdGVwXG4gICAgICogQHJldHVybnMge0RhdGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0UmVsYXRpdmVEYXRlOiBmdW5jdGlvbihzdGVwKSB7XG4gICAgICB2YXIgcHJldiA9IHRoaXMuX2RhdGU7XG5cbiAgICAgIHJldHVybiBuZXcgRGF0ZShwcmV2LmdldEZ1bGxZZWFyKCksIHByZXYuZ2V0TW9udGgoKSArIHN0ZXApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmF3IHRoZSBjYWxlbmRhci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gRHJhdyBvcHRpb25zXG4gICAgICogICBAcGFyYW0ge0RhdGV9IFtvcHRpb25zLmRhdGVdIC0gRGF0ZSB0byBzZXRcbiAgICAgKiAgIEBwYXJhbSB7KCdkYXRlJ3wnbW9udGgnfCd5ZWFyJyl9IFtvcHRpb25zLnR5cGUgPSAnZGF0ZSddIC0gQ2FsZW5kYXIgdHlwZS4gRGV0ZXJtaW5lIHdoZXRoZXIgdG8gc2hvdyBhIGRhdGUsIG1vbnRoLCBvciB5ZWFyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY2FsZW5kYXIuZHJhdygpO1xuICAgICAqIGNhbGVuZGFyLmRyYXcoe1xuICAgICAqICAgICBkYXRlOiBuZXcgRGF0ZSgpXG4gICAgICogfSk7XG4gICAgICogY2FsZW5kYXIuZHJhdyh7XG4gICAgICogICAgIHR5cGU6ICdtb250aCdcbiAgICAgKiB9KTtcbiAgICAgKiBjYWxlbmRhci5kcmF3KHtcbiAgICAgKiAgICAgdHlwZTogJ21vbnRoJyxcbiAgICAgKiAgICAgZGF0ZTogbmV3IERhdGUoKVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGRyYXc6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBkYXRlLCB0eXBlO1xuXG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIGRhdGUgPSBvcHRpb25zLmRhdGUgfHwgdGhpcy5fZGF0ZTtcbiAgICAgIHR5cGUgPSAob3B0aW9ucy50eXBlIHx8IHRoaXMuZ2V0VHlwZSgpKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICBpZiAodGhpcy5fc2hvdWxkVXBkYXRlKGRhdGUsIHR5cGUpKSB7XG4gICAgICAgIHRoaXMuX2RhdGUgPSBkYXRlO1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogT2NjdXIgYWZ0ZXIgdGhlIGNhbGVuZGFyIGRyYXdzLlxuICAgICAgICogQGV2ZW50IENhbGVuZGFyI2RyYXdcbiAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkuY29kZS1zbmlwcGV0L2xhdGVzdC9DdXN0b21FdmVudHMjb24gY2FsZW5kYXIub24oKX0gdG8gYmluZCBldmVudCBoYW5kbGVycy5cbiAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkuY29kZS1zbmlwcGV0L2xhdGVzdC9DdXN0b21FdmVudHMjb2ZmIGNhbGVuZGFyLm9mZigpfSB0byB1bmJpbmQgZXZlbnQgaGFuZGxlcnMuXG4gICAgICAgKiBAc2VlIFJlZmVyIHRvIHtAbGluayBodHRwczovL25obi5naXRodWIuaW8vdHVpLmNvZGUtc25pcHBldC9sYXRlc3QvQ3VzdG9tRXZlbnRzIEN1c3RvbUV2ZW50cyBmcm9tIHR1aS1jb2RlLXNuaXBwZXR9IGZvciBtb3JlIG1ldGhvZHMuIENhbGVuZGFyIG1peGVzIGluIHRoZSBtZXRob2RzIGZyb20gQ3VzdG9tRXZlbnRzLlxuICAgICAgICogQHByb3BlcnR5IHtEYXRlfSBkYXRlIC0gQ2FsZW5kYXIgZGF0ZVxuICAgICAgICogQHByb3BlcnR5IHsoJ2RhdGUnfCdtb250aCd8J3llYXInKX0gdHlwZSAtIENhbGVuZGFyIHR5cGVcbiAgICAgICAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnRbXX0gZGF0ZUVsZW1lbnRzIC0gZWxlbWVudHMgZm9yIGRhdGVzXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogLy8gYmluZCB0aGUgJ2RyYXcnIGV2ZW50XG4gICAgICAgKiBjYWxlbmRhci5vbignZHJhdycsIGZ1bmN0aW9uKHt0eXBlLCBkYXRlfSkge1xuICAgICAgICogICAgIGNvbnNvbGUubG9nKGBEcmF3IHRoZSAke3R5cGV9IGNhbGVuZGFyIGFuZCBpdHMgZGF0ZSBpcyAke2RhdGV9LmApO1xuICAgICAgICogfSk7XG4gICAgICAgKlxuICAgICAgICogLy8gdW5iaW5kIHRoZSAnZHJhdycgZXZlbnRcbiAgICAgICAqIGNhbGVuZGFyLm9mZignZHJhdycpO1xuICAgICAgICovXG4gICAgICB0aGlzLmZpcmUoJ2RyYXcnLCB7XG4gICAgICAgIGRhdGU6IHRoaXMuX2RhdGUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGRhdGVFbGVtZW50czogdGhpcy5fYm9keS5nZXREYXRlRWxlbWVudHMoKVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIGNhbGVuZGFyLlxuICAgICAqL1xuICAgIHNob3c6IGZ1bmN0aW9uKCkge1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5fZWxlbWVudCwgQ0xBU1NfTkFNRV9ISURERU4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHRoZSBjYWxlbmRhci5cbiAgICAgKi9cbiAgICBoaWRlOiBmdW5jdGlvbigpIHtcbiAgICAgIGFkZENsYXNzKHRoaXMuX2VsZW1lbnQsIENMQVNTX05BTUVfSElEREVOKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhdyB0aGUgbmV4dCBwYWdlLlxuICAgICAqL1xuICAgIGRyYXdOZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZHJhdyh7XG4gICAgICAgIGRhdGU6IHRoaXMuZ2V0TmV4dERhdGUoKVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXcgdGhlIHByZXZpb3VzIHBhZ2UuXG4gICAgICovXG4gICAgZHJhd1ByZXY6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kcmF3KHtcbiAgICAgICAgZGF0ZTogdGhpcy5nZXRQcmV2RGF0ZSgpXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBuZXh0IGRhdGUuXG4gICAgICogQHJldHVybnMge0RhdGV9XG4gICAgICovXG4gICAgZ2V0TmV4dERhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuZ2V0VHlwZSgpID09PSBUWVBFX0RBVEUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJlbGF0aXZlRGF0ZSgxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0TmV4dFllYXJEYXRlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgcHJldmlvdXMgZGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7RGF0ZX1cbiAgICAgKi9cbiAgICBnZXRQcmV2RGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5nZXRUeXBlKCkgPT09IFRZUEVfREFURSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVsYXRpdmVEYXRlKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJldlllYXJEYXRlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZGF0ZSBhIHllYXIgbGF0ZXIuXG4gICAgICogQHJldHVybnMge0RhdGV9XG4gICAgICovXG4gICAgZ2V0TmV4dFllYXJEYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5nZXRUeXBlKCkpIHtcbiAgICAgICAgY2FzZSBUWVBFX0RBVEU6XG4gICAgICAgIGNhc2UgVFlQRV9NT05USDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVsYXRpdmVEYXRlKDEyKTsgLy8gMTIgbW9udGhzID0gMSB5ZWFyXG4gICAgICAgIGNhc2UgVFlQRV9ZRUFSOlxuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRSZWxhdGl2ZURhdGUoMTA4KTsgLy8gMTA4IG1vbnRocyA9IDkgeWVhcnMgPSAxMiAqIDlcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbGF5ZXIgdHlwZScpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGRhdGUgYSB5ZWFyIHByZXZpb3VzbHkuXG4gICAgICogQHJldHVybnMge0RhdGV9XG4gICAgICovXG4gICAgZ2V0UHJldlllYXJEYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5nZXRUeXBlKCkpIHtcbiAgICAgICAgY2FzZSBUWVBFX0RBVEU6XG4gICAgICAgIGNhc2UgVFlQRV9NT05USDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVsYXRpdmVEYXRlKC0xMik7IC8vIDEyIG1vbnRocyA9IDEgeWVhclxuICAgICAgICBjYXNlIFRZUEVfWUVBUjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVsYXRpdmVEYXRlKC0xMDgpOyAvLyAxMDggbW9udGhzID0gOSB5ZWFycyA9IDEyICogOVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBsYXllciB0eXBlJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoYW5nZSBsYW5ndWFnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2UgLSBMYW5ndWFnZSBjb2RlLiBFbmdsaXNoKCdlbicpIGFuZCBLb3JlYW4oJ2tvJykgYXJlIHByb3ZpZGVkIGFzIGRlZmF1bHQuXG4gICAgICogQHNlZSBUbyBzZXQgdG8gdGhlIG90aGVyIGxhbmd1YWdlcywgdXNlIHtAbGluayBEYXRlUGlja2VyI2xvY2FsZVRleHRzIERhdGVQaWNrZXIubG9jYWxlVGV4dHN9LlxuICAgICAqL1xuICAgIGNoYW5nZUxhbmd1YWdlOiBmdW5jdGlvbihsYW5ndWFnZSkge1xuICAgICAgdGhpcy5faGVhZGVyLmNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlKTtcbiAgICAgIHRoaXMuX2JvZHkuY2hhbmdlTGFuZ3VhZ2UobGFuZ3VhZ2UpO1xuICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgcmVuZGVyZWQgZGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7RGF0ZX1cbiAgICAgKi9cbiAgICBnZXREYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLl9kYXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjYWxlbmRhcidzIHR5cGUuXG4gICAgICogQHJldHVybnMgeygnZGF0ZSd8J21vbnRoJ3wneWVhcicpfVxuICAgICAqL1xuICAgIGdldFR5cGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgSFRNTCBlbGVtZW50cyBmb3IgZGF0ZXMuXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAgICovXG4gICAgZ2V0RGF0ZUVsZW1lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9ib2R5LmdldERhdGVFbGVtZW50cygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBhIENTUyBjbGFzcyB0byB0aGUgY2FsZW5kYXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAtIENsYXNzIG5hbWVcbiAgICAgKi9cbiAgICBhZGRDc3NDbGFzczogZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICBhZGRDbGFzcyh0aGlzLl9lbGVtZW50LCBjbGFzc05hbWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBDU1MgY2xhc3MgZnJvbSB0aGUgY2FsZW5kYXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAtIENsYXNzIG5hbWVcbiAgICAgKi9cbiAgICByZW1vdmVDc3NDbGFzczogZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICByZW1vdmVDbGFzcyh0aGlzLl9lbGVtZW50LCBjbGFzc05hbWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBjYWxlbmRhci5cbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2hlYWRlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9ib2R5LmRlc3Ryb3koKTtcbiAgICAgIHJlbW92ZUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgIHRoaXMuX3R5cGUgPSB0aGlzLl9kYXRlID0gdGhpcy5fY29udGFpbmVyID0gdGhpcy5fZWxlbWVudCA9IHRoaXMuX2hlYWRlciA9IHRoaXMuX2JvZHkgPSBudWxsO1xuICAgIH1cbiAgfVxuKTtcblxuQ3VzdG9tRXZlbnRzLm1peGluKENhbGVuZGFyKTtcbm1vZHVsZS5leHBvcnRzID0gQ2FsZW5kYXI7XG5cblxuLyoqKi8gfSksXG4vKiAzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBEYXRlIDwtPiBUZXh0IGZvcm1hdHRpbmcgbW9kdWxlXG4gKiBAYXV0aG9yIE5ITi4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBpbkFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBmb3JFYWNoQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGRlZmluZUNsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIGRhdGVVdGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBjb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIGxvY2FsZVRleHRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbnZhciByRm9ybWFibGVLZXlzID0gL1xcXFw/KHl5eXl8eXl8bW1tbXxtbW18bW18bXxkZHxkfGhofGh8YSkvZ2k7XG52YXIgbWFwRm9yQ29udmVydGluZyA9IHtcbiAgeXl5eToge1xuICAgIGV4cHJlc3Npb246ICcoXFxcXGR7NH18XFxcXGR7Mn0pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9ZRUFSXG4gIH0sXG4gIHl5OiB7XG4gICAgZXhwcmVzc2lvbjogJyhcXFxcZHs0fXxcXFxcZHsyfSknLFxuICAgIHR5cGU6IGNvbnN0YW50cy5UWVBFX1lFQVJcbiAgfSxcbiAgeToge1xuICAgIGV4cHJlc3Npb246ICcoXFxcXGR7NH18XFxcXGR7Mn0pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9ZRUFSXG4gIH0sXG4gIE06IHtcbiAgICBleHByZXNzaW9uOiAnKDFbMDEyXXwwWzEtOV18WzEtOV0pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9NT05USFxuICB9LFxuICBNTToge1xuICAgIGV4cHJlc3Npb246ICcoMVswMTJdfDBbMS05XXxbMS05XSknLFxuICAgIHR5cGU6IGNvbnN0YW50cy5UWVBFX01PTlRIXG4gIH0sXG4gIE1NTToge1xuICAgIGV4cHJlc3Npb246ICcoMVswMTJdfDBbMS05XXxbMS05XSknLFxuICAgIHR5cGU6IGNvbnN0YW50cy5UWVBFX01PTlRIXG4gIH0sXG4gIE1NTU06IHtcbiAgICBleHByZXNzaW9uOiAnKDFbMDEyXXwwWzEtOV18WzEtOV0pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9NT05USFxuICB9LFxuICBtbW06IHtcbiAgICBleHByZXNzaW9uOiAnKDFbMDEyXXwwWzEtOV18WzEtOV0pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9NT05USFxuICB9LFxuICBtbW1tOiB7XG4gICAgZXhwcmVzc2lvbjogJygxWzAxMl18MFsxLTldfFsxLTldKScsXG4gICAgdHlwZTogY29uc3RhbnRzLlRZUEVfTU9OVEhcbiAgfSxcbiAgZGQ6IHtcbiAgICBleHByZXNzaW9uOiAnKFsxMl1cXFxcZHsxfXwzWzAxXXwwWzEtOV18WzEtOV0pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9EQVRFXG4gIH0sXG4gIGQ6IHtcbiAgICBleHByZXNzaW9uOiAnKFsxMl1cXFxcZHsxfXwzWzAxXXwwWzEtOV18WzEtOV0pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9EQVRFXG4gIH0sXG4gIEQ6IHtcbiAgICBleHByZXNzaW9uOiAnKFsxMl1cXFxcZHsxfXwzWzAxXXwwWzEtOV18WzEtOV0pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9EQVRFXG4gIH0sXG4gIEREOiB7XG4gICAgZXhwcmVzc2lvbjogJyhbMTJdXFxcXGR7MX18M1swMV18MFsxLTldfFsxLTldKScsXG4gICAgdHlwZTogY29uc3RhbnRzLlRZUEVfREFURVxuICB9LFxuICBoOiB7XG4gICAgZXhwcmVzc2lvbjogJyhkezF9fDBcXFxcZHsxfXwxXFxcXGR7MX18MlswMTIzXSknLFxuICAgIHR5cGU6IGNvbnN0YW50cy5UWVBFX0hPVVJcbiAgfSxcbiAgaGg6IHtcbiAgICBleHByZXNzaW9uOiAnKGR7MX18WzAxXVxcXFxkezF9fDJbMDEyM10pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9IT1VSXG4gIH0sXG4gIEg6IHtcbiAgICBleHByZXNzaW9uOiAnKGR7MX18MFxcXFxkezF9fDFcXFxcZHsxfXwyWzAxMjNdKScsXG4gICAgdHlwZTogY29uc3RhbnRzLlRZUEVfSE9VUlxuICB9LFxuICBISDoge1xuICAgIGV4cHJlc3Npb246ICcoZHsxfXxbMDFdXFxcXGR7MX18MlswMTIzXSknLFxuICAgIHR5cGU6IGNvbnN0YW50cy5UWVBFX0hPVVJcbiAgfSxcbiAgbToge1xuICAgIGV4cHJlc3Npb246ICcoZHsxfXxbMDEyMzQ1XVxcXFxkezF9KScsXG4gICAgdHlwZTogY29uc3RhbnRzLlRZUEVfTUlOVVRFXG4gIH0sXG4gIG1tOiB7XG4gICAgZXhwcmVzc2lvbjogJyhkezF9fFswMTIzNDVdXFxcXGR7MX0pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9NSU5VVEVcbiAgfSxcbiAgYToge1xuICAgIGV4cHJlc3Npb246ICcoW2FwXW0pJyxcbiAgICB0eXBlOiBjb25zdGFudHMuVFlQRV9NRVJJRElFTVxuICB9LFxuICBBOiB7XG4gICAgZXhwcmVzc2lvbjogJyhbYXBdbSknLFxuICAgIHR5cGU6IGNvbnN0YW50cy5UWVBFX01FUklESUVNXG4gIH1cbn07XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAaWdub3JlXG4gKi9cbnZhciBEYXRlVGltZUZvcm1hdHRlciA9IGRlZmluZUNsYXNzKFxuICAvKiogQGxlbmRzIERhdGVUaW1lRm9ybWF0dGVyLnByb3RvdHlwZSAqLyB7XG4gICAgaW5pdDogZnVuY3Rpb24ocmF3U3RyLCB0aXRsZXMpIHtcbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3Jhd1N0ciA9IHJhd1N0cjtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqICByYXdTdHIgPSBcInl5eXktTU0tZGRcIiAtLT4ga2V5T3JkZXIgPSBbJ3llYXInLCAnbW9udGgnLCAnZGF0ZSddXG4gICAgICAgKiAgcmF3U3RyID0gXCJNTS9kZCwgeXl5eVwiIC0tPiBrZXlPcmRlciA9IFsnbW9udGgnLCAnZGF0ZScsICd5ZWFyJ11cbiAgICAgICAqL1xuICAgICAgdGhpcy5fa2V5T3JkZXIgPSBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9yZWdFeHAgPSBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRpdGxlc1xuICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3RpdGxlcyA9IHRpdGxlcyB8fCBsb2NhbGVUZXh0cy5lbi50aXRsZXM7XG5cbiAgICAgIHRoaXMuX3BhcnNlRm9ybWF0KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhcnNlIGluaXRpYWwgZm9ybWF0IGFuZCBtYWtlIHRoZSBrZXlPcmRlciwgcmVnRXhwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcGFyc2VGb3JtYXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlZ0V4cFN0ciA9ICdeJztcbiAgICAgIHZhciBtYXRjaGVkS2V5cyA9IHRoaXMuX3Jhd1N0ci5tYXRjaChyRm9ybWFibGVLZXlzKTtcbiAgICAgIHZhciBrZXlPcmRlciA9IFtdO1xuXG4gICAgICBtYXRjaGVkS2V5cyA9IHV0aWwuZmlsdGVyKG1hdGNoZWRLZXlzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleVswXSAhPT0gJ1xcXFwnO1xuICAgICAgfSk7XG5cbiAgICAgIGZvckVhY2hBcnJheShtYXRjaGVkS2V5cywgZnVuY3Rpb24oa2V5LCBpbmRleCkge1xuICAgICAgICBpZiAoIS9tL2kudGVzdChrZXkpKSB7XG4gICAgICAgICAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdFeHBTdHIgKz0gbWFwRm9yQ29udmVydGluZ1trZXldLmV4cHJlc3Npb24gKyAnW1xcXFxEXFxcXHNdKic7XG4gICAgICAgIGtleU9yZGVyW2luZGV4XSA9IG1hcEZvckNvbnZlcnRpbmdba2V5XS50eXBlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoaXMgZm9ybWF0dGVyIGRvZXMgbm90IGFsbG93IGFkZGl0aW9uYWwgbnVtYmVycyBhdCB0aGUgZW5kIG9mIHN0cmluZy5cbiAgICAgIHJlZ0V4cFN0ciArPSAnJCc7XG5cbiAgICAgIHRoaXMuX2tleU9yZGVyID0ga2V5T3JkZXI7XG5cbiAgICAgIHRoaXMuX3JlZ0V4cCA9IG5ldyBSZWdFeHAocmVnRXhwU3RyLCAnZ2knKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFyc2Ugc3RyaW5nIHRvIGRhdGVIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIERhdGUgc3RyaW5nXG4gICAgICogQHJldHVybnMge0RhdGV9XG4gICAgICovXG4gICAgcGFyc2U6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgdmFyIGRhdGVIYXNoID0ge1xuICAgICAgICB5ZWFyOiAwLFxuICAgICAgICBtb250aDogMSxcbiAgICAgICAgZGF0ZTogMSxcbiAgICAgICAgaG91cjogMCxcbiAgICAgICAgbWludXRlOiAwXG4gICAgICB9O1xuICAgICAgdmFyIGhhc01lcmlkaWVtID0gZmFsc2U7XG4gICAgICB2YXIgaXNQTSA9IGZhbHNlO1xuICAgICAgdmFyIG1hdGNoZWQ7XG5cbiAgICAgIHRoaXMuX3JlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgbWF0Y2hlZCA9IHRoaXMuX3JlZ0V4cC5leGVjKHN0cik7XG5cbiAgICAgIGlmICghbWF0Y2hlZCkge1xuICAgICAgICB0aHJvdyBFcnJvcignRGF0ZVRpbWVGb3JtYXR0ZXI6IE5vdCBtYXRjaGVkIC0gXCInICsgc3RyICsgJ1wiJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG4gICAgICBmb3JFYWNoQXJyYXkodGhpcy5fa2V5T3JkZXIsIGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG1hdGNoZWRbaW5kZXggKyAxXTtcblxuICAgICAgICBpZiAobmFtZSA9PT0gY29uc3RhbnRzLlRZUEVfTUVSSURJRU0gJiYgL1thcF1tL2kudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICBoYXNNZXJpZGllbSA9IHRydWU7XG4gICAgICAgICAgaXNQTSA9IC9wbS9pLnRlc3QodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcblxuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gMCAmJiAhdmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdEYXRlVGltZUZvcm1hdHRlcjogVW5rbm93biB2YWx1ZSAtICcgKyBtYXRjaGVkW2luZGV4ICsgMV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChuYW1lID09PSBjb25zdGFudHMuVFlQRV9ZRUFSICYmIHZhbHVlIDwgMTAwKSB7XG4gICAgICAgICAgICB2YWx1ZSArPSAyMDAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGVIYXNoW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaGFzTWVyaWRpZW0pIHtcbiAgICAgICAgaXNQTSA9IGlzUE0gfHwgZGF0ZUhhc2guaG91ciA+IDEyO1xuICAgICAgICBkYXRlSGFzaC5ob3VyICU9IDEyO1xuICAgICAgICBpZiAoaXNQTSkge1xuICAgICAgICAgIGRhdGVIYXNoLmhvdXIgKz0gMTI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBEYXRlKFxuICAgICAgICBkYXRlSGFzaC55ZWFyLFxuICAgICAgICBkYXRlSGFzaC5tb250aCAtIDEsXG4gICAgICAgIGRhdGVIYXNoLmRhdGUsXG4gICAgICAgIGRhdGVIYXNoLmhvdXIsXG4gICAgICAgIGRhdGVIYXNoLm1pbnV0ZVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyByYXcgc3RyaW5nIG9mIGZvcm1hdFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0UmF3U3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yYXdTdHI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCBkYXRlIHRvIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZU9iaiAtIERhdGUgb2JqZWN0XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBmb3JtYXQ6IGZ1bmN0aW9uKGRhdGVPYmopIHtcbiAgICAgIHZhciB5ZWFyID0gZGF0ZU9iai5nZXRGdWxsWWVhcigpO1xuICAgICAgdmFyIG1vbnRoID0gZGF0ZU9iai5nZXRNb250aCgpICsgMTtcbiAgICAgIHZhciBkYXlJbk1vbnRoID0gZGF0ZU9iai5nZXREYXRlKCk7XG4gICAgICB2YXIgZGF5ID0gZGF0ZU9iai5nZXREYXkoKTtcbiAgICAgIHZhciBob3VyID0gZGF0ZU9iai5nZXRIb3VycygpO1xuICAgICAgdmFyIG1pbnV0ZSA9IGRhdGVPYmouZ2V0TWludXRlcygpO1xuICAgICAgdmFyIG1lcmlkaWVtID0gJ2EnOyAvLyBEZWZhdWx0IHZhbHVlIGZvciB1bnVzaW5nIG1lcmlkaWVtIGZvcm1hdFxuICAgICAgdmFyIHJlcGxhY2VNYXA7XG5cbiAgICAgIGlmIChpbkFycmF5KGNvbnN0YW50cy5UWVBFX01FUklESUVNLCB0aGlzLl9rZXlPcmRlcikgPiAtMSkge1xuICAgICAgICBtZXJpZGllbSA9IGhvdXIgPj0gMTIgPyAncG0nIDogJ2FtJztcbiAgICAgICAgaG91ciA9IGRhdGVVdGlsLmdldE1lcmlkaWVtSG91cihob3VyKTtcbiAgICAgIH1cblxuICAgICAgcmVwbGFjZU1hcCA9IHtcbiAgICAgICAgeXl5eTogeWVhcixcbiAgICAgICAgeXk6IFN0cmluZyh5ZWFyKS5zdWJzdHIoMiwgMiksXG4gICAgICAgIE06IG1vbnRoLFxuICAgICAgICBNTTogZGF0ZVV0aWwucHJlcGVuZExlYWRpbmdaZXJvKG1vbnRoKSxcbiAgICAgICAgTU1NOiB0aGlzLl90aXRsZXMuTU1NW21vbnRoIC0gMV0sXG4gICAgICAgIE1NTU06IHRoaXMuX3RpdGxlcy5NTU1NW21vbnRoIC0gMV0sXG4gICAgICAgIGQ6IGRheUluTW9udGgsXG4gICAgICAgIGRkOiBkYXRlVXRpbC5wcmVwZW5kTGVhZGluZ1plcm8oZGF5SW5Nb250aCksXG4gICAgICAgIEQ6IHRoaXMuX3RpdGxlcy5EW2RheV0sXG4gICAgICAgIEREOiB0aGlzLl90aXRsZXMuRERbZGF5XSxcbiAgICAgICAgaGg6IGRhdGVVdGlsLnByZXBlbmRMZWFkaW5nWmVybyhob3VyKSxcbiAgICAgICAgaDogaG91cixcbiAgICAgICAgbW06IGRhdGVVdGlsLnByZXBlbmRMZWFkaW5nWmVybyhtaW51dGUpLFxuICAgICAgICBtOiBtaW51dGUsXG4gICAgICAgIEE6IG1lcmlkaWVtLnRvVXBwZXJDYXNlKCksXG4gICAgICAgIGE6IG1lcmlkaWVtXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gdGhpcy5fcmF3U3RyLnJlcGxhY2UockZvcm1hYmxlS2V5cywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChrZXlbMF0gPT09ICdcXFxcJykge1xuICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcGxhY2VNYXBba2V5XSB8fCByZXBsYWNlTWFwW2tleS50b0xvd2VyQ2FzZSgpXSB8fCAnJztcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXRlVGltZUZvcm1hdHRlcjtcblxuXG4vKioqLyB9KSxcbi8qIDMxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEJpbmQgRE9NIGV2ZW50c1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBpc1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIGZvckVhY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgc2FmZUV2ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cbi8qKlxuICogQmluZCBET00gZXZlbnRzLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgdG8gYmluZCBldmVudHNcbiAqIEBwYXJhbSB7KHN0cmluZ3xvYmplY3QpfSB0eXBlcyAtIFNwYWNlIHNwbGl0dGVkIGV2ZW50cyBuYW1lcyBvciBldmVudE5hbWU6aGFuZGxlciBvYmplY3RcbiAqIEBwYXJhbSB7KGZ1bmN0aW9ufG9iamVjdCl9IGhhbmRsZXIgLSBoYW5kbGVyIGZ1bmN0aW9uIG9yIGNvbnRleHQgZm9yIGhhbmRsZXIgbWV0aG9kXG4gKiBAcGFyYW0ge29iamVjdH0gW2NvbnRleHRdIGNvbnRleHQgLSBjb250ZXh0IGZvciBoYW5kbGVyIG1ldGhvZC5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZG9tRXZlbnRcbiAqIEBleGFtcGxlXG4gKiB2YXIgZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2Jyk7XG4gKiBcbiAqIC8vIEJpbmQgb25lIGV2ZW50IHRvIGFuIGVsZW1lbnQuXG4gKiBvbihkaXYsICdjbGljaycsIHRvZ2dsZSk7XG4gKiBcbiAqIC8vIEJpbmQgbXVsdGlwbGUgZXZlbnRzIHdpdGggYSBzYW1lIGhhbmRsZXIgdG8gbXVsdGlwbGUgZWxlbWVudHMgYXQgb25jZS5cbiAqIC8vIFVzZSBldmVudCBuYW1lcyBzcGxpdHRlZCBieSBhIHNwYWNlLlxuICogb24oZGl2LCAnbW91c2VlbnRlciBtb3VzZWxlYXZlJywgY2hhbmdlQ29sb3IpO1xuICogXG4gKiAvLyBCaW5kIG11bHRpcGxlIGV2ZW50cyB3aXRoIGRpZmZlcmVudCBoYW5kbGVycyB0byBhbiBlbGVtZW50IGF0IG9uY2UuXG4gKiAvLyBVc2UgYW4gb2JqZWN0IHdoaWNoIG9mIGtleSBpcyBhbiBldmVudCBuYW1lIGFuZCB2YWx1ZSBpcyBhIGhhbmRsZXIgZnVuY3Rpb24uXG4gKiBvbihkaXYsIHtcbiAqICAga2V5ZG93bjogaGlnaGxpZ2h0LFxuICogICBrZXl1cDogZGVoaWdobGlnaHRcbiAqIH0pO1xuICogXG4gKiAvLyBTZXQgYSBjb250ZXh0IGZvciBoYW5kbGVyIG1ldGhvZC5cbiAqIHZhciBuYW1lID0gJ2dsb2JhbCc7XG4gKiB2YXIgcmVwb3NpdG9yeSA9IHtuYW1lOiAnQ29kZVNuaXBwZXQnfTtcbiAqIG9uKGRpdiwgJ2RyYWcnLCBmdW5jdGlvbigpIHtcbiAqICBjb25zb2xlLmxvZyh0aGlzLm5hbWUpO1xuICogfSwgcmVwb3NpdG9yeSk7XG4gKiAvLyBSZXN1bHQgd2hlbiB5b3UgZHJhZyBhIGRpdjogXCJDb2RlU25pcHBldFwiXG4gKi9cbmZ1bmN0aW9uIG9uKGVsZW1lbnQsIHR5cGVzLCBoYW5kbGVyLCBjb250ZXh0KSB7XG4gIGlmIChpc1N0cmluZyh0eXBlcykpIHtcbiAgICBmb3JFYWNoKHR5cGVzLnNwbGl0KC9cXHMrL2cpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICBiaW5kRXZlbnQoZWxlbWVudCwgdHlwZSwgaGFuZGxlciwgY29udGV4dCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBmb3JFYWNoKHR5cGVzLCBmdW5jdGlvbihmdW5jLCB0eXBlKSB7XG4gICAgYmluZEV2ZW50KGVsZW1lbnQsIHR5cGUsIGZ1bmMsIGhhbmRsZXIpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBCaW5kIERPTSBldmVudHNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHRvIGJpbmQgZXZlbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIGV2ZW50cyBuYW1lXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIC0gaGFuZGxlciBmdW5jdGlvbiBvciBjb250ZXh0IGZvciBoYW5kbGVyIG1ldGhvZFxuICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XSBjb250ZXh0IC0gY29udGV4dCBmb3IgaGFuZGxlciBtZXRob2QuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBiaW5kRXZlbnQoZWxlbWVudCwgdHlwZSwgaGFuZGxlciwgY29udGV4dCkge1xuICAvKipcbiAgICAgKiBFdmVudCBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSAtIGV2ZW50IG9iamVjdFxuICAgICAqL1xuICBmdW5jdGlvbiBldmVudEhhbmRsZXIoZSkge1xuICAgIGhhbmRsZXIuY2FsbChjb250ZXh0IHx8IGVsZW1lbnQsIGUgfHwgd2luZG93LmV2ZW50KTtcbiAgfVxuXG4gIGlmICgnYWRkRXZlbnRMaXN0ZW5lcicgaW4gZWxlbWVudCkge1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBldmVudEhhbmRsZXIpO1xuICB9IGVsc2UgaWYgKCdhdHRhY2hFdmVudCcgaW4gZWxlbWVudCkge1xuICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGV2ZW50SGFuZGxlcik7XG4gIH1cbiAgbWVtb3JpemVIYW5kbGVyKGVsZW1lbnQsIHR5cGUsIGhhbmRsZXIsIGV2ZW50SGFuZGxlcik7XG59XG5cbi8qKlxuICogTWVtb3JpemUgRE9NIGV2ZW50IGhhbmRsZXIgZm9yIHVuYmluZGluZy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHRvIGJpbmQgZXZlbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIGV2ZW50cyBuYW1lXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIC0gaGFuZGxlciBmdW5jdGlvbiB0aGF0IHVzZXIgcGFzc2VkIGF0IG9uKCkgdXNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB3cmFwcGVkSGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb24gdGhhdCB3cmFwcGVkIGJ5IGRvbWV2ZW50IGZvciBpbXBsZW1lbnRpbmcgc29tZSBmZWF0dXJlc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbWVtb3JpemVIYW5kbGVyKGVsZW1lbnQsIHR5cGUsIGhhbmRsZXIsIHdyYXBwZWRIYW5kbGVyKSB7XG4gIHZhciBldmVudHMgPSBzYWZlRXZlbnQoZWxlbWVudCwgdHlwZSk7XG4gIHZhciBleGlzdEluRXZlbnRzID0gZmFsc2U7XG5cbiAgZm9yRWFjaChldmVudHMsIGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmouaGFuZGxlciA9PT0gaGFuZGxlcikge1xuICAgICAgZXhpc3RJbkV2ZW50cyA9IHRydWU7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgaWYgKCFleGlzdEluRXZlbnRzKSB7XG4gICAgZXZlbnRzLnB1c2goe1xuICAgICAgaGFuZGxlcjogaGFuZGxlcixcbiAgICAgIHdyYXBwZWRIYW5kbGVyOiB3cmFwcGVkSGFuZGxlclxuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb247XG5cblxuLyoqKi8gfSksXG4vKiAzMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBHZXQgZXZlbnQgY29sbGVjdGlvbiBmb3Igc3BlY2lmaWMgSFRNTCBlbGVtZW50XG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIEVWRU5UX0tFWSA9ICdfZmVFdmVudEtleSc7XG5cbi8qKlxuICogR2V0IGV2ZW50IGNvbGxlY3Rpb24gZm9yIHNwZWNpZmljIEhUTUwgZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIEhUTUwgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBldmVudCB0eXBlXG4gKiBAcmV0dXJucyB7YXJyYXl9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzYWZlRXZlbnQoZWxlbWVudCwgdHlwZSkge1xuICB2YXIgZXZlbnRzID0gZWxlbWVudFtFVkVOVF9LRVldO1xuICB2YXIgaGFuZGxlcnM7XG5cbiAgaWYgKCFldmVudHMpIHtcbiAgICBldmVudHMgPSBlbGVtZW50W0VWRU5UX0tFWV0gPSB7fTtcbiAgfVxuXG4gIGhhbmRsZXJzID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoIWhhbmRsZXJzKSB7XG4gICAgaGFuZGxlcnMgPSBldmVudHNbdHlwZV0gPSBbXTtcbiAgfVxuXG4gIHJldHVybiBoYW5kbGVycztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzYWZlRXZlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBVbmJpbmQgRE9NIGV2ZW50c1xuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBpc1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIGZvckVhY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgc2FmZUV2ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cbi8qKlxuICogVW5iaW5kIERPTSBldmVudHNcbiAqIElmIGEgaGFuZGxlciBmdW5jdGlvbiBpcyBub3QgcGFzc2VkLCByZW1vdmUgYWxsIGV2ZW50cyBvZiB0aGF0IHR5cGUuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byB1bmJpbmQgZXZlbnRzXG4gKiBAcGFyYW0geyhzdHJpbmd8b2JqZWN0KX0gdHlwZXMgLSBTcGFjZSBzcGxpdHRlZCBldmVudHMgbmFtZXMgb3IgZXZlbnROYW1lOmhhbmRsZXIgb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaGFuZGxlcl0gLSBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmRvbUV2ZW50XG4gKiBAZXhhbXBsZVxuICogLy8gRm9sbG93aW5nIHRoZSBleGFtcGxlIG9mIGRvbUV2ZW50I29uXG4gKiBcbiAqIC8vIFVuYmluZCBvbmUgZXZlbnQgZnJvbSBhbiBlbGVtZW50LlxuICogb2ZmKGRpdiwgJ2NsaWNrJywgdG9nZ2xlKTtcbiAqIFxuICogLy8gVW5iaW5kIG11bHRpcGxlIGV2ZW50cyB3aXRoIGEgc2FtZSBoYW5kbGVyIGZyb20gbXVsdGlwbGUgZWxlbWVudHMgYXQgb25jZS5cbiAqIC8vIFVzZSBldmVudCBuYW1lcyBzcGxpdHRlZCBieSBhIHNwYWNlLlxuICogb2ZmKGVsZW1lbnQsICdtb3VzZWVudGVyIG1vdXNlbGVhdmUnLCBjaGFuZ2VDb2xvcik7XG4gKiBcbiAqIC8vIFVuYmluZCBtdWx0aXBsZSBldmVudHMgd2l0aCBkaWZmZXJlbnQgaGFuZGxlcnMgZnJvbSBhbiBlbGVtZW50IGF0IG9uY2UuXG4gKiAvLyBVc2UgYW4gb2JqZWN0IHdoaWNoIG9mIGtleSBpcyBhbiBldmVudCBuYW1lIGFuZCB2YWx1ZSBpcyBhIGhhbmRsZXIgZnVuY3Rpb24uXG4gKiBvZmYoZGl2LCB7XG4gKiAgIGtleWRvd246IGhpZ2hsaWdodCxcbiAqICAga2V5dXA6IGRlaGlnaGxpZ2h0XG4gKiB9KTtcbiAqIFxuICogLy8gVW5iaW5kIGV2ZW50cyB3aXRob3V0IGhhbmRsZXJzLlxuICogb2ZmKGRpdiwgJ2RyYWcnKTtcbiAqL1xuZnVuY3Rpb24gb2ZmKGVsZW1lbnQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gIGlmIChpc1N0cmluZyh0eXBlcykpIHtcbiAgICBmb3JFYWNoKHR5cGVzLnNwbGl0KC9cXHMrL2cpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB1bmJpbmRFdmVudChlbGVtZW50LCB0eXBlLCBoYW5kbGVyKTtcbiAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvckVhY2godHlwZXMsIGZ1bmN0aW9uKGZ1bmMsIHR5cGUpIHtcbiAgICB1bmJpbmRFdmVudChlbGVtZW50LCB0eXBlLCBmdW5jKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVW5iaW5kIERPTSBldmVudHNcbiAqIElmIGEgaGFuZGxlciBmdW5jdGlvbiBpcyBub3QgcGFzc2VkLCByZW1vdmUgYWxsIGV2ZW50cyBvZiB0aGF0IHR5cGUuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byB1bmJpbmQgZXZlbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIGV2ZW50cyBuYW1lXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaGFuZGxlcl0gLSBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB1bmJpbmRFdmVudChlbGVtZW50LCB0eXBlLCBoYW5kbGVyKSB7XG4gIHZhciBldmVudHMgPSBzYWZlRXZlbnQoZWxlbWVudCwgdHlwZSk7XG4gIHZhciBpbmRleDtcblxuICBpZiAoIWhhbmRsZXIpIHtcbiAgICBmb3JFYWNoKGV2ZW50cywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmVtb3ZlSGFuZGxlcihlbGVtZW50LCB0eXBlLCBpdGVtLndyYXBwZWRIYW5kbGVyKTtcbiAgICB9KTtcbiAgICBldmVudHMuc3BsaWNlKDAsIGV2ZW50cy5sZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIGZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihpdGVtLCBpZHgpIHtcbiAgICAgIGlmIChoYW5kbGVyID09PSBpdGVtLmhhbmRsZXIpIHtcbiAgICAgICAgcmVtb3ZlSGFuZGxlcihlbGVtZW50LCB0eXBlLCBpdGVtLndyYXBwZWRIYW5kbGVyKTtcbiAgICAgICAgaW5kZXggPSBpZHg7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBldmVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSBhbiBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gQW4gZWxlbWVudCB0byByZW1vdmUgYW4gZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gZXZlbnQgdHlwZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUhhbmRsZXIoZWxlbWVudCwgdHlwZSwgaGFuZGxlcikge1xuICBpZiAoJ3JlbW92ZUV2ZW50TGlzdGVuZXInIGluIGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcik7XG4gIH0gZWxzZSBpZiAoJ2RldGFjaEV2ZW50JyBpbiBlbGVtZW50KSB7XG4gICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvZmY7XG5cblxuLyoqKi8gfSksXG4vKiAzNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBUaGUgZW50cnkgZmlsZSBvZiBEYXRlUGlja2VyIGNvbXBvbmVudHNcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBUZWFtXG4gKi9cblxuXG5cbnZhciBEYXRlUGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG52YXIgRGF0ZVJhbmdlUGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG52YXIgQ2FsZW5kYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cbi8qKlxuICogQ3JlYXRlIGEgY2FsZW5kYXIuXG4gKiBAc2VlIHtAbGluayBDYWxlbmRhcn1cbiAqIEBzZWUge0BsaW5rIC90dXRvcmlhbC1leGFtcGxlMDctY2FsZW5kYXIgQ2FsZW5kYXIgZXhhbXBsZX1cbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSB3cmFwcGVyRWxlbWVudCAtIENvbnRhaW5lciBlbGVtZW50IG9yIHNlbGVjdG9yIG9mIHRoZSBDYWxlbmRhclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIHtAbGluayBDYWxlbmRhcn0gb3B0aW9ucy4gUmVmZXIgdG8gdGhlIHtAbGluayBDYWxlbmRhciBDYWxlbmRhciBpbnN0YW5jZSdzIG9wdGlvbnN9LlxuICogQHJldHVybnMge0NhbGVuZGFyfVxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGNhbGVuZGFyID0gRGF0ZVBpY2tlci5jcmVhdGVDYWxlbmRhcignI2NhbGVuZGFyLXdyYXBwZXInLCB7XG4gKiAgICBsYW5ndWFnZTogJ2VuJyxcbiAqICAgIHNob3dUb2RheTogdHJ1ZSxcbiAqICAgIHNob3dKdW1wQnV0dG9uczogZmFsc2UsXG4gKiAgICBkYXRlOiBuZXcgRGF0ZSgpLFxuICogICAgdHlwZTogJ2RhdGUnXG4gKiB9KTtcbiAqL1xuRGF0ZVBpY2tlci5jcmVhdGVDYWxlbmRhciA9IGZ1bmN0aW9uKHdyYXBwZXJFbGVtZW50LCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgQ2FsZW5kYXIod3JhcHBlckVsZW1lbnQsIG9wdGlvbnMpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBkYXRlLXJhbmdlIHBpY2tlci5cbiAqIEBzZWUge0BsaW5rIERhdGVSYW5nZVBpY2tlcn1cbiAqIEBzZWUge0BsaW5rIC90dXRvcmlhbC1leGFtcGxlMDgtZGF0ZXJhbmdlcGlja2VyIERhdGVSYW5nZVBpY2tlciBleGFtcGxlfVxuICogQHN0YXRpY1xuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSB7QGxpbmsgRGF0ZVJhbmdlUGlja2VyfSBvcHRpb25zLiBSZWZlciB0byB0aGUge0BsaW5rIERhdGVSYW5nZVBpY2tlciBEYXRlUmFuZ2VQaWNrZXIgaW5zdGFuY2UncyBvcHRpb25zfS5cbiAqIEByZXR1cm5zIHtEYXRlUmFuZ2VQaWNrZXJ9XG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmFuZ2VwaWNrZXIgPSBEYXRlUGlja2VyLmNyZWF0ZVJhbmdlUGlja2VyKHtcbiAqICAgICBzdGFydHBpY2tlcjoge1xuICogICAgICAgICBpbnB1dDogJyNzdGFydC1pbnB1dCcsXG4gKiAgICAgICAgIGNvbnRhaW5lcjogJyNzdGFydC1jb250YWluZXInXG4gKiAgICAgfSxcbiAqICAgICBlbmRwaWNrZXI6IHtcbiAqICAgICAgICAgaW5wdXQ6ICcjZW5kLWlucHV0JyxcbiAqICAgICAgICAgY29udGFpbmVyOiAnI2VuZC1jb250YWluZXInXG4gKiAgICAgfSxcbiAqICAgICB0eXBlOiAnZGF0ZScsXG4gKiAgICAgZm9ybWF0OiAneXl5eS1NTS1kZCdcbiAqICAgICBzZWxlY3RhYmxlUmFuZ2VzOiBbXG4gKiAgICAgICAgIFtuZXcgRGF0ZSgyMDE3LCAzLCAxKSwgbmV3IERhdGUoMjAxNywgNSwgMSldLFxuICogICAgICAgICBbbmV3IERhdGUoMjAxNywgNiwgMyksIG5ldyBEYXRlKDIwMTcsIDEwLCA1KV1cbiAqICAgICBdXG4gKiB9KTtcbiAqL1xuRGF0ZVBpY2tlci5jcmVhdGVSYW5nZVBpY2tlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBEYXRlUmFuZ2VQaWNrZXIob3B0aW9ucyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGVQaWNrZXI7XG5cblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBQcm92aWRlIGEgc2ltcGxlIGluaGVyaXRhbmNlIGluIHByb3RvdHlwZS1vcmllbnRlZC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgY3JlYXRlT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cbi8qKlxuICogUHJvdmlkZSBhIHNpbXBsZSBpbmhlcml0YW5jZSBpbiBwcm90b3R5cGUtb3JpZW50ZWQuXG4gKiBDYXV0aW9uIDpcbiAqICBEb24ndCBvdmVyd3JpdGUgdGhlIHByb3RvdHlwZSBvZiBjaGlsZCBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWJUeXBlIENoaWxkIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlclR5cGUgUGFyZW50IGNvbnN0cnVjdG9yXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmluaGVyaXRhbmNlXG4gKiBAZXhhbXBsZVxuICogdmFyIGluaGVyaXQgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2luaGVyaXRhbmNlL2luaGVyaXQnKTsgLy8gbm9kZSwgY29tbW9uanNcbiAqXG4gKiAvLyBQYXJlbnQgY29uc3RydWN0b3JcbiAqIGZ1bmN0aW9uIEFuaW1hbChsZWcpIHtcbiAqICAgICB0aGlzLmxlZyA9IGxlZztcbiAqIH1cbiAqIEFuaW1hbC5wcm90b3R5cGUuZ3Jvd2wgPSBmdW5jdGlvbigpIHtcbiAqICAgICAvLyAuLi5cbiAqIH07XG4gKlxuICogLy8gQ2hpbGQgY29uc3RydWN0b3JcbiAqIGZ1bmN0aW9uIFBlcnNvbihuYW1lKSB7XG4gKiAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAqIH1cbiAqXG4gKiAvLyBJbmhlcml0YW5jZVxuICogaW5oZXJpdChQZXJzb24sIEFuaW1hbCk7XG4gKlxuICogLy8gQWZ0ZXIgdGhpcyBpbmhlcml0YW5jZSwgcGxlYXNlIHVzZSBvbmx5IHRoZSBleHRlbmRpbmcgb2YgcHJvcGVydHkuXG4gKiAvLyBEbyBub3Qgb3ZlcndyaXRlIHByb3RvdHlwZS5cbiAqIFBlcnNvbi5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICogICAgIC8vIC4uLlxuICogfTtcbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChzdWJUeXBlLCBzdXBlclR5cGUpIHtcbiAgdmFyIHByb3RvdHlwZSA9IGNyZWF0ZU9iamVjdChzdXBlclR5cGUucHJvdG90eXBlKTtcbiAgcHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViVHlwZTtcbiAgc3ViVHlwZS5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5oZXJpdDtcblxuXG4vKioqLyB9KSxcbi8qIDM2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENyZWF0ZSBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIHByb3RvdHlwZSBvYmplY3QgYW5kIHByb3BlcnRpZXMuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxuLyoqXG4gKiBAbW9kdWxlIGluaGVyaXRhbmNlXG4gKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNwZWNpZmllZCBwcm90b3R5cGUgb2JqZWN0IGFuZCBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGlzIG9iamVjdCB3aWxsIGJlIGEgcHJvdG90eXBlIG9mIHRoZSBuZXdseS1jcmVhdGVkIG9iamVjdC5cbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiBAbWVtYmVyb2YgbW9kdWxlOmluaGVyaXRhbmNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU9iamVjdChvYmopIHtcbiAgZnVuY3Rpb24gRigpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICBGLnByb3RvdHlwZSA9IG9iajtcblxuICByZXR1cm4gbmV3IEYoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVPYmplY3Q7XG5cblxuLyoqKi8gfSksXG4vKiAzNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBleGlzdGluZyBvciBub3QuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGlzVW5kZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgaXNOdWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgZXhpc3Rpbmcgb3Igbm90LlxuICogSWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIG5vdCBudWxsIGFuZCBub3QgdW5kZWZpbmVkLCByZXR1cm5zIHRydWUuXG4gKiBAcGFyYW0geyp9IHBhcmFtIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIGV4aXN0eT9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICogQGV4YW1wbGVcbiAqIHZhciBpc0V4aXN0eSA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQvdHlwZS9pc0V4aXN0eScpOyAvLyBub2RlLCBjb21tb25qc1xuICpcbiAqIGlzRXhpc3R5KCcnKTsgLy90cnVlXG4gKiBpc0V4aXN0eSgwKTsgLy90cnVlXG4gKiBpc0V4aXN0eShbXSk7IC8vdHJ1ZVxuICogaXNFeGlzdHkoe30pOyAvL3RydWVcbiAqIGlzRXhpc3R5KG51bGwpOyAvL2ZhbHNlXG4gKiBpc0V4aXN0eSh1bmRlZmluZWQpOyAvL2ZhbHNlXG4qL1xuZnVuY3Rpb24gaXNFeGlzdHkocGFyYW0pIHtcbiAgcmV0dXJuICFpc1VuZGVmaW5lZChwYXJhbSkgJiYgIWlzTnVsbChwYXJhbSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFeGlzdHk7XG5cblxuLyoqKi8gfSksXG4vKiAzOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBudWxsIG9yIG5vdC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIG51bGwgb3Igbm90LlxuICogSWYgdGhlIGdpdmVuIHZhcmlhYmxlKGFyZ3VtZW50c1swXSkgaXMgbnVsbCwgcmV0dXJucyB0cnVlLlxuICogQHBhcmFtIHsqfSBvYmogLSBUYXJnZXQgZm9yIGNoZWNraW5nXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgbnVsbD9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICovXG5mdW5jdGlvbiBpc051bGwob2JqKSB7XG4gIHJldHVybiBvYmogPT09IG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNOdWxsO1xuXG5cbi8qKiovIH0pLFxuLyogMzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBmdW5jdGlvbiBvciBub3QuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGZ1bmN0aW9uIG9yIG5vdC5cbiAqIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGZ1bmN0aW9uLCByZXR1cm4gdHJ1ZS5cbiAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIGZ1bmN0aW9uP1xuICogQG1lbWJlcm9mIG1vZHVsZTp0eXBlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBvYmogaW5zdGFuY2VvZiBGdW5jdGlvbjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0Z1bmN0aW9uO1xuXG5cbi8qKiovIH0pLFxuLyogNDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ2hlY2sgZWxlbWVudCBtYXRjaCBzZWxlY3RvclxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBpbkFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciB0b0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cbnZhciBlbFByb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XG52YXIgbWF0Y2hTZWxlY3RvciA9IGVsUHJvdG8ubWF0Y2hlcyB8fFxuICAgIGVsUHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgZWxQcm90by5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBlbFByb3RvLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgIHZhciBkb2MgPSB0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudDtcblxuICAgICAgcmV0dXJuIGluQXJyYXkodGhpcywgdG9BcnJheShkb2MucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpKSA+IC0xO1xuICAgIH07XG5cbi8qKlxuICogQ2hlY2sgZWxlbWVudCBtYXRjaCBzZWxlY3RvclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgdG8gY2hlY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIHNlbGVjdG9yIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gaXMgc2VsZWN0b3IgbWF0Y2hlZCB0byBlbGVtZW50P1xuICogQG1lbWJlcm9mIG1vZHVsZTpkb21VdGlsXG4gKi9cbmZ1bmN0aW9uIG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIG1hdGNoU2VsZWN0b3IuY2FsbChlbGVtZW50LCBzZWxlY3Rvcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWF0Y2hlcztcblxuXG4vKioqLyB9KSxcbi8qIDQxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRyYW5zZm9ybSB0aGUgQXJyYXktbGlrZSBvYmplY3QgdG8gQXJyYXkuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGZvckVhY2hBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBBcnJheS1saWtlIG9iamVjdCB0byBBcnJheS5cbiAqIEluIGxvdyBJRSAoYmVsb3cgOCksIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsIGlzIG5vdCBwZXJmZWN0LiBTbywgdHJ5LWNhdGNoIHN0YXRlbWVudCBpcyB1c2VkLlxuICogQHBhcmFtIHsqfSBhcnJheUxpa2UgQXJyYXktbGlrZSBvYmplY3RcbiAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXlcbiAqIEBtZW1iZXJvZiBtb2R1bGU6Y29sbGVjdGlvblxuICogQGV4YW1wbGVcbiAqIHZhciB0b0FycmF5ID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldC9jb2xsZWN0aW9uL3RvQXJyYXknKTsgLy8gbm9kZSwgY29tbW9uanNcbiAqXG4gKiB2YXIgYXJyYXlMaWtlID0ge1xuICogICAgIDA6ICdvbmUnLFxuICogICAgIDE6ICd0d28nLFxuICogICAgIDI6ICd0aHJlZScsXG4gKiAgICAgMzogJ2ZvdXInLFxuICogICAgIGxlbmd0aDogNFxuICogfTtcbiAqIHZhciByZXN1bHQgPSB0b0FycmF5KGFycmF5TGlrZSk7XG4gKlxuICogYWxlcnQocmVzdWx0IGluc3RhbmNlb2YgQXJyYXkpOyAvLyB0cnVlXG4gKiBhbGVydChyZXN1bHQpOyAvLyBvbmUsdHdvLHRocmVlLGZvdXJcbiAqL1xuZnVuY3Rpb24gdG9BcnJheShhcnJheUxpa2UpIHtcbiAgdmFyIGFycjtcbiAgdHJ5IHtcbiAgICBhcnIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheUxpa2UpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgYXJyID0gW107XG4gICAgZm9yRWFjaEFycmF5KGFycmF5TGlrZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGFyci5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBhcnI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9BcnJheTtcblxuXG4vKioqLyB9KSxcbi8qIDQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENvbnZlcnQga2ViYWItY2FzZVxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogQ29udmVydCBrZWJhYi1jYXNlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gc3RyaW5nIHRvIGJlIGNvbnZlcnRlZCB0byBLZWJhYi1jYXNlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjb252ZXJ0VG9LZWJhYkNhc2Uoa2V5KSB7XG4gIHJldHVybiBrZXkucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiAnLScgKyBtYXRjaC50b0xvd2VyQ2FzZSgpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb252ZXJ0VG9LZWJhYkNhc2U7XG5cblxuLyoqKi8gfSksXG4vKiA0MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzQzX187XG5cbi8qKiovIH0pLFxuLyogNDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ2FsZW5kYXIgSGVhZGVyXG4gKiBAYXV0aG9yIE5ITi4gRkUgZGV2IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgZGVmaW5lQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEN1c3RvbUV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgY2xvc2VzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xudmFyIHJlbW92ZUVsZW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxudmFyIGxvY2FsZVRleHRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG52YXIgaGVhZGVyVG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xudmFyIERhdGVUaW1lRm9ybWF0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG52YXIgY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBtb3VzZVRvdWNoRXZlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxudmFyIFRZUEVfREFURSA9IGNvbnN0YW50cy5UWVBFX0RBVEU7XG52YXIgVFlQRV9NT05USCA9IGNvbnN0YW50cy5UWVBFX01PTlRIO1xudmFyIFRZUEVfWUVBUiA9IGNvbnN0YW50cy5UWVBFX1lFQVI7XG5cbnZhciBDTEFTU19OQU1FX1RJVExFX01PTlRIID0gJ3R1aS1jYWxlbmRhci10aXRsZS1tb250aCc7XG52YXIgQ0xBU1NfTkFNRV9USVRMRV9ZRUFSID0gJ3R1aS1jYWxlbmRhci10aXRsZS15ZWFyJztcbnZhciBDTEFTU19OQU1FX1RJVExFX1lFQVJfVE9fWUVBUiA9ICd0dWktY2FsZW5kYXItdGl0bGUteWVhci10by15ZWFyJztcblxudmFyIFNFTEVDVE9SX0lOTkVSX0VMRU0gPSAnLnR1aS1jYWxlbmRhci1oZWFkZXItaW5uZXInO1xudmFyIFNFTEVDVE9SX0lORk9fRUxFTSA9ICcudHVpLWNhbGVuZGFyLWhlYWRlci1pbmZvJztcbnZhciBTRUxFQ1RPUl9CVE4gPSAnLnR1aS1jYWxlbmRhci1idG4nO1xuXG52YXIgWUVBUl9USVRMRV9GT1JNQVQgPSAneXl5eSc7XG5cbi8qKlxuICogQGlnbm9yZVxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZ3xIVE1MRWxlbWVudH0gY29udGFpbmVyIC0gSGVhZGVyIGNvbnRhaW5lciBvciBzZWxlY3RvclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbiAtIEhlYWRlciBvcHRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb24ubGFuZ3VhZ2UgLSBIZWFkZXIgbGFuZ3VhZ2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9uLnNob3dUb2RheSAtIEhhcyB0b2RheSBib3ggb3Igbm90LlxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2hvd0p1bXBCdXR0b25zIC0gSGFzIGp1bXAgYnV0dG9ucyBvciBub3QuXG4gKi9cbnZhciBIZWFkZXIgPSBkZWZpbmVDbGFzcyhcbiAgLyoqIEBsZW5kcyBIZWFkZXIucHJvdG90eXBlICovIHtcbiAgICBpbml0OiBmdW5jdGlvbihjb250YWluZXIsIG9wdGlvbikge1xuICAgICAgLyoqXG4gICAgICAgKiBDb250YWluZXIgZWxlbWVudFxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gdXRpbC5nZXRFbGVtZW50KGNvbnRhaW5lcik7XG5cbiAgICAgIC8qKlxuICAgICAgICogSGVhZGVyIGlubmVyIGVsZW1lbnRcbiAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2lubmVyRWxlbWVudCA9IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogSGVhZGVyIGluZm8gZWxlbWVudFxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5faW5mb0VsZW1lbnQgPSBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIFJlbmRlciB0b2RheSBib3ggb3Igbm90XG4gICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3Nob3dUb2RheSA9IG9wdGlvbi5zaG93VG9kYXk7XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVuZGVyIGp1bXAgYnV0dG9ucyBvciBub3QgKG5leHQscHJldiB5ZWFyIG9uIGRhdGUgY2FsZW5kYXIpXG4gICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3Nob3dKdW1wQnV0dG9ucyA9IG9wdGlvbi5zaG93SnVtcEJ1dHRvbnM7XG5cbiAgICAgIC8qKlxuICAgICAgICogWWVhcl9Nb250aCB0aXRsZSBmb3JtYXR0ZXJcbiAgICAgICAqIEB0eXBlIHtEYXRlVGltZUZvcm1hdHRlcn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3llYXJNb250aFRpdGxlRm9ybWF0dGVyID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBZZWFyIHRpdGxlIGZvcm1hdHRlclxuICAgICAgICogQHR5cGUge0RhdGVUaW1lRm9ybWF0dGVyfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5feWVhclRpdGxlRm9ybWF0dGVyID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBUb2RheSBmb3JtYXR0ZXJcbiAgICAgICAqIEB0eXBlIHtEYXRlVGltZUZvcm1hdHRlcn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3RvZGF5Rm9ybWF0dGVyID0gbnVsbDtcblxuICAgICAgdGhpcy5fc2V0Rm9ybWF0dGVycyhsb2NhbGVUZXh0c1tvcHRpb24ubGFuZ3VhZ2VdKTtcbiAgICAgIHRoaXMuX3NldEV2ZW50cyhvcHRpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbG9jYWxlVGV4dCAtIExvY2FsZSB0ZXh0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0Rm9ybWF0dGVyczogZnVuY3Rpb24obG9jYWxlVGV4dCkge1xuICAgICAgdGhpcy5feWVhck1vbnRoVGl0bGVGb3JtYXR0ZXIgPSBuZXcgRGF0ZVRpbWVGb3JtYXR0ZXIoXG4gICAgICAgIGxvY2FsZVRleHQudGl0bGVGb3JtYXQsXG4gICAgICAgIGxvY2FsZVRleHQudGl0bGVzXG4gICAgICApO1xuICAgICAgdGhpcy5feWVhclRpdGxlRm9ybWF0dGVyID0gbmV3IERhdGVUaW1lRm9ybWF0dGVyKFlFQVJfVElUTEVfRk9STUFULCBsb2NhbGVUZXh0LnRpdGxlcyk7XG4gICAgICB0aGlzLl90b2RheUZvcm1hdHRlciA9IG5ldyBEYXRlVGltZUZvcm1hdHRlcihsb2NhbGVUZXh0LnRvZGF5Rm9ybWF0LCBsb2NhbGVUZXh0LnRpdGxlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb24gLSBDb25zdHJ1Y3RvciBvcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgbW91c2VUb3VjaEV2ZW50Lm9uKHRoaXMuX2NvbnRhaW5lciwgJ2NsaWNrJywgdGhpcy5fb25DbGlja0hhbmRsZXIsIHRoaXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW1vdmVFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5vZmYoKTtcbiAgICAgIG1vdXNlVG91Y2hFdmVudC5vZmYodGhpcy5fY29udGFpbmVyLCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrSGFuZGxlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpcmUgY3VzdG9tRXZlbnRzXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXYgQW4gZXZlbnQgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25DbGlja0hhbmRsZXI6IGZ1bmN0aW9uKGV2KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdXRpbC5nZXRUYXJnZXQoZXYpO1xuXG4gICAgICBpZiAoY2xvc2VzdCh0YXJnZXQsIFNFTEVDVE9SX0JUTikpIHtcbiAgICAgICAgdGhpcy5maXJlKCdjbGljaycsIGV2KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBDYWxlbmRhciB0eXBlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRUaXRsZUNsYXNzOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBUWVBFX0RBVEU6XG4gICAgICAgICAgcmV0dXJuIENMQVNTX05BTUVfVElUTEVfTU9OVEg7XG4gICAgICAgIGNhc2UgVFlQRV9NT05USDpcbiAgICAgICAgICByZXR1cm4gQ0xBU1NfTkFNRV9USVRMRV9ZRUFSO1xuICAgICAgICBjYXNlIFRZUEVfWUVBUjpcbiAgICAgICAgICByZXR1cm4gQ0xBU1NfTkFNRV9USVRMRV9ZRUFSX1RPX1lFQVI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGUgLSBkYXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBDYWxlbmRhciB0eXBlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRUaXRsZVRleHQ6IGZ1bmN0aW9uKGRhdGUsIHR5cGUpIHtcbiAgICAgIHZhciBjdXJyZW50WWVhciwgc3RhcnQsIGVuZDtcblxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgVFlQRV9EQVRFOlxuICAgICAgICAgIHJldHVybiB0aGlzLl95ZWFyTW9udGhUaXRsZUZvcm1hdHRlci5mb3JtYXQoZGF0ZSk7XG4gICAgICAgIGNhc2UgVFlQRV9NT05USDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5feWVhclRpdGxlRm9ybWF0dGVyLmZvcm1hdChkYXRlKTtcbiAgICAgICAgY2FzZSBUWVBFX1lFQVI6XG4gICAgICAgICAgY3VycmVudFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgc3RhcnQgPSBuZXcgRGF0ZShjdXJyZW50WWVhciAtIDQsIDAsIDEpO1xuICAgICAgICAgIGVuZCA9IG5ldyBEYXRlKGN1cnJlbnRZZWFyICsgNCwgMCwgMSk7XG5cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5feWVhclRpdGxlRm9ybWF0dGVyLmZvcm1hdChzdGFydCkgKyAnIC0gJyArIHRoaXMuX3llYXJUaXRsZUZvcm1hdHRlci5mb3JtYXQoZW5kKVxuICAgICAgICAgICk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgbGFuZ2F1Z2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2UgLSBMYW5ndWFnZVxuICAgICAqL1xuICAgIGNoYW5nZUxhbmd1YWdlOiBmdW5jdGlvbihsYW5ndWFnZSkge1xuICAgICAgdGhpcy5fc2V0Rm9ybWF0dGVycyhsb2NhbGVUZXh0c1tsYW5ndWFnZV0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgaGVhZGVyXG4gICAgICogQHBhcmFtIHtEYXRlfSBkYXRlIC0gZGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gQ2FsZW5kYXIgdHlwZVxuICAgICAqL1xuICAgIHJlbmRlcjogZnVuY3Rpb24oZGF0ZSwgdHlwZSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7XG4gICAgICAgIHNob3dUb2RheTogdGhpcy5fc2hvd1RvZGF5LFxuICAgICAgICBzaG93SnVtcEJ1dHRvbnM6IHRoaXMuX3Nob3dKdW1wQnV0dG9ucyxcbiAgICAgICAgdG9kYXlUZXh0OiB0aGlzLl90b2RheUZvcm1hdHRlci5mb3JtYXQobmV3IERhdGUoKSksXG4gICAgICAgIGlzRGF0ZUNhbGVuZGFyOiB0eXBlID09PSBUWVBFX0RBVEUsXG4gICAgICAgIHRpdGxlQ2xhc3M6IHRoaXMuX2dldFRpdGxlQ2xhc3ModHlwZSksXG4gICAgICAgIHRpdGxlOiB0aGlzLl9nZXRUaXRsZVRleHQoZGF0ZSwgdHlwZSlcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBoZWFkZXJUbXBsKGNvbnRleHQpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgICAgIHRoaXMuX2lubmVyRWxlbWVudCA9IHRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX0lOTkVSX0VMRU0pO1xuICAgICAgaWYgKGNvbnRleHQuc2hvd1RvZGF5KSB7XG4gICAgICAgIHRoaXMuX2luZm9FbGVtZW50ID0gdGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfSU5GT19FTEVNKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBoZWFkZXJcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50cygpO1xuICAgICAgcmVtb3ZlRWxlbWVudCh0aGlzLl9pbm5lckVsZW1lbnQpO1xuICAgICAgcmVtb3ZlRWxlbWVudCh0aGlzLl9pbmZvRWxlbWVudCk7XG4gICAgICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9zaG93VG9kYXkgPSB0aGlzLl9zaG93SnVtcEJ1dHRvbnMgPSB0aGlzLl95ZWFyTW9udGhUaXRsZUZvcm1hdHRlciA9IHRoaXMuX3llYXJUaXRsZUZvcm1hdHRlciA9IHRoaXMuX3RvZGF5Rm9ybWF0dGVyID0gdGhpcy5faW5uZXJFbGVtZW50ID0gdGhpcy5faW5mb0VsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgfVxuKTtcblxuQ3VzdG9tRXZlbnRzLm1peGluKEhlYWRlcik7XG5tb2R1bGUuZXhwb3J0cyA9IEhlYWRlcjtcblxuXG4vKioqLyB9KSxcbi8qIDQ1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0ZW1wbGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNvdXJjZSA9XG4gICAgJ3t7aWYgaXNEYXRlQ2FsZW5kYXJ9fScgK1xuICAgICcgIHt7aWYgc2hvd0p1bXBCdXR0b25zfX0nICtcbiAgICAnICAgIDxkaXYgY2xhc3M9XCJ0dWktY2FsZW5kYXItaGVhZGVyLWlubmVyIHR1aS1jYWxlbmRhci1oYXMtYnRuc1wiPicgK1xuICAgICcgICAgICA8YnV0dG9uIGNsYXNzPVwidHVpLWNhbGVuZGFyLWJ0biB0dWktY2FsZW5kYXItYnRuLXByZXYteWVhclwiPlByZXYgeWVhcjwvYnV0dG9uPicgK1xuICAgICcgICAgICA8YnV0dG9uIGNsYXNzPVwidHVpLWNhbGVuZGFyLWJ0biB0dWktY2FsZW5kYXItYnRuLXByZXYtbW9udGhcIj5QcmV2IG1vbnRoPC9idXR0b24+JyArXG4gICAgJyAgICAgIDxlbSBjbGFzcz1cInR1aS1jYWxlbmRhci10aXRsZSB7e3RpdGxlQ2xhc3N9fVwiPnt7dGl0bGV9fTwvZW0+JyArXG4gICAgJyAgICAgIDxidXR0b24gY2xhc3M9XCJ0dWktY2FsZW5kYXItYnRuIHR1aS1jYWxlbmRhci1idG4tbmV4dC1tb250aFwiPk5leHQgbW9udGg8L2J1dHRvbj4nICtcbiAgICAnICAgICAgPGJ1dHRvbiBjbGFzcz1cInR1aS1jYWxlbmRhci1idG4gdHVpLWNhbGVuZGFyLWJ0bi1uZXh0LXllYXJcIj5OZXh0IHllYXI8L2J1dHRvbj4nICtcbiAgICAnICAgIDwvZGl2PicgK1xuICAgICcgIHt7ZWxzZX19JyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwidHVpLWNhbGVuZGFyLWhlYWRlci1pbm5lclwiPicgK1xuICAgICcgICAgICA8YnV0dG9uIGNsYXNzPVwidHVpLWNhbGVuZGFyLWJ0biB0dWktY2FsZW5kYXItYnRuLXByZXYtbW9udGhcIj5QcmV2IG1vbnRoPC9idXR0b24+JyArXG4gICAgJyAgICAgIDxlbSBjbGFzcz1cInR1aS1jYWxlbmRhci10aXRsZSB7e3RpdGxlQ2xhc3N9fVwiPnt7dGl0bGV9fTwvZW0+JyArXG4gICAgJyAgICAgIDxidXR0b24gY2xhc3M9XCJ0dWktY2FsZW5kYXItYnRuIHR1aS1jYWxlbmRhci1idG4tbmV4dC1tb250aFwiPk5leHQgbW9udGg8L2J1dHRvbj4nICtcbiAgICAnICAgIDwvZGl2PicgK1xuICAgICcgIHt7L2lmfX0nICtcbiAgICAne3tlbHNlfX0nICtcbiAgICAnICA8ZGl2IGNsYXNzPVwidHVpLWNhbGVuZGFyLWhlYWRlci1pbm5lclwiPicgK1xuICAgICcgICAgPGJ1dHRvbiBjbGFzcz1cInR1aS1jYWxlbmRhci1idG4gdHVpLWNhbGVuZGFyLWJ0bi1wcmV2LXllYXJcIj5QcmV2IHllYXI8L2J1dHRvbj4nICtcbiAgICAnICAgIDxlbSBjbGFzcz1cInR1aS1jYWxlbmRhci10aXRsZSB7e3RpdGxlQ2xhc3N9fVwiPnt7dGl0bGV9fTwvZW0+JyArXG4gICAgJyAgICA8YnV0dG9uIGNsYXNzPVwidHVpLWNhbGVuZGFyLWJ0biB0dWktY2FsZW5kYXItYnRuLW5leHQteWVhclwiPk5leHQgeWVhcjwvYnV0dG9uPicgK1xuICAgICcgIDwvZGl2PicgK1xuICAgICd7ey9pZn19JyArXG4gICAgJ3t7aWYgc2hvd1RvZGF5fX0nICtcbiAgICAnICA8ZGl2IGNsYXNzPVwidHVpLWNhbGVuZGFyLWhlYWRlci1pbmZvXCI+JyArXG4gICAgJyAgICA8cCBjbGFzcz1cInR1aS1jYWxlbmRhci10aXRsZS10b2RheVwiPnt7dG9kYXlUZXh0fX08L3A+JyArXG4gICAgJyAgPC9kaXY+JyArXG4gICAgJ3t7L2lmfX0nO1xuXG4gIHJldHVybiB0ZW1wbGF0ZShzb3VyY2UsIGNvbnRleHQpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDQ2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgaW5zdGFuY2Ugb2YgSFRNTE5vZGUgb3Igbm90LlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBpbnN0YW5jZSBvZiBIVE1MTm9kZSBvciBub3QuXG4gKiBJZiB0aGUgZ2l2ZW4gdmFyaWFibGVzIGlzIGEgaW5zdGFuY2Ugb2YgSFRNTE5vZGUsIHJldHVybiB0cnVlLlxuICogQHBhcmFtIHsqfSBodG1sIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIEhUTUxOb2RlID9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICovXG5mdW5jdGlvbiBpc0hUTUxOb2RlKGh0bWwpIHtcbiAgaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gKGh0bWwgJiYgKGh0bWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCAhIWh0bWwubm9kZVR5cGUpKTtcbiAgfVxuXG4gIHJldHVybiAhIShodG1sICYmIGh0bWwubm9kZVR5cGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSFRNTE5vZGU7XG5cblxuLyoqKi8gfSksXG4vKiA0NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBTZW5kIGhvc3RuYW1lIG9uIERPTUNvbnRlbnRMb2FkZWQuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGlzVW5kZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgaW1hZ2VQaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cbnZhciBtczdkYXlzID0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGRhdGUgaGFzIHBhc3NlZCA3IGRheXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkYXRlIC0gbWlsbGlzZWNvbmRzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGlzRXhwaXJlZChkYXRlKSB7XG4gIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICByZXR1cm4gbm93IC0gZGF0ZSA+IG1zN2RheXM7XG59XG5cbi8qKlxuICogU2VuZCBob3N0bmFtZSBvbiBET01Db250ZW50TG9hZGVkLlxuICogVG8gcHJldmVudCBob3N0bmFtZSBzZXQgdHVpLnVzYWdlU3RhdGlzdGljcyB0byBmYWxzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBOYW1lIC0gYXBwbGljYXRpb24gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHRyYWNraW5nSWQgLSBHQSB0cmFja2luZyBJRFxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBzZW5kSG9zdG5hbWUoYXBwTmFtZSwgdHJhY2tpbmdJZCkge1xuICB2YXIgdXJsID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tL2NvbGxlY3QnO1xuICB2YXIgaG9zdG5hbWUgPSBsb2NhdGlvbi5ob3N0bmFtZTtcbiAgdmFyIGhpdFR5cGUgPSAnZXZlbnQnO1xuICB2YXIgZXZlbnRDYXRlZ29yeSA9ICd1c2UnO1xuICB2YXIgYXBwbGljYXRpb25LZXlGb3JTdG9yYWdlID0gJ1RPQVNUIFVJICcgKyBhcHBOYW1lICsgJyBmb3IgJyArIGhvc3RuYW1lICsgJzogU3RhdGlzdGljcyc7XG4gIHZhciBkYXRlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGFwcGxpY2F0aW9uS2V5Rm9yU3RvcmFnZSk7XG5cbiAgLy8gc2tpcCBpZiB0aGUgZmxhZyBpcyBkZWZpbmVkIGFuZCBpcyBzZXQgdG8gZmFsc2UgZXhwbGljaXRseVxuICBpZiAoIWlzVW5kZWZpbmVkKHdpbmRvdy50dWkpICYmIHdpbmRvdy50dWkudXNhZ2VTdGF0aXN0aWNzID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHNraXAgaWYgbm90IHBhc3Mgc2V2ZW4gZGF5cyBvbGRcbiAgaWYgKGRhdGUgJiYgIWlzRXhwaXJlZChkYXRlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShhcHBsaWNhdGlvbktleUZvclN0b3JhZ2UsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgIGltYWdlUGluZyh1cmwsIHtcbiAgICAgICAgdjogMSxcbiAgICAgICAgdDogaGl0VHlwZSxcbiAgICAgICAgdGlkOiB0cmFja2luZ0lkLFxuICAgICAgICBjaWQ6IGhvc3RuYW1lLFxuICAgICAgICBkcDogaG9zdG5hbWUsXG4gICAgICAgIGRoOiBhcHBOYW1lLFxuICAgICAgICBlbDogYXBwTmFtZSxcbiAgICAgICAgZWM6IGV2ZW50Q2F0ZWdvcnlcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgMTAwMCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2VuZEhvc3RuYW1lO1xuXG5cbi8qKiovIH0pLFxuLyogNDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgUmVxdWVzdCBpbWFnZSBwaW5nLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBmb3JFYWNoT3duUHJvcGVydGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG4vKipcbiAqIEBtb2R1bGUgcmVxdWVzdFxuICovXG5cbi8qKlxuICogUmVxdWVzdCBpbWFnZSBwaW5nLlxuICogQHBhcmFtIHtTdHJpbmd9IHVybCB1cmwgZm9yIHBpbmcgcmVxdWVzdFxuICogQHBhcmFtIHtPYmplY3R9IHRyYWNraW5nSW5mbyBpbmZvcyBmb3IgbWFrZSBxdWVyeSBzdHJpbmdcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAqIEBtZW1iZXJvZiBtb2R1bGU6cmVxdWVzdFxuICogQGV4YW1wbGVcbiAqIHZhciBpbWFnZVBpbmcgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L3JlcXVlc3QvaW1hZ2VQaW5nJyk7IC8vIG5vZGUsIGNvbW1vbmpzXG4gKlxuICogaW1hZ2VQaW5nKCdodHRwczovL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9jb2xsZWN0Jywge1xuICogICAgIHY6IDEsXG4gKiAgICAgdDogJ2V2ZW50JyxcbiAqICAgICB0aWQ6ICd0cmFja2luZ2lkJyxcbiAqICAgICBjaWQ6ICdjaWQnLFxuICogICAgIGRwOiAnZHAnLFxuICogICAgIGRoOiAnZGgnXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gaW1hZ2VQaW5nKHVybCwgdHJhY2tpbmdJbmZvKSB7XG4gIHZhciB0cmFja2luZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgdmFyIHF1ZXJ5U3RyaW5nID0gJyc7XG4gIGZvckVhY2hPd25Qcm9wZXJ0aWVzKHRyYWNraW5nSW5mbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHF1ZXJ5U3RyaW5nICs9ICcmJyArIGtleSArICc9JyArIHZhbHVlO1xuICB9KTtcbiAgcXVlcnlTdHJpbmcgPSBxdWVyeVN0cmluZy5zdWJzdHJpbmcoMSk7XG5cbiAgdHJhY2tpbmdFbGVtZW50LnNyYyA9IHVybCArICc/JyArIHF1ZXJ5U3RyaW5nO1xuXG4gIHRyYWNraW5nRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRyYWNraW5nRWxlbWVudCk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodHJhY2tpbmdFbGVtZW50KTtcblxuICByZXR1cm4gdHJhY2tpbmdFbGVtZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGltYWdlUGluZztcblxuXG4vKioqLyB9KSxcbi8qIDQ5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENhbGVuZGFyIGJvZHlcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGZvckVhY2hBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgZGVmaW5lQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgRGF0ZUxheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG52YXIgTW9udGhMYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xudmFyIFllYXJMYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xudmFyIGNvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBUWVBFX0RBVEUgPSBjb25zdGFudHMuVFlQRV9EQVRFO1xudmFyIFRZUEVfTU9OVEggPSBjb25zdGFudHMuVFlQRV9NT05USDtcbnZhciBUWVBFX1lFQVIgPSBjb25zdGFudHMuVFlQRV9ZRUFSO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBjbGFzc1xuICovXG52YXIgQm9keSA9IGRlZmluZUNsYXNzKFxuICAvKiogQGxlbmRzIEJvZHkucHJvdG90eXBlICovIHtcbiAgICBpbml0OiBmdW5jdGlvbihib2R5Q29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFuZ3VhZ2UgPSBvcHRpb25zLmxhbmd1YWdlO1xuICAgICAgdmFyIHdlZWtTdGFydERheSA9IG9wdGlvbnMud2Vla1N0YXJ0RGF5O1xuXG4gICAgICAvKipcbiAgICAgICAqIEJvZHkgY29udGFpbmVyIGVsZW1lbnRcbiAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGJvZHlDb250YWluZXI7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGF0ZUxheWVyXG4gICAgICAgKiBAdHlwZSB7RGF0ZUxheWVyfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fZGF0ZUxheWVyID0gbmV3IERhdGVMYXllcihsYW5ndWFnZSwgd2Vla1N0YXJ0RGF5KTtcblxuICAgICAgLyoqXG4gICAgICAgKiBNb250aExheWVyXG4gICAgICAgKiBAdHlwZSB7TW9udGhMYXllcn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX21vbnRoTGF5ZXIgPSBuZXcgTW9udGhMYXllcihsYW5ndWFnZSk7XG5cbiAgICAgIC8qKlxuICAgICAgICogWWVhckxheWVyXG4gICAgICAgKiBAdHlwZSB7WWVhckxheWVyfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5feWVhckxheWVyID0gbmV3IFllYXJMYXllcihsYW5ndWFnZSk7XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3VycmVudCBMYXllclxuICAgICAgICogQHR5cGUge0RhdGVMYXllcnxNb250aExheWVyfFllYXJMYXllcn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2N1cnJlbnRMYXllciA9IHRoaXMuX2RhdGVMYXllcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBtYXRjaGVkIGxheWVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBMYXllciB0eXBlXG4gICAgICogQHJldHVybnMge0Jhc2V9IC0gTGF5ZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRMYXllcjogZnVuY3Rpb24odHlwZSkge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgVFlQRV9EQVRFOlxuICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRlTGF5ZXI7XG4gICAgICAgIGNhc2UgVFlQRV9NT05USDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhMYXllcjtcbiAgICAgICAgY2FzZSBUWVBFX1lFQVI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3llYXJMYXllcjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudExheWVyO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIGVhY2ggbGF5ZXJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZWFjaExheWVyOiBmdW5jdGlvbihmbikge1xuICAgICAgZm9yRWFjaEFycmF5KFt0aGlzLl9kYXRlTGF5ZXIsIHRoaXMuX21vbnRoTGF5ZXIsIHRoaXMuX3llYXJMYXllcl0sIGZuKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIGxhbmd1YWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIC0gTGFuZ3VhZ2VcbiAgICAgKi9cbiAgICBjaGFuZ2VMYW5ndWFnZTogZnVuY3Rpb24obGFuZ3VhZ2UpIHtcbiAgICAgIHRoaXMuX2VhY2hMYXllcihmdW5jdGlvbihsYXllcikge1xuICAgICAgICBsYXllci5jaGFuZ2VMYW5ndWFnZShsYW5ndWFnZSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGJvZHlcbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGUgLSBkYXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBMYXllciB0eXBlXG4gICAgICovXG4gICAgcmVuZGVyOiBmdW5jdGlvbihkYXRlLCB0eXBlKSB7XG4gICAgICB2YXIgbmV4dExheWVyID0gdGhpcy5fZ2V0TGF5ZXIodHlwZSk7XG4gICAgICB2YXIgcHJldkxheWVyID0gdGhpcy5fY3VycmVudExheWVyO1xuXG4gICAgICBwcmV2TGF5ZXIucmVtb3ZlKCk7XG4gICAgICBuZXh0TGF5ZXIucmVuZGVyKGRhdGUsIHRoaXMuX2NvbnRhaW5lcik7XG5cbiAgICAgIHRoaXMuX2N1cnJlbnRMYXllciA9IG5leHRMYXllcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkYXRlIGVsZW1lbnRzXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAgICovXG4gICAgZ2V0RGF0ZUVsZW1lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50TGF5ZXIuZ2V0RGF0ZUVsZW1lbnRzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlc3RvcnlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2VhY2hMYXllcihmdW5jdGlvbihsYXllcikge1xuICAgICAgICBsYXllci5yZW1vdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9jdXJyZW50TGF5ZXIgPSB0aGlzLl9kYXRlTGF5ZXIgPSB0aGlzLl9tb250aExheWVyID0gdGhpcy5feWVhckxheWVyID0gbnVsbDtcbiAgICB9XG4gIH1cbik7XG5cbm1vZHVsZS5leHBvcnRzID0gQm9keTtcblxuXG4vKioqLyB9KSxcbi8qIDUwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IERhdGUgbGF5ZXJcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGRlZmluZUNsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIGRhdGVVdGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBib2R5VG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xudmFyIExheWVyQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIFRZUEVfREFURSA9IF9fd2VicGFja19yZXF1aXJlX18oMSkuVFlQRV9EQVRFO1xudmFyIFdFRUtfU1RBUlRfREFZX01BUCA9IF9fd2VicGFja19yZXF1aXJlX18oMSkuV0VFS19TVEFSVF9EQVlfTUFQO1xuXG52YXIgREFURV9TRUxFQ1RPUiA9ICcudHVpLWNhbGVuZGFyLWRhdGUnO1xudmFyIERBWVNfT0ZfV0VFSyA9IDc7XG5cbi8qKlxuICogQGlnbm9yZVxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBMYXllckJhc2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIEluaXRpYWwgbGFuZ3VhZ2VcbiAqL1xudmFyIERhdGVMYXllciA9IGRlZmluZUNsYXNzKFxuICBMYXllckJhc2UsXG4gIC8qKiBAbGVuZHMgRGF0ZUxheWVyLnByb3RvdHlwZSAqLyB7XG4gICAgaW5pdDogZnVuY3Rpb24obGFuZ3VhZ2UsIHdlZWtTdGFydERheSkge1xuICAgICAgTGF5ZXJCYXNlLmNhbGwodGhpcywgbGFuZ3VhZ2UpO1xuXG4gICAgICB0aGlzLndlZWtTdGFydERheSA9IFdFRUtfU1RBUlRfREFZX01BUFtTdHJpbmcod2Vla1N0YXJ0RGF5KS50b0xvd2VyQ2FzZSgpXSB8fCAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMYXllciB0eXBlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90eXBlOiBUWVBFX0RBVEUsXG5cbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFRlbXBsYXRlIGNvbnRleHRcbiAgICAgKi9cbiAgICBfbWFrZUNvbnRleHQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHZhciBkYXlzU2hvcnQgPSB0aGlzLl9sb2NhbGVUZXh0LnRpdGxlcy5EO1xuICAgICAgdmFyIHllYXIsIG1vbnRoLCBkYXlzLCBpO1xuXG4gICAgICBkYXRlID0gZGF0ZSB8fCBuZXcgRGF0ZSgpO1xuICAgICAgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcblxuICAgICAgaWYgKHRoaXMud2Vla1N0YXJ0RGF5KSB7XG4gICAgICAgIGRheXMgPSBkYXlzU2hvcnQuc2xpY2UoKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMud2Vla1N0YXJ0RGF5OyBpICs9IDEpIHtcbiAgICAgICAgICBkYXlzLnB1c2goZGF5cy5zaGlmdCgpKTtcbiAgICAgICAgfVxuICAgICAgICBkYXlzU2hvcnQgPSBkYXlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBTdW46IGRheXNTaG9ydFswXSxcbiAgICAgICAgTW9uOiBkYXlzU2hvcnRbMV0sXG4gICAgICAgIFR1ZTogZGF5c1Nob3J0WzJdLFxuICAgICAgICBXZWQ6IGRheXNTaG9ydFszXSxcbiAgICAgICAgVGh1OiBkYXlzU2hvcnRbNF0sXG4gICAgICAgIEZyaTogZGF5c1Nob3J0WzVdLFxuICAgICAgICBTYXQ6IGRheXNTaG9ydFs2XSxcbiAgICAgICAgeWVhcjogeWVhcixcbiAgICAgICAgbW9udGg6IG1vbnRoLFxuICAgICAgICB3ZWVrczogdGhpcy5fZ2V0V2Vla3MoeWVhciwgbW9udGgpXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB3ZWVrcyAodGVtcGxhdGluZykgZm9yIGRhdGUtY2FsZW5kYXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geWVhciAtIFllYXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbW9udGggLSBNb250aFxuICAgICAqIEByZXR1cm5zIHtBcnJheS48QXJyYXkuPERhdGU+Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRXZWVrczogZnVuY3Rpb24oeWVhciwgbW9udGgpIHtcbiAgICAgIHZhciB3ZWVrTnVtYmVyID0gMDtcbiAgICAgIHZhciB3ZWVrc0NvdW50ID0gNjsgLy8gRml4IGZvciBubyBjaGFuZ2luZyBoZWlnaHRcbiAgICAgIHZhciB3ZWVrcyA9IFtdO1xuICAgICAgdmFyIHdlZWssIGRhdGVzLCBpO1xuXG4gICAgICB3aGlsZSAod2Vla051bWJlciA8IHdlZWtzQ291bnQpIHtcbiAgICAgICAgZGF0ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGkgPSB0aGlzLndlZWtTdGFydERheTsgaSA8IERBWVNfT0ZfV0VFSyArIHRoaXMud2Vla1N0YXJ0RGF5OyBpICs9IDEpIHtcbiAgICAgICAgICBkYXRlcy5wdXNoKGRhdGVVdGlsLmdldERhdGVPZldlZWsoeWVhciwgbW9udGgsIHdlZWtOdW1iZXIsIGkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdlZWsgPSB0aGlzLl9nZXRXZWVrKHllYXIsIG1vbnRoLCBkYXRlcyk7XG5cbiAgICAgICAgaWYgKHRoaXMud2Vla1N0YXJ0RGF5ICYmICFfaXNGaXJzdFdlZWsod2Vla051bWJlciwgd2Vla1swXS5kYXlJbk1vbnRoKSkge1xuICAgICAgICAgIHdlZWtzLnB1c2godGhpcy5fZ2V0Rmlyc3RXZWVrKHllYXIsIG1vbnRoKSk7XG4gICAgICAgICAgd2Vla3NDb3VudCAtPSAxOyAvLyBGaXggZm9yIG5vIGNoYW5naW5nIGhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgd2Vla3MucHVzaCh3ZWVrKTtcbiAgICAgICAgd2Vla051bWJlciArPSAxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gd2Vla3M7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHdlZWsgKHRlbXBsYXRpbmcpIGZvciBkYXRlLWNhbGVuZGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRZZWFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRNb250aFxuICAgICAqIEBwYXJhbSB7QXJyYXkuPERhdGU+fSBkYXRlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFdlZWs6IGZ1bmN0aW9uKGN1cnJlbnRZZWFyLCBjdXJyZW50TW9udGgsIGRhdGVzKSB7XG4gICAgICB2YXIgZmlyc3REYXRlT2ZDdXJyZW50TW9udGggPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgY3VycmVudE1vbnRoIC0gMSwgMSk7XG4gICAgICB2YXIgbGFzdERhdGVPZkN1cnJlbnRNb250aCA9IG5ldyBEYXRlKGN1cnJlbnRZZWFyLCBjdXJyZW50TW9udGgsIDApO1xuICAgICAgdmFyIGNvbnRleHRzID0gW107XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB2YXIgbGVuZ3RoID0gZGF0ZXMubGVuZ3RoO1xuICAgICAgdmFyIGRhdGUsIGNsYXNzTmFtZTtcblxuICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjbGFzc05hbWUgPSAndHVpLWNhbGVuZGFyLWRhdGUnO1xuICAgICAgICBkYXRlID0gZGF0ZXNbaV07XG5cbiAgICAgICAgaWYgKGRhdGUgPCBmaXJzdERhdGVPZkN1cnJlbnRNb250aCkge1xuICAgICAgICAgIGNsYXNzTmFtZSArPSAnIHR1aS1jYWxlbmRhci1wcmV2LW1vbnRoJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRlID4gbGFzdERhdGVPZkN1cnJlbnRNb250aCkge1xuICAgICAgICAgIGNsYXNzTmFtZSArPSAnIHR1aS1jYWxlbmRhci1uZXh0LW1vbnRoJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRlLmdldERheSgpID09PSAwKSB7XG4gICAgICAgICAgY2xhc3NOYW1lICs9ICcgdHVpLWNhbGVuZGFyLXN1bic7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0ZS5nZXREYXkoKSA9PT0gNikge1xuICAgICAgICAgIGNsYXNzTmFtZSArPSAnIHR1aS1jYWxlbmRhci1zYXQnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dHMucHVzaCh7XG4gICAgICAgICAgZGF5SW5Nb250aDogZGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgICAgdGltZXN0YW1wOiBkYXRlLmdldFRpbWUoKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRleHRzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgZGF0ZS1sYXllclxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSBEYXRlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciBBIGNvbnRhaW5lciBlbGVtZW50IGZvciB0aGUgcmVuZGVyZWQgZWxlbWVudFxuICAgICAqL1xuICAgIHJlbmRlcjogZnVuY3Rpb24oZGF0ZSwgY29udGFpbmVyKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMuX21ha2VDb250ZXh0KGRhdGUpO1xuXG4gICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYm9keVRtcGwoY29udGV4dCk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gY29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBkYXRlIGVsZW1lbnRzXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAgICovXG4gICAgZ2V0RGF0ZUVsZW1lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoREFURV9TRUxFQ1RPUik7XG4gICAgfSxcblxuICAgIF9nZXRGaXJzdFdlZWs6IGZ1bmN0aW9uKHllYXIsIG1vbnRoKSB7XG4gICAgICB2YXIgZmlyc3RXZWVrRGF0ZXMgPSBbXTtcbiAgICAgIHZhciBpO1xuXG4gICAgICBmb3IgKGkgPSB0aGlzLndlZWtTdGFydERheTsgaSA8IERBWVNfT0ZfV0VFSyArIHRoaXMud2Vla1N0YXJ0RGF5OyBpICs9IDEpIHtcbiAgICAgICAgZmlyc3RXZWVrRGF0ZXMucHVzaChkYXRlVXRpbC5nZXREYXRlT2ZXZWVrKHllYXIsIG1vbnRoLCAtMSwgaSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fZ2V0V2Vlayh5ZWFyLCBtb250aCwgZmlyc3RXZWVrRGF0ZXMpO1xuICAgIH1cbiAgfVxuKTtcblxuZnVuY3Rpb24gX2lzRmlyc3RXZWVrKHdlZWtJbmRleCwgZGF5SW5Nb250aCkge1xuICByZXR1cm4gd2Vla0luZGV4IHx8IGRheUluTW9udGggPT09IDEgfHwgZGF5SW5Nb250aCA+IERBWVNfT0ZfV0VFSztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEYXRlTGF5ZXI7XG5cblxuLyoqKi8gfSksXG4vKiA1MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgdGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBzb3VyY2UgPVxuICAgICc8dGFibGUgY2xhc3M9XCJ0dWktY2FsZW5kYXItYm9keS1pbm5lclwiIGNlbGxzcGFjaW5nPVwiMFwiIGNlbGxwYWRkaW5nPVwiMFwiPicgK1xuICAgICcgIDxjYXB0aW9uPjxzcGFuPkRhdGVzPC9zcGFuPjwvY2FwdGlvbj4nICtcbiAgICAnICA8dGhlYWQgY2xhc3M9XCJ0dWktY2FsZW5kYXItYm9keS1oZWFkZXJcIj4nICtcbiAgICAnICAgIDx0cj4nICtcbiAgICAnICAgICAgPHRoIGNsYXNzPVwidHVpLXN1blwiIHNjb3BlPVwiY29sXCI+e3tTdW59fTwvdGg+JyArXG4gICAgJyAgICAgIDx0aCBzY29wZT1cImNvbFwiPnt7TW9ufX08L3RoPicgK1xuICAgICcgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e1R1ZX19PC90aD4nICtcbiAgICAnICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3tXZWR9fTwvdGg+JyArXG4gICAgJyAgICAgIDx0aCBzY29wZT1cImNvbFwiPnt7VGh1fX08L3RoPicgK1xuICAgICcgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e0ZyaX19PC90aD4nICtcbiAgICAnICAgICAgPHRoIGNsYXNzPVwidHVpLXNhdFwiIHNjb3BlPVwiY29sXCI+e3tTYXR9fTwvdGg+JyArXG4gICAgJyAgICA8L3RyPicgK1xuICAgICcgIDwvdGhlYWQ+JyArXG4gICAgJyAgPHRib2R5PicgK1xuICAgICcgICAge3tlYWNoIHdlZWtzfX0nICtcbiAgICAnICAgIDx0ciBjbGFzcz1cInR1aS1jYWxlbmRhci13ZWVrXCI+JyArXG4gICAgJyAgICAgIHt7ZWFjaCBAdGhpc319JyArXG4gICAgJyAgICAgIDx0ZCBjbGFzcz1cInt7QHRoaXNbXCJjbGFzc05hbWVcIl19fVwiIGRhdGEtdGltZXN0YW1wPVwie3tAdGhpc1tcInRpbWVzdGFtcFwiXX19XCI+e3tAdGhpc1tcImRheUluTW9udGhcIl19fTwvdGQ+JyArXG4gICAgJyAgICAgIHt7L2VhY2h9fScgK1xuICAgICcgICAgPC90cj4nICtcbiAgICAnICAgIHt7L2VhY2h9fScgK1xuICAgICcgIDwvdGJvZHk+JyArXG4gICAgJzwvdGFibGU+JztcblxuICByZXR1cm4gdGVtcGxhdGUoc291cmNlLCBjb250ZXh0KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA1MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBNb250aCBsYXllclxuICogQGF1dGhvciBOSE4uIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgZGVmaW5lQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgYm9keVRtcGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcbnZhciBMYXllckJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciBUWVBFX01PTlRIID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKS5UWVBFX01PTlRIO1xudmFyIGRhdGVVdGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIERBVEVfU0VMRUNUT1IgPSAnLnR1aS1jYWxlbmRhci1tb250aCc7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBMYXllckJhc2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIEluaXRpYWwgbGFuZ3VhZ2VcbiAqIEBpZ25vcmVcbiAqL1xudmFyIE1vbnRoTGF5ZXIgPSBkZWZpbmVDbGFzcyhcbiAgTGF5ZXJCYXNlLFxuICAvKiogQGxlbmRzIE1vbnRoTGF5ZXIucHJvdG90eXBlICovIHtcbiAgICBpbml0OiBmdW5jdGlvbihsYW5ndWFnZSkge1xuICAgICAgTGF5ZXJCYXNlLmNhbGwodGhpcywgbGFuZ3VhZ2UpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMYXllciB0eXBlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90eXBlOiBUWVBFX01PTlRILFxuXG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybnMge29iamVjdH0gVGVtcGxhdGUgY29udGV4dFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21ha2VDb250ZXh0OiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICB2YXIgbW9udGhzU2hvcnQgPSB0aGlzLl9sb2NhbGVUZXh0LnRpdGxlcy5NTU07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHllYXI6IGRhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgSmFuOiBtb250aHNTaG9ydFswXSxcbiAgICAgICAgRmViOiBtb250aHNTaG9ydFsxXSxcbiAgICAgICAgTWFyOiBtb250aHNTaG9ydFsyXSxcbiAgICAgICAgQXByOiBtb250aHNTaG9ydFszXSxcbiAgICAgICAgTWF5OiBtb250aHNTaG9ydFs0XSxcbiAgICAgICAgSnVuOiBtb250aHNTaG9ydFs1XSxcbiAgICAgICAgSnVsOiBtb250aHNTaG9ydFs2XSxcbiAgICAgICAgQXVnOiBtb250aHNTaG9ydFs3XSxcbiAgICAgICAgU2VwOiBtb250aHNTaG9ydFs4XSxcbiAgICAgICAgT2N0OiBtb250aHNTaG9ydFs5XSxcbiAgICAgICAgTm92OiBtb250aHNTaG9ydFsxMF0sXG4gICAgICAgIERlYzogbW9udGhzU2hvcnRbMTFdLFxuICAgICAgICBnZXRGaXJzdERheVRpbWVzdGFtcDogZGF0ZVV0aWwuZ2V0Rmlyc3REYXlUaW1lc3RhbXBcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBtb250aC1sYXllciBlbGVtZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtEYXRlfSBkYXRlIERhdGUgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyIEEgY29udGFpbmVyIGVsZW1lbnQgZm9yIHRoZSByZW5kZXJlZCBlbGVtZW50XG4gICAgICovXG4gICAgcmVuZGVyOiBmdW5jdGlvbihkYXRlLCBjb250YWluZXIpIHtcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5fbWFrZUNvbnRleHQoZGF0ZSk7XG5cbiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBib2R5VG1wbChjb250ZXh0KTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBjb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBtb250aCBlbGVtZW50c1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFtdfVxuICAgICAqL1xuICAgIGdldERhdGVFbGVtZW50czogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKERBVEVfU0VMRUNUT1IpO1xuICAgIH1cbiAgfVxuKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb250aExheWVyO1xuXG5cbi8qKiovIH0pLFxuLyogNTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHRlbXBsYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgc291cmNlID1cbiAgICAnPHRhYmxlIGNsYXNzPVwidHVpLWNhbGVuZGFyLWJvZHktaW5uZXJcIj4nICtcbiAgICAnICA8Y2FwdGlvbj48c3Bhbj5Nb250aHM8L3NwYW4+PC9jYXB0aW9uPicgK1xuICAgICcgIDx0Ym9keT4nICtcbiAgICAnICAgIDx0ciBjbGFzcz1cInR1aS1jYWxlbmRhci1tb250aC1ncm91cFwiPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgMH19Pnt7SmFufX08L3RkPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgMX19Pnt7RmVifX08L3RkPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgMn19Pnt7TWFyfX08L3RkPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgM319Pnt7QXByfX08L3RkPicgK1xuICAgICcgICAgPC90cj4nICtcbiAgICAnICAgIDx0ciBjbGFzcz1cInR1aS1jYWxlbmRhci1tb250aC1ncm91cFwiPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgNH19Pnt7TWF5fX08L3RkPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgNX19Pnt7SnVufX08L3RkPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgNn19Pnt7SnVsfX08L3RkPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgN319Pnt7QXVnfX08L3RkPicgK1xuICAgICcgICAgPC90cj4nICtcbiAgICAnICAgIDx0ciBjbGFzcz1cInR1aS1jYWxlbmRhci1tb250aC1ncm91cFwiPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgOH19Pnt7U2VwfX08L3RkPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgOX19Pnt7T2N0fX08L3RkPicgK1xuICAgICcgICAgICA8dGQgY2xhc3M9XCJ0dWktY2FsZW5kYXItbW9udGhcIiBkYXRhLXRpbWVzdGFtcD17e2dldEZpcnN0RGF5VGltZXN0YW1wIHllYXIgMTB9fT57e05vdn19PC90ZD4nICtcbiAgICAnICAgICAgPHRkIGNsYXNzPVwidHVpLWNhbGVuZGFyLW1vbnRoXCIgZGF0YS10aW1lc3RhbXA9e3tnZXRGaXJzdERheVRpbWVzdGFtcCB5ZWFyIDExfX0+e3tEZWN9fTwvdGQ+JyArXG4gICAgJyAgICA8L3RyPicgK1xuICAgICcgIDwvdGJvZHk+JyArXG4gICAgJzwvdGFibGU+JztcblxuICByZXR1cm4gdGVtcGxhdGUoc291cmNlLCBjb250ZXh0KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA1NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBZZWFyIGxheWVyXG4gKiBAYXV0aG9yIE5ITi4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBkZWZpbmVDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBib2R5VG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xudmFyIExheWVyQmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIFRZUEVfWUVBUiA9IF9fd2VicGFja19yZXF1aXJlX18oMSkuVFlQRV9ZRUFSO1xudmFyIGRhdGVVdGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIERBVEVfU0VMRUNUT1IgPSAnLnR1aS1jYWxlbmRhci15ZWFyJztcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIExheWVyQmFzZVxuICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIC0gSW5pdGlhbCBsYW5ndWFnZVxuICogQGlnbm9yZVxuICovXG52YXIgWWVhckxheWVyID0gZGVmaW5lQ2xhc3MoXG4gIExheWVyQmFzZSxcbiAgLyoqIEBsZW5kcyBZZWFyTGF5ZXIucHJvdG90eXBlICovIHtcbiAgICBpbml0OiBmdW5jdGlvbihsYW5ndWFnZSkge1xuICAgICAgTGF5ZXJCYXNlLmNhbGwodGhpcywgbGFuZ3VhZ2UpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMYXllciB0eXBlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90eXBlOiBUWVBFX1lFQVIsXG5cbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBUZW1wbGF0ZSBjb250ZXh0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWFrZUNvbnRleHQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyR3JvdXBzOiBbXG4gICAgICAgICAgZGF0ZVV0aWwuZ2V0UmFuZ2VBcnIoeWVhciAtIDQsIHllYXIgLSAyKSxcbiAgICAgICAgICBkYXRlVXRpbC5nZXRSYW5nZUFycih5ZWFyIC0gMSwgeWVhciArIDEpLFxuICAgICAgICAgIGRhdGVVdGlsLmdldFJhbmdlQXJyKHllYXIgKyAyLCB5ZWFyICsgNClcbiAgICAgICAgXSxcbiAgICAgICAgZ2V0Rmlyc3REYXlUaW1lc3RhbXA6IGRhdGVVdGlsLmdldEZpcnN0RGF5VGltZXN0YW1wXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgeWVhci1sYXllciBlbGVtZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtEYXRlfSBkYXRlIERhdGUgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyIEEgY29udGFpbmVyIGVsZW1lbnQgZm9yIHRoZSByZW5kZXJlZCBlbGVtZW50XG4gICAgICovXG4gICAgcmVuZGVyOiBmdW5jdGlvbihkYXRlLCBjb250YWluZXIpIHtcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5fbWFrZUNvbnRleHQoZGF0ZSk7XG5cbiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBib2R5VG1wbChjb250ZXh0KTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBjb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB5ZWFyIGVsZW1lbnRzXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAgICovXG4gICAgZ2V0RGF0ZUVsZW1lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoREFURV9TRUxFQ1RPUik7XG4gICAgfVxuICB9XG4pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFllYXJMYXllcjtcblxuXG4vKioqLyB9KSxcbi8qIDU1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0ZW1wbGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNvdXJjZSA9XG4gICAgJzx0YWJsZSBjbGFzcz1cInR1aS1jYWxlbmRhci1ib2R5LWlubmVyXCI+JyArXG4gICAgJyAgPGNhcHRpb24+PHNwYW4+WWVhcnM8L3NwYW4+PC9jYXB0aW9uPicgK1xuICAgICcgIDx0Ym9keT4nICtcbiAgICAnICAgIHt7ZWFjaCB5ZWFyR3JvdXBzfX0nICtcbiAgICAnICAgIDx0ciBjbGFzcz1cInR1aS1jYWxlbmRhci15ZWFyLWdyb3VwXCI+JyArXG4gICAgJyAgICAgIHt7ZWFjaCBAdGhpc319JyArXG4gICAgJyAgICAgIDx0ZCBjbGFzcz1cInR1aS1jYWxlbmRhci15ZWFyXCIgZGF0YS10aW1lc3RhbXA9e3tnZXRGaXJzdERheVRpbWVzdGFtcCBAdGhpcyAwfX0+JyArXG4gICAgJyAgICAgICAge3tAdGhpc319JyArXG4gICAgJyAgICAgIDwvdGQ+JyArXG4gICAgJyAgICAgIHt7L2VhY2h9fScgK1xuICAgICcgICAgPC90cj4nICtcbiAgICAnICAgIHt7L2VhY2h9fScgK1xuICAgICcgIDwvdGJvZHk+JyArXG4gICAgJzwvdGFibGU+JztcblxuICByZXR1cm4gdGVtcGxhdGUoc291cmNlLCBjb250ZXh0KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBSYW5nZU1vZGVsXG4gKiBAYXV0aG9yIE5ITi4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBmb3JFYWNoQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGRlZmluZUNsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBpc051bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXG52YXIgUmFuZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7QXJyYXkuPEFycmF5LjxudW1iZXI+Pn0gcmFuZ2VzIC0gUmFuZ2VzXG4gKi9cbnZhciBSYW5nZU1vZGVsID0gZGVmaW5lQ2xhc3MoXG4gIC8qKiBAbGVuZHMgUmFuZ2VNb2RlbC5wcm90b3R5cGUgKi8ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKHJhbmdlcykge1xuICAgICAgcmFuZ2VzID0gcmFuZ2VzIHx8IFtdO1xuXG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtBcnJheS48UmFuZ2U+fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fcmFuZ2VzID0gW107XG5cbiAgICAgIGZvckVhY2hBcnJheShcbiAgICAgICAgcmFuZ2VzLFxuICAgICAgICBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICAgIHRoaXMuYWRkKHJhbmdlWzBdLCByYW5nZVsxXSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHJhbmdlcyBjb250YWluIGEgdGltZSBvciB0aW1lLXJhbmdlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IC0gU3RhcnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZF0gLSBFbmRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjb250YWluczogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuX3Jhbmdlcy5sZW5ndGg7XG4gICAgICB2YXIgcmFuZ2U7XG5cbiAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgcmFuZ2UgPSB0aGlzLl9yYW5nZXNbaV07XG4gICAgICAgIGlmIChyYW5nZS5jb250YWlucyhzdGFydCwgZW5kKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvdmVybGFwcyB3aXRoIGEgcG9pbnQgb3IgcmFuZ2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBTdGFydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXSAtIEVuZFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGhhc092ZXJsYXA6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHZhciBsZW5ndGggPSB0aGlzLl9yYW5nZXMubGVuZ3RoO1xuICAgICAgdmFyIHJhbmdlO1xuXG4gICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHJhbmdlID0gdGhpcy5fcmFuZ2VzW2ldO1xuICAgICAgICBpZiAocmFuZ2UuaXNPdmVybGFwcGVkKHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgcmFuZ2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBTdGFydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXSAtIEVuZFxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIG92ZXJsYXBwZWQgPSBmYWxzZTtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHZhciBsZW4gPSB0aGlzLl9yYW5nZXMubGVuZ3RoO1xuICAgICAgdmFyIHJhbmdlO1xuXG4gICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgIHJhbmdlID0gdGhpcy5fcmFuZ2VzW2ldO1xuICAgICAgICBvdmVybGFwcGVkID0gcmFuZ2UuaXNPdmVybGFwcGVkKHN0YXJ0LCBlbmQpO1xuXG4gICAgICAgIGlmIChvdmVybGFwcGVkKSB7XG4gICAgICAgICAgcmFuZ2UubWVyZ2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnQgPCByYW5nZS5zdGFydCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghb3ZlcmxhcHBlZCkge1xuICAgICAgICB0aGlzLl9yYW5nZXMuc3BsaWNlKGksIDAsIG5ldyBSYW5nZShzdGFydCwgZW5kKSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgbWluaW11bSB2YWx1ZSBpbiByYW5nZXNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldE1pbmltdW1WYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmFuZ2VzWzBdLnN0YXJ0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG1heGltdW0gdmFsdWUgaW4gcmFuZ2VzXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXRNYXhpbXVtVmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuX3Jhbmdlcy5sZW5ndGg7XG5cbiAgICAgIHJldHVybiB0aGlzLl9yYW5nZXNbbGVuZ3RoIC0gMV0uZW5kO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBTdGFydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXSAtIEVuZFxuICAgICAqL1xuICAgIGV4Y2x1ZGU6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIGlmICghaXNOdW1iZXIoZW5kKSkge1xuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgIH1cblxuICAgICAgZm9yRWFjaEFycmF5KFxuICAgICAgICB0aGlzLl9yYW5nZXMsXG4gICAgICAgIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgdmFyIHJhbmdlRW5kO1xuXG4gICAgICAgICAgaWYgKHJhbmdlLmlzT3ZlcmxhcHBlZChzdGFydCwgZW5kKSkge1xuICAgICAgICAgICAgcmFuZ2VFbmQgPSByYW5nZS5lbmQ7IC8vIFNhdmUgYmVmb3JlIGV4Y2x1ZGluZ1xuICAgICAgICAgICAgcmFuZ2UuZXhjbHVkZShzdGFydCwgZW5kKTtcblxuICAgICAgICAgICAgaWYgKGVuZCArIDEgPD0gcmFuZ2VFbmQpIHtcbiAgICAgICAgICAgICAgdGhpcy5hZGQoZW5kICsgMSwgcmFuZ2VFbmQpOyAvLyBBZGQgc3BsaXQgcmFuZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG5cbiAgICAgIC8vIFJlZHVjZSBlbXB0eSByYW5nZXNcbiAgICAgIHRoaXMuX3JhbmdlcyA9IHV0aWwuZmlsdGVyKHRoaXMuX3JhbmdlcywgZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuICFyYW5nZS5pc0VtcHR5KCk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3Qgb3ZlcmxhcHBlZCByYW5nZSBmcm9tIHRoZSBwb2ludCBvciByYW5nZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIFN0YXJ0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCAtIEVuZFxuICAgICAqIEByZXR1cm5zIHtBcnJheS48bnVtYmVyPn0gLSBbc3RhcnQsIGVuZF1cbiAgICAgKi9cbiAgICBmaW5kT3ZlcmxhcHBlZFJhbmdlOiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB2YXIgbGVuID0gdGhpcy5fcmFuZ2VzLmxlbmd0aDtcbiAgICAgIHZhciByYW5nZTtcblxuICAgICAgZm9yICg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICByYW5nZSA9IHRoaXMuX3Jhbmdlc1tpXTtcbiAgICAgICAgaWYgKHJhbmdlLmlzT3ZlcmxhcHBlZChzdGFydCwgZW5kKSkge1xuICAgICAgICAgIHJldHVybiBbcmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhbmdlTW9kZWw7XG5cblxuLyoqKi8gfSksXG4vKiA1NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBSYW5nZSAoaW4gUmFuZ2VNb2RlbClcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGRlZmluZUNsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBpc051bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGlnbm9yZVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IC0gU3RhcnQgb2YgcmFuZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXSAtIEVuZCBvZiByYW5nZVxuICovXG52YXIgUmFuZ2UgPSBkZWZpbmVDbGFzcyhcbiAgLyoqIEBsZW5kcyBSYW5nZS5wcm90b3R5cGUgKi8ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHRoaXMuc2V0UmFuZ2Uoc3RhcnQsIGVuZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCByYW5nZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIFN0YXJ0IG51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXSAtIEVuZCBudW1iZXJcbiAgICAgKi9cbiAgICBzZXRSYW5nZTogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgaWYgKCFpc051bWJlcihlbmQpKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXJ0ID0gTWF0aC5taW4oc3RhcnQsIGVuZCk7XG4gICAgICB0aGlzLmVuZCA9IE1hdGgubWF4KHN0YXJ0LCBlbmQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXJnZSByYW5nZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIFN0YXJ0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRdIC0gRW5kXG4gICAgICovXG4gICAgbWVyZ2U6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIGlmICghaXNOdW1iZXIoc3RhcnQpIHx8ICFpc051bWJlcihlbmQpIHx8ICF0aGlzLmlzT3ZlcmxhcHBlZChzdGFydCwgZW5kKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhcnQgPSBNYXRoLm1pbihzdGFydCwgdGhpcy5zdGFydCk7XG4gICAgICB0aGlzLmVuZCA9IE1hdGgubWF4KGVuZCwgdGhpcy5lbmQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGJlaW5nIGVtcHR5LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzRW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICFpc051bWJlcih0aGlzLnN0YXJ0KSB8fCAhaXNOdW1iZXIodGhpcy5lbmQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgZW1wdHlcbiAgICAgKi9cbiAgICBzZXRFbXB0eTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnN0YXJ0ID0gdGhpcy5lbmQgPSBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGNvbnRhaW5pbmcgYSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBTdGFydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXSAtIEVuZFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNvbnRhaW5zOiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKGVuZCkpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnN0YXJ0IDw9IHN0YXJ0ICYmIGVuZCA8PSB0aGlzLmVuZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvdmVybGFwcyB3aXRoIGEgcmFuZ2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBTdGFydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXSAtIEVuZFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzT3ZlcmxhcHBlZDogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgaWYgKCFpc051bWJlcihlbmQpKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5zdGFydCA8PSBlbmQgJiYgdGhpcy5lbmQgPj0gc3RhcnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEV4Y2x1ZGUgYSByYW5nZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIFN0YXJ0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCAtIEVuZFxuICAgICAqL1xuICAgIGV4Y2x1ZGU6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIGlmIChzdGFydCA8PSB0aGlzLnN0YXJ0ICYmIGVuZCA+PSB0aGlzLmVuZCkge1xuICAgICAgICAvLyBFeGNsdWRpbmcgcmFuZ2UgY29udGFpbnMgdGhpc1xuICAgICAgICB0aGlzLnNldEVtcHR5KCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY29udGFpbnMoc3RhcnQpKSB7XG4gICAgICAgIHRoaXMuc2V0UmFuZ2UodGhpcy5zdGFydCwgc3RhcnQgLSAxKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb250YWlucyhlbmQpKSB7XG4gICAgICAgIHRoaXMuc2V0UmFuZ2UoZW5kICsgMSwgdGhpcy5lbmQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSYW5nZTtcblxuXG4vKioqLyB9KSxcbi8qIDU4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0ZW1wbGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNvdXJjZSA9XG4gICAgJzxkaXYgY2xhc3M9XCJ0dWktZGF0ZXBpY2tlclwiPicgK1xuICAgICcgIHt7aWYgdGltZVBpY2tlcn19JyArXG4gICAgJyAgICB7e2lmIGlzVGFifX0nICtcbiAgICAnICAgICAgPGRpdiBjbGFzcz1cInR1aS1kYXRlcGlja2VyLXNlbGVjdG9yXCI+JyArXG4gICAgJyAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0dWktZGF0ZXBpY2tlci1zZWxlY3Rvci1idXR0b24gdHVpLWlzLWNoZWNrZWRcIiBhcmlhLWxhYmVsPVwic2VsZWN0ZWRcIj4nICtcbiAgICAnICAgICAgICAgIDxzcGFuIGNsYXNzPVwidHVpLWljby1kYXRlXCI+PC9zcGFuPnt7bG9jYWxlVGV4dFtcImRhdGVcIl19fScgK1xuICAgICcgICAgICAgIDwvYnV0dG9uPicgK1xuICAgICcgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHVpLWRhdGVwaWNrZXItc2VsZWN0b3ItYnV0dG9uXCI+JyArXG4gICAgJyAgICAgICAgICA8c3BhbiBjbGFzcz1cInR1aS1pY28tdGltZVwiPjwvc3Bhbj57e2xvY2FsZVRleHRbXCJ0aW1lXCJdfX0nICtcbiAgICAnICAgICAgICA8L2J1dHRvbj4nICtcbiAgICAnICAgICAgPC9kaXY+JyArXG4gICAgJyAgICAgIDxkaXYgY2xhc3M9XCJ0dWktZGF0ZXBpY2tlci1ib2R5XCI+JyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInR1aS1jYWxlbmRhci1jb250YWluZXJcIj48L2Rpdj4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwidHVpLXRpbWVwaWNrZXItY29udGFpbmVyXCI+PC9kaXY+JyArXG4gICAgJyAgICAgIDwvZGl2PicgK1xuICAgICcgICAge3tlbHNlfX0nICtcbiAgICAnICAgICAgPGRpdiBjbGFzcz1cInR1aS1kYXRlcGlja2VyLWJvZHlcIj4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwidHVpLWNhbGVuZGFyLWNvbnRhaW5lclwiPjwvZGl2PicgK1xuICAgICcgICAgICA8L2Rpdj4nICtcbiAgICAnICAgICAgPGRpdiBjbGFzcz1cInR1aS1kYXRlcGlja2VyLWZvb3RlclwiPicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJ0dWktdGltZXBpY2tlci1jb250YWluZXJcIj48L2Rpdj4nICtcbiAgICAnICAgICAgPC9kaXY+JyArXG4gICAgJyAgICB7ey9pZn19JyArXG4gICAgJyAge3tlbHNlfX0nICtcbiAgICAnICAgIDxkaXYgY2xhc3M9XCJ0dWktZGF0ZXBpY2tlci1ib2R5XCI+JyArXG4gICAgJyAgICAgIDxkaXYgY2xhc3M9XCJ0dWktY2FsZW5kYXItY29udGFpbmVyXCI+PC9kaXY+JyArXG4gICAgJyAgICA8L2Rpdj4nICtcbiAgICAnICB7ey9pZn19JyArXG4gICAgJzwvZGl2Pic7XG5cbiAgcmV0dXJuIHRlbXBsYXRlKHNvdXJjZSwgY29udGV4dCk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgRGF0ZVBpY2tlciBpbnB1dChlbGVtZW50KSBjb21wb25lbnRcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGRlZmluZUNsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBDdXN0b21FdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG52YXIgb2ZmID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cbnZhciBEYXRlVGltZUZvcm1hdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xudmFyIG1vdXNlVG91Y2hFdmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgREVGQVVMVF9GT1JNQVQgPSAneXl5eS1NTS1kZCc7XG5cbi8qKlxuICogRGF0ZVBpY2tlciBJbnB1dFxuICogQGlnbm9yZVxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZ3xIVE1MRWxlbWVudH0gaW5wdXRFbGVtZW50IC0gSW5wdXQgZWxlbWVudCBvciBzZWxlY3RvclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbiAtIE9wdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbi5pZCAtIElkXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9uLmZvcm1hdCAtIFRleHQgZm9ybWF0XG4gKi9cbnZhciBEYXRlUGlja2VySW5wdXQgPSBkZWZpbmVDbGFzcyhcbiAgLyoqIEBsZW5kcyBEYXRlUGlja2VySW5wdXQucHJvdG90eXBlICovIHtcbiAgICBpbml0OiBmdW5jdGlvbihpbnB1dEVsZW1lbnQsIG9wdGlvbikge1xuICAgICAgb3B0aW9uLmZvcm1hdCA9IG9wdGlvbi5mb3JtYXQgfHwgREVGQVVMVF9GT1JNQVQ7XG5cbiAgICAgIC8qKlxuICAgICAgICogSW5wdXQgZWxlbWVudFxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5faW5wdXQgPSB1dGlsLmdldEVsZW1lbnQoaW5wdXRFbGVtZW50KTtcblxuICAgICAgLyoqXG4gICAgICAgKiBJZFxuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2lkID0gb3B0aW9uLmlkO1xuXG4gICAgICAvKipcbiAgICAgICAqIExvY2FsZVRleHQgdGl0bGVzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fdGl0bGVzID0gb3B0aW9uLmxvY2FsZVRleHQudGl0bGVzO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRleHQ8LT5EYXRlVGltZSBGb3JtYXR0ZXJcbiAgICAgICAqIEB0eXBlIHtEYXRlVGltZUZvcm1hdHRlcn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2Zvcm1hdHRlciA9IG5ldyBEYXRlVGltZUZvcm1hdHRlcihvcHRpb24uZm9ybWF0LCB0aGlzLl90aXRsZXMpO1xuXG4gICAgICB0aGlzLl9zZXRFdmVudHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIGxvY2FsZSB0aXRsZXNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdGl0bGVzIC0gbG9jYWxlIHRleHQgaW4gZm9ybWF0XG4gICAgICovXG4gICAgY2hhbmdlTG9jYWxlVGl0bGVzOiBmdW5jdGlvbih0aXRsZXMpIHtcbiAgICAgIHRoaXMuX3RpdGxlcyA9IHRpdGxlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IGlucHV0ICdjbGljaycsICdjaGFuZ2UnIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0RXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9pbnB1dCkge1xuICAgICAgICBvbih0aGlzLl9pbnB1dCwgJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIG1vdXNlVG91Y2hFdmVudC5vbih0aGlzLl9pbnB1dCwgJ2NsaWNrJywgdGhpcy5fb25DbGlja0hhbmRsZXIsIHRoaXMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZXZlbnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMub2ZmKCk7XG5cbiAgICAgIGlmICh0aGlzLl9pbnB1dCkge1xuICAgICAgICBvZmYodGhpcy5faW5wdXQsICdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUhhbmRsZXIpO1xuICAgICAgICBtb3VzZVRvdWNoRXZlbnQub2ZmKHRoaXMuX2lucHV0LCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrSGFuZGxlcik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE9uY2hhbmdlIGhhbmRsZXJcbiAgICAgKi9cbiAgICBfb25DaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZmlyZSgnY2hhbmdlJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE9uY2xpY2sgaGFuZGxlclxuICAgICAqL1xuICAgIF9vbkNsaWNrSGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmZpcmUoJ2NsaWNrJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGVsZW1lbnQgaXMgc2FtZSBhcyB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIFRvIGNoZWNrIG1hdGNoZWQgc2V0IG9mIGVsZW1lbnRzXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaXM6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW5wdXQgPT09IGVsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgaW5wdXRcbiAgICAgKi9cbiAgICBlbmFibGU6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuX2lucHV0KSB7XG4gICAgICAgIHRoaXMuX2lucHV0LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSBpbnB1dFxuICAgICAqL1xuICAgIGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuX2lucHV0KSB7XG4gICAgICAgIHRoaXMuX2lucHV0LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGZvcm1hdFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0Rm9ybWF0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9mb3JtYXR0ZXIuZ2V0UmF3U3RyaW5nKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBmb3JtYXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9ybWF0IC0gRm9ybWF0XG4gICAgICovXG4gICAgc2V0Rm9ybWF0OiBmdW5jdGlvbihmb3JtYXQpIHtcbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZm9ybWF0dGVyID0gbmV3IERhdGVUaW1lRm9ybWF0dGVyKGZvcm1hdCwgdGhpcy5fdGl0bGVzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGV4dFxuICAgICAqL1xuICAgIGNsZWFyVGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5faW5wdXQpIHtcbiAgICAgICAgdGhpcy5faW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHZhbHVlIGZyb20gZGF0ZVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIERhdGVcbiAgICAgKi9cbiAgICBzZXREYXRlOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICBpZiAodGhpcy5faW5wdXQpIHtcbiAgICAgICAgdGhpcy5faW5wdXQudmFsdWUgPSB0aGlzLl9mb3JtYXR0ZXIuZm9ybWF0KGRhdGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGRhdGUgZnJvbSBpbnB1dC10ZXh0XG4gICAgICogQHJldHVybnMge0RhdGV9XG4gICAgICogQHRocm93cyB7RXJyb3J9XG4gICAgICovXG4gICAgZ2V0RGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSAnJztcblxuICAgICAgaWYgKHRoaXMuX2lucHV0KSB7XG4gICAgICAgIHZhbHVlID0gdGhpcy5faW5wdXQudmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9mb3JtYXR0ZXIucGFyc2UodmFsdWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95XG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9yZW1vdmVFdmVudHMoKTtcblxuICAgICAgdGhpcy5faW5wdXQgPSB0aGlzLl9pZCA9IHRoaXMuX2Zvcm1hdHRlciA9IG51bGw7XG4gICAgfVxuICB9XG4pO1xuXG5DdXN0b21FdmVudHMubWl4aW4oRGF0ZVBpY2tlcklucHV0KTtcbm1vZHVsZS5leHBvcnRzID0gRGF0ZVBpY2tlcklucHV0O1xuXG5cbi8qKiovIH0pLFxuLyogNjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgRGF0ZS1SYW5nZSBwaWNrZXJcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGZvckVhY2hBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgZGVmaW5lQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEN1c3RvbUV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgYWRkQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbnZhciBnZXREYXRhID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG52YXIgcmVtb3ZlQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBleHRlbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgRGF0ZVBpY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xudmFyIGRhdGVVdGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBjb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgQ0xBU1NfTkFNRV9SQU5HRV9QSUNLRVIgPSAndHVpLXJhbmdlcGlja2VyJztcbnZhciBDTEFTU19OQU1FX1NFTEVDVEVEID0gY29uc3RhbnRzLkNMQVNTX05BTUVfU0VMRUNURUQ7XG52YXIgQ0xBU1NfTkFNRV9TRUxFQ1RFRF9SQU5HRSA9ICd0dWktaXMtc2VsZWN0ZWQtcmFuZ2UnO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGUgYSBkYXRlLXJhbmdlIHBpY2tlciBieSB7QGxpbmsgRGF0ZVBpY2tlciNjcmVhdGVSYW5nZVBpY2tlciBEYXRlUGlja2VyLmNyZWF0ZVJhbmdlUGlja2VyKCl9LlxuICogQHNlZSB7QGxpbmsgL3R1dG9yaWFsLWV4YW1wbGUwOC1kYXRlcmFuZ2VwaWNrZXIgRGF0ZVJhbmdlUGlja2VyIGV4YW1wbGV9XG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIERhdGVSYW5nZVBpY2tlciBvcHRpb25zXG4gKiAgICAgQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMuc3RhcnRwaWNrZXIgLSBTdGFydHBpY2tlciBvcHRpb25zXG4gKiAgICAgICAgIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBvcHRpb25zLnN0YXJ0cGlja2VyLmlucHV0IC0gU3RhcnRwaWNrZXIgaW5wdXQgZWxlbWVudCBvciBzZWxlY3RvclxuICogICAgICAgICBAcGFyYW0ge0hUTUxFbGVtZW50fHN0cmluZ30gb3B0aW9ucy5zdGFydHBpY2tlci5jb250YWluZXIgLSBTdGFydHBpY2tlciBjb250YWluZXIgZWxlbWVudCBvciBzZWxlY3RvclxuICogICAgICAgICBAcGFyYW0ge0RhdGV8bnVtYmVyfSBbb3B0aW9ucy5zdGFydHBpY2tlci5kYXRlXSAtIEluaXRpYWwgZGF0ZSBvZiB0aGUgc3RhcnQgcGlja2VyLiBTZXQgYnkgYSBEYXRlIGluc3RhbmNlIG9yIGEgbnVtYmVyKHRpbWVzdGFtcCkuIChkZWZhdWx0OiBubyBpbml0aWFsIGRhdGUpXG4gKiAgICAgICAgIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zdGFydHBpY2tlci53ZWVrU3RhcnREYXkgPSAnU3VuJ10gLSBTdGFydCBvZiB0aGUgd2Vlay4gJ1N1bicsICdNb24nLCAuLi4sICdTYXQnKGRlZmF1bHQ6ICdTdW4nKHN0YXJ0IG9uIFN1bmRheSkpXG4gKiAgICAgQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMuZW5kcGlja2VyIC0gRW5kcGlja2VyIG9wdGlvbnNcbiAqICAgICAgICAgQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IG9wdGlvbnMuZW5kcGlja2VyLmlucHV0IC0gRW5kcGlja2VyIGlucHV0IGVsZW1lbnQgb3Igc2VsZWN0b3JcbiAqICAgICAgICAgQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IG9wdGlvbnMuZW5kcGlja2VyLmNvbnRhaW5lciAtIEVuZHBpY2tlciBjb250YWluZXIgZWxlbWVudCBvciBzZWxlY3RvclxuICogICAgICAgICBAcGFyYW0ge0RhdGV8bnVtYmVyfSBbb3B0aW9ucy5lbmRwaWNrZXIuZGF0ZV0gLSBJbml0aWFsIGRhdGUgb2YgdGhlIGVuZCBwaWNrZXIuIFNldCBieSBhIERhdGUgaW5zdGFuY2Ugb3IgYSBudW1iZXIodGltZXN0YW1wKS4gKGRlZmF1bHQ6IG5vIGluaXRpYWwgZGF0ZSlcbiAqICAgICAgICAgQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmVuZHBpY2tlci53ZWVrU3RhcnREYXkgPSAnU3VuJ10gLSBTdGFydCBvZiB0aGUgd2Vlay4gJ1N1bicsICdNb24nLCAuLi4sICdTYXQnKGRlZmF1bHQ6ICdTdW4nKHN0YXJ0IG9uIFN1bmRheSkpXG4gKiAgICAgQHBhcmFtIHsoJ2RhdGUnfCdtb250aCd8J3llYXInKX0gW29wdGlvbnMudHlwZSA9ICdkYXRlJ10gLSBEYXRlUGlja2VyIHR5cGUuIERldGVybWluZSB3aGV0aGVyIHRvIGNob29zZSBhIGRhdGUsIG1vbnRoLCBvciB5ZWFyLlxuICogICAgIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYW5ndWFnZT0nZW4nXSAtIExhbmd1YWdlIGNvZGUuIEVuZ2xpc2goJ2VuJykgYW5kIEtvcmVhbigna28nKSBhcmUgcHJvdmlkZWQgYXMgZGVmYXVsdC4gVG8gdXNlIHRoZSBvdGhlciBsYW5ndWFnZXMsIHVzZSB7QGxpbmsgRGF0ZVBpY2tlciNsb2NhbGVUZXh0cyBEYXRlUGlja2VyLmxvY2FsZVRleHRzfS5cbiAqICAgICBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9ucy50aW1lUGlja2VyXSAtIFtUaW1lUGlja2VyXShodHRwczovL25obi5naXRodWIuaW8vdHVpLnRpbWUtcGlja2VyL2xhdGVzdCkgb3B0aW9ucy4gUmVmZXIgdG8gdGhlIFtUaW1lUGlja2VyIGluc3RhbmNlJ3Mgb3B0aW9uc10oaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS50aW1lLXBpY2tlci9sYXRlc3QvVGltZVBpY2tlcikuIFRvIGNyZWF0ZSB0aGUgVGltZVBpY2tlciB3aXRob3V0IGN1c3RvbWl6YXRpb24sIHNldCB0byB0cnVlLlxuICogICAgIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5jYWxlbmRhcl0gLSB7QGxpbmsgQ2FsZW5kYXJ9IG9wdGlvbnMuIFJlZmVyIHRvIHRoZSB7QGxpbmsgQ2FsZW5kYXIgQ2FsZW5kYXIgaW5zdGFuY2UncyBvcHRpb25zfS5cbiAqICAgICBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZm9ybWF0ID0gJ3l5eXktbW0tZGQnXSAtIEZvcm1hdCBvZiB0aGUgRGF0ZSBzdHJpbmdcbiAqICAgICBAcGFyYW0ge0FycmF5LjxBcnJheS48RGF0ZXxudW1iZXI+Pn0gW29wdGlvbnMuc2VsZWN0YWJsZVJhbmdlc10gLSBSYW5nZXMgb2Ygc2VsZWN0YWJsZSBkYXRlLiBTZXQgYnkgRGF0ZSBpbnN0YW5jZXMgb3IgbnVtYmVycyh0aW1lc3RhbXApLlxuICogICAgIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hvd0Fsd2F5cyA9IGZhbHNlXSAtIFNob3cgdGhlIERhdGVSYW5nZVBpY2tlciBhbHdheXNcbiAqICAgICBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9DbG9zZSA9IHRydWVdIC0gQ2xvc2UgdGhlIERhdGVSYW5nZVBpY2tlciBhZnRlciBjbGlja2luZyB0aGUgZGF0ZVxuICogICAgIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNhZ2VTdGF0aXN0aWNzID0gdHJ1ZV0gLSBTZW5kIGEgaG9zdG5hbWUgdG8gR29vZ2xlIEFuYWx5dGljcyAoZGVmYXVsdDogdHJ1ZSlcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgRGF0ZVBpY2tlciBmcm9tICd0dWktZGF0ZS1waWNrZXInIC8vIEVTNlxuICogLy8gY29uc3QgRGF0ZVBpY2tlciA9IHJlcXVpcmUoJ3R1aS1kYXRlLXBpY2tlcicpOyAvLyBDb21tb25KU1xuICogLy8gY29uc3QgRGF0ZVBpY2tlciA9IHR1aS5EYXRlUGlja2VyO1xuICpcbiAqIGNvbnN0IHJhbmdlUGlja2VyID0gRGF0ZVBpY2tlci5jcmVhdGVSYW5nZVBpY2tlcih7XG4gKiAgICAgc3RhcnRwaWNrZXI6IHtcbiAqICAgICAgICAgaW5wdXQ6ICcjc3RhcnQtaW5wdXQnLFxuICogICAgICAgICBjb250YWluZXI6ICcjc3RhcnQtY29udGFpbmVyJ1xuICogICAgICAgICBkYXRlOiBuZXcgRGF0ZSgyMDE5LCAzLCAxKSxcbiAqICAgICAgICAgd2Vla1N0YXJ0RGF5OiAnTW9uJyxcbiAqICAgICB9LFxuICogICAgIGVuZHBpY2tlcjoge1xuICogICAgICAgICBpbnB1dDogJyNlbmQtaW5wdXQnLFxuICogICAgICAgICBjb250YWluZXI6ICcjZW5kLWNvbnRhaW5lcicsXG4gKiAgICAgICAgIHdlZWtTdGFydERheTogJ01vbicsXG4gKiAgICAgfSxcbiAqICAgICB0eXBlOiAnZGF0ZScsXG4gKiAgICAgZm9ybWF0OiAneXl5eS1NTS1kZCdcbiAqICAgICBzZWxlY3RhYmxlUmFuZ2VzOiBbXG4gKiAgICAgICAgIFtuZXcgRGF0ZSgyMDE3LCAzLCAxKSwgbmV3IERhdGUoMjAxNywgNSwgMSldLFxuICogICAgICAgICBbbmV3IERhdGUoMjAxNywgNiwgMyksIG5ldyBEYXRlKDIwMTcsIDEwLCA1KV1cbiAqICAgICBdXG4gKiB9KTtcbiAqL1xudmFyIERhdGVSYW5nZVBpY2tlciA9IGRlZmluZUNsYXNzKFxuICAvKiogQGxlbmRzIERhdGVSYW5nZVBpY2tlci5wcm90b3R5cGUgKi8ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBzdGFydHBpY2tlck9wdCwgZW5kcGlja2VyT3B0O1xuXG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHN0YXJ0cGlja2VyT3B0ID0gb3B0aW9ucy5zdGFydHBpY2tlcjtcbiAgICAgIGVuZHBpY2tlck9wdCA9IG9wdGlvbnMuZW5kcGlja2VyO1xuXG4gICAgICBpZiAoIXN0YXJ0cGlja2VyT3B0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFwic3RhcnRwaWNrZXJcIiBvcHRpb24gaXMgcmVxdWlyZWQuJyk7XG4gICAgICB9XG4gICAgICBpZiAoIWVuZHBpY2tlck9wdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImVuZHBpY2tlclwiIG9wdGlvbiBpcyByZXF1aXJlZC4nKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTdGFydCBwaWNrZXJcbiAgICAgICAqIEB0eXBlIHtEYXRlUGlja2VyfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fc3RhcnRwaWNrZXIgPSBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIEVuZCBwaWNrZXJcbiAgICAgICAqIEB0eXBlIHtEYXRlUGlja2VyfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fZW5kcGlja2VyID0gbnVsbDtcblxuICAgICAgdGhpcy5faW5pdGlhbGl6ZVBpY2tlcnMob3B0aW9ucyk7XG4gICAgICB0aGlzLl9zeW5jUmFuZ2VzVG9FbmRwaWNrZXIoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBpY2tlclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gRGF0ZVBpY2tlciBvcHRpb25zXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVBpY2tlcnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBzdGFydHBpY2tlckNvbnRhaW5lciA9IHV0aWwuZ2V0RWxlbWVudChvcHRpb25zLnN0YXJ0cGlja2VyLmNvbnRhaW5lcik7XG4gICAgICB2YXIgZW5kcGlja2VyQ29udGFpbmVyID0gdXRpbC5nZXRFbGVtZW50KG9wdGlvbnMuZW5kcGlja2VyLmNvbnRhaW5lcik7XG4gICAgICB2YXIgc3RhcnRJbnB1dCA9IHV0aWwuZ2V0RWxlbWVudChvcHRpb25zLnN0YXJ0cGlja2VyLmlucHV0KTtcbiAgICAgIHZhciBlbmRJbnB1dCA9IHV0aWwuZ2V0RWxlbWVudChvcHRpb25zLmVuZHBpY2tlci5pbnB1dCk7XG5cbiAgICAgIHZhciBzdGFydHBpY2tlck9wdCA9IGV4dGVuZCh7fSwgb3B0aW9ucywge1xuICAgICAgICBpbnB1dDoge1xuICAgICAgICAgIGVsZW1lbnQ6IHN0YXJ0SW5wdXQsXG4gICAgICAgICAgZm9ybWF0OiBvcHRpb25zLmZvcm1hdFxuICAgICAgICB9LFxuICAgICAgICBkYXRlOiBvcHRpb25zLnN0YXJ0cGlja2VyLmRhdGUsXG4gICAgICAgIHdlZWtTdGFydERheTogb3B0aW9ucy5zdGFydHBpY2tlci53ZWVrU3RhcnREYXlcbiAgICAgIH0pO1xuICAgICAgdmFyIGVuZHBpY2tlck9wdCA9IGV4dGVuZCh7fSwgb3B0aW9ucywge1xuICAgICAgICBpbnB1dDoge1xuICAgICAgICAgIGVsZW1lbnQ6IGVuZElucHV0LFxuICAgICAgICAgIGZvcm1hdDogb3B0aW9ucy5mb3JtYXRcbiAgICAgICAgfSxcbiAgICAgICAgZGF0ZTogb3B0aW9ucy5lbmRwaWNrZXIuZGF0ZSxcbiAgICAgICAgd2Vla1N0YXJ0RGF5OiBvcHRpb25zLmVuZHBpY2tlci53ZWVrU3RhcnREYXlcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9zdGFydHBpY2tlciA9IG5ldyBEYXRlUGlja2VyKHN0YXJ0cGlja2VyQ29udGFpbmVyLCBzdGFydHBpY2tlck9wdCk7XG4gICAgICB0aGlzLl9zdGFydHBpY2tlci5hZGRDc3NDbGFzcyhDTEFTU19OQU1FX1JBTkdFX1BJQ0tFUik7XG4gICAgICB0aGlzLl9zdGFydHBpY2tlci5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VTdGFydHBpY2tlciwgdGhpcyk7XG4gICAgICB0aGlzLl9zdGFydHBpY2tlci5vbignZHJhdycsIHRoaXMuX29uRHJhd1BpY2tlciwgdGhpcyk7XG5cbiAgICAgIHRoaXMuX2VuZHBpY2tlciA9IG5ldyBEYXRlUGlja2VyKGVuZHBpY2tlckNvbnRhaW5lciwgZW5kcGlja2VyT3B0KTtcbiAgICAgIHRoaXMuX2VuZHBpY2tlci5hZGRDc3NDbGFzcyhDTEFTU19OQU1FX1JBTkdFX1BJQ0tFUik7XG4gICAgICB0aGlzLl9lbmRwaWNrZXIub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlRW5kcGlja2VyLCB0aGlzKTtcbiAgICAgIHRoaXMuX2VuZHBpY2tlci5vbignZHJhdycsIHRoaXMuX29uRHJhd1BpY2tlciwgdGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBzZWxlY3Rpb24tY2xhc3MgdG8gZWxlbWVudHMgYWZ0ZXIgY2FsZW5kYXIgZHJhd2luZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudERhdGEgLSBFdmVudCBkYXRhIHtAbGluayBEYXRlUGlja2VyI2V2ZW50OmRyYXd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25EcmF3UGlja2VyOiBmdW5jdGlvbihldmVudERhdGEpIHtcbiAgICAgIHZhciBjYWxlbmRhclR5cGUgPSBldmVudERhdGEudHlwZTtcbiAgICAgIHZhciBzdGFydERhdGUgPSB0aGlzLl9zdGFydHBpY2tlci5nZXREYXRlKCk7XG4gICAgICB2YXIgZW5kRGF0ZSA9IHRoaXMuX2VuZHBpY2tlci5nZXREYXRlKCk7XG5cbiAgICAgIGlmICghc3RhcnREYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlbmREYXRlKSB7XG4gICAgICAgIC8vIENvbnZlcnQgbnVsbCB0byBpbnZhaWxkIGRhdGUuXG4gICAgICAgIGVuZERhdGUgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgfVxuXG4gICAgICBmb3JFYWNoQXJyYXkoXG4gICAgICAgIGV2ZW50RGF0YS5kYXRlRWxlbWVudHMsXG4gICAgICAgIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgdmFyIGVsRGF0ZSA9IG5ldyBEYXRlKE51bWJlcihnZXREYXRhKGVsLCAndGltZXN0YW1wJykpKTtcbiAgICAgICAgICB2YXIgaXNJblJhbmdlID0gZGF0ZVV0aWwuaW5SYW5nZShzdGFydERhdGUsIGVuZERhdGUsIGVsRGF0ZSwgY2FsZW5kYXJUeXBlKTtcbiAgICAgICAgICB2YXIgaXNTZWxlY3RlZCA9XG4gICAgICAgICAgICBkYXRlVXRpbC5pc1NhbWUoc3RhcnREYXRlLCBlbERhdGUsIGNhbGVuZGFyVHlwZSkgfHxcbiAgICAgICAgICAgIGRhdGVVdGlsLmlzU2FtZShlbmREYXRlLCBlbERhdGUsIGNhbGVuZGFyVHlwZSk7XG5cbiAgICAgICAgICB0aGlzLl9zZXRSYW5nZUNsYXNzKGVsLCBpc0luUmFuZ2UpO1xuICAgICAgICAgIHRoaXMuX3NldFNlbGVjdGVkQ2xhc3MoZWwsIGlzU2VsZWN0ZWQpO1xuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgcmFuZ2UgY2xhc3MgdG8gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIC0gRWxlbWVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNJblJhbmdlIC0gSW4gcmFuZ2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRSYW5nZUNsYXNzOiBmdW5jdGlvbihlbCwgaXNJblJhbmdlKSB7XG4gICAgICBpZiAoaXNJblJhbmdlKSB7XG4gICAgICAgIGFkZENsYXNzKGVsLCBDTEFTU19OQU1FX1NFTEVDVEVEX1JBTkdFKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKGVsLCBDTEFTU19OQU1FX1NFTEVDVEVEX1JBTkdFKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHNlbGVjdGVkIGNsYXNzIHRvIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIEVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2VsZWN0ZWQgLSBJcyBzZWxlY3RlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNlbGVjdGVkQ2xhc3M6IGZ1bmN0aW9uKGVsLCBpc1NlbGVjdGVkKSB7XG4gICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICBhZGRDbGFzcyhlbCwgQ0xBU1NfTkFNRV9TRUxFQ1RFRCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVDbGFzcyhlbCwgQ0xBU1NfTkFNRV9TRUxFQ1RFRCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN5bmMgcmFuZ2VzIHRvIGVuZHBpY2tlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3N5bmNSYW5nZXNUb0VuZHBpY2tlcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc3RhcnREYXRlID0gdGhpcy5fc3RhcnRwaWNrZXIuZ2V0RGF0ZSgpO1xuICAgICAgdmFyIG92ZXJsYXBwZWRSYW5nZTtcblxuICAgICAgaWYgKHN0YXJ0RGF0ZSkge1xuICAgICAgICBvdmVybGFwcGVkUmFuZ2UgPSB0aGlzLl9zdGFydHBpY2tlci5maW5kT3ZlcmxhcHBlZFJhbmdlKFxuICAgICAgICAgIGRhdGVVdGlsLmNsb25lV2l0aFN0YXJ0T2Yoc3RhcnREYXRlKS5nZXRUaW1lKCksXG4gICAgICAgICAgZGF0ZVV0aWwuY2xvbmVXaXRoRW5kT2Yoc3RhcnREYXRlKS5nZXRUaW1lKClcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLl9lbmRwaWNrZXIuZW5hYmxlKCk7XG4gICAgICAgIHRoaXMuX2VuZHBpY2tlci5zZXRSYW5nZXMoW1tzdGFydERhdGUuZ2V0VGltZSgpLCBvdmVybGFwcGVkUmFuZ2VbMV0uZ2V0VGltZSgpXV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZW5kcGlja2VyLnNldE51bGwoKTtcbiAgICAgICAgdGhpcy5fZW5kcGlja2VyLmRpc2FibGUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWZ0ZXIgY2hhbmdlIG9uIHN0YXJ0LXBpY2tlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ2hhbmdlU3RhcnRwaWNrZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fc3luY1Jhbmdlc1RvRW5kcGlja2VyKCk7XG4gICAgICAvKipcbiAgICAgICAqIE9jY3VyIGFmdGVyIHRoZSBzdGFydCBkYXRlIGlzIGNoYW5nZWQuXG4gICAgICAgKiBAZXZlbnQgRGF0ZVJhbmdlUGlja2VyI2NoYW5nZTpzdGFydFxuICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jb2RlLXNuaXBwZXQvbGF0ZXN0L0N1c3RvbUV2ZW50cyNvbiByYW5nZVBpY2tlci5vbigpfSB0byBiaW5kIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jb2RlLXNuaXBwZXQvbGF0ZXN0L0N1c3RvbUV2ZW50cyNvZmYgcmFuZ2VQaWNrZXIub2ZmKCl9IHRvIHVuYmluZCBldmVudCBoYW5kbGVycy5cbiAgICAgICAqIEBzZWUgUmVmZXIgdG8ge0BsaW5rIGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkuY29kZS1zbmlwcGV0L2xhdGVzdC9DdXN0b21FdmVudHMgQ3VzdG9tRXZlbnRzfSBmb3IgbW9yZSBtZXRob2RzLiBEYXRlUmFuZ2VQaWNrZXIgbWl4ZXMgaW4gdGhlIG1ldGhvZHMgZnJvbSBDdXN0b21FdmVudHMuXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogLy8gYmluZCB0aGUgJ2NoYW5nZTpzdGFydCcgZXZlbnRcbiAgICAgICAqIHJhbmdlUGlja2VyLm9uKCdjaGFuZ2U6c3RhcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAqICAgICBjb25zb2xlLmxvZyhgU3RhcnQgZGF0ZTogJHtyYW5nZVBpY2tlci5nZXRTdGFydERhdGUoKX1gKTtcbiAgICAgICAqIH0pO1xuICAgICAgICpcbiAgICAgICAqIC8vIHVuYmluZCB0aGUgJ2NoYW5nZTpzdGFydCcgZXZlbnRcbiAgICAgICAqIHJhbmdlUGlja2VyLm9mZignY2hhbmdlOnN0YXJ0Jyk7XG4gICAgICAgKi9cbiAgICAgIHRoaXMuZmlyZSgnY2hhbmdlOnN0YXJ0Jyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFmdGVyIGNoYW5nZSBvbiBlbmQtcGlja2VyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25DaGFuZ2VFbmRwaWNrZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgLyoqXG4gICAgICAgKiBPY2N1ciBhZnRlciB0aGUgZW5kIGRhdGUgaXMgY2hhbmdlZC5cbiAgICAgICAqIEBldmVudCBEYXRlUmFuZ2VQaWNrZXIjY2hhbmdlOmVuZFxuICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jb2RlLXNuaXBwZXQvbGF0ZXN0L0N1c3RvbUV2ZW50cyNvbiByYW5nZVBpY2tlci5vbigpfSB0byBiaW5kIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jb2RlLXNuaXBwZXQvbGF0ZXN0L0N1c3RvbUV2ZW50cyNvZmYgcmFuZ2VQaWNrZXIub2ZmKCl9IHRvIHVuYmluZCBldmVudCBoYW5kbGVycy5cbiAgICAgICAqIEBzZWUgUmVmZXIgdG8ge0BsaW5rIGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkuY29kZS1zbmlwcGV0L2xhdGVzdC9DdXN0b21FdmVudHMgQ3VzdG9tRXZlbnRzfSBmb3IgbW9yZSBtZXRob2RzLiBEYXRlUmFuZ2VQaWNrZXIgbWl4ZXMgaW4gdGhlIG1ldGhvZHMgZnJvbSBDdXN0b21FdmVudHMuXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogLy8gYmluZCB0aGUgJ2NoYW5nZTplbmQnIGV2ZW50XG4gICAgICAgKiByYW5nZVBpY2tlci5vbignY2hhbmdlOmVuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICogICAgIGNvbnNvbGUubG9nKGBFbmQgZGF0ZTogJHtyYW5nZVBpY2tlci5nZXRFbmREYXRlKCl9YCk7XG4gICAgICAgKiB9KTtcbiAgICAgICAqXG4gICAgICAgKiAvLyB1bmJpbmQgdGhlICdjaGFuZ2U6ZW5kJyBldmVudFxuICAgICAgICogcmFuZ2VQaWNrZXIub2ZmKCdjaGFuZ2U6ZW5kJyk7XG4gICAgICAgKi9cbiAgICAgIHRoaXMuZmlyZSgnY2hhbmdlOmVuZCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBzdGFydC1kYXRlcGlja2VyLlxuICAgICAqIEByZXR1cm5zIHtEYXRlUGlja2VyfVxuICAgICAqL1xuICAgIGdldFN0YXJ0cGlja2VyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGFydHBpY2tlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgZW5kLWRhdGVwaWNrZXIuXG4gICAgICogQHJldHVybnMge0RhdGVQaWNrZXJ9XG4gICAgICovXG4gICAgZ2V0RW5kcGlja2VyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lbmRwaWNrZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3RhcnQgZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGUgLSBTdGFydCBkYXRlXG4gICAgICovXG4gICAgc2V0U3RhcnREYXRlOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICB0aGlzLl9zdGFydHBpY2tlci5zZXREYXRlKGRhdGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHN0YXJ0IGRhdGUuXG4gICAgICogQHJldHVybnMgez9EYXRlfVxuICAgICAqL1xuICAgIGdldFN0YXJ0RGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhcnRwaWNrZXIuZ2V0RGF0ZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGVuZCBkYXRlLlxuICAgICAqIEByZXR1cm5zIHs/RGF0ZX1cbiAgICAgKi9cbiAgICBnZXRFbmREYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lbmRwaWNrZXIuZ2V0RGF0ZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGVuZCBkYXRlLlxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIEVuZCBkYXRlXG4gICAgICovXG4gICAgc2V0RW5kRGF0ZTogZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgdGhpcy5fZW5kcGlja2VyLnNldERhdGUoZGF0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBzZWxlY3RhYmxlIHJhbmdlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5LjxBcnJheS48bnVtYmVyfERhdGU+Pn0gcmFuZ2VzIC0gU2VsZWN0YWJsZSByYW5nZXMuIFVzZSBEYXRlIGluc3RhbmNlcyBvciBudW1iZXJzKHRpbWVzdGFtcCkuXG4gICAgICovXG4gICAgc2V0UmFuZ2VzOiBmdW5jdGlvbihyYW5nZXMpIHtcbiAgICAgIHRoaXMuX3N0YXJ0cGlja2VyLnNldFJhbmdlcyhyYW5nZXMpO1xuICAgICAgdGhpcy5fc3luY1Jhbmdlc1RvRW5kcGlja2VyKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHNlbGVjdGFibGUgcmFuZ2UuIFVzZSBEYXRlIGluc3RhbmNlcyBvciBudW1iZXJzKHRpbWVzdGFtcCkuXG4gICAgICogQHBhcmFtIHtEYXRlfG51bWJlcn0gc3RhcnQgLSB0aGUgc3RhcnQgZGF0ZVxuICAgICAqIEBwYXJhbSB7RGF0ZXxudW1iZXJ9IGVuZCAtIHRoZSBlbmQgZGF0ZVxuICAgICAqL1xuICAgIGFkZFJhbmdlOiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICB0aGlzLl9zdGFydHBpY2tlci5hZGRSYW5nZShzdGFydCwgZW5kKTtcbiAgICAgIHRoaXMuX3N5bmNSYW5nZXNUb0VuZHBpY2tlcigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSByYW5nZS4gVXNlIERhdGUgaW5zdGFuY2VzIG9yIG51bWJlcnModGltZXN0YW1wKS5cbiAgICAgKiBAcGFyYW0ge0RhdGV8bnVtYmVyfSBzdGFydCAtIHRoZSBzdGFydCBkYXRlXG4gICAgICogQHBhcmFtIHtEYXRlfG51bWJlcn0gZW5kIC0gdGhlIGVuZCBkYXRlXG4gICAgICogQHBhcmFtIHtudWxsfCdkYXRlJ3wnbW9udGgnfCd5ZWFyJ30gdHlwZSAtIFJhbmdlIHR5cGUuIElmIGZhbHN5LCBzdGFydCBhbmQgZW5kIHZhbHVlcyBhcmUgY29uc2lkZXJlZCBhcyB0aW1lc3RhbXBcbiAgICAgKi9cbiAgICByZW1vdmVSYW5nZTogZnVuY3Rpb24oc3RhcnQsIGVuZCwgdHlwZSkge1xuICAgICAgdGhpcy5fc3RhcnRwaWNrZXIucmVtb3ZlUmFuZ2Uoc3RhcnQsIGVuZCwgdHlwZSk7XG4gICAgICB0aGlzLl9zeW5jUmFuZ2VzVG9FbmRwaWNrZXIoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIGxhbmd1YWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIExhbmd1YWdlIGNvZGUuIEVuZ2xpc2goJ2VuJykgYW5kIEtvcmVhbigna28nKSBhcmUgcHJvdmlkZWQgYXMgZGVmYXVsdC5cbiAgICAgKiBAc2VlIFRvIHNldCB0byB0aGUgb3RoZXIgbGFuZ3VhZ2VzLCB1c2Uge0BsaW5rIERhdGVQaWNrZXIjbG9jYWxlVGV4dHMgRGF0ZVBpY2tlci5sb2NhbGVUZXh0c30uXG4gICAgICovXG4gICAgY2hhbmdlTGFuZ3VhZ2U6IGZ1bmN0aW9uKGxhbmd1YWdlKSB7XG4gICAgICB0aGlzLl9zdGFydHBpY2tlci5jaGFuZ2VMYW5ndWFnZShsYW5ndWFnZSk7XG4gICAgICB0aGlzLl9lbmRwaWNrZXIuY2hhbmdlTGFuZ3VhZ2UobGFuZ3VhZ2UpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBkYXRlLXJhbmdlIHBpY2tlci5cbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMub2ZmKCk7XG4gICAgICB0aGlzLl9zdGFydHBpY2tlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9lbmRwaWNrZXIuZGVzdHJveSgpO1xuICAgICAgdGhpcy5fc3RhcnRwaWNrZXIgPSB0aGlzLl9lbmRwaWNrZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuKTtcblxuQ3VzdG9tRXZlbnRzLm1peGluKERhdGVSYW5nZVBpY2tlcik7XG5tb2R1bGUuZXhwb3J0cyA9IERhdGVSYW5nZVBpY2tlcjtcblxuXG4vKioqLyB9KSxcbi8qIDYxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///702\n")},337:module=>{eval("/*!\n * TOAST UI Time Picker\n * @version 2.0.3\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_709__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_709__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__nested_webpack_require_709__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__nested_webpack_require_709__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__nested_webpack_require_709__.d = function(exports, name, getter) {\n/******/ \t\tif(!__nested_webpack_require_709__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__nested_webpack_require_709__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__nested_webpack_require_709__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __nested_webpack_require_709__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__nested_webpack_require_709__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __nested_webpack_require_709__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__nested_webpack_require_709__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__nested_webpack_require_709__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__nested_webpack_require_709__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__nested_webpack_require_709__.p = \"dist\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __nested_webpack_require_709__(__nested_webpack_require_709__.s = 20);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __nested_webpack_require_4178__) {\n\n\"use strict\";\n/* eslint-disable complexity */\n/**\n * @fileoverview Returns the first index at which a given element can be found in the array.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isArray = __nested_webpack_require_4178__(2);\n\n/**\n * @module array\n */\n\n/**\n * Returns the first index at which a given element can be found in the array\n * from start index(default 0), or -1 if it is not present.\n * It compares searchElement to elements of the Array using strict equality\n * (the same method used by the ===, or triple-equals, operator).\n * @param {*} searchElement Element to locate in the array\n * @param {Array} array Array that will be traversed.\n * @param {number} startIndex Start index in array for searching (default 0)\n * @returns {number} the First index at which a given element, or -1 if it is not present\n * @memberof module:array\n * @example\n * var inArray = require('tui-code-snippet/array/inArray'); // node, commonjs\n *\n * var arr = ['one', 'two', 'three', 'four'];\n * var idx1 = inArray('one', arr, 3); // -1\n * var idx2 = inArray('one', arr); // 0\n */\nfunction inArray(searchElement, array, startIndex) {\n  var i;\n  var length;\n  startIndex = startIndex || 0;\n\n  if (!isArray(array)) {\n    return -1;\n  }\n\n  if (Array.prototype.indexOf) {\n    return Array.prototype.indexOf.call(array, searchElement, startIndex);\n  }\n\n  length = array.length;\n  for (i = startIndex; startIndex >= 0 && i < length; i += 1) {\n    if (array[i] === searchElement) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nmodule.exports = inArray;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Extend the target object from other objects.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * @module object\n */\n\n/**\n * Extend the target object from other objects.\n * @param {object} target - Object that will be extended\n * @param {...object} objects - Objects as sources\n * @returns {object} Extended object\n * @memberof module:object\n */\nfunction extend(target, objects) { // eslint-disable-line no-unused-vars\n  var hasOwnProp = Object.prototype.hasOwnProperty;\n  var source, prop, i, len;\n\n  for (i = 1, len = arguments.length; i < len; i += 1) {\n    source = arguments[i];\n    for (prop in source) {\n      if (hasOwnProp.call(source, prop)) {\n        target[prop] = source[prop];\n      }\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = extend;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is an instance of Array or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is an instance of Array or not.\n * If the given variable is an instance of Array, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is array instance?\n * @memberof module:type\n */\nfunction isArray(obj) {\n  return obj instanceof Array;\n}\n\nmodule.exports = isArray;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Execute the provided callback once for each element present in the array(or Array-like object) in ascending order.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Execute the provided callback once for each element present\n * in the array(or Array-like object) in ascending order.\n * If the callback function returns false, the loop will be stopped.\n * Callback function(iteratee) is invoked with three arguments:\n *  1) The value of the element\n *  2) The index of the element\n *  3) The array(or Array-like object) being traversed\n * @param {Array|Arguments|NodeList} arr The array(or Array-like object) that will be traversed\n * @param {function} iteratee Callback function\n * @param {Object} [context] Context(this) of callback function\n * @memberof module:collection\n * @example\n * var forEachArray = require('tui-code-snippet/collection/forEachArray'); // node, commonjs\n *\n * var sum = 0;\n *\n * forEachArray([1,2,3], function(value){\n *     sum += value;\n * });\n * alert(sum); // 6\n */\nfunction forEachArray(arr, iteratee, context) {\n  var index = 0;\n  var len = arr.length;\n\n  context = context || null;\n\n  for (; index < len; index += 1) {\n    if (iteratee.call(context, arr[index], index, arr) === false) {\n      break;\n    }\n  }\n}\n\nmodule.exports = forEachArray;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __nested_webpack_require_8675__) {\n\n\"use strict\";\n/**\n * @fileoverview Execute the provided callback once for each property of object(or element of array) which actually exist.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isArray = __nested_webpack_require_8675__(2);\nvar forEachArray = __nested_webpack_require_8675__(3);\nvar forEachOwnProperties = __nested_webpack_require_8675__(16);\n\n/**\n * @module collection\n */\n\n/**\n * Execute the provided callback once for each property of object(or element of array) which actually exist.\n * If the object is Array-like object(ex-arguments object), It needs to transform to Array.(see 'ex2' of example).\n * If the callback function returns false, the loop will be stopped.\n * Callback function(iteratee) is invoked with three arguments:\n *  1) The value of the property(or The value of the element)\n *  2) The name of the property(or The index of the element)\n *  3) The object being traversed\n * @param {Object} obj The object that will be traversed\n * @param {function} iteratee Callback function\n * @param {Object} [context] Context(this) of callback function\n * @memberof module:collection\n * @example\n * var forEach = require('tui-code-snippet/collection/forEach'); // node, commonjs\n *\n * var sum = 0;\n *\n * forEach([1,2,3], function(value){\n *     sum += value;\n * });\n * alert(sum); // 6\n *\n * // In case of Array-like object\n * var array = Array.prototype.slice.call(arrayLike); // change to array\n * forEach(array, function(value){\n *     sum += value;\n * });\n */\nfunction forEach(obj, iteratee, context) {\n  if (isArray(obj)) {\n    forEachArray(obj, iteratee, context);\n  } else {\n    forEachOwnProperties(obj, iteratee, context);\n  }\n}\n\nmodule.exports = forEach;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is undefined or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is undefined or not.\n * If the given variable is undefined, returns true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is undefined?\n * @memberof module:type\n */\nfunction isUndefined(obj) {\n  return obj === undefined; // eslint-disable-line no-undefined\n}\n\nmodule.exports = isUndefined;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is a string or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is a string or not.\n * If the given variable is a string, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is string?\n * @memberof module:type\n */\nfunction isString(obj) {\n  return typeof obj === 'string' || obj instanceof String;\n}\n\nmodule.exports = isString;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __nested_webpack_require_11554__) {\n\n\"use strict\";\n/**\n * @fileoverview Convert text by binding expressions with context.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_11554__(0);\nvar forEach = __nested_webpack_require_11554__(4);\nvar isArray = __nested_webpack_require_11554__(2);\nvar isString = __nested_webpack_require_11554__(6);\nvar extend = __nested_webpack_require_11554__(1);\n\n// IE8 does not support capture groups.\nvar EXPRESSION_REGEXP = /{{\\s?|\\s?}}/g;\nvar BRACKET_NOTATION_REGEXP = /^[a-zA-Z0-9_@]+\\[[a-zA-Z0-9_@\"']+\\]$/;\nvar BRACKET_REGEXP = /\\[\\s?|\\s?\\]/;\nvar DOT_NOTATION_REGEXP = /^[a-zA-Z_]+\\.[a-zA-Z_]+$/;\nvar DOT_REGEXP = /\\./;\nvar STRING_NOTATION_REGEXP = /^[\"']\\w+[\"']$/;\nvar STRING_REGEXP = /\"|'/g;\nvar NUMBER_REGEXP = /^-?\\d+\\.?\\d*$/;\n\nvar EXPRESSION_INTERVAL = 2;\n\nvar BLOCK_HELPERS = {\n  'if': handleIf,\n  'each': handleEach,\n  'with': handleWith\n};\n\nvar isValidSplit = 'a'.split(/a/).length === 3;\n\n/**\n * Split by RegExp. (Polyfill for IE8)\n * @param {string} text - text to be splitted\\\n * @param {RegExp} regexp - regular expression\n * @returns {Array.<string>}\n */\nvar splitByRegExp = (function() {\n  if (isValidSplit) {\n    return function(text, regexp) {\n      return text.split(regexp);\n    };\n  }\n\n  return function(text, regexp) {\n    var result = [];\n    var prevIndex = 0;\n    var match, index;\n\n    if (!regexp.global) {\n      regexp = new RegExp(regexp, 'g');\n    }\n\n    match = regexp.exec(text);\n    while (match !== null) {\n      index = match.index;\n      result.push(text.slice(prevIndex, index));\n\n      prevIndex = index + match[0].length;\n      match = regexp.exec(text);\n    }\n    result.push(text.slice(prevIndex));\n\n    return result;\n  };\n})();\n\n/**\n * Find value in the context by an expression.\n * @param {string} exp - an expression\n * @param {object} context - context\n * @returns {*}\n * @private\n */\n// eslint-disable-next-line complexity\nfunction getValueFromContext(exp, context) {\n  var splitedExps;\n  var value = context[exp];\n\n  if (exp === 'true') {\n    value = true;\n  } else if (exp === 'false') {\n    value = false;\n  } else if (STRING_NOTATION_REGEXP.test(exp)) {\n    value = exp.replace(STRING_REGEXP, '');\n  } else if (BRACKET_NOTATION_REGEXP.test(exp)) {\n    splitedExps = exp.split(BRACKET_REGEXP);\n    value = getValueFromContext(splitedExps[0], context)[getValueFromContext(splitedExps[1], context)];\n  } else if (DOT_NOTATION_REGEXP.test(exp)) {\n    splitedExps = exp.split(DOT_REGEXP);\n    value = getValueFromContext(splitedExps[0], context)[splitedExps[1]];\n  } else if (NUMBER_REGEXP.test(exp)) {\n    value = parseFloat(exp);\n  }\n\n  return value;\n}\n\n/**\n * Extract elseif and else expressions.\n * @param {Array.<string>} ifExps - args of if expression\n * @param {Array.<string>} sourcesInsideBlock - sources inside if block\n * @returns {object} - exps: expressions of if, elseif, and else / sourcesInsideIf: sources inside if, elseif, and else block.\n * @private\n */\nfunction extractElseif(ifExps, sourcesInsideBlock) {\n  var exps = [ifExps];\n  var sourcesInsideIf = [];\n  var otherIfCount = 0;\n  var start = 0;\n\n  // eslint-disable-next-line complexity\n  forEach(sourcesInsideBlock, function(source, index) {\n    if (source.indexOf('if') === 0) {\n      otherIfCount += 1;\n    } else if (source === '/if') {\n      otherIfCount -= 1;\n    } else if (!otherIfCount && (source.indexOf('elseif') === 0 || source === 'else')) {\n      exps.push(source === 'else' ? ['true'] : source.split(' ').slice(1));\n      sourcesInsideIf.push(sourcesInsideBlock.slice(start, index));\n      start = index + 1;\n    }\n  });\n\n  sourcesInsideIf.push(sourcesInsideBlock.slice(start));\n\n  return {\n    exps: exps,\n    sourcesInsideIf: sourcesInsideIf\n  };\n}\n\n/**\n * Helper function for \"if\". \n * @param {Array.<string>} exps - array of expressions split by spaces\n * @param {Array.<string>} sourcesInsideBlock - array of sources inside the if block\n * @param {object} context - context\n * @returns {string}\n * @private\n */\nfunction handleIf(exps, sourcesInsideBlock, context) {\n  var analyzed = extractElseif(exps, sourcesInsideBlock);\n  var result = false;\n  var compiledSource = '';\n\n  forEach(analyzed.exps, function(exp, index) {\n    result = handleExpression(exp, context);\n    if (result) {\n      compiledSource = compile(analyzed.sourcesInsideIf[index], context);\n    }\n\n    return !result;\n  });\n\n  return compiledSource;\n}\n\n/**\n * Helper function for \"each\".\n * @param {Array.<string>} exps - array of expressions split by spaces\n * @param {Array.<string>} sourcesInsideBlock - array of sources inside the each block\n * @param {object} context - context\n * @returns {string}\n * @private\n */\nfunction handleEach(exps, sourcesInsideBlock, context) {\n  var collection = handleExpression(exps, context);\n  var additionalKey = isArray(collection) ? '@index' : '@key';\n  var additionalContext = {};\n  var result = '';\n\n  forEach(collection, function(item, key) {\n    additionalContext[additionalKey] = key;\n    additionalContext['@this'] = item;\n    extend(context, additionalContext);\n\n    result += compile(sourcesInsideBlock.slice(), context);\n  });\n\n  return result;\n}\n\n/**\n * Helper function for \"with ... as\"\n * @param {Array.<string>} exps - array of expressions split by spaces\n * @param {Array.<string>} sourcesInsideBlock - array of sources inside the with block\n * @param {object} context - context\n * @returns {string}\n * @private\n */\nfunction handleWith(exps, sourcesInsideBlock, context) {\n  var asIndex = inArray('as', exps);\n  var alias = exps[asIndex + 1];\n  var result = handleExpression(exps.slice(0, asIndex), context);\n\n  var additionalContext = {};\n  additionalContext[alias] = result;\n\n  return compile(sourcesInsideBlock, extend(context, additionalContext)) || '';\n}\n\n/**\n * Extract sources inside block in place.\n * @param {Array.<string>} sources - array of sources\n * @param {number} start - index of start block\n * @param {number} end - index of end block\n * @returns {Array.<string>}\n * @private\n */\nfunction extractSourcesInsideBlock(sources, start, end) {\n  var sourcesInsideBlock = sources.splice(start + 1, end - start);\n  sourcesInsideBlock.pop();\n\n  return sourcesInsideBlock;\n}\n\n/**\n * Handle block helper function\n * @param {string} helperKeyword - helper keyword (ex. if, each, with)\n * @param {Array.<string>} sourcesToEnd - array of sources after the starting block\n * @param {object} context - context\n * @returns {Array.<string>}\n * @private\n */\nfunction handleBlockHelper(helperKeyword, sourcesToEnd, context) {\n  var executeBlockHelper = BLOCK_HELPERS[helperKeyword];\n  var helperCount = 1;\n  var startBlockIndex = 0;\n  var endBlockIndex;\n  var index = startBlockIndex + EXPRESSION_INTERVAL;\n  var expression = sourcesToEnd[index];\n\n  while (helperCount && isString(expression)) {\n    if (expression.indexOf(helperKeyword) === 0) {\n      helperCount += 1;\n    } else if (expression.indexOf('/' + helperKeyword) === 0) {\n      helperCount -= 1;\n      endBlockIndex = index;\n    }\n\n    index += EXPRESSION_INTERVAL;\n    expression = sourcesToEnd[index];\n  }\n\n  if (helperCount) {\n    throw Error(helperKeyword + ' needs {{/' + helperKeyword + '}} expression.');\n  }\n\n  sourcesToEnd[startBlockIndex] = executeBlockHelper(\n    sourcesToEnd[startBlockIndex].split(' ').slice(1),\n    extractSourcesInsideBlock(sourcesToEnd, startBlockIndex, endBlockIndex),\n    context\n  );\n\n  return sourcesToEnd;\n}\n\n/**\n * Helper function for \"custom helper\".\n * If helper is not a function, return helper itself.\n * @param {Array.<string>} exps - array of expressions split by spaces (first element: helper)\n * @param {object} context - context\n * @returns {string}\n * @private\n */\nfunction handleExpression(exps, context) {\n  var result = getValueFromContext(exps[0], context);\n\n  if (result instanceof Function) {\n    return executeFunction(result, exps.slice(1), context);\n  }\n\n  return result;\n}\n\n/**\n * Execute a helper function.\n * @param {Function} helper - helper function\n * @param {Array.<string>} argExps - expressions of arguments\n * @param {object} context - context\n * @returns {string} - result of executing the function with arguments\n * @private\n */\nfunction executeFunction(helper, argExps, context) {\n  var args = [];\n  forEach(argExps, function(exp) {\n    args.push(getValueFromContext(exp, context));\n  });\n\n  return helper.apply(null, args);\n}\n\n/**\n * Get a result of compiling an expression with the context.\n * @param {Array.<string>} sources - array of sources split by regexp of expression.\n * @param {object} context - context\n * @returns {Array.<string>} - array of sources that bind with its context\n * @private\n */\nfunction compile(sources, context) {\n  var index = 1;\n  var expression = sources[index];\n  var exps, firstExp, result;\n\n  while (isString(expression)) {\n    exps = expression.split(' ');\n    firstExp = exps[0];\n\n    if (BLOCK_HELPERS[firstExp]) {\n      result = handleBlockHelper(firstExp, sources.splice(index, sources.length - index), context);\n      sources = sources.concat(result);\n    } else {\n      sources[index] = handleExpression(exps, context);\n    }\n\n    index += EXPRESSION_INTERVAL;\n    expression = sources[index];\n  }\n\n  return sources.join('');\n}\n\n/**\n * Convert text by binding expressions with context.\n * <br>\n * If expression exists in the context, it will be replaced.\n * ex) '{{title}}' with context {title: 'Hello!'} is converted to 'Hello!'.\n * An array or object can be accessed using bracket and dot notation.\n * ex) '{{odds\\[2\\]}}' with context {odds: \\[1, 3, 5\\]} is converted to '5'.\n * ex) '{{evens\\[first\\]}}' with context {evens: \\[2, 4\\], first: 0} is converted to '2'.\n * ex) '{{project\\[\"name\"\\]}}' and '{{project.name}}' with context {project: {name: 'CodeSnippet'}} is converted to 'CodeSnippet'.\n * <br>\n * If replaced expression is a function, next expressions will be arguments of the function.\n * ex) '{{add 1 2}}' with context {add: function(a, b) {return a + b;}} is converted to '3'.\n * <br>\n * It has 3 predefined block helpers '{{helper ...}} ... {{/helper}}': 'if', 'each', 'with ... as ...'.\n * 1) 'if' evaluates conditional statements. It can use with 'elseif' and 'else'.\n * 2) 'each' iterates an array or object. It provides '@index'(array), '@key'(object), and '@this'(current element).\n * 3) 'with ... as ...' provides an alias.\n * @param {string} text - text with expressions\n * @param {object} context - context\n * @returns {string} - text that bind with its context\n * @memberof module:domUtil\n * @example\n * var template = require('tui-code-snippet/domUtil/template');\n * \n * var source = \n *     '<h1>'\n *   +   '{{if isValidNumber title}}'\n *   +     '{{title}}th'\n *   +   '{{elseif isValidDate title}}'\n *   +     'Date: {{title}}'\n *   +   '{{/if}}'\n *   + '</h1>'\n *   + '{{each list}}'\n *   +   '{{with addOne @index as idx}}'\n *   +     '<p>{{idx}}: {{@this}}</p>'\n *   +   '{{/with}}'\n *   + '{{/each}}';\n * \n * var context = {\n *   isValidDate: function(text) {\n *     return /^\\d{4}-(0|1)\\d-(0|1|2|3)\\d$/.test(text);\n *   },\n *   isValidNumber: function(text) {\n *     return /^\\d+$/.test(text);\n *   }\n *   title: '2019-11-25',\n *   list: ['Clean the room', 'Wash the dishes'],\n *   addOne: function(num) {\n *     return num + 1;\n *   }\n * };\n * \n * var result = template(source, context);\n * console.log(result); // <h1>Date: 2019-11-25</h1><p>1: Clean the room</p><p>2: Wash the dishes</p>\n */\nfunction template(text, context) {\n  return compile(splitByRegExp(text, EXPRESSION_REGEXP), context);\n}\n\nmodule.exports = template;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __nested_webpack_require_23110__) {\n\n\"use strict\";\n/**\n * @fileoverview This module provides some functions for custom events. And it is implemented in the observer design pattern.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar extend = __nested_webpack_require_23110__(1);\nvar isExisty = __nested_webpack_require_23110__(23);\nvar isString = __nested_webpack_require_23110__(6);\nvar isObject = __nested_webpack_require_23110__(25);\nvar isArray = __nested_webpack_require_23110__(2);\nvar isFunction = __nested_webpack_require_23110__(26);\nvar forEach = __nested_webpack_require_23110__(4);\n\nvar R_EVENTNAME_SPLIT = /\\s+/g;\n\n/**\n * @class\n * @example\n * // node, commonjs\n * var CustomEvents = require('tui-code-snippet/customEvents/customEvents');\n */\nfunction CustomEvents() {\n  /**\n     * @type {HandlerItem[]}\n     */\n  this.events = null;\n\n  /**\n     * only for checking specific context event was binded\n     * @type {object[]}\n     */\n  this.contexts = null;\n}\n\n/**\n * Mixin custom events feature to specific constructor\n * @param {function} func - constructor\n * @example\n * var CustomEvents = require('tui-code-snippet/customEvents/customEvents'); // node, commonjs\n *\n * var model;\n * function Model() {\n *     this.name = '';\n * }\n * CustomEvents.mixin(Model);\n *\n * model = new Model();\n * model.on('change', function() { this.name = 'model'; }, this);\n * model.fire('change');\n * alert(model.name); // 'model';\n */\nCustomEvents.mixin = function(func) {\n  extend(func.prototype, CustomEvents.prototype);\n};\n\n/**\n * Get HandlerItem object\n * @param {function} handler - handler function\n * @param {object} [context] - context for handler\n * @returns {HandlerItem} HandlerItem object\n * @private\n */\nCustomEvents.prototype._getHandlerItem = function(handler, context) {\n  var item = {handler: handler};\n\n  if (context) {\n    item.context = context;\n  }\n\n  return item;\n};\n\n/**\n * Get event object safely\n * @param {string} [eventName] - create sub event map if not exist.\n * @returns {(object|array)} event object. if you supplied `eventName`\n *  parameter then make new array and return it\n * @private\n */\nCustomEvents.prototype._safeEvent = function(eventName) {\n  var events = this.events;\n  var byName;\n\n  if (!events) {\n    events = this.events = {};\n  }\n\n  if (eventName) {\n    byName = events[eventName];\n\n    if (!byName) {\n      byName = [];\n      events[eventName] = byName;\n    }\n\n    events = byName;\n  }\n\n  return events;\n};\n\n/**\n * Get context array safely\n * @returns {array} context array\n * @private\n */\nCustomEvents.prototype._safeContext = function() {\n  var context = this.contexts;\n\n  if (!context) {\n    context = this.contexts = [];\n  }\n\n  return context;\n};\n\n/**\n * Get index of context\n * @param {object} ctx - context that used for bind custom event\n * @returns {number} index of context\n * @private\n */\nCustomEvents.prototype._indexOfContext = function(ctx) {\n  var context = this._safeContext();\n  var index = 0;\n\n  while (context[index]) {\n    if (ctx === context[index][0]) {\n      return index;\n    }\n\n    index += 1;\n  }\n\n  return -1;\n};\n\n/**\n * Memorize supplied context for recognize supplied object is context or\n *  name: handler pair object when off()\n * @param {object} ctx - context object to memorize\n * @private\n */\nCustomEvents.prototype._memorizeContext = function(ctx) {\n  var context, index;\n\n  if (!isExisty(ctx)) {\n    return;\n  }\n\n  context = this._safeContext();\n  index = this._indexOfContext(ctx);\n\n  if (index > -1) {\n    context[index][1] += 1;\n  } else {\n    context.push([ctx, 1]);\n  }\n};\n\n/**\n * Forget supplied context object\n * @param {object} ctx - context object to forget\n * @private\n */\nCustomEvents.prototype._forgetContext = function(ctx) {\n  var context, contextIndex;\n\n  if (!isExisty(ctx)) {\n    return;\n  }\n\n  context = this._safeContext();\n  contextIndex = this._indexOfContext(ctx);\n\n  if (contextIndex > -1) {\n    context[contextIndex][1] -= 1;\n\n    if (context[contextIndex][1] <= 0) {\n      context.splice(contextIndex, 1);\n    }\n  }\n};\n\n/**\n * Bind event handler\n * @param {(string|{name:string, handler:function})} eventName - custom\n *  event name or an object {eventName: handler}\n * @param {(function|object)} [handler] - handler function or context\n * @param {object} [context] - context for binding\n * @private\n */\nCustomEvents.prototype._bindEvent = function(eventName, handler, context) {\n  var events = this._safeEvent(eventName);\n  this._memorizeContext(context);\n  events.push(this._getHandlerItem(handler, context));\n};\n\n/**\n * Bind event handlers\n * @param {(string|{name:string, handler:function})} eventName - custom\n *  event name or an object {eventName: handler}\n * @param {(function|object)} [handler] - handler function or context\n * @param {object} [context] - context for binding\n * //-- #1. Get Module --//\n * var CustomEvents = require('tui-code-snippet/customEvents/customEvents'); // node, commonjs\n *\n * //-- #2. Use method --//\n * // # 2.1 Basic Usage\n * CustomEvents.on('onload', handler);\n *\n * // # 2.2 With context\n * CustomEvents.on('onload', handler, myObj);\n *\n * // # 2.3 Bind by object that name, handler pairs\n * CustomEvents.on({\n *     'play': handler,\n *     'pause': handler2\n * });\n *\n * // # 2.4 Bind by object that name, handler pairs with context object\n * CustomEvents.on({\n *     'play': handler\n * }, myObj);\n */\nCustomEvents.prototype.on = function(eventName, handler, context) {\n  var self = this;\n\n  if (isString(eventName)) {\n    // [syntax 1, 2]\n    eventName = eventName.split(R_EVENTNAME_SPLIT);\n    forEach(eventName, function(name) {\n      self._bindEvent(name, handler, context);\n    });\n  } else if (isObject(eventName)) {\n    // [syntax 3, 4]\n    context = handler;\n    forEach(eventName, function(func, name) {\n      self.on(name, func, context);\n    });\n  }\n};\n\n/**\n * Bind one-shot event handlers\n * @param {(string|{name:string,handler:function})} eventName - custom\n *  event name or an object {eventName: handler}\n * @param {function|object} [handler] - handler function or context\n * @param {object} [context] - context for binding\n */\nCustomEvents.prototype.once = function(eventName, handler, context) {\n  var self = this;\n\n  if (isObject(eventName)) {\n    context = handler;\n    forEach(eventName, function(func, name) {\n      self.once(name, func, context);\n    });\n\n    return;\n  }\n\n  function onceHandler() { // eslint-disable-line require-jsdoc\n    handler.apply(context, arguments);\n    self.off(eventName, onceHandler, context);\n  }\n\n  this.on(eventName, onceHandler, context);\n};\n\n/**\n * Splice supplied array by callback result\n * @param {array} arr - array to splice\n * @param {function} predicate - function return boolean\n * @private\n */\nCustomEvents.prototype._spliceMatches = function(arr, predicate) {\n  var i = 0;\n  var len;\n\n  if (!isArray(arr)) {\n    return;\n  }\n\n  for (len = arr.length; i < len; i += 1) {\n    if (predicate(arr[i]) === true) {\n      arr.splice(i, 1);\n      len -= 1;\n      i -= 1;\n    }\n  }\n};\n\n/**\n * Get matcher for unbind specific handler events\n * @param {function} handler - handler function\n * @returns {function} handler matcher\n * @private\n */\nCustomEvents.prototype._matchHandler = function(handler) {\n  var self = this;\n\n  return function(item) {\n    var needRemove = handler === item.handler;\n\n    if (needRemove) {\n      self._forgetContext(item.context);\n    }\n\n    return needRemove;\n  };\n};\n\n/**\n * Get matcher for unbind specific context events\n * @param {object} context - context\n * @returns {function} object matcher\n * @private\n */\nCustomEvents.prototype._matchContext = function(context) {\n  var self = this;\n\n  return function(item) {\n    var needRemove = context === item.context;\n\n    if (needRemove) {\n      self._forgetContext(item.context);\n    }\n\n    return needRemove;\n  };\n};\n\n/**\n * Get matcher for unbind specific hander, context pair events\n * @param {function} handler - handler function\n * @param {object} context - context\n * @returns {function} handler, context matcher\n * @private\n */\nCustomEvents.prototype._matchHandlerAndContext = function(handler, context) {\n  var self = this;\n\n  return function(item) {\n    var matchHandler = (handler === item.handler);\n    var matchContext = (context === item.context);\n    var needRemove = (matchHandler && matchContext);\n\n    if (needRemove) {\n      self._forgetContext(item.context);\n    }\n\n    return needRemove;\n  };\n};\n\n/**\n * Unbind event by event name\n * @param {string} eventName - custom event name to unbind\n * @param {function} [handler] - handler function\n * @private\n */\nCustomEvents.prototype._offByEventName = function(eventName, handler) {\n  var self = this;\n  var andByHandler = isFunction(handler);\n  var matchHandler = self._matchHandler(handler);\n\n  eventName = eventName.split(R_EVENTNAME_SPLIT);\n\n  forEach(eventName, function(name) {\n    var handlerItems = self._safeEvent(name);\n\n    if (andByHandler) {\n      self._spliceMatches(handlerItems, matchHandler);\n    } else {\n      forEach(handlerItems, function(item) {\n        self._forgetContext(item.context);\n      });\n\n      self.events[name] = [];\n    }\n  });\n};\n\n/**\n * Unbind event by handler function\n * @param {function} handler - handler function\n * @private\n */\nCustomEvents.prototype._offByHandler = function(handler) {\n  var self = this;\n  var matchHandler = this._matchHandler(handler);\n\n  forEach(this._safeEvent(), function(handlerItems) {\n    self._spliceMatches(handlerItems, matchHandler);\n  });\n};\n\n/**\n * Unbind event by object(name: handler pair object or context object)\n * @param {object} obj - context or {name: handler} pair object\n * @param {function} handler - handler function\n * @private\n */\nCustomEvents.prototype._offByObject = function(obj, handler) {\n  var self = this;\n  var matchFunc;\n\n  if (this._indexOfContext(obj) < 0) {\n    forEach(obj, function(func, name) {\n      self.off(name, func);\n    });\n  } else if (isString(handler)) {\n    matchFunc = this._matchContext(obj);\n\n    self._spliceMatches(this._safeEvent(handler), matchFunc);\n  } else if (isFunction(handler)) {\n    matchFunc = this._matchHandlerAndContext(handler, obj);\n\n    forEach(this._safeEvent(), function(handlerItems) {\n      self._spliceMatches(handlerItems, matchFunc);\n    });\n  } else {\n    matchFunc = this._matchContext(obj);\n\n    forEach(this._safeEvent(), function(handlerItems) {\n      self._spliceMatches(handlerItems, matchFunc);\n    });\n  }\n};\n\n/**\n * Unbind custom events\n * @param {(string|object|function)} eventName - event name or context or\n *  {name: handler} pair object or handler function\n * @param {(function)} handler - handler function\n * @example\n * //-- #1. Get Module --//\n * var CustomEvents = require('tui-code-snippet/customEvents/customEvents'); // node, commonjs\n *\n * //-- #2. Use method --//\n * // # 2.1 off by event name\n * CustomEvents.off('onload');\n *\n * // # 2.2 off by event name and handler\n * CustomEvents.off('play', handler);\n *\n * // # 2.3 off by handler\n * CustomEvents.off(handler);\n *\n * // # 2.4 off by context\n * CustomEvents.off(myObj);\n *\n * // # 2.5 off by context and handler\n * CustomEvents.off(myObj, handler);\n *\n * // # 2.6 off by context and event name\n * CustomEvents.off(myObj, 'onload');\n *\n * // # 2.7 off by an Object.<string, function> that is {eventName: handler}\n * CustomEvents.off({\n *   'play': handler,\n *   'pause': handler2\n * });\n *\n * // # 2.8 off the all events\n * CustomEvents.off();\n */\nCustomEvents.prototype.off = function(eventName, handler) {\n  if (isString(eventName)) {\n    // [syntax 1, 2]\n    this._offByEventName(eventName, handler);\n  } else if (!arguments.length) {\n    // [syntax 8]\n    this.events = {};\n    this.contexts = [];\n  } else if (isFunction(eventName)) {\n    // [syntax 3]\n    this._offByHandler(eventName);\n  } else if (isObject(eventName)) {\n    // [syntax 4, 5, 6]\n    this._offByObject(eventName, handler);\n  }\n};\n\n/**\n * Fire custom event\n * @param {string} eventName - name of custom event\n */\nCustomEvents.prototype.fire = function(eventName) {  // eslint-disable-line\n  this.invoke.apply(this, arguments);\n};\n\n/**\n * Fire a event and returns the result of operation 'boolean AND' with all\n *  listener's results.\n *\n * So, It is different from {@link CustomEvents#fire}.\n *\n * In service code, use this as a before event in component level usually\n *  for notifying that the event is cancelable.\n * @param {string} eventName - Custom event name\n * @param {...*} data - Data for event\n * @returns {boolean} The result of operation 'boolean AND'\n * @example\n * var map = new Map();\n * map.on({\n *     'beforeZoom': function() {\n *         // It should cancel the 'zoom' event by some conditions.\n *         if (that.disabled && this.getState()) {\n *             return false;\n *         }\n *         return true;\n *     }\n * });\n *\n * if (this.invoke('beforeZoom')) {    // check the result of 'beforeZoom'\n *     // if true,\n *     // doSomething\n * }\n */\nCustomEvents.prototype.invoke = function(eventName) {\n  var events, args, index, item;\n\n  if (!this.hasListener(eventName)) {\n    return true;\n  }\n\n  events = this._safeEvent(eventName);\n  args = Array.prototype.slice.call(arguments, 1);\n  index = 0;\n\n  while (events[index]) {\n    item = events[index];\n\n    if (item.handler.apply(item.context, args) === false) {\n      return false;\n    }\n\n    index += 1;\n  }\n\n  return true;\n};\n\n/**\n * Return whether at least one of the handlers is registered in the given\n *  event name.\n * @param {string} eventName - Custom event name\n * @returns {boolean} Is there at least one handler in event name?\n */\nCustomEvents.prototype.hasListener = function(eventName) {\n  return this.getListenerLength(eventName) > 0;\n};\n\n/**\n * Return a count of events registered.\n * @param {string} eventName - Custom event name\n * @returns {number} number of event\n */\nCustomEvents.prototype.getListenerLength = function(eventName) {\n  var events = this._safeEvent(eventName);\n\n  return events.length;\n};\n\nmodule.exports = CustomEvents;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __nested_webpack_require_37055__) {\n\n\"use strict\";\n/**\n * @fileoverview\n * This module provides a function to make a constructor\n * that can inherit from the other constructors like the CLASS easily.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inherit = __nested_webpack_require_37055__(27);\nvar extend = __nested_webpack_require_37055__(1);\n\n/**\n * @module defineClass\n */\n\n/**\n * Help a constructor to be defined and to inherit from the other constructors\n * @param {*} [parent] Parent constructor\n * @param {Object} props Members of constructor\n *  @param {Function} props.init Initialization method\n *  @param {Object} [props.static] Static members of constructor\n * @returns {*} Constructor\n * @memberof module:defineClass\n * @example\n * var defineClass = require('tui-code-snippet/defineClass/defineClass'); // node, commonjs\n *\n * //-- #2. Use property --//\n * var Parent = defineClass({\n *     init: function() { // constuructor\n *         this.name = 'made by def';\n *     },\n *     method: function() {\n *         // ...\n *     },\n *     static: {\n *         staticMethod: function() {\n *              // ...\n *         }\n *     }\n * });\n *\n * var Child = defineClass(Parent, {\n *     childMethod: function() {}\n * });\n *\n * Parent.staticMethod();\n *\n * var parentInstance = new Parent();\n * console.log(parentInstance.name); //made by def\n * parentInstance.staticMethod(); // Error\n *\n * var childInstance = new Child();\n * childInstance.method();\n * childInstance.childMethod();\n */\nfunction defineClass(parent, props) {\n  var obj;\n\n  if (!props) {\n    props = parent;\n    parent = null;\n  }\n\n  obj = props.init || function() {};\n\n  if (parent) {\n    inherit(obj, parent);\n  }\n\n  if (props.hasOwnProperty('static')) {\n    extend(obj, props['static']);\n    delete props['static'];\n  }\n\n  extend(obj.prototype, props);\n\n  return obj;\n}\n\nmodule.exports = defineClass;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __nested_webpack_require_38972__) {\n\n\"use strict\";\n/**\n * @fileoverview Bind DOM events\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isString = __nested_webpack_require_38972__(6);\nvar forEach = __nested_webpack_require_38972__(4);\n\nvar safeEvent = __nested_webpack_require_38972__(17);\n\n/**\n * Bind DOM events.\n * @param {HTMLElement} element - element to bind events\n * @param {(string|object)} types - Space splitted events names or eventName:handler object\n * @param {(function|object)} handler - handler function or context for handler method\n * @param {object} [context] context - context for handler method.\n * @memberof module:domEvent\n * @example\n * var div = document.querySelector('div');\n * \n * // Bind one event to an element.\n * on(div, 'click', toggle);\n * \n * // Bind multiple events with a same handler to multiple elements at once.\n * // Use event names splitted by a space.\n * on(div, 'mouseenter mouseleave', changeColor);\n * \n * // Bind multiple events with different handlers to an element at once.\n * // Use an object which of key is an event name and value is a handler function.\n * on(div, {\n *   keydown: highlight,\n *   keyup: dehighlight\n * });\n * \n * // Set a context for handler method.\n * var name = 'global';\n * var repository = {name: 'CodeSnippet'};\n * on(div, 'drag', function() {\n *  console.log(this.name);\n * }, repository);\n * // Result when you drag a div: \"CodeSnippet\"\n */\nfunction on(element, types, handler, context) {\n  if (isString(types)) {\n    forEach(types.split(/\\s+/g), function(type) {\n      bindEvent(element, type, handler, context);\n    });\n\n    return;\n  }\n\n  forEach(types, function(func, type) {\n    bindEvent(element, type, func, handler);\n  });\n}\n\n/**\n * Bind DOM events\n * @param {HTMLElement} element - element to bind events\n * @param {string} type - events name\n * @param {function} handler - handler function or context for handler method\n * @param {object} [context] context - context for handler method.\n * @private\n */\nfunction bindEvent(element, type, handler, context) {\n  /**\n     * Event handler\n     * @param {Event} e - event object\n     */\n  function eventHandler(e) {\n    handler.call(context || element, e || window.event);\n  }\n\n  if ('addEventListener' in element) {\n    element.addEventListener(type, eventHandler);\n  } else if ('attachEvent' in element) {\n    element.attachEvent('on' + type, eventHandler);\n  }\n  memorizeHandler(element, type, handler, eventHandler);\n}\n\n/**\n * Memorize DOM event handler for unbinding.\n * @param {HTMLElement} element - element to bind events\n * @param {string} type - events name\n * @param {function} handler - handler function that user passed at on() use\n * @param {function} wrappedHandler - handler function that wrapped by domevent for implementing some features\n * @private\n */\nfunction memorizeHandler(element, type, handler, wrappedHandler) {\n  var events = safeEvent(element, type);\n  var existInEvents = false;\n\n  forEach(events, function(obj) {\n    if (obj.handler === handler) {\n      existInEvents = true;\n\n      return false;\n    }\n\n    return true;\n  });\n\n  if (!existInEvents) {\n    events.push({\n      handler: handler,\n      wrappedHandler: wrappedHandler\n    });\n  }\n}\n\nmodule.exports = on;\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __nested_webpack_require_42224__) {\n\n\"use strict\";\n/**\n * @fileoverview Unbind DOM events\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isString = __nested_webpack_require_42224__(6);\nvar forEach = __nested_webpack_require_42224__(4);\n\nvar safeEvent = __nested_webpack_require_42224__(17);\n\n/**\n * Unbind DOM events\n * If a handler function is not passed, remove all events of that type.\n * @param {HTMLElement} element - element to unbind events\n * @param {(string|object)} types - Space splitted events names or eventName:handler object\n * @param {function} [handler] - handler function\n * @memberof module:domEvent\n * @example\n * // Following the example of domEvent#on\n * \n * // Unbind one event from an element.\n * off(div, 'click', toggle);\n * \n * // Unbind multiple events with a same handler from multiple elements at once.\n * // Use event names splitted by a space.\n * off(element, 'mouseenter mouseleave', changeColor);\n * \n * // Unbind multiple events with different handlers from an element at once.\n * // Use an object which of key is an event name and value is a handler function.\n * off(div, {\n *   keydown: highlight,\n *   keyup: dehighlight\n * });\n * \n * // Unbind events without handlers.\n * off(div, 'drag');\n */\nfunction off(element, types, handler) {\n  if (isString(types)) {\n    forEach(types.split(/\\s+/g), function(type) {\n      unbindEvent(element, type, handler);\n    });\n\n    return;\n  }\n\n  forEach(types, function(func, type) {\n    unbindEvent(element, type, func);\n  });\n}\n\n/**\n * Unbind DOM events\n * If a handler function is not passed, remove all events of that type.\n * @param {HTMLElement} element - element to unbind events\n * @param {string} type - events name\n * @param {function} [handler] - handler function\n * @private\n */\nfunction unbindEvent(element, type, handler) {\n  var events = safeEvent(element, type);\n  var index;\n\n  if (!handler) {\n    forEach(events, function(item) {\n      removeHandler(element, type, item.wrappedHandler);\n    });\n    events.splice(0, events.length);\n  } else {\n    forEach(events, function(item, idx) {\n      if (handler === item.handler) {\n        removeHandler(element, type, item.wrappedHandler);\n        index = idx;\n\n        return false;\n      }\n\n      return true;\n    });\n    events.splice(index, 1);\n  }\n}\n\n/**\n * Remove an event handler\n * @param {HTMLElement} element - An element to remove an event\n * @param {string} type - event type\n * @param {function} handler - event handler\n * @private\n */\nfunction removeHandler(element, type, handler) {\n  if ('removeEventListener' in element) {\n    element.removeEventListener(type, handler);\n  } else if ('detachEvent' in element) {\n    element.detachEvent('on' + type, handler);\n  }\n}\n\nmodule.exports = off;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __nested_webpack_require_44986__) {\n\n\"use strict\";\n/**\n * @fileoverview Find parent element recursively\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar matches = __nested_webpack_require_44986__(30);\n\n/**\n * Find parent element recursively\n * @param {HTMLElement} element - base element to start find\n * @param {string} selector - selector string for find\n * @returns {HTMLElement} - element finded or null\n * @memberof module:domUtil\n */\nfunction closest(element, selector) {\n  var parent = element.parentNode;\n\n  if (matches(element, selector)) {\n    return element;\n  }\n\n  while (parent && parent !== document) {\n    if (matches(parent, selector)) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return null;\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Remove element from parent node.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Remove element from parent node.\n * @param {HTMLElement} element - element to remove.\n * @memberof module:domUtil\n */\nfunction removeElement(element) {\n  if (element && element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n}\n\nmodule.exports = removeElement;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is a instance of HTMLNode or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is a instance of HTMLNode or not.\n * If the given variables is a instance of HTMLNode, return true.\n * @param {*} html - Target for checking\n * @returns {boolean} Is HTMLNode ?\n * @memberof module:type\n */\nfunction isHTMLNode(html) {\n  if (typeof HTMLElement === 'object') {\n    return (html && (html instanceof HTMLElement || !!html.nodeType));\n  }\n\n  return !!(html && html.nodeType);\n}\n\nmodule.exports = isHTMLNode;\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __nested_webpack_require_46994__) {\n\n\"use strict\";\n/**\n * @fileoverview Utils for Timepicker component\n * @author NHN. FE dev Lab. <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_46994__(0);\nvar sendHostname = __nested_webpack_require_46994__(35);\n\nvar uniqueId = 0;\n\n/**\n * Utils\n * @namespace util\n * @ignore\n */\nvar utils = {\n  /**\n   * Returns unique id\n   * @returns {number}\n   */\n  getUniqueId: function() {\n    uniqueId += 1;\n\n    return uniqueId;\n  },\n\n  /**\n   * Convert a value to meet the format\n   * @param {number|string} value \n   * @param {string} format - ex) hh, h, mm, m\n   * @returns {string}\n   */\n  formatTime: function(value, format) {\n    var PADDING_ZERO_TYPES = ['hh', 'mm'];\n    value = String(value);\n\n    return inArray(format, PADDING_ZERO_TYPES) >= 0\n      && value.length === 1\n      ? '0' + value\n      : value;\n  },\n\n  /**\n   * Get meridiem hour\n   * @param {number} hour - Original hour\n   * @returns {number} Converted meridiem hour\n   */\n  getMeridiemHour: function(hour) {\n    hour %= 12;\n\n    if (hour === 0) {\n      hour = 12;\n    }\n\n    return hour;\n  },\n\n  /**\n   * Returns range arr\n   * @param {number} start - Start value\n   * @param {number} end - End value\n   * @param {number} [step] - Step value\n   * @returns {Array}\n   */\n  getRangeArr: function(start, end, step) {\n    var arr = [];\n    var i;\n\n    step = step || 1;\n\n    if (start > end) {\n      for (i = end; i >= start; i -= step) {\n        arr.push(i);\n      }\n    } else {\n      for (i = start; i <= end; i += step) {\n        arr.push(i);\n      }\n    }\n\n    return arr;\n  },\n\n  /**\n   * Get a target element\n   * @param {Event} ev Event object\n   * @returns {HTMLElement} An event target element\n   */\n  getTarget: function(ev) {\n    return ev.target || ev.srcElement;\n  },\n\n  /**\n   * send host name\n   * @ignore\n   */\n  sendHostName: function() {\n    sendHostname('time-picker', 'UA-129987462-1');\n  }\n};\n\nmodule.exports = utils;\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Execute the provided callback once for each property of object which actually exist.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Execute the provided callback once for each property of object which actually exist.\n * If the callback function returns false, the loop will be stopped.\n * Callback function(iteratee) is invoked with three arguments:\n *  1) The value of the property\n *  2) The name of the property\n *  3) The object being traversed\n * @param {Object} obj The object that will be traversed\n * @param {function} iteratee  Callback function\n * @param {Object} [context] Context(this) of callback function\n * @memberof module:collection\n * @example\n * var forEachOwnProperties = require('tui-code-snippet/collection/forEachOwnProperties'); // node, commonjs\n *\n * var sum = 0;\n *\n * forEachOwnProperties({a:1,b:2,c:3}, function(value){\n *     sum += value;\n * });\n * alert(sum); // 6\n */\nfunction forEachOwnProperties(obj, iteratee, context) {\n  var key;\n\n  context = context || null;\n\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      if (iteratee.call(context, obj[key], key, obj) === false) {\n        break;\n      }\n    }\n  }\n}\n\nmodule.exports = forEachOwnProperties;\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Get event collection for specific HTML element\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar EVENT_KEY = '_feEventKey';\n\n/**\n * Get event collection for specific HTML element\n * @param {HTMLElement} element - HTML element\n * @param {string} type - event type\n * @returns {array}\n * @private\n */\nfunction safeEvent(element, type) {\n  var events = element[EVENT_KEY];\n  var handlers;\n\n  if (!events) {\n    events = element[EVENT_KEY] = {};\n  }\n\n  handlers = events[type];\n  if (!handlers) {\n    handlers = events[type] = [];\n  }\n\n  return handlers;\n}\n\nmodule.exports = safeEvent;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __nested_webpack_require_51018__) {\n\n\"use strict\";\n/**\n * @fileoverview Get HTML element's design classes.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isUndefined = __nested_webpack_require_51018__(5);\n\n/**\n * Get HTML element's design classes.\n * @param {(HTMLElement|SVGElement)} element target element\n * @returns {string} element css class name\n * @memberof module:domUtil\n */\nfunction getClass(element) {\n  if (!element || !element.className) {\n    return '';\n  }\n\n  if (isUndefined(element.className.baseVal)) {\n    return element.className;\n  }\n\n  return element.className.baseVal;\n}\n\nmodule.exports = getClass;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __nested_webpack_require_51690__) {\n\n\"use strict\";\n/**\n * @fileoverview Set className value\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isArray = __nested_webpack_require_51690__(2);\nvar isUndefined = __nested_webpack_require_51690__(5);\n\n/**\n * Set className value\n * @param {(HTMLElement|SVGElement)} element - target element\n * @param {(string|string[])} cssClass - class names\n * @private\n */\nfunction setClassName(element, cssClass) {\n  cssClass = isArray(cssClass) ? cssClass.join(' ') : cssClass;\n\n  cssClass = cssClass.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n  if (isUndefined(element.className.baseVal)) {\n    element.className = cssClass;\n\n    return;\n  }\n\n  element.className.baseVal = cssClass;\n}\n\nmodule.exports = setClassName;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __nested_webpack_require_52483__) {\n\n\"use strict\";\n/**\n * @fileoverview The entry file of TimePicker components\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n__nested_webpack_require_52483__(21);\n\nmodule.exports = __nested_webpack_require_52483__(22);\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __nested_webpack_require_52887__) {\n\n\"use strict\";\n/**\n * @fileoverview TimePicker component\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_52887__(0);\nvar forEachArray = __nested_webpack_require_52887__(3);\nvar CustomEvents = __nested_webpack_require_52887__(8);\nvar defineClass = __nested_webpack_require_52887__(9);\nvar extend = __nested_webpack_require_52887__(1);\nvar on = __nested_webpack_require_52887__(10);\nvar off = __nested_webpack_require_52887__(11);\nvar addClass = __nested_webpack_require_52887__(29);\nvar closest = __nested_webpack_require_52887__(12);\nvar removeElement = __nested_webpack_require_52887__(13);\nvar removeClass = __nested_webpack_require_52887__(32);\nvar isHTMLNode = __nested_webpack_require_52887__(14);\nvar isNumber = __nested_webpack_require_52887__(33);\n\nvar Spinbox = __nested_webpack_require_52887__(34);\nvar Selectbox = __nested_webpack_require_52887__(38);\nvar util = __nested_webpack_require_52887__(15);\nvar localeTexts = __nested_webpack_require_52887__(40);\nvar tmpl = __nested_webpack_require_52887__(41);\nvar meridiemTmpl = __nested_webpack_require_52887__(42);\n\nvar SELECTOR_HOUR_ELEMENT = '.tui-timepicker-hour';\nvar SELECTOR_MINUTE_ELEMENT = '.tui-timepicker-minute';\nvar SELECTOR_MERIDIEM_ELEMENT = '.tui-timepicker-meridiem';\nvar CLASS_NAME_LEFT_MERIDIEM = 'tui-has-left';\nvar CLASS_NAME_HIDDEN = 'tui-hidden';\nvar CLASS_NAME_CHECKED = 'tui-timepicker-meridiem-checked';\nvar INPUT_TYPE_SPINBOX = 'spinbox';\nvar INPUT_TYPE_SELECTBOX = 'selectbox';\n\n/**\n * Merge default options\n * @ignore\n * @param {object} options - options\n * @returns {object} Merged options\n */\nvar mergeDefaultOptions = function(options) {\n  return extend(\n    {\n      language: 'en',\n      initialHour: 0,\n      initialMinute: 0,\n      showMeridiem: true,\n      inputType: 'selectbox',\n      hourStep: 1,\n      minuteStep: 1,\n      meridiemPosition: 'right',\n      format: 'h:m',\n      disabledHours: [],\n      usageStatistics: true\n    },\n    options\n  );\n};\n\n/**\n * @class\n * @param {string|HTMLElement} container - Container element or selector\n * @param {Object} [options] - Options for initialization\n * @param {number} [options.initialHour = 0] - Initial setting value of hour\n * @param {number} [options.initialMinute = 0] - Initial setting value of minute\n * @param {number} [options.hourStep = 1] - Step value of hour\n * @param {number} [options.minuteStep = 1] - Step value of minute\n * @param {string} [options.inputType = 'selectbox'] - 'selectbox' or 'spinbox'\n * @param {string} [options.format = 'h:m'] - hour, minute format for display\n * @param {boolean} [options.showMeridiem = true] - Show meridiem expression?\n * @param {Array} [options.disabledHours = []] - Registered Hours is disabled.\n * @param {string} [options.meridiemPosition = 'right'] - Set location of the meridiem element.\n *                 If this option set 'left', the meridiem element is created in front of the hour element.\n * @param {string} [options.language = 'en'] Set locale texts\n * @param {Boolean} [options.usageStatistics=true|false] send hostname to google analytics [default value is true]\n * @example\n * var timepicker = new tui.TimePicker('#timepicker-container', {\n *     initialHour: 15,\n *     initialMinute: 13,\n *     inputType: 'selectbox',\n *     showMeridiem: false\n * });\n */\nvar TimePicker = defineClass(\n  /** @lends TimePicker.prototype */ {\n    static: {\n      /**\n       * Locale text data\n       * @type {object}\n       * @memberof TimePicker\n       * @static\n       * @example\n       * var TimePicker = tui.TimePicker; // or require('tui-time-picker');\n       *\n       * TimePicker.localeTexts['customKey'] = {\n       *     am: 'a.m.',\n       *     pm: 'p.m.'\n       * };\n       *\n       * var instance = new tui.TimePicker('#timepicker-container', {\n       *     language: 'customKey',\n       * });\n       */\n      localeTexts: localeTexts\n    },\n    init: function(container, options) {\n      options = mergeDefaultOptions(options);\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this._id = util.getUniqueId();\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this._container = isHTMLNode(container)\n        ? container\n        : document.querySelector(container);\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this._element = null;\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this._meridiemElement = null;\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this._amEl = null;\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this._pmEl = null;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this._showMeridiem = options.showMeridiem;\n\n      /**\n       * Meridiem postion\n       * @type {'left'|'right'}\n       * @private\n       */\n      this._meridiemPosition = options.meridiemPosition;\n\n      /**\n       * @type {Spinbox|Selectbox}\n       * @private\n       */\n      this._hourInput = null;\n\n      /**\n       * @type {Spinbox|Selectbox}\n       * @private\n       */\n      this._minuteInput = null;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this._hour = options.initialHour;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this._minute = options.initialMinute;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this._hourStep = options.hourStep;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this._minuteStep = options.minuteStep;\n\n      /**\n       * @type {Array}\n       * @private\n       */\n      this._disabledHours = options.disabledHours;\n\n      /**\n       * TimePicker inputType\n       * @type {'spinbox'|'selectbox'}\n       * @private\n       */\n      this._inputType = options.inputType;\n\n      /**\n       * Locale text for meridiem\n       * @type {string}\n       * @private\n       */\n      this._localeText = localeTexts[options.language];\n\n      /**\n       * Time format for output\n       * @type {string}\n       * @private\n       */\n      this._format = this._getValidTimeFormat(options.format);\n\n      this._render();\n      this._setEvents();\n\n      if (options.usageStatistics) {\n        util.sendHostName();\n      }\n    },\n\n    /**\n     * Set event handlers to selectors, container\n     * @private\n     */\n    _setEvents: function() {\n      this._hourInput.on('change', this._onChangeTimeInput, this);\n      this._minuteInput.on('change', this._onChangeTimeInput, this);\n\n      if (this._showMeridiem) {\n        if (this._inputType === INPUT_TYPE_SELECTBOX) {\n          on(\n            this._meridiemElement.querySelector('select'),\n            'change',\n            this._onChangeMeridiem,\n            this\n          );\n        } else if (this._inputType === INPUT_TYPE_SPINBOX) {\n          on(this._meridiemElement, 'click', this._onChangeMeridiem, this);\n        }\n      }\n    },\n\n    /**\n     * Remove events\n     * @private\n     */\n    _removeEvents: function() {\n      this.off();\n\n      this._hourInput.destroy();\n      this._minuteInput.destroy();\n\n      if (this._showMeridiem) {\n        if (this._inputType === INPUT_TYPE_SELECTBOX) {\n          off(\n            this._meridiemElement.querySelector('select'),\n            'change',\n            this._onChangeMeridiem,\n            this\n          );\n        } else if (this._inputType === INPUT_TYPE_SPINBOX) {\n          off(this._meridiemElement, 'click', this._onChangeMeridiem, this);\n        }\n      }\n    },\n\n    /**\n     * Render element\n     * @private\n     */\n    _render: function() {\n      var context = {\n        showMeridiem: this._showMeridiem,\n        isSpinbox: this._inputType === 'spinbox'\n      };\n\n      if (this._showMeridiem) {\n        extend(context, {\n          meridiemElement: this._makeMeridiemHTML()\n        });\n      }\n\n      if (this._element) {\n        removeElement(this._element);\n      }\n      this._container.innerHTML = tmpl(context);\n      this._element = this._container.firstChild;\n\n      this._renderTimeInputs();\n\n      if (this._showMeridiem) {\n        this._setMeridiemElement();\n      }\n    },\n\n    /**\n     * Set meridiem element on timepicker\n     * @private\n     */\n    _setMeridiemElement: function() {\n      if (this._meridiemPosition === 'left') {\n        addClass(this._element, CLASS_NAME_LEFT_MERIDIEM);\n      }\n      this._meridiemElement = this._element.querySelector(SELECTOR_MERIDIEM_ELEMENT);\n      this._amEl = this._meridiemElement.querySelector('[value=\"AM\"]');\n      this._pmEl = this._meridiemElement.querySelector('[value=\"PM\"]');\n      this._syncToMeridiemElements();\n    },\n\n    /**\n     * Make html for meridiem element\n     * @returns {HTMLElement} Meridiem element\n     * @private\n     */\n    _makeMeridiemHTML: function() {\n      var localeText = this._localeText;\n\n      return meridiemTmpl({\n        am: localeText.am,\n        pm: localeText.pm,\n        radioId: this._id,\n        isSpinbox: this._inputType === 'spinbox'\n      });\n    },\n\n    /**\n     * Render time selectors\n     * @private\n     */\n    _renderTimeInputs: function() {\n      var hour = this._hour;\n      var showMeridiem = this._showMeridiem;\n      var hourElement = this._element.querySelector(SELECTOR_HOUR_ELEMENT);\n      var minuteElement = this._element.querySelector(SELECTOR_MINUTE_ELEMENT);\n      var BoxComponent = this._inputType.toLowerCase() === 'selectbox' ? Selectbox : Spinbox;\n      var formatExplode = this._format.split(':');\n      var hourItems = this._getHourItems();\n\n      if (showMeridiem) {\n        hour = util.getMeridiemHour(hour);\n      }\n\n      this._hourInput = new BoxComponent(hourElement, {\n        initialValue: hour,\n        items: hourItems,\n        format: formatExplode[0],\n        disabledItems: this._makeDisabledStatItems(hourItems)\n      });\n\n      this._minuteInput = new BoxComponent(minuteElement, {\n        initialValue: this._minute,\n        items: this._getMinuteItems(),\n        format: formatExplode[1]\n      });\n    },\n\n    _makeDisabledStatItems: function(hourItems) {\n      var result = [];\n      var disabledHours = this._disabledHours.concat();\n\n      if (this._showMeridiem) {\n        disabledHours = this._meridiemableTime(disabledHours);\n      }\n\n      forEachArray(hourItems, function(hour) {\n        result.push(inArray(hour, disabledHours) >= 0);\n      });\n\n      return result;\n    },\n\n    _meridiemableTime: function(disabledHours) {\n      var diffHour = 0;\n      var startHour = 0;\n      var endHour = 11;\n      var result = [];\n\n      if (this._hour >= 12) {\n        diffHour = 12;\n        startHour = 12;\n        endHour = 23;\n      }\n\n      forEachArray(disabledHours, function(hour) {\n        if (hour >= startHour && hour <= endHour) {\n          result.push(hour - diffHour === 0 ? 12 : hour - diffHour);\n        }\n      });\n\n      return result;\n    },\n\n    /**\n     * Return formatted format.\n     * @param {string} format - format option\n     * @returns {string}\n     * @private\n     */\n    _getValidTimeFormat: function(format) {\n      if (!format.match(/^[h]{1,2}:[m]{1,2}$/i)) {\n        return 'h:m';\n      }\n\n      return format.toLowerCase();\n    },\n\n    /**\n     * Initialize meridiem elements\n     * @private\n     */\n    _syncToMeridiemElements: function() {\n      var selectedEl = this._hour >= 12 ? this._pmEl : this._amEl;\n      var notSelectedEl = selectedEl === this._pmEl ? this._amEl : this._pmEl;\n\n      selectedEl.setAttribute('selected', true);\n      selectedEl.setAttribute('checked', true);\n      addClass(selectedEl, CLASS_NAME_CHECKED);\n      notSelectedEl.removeAttribute('selected');\n      notSelectedEl.removeAttribute('checked');\n      removeClass(notSelectedEl, CLASS_NAME_CHECKED);\n    },\n\n    /**\n     * Set values in spinboxes from time\n     * @private\n     */\n    _syncToInputs: function() {\n      var hour = this._hour;\n      var minute = this._minute;\n\n      if (this._showMeridiem) {\n        hour = util.getMeridiemHour(hour);\n      }\n\n      this._hourInput.setValue(hour);\n      this._minuteInput.setValue(minute);\n    },\n\n    /**\n     * DOM event handler\n     * @param {Event} ev - Change event on meridiem element\n     * @private\n     */\n    _onChangeMeridiem: function(ev) {\n      var hour = this._hour;\n      var target = util.getTarget(ev);\n\n      if (target.value && closest(target, SELECTOR_MERIDIEM_ELEMENT)) {\n        hour = this._to24Hour(target.value === 'PM', hour);\n        this.setTime(hour, this._minute);\n        this._setDisabledHours();\n      }\n    },\n\n    /**\n     * Time change event handler\n     * @private\n     */\n    _onChangeTimeInput: function() {\n      var hour = this._hourInput.getValue();\n      var minute = this._minuteInput.getValue();\n      var isPM = this._hour >= 12;\n\n      if (this._showMeridiem) {\n        hour = this._to24Hour(isPM, hour);\n      }\n      this.setTime(hour, minute);\n    },\n\n    /**\n     * 12Hour-expression to 24Hour-expression\n     * @param {boolean} isPM - Is pm?\n     * @param {number} hour - Hour\n     * @returns {number}\n     * @private\n     */\n    _to24Hour: function(isPM, hour) {\n      hour %= 12;\n      if (isPM) {\n        hour += 12;\n      }\n\n      return hour;\n    },\n\n    _setDisabledHours: function() {\n      var hourItems = this._getHourItems();\n      var disabledItems = this._makeDisabledStatItems(hourItems);\n\n      this._hourInput.setDisabledItems(disabledItems);\n    },\n\n    /**\n     * Get items of hour\n     * @returns {array} Hour item list\n     * @private\n     */\n    _getHourItems: function() {\n      var step = this._hourStep;\n\n      return this._showMeridiem ? util.getRangeArr(1, 12, step) : util.getRangeArr(0, 23, step);\n    },\n\n    /**\n     * Get items of minute\n     * @returns {array} Minute item list\n     * @private\n     */\n    _getMinuteItems: function() {\n      return util.getRangeArr(0, 59, this._minuteStep);\n    },\n\n    /**\n     * Whether the hour and minute are in valid items or not\n     * @param {number} hour - Hour value\n     * @param {number} minute - Minute value\n     * @returns {boolean} State\n     * @private\n     */\n    _validItems: function(hour, minute) {\n      if (!isNumber(hour) || !isNumber(minute)) {\n        return false;\n      }\n\n      if (this._showMeridiem) {\n        hour = util.getMeridiemHour(hour);\n      }\n\n      return (\n        inArray(hour, this._getHourItems()) > -1 &&\n        inArray(minute, this._getMinuteItems()) > -1\n      );\n    },\n\n    /**\n     * Set step of hour\n     * @param {array} step - Step to create items of hour\n     */\n    setHourStep: function(step) {\n      this._hourStep = step;\n      this._hourInput.fire('changeItems', this._getHourItems());\n    },\n\n    /**\n     * Get step of hour\n     * @returns {number} Step of hour\n     */\n    getHourStep: function() {\n      return this._hourStep;\n    },\n\n    /**\n     * Set step of minute\n     * @param {array} step - Step to create items of minute\n     */\n    setMinuteStep: function(step) {\n      this._minuteStep = step;\n      this._minuteInput.fire('changeItems', this._getMinuteItems());\n    },\n\n    /**\n     * Get step of minute\n     * @returns {number} Step of minute\n     */\n    getMinuteStep: function() {\n      return this._minuteStep;\n    },\n\n    /**\n     * Show time picker element\n     */\n    show: function() {\n      removeClass(this._element, CLASS_NAME_HIDDEN);\n    },\n\n    /**\n     * Hide time picker element\n     */\n    hide: function() {\n      addClass(this._element, CLASS_NAME_HIDDEN);\n    },\n\n    /**\n     * Set hour\n     * @param {number} hour for time picker - (0~23)\n     * @returns {boolean} result of set time\n     */\n    setHour: function(hour) {\n      return this.setTime(hour, this._minute);\n    },\n\n    /**\n     * Set minute\n     * @param {number} minute for time picker\n     * @returns {boolean} result of set time\n     */\n    setMinute: function(minute) {\n      return this.setTime(this._hour, minute);\n    },\n\n    /**\n     * Set time\n     * @param {number} hour for time picker - (0~23)\n     * @param {number} minute for time picker\n     */\n    setTime: function(hour, minute) {\n      if (!this._validItems(hour, minute)) {\n        return;\n      }\n\n      this._hour = hour;\n      this._minute = minute;\n\n      this._syncToInputs();\n      if (this._showMeridiem) {\n        this._syncToMeridiemElements();\n      }\n\n      /**\n       * Change event - TimePicker\n       * @event TimePicker#change\n       */\n      this.fire('change', {\n        hour: this._hour,\n        minute: this._minute\n      });\n    },\n\n    /**\n     * Get hour\n     * @returns {number} hour - (0~23)\n     */\n    getHour: function() {\n      return this._hour;\n    },\n\n    /**\n     * Get minute\n     * @returns {number} minute\n     */\n    getMinute: function() {\n      return this._minute;\n    },\n\n    /**\n     * Change locale text of meridiem by language code\n     * @param {string} language - Language code\n     */\n    changeLanguage: function(language) {\n      this._localeText = localeTexts[language];\n      this._render();\n    },\n\n    /**\n     * Destroy\n     */\n    destroy: function() {\n      this._removeEvents();\n      removeElement(this._element);\n\n      this._container\n        = this._showMeridiem\n        = this._hourInput\n        = this._minuteInput\n        = this._hour\n        = this._minute\n        = this._inputType\n        = this._element\n        = this._meridiemElement\n        = this._amEl\n        = this._pmEl\n        = null;\n    }\n  }\n);\n\nCustomEvents.mixin(TimePicker);\nmodule.exports = TimePicker;\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __nested_webpack_require_70171__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is existing or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isUndefined = __nested_webpack_require_70171__(5);\nvar isNull = __nested_webpack_require_70171__(24);\n\n/**\n * Check whether the given variable is existing or not.\n * If the given variable is not null and not undefined, returns true.\n * @param {*} param - Target for checking\n * @returns {boolean} Is existy?\n * @memberof module:type\n * @example\n * var isExisty = require('tui-code-snippet/type/isExisty'); // node, commonjs\n *\n * isExisty(''); //true\n * isExisty(0); //true\n * isExisty([]); //true\n * isExisty({}); //true\n * isExisty(null); //false\n * isExisty(undefined); //false\n*/\nfunction isExisty(param) {\n  return !isUndefined(param) && !isNull(param);\n}\n\nmodule.exports = isExisty;\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is null or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is null or not.\n * If the given variable(arguments[0]) is null, returns true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is null?\n * @memberof module:type\n */\nfunction isNull(obj) {\n  return obj === null;\n}\n\nmodule.exports = isNull;\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is an object or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is an object or not.\n * If the given variable is an object, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is object?\n * @memberof module:type\n */\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\nmodule.exports = isObject;\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is a function or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is a function or not.\n * If the given variable is a function, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is function?\n * @memberof module:type\n */\nfunction isFunction(obj) {\n  return obj instanceof Function;\n}\n\nmodule.exports = isFunction;\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __nested_webpack_require_72665__) {\n\n\"use strict\";\n/**\n * @fileoverview Provide a simple inheritance in prototype-oriented.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar createObject = __nested_webpack_require_72665__(28);\n\n/**\n * Provide a simple inheritance in prototype-oriented.\n * Caution :\n *  Don't overwrite the prototype of child constructor.\n *\n * @param {function} subType Child constructor\n * @param {function} superType Parent constructor\n * @memberof module:inheritance\n * @example\n * var inherit = require('tui-code-snippet/inheritance/inherit'); // node, commonjs\n *\n * // Parent constructor\n * function Animal(leg) {\n *     this.leg = leg;\n * }\n * Animal.prototype.growl = function() {\n *     // ...\n * };\n *\n * // Child constructor\n * function Person(name) {\n *     this.name = name;\n * }\n *\n * // Inheritance\n * inherit(Person, Animal);\n *\n * // After this inheritance, please use only the extending of property.\n * // Do not overwrite prototype.\n * Person.prototype.walk = function(direction) {\n *     // ...\n * };\n */\nfunction inherit(subType, superType) {\n  var prototype = createObject(superType.prototype);\n  prototype.constructor = subType;\n  subType.prototype = prototype;\n}\n\nmodule.exports = inherit;\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Create a new object with the specified prototype object and properties.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * @module inheritance\n */\n\n/**\n * Create a new object with the specified prototype object and properties.\n * @param {Object} obj This object will be a prototype of the newly-created object.\n * @returns {Object}\n * @memberof module:inheritance\n */\nfunction createObject(obj) {\n  function F() {} // eslint-disable-line require-jsdoc\n  F.prototype = obj;\n\n  return new F();\n}\n\nmodule.exports = createObject;\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __nested_webpack_require_74604__) {\n\n\"use strict\";\n/**\n * @fileoverview Add css class to element\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEach = __nested_webpack_require_74604__(4);\nvar inArray = __nested_webpack_require_74604__(0);\nvar getClass = __nested_webpack_require_74604__(18);\nvar setClassName = __nested_webpack_require_74604__(19);\n\n/**\n * domUtil module\n * @module domUtil\n */\n\n/**\n * Add css class to element\n * @param {(HTMLElement|SVGElement)} element - target element\n * @param {...string} cssClass - css classes to add\n * @memberof module:domUtil\n */\nfunction addClass(element) {\n  var cssClass = Array.prototype.slice.call(arguments, 1);\n  var classList = element.classList;\n  var newClass = [];\n  var origin;\n\n  if (classList) {\n    forEach(cssClass, function(name) {\n      element.classList.add(name);\n    });\n\n    return;\n  }\n\n  origin = getClass(element);\n\n  if (origin) {\n    cssClass = [].concat(origin.split(/\\s+/), cssClass);\n  }\n\n  forEach(cssClass, function(cls) {\n    if (inArray(cls, newClass) < 0) {\n      newClass.push(cls);\n    }\n  });\n\n  setClassName(element, newClass);\n}\n\nmodule.exports = addClass;\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __nested_webpack_require_75759__) {\n\n\"use strict\";\n/**\n * @fileoverview Check element match selector\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_75759__(0);\nvar toArray = __nested_webpack_require_75759__(31);\n\nvar elProto = Element.prototype;\nvar matchSelector = elProto.matches ||\n    elProto.webkitMatchesSelector ||\n    elProto.mozMatchesSelector ||\n    elProto.msMatchesSelector ||\n    function(selector) {\n      var doc = this.document || this.ownerDocument;\n\n      return inArray(this, toArray(doc.querySelectorAll(selector))) > -1;\n    };\n\n/**\n * Check element match selector\n * @param {HTMLElement} element - element to check\n * @param {string} selector - selector to check\n * @returns {boolean} is selector matched to element?\n * @memberof module:domUtil\n */\nfunction matches(element, selector) {\n  return matchSelector.call(element, selector);\n}\n\nmodule.exports = matches;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __nested_webpack_require_76717__) {\n\n\"use strict\";\n/**\n * @fileoverview Transform the Array-like object to Array.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEachArray = __nested_webpack_require_76717__(3);\n\n/**\n * Transform the Array-like object to Array.\n * In low IE (below 8), Array.prototype.slice.call is not perfect. So, try-catch statement is used.\n * @param {*} arrayLike Array-like object\n * @returns {Array} Array\n * @memberof module:collection\n * @example\n * var toArray = require('tui-code-snippet/collection/toArray'); // node, commonjs\n *\n * var arrayLike = {\n *     0: 'one',\n *     1: 'two',\n *     2: 'three',\n *     3: 'four',\n *     length: 4\n * };\n * var result = toArray(arrayLike);\n *\n * alert(result instanceof Array); // true\n * alert(result); // one,two,three,four\n */\nfunction toArray(arrayLike) {\n  var arr;\n  try {\n    arr = Array.prototype.slice.call(arrayLike);\n  } catch (e) {\n    arr = [];\n    forEachArray(arrayLike, function(value) {\n      arr.push(value);\n    });\n  }\n\n  return arr;\n}\n\nmodule.exports = toArray;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __nested_webpack_require_77821__) {\n\n\"use strict\";\n/**\n * @fileoverview Remove css class from element\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEachArray = __nested_webpack_require_77821__(3);\nvar inArray = __nested_webpack_require_77821__(0);\nvar getClass = __nested_webpack_require_77821__(18);\nvar setClassName = __nested_webpack_require_77821__(19);\n\n/**\n * Remove css class from element\n * @param {(HTMLElement|SVGElement)} element - target element\n * @param {...string} cssClass - css classes to remove\n * @memberof module:domUtil\n */\nfunction removeClass(element) {\n  var cssClass = Array.prototype.slice.call(arguments, 1);\n  var classList = element.classList;\n  var origin, newClass;\n\n  if (classList) {\n    forEachArray(cssClass, function(name) {\n      classList.remove(name);\n    });\n\n    return;\n  }\n\n  origin = getClass(element).split(/\\s+/);\n  newClass = [];\n  forEachArray(origin, function(name) {\n    if (inArray(name, cssClass) < 0) {\n      newClass.push(name);\n    }\n  });\n\n  setClassName(element, newClass);\n}\n\nmodule.exports = removeClass;\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Check whether the given variable is a number or not.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\n/**\n * Check whether the given variable is a number or not.\n * If the given variable is a number, return true.\n * @param {*} obj - Target for checking\n * @returns {boolean} Is number?\n * @memberof module:type\n */\nfunction isNumber(obj) {\n  return typeof obj === 'number' || obj instanceof Number;\n}\n\nmodule.exports = isNumber;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __nested_webpack_require_79458__) {\n\n\"use strict\";\n/**\n * @fileoverview Spinbox (in TimePicker)\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_79458__(0);\nvar forEachArray = __nested_webpack_require_79458__(3);\nvar CustomEvents = __nested_webpack_require_79458__(8);\nvar defineClass = __nested_webpack_require_79458__(9);\nvar extend = __nested_webpack_require_79458__(1);\nvar on = __nested_webpack_require_79458__(10);\nvar off = __nested_webpack_require_79458__(11);\nvar closest = __nested_webpack_require_79458__(12);\nvar removeElement = __nested_webpack_require_79458__(13);\nvar isHTMLNode = __nested_webpack_require_79458__(14);\n\nvar util = __nested_webpack_require_79458__(15);\nvar tmpl = __nested_webpack_require_79458__(37);\n\nvar SELECTOR_UP_BUTTON = '.tui-timepicker-btn-up';\nvar SELECTOR_DOWN_BUTTON = '.tui-timepicker-btn-down';\n\n/**\n * @class\n * @ignore\n * @param {String|HTMLElement} container - Container of spinbox or selector\n * @param {Object} [options] - Options for initialization\n * @param {number} [options.initialValue] - initial setting value\n * @param {Array.<number>} items - Items\n */\nvar Spinbox = defineClass(\n  /** @lends Spinbox.prototype */ {\n    init: function(container, options) {\n      options = extend(\n        {\n          items: []\n        },\n        options\n      );\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this._container = isHTMLNode(container)\n        ? container\n        : document.querySelector(container);\n\n      /**\n       * Spinbox element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._element = null;\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this._inputElement = null;\n\n      /**\n       * Spinbox value items\n       * @type {Array.<number>}\n       * @private\n       */\n      this._items = options.items;\n\n      /**\n       * Selectbox disabled items info\n       * @type {Array.<number>}\n       * @private\n       */\n      this._disabledItems = options.disabledItems || [];\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this._selectedIndex = Math.max(0, inArray(options.initialValue, this._items));\n\n      /**\n       * Time format for output\n       * @type {string}\n       * @private\n       */\n      this._format = options.format;\n\n      this._render();\n      this._setEvents();\n    },\n\n    /**\n     * Render spinbox\n     * @private\n     */\n    _render: function() {\n      var index = inArray(this.getValue(), this._items);\n      var context;\n\n      if (this._disabledItems[index]) {\n        this._selectedIndex = this._findEnabledIndex();\n      }\n      context = {\n        maxLength: this._getMaxLength(),\n        initialValue: this.getValue(),\n        format: this._format,\n        formatTime: util.formatTime\n      };\n\n      this._container.innerHTML = tmpl(context);\n      this._element = this._container.firstChild;\n      this._inputElement = this._element.querySelector('input');\n    },\n\n    /**\n     * Find the index of the enabled item\n     * @returns {number} - find selected index\n     * @private\n     */\n    _findEnabledIndex: function() {\n      return inArray(false, this._disabledItems);\n    },\n\n    /**\n     * Returns maxlength of value\n     * @returns {number}\n     * @private\n     */\n    _getMaxLength: function() {\n      var lengths = [];\n\n      forEachArray(this._items, function(item) {\n        lengths.push(String(item).length);\n      });\n\n      return Math.max.apply(null, lengths);\n    },\n\n    /**\n     * Set disabledItems\n     * @param {object} disabledItems - disabled status of items\n     */\n    setDisabledItems: function(disabledItems) {\n      this._disabledItems = disabledItems;\n      this._changeToInputValue();\n    },\n\n    /**\n     * Assign default events to up/down button\n     * @private\n     */\n    _setEvents: function() {\n      on(this._container, 'click', this._onClickHandler, this);\n      on(this._inputElement, 'keydown', this._onKeydownInputElement, this);\n      on(this._inputElement, 'change', this._onChangeHandler, this);\n\n      this.on(\n        'changeItems',\n        function(items) {\n          this._items = items;\n          this._render();\n        },\n        this\n      );\n    },\n\n    /**\n     * Remove events to up/down button\n     * @private\n     */\n    _removeEvents: function() {\n      this.off();\n\n      off(this._container, 'click', this._onClickHandler, this);\n      off(this._inputElement, 'keydown', this._onKeydownInputElement, this);\n      off(this._inputElement, 'change', this._onChangeHandler, this);\n    },\n\n    /**\n     * Click event handler\n     * @param {Event} ev - Change event on up/down buttons.\n     */\n    _onClickHandler: function(ev) {\n      var target = util.getTarget(ev);\n\n      if (closest(target, SELECTOR_DOWN_BUTTON)) {\n        this._setNextValue(true);\n      } else if (closest(target, SELECTOR_UP_BUTTON)) {\n        this._setNextValue(false);\n      }\n    },\n\n    /**\n     * Set input value\n     * @param {boolean} isDown - From down-action?\n     * @private\n     */\n    _setNextValue: function(isDown) {\n      var index = this._selectedIndex;\n\n      if (isDown) {\n        index = index ? index - 1 : this._items.length - 1;\n      } else {\n        index = index < this._items.length - 1 ? index + 1 : 0;\n      }\n\n      if (this._disabledItems[index]) {\n        this._selectedIndex = index;\n        this._setNextValue(isDown);\n      } else {\n        this.setValue(this._items[index]);\n      }\n    },\n\n    /**\n     * DOM(Input element) Keydown Event handler\n     * @param {Event} ev event-object\n     * @private\n     */\n    _onKeydownInputElement: function(ev) {\n      var keyCode = ev.which || ev.keyCode;\n      var isDown;\n\n      if (closest(util.getTarget(ev), 'input')) {\n        switch (keyCode) {\n          case 38:\n            isDown = false;\n            break;\n          case 40:\n            isDown = true;\n            break;\n          default:\n            return;\n        }\n\n        this._setNextValue(isDown);\n      }\n    },\n\n    /**\n     * DOM(Input element) Change Event handler\n     * @param {Event} ev Change event on an input element.\n     * @private\n     */\n    _onChangeHandler: function(ev) {\n      if (closest(util.getTarget(ev), 'input')) {\n        this._changeToInputValue();\n      }\n    },\n\n    /**\n     * Change value to input-box if it is valid.\n     * @private\n     */\n    _changeToInputValue: function() {\n      var newValue = Number(this._inputElement.value);\n      var newIndex = inArray(newValue, this._items);\n\n      if (this._disabledItems[newIndex]) {\n        newIndex = this._findEnabledIndex();\n        newValue = this._items[newIndex];\n      } else if (newIndex === this._selectedIndex) {\n        return;\n      }\n\n      if (newIndex === -1) {\n        this.setValue(this._items[this._selectedIndex]);\n      } else {\n        this._selectedIndex = newIndex;\n        this.fire('change', {\n          value: newValue\n        });\n      }\n    },\n\n    /**\n     * Set value to input-box.\n     * @param {number} value - Value\n     */\n    setValue: function(value) {\n      this._inputElement.value = util.formatTime(value, this._format);\n      this._changeToInputValue();\n    },\n\n    /**\n     * Returns current value\n     * @returns {number}\n     */\n    getValue: function() {\n      return this._items[this._selectedIndex];\n    },\n\n    /**\n     * Destory\n     */\n    destroy: function() {\n      this._removeEvents();\n      removeElement(this._element);\n      this._container = this._element = this._inputElement = this._items = this._selectedIndex = null;\n    }\n  }\n);\n\nCustomEvents.mixin(Spinbox);\nmodule.exports = Spinbox;\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __nested_webpack_require_86984__) {\n\n\"use strict\";\n/**\n * @fileoverview Send hostname on DOMContentLoaded.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar isUndefined = __nested_webpack_require_86984__(5);\nvar imagePing = __nested_webpack_require_86984__(36);\n\nvar ms7days = 7 * 24 * 60 * 60 * 1000;\n\n/**\n * Check if the date has passed 7 days\n * @param {number} date - milliseconds\n * @returns {boolean}\n * @private\n */\nfunction isExpired(date) {\n  var now = new Date().getTime();\n\n  return now - date > ms7days;\n}\n\n/**\n * Send hostname on DOMContentLoaded.\n * To prevent hostname set tui.usageStatistics to false.\n * @param {string} appName - application name\n * @param {string} trackingId - GA tracking ID\n * @ignore\n */\nfunction sendHostname(appName, trackingId) {\n  var url = 'https://www.google-analytics.com/collect';\n  var hostname = location.hostname;\n  var hitType = 'event';\n  var eventCategory = 'use';\n  var applicationKeyForStorage = 'TOAST UI ' + appName + ' for ' + hostname + ': Statistics';\n  var date = window.localStorage.getItem(applicationKeyForStorage);\n\n  // skip if the flag is defined and is set to false explicitly\n  if (!isUndefined(window.tui) && window.tui.usageStatistics === false) {\n    return;\n  }\n\n  // skip if not pass seven days old\n  if (date && !isExpired(date)) {\n    return;\n  }\n\n  window.localStorage.setItem(applicationKeyForStorage, new Date().getTime());\n\n  setTimeout(function() {\n    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n      imagePing(url, {\n        v: 1,\n        t: hitType,\n        tid: trackingId,\n        cid: hostname,\n        dp: hostname,\n        dh: appName,\n        el: appName,\n        ec: eventCategory\n      });\n    }\n  }, 1000);\n}\n\nmodule.exports = sendHostname;\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __nested_webpack_require_88791__) {\n\n\"use strict\";\n/**\n * @fileoverview Request image ping.\n * @author NHN FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar forEachOwnProperties = __nested_webpack_require_88791__(16);\n\n/**\n * @module request\n */\n\n/**\n * Request image ping.\n * @param {String} url url for ping request\n * @param {Object} trackingInfo infos for make query string\n * @returns {HTMLElement}\n * @memberof module:request\n * @example\n * var imagePing = require('tui-code-snippet/request/imagePing'); // node, commonjs\n *\n * imagePing('https://www.google-analytics.com/collect', {\n *     v: 1,\n *     t: 'event',\n *     tid: 'trackingid',\n *     cid: 'cid',\n *     dp: 'dp',\n *     dh: 'dh'\n * });\n */\nfunction imagePing(url, trackingInfo) {\n  var trackingElement = document.createElement('img');\n  var queryString = '';\n  forEachOwnProperties(trackingInfo, function(value, key) {\n    queryString += '&' + key + '=' + value;\n  });\n  queryString = queryString.substring(1);\n\n  trackingElement.src = url + '?' + queryString;\n\n  trackingElement.style.display = 'none';\n  document.body.appendChild(trackingElement);\n  document.body.removeChild(trackingElement);\n\n  return trackingElement;\n}\n\nmodule.exports = imagePing;\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __nested_webpack_require_90048__) {\n\n\"use strict\";\n\n\nvar template = __nested_webpack_require_90048__(7);\n\nmodule.exports = function(context) {\n  var source =\n      '<div class=\"tui-timepicker-btn-area\">'\n    + '  <input type=\"text\" class=\"tui-timepicker-spinbox-input\"'\n    + '        maxlength=\"{{maxLength}}\"'\n    + '        size=\"{{maxLength}}\"'\n    + '        value=\"{{formatTime initialValue format}}\"'\n    + '        aria-label=\"TimePicker spinbox value\">'\n    + '  <button type=\"button\" class=\"tui-timepicker-btn tui-timepicker-btn-up\">'\n    + '    <span class=\"tui-ico-t-btn\">Increase</span>'\n    + '  </button>'\n    + '  <button type=\"button\" class=\"tui-timepicker-btn tui-timepicker-btn-down\">'\n    + '    <span class=\"tui-ico-t-btn\">Decrease</span>'\n    + '  </button>'\n    + '</div>';\n\n  return template(source, context);\n};\n\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __nested_webpack_require_90914__) {\n\n\"use strict\";\n/**\n * @fileoverview Selectbox (in TimePicker)\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nvar inArray = __nested_webpack_require_90914__(0);\nvar CustomEvents = __nested_webpack_require_90914__(8);\nvar defineClass = __nested_webpack_require_90914__(9);\nvar extend = __nested_webpack_require_90914__(1);\nvar on = __nested_webpack_require_90914__(10);\nvar off = __nested_webpack_require_90914__(11);\nvar closest = __nested_webpack_require_90914__(12);\nvar removeElement = __nested_webpack_require_90914__(13);\nvar isHTMLNode = __nested_webpack_require_90914__(14);\n\nvar util = __nested_webpack_require_90914__(15);\nvar tmpl = __nested_webpack_require_90914__(39);\n\n/**\n * @class\n * @ignore\n * @param {string|HTMLElement} container - Container element or selector\n * @param {object} options - Options\n * @param {Array.<number>} options.items - Items\n * @param {number} options.initialValue - Initial value\n */\nvar Selectbox = defineClass(\n  /** @lends Selectbox.prototype */ {\n    init: function(container, options) {\n      options = extend(\n        {\n          items: []\n        },\n        options\n      );\n\n      /**\n       * Container element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._container = isHTMLNode(container)\n        ? container\n        : document.querySelector(container);\n\n      /**\n       * Selectbox items\n       * @type {Array.<number>}\n       * @private\n       */\n      this._items = options.items || [];\n\n      /**\n       * Selectbox disabled items info\n       * @type {Array.<number>}\n       * @private\n       */\n      this._disabledItems = options.disabledItems || [];\n\n      /**\n       * Selected index\n       * @type {number}\n       * @private\n       */\n      this._selectedIndex = Math.max(0, inArray(options.initialValue, this._items));\n\n      /**\n       * Time format for output\n       * @type {string}\n       * @private\n       */\n      this._format = options.format;\n\n      /**\n       * Select element\n       * @type {HTMLElement}\n       * @private\n       */\n      this._element = null;\n\n      this._render();\n      this._setEvents();\n    },\n\n    /**\n     * Render selectbox\n     * @private\n     */\n    _render: function() {\n      var context;\n\n      this._changeEnabledIndex();\n      context = {\n        items: this._items,\n        format: this._format,\n        initialValue: this.getValue(),\n        disabledItems: this._disabledItems,\n        formatTime: util.formatTime,\n        equals: function(a, b) {\n          return a === b;\n        }\n      };\n\n      if (this._element) {\n        this._removeElement();\n      }\n\n      this._container.innerHTML = tmpl(context);\n      this._element = this._container.firstChild;\n      on(this._element, 'change', this._onChangeHandler, this);\n    },\n\n    /**\n     * Change the index of the enabled item\n     * @private\n     */\n    _changeEnabledIndex: function() {\n      var index = inArray(this.getValue(), this._items);\n      if (this._disabledItems[index]) {\n        this._selectedIndex = inArray(false, this._disabledItems);\n      }\n    },\n\n    /**\n     * Set disabledItems\n     * @param {object} disabledItems - disabled status of items\n     * @private\n     */\n    setDisabledItems: function(disabledItems) {\n      this._disabledItems = disabledItems;\n      this._render();\n    },\n\n    /**\n     * Set events\n     * @private\n     */\n    _setEvents: function() {\n      this.on(\n        'changeItems',\n        function(items) {\n          this._items = items;\n          this._render();\n        },\n        this\n      );\n    },\n\n    /**\n     * Remove events\n     * @private\n     */\n    _removeEvents: function() {\n      this.off();\n    },\n\n    /**\n     * Remove element\n     * @private\n     */\n    _removeElement: function() {\n      off(this._element, 'change', this._onChangeHandler, this);\n      removeElement(this._element);\n    },\n\n    /**\n     * Change event handler\n     * @param {Event} ev Change event on a select element.\n     * @private\n     */\n    _onChangeHandler: function(ev) {\n      if (closest(util.getTarget(ev), 'select')) {\n        this._setNewValue();\n      }\n    },\n\n    /**\n     * Set new value\n     * @private\n     */\n    _setNewValue: function() {\n      var newValue = Number(this._element.value);\n      this._selectedIndex = inArray(newValue, this._items);\n      this.fire('change', {\n        value: newValue\n      });\n    },\n\n    /**\n     * Returns current value\n     * @returns {number}\n     */\n    getValue: function() {\n      return this._items[this._selectedIndex];\n    },\n\n    /**\n     * Set value\n     * @param {number} value - New value\n     */\n    setValue: function(value) {\n      var newIndex = inArray(value, this._items);\n\n      if (newIndex > -1 && newIndex !== this._selectedIndex) {\n        this._selectedIndex = newIndex;\n        this._element.value = value;\n        this._setNewValue();\n      }\n    },\n\n    /**\n     * Destory\n     */\n    destroy: function() {\n      this._removeEvents();\n      this._removeElement();\n      this._container = this._items = this._selectedIndex = this._element = null;\n    }\n  }\n);\n\nCustomEvents.mixin(Selectbox);\nmodule.exports = Selectbox;\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __nested_webpack_require_95992__) {\n\n\"use strict\";\n\n\nvar template = __nested_webpack_require_95992__(7);\n\nmodule.exports = function(context) {\n  var source =\n      '<select class=\"tui-timepicker-select\" aria-label=\"Time\">'\n    + '  {{each items}}'\n    + '    {{if equals initialValue @this}}'\n    + '      <option value=\"{{@this}}\" selected {{if disabledItems[@index]}}disabled{{/if}}>{{formatTime @this format}}</option>'\n    + '    {{else}}'\n    + '      <option value=\"{{@this}}\" {{if disabledItems[@index]}}disabled{{/if}}>{{formatTime @this format}}</option>'\n    + '    {{/if}}'\n    + '  {{/each}}'\n    + '</select>';\n\n  return template(source, context);\n};\n\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @fileoverview Default locale texts\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n */\n\n\n\nmodule.exports = {\n  en: {\n    am: 'AM',\n    pm: 'PM'\n  },\n  ko: {\n    am: '오전',\n    pm: '오후'\n  }\n};\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __nested_webpack_require_96986__) {\n\n\"use strict\";\n\n\nvar template = __nested_webpack_require_96986__(7);\n\nmodule.exports = function(context) {\n  var source =\n      '<div class=\"tui-timepicker\">'\n    + '  <div class=\"tui-timepicker-body\">'\n    + '    <div class=\"tui-timepicker-row\">'\n    + '      {{if isSpinbox}}'\n    + '        <div class=\"tui-timepicker-column tui-timepicker-spinbox tui-timepicker-hour\"></div>'\n    + '        <span class=\"tui-timepicker-column tui-timepicker-colon\"><span class=\"tui-ico-colon\">:</span></span>'\n    + '        <div class=\"tui-timepicker-column tui-timepicker-spinbox tui-timepicker-minute\"></div>'\n    + '        {{if showMeridiem}}'\n    + '          {{meridiemElement}}'\n    + '        {{/if}}'\n    + '      {{else}}'\n    + '        <div class=\"tui-timepicker-column tui-timepicker-selectbox tui-timepicker-hour\"></div>'\n    + '        <span class=\"tui-timepicker-column tui-timepicker-colon\"><span class=\"tui-ico-colon\">:</span></span>'\n    + '        <div class=\"tui-timepicker-column tui-timepicker-selectbox tui-timepicker-minute\"></div>'\n    + '        {{if showMeridiem}}'\n    + '          {{meridiemElement}}'\n    + '        {{/if}}'\n    + '      {{/if}}'\n    + '    </div>'\n    + '  </div>'\n    + '</div>';\n\n  return template(source, context);\n};\n\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __nested_webpack_require_98309__) {\n\n\"use strict\";\n\n\nvar template = __nested_webpack_require_98309__(7);\n\nmodule.exports = function(context) {\n  var source =\n      '{{if isSpinbox}}'\n    + '  <div class=\"tui-timepicker-column tui-timepicker-checkbox tui-timepicker-meridiem\">'\n    + '    <div class=\"tui-timepicker-check-area\">'\n    + '      <ul class=\"tui-timepicker-check-lst\">'\n    + '        <li class=\"tui-timepicker-check\">'\n    + '          <div class=\"tui-timepicker-radio\">'\n    + '            <input type=\"radio\"'\n    + '                  name=\"optionsRadios-{{radioId}}\"'\n    + '                  value=\"AM\"'\n    + '                  class=\"tui-timepicker-radio-am\"'\n    + '                  id=\"tui-timepicker-radio-am-{{radioId}}\">'\n    + '            <label for=\"tui-timepicker-radio-am-{{radioId}}\" class=\"tui-timepicker-radio-label\">'\n    + '              <span class=\"tui-timepicker-input-radio\"></span>{{am}}'\n    + '            </label>'\n    + '          </div>'\n    + '        </li>'\n    + '        <li class=\"tui-timepicker-check\">'\n    + '          <div class=\"tui-timepicker-radio\">'\n    + '            <input type=\"radio\"'\n    + '                  name=\"optionsRadios-{{radioId}}\"'\n    + '                  value=\"PM\"'\n    + '                  class=\"tui-timepicker-radio-pm\"'\n    + '                  id=\"tui-timepicker-radio-pm-{{radioId}}\">'\n    + '            <label for=\"tui-timepicker-radio-pm-{{radioId}}\" class=\"tui-timepicker-radio-label\">'\n    + '              <span class=\"tui-timepicker-input-radio\"></span>{{pm}}'\n    + '            </label>'\n    + '          </div>'\n    + '        </li>'\n    + '      </ul>'\n    + '    </div>'\n    + '  </div>'\n    + '{{else}}'\n    + '  <div class=\"tui-timepicker-column tui-timepicker-selectbox tui-is-add-picker tui-timepicker-meridiem\">'\n    + '    <select class=\"tui-timepicker-select\" aria-label=\"AM/PM\">'\n    + '      <option value=\"AM\">{{am}}</option>'\n    + '      <option value=\"PM\">{{pm}}</option>'\n    + '    </select>'\n    + '  </div>'\n    + '{{/if}}';\n\n  return template(source, context);\n};\n\n\n\n/***/ })\n/******/ ]);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTnBtSlMvLi9ub2RlX21vZHVsZXMvdHVpLXRpbWUtcGlja2VyL2Rpc3QvdHVpLXRpbWUtcGlja2VyLmpzPzRlNDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBUT0FTVCBVSSBUaW1lIFBpY2tlclxuICogQHZlcnNpb24gMi4wLjNcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cbihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlRpbWVQaWNrZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1widHVpXCJdID0gcm9vdFtcInR1aVwiXSB8fCB7fSwgcm9vdFtcInR1aVwiXVtcIlRpbWVQaWNrZXJcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJkaXN0XCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBjb21wbGV4aXR5ICovXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggYXQgd2hpY2ggYSBnaXZlbiBlbGVtZW50IGNhbiBiZSBmb3VuZCBpbiB0aGUgYXJyYXkuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG4vKipcbiAqIEBtb2R1bGUgYXJyYXlcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IGluZGV4IGF0IHdoaWNoIGEgZ2l2ZW4gZWxlbWVudCBjYW4gYmUgZm91bmQgaW4gdGhlIGFycmF5XG4gKiBmcm9tIHN0YXJ0IGluZGV4KGRlZmF1bHQgMCksIG9yIC0xIGlmIGl0IGlzIG5vdCBwcmVzZW50LlxuICogSXQgY29tcGFyZXMgc2VhcmNoRWxlbWVudCB0byBlbGVtZW50cyBvZiB0aGUgQXJyYXkgdXNpbmcgc3RyaWN0IGVxdWFsaXR5XG4gKiAodGhlIHNhbWUgbWV0aG9kIHVzZWQgYnkgdGhlID09PSwgb3IgdHJpcGxlLWVxdWFscywgb3BlcmF0b3IpLlxuICogQHBhcmFtIHsqfSBzZWFyY2hFbGVtZW50IEVsZW1lbnQgdG8gbG9jYXRlIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgQXJyYXkgdGhhdCB3aWxsIGJlIHRyYXZlcnNlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IFN0YXJ0IGluZGV4IGluIGFycmF5IGZvciBzZWFyY2hpbmcgKGRlZmF1bHQgMClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBGaXJzdCBpbmRleCBhdCB3aGljaCBhIGdpdmVuIGVsZW1lbnQsIG9yIC0xIGlmIGl0IGlzIG5vdCBwcmVzZW50XG4gKiBAbWVtYmVyb2YgbW9kdWxlOmFycmF5XG4gKiBAZXhhbXBsZVxuICogdmFyIGluQXJyYXkgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2FycmF5L2luQXJyYXknKTsgLy8gbm9kZSwgY29tbW9uanNcbiAqXG4gKiB2YXIgYXJyID0gWydvbmUnLCAndHdvJywgJ3RocmVlJywgJ2ZvdXInXTtcbiAqIHZhciBpZHgxID0gaW5BcnJheSgnb25lJywgYXJyLCAzKTsgLy8gLTFcbiAqIHZhciBpZHgyID0gaW5BcnJheSgnb25lJywgYXJyKTsgLy8gMFxuICovXG5mdW5jdGlvbiBpbkFycmF5KHNlYXJjaEVsZW1lbnQsIGFycmF5LCBzdGFydEluZGV4KSB7XG4gIHZhciBpO1xuICB2YXIgbGVuZ3RoO1xuICBzdGFydEluZGV4ID0gc3RhcnRJbmRleCB8fCAwO1xuXG4gIGlmICghaXNBcnJheShhcnJheSkpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhcnJheSwgc2VhcmNoRWxlbWVudCwgc3RhcnRJbmRleCk7XG4gIH1cblxuICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIGZvciAoaSA9IHN0YXJ0SW5kZXg7IHN0YXJ0SW5kZXggPj0gMCAmJiBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoYXJyYXlbaV0gPT09IHNlYXJjaEVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbkFycmF5O1xuXG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBFeHRlbmQgdGhlIHRhcmdldCBvYmplY3QgZnJvbSBvdGhlciBvYmplY3RzLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogQG1vZHVsZSBvYmplY3RcbiAqL1xuXG4vKipcbiAqIEV4dGVuZCB0aGUgdGFyZ2V0IG9iamVjdCBmcm9tIG90aGVyIG9iamVjdHMuXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0IC0gT2JqZWN0IHRoYXQgd2lsbCBiZSBleHRlbmRlZFxuICogQHBhcmFtIHsuLi5vYmplY3R9IG9iamVjdHMgLSBPYmplY3RzIGFzIHNvdXJjZXNcbiAqIEByZXR1cm5zIHtvYmplY3R9IEV4dGVuZGVkIG9iamVjdFxuICogQG1lbWJlcm9mIG1vZHVsZTpvYmplY3RcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgb2JqZWN0cykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHZhciBoYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHNvdXJjZSwgcHJvcCwgaSwgbGVuO1xuXG4gIGZvciAoaSA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBmb3IgKHByb3AgaW4gc291cmNlKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcC5jYWxsKHNvdXJjZSwgcHJvcCkpIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kO1xuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhbiBpbnN0YW5jZSBvZiBBcnJheSBvciBub3QuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhbiBpbnN0YW5jZSBvZiBBcnJheSBvciBub3QuXG4gKiBJZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYW4gaW5zdGFuY2Ugb2YgQXJyYXksIHJldHVybiB0cnVlLlxuICogQHBhcmFtIHsqfSBvYmogLSBUYXJnZXQgZm9yIGNoZWNraW5nXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgYXJyYXkgaW5zdGFuY2U/XG4gKiBAbWVtYmVyb2YgbW9kdWxlOnR5cGVcbiAqL1xuZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXk7XG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEV4ZWN1dGUgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheShvciBBcnJheS1saWtlIG9iamVjdCkgaW4gYXNjZW5kaW5nIG9yZGVyLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogRXhlY3V0ZSB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBlbGVtZW50IHByZXNlbnRcbiAqIGluIHRoZSBhcnJheShvciBBcnJheS1saWtlIG9iamVjdCkgaW4gYXNjZW5kaW5nIG9yZGVyLlxuICogSWYgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UsIHRoZSBsb29wIHdpbGwgYmUgc3RvcHBlZC5cbiAqIENhbGxiYWNrIGZ1bmN0aW9uKGl0ZXJhdGVlKSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICogIDEpIFRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudFxuICogIDIpIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudFxuICogIDMpIFRoZSBhcnJheShvciBBcnJheS1saWtlIG9iamVjdCkgYmVpbmcgdHJhdmVyc2VkXG4gKiBAcGFyYW0ge0FycmF5fEFyZ3VtZW50c3xOb2RlTGlzdH0gYXJyIFRoZSBhcnJheShvciBBcnJheS1saWtlIG9iamVjdCkgdGhhdCB3aWxsIGJlIHRyYXZlcnNlZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0ZWUgQ2FsbGJhY2sgZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF0gQ29udGV4dCh0aGlzKSBvZiBjYWxsYmFjayBmdW5jdGlvblxuICogQG1lbWJlcm9mIG1vZHVsZTpjb2xsZWN0aW9uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZvckVhY2hBcnJheSA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQvY29sbGVjdGlvbi9mb3JFYWNoQXJyYXknKTsgLy8gbm9kZSwgY29tbW9uanNcbiAqXG4gKiB2YXIgc3VtID0gMDtcbiAqXG4gKiBmb3JFYWNoQXJyYXkoWzEsMiwzXSwgZnVuY3Rpb24odmFsdWUpe1xuICogICAgIHN1bSArPSB2YWx1ZTtcbiAqIH0pO1xuICogYWxlcnQoc3VtKTsgLy8gNlxuICovXG5mdW5jdGlvbiBmb3JFYWNoQXJyYXkoYXJyLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcblxuICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG4gIGZvciAoOyBpbmRleCA8IGxlbjsgaW5kZXggKz0gMSkge1xuICAgIGlmIChpdGVyYXRlZS5jYWxsKGNvbnRleHQsIGFycltpbmRleF0sIGluZGV4LCBhcnIpID09PSBmYWxzZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZm9yRWFjaEFycmF5O1xuXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBFeGVjdXRlIHRoZSBwcm92aWRlZCBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHByb3BlcnR5IG9mIG9iamVjdChvciBlbGVtZW50IG9mIGFycmF5KSB3aGljaCBhY3R1YWxseSBleGlzdC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgZm9yRWFjaEFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBmb3JFYWNoT3duUHJvcGVydGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG4vKipcbiAqIEBtb2R1bGUgY29sbGVjdGlvblxuICovXG5cbi8qKlxuICogRXhlY3V0ZSB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBwcm9wZXJ0eSBvZiBvYmplY3Qob3IgZWxlbWVudCBvZiBhcnJheSkgd2hpY2ggYWN0dWFsbHkgZXhpc3QuXG4gKiBJZiB0aGUgb2JqZWN0IGlzIEFycmF5LWxpa2Ugb2JqZWN0KGV4LWFyZ3VtZW50cyBvYmplY3QpLCBJdCBuZWVkcyB0byB0cmFuc2Zvcm0gdG8gQXJyYXkuKHNlZSAnZXgyJyBvZiBleGFtcGxlKS5cbiAqIElmIHRoZSBjYWxsYmFjayBmdW5jdGlvbiByZXR1cm5zIGZhbHNlLCB0aGUgbG9vcCB3aWxsIGJlIHN0b3BwZWQuXG4gKiBDYWxsYmFjayBmdW5jdGlvbihpdGVyYXRlZSkgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAqICAxKSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5KG9yIFRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudClcbiAqICAyKSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkob3IgVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50KVxuICogIDMpIFRoZSBvYmplY3QgYmVpbmcgdHJhdmVyc2VkXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIHRyYXZlcnNlZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0ZWUgQ2FsbGJhY2sgZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF0gQ29udGV4dCh0aGlzKSBvZiBjYWxsYmFjayBmdW5jdGlvblxuICogQG1lbWJlcm9mIG1vZHVsZTpjb2xsZWN0aW9uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZvckVhY2ggPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2NvbGxlY3Rpb24vZm9yRWFjaCcpOyAvLyBub2RlLCBjb21tb25qc1xuICpcbiAqIHZhciBzdW0gPSAwO1xuICpcbiAqIGZvckVhY2goWzEsMiwzXSwgZnVuY3Rpb24odmFsdWUpe1xuICogICAgIHN1bSArPSB2YWx1ZTtcbiAqIH0pO1xuICogYWxlcnQoc3VtKTsgLy8gNlxuICpcbiAqIC8vIEluIGNhc2Ugb2YgQXJyYXktbGlrZSBvYmplY3RcbiAqIHZhciBhcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycmF5TGlrZSk7IC8vIGNoYW5nZSB0byBhcnJheVxuICogZm9yRWFjaChhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuICogICAgIHN1bSArPSB2YWx1ZTtcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIGZvckVhY2hBcnJheShvYmosIGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgfSBlbHNlIHtcbiAgICBmb3JFYWNoT3duUHJvcGVydGllcyhvYmosIGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZvckVhY2g7XG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCBvciBub3QuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyB1bmRlZmluZWQgb3Igbm90LlxuICogSWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgcmV0dXJucyB0cnVlLlxuICogQHBhcmFtIHsqfSBvYmogLSBUYXJnZXQgZm9yIGNoZWNraW5nXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgdW5kZWZpbmVkP1xuICogQG1lbWJlcm9mIG1vZHVsZTp0eXBlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZpbmVkXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNVbmRlZmluZWQ7XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgc3RyaW5nIG9yIG5vdC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgc3RyaW5nIG9yIG5vdC5cbiAqIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIHN0cmluZywgcmV0dXJuIHRydWUuXG4gKiBAcGFyYW0geyp9IG9iaiAtIFRhcmdldCBmb3IgY2hlY2tpbmdcbiAqIEByZXR1cm5zIHtib29sZWFufSBJcyBzdHJpbmc/XG4gKiBAbWVtYmVyb2YgbW9kdWxlOnR5cGVcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyB8fCBvYmogaW5zdGFuY2VvZiBTdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNTdHJpbmc7XG5cblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENvbnZlcnQgdGV4dCBieSBiaW5kaW5nIGV4cHJlc3Npb25zIHdpdGggY29udGV4dC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgaW5BcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgZm9yRWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgaXNTdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIGV4dGVuZCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbi8vIElFOCBkb2VzIG5vdCBzdXBwb3J0IGNhcHR1cmUgZ3JvdXBzLlxudmFyIEVYUFJFU1NJT05fUkVHRVhQID0gL3t7XFxzP3xcXHM/fX0vZztcbnZhciBCUkFDS0VUX05PVEFUSU9OX1JFR0VYUCA9IC9eW2EtekEtWjAtOV9AXStcXFtbYS16QS1aMC05X0BcIiddK1xcXSQvO1xudmFyIEJSQUNLRVRfUkVHRVhQID0gL1xcW1xccz98XFxzP1xcXS87XG52YXIgRE9UX05PVEFUSU9OX1JFR0VYUCA9IC9eW2EtekEtWl9dK1xcLlthLXpBLVpfXSskLztcbnZhciBET1RfUkVHRVhQID0gL1xcLi87XG52YXIgU1RSSU5HX05PVEFUSU9OX1JFR0VYUCA9IC9eW1wiJ11cXHcrW1wiJ10kLztcbnZhciBTVFJJTkdfUkVHRVhQID0gL1wifCcvZztcbnZhciBOVU1CRVJfUkVHRVhQID0gL14tP1xcZCtcXC4/XFxkKiQvO1xuXG52YXIgRVhQUkVTU0lPTl9JTlRFUlZBTCA9IDI7XG5cbnZhciBCTE9DS19IRUxQRVJTID0ge1xuICAnaWYnOiBoYW5kbGVJZixcbiAgJ2VhY2gnOiBoYW5kbGVFYWNoLFxuICAnd2l0aCc6IGhhbmRsZVdpdGhcbn07XG5cbnZhciBpc1ZhbGlkU3BsaXQgPSAnYScuc3BsaXQoL2EvKS5sZW5ndGggPT09IDM7XG5cbi8qKlxuICogU3BsaXQgYnkgUmVnRXhwLiAoUG9seWZpbGwgZm9yIElFOClcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGV4dCB0byBiZSBzcGxpdHRlZFxcXG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmVnZXhwIC0gcmVndWxhciBleHByZXNzaW9uXG4gKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59XG4gKi9cbnZhciBzcGxpdEJ5UmVnRXhwID0gKGZ1bmN0aW9uKCkge1xuICBpZiAoaXNWYWxpZFNwbGl0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQsIHJlZ2V4cCkge1xuICAgICAgcmV0dXJuIHRleHQuc3BsaXQocmVnZXhwKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHRleHQsIHJlZ2V4cCkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgcHJldkluZGV4ID0gMDtcbiAgICB2YXIgbWF0Y2gsIGluZGV4O1xuXG4gICAgaWYgKCFyZWdleHAuZ2xvYmFsKSB7XG4gICAgICByZWdleHAgPSBuZXcgUmVnRXhwKHJlZ2V4cCwgJ2cnKTtcbiAgICB9XG5cbiAgICBtYXRjaCA9IHJlZ2V4cC5leGVjKHRleHQpO1xuICAgIHdoaWxlIChtYXRjaCAhPT0gbnVsbCkge1xuICAgICAgaW5kZXggPSBtYXRjaC5pbmRleDtcbiAgICAgIHJlc3VsdC5wdXNoKHRleHQuc2xpY2UocHJldkluZGV4LCBpbmRleCkpO1xuXG4gICAgICBwcmV2SW5kZXggPSBpbmRleCArIG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgIG1hdGNoID0gcmVnZXhwLmV4ZWModGV4dCk7XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKHRleHQuc2xpY2UocHJldkluZGV4KSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufSkoKTtcblxuLyoqXG4gKiBGaW5kIHZhbHVlIGluIHRoZSBjb250ZXh0IGJ5IGFuIGV4cHJlc3Npb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXhwIC0gYW4gZXhwcmVzc2lvblxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBjb250ZXh0XG4gKiBAcmV0dXJucyB7Kn1cbiAqIEBwcml2YXRlXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBnZXRWYWx1ZUZyb21Db250ZXh0KGV4cCwgY29udGV4dCkge1xuICB2YXIgc3BsaXRlZEV4cHM7XG4gIHZhciB2YWx1ZSA9IGNvbnRleHRbZXhwXTtcblxuICBpZiAoZXhwID09PSAndHJ1ZScpIHtcbiAgICB2YWx1ZSA9IHRydWU7XG4gIH0gZWxzZSBpZiAoZXhwID09PSAnZmFsc2UnKSB7XG4gICAgdmFsdWUgPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChTVFJJTkdfTk9UQVRJT05fUkVHRVhQLnRlc3QoZXhwKSkge1xuICAgIHZhbHVlID0gZXhwLnJlcGxhY2UoU1RSSU5HX1JFR0VYUCwgJycpO1xuICB9IGVsc2UgaWYgKEJSQUNLRVRfTk9UQVRJT05fUkVHRVhQLnRlc3QoZXhwKSkge1xuICAgIHNwbGl0ZWRFeHBzID0gZXhwLnNwbGl0KEJSQUNLRVRfUkVHRVhQKTtcbiAgICB2YWx1ZSA9IGdldFZhbHVlRnJvbUNvbnRleHQoc3BsaXRlZEV4cHNbMF0sIGNvbnRleHQpW2dldFZhbHVlRnJvbUNvbnRleHQoc3BsaXRlZEV4cHNbMV0sIGNvbnRleHQpXTtcbiAgfSBlbHNlIGlmIChET1RfTk9UQVRJT05fUkVHRVhQLnRlc3QoZXhwKSkge1xuICAgIHNwbGl0ZWRFeHBzID0gZXhwLnNwbGl0KERPVF9SRUdFWFApO1xuICAgIHZhbHVlID0gZ2V0VmFsdWVGcm9tQ29udGV4dChzcGxpdGVkRXhwc1swXSwgY29udGV4dClbc3BsaXRlZEV4cHNbMV1dO1xuICB9IGVsc2UgaWYgKE5VTUJFUl9SRUdFWFAudGVzdChleHApKSB7XG4gICAgdmFsdWUgPSBwYXJzZUZsb2F0KGV4cCk7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogRXh0cmFjdCBlbHNlaWYgYW5kIGVsc2UgZXhwcmVzc2lvbnMuXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBpZkV4cHMgLSBhcmdzIG9mIGlmIGV4cHJlc3Npb25cbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IHNvdXJjZXNJbnNpZGVCbG9jayAtIHNvdXJjZXMgaW5zaWRlIGlmIGJsb2NrXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIGV4cHM6IGV4cHJlc3Npb25zIG9mIGlmLCBlbHNlaWYsIGFuZCBlbHNlIC8gc291cmNlc0luc2lkZUlmOiBzb3VyY2VzIGluc2lkZSBpZiwgZWxzZWlmLCBhbmQgZWxzZSBibG9jay5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RFbHNlaWYoaWZFeHBzLCBzb3VyY2VzSW5zaWRlQmxvY2spIHtcbiAgdmFyIGV4cHMgPSBbaWZFeHBzXTtcbiAgdmFyIHNvdXJjZXNJbnNpZGVJZiA9IFtdO1xuICB2YXIgb3RoZXJJZkNvdW50ID0gMDtcbiAgdmFyIHN0YXJ0ID0gMDtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICBmb3JFYWNoKHNvdXJjZXNJbnNpZGVCbG9jaywgZnVuY3Rpb24oc291cmNlLCBpbmRleCkge1xuICAgIGlmIChzb3VyY2UuaW5kZXhPZignaWYnKSA9PT0gMCkge1xuICAgICAgb3RoZXJJZkNvdW50ICs9IDE7XG4gICAgfSBlbHNlIGlmIChzb3VyY2UgPT09ICcvaWYnKSB7XG4gICAgICBvdGhlcklmQ291bnQgLT0gMTtcbiAgICB9IGVsc2UgaWYgKCFvdGhlcklmQ291bnQgJiYgKHNvdXJjZS5pbmRleE9mKCdlbHNlaWYnKSA9PT0gMCB8fCBzb3VyY2UgPT09ICdlbHNlJykpIHtcbiAgICAgIGV4cHMucHVzaChzb3VyY2UgPT09ICdlbHNlJyA/IFsndHJ1ZSddIDogc291cmNlLnNwbGl0KCcgJykuc2xpY2UoMSkpO1xuICAgICAgc291cmNlc0luc2lkZUlmLnB1c2goc291cmNlc0luc2lkZUJsb2NrLnNsaWNlKHN0YXJ0LCBpbmRleCkpO1xuICAgICAgc3RhcnQgPSBpbmRleCArIDE7XG4gICAgfVxuICB9KTtcblxuICBzb3VyY2VzSW5zaWRlSWYucHVzaChzb3VyY2VzSW5zaWRlQmxvY2suc2xpY2Uoc3RhcnQpKTtcblxuICByZXR1cm4ge1xuICAgIGV4cHM6IGV4cHMsXG4gICAgc291cmNlc0luc2lkZUlmOiBzb3VyY2VzSW5zaWRlSWZcbiAgfTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIFwiaWZcIi4gXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBleHBzIC0gYXJyYXkgb2YgZXhwcmVzc2lvbnMgc3BsaXQgYnkgc3BhY2VzXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBzb3VyY2VzSW5zaWRlQmxvY2sgLSBhcnJheSBvZiBzb3VyY2VzIGluc2lkZSB0aGUgaWYgYmxvY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IC0gY29udGV4dFxuICogQHJldHVybnMge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUlmKGV4cHMsIHNvdXJjZXNJbnNpZGVCbG9jaywgY29udGV4dCkge1xuICB2YXIgYW5hbHl6ZWQgPSBleHRyYWN0RWxzZWlmKGV4cHMsIHNvdXJjZXNJbnNpZGVCbG9jayk7XG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgdmFyIGNvbXBpbGVkU291cmNlID0gJyc7XG5cbiAgZm9yRWFjaChhbmFseXplZC5leHBzLCBmdW5jdGlvbihleHAsIGluZGV4KSB7XG4gICAgcmVzdWx0ID0gaGFuZGxlRXhwcmVzc2lvbihleHAsIGNvbnRleHQpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGNvbXBpbGVkU291cmNlID0gY29tcGlsZShhbmFseXplZC5zb3VyY2VzSW5zaWRlSWZbaW5kZXhdLCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gIXJlc3VsdDtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbXBpbGVkU291cmNlO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgXCJlYWNoXCIuXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBleHBzIC0gYXJyYXkgb2YgZXhwcmVzc2lvbnMgc3BsaXQgYnkgc3BhY2VzXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBzb3VyY2VzSW5zaWRlQmxvY2sgLSBhcnJheSBvZiBzb3VyY2VzIGluc2lkZSB0aGUgZWFjaCBibG9ja1xuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBjb250ZXh0XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaGFuZGxlRWFjaChleHBzLCBzb3VyY2VzSW5zaWRlQmxvY2ssIGNvbnRleHQpIHtcbiAgdmFyIGNvbGxlY3Rpb24gPSBoYW5kbGVFeHByZXNzaW9uKGV4cHMsIGNvbnRleHQpO1xuICB2YXIgYWRkaXRpb25hbEtleSA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyAnQGluZGV4JyA6ICdAa2V5JztcbiAgdmFyIGFkZGl0aW9uYWxDb250ZXh0ID0ge307XG4gIHZhciByZXN1bHQgPSAnJztcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKGl0ZW0sIGtleSkge1xuICAgIGFkZGl0aW9uYWxDb250ZXh0W2FkZGl0aW9uYWxLZXldID0ga2V5O1xuICAgIGFkZGl0aW9uYWxDb250ZXh0WydAdGhpcyddID0gaXRlbTtcbiAgICBleHRlbmQoY29udGV4dCwgYWRkaXRpb25hbENvbnRleHQpO1xuXG4gICAgcmVzdWx0ICs9IGNvbXBpbGUoc291cmNlc0luc2lkZUJsb2NrLnNsaWNlKCksIGNvbnRleHQpO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgXCJ3aXRoIC4uLiBhc1wiXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBleHBzIC0gYXJyYXkgb2YgZXhwcmVzc2lvbnMgc3BsaXQgYnkgc3BhY2VzXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBzb3VyY2VzSW5zaWRlQmxvY2sgLSBhcnJheSBvZiBzb3VyY2VzIGluc2lkZSB0aGUgd2l0aCBibG9ja1xuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBjb250ZXh0XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaGFuZGxlV2l0aChleHBzLCBzb3VyY2VzSW5zaWRlQmxvY2ssIGNvbnRleHQpIHtcbiAgdmFyIGFzSW5kZXggPSBpbkFycmF5KCdhcycsIGV4cHMpO1xuICB2YXIgYWxpYXMgPSBleHBzW2FzSW5kZXggKyAxXTtcbiAgdmFyIHJlc3VsdCA9IGhhbmRsZUV4cHJlc3Npb24oZXhwcy5zbGljZSgwLCBhc0luZGV4KSwgY29udGV4dCk7XG5cbiAgdmFyIGFkZGl0aW9uYWxDb250ZXh0ID0ge307XG4gIGFkZGl0aW9uYWxDb250ZXh0W2FsaWFzXSA9IHJlc3VsdDtcblxuICByZXR1cm4gY29tcGlsZShzb3VyY2VzSW5zaWRlQmxvY2ssIGV4dGVuZChjb250ZXh0LCBhZGRpdGlvbmFsQ29udGV4dCkpIHx8ICcnO1xufVxuXG4vKipcbiAqIEV4dHJhY3Qgc291cmNlcyBpbnNpZGUgYmxvY2sgaW4gcGxhY2UuXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBzb3VyY2VzIC0gYXJyYXkgb2Ygc291cmNlc1xuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IC0gaW5kZXggb2Ygc3RhcnQgYmxvY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgLSBpbmRleCBvZiBlbmQgYmxvY2tcbiAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RTb3VyY2VzSW5zaWRlQmxvY2soc291cmNlcywgc3RhcnQsIGVuZCkge1xuICB2YXIgc291cmNlc0luc2lkZUJsb2NrID0gc291cmNlcy5zcGxpY2Uoc3RhcnQgKyAxLCBlbmQgLSBzdGFydCk7XG4gIHNvdXJjZXNJbnNpZGVCbG9jay5wb3AoKTtcblxuICByZXR1cm4gc291cmNlc0luc2lkZUJsb2NrO1xufVxuXG4vKipcbiAqIEhhbmRsZSBibG9jayBoZWxwZXIgZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBoZWxwZXJLZXl3b3JkIC0gaGVscGVyIGtleXdvcmQgKGV4LiBpZiwgZWFjaCwgd2l0aClcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IHNvdXJjZXNUb0VuZCAtIGFycmF5IG9mIHNvdXJjZXMgYWZ0ZXIgdGhlIHN0YXJ0aW5nIGJsb2NrXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcbiAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUJsb2NrSGVscGVyKGhlbHBlcktleXdvcmQsIHNvdXJjZXNUb0VuZCwgY29udGV4dCkge1xuICB2YXIgZXhlY3V0ZUJsb2NrSGVscGVyID0gQkxPQ0tfSEVMUEVSU1toZWxwZXJLZXl3b3JkXTtcbiAgdmFyIGhlbHBlckNvdW50ID0gMTtcbiAgdmFyIHN0YXJ0QmxvY2tJbmRleCA9IDA7XG4gIHZhciBlbmRCbG9ja0luZGV4O1xuICB2YXIgaW5kZXggPSBzdGFydEJsb2NrSW5kZXggKyBFWFBSRVNTSU9OX0lOVEVSVkFMO1xuICB2YXIgZXhwcmVzc2lvbiA9IHNvdXJjZXNUb0VuZFtpbmRleF07XG5cbiAgd2hpbGUgKGhlbHBlckNvdW50ICYmIGlzU3RyaW5nKGV4cHJlc3Npb24pKSB7XG4gICAgaWYgKGV4cHJlc3Npb24uaW5kZXhPZihoZWxwZXJLZXl3b3JkKSA9PT0gMCkge1xuICAgICAgaGVscGVyQ291bnQgKz0gMTtcbiAgICB9IGVsc2UgaWYgKGV4cHJlc3Npb24uaW5kZXhPZignLycgKyBoZWxwZXJLZXl3b3JkKSA9PT0gMCkge1xuICAgICAgaGVscGVyQ291bnQgLT0gMTtcbiAgICAgIGVuZEJsb2NrSW5kZXggPSBpbmRleDtcbiAgICB9XG5cbiAgICBpbmRleCArPSBFWFBSRVNTSU9OX0lOVEVSVkFMO1xuICAgIGV4cHJlc3Npb24gPSBzb3VyY2VzVG9FbmRbaW5kZXhdO1xuICB9XG5cbiAgaWYgKGhlbHBlckNvdW50KSB7XG4gICAgdGhyb3cgRXJyb3IoaGVscGVyS2V5d29yZCArICcgbmVlZHMge3svJyArIGhlbHBlcktleXdvcmQgKyAnfX0gZXhwcmVzc2lvbi4nKTtcbiAgfVxuXG4gIHNvdXJjZXNUb0VuZFtzdGFydEJsb2NrSW5kZXhdID0gZXhlY3V0ZUJsb2NrSGVscGVyKFxuICAgIHNvdXJjZXNUb0VuZFtzdGFydEJsb2NrSW5kZXhdLnNwbGl0KCcgJykuc2xpY2UoMSksXG4gICAgZXh0cmFjdFNvdXJjZXNJbnNpZGVCbG9jayhzb3VyY2VzVG9FbmQsIHN0YXJ0QmxvY2tJbmRleCwgZW5kQmxvY2tJbmRleCksXG4gICAgY29udGV4dFxuICApO1xuXG4gIHJldHVybiBzb3VyY2VzVG9FbmQ7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBcImN1c3RvbSBoZWxwZXJcIi5cbiAqIElmIGhlbHBlciBpcyBub3QgYSBmdW5jdGlvbiwgcmV0dXJuIGhlbHBlciBpdHNlbGYuXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBleHBzIC0gYXJyYXkgb2YgZXhwcmVzc2lvbnMgc3BsaXQgYnkgc3BhY2VzIChmaXJzdCBlbGVtZW50OiBoZWxwZXIpXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBoYW5kbGVFeHByZXNzaW9uKGV4cHMsIGNvbnRleHQpIHtcbiAgdmFyIHJlc3VsdCA9IGdldFZhbHVlRnJvbUNvbnRleHQoZXhwc1swXSwgY29udGV4dCk7XG5cbiAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGV4ZWN1dGVGdW5jdGlvbihyZXN1bHQsIGV4cHMuc2xpY2UoMSksIGNvbnRleHQpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeGVjdXRlIGEgaGVscGVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaGVscGVyIC0gaGVscGVyIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBhcmdFeHBzIC0gZXhwcmVzc2lvbnMgb2YgYXJndW1lbnRzXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gcmVzdWx0IG9mIGV4ZWN1dGluZyB0aGUgZnVuY3Rpb24gd2l0aCBhcmd1bWVudHNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVGdW5jdGlvbihoZWxwZXIsIGFyZ0V4cHMsIGNvbnRleHQpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yRWFjaChhcmdFeHBzLCBmdW5jdGlvbihleHApIHtcbiAgICBhcmdzLnB1c2goZ2V0VmFsdWVGcm9tQ29udGV4dChleHAsIGNvbnRleHQpKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhlbHBlci5hcHBseShudWxsLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBHZXQgYSByZXN1bHQgb2YgY29tcGlsaW5nIGFuIGV4cHJlc3Npb24gd2l0aCB0aGUgY29udGV4dC5cbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IHNvdXJjZXMgLSBhcnJheSBvZiBzb3VyY2VzIHNwbGl0IGJ5IHJlZ2V4cCBvZiBleHByZXNzaW9uLlxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBjb250ZXh0XG4gKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59IC0gYXJyYXkgb2Ygc291cmNlcyB0aGF0IGJpbmQgd2l0aCBpdHMgY29udGV4dFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY29tcGlsZShzb3VyY2VzLCBjb250ZXh0KSB7XG4gIHZhciBpbmRleCA9IDE7XG4gIHZhciBleHByZXNzaW9uID0gc291cmNlc1tpbmRleF07XG4gIHZhciBleHBzLCBmaXJzdEV4cCwgcmVzdWx0O1xuXG4gIHdoaWxlIChpc1N0cmluZyhleHByZXNzaW9uKSkge1xuICAgIGV4cHMgPSBleHByZXNzaW9uLnNwbGl0KCcgJyk7XG4gICAgZmlyc3RFeHAgPSBleHBzWzBdO1xuXG4gICAgaWYgKEJMT0NLX0hFTFBFUlNbZmlyc3RFeHBdKSB7XG4gICAgICByZXN1bHQgPSBoYW5kbGVCbG9ja0hlbHBlcihmaXJzdEV4cCwgc291cmNlcy5zcGxpY2UoaW5kZXgsIHNvdXJjZXMubGVuZ3RoIC0gaW5kZXgpLCBjb250ZXh0KTtcbiAgICAgIHNvdXJjZXMgPSBzb3VyY2VzLmNvbmNhdChyZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3VyY2VzW2luZGV4XSA9IGhhbmRsZUV4cHJlc3Npb24oZXhwcywgY29udGV4dCk7XG4gICAgfVxuXG4gICAgaW5kZXggKz0gRVhQUkVTU0lPTl9JTlRFUlZBTDtcbiAgICBleHByZXNzaW9uID0gc291cmNlc1tpbmRleF07XG4gIH1cblxuICByZXR1cm4gc291cmNlcy5qb2luKCcnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHRleHQgYnkgYmluZGluZyBleHByZXNzaW9ucyB3aXRoIGNvbnRleHQuXG4gKiA8YnI+XG4gKiBJZiBleHByZXNzaW9uIGV4aXN0cyBpbiB0aGUgY29udGV4dCwgaXQgd2lsbCBiZSByZXBsYWNlZC5cbiAqIGV4KSAne3t0aXRsZX19JyB3aXRoIGNvbnRleHQge3RpdGxlOiAnSGVsbG8hJ30gaXMgY29udmVydGVkIHRvICdIZWxsbyEnLlxuICogQW4gYXJyYXkgb3Igb2JqZWN0IGNhbiBiZSBhY2Nlc3NlZCB1c2luZyBicmFja2V0IGFuZCBkb3Qgbm90YXRpb24uXG4gKiBleCkgJ3t7b2Rkc1xcWzJcXF19fScgd2l0aCBjb250ZXh0IHtvZGRzOiBcXFsxLCAzLCA1XFxdfSBpcyBjb252ZXJ0ZWQgdG8gJzUnLlxuICogZXgpICd7e2V2ZW5zXFxbZmlyc3RcXF19fScgd2l0aCBjb250ZXh0IHtldmVuczogXFxbMiwgNFxcXSwgZmlyc3Q6IDB9IGlzIGNvbnZlcnRlZCB0byAnMicuXG4gKiBleCkgJ3t7cHJvamVjdFxcW1wibmFtZVwiXFxdfX0nIGFuZCAne3twcm9qZWN0Lm5hbWV9fScgd2l0aCBjb250ZXh0IHtwcm9qZWN0OiB7bmFtZTogJ0NvZGVTbmlwcGV0J319IGlzIGNvbnZlcnRlZCB0byAnQ29kZVNuaXBwZXQnLlxuICogPGJyPlxuICogSWYgcmVwbGFjZWQgZXhwcmVzc2lvbiBpcyBhIGZ1bmN0aW9uLCBuZXh0IGV4cHJlc3Npb25zIHdpbGwgYmUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbi5cbiAqIGV4KSAne3thZGQgMSAyfX0nIHdpdGggY29udGV4dCB7YWRkOiBmdW5jdGlvbihhLCBiKSB7cmV0dXJuIGEgKyBiO319IGlzIGNvbnZlcnRlZCB0byAnMycuXG4gKiA8YnI+XG4gKiBJdCBoYXMgMyBwcmVkZWZpbmVkIGJsb2NrIGhlbHBlcnMgJ3t7aGVscGVyIC4uLn19IC4uLiB7ey9oZWxwZXJ9fSc6ICdpZicsICdlYWNoJywgJ3dpdGggLi4uIGFzIC4uLicuXG4gKiAxKSAnaWYnIGV2YWx1YXRlcyBjb25kaXRpb25hbCBzdGF0ZW1lbnRzLiBJdCBjYW4gdXNlIHdpdGggJ2Vsc2VpZicgYW5kICdlbHNlJy5cbiAqIDIpICdlYWNoJyBpdGVyYXRlcyBhbiBhcnJheSBvciBvYmplY3QuIEl0IHByb3ZpZGVzICdAaW5kZXgnKGFycmF5KSwgJ0BrZXknKG9iamVjdCksIGFuZCAnQHRoaXMnKGN1cnJlbnQgZWxlbWVudCkuXG4gKiAzKSAnd2l0aCAuLi4gYXMgLi4uJyBwcm92aWRlcyBhbiBhbGlhcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGV4dCB3aXRoIGV4cHJlc3Npb25zXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gdGV4dCB0aGF0IGJpbmQgd2l0aCBpdHMgY29udGV4dFxuICogQG1lbWJlcm9mIG1vZHVsZTpkb21VdGlsXG4gKiBAZXhhbXBsZVxuICogdmFyIHRlbXBsYXRlID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldC9kb21VdGlsL3RlbXBsYXRlJyk7XG4gKiBcbiAqIHZhciBzb3VyY2UgPSBcbiAqICAgICAnPGgxPidcbiAqICAgKyAgICd7e2lmIGlzVmFsaWROdW1iZXIgdGl0bGV9fSdcbiAqICAgKyAgICAgJ3t7dGl0bGV9fXRoJ1xuICogICArICAgJ3t7ZWxzZWlmIGlzVmFsaWREYXRlIHRpdGxlfX0nXG4gKiAgICsgICAgICdEYXRlOiB7e3RpdGxlfX0nXG4gKiAgICsgICAne3svaWZ9fSdcbiAqICAgKyAnPC9oMT4nXG4gKiAgICsgJ3t7ZWFjaCBsaXN0fX0nXG4gKiAgICsgICAne3t3aXRoIGFkZE9uZSBAaW5kZXggYXMgaWR4fX0nXG4gKiAgICsgICAgICc8cD57e2lkeH19OiB7e0B0aGlzfX08L3A+J1xuICogICArICAgJ3t7L3dpdGh9fSdcbiAqICAgKyAne3svZWFjaH19JztcbiAqIFxuICogdmFyIGNvbnRleHQgPSB7XG4gKiAgIGlzVmFsaWREYXRlOiBmdW5jdGlvbih0ZXh0KSB7XG4gKiAgICAgcmV0dXJuIC9eXFxkezR9LSgwfDEpXFxkLSgwfDF8MnwzKVxcZCQvLnRlc3QodGV4dCk7XG4gKiAgIH0sXG4gKiAgIGlzVmFsaWROdW1iZXI6IGZ1bmN0aW9uKHRleHQpIHtcbiAqICAgICByZXR1cm4gL15cXGQrJC8udGVzdCh0ZXh0KTtcbiAqICAgfVxuICogICB0aXRsZTogJzIwMTktMTEtMjUnLFxuICogICBsaXN0OiBbJ0NsZWFuIHRoZSByb29tJywgJ1dhc2ggdGhlIGRpc2hlcyddLFxuICogICBhZGRPbmU6IGZ1bmN0aW9uKG51bSkge1xuICogICAgIHJldHVybiBudW0gKyAxO1xuICogICB9XG4gKiB9O1xuICogXG4gKiB2YXIgcmVzdWx0ID0gdGVtcGxhdGUoc291cmNlLCBjb250ZXh0KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDxoMT5EYXRlOiAyMDE5LTExLTI1PC9oMT48cD4xOiBDbGVhbiB0aGUgcm9vbTwvcD48cD4yOiBXYXNoIHRoZSBkaXNoZXM8L3A+XG4gKi9cbmZ1bmN0aW9uIHRlbXBsYXRlKHRleHQsIGNvbnRleHQpIHtcbiAgcmV0dXJuIGNvbXBpbGUoc3BsaXRCeVJlZ0V4cCh0ZXh0LCBFWFBSRVNTSU9OX1JFR0VYUCksIGNvbnRleHQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRlbXBsYXRlO1xuXG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBUaGlzIG1vZHVsZSBwcm92aWRlcyBzb21lIGZ1bmN0aW9ucyBmb3IgY3VzdG9tIGV2ZW50cy4gQW5kIGl0IGlzIGltcGxlbWVudGVkIGluIHRoZSBvYnNlcnZlciBkZXNpZ24gcGF0dGVybi5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBpc0V4aXN0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xudmFyIGlzU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGlzRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcbnZhciBmb3JFYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIFJfRVZFTlROQU1FX1NQTElUID0gL1xccysvZztcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleGFtcGxlXG4gKiAvLyBub2RlLCBjb21tb25qc1xuICogdmFyIEN1c3RvbUV2ZW50cyA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQvY3VzdG9tRXZlbnRzL2N1c3RvbUV2ZW50cycpO1xuICovXG5mdW5jdGlvbiBDdXN0b21FdmVudHMoKSB7XG4gIC8qKlxuICAgICAqIEB0eXBlIHtIYW5kbGVySXRlbVtdfVxuICAgICAqL1xuICB0aGlzLmV2ZW50cyA9IG51bGw7XG5cbiAgLyoqXG4gICAgICogb25seSBmb3IgY2hlY2tpbmcgc3BlY2lmaWMgY29udGV4dCBldmVudCB3YXMgYmluZGVkXG4gICAgICogQHR5cGUge29iamVjdFtdfVxuICAgICAqL1xuICB0aGlzLmNvbnRleHRzID0gbnVsbDtcbn1cblxuLyoqXG4gKiBNaXhpbiBjdXN0b20gZXZlbnRzIGZlYXR1cmUgdG8gc3BlY2lmaWMgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgLSBjb25zdHJ1Y3RvclxuICogQGV4YW1wbGVcbiAqIHZhciBDdXN0b21FdmVudHMgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2N1c3RvbUV2ZW50cy9jdXN0b21FdmVudHMnKTsgLy8gbm9kZSwgY29tbW9uanNcbiAqXG4gKiB2YXIgbW9kZWw7XG4gKiBmdW5jdGlvbiBNb2RlbCgpIHtcbiAqICAgICB0aGlzLm5hbWUgPSAnJztcbiAqIH1cbiAqIEN1c3RvbUV2ZW50cy5taXhpbihNb2RlbCk7XG4gKlxuICogbW9kZWwgPSBuZXcgTW9kZWwoKTtcbiAqIG1vZGVsLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsgdGhpcy5uYW1lID0gJ21vZGVsJzsgfSwgdGhpcyk7XG4gKiBtb2RlbC5maXJlKCdjaGFuZ2UnKTtcbiAqIGFsZXJ0KG1vZGVsLm5hbWUpOyAvLyAnbW9kZWwnO1xuICovXG5DdXN0b21FdmVudHMubWl4aW4gPSBmdW5jdGlvbihmdW5jKSB7XG4gIGV4dGVuZChmdW5jLnByb3RvdHlwZSwgQ3VzdG9tRXZlbnRzLnByb3RvdHlwZSk7XG59O1xuXG4vKipcbiAqIEdldCBIYW5kbGVySXRlbSBvYmplY3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgLSBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge29iamVjdH0gW2NvbnRleHRdIC0gY29udGV4dCBmb3IgaGFuZGxlclxuICogQHJldHVybnMge0hhbmRsZXJJdGVtfSBIYW5kbGVySXRlbSBvYmplY3RcbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX2dldEhhbmRsZXJJdGVtID0gZnVuY3Rpb24oaGFuZGxlciwgY29udGV4dCkge1xuICB2YXIgaXRlbSA9IHtoYW5kbGVyOiBoYW5kbGVyfTtcblxuICBpZiAoY29udGV4dCkge1xuICAgIGl0ZW0uY29udGV4dCA9IGNvbnRleHQ7XG4gIH1cblxuICByZXR1cm4gaXRlbTtcbn07XG5cbi8qKlxuICogR2V0IGV2ZW50IG9iamVjdCBzYWZlbHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZXZlbnROYW1lXSAtIGNyZWF0ZSBzdWIgZXZlbnQgbWFwIGlmIG5vdCBleGlzdC5cbiAqIEByZXR1cm5zIHsob2JqZWN0fGFycmF5KX0gZXZlbnQgb2JqZWN0LiBpZiB5b3Ugc3VwcGxpZWQgYGV2ZW50TmFtZWBcbiAqICBwYXJhbWV0ZXIgdGhlbiBtYWtlIG5ldyBhcnJheSBhbmQgcmV0dXJuIGl0XG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9zYWZlRXZlbnQgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuZXZlbnRzO1xuICB2YXIgYnlOYW1lO1xuXG4gIGlmICghZXZlbnRzKSB7XG4gICAgZXZlbnRzID0gdGhpcy5ldmVudHMgPSB7fTtcbiAgfVxuXG4gIGlmIChldmVudE5hbWUpIHtcbiAgICBieU5hbWUgPSBldmVudHNbZXZlbnROYW1lXTtcblxuICAgIGlmICghYnlOYW1lKSB7XG4gICAgICBieU5hbWUgPSBbXTtcbiAgICAgIGV2ZW50c1tldmVudE5hbWVdID0gYnlOYW1lO1xuICAgIH1cblxuICAgIGV2ZW50cyA9IGJ5TmFtZTtcbiAgfVxuXG4gIHJldHVybiBldmVudHM7XG59O1xuXG4vKipcbiAqIEdldCBjb250ZXh0IGFycmF5IHNhZmVseVxuICogQHJldHVybnMge2FycmF5fSBjb250ZXh0IGFycmF5XG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9zYWZlQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dHM7XG5cbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IHRoaXMuY29udGV4dHMgPSBbXTtcbiAgfVxuXG4gIHJldHVybiBjb250ZXh0O1xufTtcblxuLyoqXG4gKiBHZXQgaW5kZXggb2YgY29udGV4dFxuICogQHBhcmFtIHtvYmplY3R9IGN0eCAtIGNvbnRleHQgdGhhdCB1c2VkIGZvciBiaW5kIGN1c3RvbSBldmVudFxuICogQHJldHVybnMge251bWJlcn0gaW5kZXggb2YgY29udGV4dFxuICogQHByaXZhdGVcbiAqL1xuQ3VzdG9tRXZlbnRzLnByb3RvdHlwZS5faW5kZXhPZkNvbnRleHQgPSBmdW5jdGlvbihjdHgpIHtcbiAgdmFyIGNvbnRleHQgPSB0aGlzLl9zYWZlQ29udGV4dCgpO1xuICB2YXIgaW5kZXggPSAwO1xuXG4gIHdoaWxlIChjb250ZXh0W2luZGV4XSkge1xuICAgIGlmIChjdHggPT09IGNvbnRleHRbaW5kZXhdWzBdKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuXG4gICAgaW5kZXggKz0gMTtcbiAgfVxuXG4gIHJldHVybiAtMTtcbn07XG5cbi8qKlxuICogTWVtb3JpemUgc3VwcGxpZWQgY29udGV4dCBmb3IgcmVjb2duaXplIHN1cHBsaWVkIG9iamVjdCBpcyBjb250ZXh0IG9yXG4gKiAgbmFtZTogaGFuZGxlciBwYWlyIG9iamVjdCB3aGVuIG9mZigpXG4gKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gY29udGV4dCBvYmplY3QgdG8gbWVtb3JpemVcbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX21lbW9yaXplQ29udGV4dCA9IGZ1bmN0aW9uKGN0eCkge1xuICB2YXIgY29udGV4dCwgaW5kZXg7XG5cbiAgaWYgKCFpc0V4aXN0eShjdHgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29udGV4dCA9IHRoaXMuX3NhZmVDb250ZXh0KCk7XG4gIGluZGV4ID0gdGhpcy5faW5kZXhPZkNvbnRleHQoY3R4KTtcblxuICBpZiAoaW5kZXggPiAtMSkge1xuICAgIGNvbnRleHRbaW5kZXhdWzFdICs9IDE7XG4gIH0gZWxzZSB7XG4gICAgY29udGV4dC5wdXNoKFtjdHgsIDFdKTtcbiAgfVxufTtcblxuLyoqXG4gKiBGb3JnZXQgc3VwcGxpZWQgY29udGV4dCBvYmplY3RcbiAqIEBwYXJhbSB7b2JqZWN0fSBjdHggLSBjb250ZXh0IG9iamVjdCB0byBmb3JnZXRcbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX2ZvcmdldENvbnRleHQgPSBmdW5jdGlvbihjdHgpIHtcbiAgdmFyIGNvbnRleHQsIGNvbnRleHRJbmRleDtcblxuICBpZiAoIWlzRXhpc3R5KGN0eCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb250ZXh0ID0gdGhpcy5fc2FmZUNvbnRleHQoKTtcbiAgY29udGV4dEluZGV4ID0gdGhpcy5faW5kZXhPZkNvbnRleHQoY3R4KTtcblxuICBpZiAoY29udGV4dEluZGV4ID4gLTEpIHtcbiAgICBjb250ZXh0W2NvbnRleHRJbmRleF1bMV0gLT0gMTtcblxuICAgIGlmIChjb250ZXh0W2NvbnRleHRJbmRleF1bMV0gPD0gMCkge1xuICAgICAgY29udGV4dC5zcGxpY2UoY29udGV4dEluZGV4LCAxKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQmluZCBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0geyhzdHJpbmd8e25hbWU6c3RyaW5nLCBoYW5kbGVyOmZ1bmN0aW9ufSl9IGV2ZW50TmFtZSAtIGN1c3RvbVxuICogIGV2ZW50IG5hbWUgb3IgYW4gb2JqZWN0IHtldmVudE5hbWU6IGhhbmRsZXJ9XG4gKiBAcGFyYW0geyhmdW5jdGlvbnxvYmplY3QpfSBbaGFuZGxlcl0gLSBoYW5kbGVyIGZ1bmN0aW9uIG9yIGNvbnRleHRcbiAqIEBwYXJhbSB7b2JqZWN0fSBbY29udGV4dF0gLSBjb250ZXh0IGZvciBiaW5kaW5nXG4gKiBAcHJpdmF0ZVxuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLl9iaW5kRXZlbnQgPSBmdW5jdGlvbihldmVudE5hbWUsIGhhbmRsZXIsIGNvbnRleHQpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX3NhZmVFdmVudChldmVudE5hbWUpO1xuICB0aGlzLl9tZW1vcml6ZUNvbnRleHQoY29udGV4dCk7XG4gIGV2ZW50cy5wdXNoKHRoaXMuX2dldEhhbmRsZXJJdGVtKGhhbmRsZXIsIGNvbnRleHQpKTtcbn07XG5cbi8qKlxuICogQmluZCBldmVudCBoYW5kbGVyc1xuICogQHBhcmFtIHsoc3RyaW5nfHtuYW1lOnN0cmluZywgaGFuZGxlcjpmdW5jdGlvbn0pfSBldmVudE5hbWUgLSBjdXN0b21cbiAqICBldmVudCBuYW1lIG9yIGFuIG9iamVjdCB7ZXZlbnROYW1lOiBoYW5kbGVyfVxuICogQHBhcmFtIHsoZnVuY3Rpb258b2JqZWN0KX0gW2hhbmRsZXJdIC0gaGFuZGxlciBmdW5jdGlvbiBvciBjb250ZXh0XG4gKiBAcGFyYW0ge29iamVjdH0gW2NvbnRleHRdIC0gY29udGV4dCBmb3IgYmluZGluZ1xuICogLy8tLSAjMS4gR2V0IE1vZHVsZSAtLS8vXG4gKiB2YXIgQ3VzdG9tRXZlbnRzID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldC9jdXN0b21FdmVudHMvY3VzdG9tRXZlbnRzJyk7IC8vIG5vZGUsIGNvbW1vbmpzXG4gKlxuICogLy8tLSAjMi4gVXNlIG1ldGhvZCAtLS8vXG4gKiAvLyAjIDIuMSBCYXNpYyBVc2FnZVxuICogQ3VzdG9tRXZlbnRzLm9uKCdvbmxvYWQnLCBoYW5kbGVyKTtcbiAqXG4gKiAvLyAjIDIuMiBXaXRoIGNvbnRleHRcbiAqIEN1c3RvbUV2ZW50cy5vbignb25sb2FkJywgaGFuZGxlciwgbXlPYmopO1xuICpcbiAqIC8vICMgMi4zIEJpbmQgYnkgb2JqZWN0IHRoYXQgbmFtZSwgaGFuZGxlciBwYWlyc1xuICogQ3VzdG9tRXZlbnRzLm9uKHtcbiAqICAgICAncGxheSc6IGhhbmRsZXIsXG4gKiAgICAgJ3BhdXNlJzogaGFuZGxlcjJcbiAqIH0pO1xuICpcbiAqIC8vICMgMi40IEJpbmQgYnkgb2JqZWN0IHRoYXQgbmFtZSwgaGFuZGxlciBwYWlycyB3aXRoIGNvbnRleHQgb2JqZWN0XG4gKiBDdXN0b21FdmVudHMub24oe1xuICogICAgICdwbGF5JzogaGFuZGxlclxuICogfSwgbXlPYmopO1xuICovXG5DdXN0b21FdmVudHMucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBoYW5kbGVyLCBjb250ZXh0KSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoaXNTdHJpbmcoZXZlbnROYW1lKSkge1xuICAgIC8vIFtzeW50YXggMSwgMl1cbiAgICBldmVudE5hbWUgPSBldmVudE5hbWUuc3BsaXQoUl9FVkVOVE5BTUVfU1BMSVQpO1xuICAgIGZvckVhY2goZXZlbnROYW1lLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICBzZWxmLl9iaW5kRXZlbnQobmFtZSwgaGFuZGxlciwgY29udGV4dCk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoZXZlbnROYW1lKSkge1xuICAgIC8vIFtzeW50YXggMywgNF1cbiAgICBjb250ZXh0ID0gaGFuZGxlcjtcbiAgICBmb3JFYWNoKGV2ZW50TmFtZSwgZnVuY3Rpb24oZnVuYywgbmFtZSkge1xuICAgICAgc2VsZi5vbihuYW1lLCBmdW5jLCBjb250ZXh0KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBCaW5kIG9uZS1zaG90IGV2ZW50IGhhbmRsZXJzXG4gKiBAcGFyYW0geyhzdHJpbmd8e25hbWU6c3RyaW5nLGhhbmRsZXI6ZnVuY3Rpb259KX0gZXZlbnROYW1lIC0gY3VzdG9tXG4gKiAgZXZlbnQgbmFtZSBvciBhbiBvYmplY3Qge2V2ZW50TmFtZTogaGFuZGxlcn1cbiAqIEBwYXJhbSB7ZnVuY3Rpb258b2JqZWN0fSBbaGFuZGxlcl0gLSBoYW5kbGVyIGZ1bmN0aW9uIG9yIGNvbnRleHRcbiAqIEBwYXJhbSB7b2JqZWN0fSBbY29udGV4dF0gLSBjb250ZXh0IGZvciBiaW5kaW5nXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgaGFuZGxlciwgY29udGV4dCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKGlzT2JqZWN0KGV2ZW50TmFtZSkpIHtcbiAgICBjb250ZXh0ID0gaGFuZGxlcjtcbiAgICBmb3JFYWNoKGV2ZW50TmFtZSwgZnVuY3Rpb24oZnVuYywgbmFtZSkge1xuICAgICAgc2VsZi5vbmNlKG5hbWUsIGZ1bmMsIGNvbnRleHQpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZnVuY3Rpb24gb25jZUhhbmRsZXIoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIGhhbmRsZXIuYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICBzZWxmLm9mZihldmVudE5hbWUsIG9uY2VIYW5kbGVyLCBjb250ZXh0KTtcbiAgfVxuXG4gIHRoaXMub24oZXZlbnROYW1lLCBvbmNlSGFuZGxlciwgY29udGV4dCk7XG59O1xuXG4vKipcbiAqIFNwbGljZSBzdXBwbGllZCBhcnJheSBieSBjYWxsYmFjayByZXN1bHRcbiAqIEBwYXJhbSB7YXJyYXl9IGFyciAtIGFycmF5IHRvIHNwbGljZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gcHJlZGljYXRlIC0gZnVuY3Rpb24gcmV0dXJuIGJvb2xlYW5cbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX3NwbGljZU1hdGNoZXMgPSBmdW5jdGlvbihhcnIsIHByZWRpY2F0ZSkge1xuICB2YXIgaSA9IDA7XG4gIHZhciBsZW47XG5cbiAgaWYgKCFpc0FycmF5KGFycikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyW2ldKSA9PT0gdHJ1ZSkge1xuICAgICAgYXJyLnNwbGljZShpLCAxKTtcbiAgICAgIGxlbiAtPSAxO1xuICAgICAgaSAtPSAxO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBHZXQgbWF0Y2hlciBmb3IgdW5iaW5kIHNwZWNpZmljIGhhbmRsZXIgZXZlbnRzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIC0gaGFuZGxlciBmdW5jdGlvblxuICogQHJldHVybnMge2Z1bmN0aW9ufSBoYW5kbGVyIG1hdGNoZXJcbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX21hdGNoSGFuZGxlciA9IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHJldHVybiBmdW5jdGlvbihpdGVtKSB7XG4gICAgdmFyIG5lZWRSZW1vdmUgPSBoYW5kbGVyID09PSBpdGVtLmhhbmRsZXI7XG5cbiAgICBpZiAobmVlZFJlbW92ZSkge1xuICAgICAgc2VsZi5fZm9yZ2V0Q29udGV4dChpdGVtLmNvbnRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBuZWVkUmVtb3ZlO1xuICB9O1xufTtcblxuLyoqXG4gKiBHZXQgbWF0Y2hlciBmb3IgdW5iaW5kIHNwZWNpZmljIGNvbnRleHQgZXZlbnRzXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIGNvbnRleHRcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gb2JqZWN0IG1hdGNoZXJcbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX21hdGNoQ29udGV4dCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHJldHVybiBmdW5jdGlvbihpdGVtKSB7XG4gICAgdmFyIG5lZWRSZW1vdmUgPSBjb250ZXh0ID09PSBpdGVtLmNvbnRleHQ7XG5cbiAgICBpZiAobmVlZFJlbW92ZSkge1xuICAgICAgc2VsZi5fZm9yZ2V0Q29udGV4dChpdGVtLmNvbnRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBuZWVkUmVtb3ZlO1xuICB9O1xufTtcblxuLyoqXG4gKiBHZXQgbWF0Y2hlciBmb3IgdW5iaW5kIHNwZWNpZmljIGhhbmRlciwgY29udGV4dCBwYWlyIGV2ZW50c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IC0gY29udGV4dFxuICogQHJldHVybnMge2Z1bmN0aW9ufSBoYW5kbGVyLCBjb250ZXh0IG1hdGNoZXJcbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX21hdGNoSGFuZGxlckFuZENvbnRleHQgPSBmdW5jdGlvbihoYW5kbGVyLCBjb250ZXh0KSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gZnVuY3Rpb24oaXRlbSkge1xuICAgIHZhciBtYXRjaEhhbmRsZXIgPSAoaGFuZGxlciA9PT0gaXRlbS5oYW5kbGVyKTtcbiAgICB2YXIgbWF0Y2hDb250ZXh0ID0gKGNvbnRleHQgPT09IGl0ZW0uY29udGV4dCk7XG4gICAgdmFyIG5lZWRSZW1vdmUgPSAobWF0Y2hIYW5kbGVyICYmIG1hdGNoQ29udGV4dCk7XG5cbiAgICBpZiAobmVlZFJlbW92ZSkge1xuICAgICAgc2VsZi5fZm9yZ2V0Q29udGV4dChpdGVtLmNvbnRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBuZWVkUmVtb3ZlO1xuICB9O1xufTtcblxuLyoqXG4gKiBVbmJpbmQgZXZlbnQgYnkgZXZlbnQgbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIGN1c3RvbSBldmVudCBuYW1lIHRvIHVuYmluZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2hhbmRsZXJdIC0gaGFuZGxlciBmdW5jdGlvblxuICogQHByaXZhdGVcbiAqL1xuQ3VzdG9tRXZlbnRzLnByb3RvdHlwZS5fb2ZmQnlFdmVudE5hbWUgPSBmdW5jdGlvbihldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgYW5kQnlIYW5kbGVyID0gaXNGdW5jdGlvbihoYW5kbGVyKTtcbiAgdmFyIG1hdGNoSGFuZGxlciA9IHNlbGYuX21hdGNoSGFuZGxlcihoYW5kbGVyKTtcblxuICBldmVudE5hbWUgPSBldmVudE5hbWUuc3BsaXQoUl9FVkVOVE5BTUVfU1BMSVQpO1xuXG4gIGZvckVhY2goZXZlbnROYW1lLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGhhbmRsZXJJdGVtcyA9IHNlbGYuX3NhZmVFdmVudChuYW1lKTtcblxuICAgIGlmIChhbmRCeUhhbmRsZXIpIHtcbiAgICAgIHNlbGYuX3NwbGljZU1hdGNoZXMoaGFuZGxlckl0ZW1zLCBtYXRjaEhhbmRsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JFYWNoKGhhbmRsZXJJdGVtcywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBzZWxmLl9mb3JnZXRDb250ZXh0KGl0ZW0uY29udGV4dCk7XG4gICAgICB9KTtcblxuICAgICAgc2VsZi5ldmVudHNbbmFtZV0gPSBbXTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBVbmJpbmQgZXZlbnQgYnkgaGFuZGxlciBmdW5jdGlvblxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb25cbiAqIEBwcml2YXRlXG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuX29mZkJ5SGFuZGxlciA9IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgbWF0Y2hIYW5kbGVyID0gdGhpcy5fbWF0Y2hIYW5kbGVyKGhhbmRsZXIpO1xuXG4gIGZvckVhY2godGhpcy5fc2FmZUV2ZW50KCksIGZ1bmN0aW9uKGhhbmRsZXJJdGVtcykge1xuICAgIHNlbGYuX3NwbGljZU1hdGNoZXMoaGFuZGxlckl0ZW1zLCBtYXRjaEhhbmRsZXIpO1xuICB9KTtcbn07XG5cbi8qKlxuICogVW5iaW5kIGV2ZW50IGJ5IG9iamVjdChuYW1lOiBoYW5kbGVyIHBhaXIgb2JqZWN0IG9yIGNvbnRleHQgb2JqZWN0KVxuICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIGNvbnRleHQgb3Ige25hbWU6IGhhbmRsZXJ9IHBhaXIgb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIC0gaGFuZGxlciBmdW5jdGlvblxuICogQHByaXZhdGVcbiAqL1xuQ3VzdG9tRXZlbnRzLnByb3RvdHlwZS5fb2ZmQnlPYmplY3QgPSBmdW5jdGlvbihvYmosIGhhbmRsZXIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgbWF0Y2hGdW5jO1xuXG4gIGlmICh0aGlzLl9pbmRleE9mQ29udGV4dChvYmopIDwgMCkge1xuICAgIGZvckVhY2gob2JqLCBmdW5jdGlvbihmdW5jLCBuYW1lKSB7XG4gICAgICBzZWxmLm9mZihuYW1lLCBmdW5jKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhoYW5kbGVyKSkge1xuICAgIG1hdGNoRnVuYyA9IHRoaXMuX21hdGNoQ29udGV4dChvYmopO1xuXG4gICAgc2VsZi5fc3BsaWNlTWF0Y2hlcyh0aGlzLl9zYWZlRXZlbnQoaGFuZGxlciksIG1hdGNoRnVuYyk7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIG1hdGNoRnVuYyA9IHRoaXMuX21hdGNoSGFuZGxlckFuZENvbnRleHQoaGFuZGxlciwgb2JqKTtcblxuICAgIGZvckVhY2godGhpcy5fc2FmZUV2ZW50KCksIGZ1bmN0aW9uKGhhbmRsZXJJdGVtcykge1xuICAgICAgc2VsZi5fc3BsaWNlTWF0Y2hlcyhoYW5kbGVySXRlbXMsIG1hdGNoRnVuYyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbWF0Y2hGdW5jID0gdGhpcy5fbWF0Y2hDb250ZXh0KG9iaik7XG5cbiAgICBmb3JFYWNoKHRoaXMuX3NhZmVFdmVudCgpLCBmdW5jdGlvbihoYW5kbGVySXRlbXMpIHtcbiAgICAgIHNlbGYuX3NwbGljZU1hdGNoZXMoaGFuZGxlckl0ZW1zLCBtYXRjaEZ1bmMpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIFVuYmluZCBjdXN0b20gZXZlbnRzXG4gKiBAcGFyYW0geyhzdHJpbmd8b2JqZWN0fGZ1bmN0aW9uKX0gZXZlbnROYW1lIC0gZXZlbnQgbmFtZSBvciBjb250ZXh0IG9yXG4gKiAge25hbWU6IGhhbmRsZXJ9IHBhaXIgb2JqZWN0IG9yIGhhbmRsZXIgZnVuY3Rpb25cbiAqIEBwYXJhbSB7KGZ1bmN0aW9uKX0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAvLy0tICMxLiBHZXQgTW9kdWxlIC0tLy9cbiAqIHZhciBDdXN0b21FdmVudHMgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2N1c3RvbUV2ZW50cy9jdXN0b21FdmVudHMnKTsgLy8gbm9kZSwgY29tbW9uanNcbiAqXG4gKiAvLy0tICMyLiBVc2UgbWV0aG9kIC0tLy9cbiAqIC8vICMgMi4xIG9mZiBieSBldmVudCBuYW1lXG4gKiBDdXN0b21FdmVudHMub2ZmKCdvbmxvYWQnKTtcbiAqXG4gKiAvLyAjIDIuMiBvZmYgYnkgZXZlbnQgbmFtZSBhbmQgaGFuZGxlclxuICogQ3VzdG9tRXZlbnRzLm9mZigncGxheScsIGhhbmRsZXIpO1xuICpcbiAqIC8vICMgMi4zIG9mZiBieSBoYW5kbGVyXG4gKiBDdXN0b21FdmVudHMub2ZmKGhhbmRsZXIpO1xuICpcbiAqIC8vICMgMi40IG9mZiBieSBjb250ZXh0XG4gKiBDdXN0b21FdmVudHMub2ZmKG15T2JqKTtcbiAqXG4gKiAvLyAjIDIuNSBvZmYgYnkgY29udGV4dCBhbmQgaGFuZGxlclxuICogQ3VzdG9tRXZlbnRzLm9mZihteU9iaiwgaGFuZGxlcik7XG4gKlxuICogLy8gIyAyLjYgb2ZmIGJ5IGNvbnRleHQgYW5kIGV2ZW50IG5hbWVcbiAqIEN1c3RvbUV2ZW50cy5vZmYobXlPYmosICdvbmxvYWQnKTtcbiAqXG4gKiAvLyAjIDIuNyBvZmYgYnkgYW4gT2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPiB0aGF0IGlzIHtldmVudE5hbWU6IGhhbmRsZXJ9XG4gKiBDdXN0b21FdmVudHMub2ZmKHtcbiAqICAgJ3BsYXknOiBoYW5kbGVyLFxuICogICAncGF1c2UnOiBoYW5kbGVyMlxuICogfSk7XG4gKlxuICogLy8gIyAyLjggb2ZmIHRoZSBhbGwgZXZlbnRzXG4gKiBDdXN0b21FdmVudHMub2ZmKCk7XG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24oZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gIGlmIChpc1N0cmluZyhldmVudE5hbWUpKSB7XG4gICAgLy8gW3N5bnRheCAxLCAyXVxuICAgIHRoaXMuX29mZkJ5RXZlbnROYW1lKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gIH0gZWxzZSBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAvLyBbc3ludGF4IDhdXG4gICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICB0aGlzLmNvbnRleHRzID0gW107XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihldmVudE5hbWUpKSB7XG4gICAgLy8gW3N5bnRheCAzXVxuICAgIHRoaXMuX29mZkJ5SGFuZGxlcihldmVudE5hbWUpO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGV2ZW50TmFtZSkpIHtcbiAgICAvLyBbc3ludGF4IDQsIDUsIDZdXG4gICAgdGhpcy5fb2ZmQnlPYmplY3QoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgfVxufTtcblxuLyoqXG4gKiBGaXJlIGN1c3RvbSBldmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIG5hbWUgb2YgY3VzdG9tIGV2ZW50XG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkgeyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB0aGlzLmludm9rZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuLyoqXG4gKiBGaXJlIGEgZXZlbnQgYW5kIHJldHVybnMgdGhlIHJlc3VsdCBvZiBvcGVyYXRpb24gJ2Jvb2xlYW4gQU5EJyB3aXRoIGFsbFxuICogIGxpc3RlbmVyJ3MgcmVzdWx0cy5cbiAqXG4gKiBTbywgSXQgaXMgZGlmZmVyZW50IGZyb20ge0BsaW5rIEN1c3RvbUV2ZW50cyNmaXJlfS5cbiAqXG4gKiBJbiBzZXJ2aWNlIGNvZGUsIHVzZSB0aGlzIGFzIGEgYmVmb3JlIGV2ZW50IGluIGNvbXBvbmVudCBsZXZlbCB1c3VhbGx5XG4gKiAgZm9yIG5vdGlmeWluZyB0aGF0IHRoZSBldmVudCBpcyBjYW5jZWxhYmxlLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIEN1c3RvbSBldmVudCBuYW1lXG4gKiBAcGFyYW0gey4uLip9IGRhdGEgLSBEYXRhIGZvciBldmVudFxuICogQHJldHVybnMge2Jvb2xlYW59IFRoZSByZXN1bHQgb2Ygb3BlcmF0aW9uICdib29sZWFuIEFORCdcbiAqIEBleGFtcGxlXG4gKiB2YXIgbWFwID0gbmV3IE1hcCgpO1xuICogbWFwLm9uKHtcbiAqICAgICAnYmVmb3JlWm9vbSc6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAvLyBJdCBzaG91bGQgY2FuY2VsIHRoZSAnem9vbScgZXZlbnQgYnkgc29tZSBjb25kaXRpb25zLlxuICogICAgICAgICBpZiAodGhhdC5kaXNhYmxlZCAmJiB0aGlzLmdldFN0YXRlKCkpIHtcbiAqICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAqICAgICAgICAgfVxuICogICAgICAgICByZXR1cm4gdHJ1ZTtcbiAqICAgICB9XG4gKiB9KTtcbiAqXG4gKiBpZiAodGhpcy5pbnZva2UoJ2JlZm9yZVpvb20nKSkgeyAgICAvLyBjaGVjayB0aGUgcmVzdWx0IG9mICdiZWZvcmVab29tJ1xuICogICAgIC8vIGlmIHRydWUsXG4gKiAgICAgLy8gZG9Tb21ldGhpbmdcbiAqIH1cbiAqL1xuQ3VzdG9tRXZlbnRzLnByb3RvdHlwZS5pbnZva2UgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgdmFyIGV2ZW50cywgYXJncywgaW5kZXgsIGl0ZW07XG5cbiAgaWYgKCF0aGlzLmhhc0xpc3RlbmVyKGV2ZW50TmFtZSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGV2ZW50cyA9IHRoaXMuX3NhZmVFdmVudChldmVudE5hbWUpO1xuICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgaW5kZXggPSAwO1xuXG4gIHdoaWxlIChldmVudHNbaW5kZXhdKSB7XG4gICAgaXRlbSA9IGV2ZW50c1tpbmRleF07XG5cbiAgICBpZiAoaXRlbS5oYW5kbGVyLmFwcGx5KGl0ZW0uY29udGV4dCwgYXJncykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaW5kZXggKz0gMTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciBhdCBsZWFzdCBvbmUgb2YgdGhlIGhhbmRsZXJzIGlzIHJlZ2lzdGVyZWQgaW4gdGhlIGdpdmVuXG4gKiAgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBDdXN0b20gZXZlbnQgbmFtZVxuICogQHJldHVybnMge2Jvb2xlYW59IElzIHRoZXJlIGF0IGxlYXN0IG9uZSBoYW5kbGVyIGluIGV2ZW50IG5hbWU/XG4gKi9cbkN1c3RvbUV2ZW50cy5wcm90b3R5cGUuaGFzTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0TGlzdGVuZXJMZW5ndGgoZXZlbnROYW1lKSA+IDA7XG59O1xuXG4vKipcbiAqIFJldHVybiBhIGNvdW50IG9mIGV2ZW50cyByZWdpc3RlcmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIEN1c3RvbSBldmVudCBuYW1lXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBudW1iZXIgb2YgZXZlbnRcbiAqL1xuQ3VzdG9tRXZlbnRzLnByb3RvdHlwZS5nZXRMaXN0ZW5lckxlbmd0aCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fc2FmZUV2ZW50KGV2ZW50TmFtZSk7XG5cbiAgcmV0dXJuIGV2ZW50cy5sZW5ndGg7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEN1c3RvbUV2ZW50cztcblxuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIFRoaXMgbW9kdWxlIHByb3ZpZGVzIGEgZnVuY3Rpb24gdG8gbWFrZSBhIGNvbnN0cnVjdG9yXG4gKiB0aGF0IGNhbiBpbmhlcml0IGZyb20gdGhlIG90aGVyIGNvbnN0cnVjdG9ycyBsaWtlIHRoZSBDTEFTUyBlYXNpbHkuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGluaGVyaXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcbnZhciBleHRlbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4vKipcbiAqIEBtb2R1bGUgZGVmaW5lQ2xhc3NcbiAqL1xuXG4vKipcbiAqIEhlbHAgYSBjb25zdHJ1Y3RvciB0byBiZSBkZWZpbmVkIGFuZCB0byBpbmhlcml0IGZyb20gdGhlIG90aGVyIGNvbnN0cnVjdG9yc1xuICogQHBhcmFtIHsqfSBbcGFyZW50XSBQYXJlbnQgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBNZW1iZXJzIG9mIGNvbnN0cnVjdG9yXG4gKiAgQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMuaW5pdCBJbml0aWFsaXphdGlvbiBtZXRob2RcbiAqICBAcGFyYW0ge09iamVjdH0gW3Byb3BzLnN0YXRpY10gU3RhdGljIG1lbWJlcnMgb2YgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIHsqfSBDb25zdHJ1Y3RvclxuICogQG1lbWJlcm9mIG1vZHVsZTpkZWZpbmVDbGFzc1xuICogQGV4YW1wbGVcbiAqIHZhciBkZWZpbmVDbGFzcyA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQvZGVmaW5lQ2xhc3MvZGVmaW5lQ2xhc3MnKTsgLy8gbm9kZSwgY29tbW9uanNcbiAqXG4gKiAvLy0tICMyLiBVc2UgcHJvcGVydHkgLS0vL1xuICogdmFyIFBhcmVudCA9IGRlZmluZUNsYXNzKHtcbiAqICAgICBpbml0OiBmdW5jdGlvbigpIHsgLy8gY29uc3R1cnVjdG9yXG4gKiAgICAgICAgIHRoaXMubmFtZSA9ICdtYWRlIGJ5IGRlZic7XG4gKiAgICAgfSxcbiAqICAgICBtZXRob2Q6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAvLyAuLi5cbiAqICAgICB9LFxuICogICAgIHN0YXRpYzoge1xuICogICAgICAgICBzdGF0aWNNZXRob2Q6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgIC8vIC4uLlxuICogICAgICAgICB9XG4gKiAgICAgfVxuICogfSk7XG4gKlxuICogdmFyIENoaWxkID0gZGVmaW5lQ2xhc3MoUGFyZW50LCB7XG4gKiAgICAgY2hpbGRNZXRob2Q6IGZ1bmN0aW9uKCkge31cbiAqIH0pO1xuICpcbiAqIFBhcmVudC5zdGF0aWNNZXRob2QoKTtcbiAqXG4gKiB2YXIgcGFyZW50SW5zdGFuY2UgPSBuZXcgUGFyZW50KCk7XG4gKiBjb25zb2xlLmxvZyhwYXJlbnRJbnN0YW5jZS5uYW1lKTsgLy9tYWRlIGJ5IGRlZlxuICogcGFyZW50SW5zdGFuY2Uuc3RhdGljTWV0aG9kKCk7IC8vIEVycm9yXG4gKlxuICogdmFyIGNoaWxkSW5zdGFuY2UgPSBuZXcgQ2hpbGQoKTtcbiAqIGNoaWxkSW5zdGFuY2UubWV0aG9kKCk7XG4gKiBjaGlsZEluc3RhbmNlLmNoaWxkTWV0aG9kKCk7XG4gKi9cbmZ1bmN0aW9uIGRlZmluZUNsYXNzKHBhcmVudCwgcHJvcHMpIHtcbiAgdmFyIG9iajtcblxuICBpZiAoIXByb3BzKSB7XG4gICAgcHJvcHMgPSBwYXJlbnQ7XG4gICAgcGFyZW50ID0gbnVsbDtcbiAgfVxuXG4gIG9iaiA9IHByb3BzLmluaXQgfHwgZnVuY3Rpb24oKSB7fTtcblxuICBpZiAocGFyZW50KSB7XG4gICAgaW5oZXJpdChvYmosIHBhcmVudCk7XG4gIH1cblxuICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoJ3N0YXRpYycpKSB7XG4gICAgZXh0ZW5kKG9iaiwgcHJvcHNbJ3N0YXRpYyddKTtcbiAgICBkZWxldGUgcHJvcHNbJ3N0YXRpYyddO1xuICB9XG5cbiAgZXh0ZW5kKG9iai5wcm90b3R5cGUsIHByb3BzKTtcblxuICByZXR1cm4gb2JqO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZUNsYXNzO1xuXG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQmluZCBET00gZXZlbnRzXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGlzU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBmb3JFYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIHNhZmVFdmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXG4vKipcbiAqIEJpbmQgRE9NIGV2ZW50cy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHRvIGJpbmQgZXZlbnRzXG4gKiBAcGFyYW0geyhzdHJpbmd8b2JqZWN0KX0gdHlwZXMgLSBTcGFjZSBzcGxpdHRlZCBldmVudHMgbmFtZXMgb3IgZXZlbnROYW1lOmhhbmRsZXIgb2JqZWN0XG4gKiBAcGFyYW0geyhmdW5jdGlvbnxvYmplY3QpfSBoYW5kbGVyIC0gaGFuZGxlciBmdW5jdGlvbiBvciBjb250ZXh0IGZvciBoYW5kbGVyIG1ldGhvZFxuICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XSBjb250ZXh0IC0gY29udGV4dCBmb3IgaGFuZGxlciBtZXRob2QuXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmRvbUV2ZW50XG4gKiBAZXhhbXBsZVxuICogdmFyIGRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdicpO1xuICogXG4gKiAvLyBCaW5kIG9uZSBldmVudCB0byBhbiBlbGVtZW50LlxuICogb24oZGl2LCAnY2xpY2snLCB0b2dnbGUpO1xuICogXG4gKiAvLyBCaW5kIG11bHRpcGxlIGV2ZW50cyB3aXRoIGEgc2FtZSBoYW5kbGVyIHRvIG11bHRpcGxlIGVsZW1lbnRzIGF0IG9uY2UuXG4gKiAvLyBVc2UgZXZlbnQgbmFtZXMgc3BsaXR0ZWQgYnkgYSBzcGFjZS5cbiAqIG9uKGRpdiwgJ21vdXNlZW50ZXIgbW91c2VsZWF2ZScsIGNoYW5nZUNvbG9yKTtcbiAqIFxuICogLy8gQmluZCBtdWx0aXBsZSBldmVudHMgd2l0aCBkaWZmZXJlbnQgaGFuZGxlcnMgdG8gYW4gZWxlbWVudCBhdCBvbmNlLlxuICogLy8gVXNlIGFuIG9iamVjdCB3aGljaCBvZiBrZXkgaXMgYW4gZXZlbnQgbmFtZSBhbmQgdmFsdWUgaXMgYSBoYW5kbGVyIGZ1bmN0aW9uLlxuICogb24oZGl2LCB7XG4gKiAgIGtleWRvd246IGhpZ2hsaWdodCxcbiAqICAga2V5dXA6IGRlaGlnaGxpZ2h0XG4gKiB9KTtcbiAqIFxuICogLy8gU2V0IGEgY29udGV4dCBmb3IgaGFuZGxlciBtZXRob2QuXG4gKiB2YXIgbmFtZSA9ICdnbG9iYWwnO1xuICogdmFyIHJlcG9zaXRvcnkgPSB7bmFtZTogJ0NvZGVTbmlwcGV0J307XG4gKiBvbihkaXYsICdkcmFnJywgZnVuY3Rpb24oKSB7XG4gKiAgY29uc29sZS5sb2codGhpcy5uYW1lKTtcbiAqIH0sIHJlcG9zaXRvcnkpO1xuICogLy8gUmVzdWx0IHdoZW4geW91IGRyYWcgYSBkaXY6IFwiQ29kZVNuaXBwZXRcIlxuICovXG5mdW5jdGlvbiBvbihlbGVtZW50LCB0eXBlcywgaGFuZGxlciwgY29udGV4dCkge1xuICBpZiAoaXNTdHJpbmcodHlwZXMpKSB7XG4gICAgZm9yRWFjaCh0eXBlcy5zcGxpdCgvXFxzKy9nKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgYmluZEV2ZW50KGVsZW1lbnQsIHR5cGUsIGhhbmRsZXIsIGNvbnRleHQpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yRWFjaCh0eXBlcywgZnVuY3Rpb24oZnVuYywgdHlwZSkge1xuICAgIGJpbmRFdmVudChlbGVtZW50LCB0eXBlLCBmdW5jLCBoYW5kbGVyKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQmluZCBET00gZXZlbnRzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byBiaW5kIGV2ZW50c1xuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBldmVudHMgbmFtZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb24gb3IgY29udGV4dCBmb3IgaGFuZGxlciBtZXRob2RcbiAqIEBwYXJhbSB7b2JqZWN0fSBbY29udGV4dF0gY29udGV4dCAtIGNvbnRleHQgZm9yIGhhbmRsZXIgbWV0aG9kLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYmluZEV2ZW50KGVsZW1lbnQsIHR5cGUsIGhhbmRsZXIsIGNvbnRleHQpIHtcbiAgLyoqXG4gICAgICogRXZlbnQgaGFuZGxlclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBldmVudCBvYmplY3RcbiAgICAgKi9cbiAgZnVuY3Rpb24gZXZlbnRIYW5kbGVyKGUpIHtcbiAgICBoYW5kbGVyLmNhbGwoY29udGV4dCB8fCBlbGVtZW50LCBlIHx8IHdpbmRvdy5ldmVudCk7XG4gIH1cblxuICBpZiAoJ2FkZEV2ZW50TGlzdGVuZXInIGluIGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZXZlbnRIYW5kbGVyKTtcbiAgfSBlbHNlIGlmICgnYXR0YWNoRXZlbnQnIGluIGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBldmVudEhhbmRsZXIpO1xuICB9XG4gIG1lbW9yaXplSGFuZGxlcihlbGVtZW50LCB0eXBlLCBoYW5kbGVyLCBldmVudEhhbmRsZXIpO1xufVxuXG4vKipcbiAqIE1lbW9yaXplIERPTSBldmVudCBoYW5kbGVyIGZvciB1bmJpbmRpbmcuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byBiaW5kIGV2ZW50c1xuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBldmVudHMgbmFtZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGhhbmRsZXIgZnVuY3Rpb24gdGhhdCB1c2VyIHBhc3NlZCBhdCBvbigpIHVzZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gd3JhcHBlZEhhbmRsZXIgLSBoYW5kbGVyIGZ1bmN0aW9uIHRoYXQgd3JhcHBlZCBieSBkb21ldmVudCBmb3IgaW1wbGVtZW50aW5nIHNvbWUgZmVhdHVyZXNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG1lbW9yaXplSGFuZGxlcihlbGVtZW50LCB0eXBlLCBoYW5kbGVyLCB3cmFwcGVkSGFuZGxlcikge1xuICB2YXIgZXZlbnRzID0gc2FmZUV2ZW50KGVsZW1lbnQsIHR5cGUpO1xuICB2YXIgZXhpc3RJbkV2ZW50cyA9IGZhbHNlO1xuXG4gIGZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqLmhhbmRsZXIgPT09IGhhbmRsZXIpIHtcbiAgICAgIGV4aXN0SW5FdmVudHMgPSB0cnVlO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIGlmICghZXhpc3RJbkV2ZW50cykge1xuICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgIGhhbmRsZXI6IGhhbmRsZXIsXG4gICAgICB3cmFwcGVkSGFuZGxlcjogd3JhcHBlZEhhbmRsZXJcbiAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9uO1xuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVW5iaW5kIERPTSBldmVudHNcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgaXNTdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIGZvckVhY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgc2FmZUV2ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cbi8qKlxuICogVW5iaW5kIERPTSBldmVudHNcbiAqIElmIGEgaGFuZGxlciBmdW5jdGlvbiBpcyBub3QgcGFzc2VkLCByZW1vdmUgYWxsIGV2ZW50cyBvZiB0aGF0IHR5cGUuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byB1bmJpbmQgZXZlbnRzXG4gKiBAcGFyYW0geyhzdHJpbmd8b2JqZWN0KX0gdHlwZXMgLSBTcGFjZSBzcGxpdHRlZCBldmVudHMgbmFtZXMgb3IgZXZlbnROYW1lOmhhbmRsZXIgb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaGFuZGxlcl0gLSBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmRvbUV2ZW50XG4gKiBAZXhhbXBsZVxuICogLy8gRm9sbG93aW5nIHRoZSBleGFtcGxlIG9mIGRvbUV2ZW50I29uXG4gKiBcbiAqIC8vIFVuYmluZCBvbmUgZXZlbnQgZnJvbSBhbiBlbGVtZW50LlxuICogb2ZmKGRpdiwgJ2NsaWNrJywgdG9nZ2xlKTtcbiAqIFxuICogLy8gVW5iaW5kIG11bHRpcGxlIGV2ZW50cyB3aXRoIGEgc2FtZSBoYW5kbGVyIGZyb20gbXVsdGlwbGUgZWxlbWVudHMgYXQgb25jZS5cbiAqIC8vIFVzZSBldmVudCBuYW1lcyBzcGxpdHRlZCBieSBhIHNwYWNlLlxuICogb2ZmKGVsZW1lbnQsICdtb3VzZWVudGVyIG1vdXNlbGVhdmUnLCBjaGFuZ2VDb2xvcik7XG4gKiBcbiAqIC8vIFVuYmluZCBtdWx0aXBsZSBldmVudHMgd2l0aCBkaWZmZXJlbnQgaGFuZGxlcnMgZnJvbSBhbiBlbGVtZW50IGF0IG9uY2UuXG4gKiAvLyBVc2UgYW4gb2JqZWN0IHdoaWNoIG9mIGtleSBpcyBhbiBldmVudCBuYW1lIGFuZCB2YWx1ZSBpcyBhIGhhbmRsZXIgZnVuY3Rpb24uXG4gKiBvZmYoZGl2LCB7XG4gKiAgIGtleWRvd246IGhpZ2hsaWdodCxcbiAqICAga2V5dXA6IGRlaGlnaGxpZ2h0XG4gKiB9KTtcbiAqIFxuICogLy8gVW5iaW5kIGV2ZW50cyB3aXRob3V0IGhhbmRsZXJzLlxuICogb2ZmKGRpdiwgJ2RyYWcnKTtcbiAqL1xuZnVuY3Rpb24gb2ZmKGVsZW1lbnQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gIGlmIChpc1N0cmluZyh0eXBlcykpIHtcbiAgICBmb3JFYWNoKHR5cGVzLnNwbGl0KC9cXHMrL2cpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB1bmJpbmRFdmVudChlbGVtZW50LCB0eXBlLCBoYW5kbGVyKTtcbiAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvckVhY2godHlwZXMsIGZ1bmN0aW9uKGZ1bmMsIHR5cGUpIHtcbiAgICB1bmJpbmRFdmVudChlbGVtZW50LCB0eXBlLCBmdW5jKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVW5iaW5kIERPTSBldmVudHNcbiAqIElmIGEgaGFuZGxlciBmdW5jdGlvbiBpcyBub3QgcGFzc2VkLCByZW1vdmUgYWxsIGV2ZW50cyBvZiB0aGF0IHR5cGUuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byB1bmJpbmQgZXZlbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIGV2ZW50cyBuYW1lXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaGFuZGxlcl0gLSBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB1bmJpbmRFdmVudChlbGVtZW50LCB0eXBlLCBoYW5kbGVyKSB7XG4gIHZhciBldmVudHMgPSBzYWZlRXZlbnQoZWxlbWVudCwgdHlwZSk7XG4gIHZhciBpbmRleDtcblxuICBpZiAoIWhhbmRsZXIpIHtcbiAgICBmb3JFYWNoKGV2ZW50cywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmVtb3ZlSGFuZGxlcihlbGVtZW50LCB0eXBlLCBpdGVtLndyYXBwZWRIYW5kbGVyKTtcbiAgICB9KTtcbiAgICBldmVudHMuc3BsaWNlKDAsIGV2ZW50cy5sZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIGZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihpdGVtLCBpZHgpIHtcbiAgICAgIGlmIChoYW5kbGVyID09PSBpdGVtLmhhbmRsZXIpIHtcbiAgICAgICAgcmVtb3ZlSGFuZGxlcihlbGVtZW50LCB0eXBlLCBpdGVtLndyYXBwZWRIYW5kbGVyKTtcbiAgICAgICAgaW5kZXggPSBpZHg7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBldmVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSBhbiBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gQW4gZWxlbWVudCB0byByZW1vdmUgYW4gZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gZXZlbnQgdHlwZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUhhbmRsZXIoZWxlbWVudCwgdHlwZSwgaGFuZGxlcikge1xuICBpZiAoJ3JlbW92ZUV2ZW50TGlzdGVuZXInIGluIGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcik7XG4gIH0gZWxzZSBpZiAoJ2RldGFjaEV2ZW50JyBpbiBlbGVtZW50KSB7XG4gICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvZmY7XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBGaW5kIHBhcmVudCBlbGVtZW50IHJlY3Vyc2l2ZWx5XG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIG1hdGNoZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblxuLyoqXG4gKiBGaW5kIHBhcmVudCBlbGVtZW50IHJlY3Vyc2l2ZWx5XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gYmFzZSBlbGVtZW50IHRvIHN0YXJ0IGZpbmRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIHNlbGVjdG9yIHN0cmluZyBmb3IgZmluZFxuICogQHJldHVybnMge0hUTUxFbGVtZW50fSAtIGVsZW1lbnQgZmluZGVkIG9yIG51bGxcbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZG9tVXRpbFxuICovXG5mdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgaWYgKG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gZG9jdW1lbnQpIHtcbiAgICBpZiAobWF0Y2hlcyhwYXJlbnQsIHNlbGVjdG9yKSkge1xuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG5cbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb3Nlc3Q7XG5cblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBSZW1vdmUgZWxlbWVudCBmcm9tIHBhcmVudCBub2RlLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogUmVtb3ZlIGVsZW1lbnQgZnJvbSBwYXJlbnQgbm9kZS5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHRvIHJlbW92ZS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZG9tVXRpbFxuICovXG5mdW5jdGlvbiByZW1vdmVFbGVtZW50KGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVtb3ZlRWxlbWVudDtcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgaW5zdGFuY2Ugb2YgSFRNTE5vZGUgb3Igbm90LlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBpbnN0YW5jZSBvZiBIVE1MTm9kZSBvciBub3QuXG4gKiBJZiB0aGUgZ2l2ZW4gdmFyaWFibGVzIGlzIGEgaW5zdGFuY2Ugb2YgSFRNTE5vZGUsIHJldHVybiB0cnVlLlxuICogQHBhcmFtIHsqfSBodG1sIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIEhUTUxOb2RlID9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICovXG5mdW5jdGlvbiBpc0hUTUxOb2RlKGh0bWwpIHtcbiAgaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gKGh0bWwgJiYgKGh0bWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCAhIWh0bWwubm9kZVR5cGUpKTtcbiAgfVxuXG4gIHJldHVybiAhIShodG1sICYmIGh0bWwubm9kZVR5cGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSFRNTE5vZGU7XG5cblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBVdGlscyBmb3IgVGltZXBpY2tlciBjb21wb25lbnRcbiAqIEBhdXRob3IgTkhOLiBGRSBkZXYgTGFiLiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgaW5BcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgc2VuZEhvc3RuYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cbnZhciB1bmlxdWVJZCA9IDA7XG5cbi8qKlxuICogVXRpbHNcbiAqIEBuYW1lc3BhY2UgdXRpbFxuICogQGlnbm9yZVxuICovXG52YXIgdXRpbHMgPSB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIHVuaXF1ZSBpZFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0VW5pcXVlSWQ6IGZ1bmN0aW9uKCkge1xuICAgIHVuaXF1ZUlkICs9IDE7XG5cbiAgICByZXR1cm4gdW5pcXVlSWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbnZlcnQgYSB2YWx1ZSB0byBtZWV0IHRoZSBmb3JtYXRcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZSBcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdCAtIGV4KSBoaCwgaCwgbW0sIG1cbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGZvcm1hdFRpbWU6IGZ1bmN0aW9uKHZhbHVlLCBmb3JtYXQpIHtcbiAgICB2YXIgUEFERElOR19aRVJPX1RZUEVTID0gWydoaCcsICdtbSddO1xuICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcblxuICAgIHJldHVybiBpbkFycmF5KGZvcm1hdCwgUEFERElOR19aRVJPX1RZUEVTKSA+PSAwXG4gICAgICAmJiB2YWx1ZS5sZW5ndGggPT09IDFcbiAgICAgID8gJzAnICsgdmFsdWVcbiAgICAgIDogdmFsdWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBtZXJpZGllbSBob3VyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBob3VyIC0gT3JpZ2luYWwgaG91clxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBDb252ZXJ0ZWQgbWVyaWRpZW0gaG91clxuICAgKi9cbiAgZ2V0TWVyaWRpZW1Ib3VyOiBmdW5jdGlvbihob3VyKSB7XG4gICAgaG91ciAlPSAxMjtcblxuICAgIGlmIChob3VyID09PSAwKSB7XG4gICAgICBob3VyID0gMTI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhvdXI7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgcmFuZ2UgYXJyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIFN0YXJ0IHZhbHVlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgLSBFbmQgdmFsdWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwXSAtIFN0ZXAgdmFsdWVcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgZ2V0UmFuZ2VBcnI6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICB2YXIgYXJyID0gW107XG4gICAgdmFyIGk7XG5cbiAgICBzdGVwID0gc3RlcCB8fCAxO1xuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICBmb3IgKGkgPSBlbmQ7IGkgPj0gc3RhcnQ7IGkgLT0gc3RlcCkge1xuICAgICAgICBhcnIucHVzaChpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPD0gZW5kOyBpICs9IHN0ZXApIHtcbiAgICAgICAgYXJyLnB1c2goaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycjtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGEgdGFyZ2V0IGVsZW1lbnRcbiAgICogQHBhcmFtIHtFdmVudH0gZXYgRXZlbnQgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gQW4gZXZlbnQgdGFyZ2V0IGVsZW1lbnRcbiAgICovXG4gIGdldFRhcmdldDogZnVuY3Rpb24oZXYpIHtcbiAgICByZXR1cm4gZXYudGFyZ2V0IHx8IGV2LnNyY0VsZW1lbnQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIHNlbmQgaG9zdCBuYW1lXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHNlbmRIb3N0TmFtZTogZnVuY3Rpb24oKSB7XG4gICAgc2VuZEhvc3RuYW1lKCd0aW1lLXBpY2tlcicsICdVQS0xMjk5ODc0NjItMScpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV0aWxzO1xuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgRXhlY3V0ZSB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBwcm9wZXJ0eSBvZiBvYmplY3Qgd2hpY2ggYWN0dWFsbHkgZXhpc3QuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxuLyoqXG4gKiBFeGVjdXRlIHRoZSBwcm92aWRlZCBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHByb3BlcnR5IG9mIG9iamVjdCB3aGljaCBhY3R1YWxseSBleGlzdC5cbiAqIElmIHRoZSBjYWxsYmFjayBmdW5jdGlvbiByZXR1cm5zIGZhbHNlLCB0aGUgbG9vcCB3aWxsIGJlIHN0b3BwZWQuXG4gKiBDYWxsYmFjayBmdW5jdGlvbihpdGVyYXRlZSkgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAqICAxKSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5XG4gKiAgMikgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5XG4gKiAgMykgVGhlIG9iamVjdCBiZWluZyB0cmF2ZXJzZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgdHJhdmVyc2VkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRlZSAgQ2FsbGJhY2sgZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF0gQ29udGV4dCh0aGlzKSBvZiBjYWxsYmFjayBmdW5jdGlvblxuICogQG1lbWJlcm9mIG1vZHVsZTpjb2xsZWN0aW9uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZvckVhY2hPd25Qcm9wZXJ0aWVzID0gcmVxdWlyZSgndHVpLWNvZGUtc25pcHBldC9jb2xsZWN0aW9uL2ZvckVhY2hPd25Qcm9wZXJ0aWVzJyk7IC8vIG5vZGUsIGNvbW1vbmpzXG4gKlxuICogdmFyIHN1bSA9IDA7XG4gKlxuICogZm9yRWFjaE93blByb3BlcnRpZXMoe2E6MSxiOjIsYzozfSwgZnVuY3Rpb24odmFsdWUpe1xuICogICAgIHN1bSArPSB2YWx1ZTtcbiAqIH0pO1xuICogYWxlcnQoc3VtKTsgLy8gNlxuICovXG5mdW5jdGlvbiBmb3JFYWNoT3duUHJvcGVydGllcyhvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIHZhciBrZXk7XG5cbiAgY29udGV4dCA9IGNvbnRleHQgfHwgbnVsbDtcblxuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGlmIChpdGVyYXRlZS5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaikgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZvckVhY2hPd25Qcm9wZXJ0aWVzO1xuXG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgR2V0IGV2ZW50IGNvbGxlY3Rpb24gZm9yIHNwZWNpZmljIEhUTUwgZWxlbWVudFxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBFVkVOVF9LRVkgPSAnX2ZlRXZlbnRLZXknO1xuXG4vKipcbiAqIEdldCBldmVudCBjb2xsZWN0aW9uIGZvciBzcGVjaWZpYyBIVE1MIGVsZW1lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBIVE1MIGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gZXZlbnQgdHlwZVxuICogQHJldHVybnMge2FycmF5fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2FmZUV2ZW50KGVsZW1lbnQsIHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IGVsZW1lbnRbRVZFTlRfS0VZXTtcbiAgdmFyIGhhbmRsZXJzO1xuXG4gIGlmICghZXZlbnRzKSB7XG4gICAgZXZlbnRzID0gZWxlbWVudFtFVkVOVF9LRVldID0ge307XG4gIH1cblxuICBoYW5kbGVycyA9IGV2ZW50c1t0eXBlXTtcbiAgaWYgKCFoYW5kbGVycykge1xuICAgIGhhbmRsZXJzID0gZXZlbnRzW3R5cGVdID0gW107XG4gIH1cblxuICByZXR1cm4gaGFuZGxlcnM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2FmZUV2ZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgR2V0IEhUTUwgZWxlbWVudCdzIGRlc2lnbiBjbGFzc2VzLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBpc1VuZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbi8qKlxuICogR2V0IEhUTUwgZWxlbWVudCdzIGRlc2lnbiBjbGFzc2VzLlxuICogQHBhcmFtIHsoSFRNTEVsZW1lbnR8U1ZHRWxlbWVudCl9IGVsZW1lbnQgdGFyZ2V0IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGVsZW1lbnQgY3NzIGNsYXNzIG5hbWVcbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZG9tVXRpbFxuICovXG5mdW5jdGlvbiBnZXRDbGFzcyhlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCB8fCAhZWxlbWVudC5jbGFzc05hbWUpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBpZiAoaXNVbmRlZmluZWQoZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbCkpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWU7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWUuYmFzZVZhbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRDbGFzcztcblxuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNldCBjbGFzc05hbWUgdmFsdWVcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgaXNVbmRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG4vKipcbiAqIFNldCBjbGFzc05hbWUgdmFsdWVcbiAqIEBwYXJhbSB7KEhUTUxFbGVtZW50fFNWR0VsZW1lbnQpfSBlbGVtZW50IC0gdGFyZ2V0IGVsZW1lbnRcbiAqIEBwYXJhbSB7KHN0cmluZ3xzdHJpbmdbXSl9IGNzc0NsYXNzIC0gY2xhc3MgbmFtZXNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNldENsYXNzTmFtZShlbGVtZW50LCBjc3NDbGFzcykge1xuICBjc3NDbGFzcyA9IGlzQXJyYXkoY3NzQ2xhc3MpID8gY3NzQ2xhc3Muam9pbignICcpIDogY3NzQ2xhc3M7XG5cbiAgY3NzQ2xhc3MgPSBjc3NDbGFzcy5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZywgJycpO1xuXG4gIGlmIChpc1VuZGVmaW5lZChlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsKSkge1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY3NzQ2xhc3M7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBlbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsID0gY3NzQ2xhc3M7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0Q2xhc3NOYW1lO1xuXG5cbi8qKiovIH0pLFxuLyogMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGhlIGVudHJ5IGZpbGUgb2YgVGltZVBpY2tlciBjb21wb25lbnRzXG4gKiBAYXV0aG9yIE5ITi4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbl9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGltZVBpY2tlciBjb21wb25lbnRcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGluQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGZvckVhY2hBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgQ3VzdG9tRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBkZWZpbmVDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xudmFyIG9mZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xudmFyIGFkZENsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG52YXIgY2xvc2VzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIHJlbW92ZUVsZW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbnZhciByZW1vdmVDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xudmFyIGlzSFRNTE5vZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcbnZhciBpc051bWJlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXG52YXIgU3BpbmJveCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xudmFyIFNlbGVjdGJveCA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcbnZhciBsb2NhbGVUZXh0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xudmFyIHRtcGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcbnZhciBtZXJpZGllbVRtcGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxudmFyIFNFTEVDVE9SX0hPVVJfRUxFTUVOVCA9ICcudHVpLXRpbWVwaWNrZXItaG91cic7XG52YXIgU0VMRUNUT1JfTUlOVVRFX0VMRU1FTlQgPSAnLnR1aS10aW1lcGlja2VyLW1pbnV0ZSc7XG52YXIgU0VMRUNUT1JfTUVSSURJRU1fRUxFTUVOVCA9ICcudHVpLXRpbWVwaWNrZXItbWVyaWRpZW0nO1xudmFyIENMQVNTX05BTUVfTEVGVF9NRVJJRElFTSA9ICd0dWktaGFzLWxlZnQnO1xudmFyIENMQVNTX05BTUVfSElEREVOID0gJ3R1aS1oaWRkZW4nO1xudmFyIENMQVNTX05BTUVfQ0hFQ0tFRCA9ICd0dWktdGltZXBpY2tlci1tZXJpZGllbS1jaGVja2VkJztcbnZhciBJTlBVVF9UWVBFX1NQSU5CT1ggPSAnc3BpbmJveCc7XG52YXIgSU5QVVRfVFlQRV9TRUxFQ1RCT1ggPSAnc2VsZWN0Ym94JztcblxuLyoqXG4gKiBNZXJnZSBkZWZhdWx0IG9wdGlvbnNcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICogQHJldHVybnMge29iamVjdH0gTWVyZ2VkIG9wdGlvbnNcbiAqL1xudmFyIG1lcmdlRGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBleHRlbmQoXG4gICAge1xuICAgICAgbGFuZ3VhZ2U6ICdlbicsXG4gICAgICBpbml0aWFsSG91cjogMCxcbiAgICAgIGluaXRpYWxNaW51dGU6IDAsXG4gICAgICBzaG93TWVyaWRpZW06IHRydWUsXG4gICAgICBpbnB1dFR5cGU6ICdzZWxlY3Rib3gnLFxuICAgICAgaG91clN0ZXA6IDEsXG4gICAgICBtaW51dGVTdGVwOiAxLFxuICAgICAgbWVyaWRpZW1Qb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgIGZvcm1hdDogJ2g6bScsXG4gICAgICBkaXNhYmxlZEhvdXJzOiBbXSxcbiAgICAgIHVzYWdlU3RhdGlzdGljczogdHJ1ZVxuICAgIH0sXG4gICAgb3B0aW9uc1xuICApO1xufTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nfEhUTUxFbGVtZW50fSBjb250YWluZXIgLSBDb250YWluZXIgZWxlbWVudCBvciBzZWxlY3RvclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgZm9yIGluaXRpYWxpemF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaW5pdGlhbEhvdXIgPSAwXSAtIEluaXRpYWwgc2V0dGluZyB2YWx1ZSBvZiBob3VyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaW5pdGlhbE1pbnV0ZSA9IDBdIC0gSW5pdGlhbCBzZXR0aW5nIHZhbHVlIG9mIG1pbnV0ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhvdXJTdGVwID0gMV0gLSBTdGVwIHZhbHVlIG9mIGhvdXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5taW51dGVTdGVwID0gMV0gLSBTdGVwIHZhbHVlIG9mIG1pbnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmlucHV0VHlwZSA9ICdzZWxlY3Rib3gnXSAtICdzZWxlY3Rib3gnIG9yICdzcGluYm94J1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZvcm1hdCA9ICdoOm0nXSAtIGhvdXIsIG1pbnV0ZSBmb3JtYXQgZm9yIGRpc3BsYXlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hvd01lcmlkaWVtID0gdHJ1ZV0gLSBTaG93IG1lcmlkaWVtIGV4cHJlc3Npb24/XG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5kaXNhYmxlZEhvdXJzID0gW11dIC0gUmVnaXN0ZXJlZCBIb3VycyBpcyBkaXNhYmxlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5tZXJpZGllbVBvc2l0aW9uID0gJ3JpZ2h0J10gLSBTZXQgbG9jYXRpb24gb2YgdGhlIG1lcmlkaWVtIGVsZW1lbnQuXG4gKiAgICAgICAgICAgICAgICAgSWYgdGhpcyBvcHRpb24gc2V0ICdsZWZ0JywgdGhlIG1lcmlkaWVtIGVsZW1lbnQgaXMgY3JlYXRlZCBpbiBmcm9udCBvZiB0aGUgaG91ciBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhbmd1YWdlID0gJ2VuJ10gU2V0IGxvY2FsZSB0ZXh0c1xuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy51c2FnZVN0YXRpc3RpY3M9dHJ1ZXxmYWxzZV0gc2VuZCBob3N0bmFtZSB0byBnb29nbGUgYW5hbHl0aWNzIFtkZWZhdWx0IHZhbHVlIGlzIHRydWVdXG4gKiBAZXhhbXBsZVxuICogdmFyIHRpbWVwaWNrZXIgPSBuZXcgdHVpLlRpbWVQaWNrZXIoJyN0aW1lcGlja2VyLWNvbnRhaW5lcicsIHtcbiAqICAgICBpbml0aWFsSG91cjogMTUsXG4gKiAgICAgaW5pdGlhbE1pbnV0ZTogMTMsXG4gKiAgICAgaW5wdXRUeXBlOiAnc2VsZWN0Ym94JyxcbiAqICAgICBzaG93TWVyaWRpZW06IGZhbHNlXG4gKiB9KTtcbiAqL1xudmFyIFRpbWVQaWNrZXIgPSBkZWZpbmVDbGFzcyhcbiAgLyoqIEBsZW5kcyBUaW1lUGlja2VyLnByb3RvdHlwZSAqLyB7XG4gICAgc3RhdGljOiB7XG4gICAgICAvKipcbiAgICAgICAqIExvY2FsZSB0ZXh0IGRhdGFcbiAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgKiBAbWVtYmVyb2YgVGltZVBpY2tlclxuICAgICAgICogQHN0YXRpY1xuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIHZhciBUaW1lUGlja2VyID0gdHVpLlRpbWVQaWNrZXI7IC8vIG9yIHJlcXVpcmUoJ3R1aS10aW1lLXBpY2tlcicpO1xuICAgICAgICpcbiAgICAgICAqIFRpbWVQaWNrZXIubG9jYWxlVGV4dHNbJ2N1c3RvbUtleSddID0ge1xuICAgICAgICogICAgIGFtOiAnYS5tLicsXG4gICAgICAgKiAgICAgcG06ICdwLm0uJ1xuICAgICAgICogfTtcbiAgICAgICAqXG4gICAgICAgKiB2YXIgaW5zdGFuY2UgPSBuZXcgdHVpLlRpbWVQaWNrZXIoJyN0aW1lcGlja2VyLWNvbnRhaW5lcicsIHtcbiAgICAgICAqICAgICBsYW5ndWFnZTogJ2N1c3RvbUtleScsXG4gICAgICAgKiB9KTtcbiAgICAgICAqL1xuICAgICAgbG9jYWxlVGV4dHM6IGxvY2FsZVRleHRzXG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbihjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBtZXJnZURlZmF1bHRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9pZCA9IHV0aWwuZ2V0VW5pcXVlSWQoKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9jb250YWluZXIgPSBpc0hUTUxOb2RlKGNvbnRhaW5lcilcbiAgICAgICAgPyBjb250YWluZXJcbiAgICAgICAgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fbWVyaWRpZW1FbGVtZW50ID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9hbUVsID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9wbUVsID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3Nob3dNZXJpZGllbSA9IG9wdGlvbnMuc2hvd01lcmlkaWVtO1xuXG4gICAgICAvKipcbiAgICAgICAqIE1lcmlkaWVtIHBvc3Rpb25cbiAgICAgICAqIEB0eXBlIHsnbGVmdCd8J3JpZ2h0J31cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX21lcmlkaWVtUG9zaXRpb24gPSBvcHRpb25zLm1lcmlkaWVtUG9zaXRpb247XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge1NwaW5ib3h8U2VsZWN0Ym94fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5faG91cklucHV0ID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7U3BpbmJveHxTZWxlY3Rib3h9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9taW51dGVJbnB1dCA9IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2hvdXIgPSBvcHRpb25zLmluaXRpYWxIb3VyO1xuXG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9taW51dGUgPSBvcHRpb25zLmluaXRpYWxNaW51dGU7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2hvdXJTdGVwID0gb3B0aW9ucy5ob3VyU3RlcDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fbWludXRlU3RlcCA9IG9wdGlvbnMubWludXRlU3RlcDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9kaXNhYmxlZEhvdXJzID0gb3B0aW9ucy5kaXNhYmxlZEhvdXJzO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRpbWVQaWNrZXIgaW5wdXRUeXBlXG4gICAgICAgKiBAdHlwZSB7J3NwaW5ib3gnfCdzZWxlY3Rib3gnfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5faW5wdXRUeXBlID0gb3B0aW9ucy5pbnB1dFR5cGU7XG5cbiAgICAgIC8qKlxuICAgICAgICogTG9jYWxlIHRleHQgZm9yIG1lcmlkaWVtXG4gICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fbG9jYWxlVGV4dCA9IGxvY2FsZVRleHRzW29wdGlvbnMubGFuZ3VhZ2VdO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRpbWUgZm9ybWF0IGZvciBvdXRwdXRcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9mb3JtYXQgPSB0aGlzLl9nZXRWYWxpZFRpbWVGb3JtYXQob3B0aW9ucy5mb3JtYXQpO1xuXG4gICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgIHRoaXMuX3NldEV2ZW50cygpO1xuXG4gICAgICBpZiAob3B0aW9ucy51c2FnZVN0YXRpc3RpY3MpIHtcbiAgICAgICAgdXRpbC5zZW5kSG9zdE5hbWUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IGV2ZW50IGhhbmRsZXJzIHRvIHNlbGVjdG9ycywgY29udGFpbmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0RXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2hvdXJJbnB1dC5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VUaW1lSW5wdXQsIHRoaXMpO1xuICAgICAgdGhpcy5fbWludXRlSW5wdXQub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlVGltZUlucHV0LCB0aGlzKTtcblxuICAgICAgaWYgKHRoaXMuX3Nob3dNZXJpZGllbSkge1xuICAgICAgICBpZiAodGhpcy5faW5wdXRUeXBlID09PSBJTlBVVF9UWVBFX1NFTEVDVEJPWCkge1xuICAgICAgICAgIG9uKFxuICAgICAgICAgICAgdGhpcy5fbWVyaWRpZW1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpLFxuICAgICAgICAgICAgJ2NoYW5nZScsXG4gICAgICAgICAgICB0aGlzLl9vbkNoYW5nZU1lcmlkaWVtLFxuICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5faW5wdXRUeXBlID09PSBJTlBVVF9UWVBFX1NQSU5CT1gpIHtcbiAgICAgICAgICBvbih0aGlzLl9tZXJpZGllbUVsZW1lbnQsICdjbGljaycsIHRoaXMuX29uQ2hhbmdlTWVyaWRpZW0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBldmVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW1vdmVFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5vZmYoKTtcblxuICAgICAgdGhpcy5faG91cklucHV0LmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuX21pbnV0ZUlucHV0LmRlc3Ryb3koKTtcblxuICAgICAgaWYgKHRoaXMuX3Nob3dNZXJpZGllbSkge1xuICAgICAgICBpZiAodGhpcy5faW5wdXRUeXBlID09PSBJTlBVVF9UWVBFX1NFTEVDVEJPWCkge1xuICAgICAgICAgIG9mZihcbiAgICAgICAgICAgIHRoaXMuX21lcmlkaWVtRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKSxcbiAgICAgICAgICAgICdjaGFuZ2UnLFxuICAgICAgICAgICAgdGhpcy5fb25DaGFuZ2VNZXJpZGllbSxcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2lucHV0VHlwZSA9PT0gSU5QVVRfVFlQRV9TUElOQk9YKSB7XG4gICAgICAgICAgb2ZmKHRoaXMuX21lcmlkaWVtRWxlbWVudCwgJ2NsaWNrJywgdGhpcy5fb25DaGFuZ2VNZXJpZGllbSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGVsZW1lbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7XG4gICAgICAgIHNob3dNZXJpZGllbTogdGhpcy5fc2hvd01lcmlkaWVtLFxuICAgICAgICBpc1NwaW5ib3g6IHRoaXMuX2lucHV0VHlwZSA9PT0gJ3NwaW5ib3gnXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5fc2hvd01lcmlkaWVtKSB7XG4gICAgICAgIGV4dGVuZChjb250ZXh0LCB7XG4gICAgICAgICAgbWVyaWRpZW1FbGVtZW50OiB0aGlzLl9tYWtlTWVyaWRpZW1IVE1MKClcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgIHJlbW92ZUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gdG1wbChjb250ZXh0KTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9jb250YWluZXIuZmlyc3RDaGlsZDtcblxuICAgICAgdGhpcy5fcmVuZGVyVGltZUlucHV0cygpO1xuXG4gICAgICBpZiAodGhpcy5fc2hvd01lcmlkaWVtKSB7XG4gICAgICAgIHRoaXMuX3NldE1lcmlkaWVtRWxlbWVudCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgbWVyaWRpZW0gZWxlbWVudCBvbiB0aW1lcGlja2VyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0TWVyaWRpZW1FbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9tZXJpZGllbVBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgYWRkQ2xhc3ModGhpcy5fZWxlbWVudCwgQ0xBU1NfTkFNRV9MRUZUX01FUklESUVNKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX21lcmlkaWVtRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9NRVJJRElFTV9FTEVNRU5UKTtcbiAgICAgIHRoaXMuX2FtRWwgPSB0aGlzLl9tZXJpZGllbUVsZW1lbnQucXVlcnlTZWxlY3RvcignW3ZhbHVlPVwiQU1cIl0nKTtcbiAgICAgIHRoaXMuX3BtRWwgPSB0aGlzLl9tZXJpZGllbUVsZW1lbnQucXVlcnlTZWxlY3RvcignW3ZhbHVlPVwiUE1cIl0nKTtcbiAgICAgIHRoaXMuX3N5bmNUb01lcmlkaWVtRWxlbWVudHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFrZSBodG1sIGZvciBtZXJpZGllbSBlbGVtZW50XG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSBNZXJpZGllbSBlbGVtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWFrZU1lcmlkaWVtSFRNTDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbG9jYWxlVGV4dCA9IHRoaXMuX2xvY2FsZVRleHQ7XG5cbiAgICAgIHJldHVybiBtZXJpZGllbVRtcGwoe1xuICAgICAgICBhbTogbG9jYWxlVGV4dC5hbSxcbiAgICAgICAgcG06IGxvY2FsZVRleHQucG0sXG4gICAgICAgIHJhZGlvSWQ6IHRoaXMuX2lkLFxuICAgICAgICBpc1NwaW5ib3g6IHRoaXMuX2lucHV0VHlwZSA9PT0gJ3NwaW5ib3gnXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRpbWUgc2VsZWN0b3JzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVuZGVyVGltZUlucHV0czogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaG91ciA9IHRoaXMuX2hvdXI7XG4gICAgICB2YXIgc2hvd01lcmlkaWVtID0gdGhpcy5fc2hvd01lcmlkaWVtO1xuICAgICAgdmFyIGhvdXJFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX0hPVVJfRUxFTUVOVCk7XG4gICAgICB2YXIgbWludXRlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9NSU5VVEVfRUxFTUVOVCk7XG4gICAgICB2YXIgQm94Q29tcG9uZW50ID0gdGhpcy5faW5wdXRUeXBlLnRvTG93ZXJDYXNlKCkgPT09ICdzZWxlY3Rib3gnID8gU2VsZWN0Ym94IDogU3BpbmJveDtcbiAgICAgIHZhciBmb3JtYXRFeHBsb2RlID0gdGhpcy5fZm9ybWF0LnNwbGl0KCc6Jyk7XG4gICAgICB2YXIgaG91ckl0ZW1zID0gdGhpcy5fZ2V0SG91ckl0ZW1zKCk7XG5cbiAgICAgIGlmIChzaG93TWVyaWRpZW0pIHtcbiAgICAgICAgaG91ciA9IHV0aWwuZ2V0TWVyaWRpZW1Ib3VyKGhvdXIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9ob3VySW5wdXQgPSBuZXcgQm94Q29tcG9uZW50KGhvdXJFbGVtZW50LCB7XG4gICAgICAgIGluaXRpYWxWYWx1ZTogaG91cixcbiAgICAgICAgaXRlbXM6IGhvdXJJdGVtcyxcbiAgICAgICAgZm9ybWF0OiBmb3JtYXRFeHBsb2RlWzBdLFxuICAgICAgICBkaXNhYmxlZEl0ZW1zOiB0aGlzLl9tYWtlRGlzYWJsZWRTdGF0SXRlbXMoaG91ckl0ZW1zKVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX21pbnV0ZUlucHV0ID0gbmV3IEJveENvbXBvbmVudChtaW51dGVFbGVtZW50LCB7XG4gICAgICAgIGluaXRpYWxWYWx1ZTogdGhpcy5fbWludXRlLFxuICAgICAgICBpdGVtczogdGhpcy5fZ2V0TWludXRlSXRlbXMoKSxcbiAgICAgICAgZm9ybWF0OiBmb3JtYXRFeHBsb2RlWzFdXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgX21ha2VEaXNhYmxlZFN0YXRJdGVtczogZnVuY3Rpb24oaG91ckl0ZW1zKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB2YXIgZGlzYWJsZWRIb3VycyA9IHRoaXMuX2Rpc2FibGVkSG91cnMuY29uY2F0KCk7XG5cbiAgICAgIGlmICh0aGlzLl9zaG93TWVyaWRpZW0pIHtcbiAgICAgICAgZGlzYWJsZWRIb3VycyA9IHRoaXMuX21lcmlkaWVtYWJsZVRpbWUoZGlzYWJsZWRIb3Vycyk7XG4gICAgICB9XG5cbiAgICAgIGZvckVhY2hBcnJheShob3VySXRlbXMsIGZ1bmN0aW9uKGhvdXIpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goaW5BcnJheShob3VyLCBkaXNhYmxlZEhvdXJzKSA+PSAwKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICBfbWVyaWRpZW1hYmxlVGltZTogZnVuY3Rpb24oZGlzYWJsZWRIb3Vycykge1xuICAgICAgdmFyIGRpZmZIb3VyID0gMDtcbiAgICAgIHZhciBzdGFydEhvdXIgPSAwO1xuICAgICAgdmFyIGVuZEhvdXIgPSAxMTtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgaWYgKHRoaXMuX2hvdXIgPj0gMTIpIHtcbiAgICAgICAgZGlmZkhvdXIgPSAxMjtcbiAgICAgICAgc3RhcnRIb3VyID0gMTI7XG4gICAgICAgIGVuZEhvdXIgPSAyMztcbiAgICAgIH1cblxuICAgICAgZm9yRWFjaEFycmF5KGRpc2FibGVkSG91cnMsIGZ1bmN0aW9uKGhvdXIpIHtcbiAgICAgICAgaWYgKGhvdXIgPj0gc3RhcnRIb3VyICYmIGhvdXIgPD0gZW5kSG91cikge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGhvdXIgLSBkaWZmSG91ciA9PT0gMCA/IDEyIDogaG91ciAtIGRpZmZIb3VyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBmb3JtYXR0ZWQgZm9ybWF0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXQgLSBmb3JtYXQgb3B0aW9uXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRWYWxpZFRpbWVGb3JtYXQ6IGZ1bmN0aW9uKGZvcm1hdCkge1xuICAgICAgaWYgKCFmb3JtYXQubWF0Y2goL15baF17MSwyfTpbbV17MSwyfSQvaSkpIHtcbiAgICAgICAgcmV0dXJuICdoOm0nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm9ybWF0LnRvTG93ZXJDYXNlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgbWVyaWRpZW0gZWxlbWVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zeW5jVG9NZXJpZGllbUVsZW1lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxlY3RlZEVsID0gdGhpcy5faG91ciA+PSAxMiA/IHRoaXMuX3BtRWwgOiB0aGlzLl9hbUVsO1xuICAgICAgdmFyIG5vdFNlbGVjdGVkRWwgPSBzZWxlY3RlZEVsID09PSB0aGlzLl9wbUVsID8gdGhpcy5fYW1FbCA6IHRoaXMuX3BtRWw7XG5cbiAgICAgIHNlbGVjdGVkRWwuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgICAgc2VsZWN0ZWRFbC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICAgIGFkZENsYXNzKHNlbGVjdGVkRWwsIENMQVNTX05BTUVfQ0hFQ0tFRCk7XG4gICAgICBub3RTZWxlY3RlZEVsLnJlbW92ZUF0dHJpYnV0ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIG5vdFNlbGVjdGVkRWwucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJyk7XG4gICAgICByZW1vdmVDbGFzcyhub3RTZWxlY3RlZEVsLCBDTEFTU19OQU1FX0NIRUNLRUQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdmFsdWVzIGluIHNwaW5ib3hlcyBmcm9tIHRpbWVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zeW5jVG9JbnB1dHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhvdXIgPSB0aGlzLl9ob3VyO1xuICAgICAgdmFyIG1pbnV0ZSA9IHRoaXMuX21pbnV0ZTtcblxuICAgICAgaWYgKHRoaXMuX3Nob3dNZXJpZGllbSkge1xuICAgICAgICBob3VyID0gdXRpbC5nZXRNZXJpZGllbUhvdXIoaG91cik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2hvdXJJbnB1dC5zZXRWYWx1ZShob3VyKTtcbiAgICAgIHRoaXMuX21pbnV0ZUlucHV0LnNldFZhbHVlKG1pbnV0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERPTSBldmVudCBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXYgLSBDaGFuZ2UgZXZlbnQgb24gbWVyaWRpZW0gZWxlbWVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ2hhbmdlTWVyaWRpZW06IGZ1bmN0aW9uKGV2KSB7XG4gICAgICB2YXIgaG91ciA9IHRoaXMuX2hvdXI7XG4gICAgICB2YXIgdGFyZ2V0ID0gdXRpbC5nZXRUYXJnZXQoZXYpO1xuXG4gICAgICBpZiAodGFyZ2V0LnZhbHVlICYmIGNsb3Nlc3QodGFyZ2V0LCBTRUxFQ1RPUl9NRVJJRElFTV9FTEVNRU5UKSkge1xuICAgICAgICBob3VyID0gdGhpcy5fdG8yNEhvdXIodGFyZ2V0LnZhbHVlID09PSAnUE0nLCBob3VyKTtcbiAgICAgICAgdGhpcy5zZXRUaW1lKGhvdXIsIHRoaXMuX21pbnV0ZSk7XG4gICAgICAgIHRoaXMuX3NldERpc2FibGVkSG91cnMoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGltZSBjaGFuZ2UgZXZlbnQgaGFuZGxlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ2hhbmdlVGltZUlucHV0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBob3VyID0gdGhpcy5faG91cklucHV0LmdldFZhbHVlKCk7XG4gICAgICB2YXIgbWludXRlID0gdGhpcy5fbWludXRlSW5wdXQuZ2V0VmFsdWUoKTtcbiAgICAgIHZhciBpc1BNID0gdGhpcy5faG91ciA+PSAxMjtcblxuICAgICAgaWYgKHRoaXMuX3Nob3dNZXJpZGllbSkge1xuICAgICAgICBob3VyID0gdGhpcy5fdG8yNEhvdXIoaXNQTSwgaG91cik7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFRpbWUoaG91ciwgbWludXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogMTJIb3VyLWV4cHJlc3Npb24gdG8gMjRIb3VyLWV4cHJlc3Npb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUE0gLSBJcyBwbT9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91ciAtIEhvdXJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RvMjRIb3VyOiBmdW5jdGlvbihpc1BNLCBob3VyKSB7XG4gICAgICBob3VyICU9IDEyO1xuICAgICAgaWYgKGlzUE0pIHtcbiAgICAgICAgaG91ciArPSAxMjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfSxcblxuICAgIF9zZXREaXNhYmxlZEhvdXJzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBob3VySXRlbXMgPSB0aGlzLl9nZXRIb3VySXRlbXMoKTtcbiAgICAgIHZhciBkaXNhYmxlZEl0ZW1zID0gdGhpcy5fbWFrZURpc2FibGVkU3RhdEl0ZW1zKGhvdXJJdGVtcyk7XG5cbiAgICAgIHRoaXMuX2hvdXJJbnB1dC5zZXREaXNhYmxlZEl0ZW1zKGRpc2FibGVkSXRlbXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgaXRlbXMgb2YgaG91clxuICAgICAqIEByZXR1cm5zIHthcnJheX0gSG91ciBpdGVtIGxpc3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRIb3VySXRlbXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLl9ob3VyU3RlcDtcblxuICAgICAgcmV0dXJuIHRoaXMuX3Nob3dNZXJpZGllbSA/IHV0aWwuZ2V0UmFuZ2VBcnIoMSwgMTIsIHN0ZXApIDogdXRpbC5nZXRSYW5nZUFycigwLCAyMywgc3RlcCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBpdGVtcyBvZiBtaW51dGVcbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9IE1pbnV0ZSBpdGVtIGxpc3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRNaW51dGVJdGVtczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdXRpbC5nZXRSYW5nZUFycigwLCA1OSwgdGhpcy5fbWludXRlU3RlcCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGhvdXIgYW5kIG1pbnV0ZSBhcmUgaW4gdmFsaWQgaXRlbXMgb3Igbm90XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhvdXIgLSBIb3VyIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnV0ZSAtIE1pbnV0ZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBTdGF0ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3ZhbGlkSXRlbXM6IGZ1bmN0aW9uKGhvdXIsIG1pbnV0ZSkge1xuICAgICAgaWYgKCFpc051bWJlcihob3VyKSB8fCAhaXNOdW1iZXIobWludXRlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9zaG93TWVyaWRpZW0pIHtcbiAgICAgICAgaG91ciA9IHV0aWwuZ2V0TWVyaWRpZW1Ib3VyKGhvdXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICBpbkFycmF5KGhvdXIsIHRoaXMuX2dldEhvdXJJdGVtcygpKSA+IC0xICYmXG4gICAgICAgIGluQXJyYXkobWludXRlLCB0aGlzLl9nZXRNaW51dGVJdGVtcygpKSA+IC0xXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgc3RlcCBvZiBob3VyXG4gICAgICogQHBhcmFtIHthcnJheX0gc3RlcCAtIFN0ZXAgdG8gY3JlYXRlIGl0ZW1zIG9mIGhvdXJcbiAgICAgKi9cbiAgICBzZXRIb3VyU3RlcDogZnVuY3Rpb24oc3RlcCkge1xuICAgICAgdGhpcy5faG91clN0ZXAgPSBzdGVwO1xuICAgICAgdGhpcy5faG91cklucHV0LmZpcmUoJ2NoYW5nZUl0ZW1zJywgdGhpcy5fZ2V0SG91ckl0ZW1zKCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgc3RlcCBvZiBob3VyXG4gICAgICogQHJldHVybnMge251bWJlcn0gU3RlcCBvZiBob3VyXG4gICAgICovXG4gICAgZ2V0SG91clN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hvdXJTdGVwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgc3RlcCBvZiBtaW51dGVcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBzdGVwIC0gU3RlcCB0byBjcmVhdGUgaXRlbXMgb2YgbWludXRlXG4gICAgICovXG4gICAgc2V0TWludXRlU3RlcDogZnVuY3Rpb24oc3RlcCkge1xuICAgICAgdGhpcy5fbWludXRlU3RlcCA9IHN0ZXA7XG4gICAgICB0aGlzLl9taW51dGVJbnB1dC5maXJlKCdjaGFuZ2VJdGVtcycsIHRoaXMuX2dldE1pbnV0ZUl0ZW1zKCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgc3RlcCBvZiBtaW51dGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBTdGVwIG9mIG1pbnV0ZVxuICAgICAqL1xuICAgIGdldE1pbnV0ZVN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21pbnV0ZVN0ZXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNob3cgdGltZSBwaWNrZXIgZWxlbWVudFxuICAgICAqL1xuICAgIHNob3c6IGZ1bmN0aW9uKCkge1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5fZWxlbWVudCwgQ0xBU1NfTkFNRV9ISURERU4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHRpbWUgcGlja2VyIGVsZW1lbnRcbiAgICAgKi9cbiAgICBoaWRlOiBmdW5jdGlvbigpIHtcbiAgICAgIGFkZENsYXNzKHRoaXMuX2VsZW1lbnQsIENMQVNTX05BTUVfSElEREVOKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IGhvdXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91ciBmb3IgdGltZSBwaWNrZXIgLSAoMH4yMylcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmVzdWx0IG9mIHNldCB0aW1lXG4gICAgICovXG4gICAgc2V0SG91cjogZnVuY3Rpb24oaG91cikge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0VGltZShob3VyLCB0aGlzLl9taW51dGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgbWludXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnV0ZSBmb3IgdGltZSBwaWNrZXJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmVzdWx0IG9mIHNldCB0aW1lXG4gICAgICovXG4gICAgc2V0TWludXRlOiBmdW5jdGlvbihtaW51dGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldFRpbWUodGhpcy5faG91ciwgbWludXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRpbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaG91ciBmb3IgdGltZSBwaWNrZXIgLSAoMH4yMylcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludXRlIGZvciB0aW1lIHBpY2tlclxuICAgICAqL1xuICAgIHNldFRpbWU6IGZ1bmN0aW9uKGhvdXIsIG1pbnV0ZSkge1xuICAgICAgaWYgKCF0aGlzLl92YWxpZEl0ZW1zKGhvdXIsIG1pbnV0ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9ob3VyID0gaG91cjtcbiAgICAgIHRoaXMuX21pbnV0ZSA9IG1pbnV0ZTtcblxuICAgICAgdGhpcy5fc3luY1RvSW5wdXRzKCk7XG4gICAgICBpZiAodGhpcy5fc2hvd01lcmlkaWVtKSB7XG4gICAgICAgIHRoaXMuX3N5bmNUb01lcmlkaWVtRWxlbWVudHMoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDaGFuZ2UgZXZlbnQgLSBUaW1lUGlja2VyXG4gICAgICAgKiBAZXZlbnQgVGltZVBpY2tlciNjaGFuZ2VcbiAgICAgICAqL1xuICAgICAgdGhpcy5maXJlKCdjaGFuZ2UnLCB7XG4gICAgICAgIGhvdXI6IHRoaXMuX2hvdXIsXG4gICAgICAgIG1pbnV0ZTogdGhpcy5fbWludXRlXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGhvdXJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBob3VyIC0gKDB+MjMpXG4gICAgICovXG4gICAgZ2V0SG91cjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faG91cjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IG1pbnV0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IG1pbnV0ZVxuICAgICAqL1xuICAgIGdldE1pbnV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWludXRlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgbG9jYWxlIHRleHQgb2YgbWVyaWRpZW0gYnkgbGFuZ3VhZ2UgY29kZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIExhbmd1YWdlIGNvZGVcbiAgICAgKi9cbiAgICBjaGFuZ2VMYW5ndWFnZTogZnVuY3Rpb24obGFuZ3VhZ2UpIHtcbiAgICAgIHRoaXMuX2xvY2FsZVRleHQgPSBsb2NhbGVUZXh0c1tsYW5ndWFnZV07XG4gICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveVxuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRzKCk7XG4gICAgICByZW1vdmVFbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgICB0aGlzLl9jb250YWluZXJcbiAgICAgICAgPSB0aGlzLl9zaG93TWVyaWRpZW1cbiAgICAgICAgPSB0aGlzLl9ob3VySW5wdXRcbiAgICAgICAgPSB0aGlzLl9taW51dGVJbnB1dFxuICAgICAgICA9IHRoaXMuX2hvdXJcbiAgICAgICAgPSB0aGlzLl9taW51dGVcbiAgICAgICAgPSB0aGlzLl9pbnB1dFR5cGVcbiAgICAgICAgPSB0aGlzLl9lbGVtZW50XG4gICAgICAgID0gdGhpcy5fbWVyaWRpZW1FbGVtZW50XG4gICAgICAgID0gdGhpcy5fYW1FbFxuICAgICAgICA9IHRoaXMuX3BtRWxcbiAgICAgICAgPSBudWxsO1xuICAgIH1cbiAgfVxuKTtcblxuQ3VzdG9tRXZlbnRzLm1peGluKFRpbWVQaWNrZXIpO1xubW9kdWxlLmV4cG9ydHMgPSBUaW1lUGlja2VyO1xuXG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgZXhpc3Rpbmcgb3Igbm90LlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBpc1VuZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgaXNOdWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgZXhpc3Rpbmcgb3Igbm90LlxuICogSWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIG5vdCBudWxsIGFuZCBub3QgdW5kZWZpbmVkLCByZXR1cm5zIHRydWUuXG4gKiBAcGFyYW0geyp9IHBhcmFtIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIGV4aXN0eT9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICogQGV4YW1wbGVcbiAqIHZhciBpc0V4aXN0eSA9IHJlcXVpcmUoJ3R1aS1jb2RlLXNuaXBwZXQvdHlwZS9pc0V4aXN0eScpOyAvLyBub2RlLCBjb21tb25qc1xuICpcbiAqIGlzRXhpc3R5KCcnKTsgLy90cnVlXG4gKiBpc0V4aXN0eSgwKTsgLy90cnVlXG4gKiBpc0V4aXN0eShbXSk7IC8vdHJ1ZVxuICogaXNFeGlzdHkoe30pOyAvL3RydWVcbiAqIGlzRXhpc3R5KG51bGwpOyAvL2ZhbHNlXG4gKiBpc0V4aXN0eSh1bmRlZmluZWQpOyAvL2ZhbHNlXG4qL1xuZnVuY3Rpb24gaXNFeGlzdHkocGFyYW0pIHtcbiAgcmV0dXJuICFpc1VuZGVmaW5lZChwYXJhbSkgJiYgIWlzTnVsbChwYXJhbSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFeGlzdHk7XG5cblxuLyoqKi8gfSksXG4vKiAyNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBudWxsIG9yIG5vdC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIG51bGwgb3Igbm90LlxuICogSWYgdGhlIGdpdmVuIHZhcmlhYmxlKGFyZ3VtZW50c1swXSkgaXMgbnVsbCwgcmV0dXJucyB0cnVlLlxuICogQHBhcmFtIHsqfSBvYmogLSBUYXJnZXQgZm9yIGNoZWNraW5nXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgbnVsbD9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICovXG5mdW5jdGlvbiBpc051bGwob2JqKSB7XG4gIHJldHVybiBvYmogPT09IG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNOdWxsO1xuXG5cbi8qKiovIH0pLFxuLyogMjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYW4gb2JqZWN0IG9yIG5vdC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGFuIG9iamVjdCBvciBub3QuXG4gKiBJZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYW4gb2JqZWN0LCByZXR1cm4gdHJ1ZS5cbiAqIEBwYXJhbSB7Kn0gb2JqIC0gVGFyZ2V0IGZvciBjaGVja2luZ1xuICogQHJldHVybnMge2Jvb2xlYW59IElzIG9iamVjdD9cbiAqIEBtZW1iZXJvZiBtb2R1bGU6dHlwZVxuICovXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gT2JqZWN0KG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG5cblxuLyoqKi8gfSksXG4vKiAyNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGZ1bmN0aW9uIG9yIG5vdC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgZnVuY3Rpb24gb3Igbm90LlxuICogSWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgZnVuY3Rpb24sIHJldHVybiB0cnVlLlxuICogQHBhcmFtIHsqfSBvYmogLSBUYXJnZXQgZm9yIGNoZWNraW5nXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgZnVuY3Rpb24/XG4gKiBAbWVtYmVyb2YgbW9kdWxlOnR5cGVcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEZ1bmN0aW9uO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb247XG5cblxuLyoqKi8gfSksXG4vKiAyNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBQcm92aWRlIGEgc2ltcGxlIGluaGVyaXRhbmNlIGluIHByb3RvdHlwZS1vcmllbnRlZC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgY3JlYXRlT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cbi8qKlxuICogUHJvdmlkZSBhIHNpbXBsZSBpbmhlcml0YW5jZSBpbiBwcm90b3R5cGUtb3JpZW50ZWQuXG4gKiBDYXV0aW9uIDpcbiAqICBEb24ndCBvdmVyd3JpdGUgdGhlIHByb3RvdHlwZSBvZiBjaGlsZCBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWJUeXBlIENoaWxkIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlclR5cGUgUGFyZW50IGNvbnN0cnVjdG9yXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmluaGVyaXRhbmNlXG4gKiBAZXhhbXBsZVxuICogdmFyIGluaGVyaXQgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2luaGVyaXRhbmNlL2luaGVyaXQnKTsgLy8gbm9kZSwgY29tbW9uanNcbiAqXG4gKiAvLyBQYXJlbnQgY29uc3RydWN0b3JcbiAqIGZ1bmN0aW9uIEFuaW1hbChsZWcpIHtcbiAqICAgICB0aGlzLmxlZyA9IGxlZztcbiAqIH1cbiAqIEFuaW1hbC5wcm90b3R5cGUuZ3Jvd2wgPSBmdW5jdGlvbigpIHtcbiAqICAgICAvLyAuLi5cbiAqIH07XG4gKlxuICogLy8gQ2hpbGQgY29uc3RydWN0b3JcbiAqIGZ1bmN0aW9uIFBlcnNvbihuYW1lKSB7XG4gKiAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAqIH1cbiAqXG4gKiAvLyBJbmhlcml0YW5jZVxuICogaW5oZXJpdChQZXJzb24sIEFuaW1hbCk7XG4gKlxuICogLy8gQWZ0ZXIgdGhpcyBpbmhlcml0YW5jZSwgcGxlYXNlIHVzZSBvbmx5IHRoZSBleHRlbmRpbmcgb2YgcHJvcGVydHkuXG4gKiAvLyBEbyBub3Qgb3ZlcndyaXRlIHByb3RvdHlwZS5cbiAqIFBlcnNvbi5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICogICAgIC8vIC4uLlxuICogfTtcbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChzdWJUeXBlLCBzdXBlclR5cGUpIHtcbiAgdmFyIHByb3RvdHlwZSA9IGNyZWF0ZU9iamVjdChzdXBlclR5cGUucHJvdG90eXBlKTtcbiAgcHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViVHlwZTtcbiAgc3ViVHlwZS5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5oZXJpdDtcblxuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENyZWF0ZSBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIHByb3RvdHlwZSBvYmplY3QgYW5kIHByb3BlcnRpZXMuXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxuLyoqXG4gKiBAbW9kdWxlIGluaGVyaXRhbmNlXG4gKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNwZWNpZmllZCBwcm90b3R5cGUgb2JqZWN0IGFuZCBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGlzIG9iamVjdCB3aWxsIGJlIGEgcHJvdG90eXBlIG9mIHRoZSBuZXdseS1jcmVhdGVkIG9iamVjdC5cbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiBAbWVtYmVyb2YgbW9kdWxlOmluaGVyaXRhbmNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU9iamVjdChvYmopIHtcbiAgZnVuY3Rpb24gRigpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICBGLnByb3RvdHlwZSA9IG9iajtcblxuICByZXR1cm4gbmV3IEYoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVPYmplY3Q7XG5cblxuLyoqKi8gfSksXG4vKiAyOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBBZGQgY3NzIGNsYXNzIHRvIGVsZW1lbnRcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgZm9yRWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgaW5BcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgZ2V0Q2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBzZXRDbGFzc05hbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxuLyoqXG4gKiBkb21VdGlsIG1vZHVsZVxuICogQG1vZHVsZSBkb21VdGlsXG4gKi9cblxuLyoqXG4gKiBBZGQgY3NzIGNsYXNzIHRvIGVsZW1lbnRcbiAqIEBwYXJhbSB7KEhUTUxFbGVtZW50fFNWR0VsZW1lbnQpfSBlbGVtZW50IC0gdGFyZ2V0IGVsZW1lbnRcbiAqIEBwYXJhbSB7Li4uc3RyaW5nfSBjc3NDbGFzcyAtIGNzcyBjbGFzc2VzIHRvIGFkZFxuICogQG1lbWJlcm9mIG1vZHVsZTpkb21VdGlsXG4gKi9cbmZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQpIHtcbiAgdmFyIGNzc0NsYXNzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgdmFyIGNsYXNzTGlzdCA9IGVsZW1lbnQuY2xhc3NMaXN0O1xuICB2YXIgbmV3Q2xhc3MgPSBbXTtcbiAgdmFyIG9yaWdpbjtcblxuICBpZiAoY2xhc3NMaXN0KSB7XG4gICAgZm9yRWFjaChjc3NDbGFzcywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKG5hbWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgb3JpZ2luID0gZ2V0Q2xhc3MoZWxlbWVudCk7XG5cbiAgaWYgKG9yaWdpbikge1xuICAgIGNzc0NsYXNzID0gW10uY29uY2F0KG9yaWdpbi5zcGxpdCgvXFxzKy8pLCBjc3NDbGFzcyk7XG4gIH1cblxuICBmb3JFYWNoKGNzc0NsYXNzLCBmdW5jdGlvbihjbHMpIHtcbiAgICBpZiAoaW5BcnJheShjbHMsIG5ld0NsYXNzKSA8IDApIHtcbiAgICAgIG5ld0NsYXNzLnB1c2goY2xzKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNldENsYXNzTmFtZShlbGVtZW50LCBuZXdDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYWRkQ2xhc3M7XG5cblxuLyoqKi8gfSksXG4vKiAzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBDaGVjayBlbGVtZW50IG1hdGNoIHNlbGVjdG9yXG4gKiBAYXV0aG9yIE5ITiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGluQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIHRvQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblxudmFyIGVsUHJvdG8gPSBFbGVtZW50LnByb3RvdHlwZTtcbnZhciBtYXRjaFNlbGVjdG9yID0gZWxQcm90by5tYXRjaGVzIHx8XG4gICAgZWxQcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBlbFByb3RvLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgIGVsUHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50O1xuXG4gICAgICByZXR1cm4gaW5BcnJheSh0aGlzLCB0b0FycmF5KGRvYy5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkpID4gLTE7XG4gICAgfTtcblxuLyoqXG4gKiBDaGVjayBlbGVtZW50IG1hdGNoIHNlbGVjdG9yXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byBjaGVja1xuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gc2VsZWN0b3IgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBpcyBzZWxlY3RvciBtYXRjaGVkIHRvIGVsZW1lbnQ/XG4gKiBAbWVtYmVyb2YgbW9kdWxlOmRvbVV0aWxcbiAqL1xuZnVuY3Rpb24gbWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICByZXR1cm4gbWF0Y2hTZWxlY3Rvci5jYWxsKGVsZW1lbnQsIHNlbGVjdG9yKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXRjaGVzO1xuXG5cbi8qKiovIH0pLFxuLyogMzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVHJhbnNmb3JtIHRoZSBBcnJheS1saWtlIG9iamVjdCB0byBBcnJheS5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgZm9yRWFjaEFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIEFycmF5LWxpa2Ugb2JqZWN0IHRvIEFycmF5LlxuICogSW4gbG93IElFIChiZWxvdyA4KSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwgaXMgbm90IHBlcmZlY3QuIFNvLCB0cnktY2F0Y2ggc3RhdGVtZW50IGlzIHVzZWQuXG4gKiBAcGFyYW0geyp9IGFycmF5TGlrZSBBcnJheS1saWtlIG9iamVjdFxuICogQHJldHVybnMge0FycmF5fSBBcnJheVxuICogQG1lbWJlcm9mIG1vZHVsZTpjb2xsZWN0aW9uXG4gKiBAZXhhbXBsZVxuICogdmFyIHRvQXJyYXkgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L2NvbGxlY3Rpb24vdG9BcnJheScpOyAvLyBub2RlLCBjb21tb25qc1xuICpcbiAqIHZhciBhcnJheUxpa2UgPSB7XG4gKiAgICAgMDogJ29uZScsXG4gKiAgICAgMTogJ3R3bycsXG4gKiAgICAgMjogJ3RocmVlJyxcbiAqICAgICAzOiAnZm91cicsXG4gKiAgICAgbGVuZ3RoOiA0XG4gKiB9O1xuICogdmFyIHJlc3VsdCA9IHRvQXJyYXkoYXJyYXlMaWtlKTtcbiAqXG4gKiBhbGVydChyZXN1bHQgaW5zdGFuY2VvZiBBcnJheSk7IC8vIHRydWVcbiAqIGFsZXJ0KHJlc3VsdCk7IC8vIG9uZSx0d28sdGhyZWUsZm91clxuICovXG5mdW5jdGlvbiB0b0FycmF5KGFycmF5TGlrZSkge1xuICB2YXIgYXJyO1xuICB0cnkge1xuICAgIGFyciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycmF5TGlrZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBhcnIgPSBbXTtcbiAgICBmb3JFYWNoQXJyYXkoYXJyYXlMaWtlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgYXJyLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b0FycmF5O1xuXG5cbi8qKiovIH0pLFxuLyogMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgUmVtb3ZlIGNzcyBjbGFzcyBmcm9tIGVsZW1lbnRcbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgZm9yRWFjaEFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBpbkFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBnZXRDbGFzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIHNldENsYXNzTmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG4vKipcbiAqIFJlbW92ZSBjc3MgY2xhc3MgZnJvbSBlbGVtZW50XG4gKiBAcGFyYW0geyhIVE1MRWxlbWVudHxTVkdFbGVtZW50KX0gZWxlbWVudCAtIHRhcmdldCBlbGVtZW50XG4gKiBAcGFyYW0gey4uLnN0cmluZ30gY3NzQ2xhc3MgLSBjc3MgY2xhc3NlcyB0byByZW1vdmVcbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZG9tVXRpbFxuICovXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50KSB7XG4gIHZhciBjc3NDbGFzcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHZhciBjbGFzc0xpc3QgPSBlbGVtZW50LmNsYXNzTGlzdDtcbiAgdmFyIG9yaWdpbiwgbmV3Q2xhc3M7XG5cbiAgaWYgKGNsYXNzTGlzdCkge1xuICAgIGZvckVhY2hBcnJheShjc3NDbGFzcywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcbiAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIG9yaWdpbiA9IGdldENsYXNzKGVsZW1lbnQpLnNwbGl0KC9cXHMrLyk7XG4gIG5ld0NsYXNzID0gW107XG4gIGZvckVhY2hBcnJheShvcmlnaW4sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAoaW5BcnJheShuYW1lLCBjc3NDbGFzcykgPCAwKSB7XG4gICAgICBuZXdDbGFzcy5wdXNoKG5hbWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2V0Q2xhc3NOYW1lKGVsZW1lbnQsIG5ld0NsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZW1vdmVDbGFzcztcblxuXG4vKioqLyB9KSxcbi8qIDMzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgbnVtYmVyIG9yIG5vdC5cbiAqIEBhdXRob3IgTkhOIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgbnVtYmVyIG9yIG5vdC5cbiAqIElmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIG51bWJlciwgcmV0dXJuIHRydWUuXG4gKiBAcGFyYW0geyp9IG9iaiAtIFRhcmdldCBmb3IgY2hlY2tpbmdcbiAqIEByZXR1cm5zIHtib29sZWFufSBJcyBudW1iZXI/XG4gKiBAbWVtYmVyb2YgbW9kdWxlOnR5cGVcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSAnbnVtYmVyJyB8fCBvYmogaW5zdGFuY2VvZiBOdW1iZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNOdW1iZXI7XG5cblxuLyoqKi8gfSksXG4vKiAzNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBTcGluYm94IChpbiBUaW1lUGlja2VyKVxuICogQGF1dGhvciBOSE4uIEZFIERldmVsb3BtZW50IExhYiA8ZGxfamF2YXNjcmlwdEBuaG4uY29tPlxuICovXG5cblxuXG52YXIgaW5BcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgZm9yRWFjaEFycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBDdXN0b21FdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIGRlZmluZUNsYXNzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBleHRlbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG52YXIgb2ZmID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG52YXIgY2xvc2VzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIHJlbW92ZUVsZW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbnZhciBpc0hUTUxOb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbnZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG52YXIgdG1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXG52YXIgU0VMRUNUT1JfVVBfQlVUVE9OID0gJy50dWktdGltZXBpY2tlci1idG4tdXAnO1xudmFyIFNFTEVDVE9SX0RPV05fQlVUVE9OID0gJy50dWktdGltZXBpY2tlci1idG4tZG93bic7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudH0gY29udGFpbmVyIC0gQ29udGFpbmVyIG9mIHNwaW5ib3ggb3Igc2VsZWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIGZvciBpbml0aWFsaXphdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmluaXRpYWxWYWx1ZV0gLSBpbml0aWFsIHNldHRpbmcgdmFsdWVcbiAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcj59IGl0ZW1zIC0gSXRlbXNcbiAqL1xudmFyIFNwaW5ib3ggPSBkZWZpbmVDbGFzcyhcbiAgLyoqIEBsZW5kcyBTcGluYm94LnByb3RvdHlwZSAqLyB7XG4gICAgaW5pdDogZnVuY3Rpb24oY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gZXh0ZW5kKFxuICAgICAgICB7XG4gICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gaXNIVE1MTm9kZShjb250YWluZXIpXG4gICAgICAgID8gY29udGFpbmVyXG4gICAgICAgIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuXG4gICAgICAvKipcbiAgICAgICAqIFNwaW5ib3ggZWxlbWVudFxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5faW5wdXRFbGVtZW50ID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBTcGluYm94IHZhbHVlIGl0ZW1zXG4gICAgICAgKiBAdHlwZSB7QXJyYXkuPG51bWJlcj59XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9pdGVtcyA9IG9wdGlvbnMuaXRlbXM7XG5cbiAgICAgIC8qKlxuICAgICAgICogU2VsZWN0Ym94IGRpc2FibGVkIGl0ZW1zIGluZm9cbiAgICAgICAqIEB0eXBlIHtBcnJheS48bnVtYmVyPn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2Rpc2FibGVkSXRlbXMgPSBvcHRpb25zLmRpc2FibGVkSXRlbXMgfHwgW107XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3NlbGVjdGVkSW5kZXggPSBNYXRoLm1heCgwLCBpbkFycmF5KG9wdGlvbnMuaW5pdGlhbFZhbHVlLCB0aGlzLl9pdGVtcykpO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRpbWUgZm9ybWF0IGZvciBvdXRwdXRcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9mb3JtYXQgPSBvcHRpb25zLmZvcm1hdDtcblxuICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICB0aGlzLl9zZXRFdmVudHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHNwaW5ib3hcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGluZGV4ID0gaW5BcnJheSh0aGlzLmdldFZhbHVlKCksIHRoaXMuX2l0ZW1zKTtcbiAgICAgIHZhciBjb250ZXh0O1xuXG4gICAgICBpZiAodGhpcy5fZGlzYWJsZWRJdGVtc1tpbmRleF0pIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRJbmRleCA9IHRoaXMuX2ZpbmRFbmFibGVkSW5kZXgoKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQgPSB7XG4gICAgICAgIG1heExlbmd0aDogdGhpcy5fZ2V0TWF4TGVuZ3RoKCksXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdGhpcy5nZXRWYWx1ZSgpLFxuICAgICAgICBmb3JtYXQ6IHRoaXMuX2Zvcm1hdCxcbiAgICAgICAgZm9ybWF0VGltZTogdXRpbC5mb3JtYXRUaW1lXG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gdG1wbChjb250ZXh0KTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9jb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICAgIHRoaXMuX2lucHV0RWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgaW5kZXggb2YgdGhlIGVuYWJsZWQgaXRlbVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gZmluZCBzZWxlY3RlZCBpbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpbmRFbmFibGVkSW5kZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGluQXJyYXkoZmFsc2UsIHRoaXMuX2Rpc2FibGVkSXRlbXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG1heGxlbmd0aCBvZiB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0TWF4TGVuZ3RoOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsZW5ndGhzID0gW107XG5cbiAgICAgIGZvckVhY2hBcnJheSh0aGlzLl9pdGVtcywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBsZW5ndGhzLnB1c2goU3RyaW5nKGl0ZW0pLmxlbmd0aCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIGxlbmd0aHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgZGlzYWJsZWRJdGVtc1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkaXNhYmxlZEl0ZW1zIC0gZGlzYWJsZWQgc3RhdHVzIG9mIGl0ZW1zXG4gICAgICovXG4gICAgc2V0RGlzYWJsZWRJdGVtczogZnVuY3Rpb24oZGlzYWJsZWRJdGVtcykge1xuICAgICAgdGhpcy5fZGlzYWJsZWRJdGVtcyA9IGRpc2FibGVkSXRlbXM7XG4gICAgICB0aGlzLl9jaGFuZ2VUb0lucHV0VmFsdWUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXNzaWduIGRlZmF1bHQgZXZlbnRzIHRvIHVwL2Rvd24gYnV0dG9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0RXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIG9uKHRoaXMuX2NvbnRhaW5lciwgJ2NsaWNrJywgdGhpcy5fb25DbGlja0hhbmRsZXIsIHRoaXMpO1xuICAgICAgb24odGhpcy5faW5wdXRFbGVtZW50LCAna2V5ZG93bicsIHRoaXMuX29uS2V5ZG93bklucHV0RWxlbWVudCwgdGhpcyk7XG4gICAgICBvbih0aGlzLl9pbnB1dEVsZW1lbnQsICdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUhhbmRsZXIsIHRoaXMpO1xuXG4gICAgICB0aGlzLm9uKFxuICAgICAgICAnY2hhbmdlSXRlbXMnLFxuICAgICAgICBmdW5jdGlvbihpdGVtcykge1xuICAgICAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBldmVudHMgdG8gdXAvZG93biBidXR0b25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW1vdmVFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5vZmYoKTtcblxuICAgICAgb2ZmKHRoaXMuX2NvbnRhaW5lciwgJ2NsaWNrJywgdGhpcy5fb25DbGlja0hhbmRsZXIsIHRoaXMpO1xuICAgICAgb2ZmKHRoaXMuX2lucHV0RWxlbWVudCwgJ2tleWRvd24nLCB0aGlzLl9vbktleWRvd25JbnB1dEVsZW1lbnQsIHRoaXMpO1xuICAgICAgb2ZmKHRoaXMuX2lucHV0RWxlbWVudCwgJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlSGFuZGxlciwgdGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsaWNrIGV2ZW50IGhhbmRsZXJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldiAtIENoYW5nZSBldmVudCBvbiB1cC9kb3duIGJ1dHRvbnMuXG4gICAgICovXG4gICAgX29uQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbihldikge1xuICAgICAgdmFyIHRhcmdldCA9IHV0aWwuZ2V0VGFyZ2V0KGV2KTtcblxuICAgICAgaWYgKGNsb3Nlc3QodGFyZ2V0LCBTRUxFQ1RPUl9ET1dOX0JVVFRPTikpIHtcbiAgICAgICAgdGhpcy5fc2V0TmV4dFZhbHVlKHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChjbG9zZXN0KHRhcmdldCwgU0VMRUNUT1JfVVBfQlVUVE9OKSkge1xuICAgICAgICB0aGlzLl9zZXROZXh0VmFsdWUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgaW5wdXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRG93biAtIEZyb20gZG93bi1hY3Rpb24/XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0TmV4dFZhbHVlOiBmdW5jdGlvbihpc0Rvd24pIHtcbiAgICAgIHZhciBpbmRleCA9IHRoaXMuX3NlbGVjdGVkSW5kZXg7XG5cbiAgICAgIGlmIChpc0Rvd24pIHtcbiAgICAgICAgaW5kZXggPSBpbmRleCA/IGluZGV4IC0gMSA6IHRoaXMuX2l0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgdGhpcy5faXRlbXMubGVuZ3RoIC0gMSA/IGluZGV4ICsgMSA6IDA7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9kaXNhYmxlZEl0ZW1zW2luZGV4XSkge1xuICAgICAgICB0aGlzLl9zZWxlY3RlZEluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuX3NldE5leHRWYWx1ZShpc0Rvd24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLl9pdGVtc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBET00oSW5wdXQgZWxlbWVudCkgS2V5ZG93biBFdmVudCBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXYgZXZlbnQtb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25LZXlkb3duSW5wdXRFbGVtZW50OiBmdW5jdGlvbihldikge1xuICAgICAgdmFyIGtleUNvZGUgPSBldi53aGljaCB8fCBldi5rZXlDb2RlO1xuICAgICAgdmFyIGlzRG93bjtcblxuICAgICAgaWYgKGNsb3Nlc3QodXRpbC5nZXRUYXJnZXQoZXYpLCAnaW5wdXQnKSkge1xuICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgaXNEb3duID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgaXNEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXROZXh0VmFsdWUoaXNEb3duKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRE9NKElucHV0IGVsZW1lbnQpIENoYW5nZSBFdmVudCBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXYgQ2hhbmdlIGV2ZW50IG9uIGFuIGlucHV0IGVsZW1lbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25DaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbihldikge1xuICAgICAgaWYgKGNsb3Nlc3QodXRpbC5nZXRUYXJnZXQoZXYpLCAnaW5wdXQnKSkge1xuICAgICAgICB0aGlzLl9jaGFuZ2VUb0lucHV0VmFsdWUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHZhbHVlIHRvIGlucHV0LWJveCBpZiBpdCBpcyB2YWxpZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jaGFuZ2VUb0lucHV0VmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5ld1ZhbHVlID0gTnVtYmVyKHRoaXMuX2lucHV0RWxlbWVudC52YWx1ZSk7XG4gICAgICB2YXIgbmV3SW5kZXggPSBpbkFycmF5KG5ld1ZhbHVlLCB0aGlzLl9pdGVtcyk7XG5cbiAgICAgIGlmICh0aGlzLl9kaXNhYmxlZEl0ZW1zW25ld0luZGV4XSkge1xuICAgICAgICBuZXdJbmRleCA9IHRoaXMuX2ZpbmRFbmFibGVkSW5kZXgoKTtcbiAgICAgICAgbmV3VmFsdWUgPSB0aGlzLl9pdGVtc1tuZXdJbmRleF07XG4gICAgICB9IGVsc2UgaWYgKG5ld0luZGV4ID09PSB0aGlzLl9zZWxlY3RlZEluZGV4KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0luZGV4ID09PSAtMSkge1xuICAgICAgICB0aGlzLnNldFZhbHVlKHRoaXMuX2l0ZW1zW3RoaXMuX3NlbGVjdGVkSW5kZXhdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkSW5kZXggPSBuZXdJbmRleDtcbiAgICAgICAgdGhpcy5maXJlKCdjaGFuZ2UnLCB7XG4gICAgICAgICAgdmFsdWU6IG5ld1ZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdmFsdWUgdG8gaW5wdXQtYm94LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFZhbHVlXG4gICAgICovXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB0aGlzLl9pbnB1dEVsZW1lbnQudmFsdWUgPSB1dGlsLmZvcm1hdFRpbWUodmFsdWUsIHRoaXMuX2Zvcm1hdCk7XG4gICAgICB0aGlzLl9jaGFuZ2VUb0lucHV0VmFsdWUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjdXJyZW50IHZhbHVlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlbXNbdGhpcy5fc2VsZWN0ZWRJbmRleF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlc3RvcnlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50cygpO1xuICAgICAgcmVtb3ZlRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9pbnB1dEVsZW1lbnQgPSB0aGlzLl9pdGVtcyA9IHRoaXMuX3NlbGVjdGVkSW5kZXggPSBudWxsO1xuICAgIH1cbiAgfVxuKTtcblxuQ3VzdG9tRXZlbnRzLm1peGluKFNwaW5ib3gpO1xubW9kdWxlLmV4cG9ydHMgPSBTcGluYm94O1xuXG5cbi8qKiovIH0pLFxuLyogMzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgU2VuZCBob3N0bmFtZSBvbiBET01Db250ZW50TG9hZGVkLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBpc1VuZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgaW1hZ2VQaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cbnZhciBtczdkYXlzID0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGRhdGUgaGFzIHBhc3NlZCA3IGRheXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkYXRlIC0gbWlsbGlzZWNvbmRzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGlzRXhwaXJlZChkYXRlKSB7XG4gIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICByZXR1cm4gbm93IC0gZGF0ZSA+IG1zN2RheXM7XG59XG5cbi8qKlxuICogU2VuZCBob3N0bmFtZSBvbiBET01Db250ZW50TG9hZGVkLlxuICogVG8gcHJldmVudCBob3N0bmFtZSBzZXQgdHVpLnVzYWdlU3RhdGlzdGljcyB0byBmYWxzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBOYW1lIC0gYXBwbGljYXRpb24gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHRyYWNraW5nSWQgLSBHQSB0cmFja2luZyBJRFxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBzZW5kSG9zdG5hbWUoYXBwTmFtZSwgdHJhY2tpbmdJZCkge1xuICB2YXIgdXJsID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tL2NvbGxlY3QnO1xuICB2YXIgaG9zdG5hbWUgPSBsb2NhdGlvbi5ob3N0bmFtZTtcbiAgdmFyIGhpdFR5cGUgPSAnZXZlbnQnO1xuICB2YXIgZXZlbnRDYXRlZ29yeSA9ICd1c2UnO1xuICB2YXIgYXBwbGljYXRpb25LZXlGb3JTdG9yYWdlID0gJ1RPQVNUIFVJICcgKyBhcHBOYW1lICsgJyBmb3IgJyArIGhvc3RuYW1lICsgJzogU3RhdGlzdGljcyc7XG4gIHZhciBkYXRlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGFwcGxpY2F0aW9uS2V5Rm9yU3RvcmFnZSk7XG5cbiAgLy8gc2tpcCBpZiB0aGUgZmxhZyBpcyBkZWZpbmVkIGFuZCBpcyBzZXQgdG8gZmFsc2UgZXhwbGljaXRseVxuICBpZiAoIWlzVW5kZWZpbmVkKHdpbmRvdy50dWkpICYmIHdpbmRvdy50dWkudXNhZ2VTdGF0aXN0aWNzID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHNraXAgaWYgbm90IHBhc3Mgc2V2ZW4gZGF5cyBvbGRcbiAgaWYgKGRhdGUgJiYgIWlzRXhwaXJlZChkYXRlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShhcHBsaWNhdGlvbktleUZvclN0b3JhZ2UsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgIGltYWdlUGluZyh1cmwsIHtcbiAgICAgICAgdjogMSxcbiAgICAgICAgdDogaGl0VHlwZSxcbiAgICAgICAgdGlkOiB0cmFja2luZ0lkLFxuICAgICAgICBjaWQ6IGhvc3RuYW1lLFxuICAgICAgICBkcDogaG9zdG5hbWUsXG4gICAgICAgIGRoOiBhcHBOYW1lLFxuICAgICAgICBlbDogYXBwTmFtZSxcbiAgICAgICAgZWM6IGV2ZW50Q2F0ZWdvcnlcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgMTAwMCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2VuZEhvc3RuYW1lO1xuXG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgUmVxdWVzdCBpbWFnZSBwaW5nLlxuICogQGF1dGhvciBOSE4gRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obi5jb20+XG4gKi9cblxuXG5cbnZhciBmb3JFYWNoT3duUHJvcGVydGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG4vKipcbiAqIEBtb2R1bGUgcmVxdWVzdFxuICovXG5cbi8qKlxuICogUmVxdWVzdCBpbWFnZSBwaW5nLlxuICogQHBhcmFtIHtTdHJpbmd9IHVybCB1cmwgZm9yIHBpbmcgcmVxdWVzdFxuICogQHBhcmFtIHtPYmplY3R9IHRyYWNraW5nSW5mbyBpbmZvcyBmb3IgbWFrZSBxdWVyeSBzdHJpbmdcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAqIEBtZW1iZXJvZiBtb2R1bGU6cmVxdWVzdFxuICogQGV4YW1wbGVcbiAqIHZhciBpbWFnZVBpbmcgPSByZXF1aXJlKCd0dWktY29kZS1zbmlwcGV0L3JlcXVlc3QvaW1hZ2VQaW5nJyk7IC8vIG5vZGUsIGNvbW1vbmpzXG4gKlxuICogaW1hZ2VQaW5nKCdodHRwczovL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9jb2xsZWN0Jywge1xuICogICAgIHY6IDEsXG4gKiAgICAgdDogJ2V2ZW50JyxcbiAqICAgICB0aWQ6ICd0cmFja2luZ2lkJyxcbiAqICAgICBjaWQ6ICdjaWQnLFxuICogICAgIGRwOiAnZHAnLFxuICogICAgIGRoOiAnZGgnXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gaW1hZ2VQaW5nKHVybCwgdHJhY2tpbmdJbmZvKSB7XG4gIHZhciB0cmFja2luZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgdmFyIHF1ZXJ5U3RyaW5nID0gJyc7XG4gIGZvckVhY2hPd25Qcm9wZXJ0aWVzKHRyYWNraW5nSW5mbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHF1ZXJ5U3RyaW5nICs9ICcmJyArIGtleSArICc9JyArIHZhbHVlO1xuICB9KTtcbiAgcXVlcnlTdHJpbmcgPSBxdWVyeVN0cmluZy5zdWJzdHJpbmcoMSk7XG5cbiAgdHJhY2tpbmdFbGVtZW50LnNyYyA9IHVybCArICc/JyArIHF1ZXJ5U3RyaW5nO1xuXG4gIHRyYWNraW5nRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRyYWNraW5nRWxlbWVudCk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodHJhY2tpbmdFbGVtZW50KTtcblxuICByZXR1cm4gdHJhY2tpbmdFbGVtZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGltYWdlUGluZztcblxuXG4vKioqLyB9KSxcbi8qIDM3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0ZW1wbGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgc291cmNlID1cbiAgICAgICc8ZGl2IGNsYXNzPVwidHVpLXRpbWVwaWNrZXItYnRuLWFyZWFcIj4nXG4gICAgKyAnICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cInR1aS10aW1lcGlja2VyLXNwaW5ib3gtaW5wdXRcIidcbiAgICArICcgICAgICAgIG1heGxlbmd0aD1cInt7bWF4TGVuZ3RofX1cIidcbiAgICArICcgICAgICAgIHNpemU9XCJ7e21heExlbmd0aH19XCInXG4gICAgKyAnICAgICAgICB2YWx1ZT1cInt7Zm9ybWF0VGltZSBpbml0aWFsVmFsdWUgZm9ybWF0fX1cIidcbiAgICArICcgICAgICAgIGFyaWEtbGFiZWw9XCJUaW1lUGlja2VyIHNwaW5ib3ggdmFsdWVcIj4nXG4gICAgKyAnICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInR1aS10aW1lcGlja2VyLWJ0biB0dWktdGltZXBpY2tlci1idG4tdXBcIj4nXG4gICAgKyAnICAgIDxzcGFuIGNsYXNzPVwidHVpLWljby10LWJ0blwiPkluY3JlYXNlPC9zcGFuPidcbiAgICArICcgIDwvYnV0dG9uPidcbiAgICArICcgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHVpLXRpbWVwaWNrZXItYnRuIHR1aS10aW1lcGlja2VyLWJ0bi1kb3duXCI+J1xuICAgICsgJyAgICA8c3BhbiBjbGFzcz1cInR1aS1pY28tdC1idG5cIj5EZWNyZWFzZTwvc3Bhbj4nXG4gICAgKyAnICA8L2J1dHRvbj4nXG4gICAgKyAnPC9kaXY+JztcblxuICByZXR1cm4gdGVtcGxhdGUoc291cmNlLCBjb250ZXh0KTtcbn07XG5cblxuXG4vKioqLyB9KSxcbi8qIDM4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNlbGVjdGJveCAoaW4gVGltZVBpY2tlcilcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxudmFyIGluQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEN1c3RvbUV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgZGVmaW5lQ2xhc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIGV4dGVuZCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcbnZhciBvZmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbnZhciBjbG9zZXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgcmVtb3ZlRWxlbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIGlzSFRNTE5vZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcbnZhciB0bXBsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ3xIVE1MRWxlbWVudH0gY29udGFpbmVyIC0gQ29udGFpbmVyIGVsZW1lbnQgb3Igc2VsZWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gT3B0aW9uc1xuICogQHBhcmFtIHtBcnJheS48bnVtYmVyPn0gb3B0aW9ucy5pdGVtcyAtIEl0ZW1zXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5pbml0aWFsVmFsdWUgLSBJbml0aWFsIHZhbHVlXG4gKi9cbnZhciBTZWxlY3Rib3ggPSBkZWZpbmVDbGFzcyhcbiAgLyoqIEBsZW5kcyBTZWxlY3Rib3gucHJvdG90eXBlICovIHtcbiAgICBpbml0OiBmdW5jdGlvbihjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBleHRlbmQoXG4gICAgICAgIHtcbiAgICAgICAgICBpdGVtczogW11cbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBDb250YWluZXIgZWxlbWVudFxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gaXNIVE1MTm9kZShjb250YWluZXIpXG4gICAgICAgID8gY29udGFpbmVyXG4gICAgICAgIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuXG4gICAgICAvKipcbiAgICAgICAqIFNlbGVjdGJveCBpdGVtc1xuICAgICAgICogQHR5cGUge0FycmF5LjxudW1iZXI+fVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5faXRlbXMgPSBvcHRpb25zLml0ZW1zIHx8IFtdO1xuXG4gICAgICAvKipcbiAgICAgICAqIFNlbGVjdGJveCBkaXNhYmxlZCBpdGVtcyBpbmZvXG4gICAgICAgKiBAdHlwZSB7QXJyYXkuPG51bWJlcj59XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9kaXNhYmxlZEl0ZW1zID0gb3B0aW9ucy5kaXNhYmxlZEl0ZW1zIHx8IFtdO1xuXG4gICAgICAvKipcbiAgICAgICAqIFNlbGVjdGVkIGluZGV4XG4gICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5fc2VsZWN0ZWRJbmRleCA9IE1hdGgubWF4KDAsIGluQXJyYXkob3B0aW9ucy5pbml0aWFsVmFsdWUsIHRoaXMuX2l0ZW1zKSk7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGltZSBmb3JtYXQgZm9yIG91dHB1dFxuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2Zvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuXG4gICAgICAvKipcbiAgICAgICAqIFNlbGVjdCBlbGVtZW50XG4gICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcblxuICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICB0aGlzLl9zZXRFdmVudHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHNlbGVjdGJveFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29udGV4dDtcblxuICAgICAgdGhpcy5fY2hhbmdlRW5hYmxlZEluZGV4KCk7XG4gICAgICBjb250ZXh0ID0ge1xuICAgICAgICBpdGVtczogdGhpcy5faXRlbXMsXG4gICAgICAgIGZvcm1hdDogdGhpcy5fZm9ybWF0LFxuICAgICAgICBpbml0aWFsVmFsdWU6IHRoaXMuZ2V0VmFsdWUoKSxcbiAgICAgICAgZGlzYWJsZWRJdGVtczogdGhpcy5fZGlzYWJsZWRJdGVtcyxcbiAgICAgICAgZm9ybWF0VGltZTogdXRpbC5mb3JtYXRUaW1lLFxuICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRWxlbWVudCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gdG1wbChjb250ZXh0KTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9jb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICAgIG9uKHRoaXMuX2VsZW1lbnQsICdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUhhbmRsZXIsIHRoaXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgdGhlIGluZGV4IG9mIHRoZSBlbmFibGVkIGl0ZW1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jaGFuZ2VFbmFibGVkSW5kZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGluZGV4ID0gaW5BcnJheSh0aGlzLmdldFZhbHVlKCksIHRoaXMuX2l0ZW1zKTtcbiAgICAgIGlmICh0aGlzLl9kaXNhYmxlZEl0ZW1zW2luZGV4XSkge1xuICAgICAgICB0aGlzLl9zZWxlY3RlZEluZGV4ID0gaW5BcnJheShmYWxzZSwgdGhpcy5fZGlzYWJsZWRJdGVtcyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBkaXNhYmxlZEl0ZW1zXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRpc2FibGVkSXRlbXMgLSBkaXNhYmxlZCBzdGF0dXMgb2YgaXRlbXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNldERpc2FibGVkSXRlbXM6IGZ1bmN0aW9uKGRpc2FibGVkSXRlbXMpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVkSXRlbXMgPSBkaXNhYmxlZEl0ZW1zO1xuICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBldmVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5vbihcbiAgICAgICAgJ2NoYW5nZUl0ZW1zJyxcbiAgICAgICAgZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZXZlbnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMub2ZmKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBlbGVtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICBvZmYodGhpcy5fZWxlbWVudCwgJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlSGFuZGxlciwgdGhpcyk7XG4gICAgICByZW1vdmVFbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgZXZlbnQgaGFuZGxlclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2IENoYW5nZSBldmVudCBvbiBhIHNlbGVjdCBlbGVtZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ2hhbmdlSGFuZGxlcjogZnVuY3Rpb24oZXYpIHtcbiAgICAgIGlmIChjbG9zZXN0KHV0aWwuZ2V0VGFyZ2V0KGV2KSwgJ3NlbGVjdCcpKSB7XG4gICAgICAgIHRoaXMuX3NldE5ld1ZhbHVlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCBuZXcgdmFsdWVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXROZXdWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmV3VmFsdWUgPSBOdW1iZXIodGhpcy5fZWxlbWVudC52YWx1ZSk7XG4gICAgICB0aGlzLl9zZWxlY3RlZEluZGV4ID0gaW5BcnJheShuZXdWYWx1ZSwgdGhpcy5faXRlbXMpO1xuICAgICAgdGhpcy5maXJlKCdjaGFuZ2UnLCB7XG4gICAgICAgIHZhbHVlOiBuZXdWYWx1ZVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY3VycmVudCB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW3RoaXMuX3NlbGVjdGVkSW5kZXhdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBOZXcgdmFsdWVcbiAgICAgKi9cbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBuZXdJbmRleCA9IGluQXJyYXkodmFsdWUsIHRoaXMuX2l0ZW1zKTtcblxuICAgICAgaWYgKG5ld0luZGV4ID4gLTEgJiYgbmV3SW5kZXggIT09IHRoaXMuX3NlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRJbmRleCA9IG5ld0luZGV4O1xuICAgICAgICB0aGlzLl9lbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3NldE5ld1ZhbHVlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlc3RvcnlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50cygpO1xuICAgICAgdGhpcy5fcmVtb3ZlRWxlbWVudCgpO1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5faXRlbXMgPSB0aGlzLl9zZWxlY3RlZEluZGV4ID0gdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfVxuICB9XG4pO1xuXG5DdXN0b21FdmVudHMubWl4aW4oU2VsZWN0Ym94KTtcbm1vZHVsZS5leHBvcnRzID0gU2VsZWN0Ym94O1xuXG5cbi8qKiovIH0pLFxuLyogMzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHRlbXBsYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBzb3VyY2UgPVxuICAgICAgJzxzZWxlY3QgY2xhc3M9XCJ0dWktdGltZXBpY2tlci1zZWxlY3RcIiBhcmlhLWxhYmVsPVwiVGltZVwiPidcbiAgICArICcgIHt7ZWFjaCBpdGVtc319J1xuICAgICsgJyAgICB7e2lmIGVxdWFscyBpbml0aWFsVmFsdWUgQHRoaXN9fSdcbiAgICArICcgICAgICA8b3B0aW9uIHZhbHVlPVwie3tAdGhpc319XCIgc2VsZWN0ZWQge3tpZiBkaXNhYmxlZEl0ZW1zW0BpbmRleF19fWRpc2FibGVke3svaWZ9fT57e2Zvcm1hdFRpbWUgQHRoaXMgZm9ybWF0fX08L29wdGlvbj4nXG4gICAgKyAnICAgIHt7ZWxzZX19J1xuICAgICsgJyAgICAgIDxvcHRpb24gdmFsdWU9XCJ7e0B0aGlzfX1cIiB7e2lmIGRpc2FibGVkSXRlbXNbQGluZGV4XX19ZGlzYWJsZWR7ey9pZn19Pnt7Zm9ybWF0VGltZSBAdGhpcyBmb3JtYXR9fTwvb3B0aW9uPidcbiAgICArICcgICAge3svaWZ9fSdcbiAgICArICcgIHt7L2VhY2h9fSdcbiAgICArICc8L3NlbGVjdD4nO1xuXG4gIHJldHVybiB0ZW1wbGF0ZShzb3VyY2UsIGNvbnRleHQpO1xufTtcblxuXG5cbi8qKiovIH0pLFxuLyogNDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgRGVmYXVsdCBsb2NhbGUgdGV4dHNcbiAqIEBhdXRob3IgTkhOLiBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuLmNvbT5cbiAqL1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGVuOiB7XG4gICAgYW06ICdBTScsXG4gICAgcG06ICdQTSdcbiAgfSxcbiAga286IHtcbiAgICBhbTogJ+yYpOyghCcsXG4gICAgcG06ICfsmKTtm4QnXG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiA0MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgdGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNvdXJjZSA9XG4gICAgICAnPGRpdiBjbGFzcz1cInR1aS10aW1lcGlja2VyXCI+J1xuICAgICsgJyAgPGRpdiBjbGFzcz1cInR1aS10aW1lcGlja2VyLWJvZHlcIj4nXG4gICAgKyAnICAgIDxkaXYgY2xhc3M9XCJ0dWktdGltZXBpY2tlci1yb3dcIj4nXG4gICAgKyAnICAgICAge3tpZiBpc1NwaW5ib3h9fSdcbiAgICArICcgICAgICAgIDxkaXYgY2xhc3M9XCJ0dWktdGltZXBpY2tlci1jb2x1bW4gdHVpLXRpbWVwaWNrZXItc3BpbmJveCB0dWktdGltZXBpY2tlci1ob3VyXCI+PC9kaXY+J1xuICAgICsgJyAgICAgICAgPHNwYW4gY2xhc3M9XCJ0dWktdGltZXBpY2tlci1jb2x1bW4gdHVpLXRpbWVwaWNrZXItY29sb25cIj48c3BhbiBjbGFzcz1cInR1aS1pY28tY29sb25cIj46PC9zcGFuPjwvc3Bhbj4nXG4gICAgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwidHVpLXRpbWVwaWNrZXItY29sdW1uIHR1aS10aW1lcGlja2VyLXNwaW5ib3ggdHVpLXRpbWVwaWNrZXItbWludXRlXCI+PC9kaXY+J1xuICAgICsgJyAgICAgICAge3tpZiBzaG93TWVyaWRpZW19fSdcbiAgICArICcgICAgICAgICAge3ttZXJpZGllbUVsZW1lbnR9fSdcbiAgICArICcgICAgICAgIHt7L2lmfX0nXG4gICAgKyAnICAgICAge3tlbHNlfX0nXG4gICAgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwidHVpLXRpbWVwaWNrZXItY29sdW1uIHR1aS10aW1lcGlja2VyLXNlbGVjdGJveCB0dWktdGltZXBpY2tlci1ob3VyXCI+PC9kaXY+J1xuICAgICsgJyAgICAgICAgPHNwYW4gY2xhc3M9XCJ0dWktdGltZXBpY2tlci1jb2x1bW4gdHVpLXRpbWVwaWNrZXItY29sb25cIj48c3BhbiBjbGFzcz1cInR1aS1pY28tY29sb25cIj46PC9zcGFuPjwvc3Bhbj4nXG4gICAgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwidHVpLXRpbWVwaWNrZXItY29sdW1uIHR1aS10aW1lcGlja2VyLXNlbGVjdGJveCB0dWktdGltZXBpY2tlci1taW51dGVcIj48L2Rpdj4nXG4gICAgKyAnICAgICAgICB7e2lmIHNob3dNZXJpZGllbX19J1xuICAgICsgJyAgICAgICAgICB7e21lcmlkaWVtRWxlbWVudH19J1xuICAgICsgJyAgICAgICAge3svaWZ9fSdcbiAgICArICcgICAgICB7ey9pZn19J1xuICAgICsgJyAgICA8L2Rpdj4nXG4gICAgKyAnICA8L2Rpdj4nXG4gICAgKyAnPC9kaXY+JztcblxuICByZXR1cm4gdGVtcGxhdGUoc291cmNlLCBjb250ZXh0KTtcbn07XG5cblxuXG4vKioqLyB9KSxcbi8qIDQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciB0ZW1wbGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgc291cmNlID1cbiAgICAgICd7e2lmIGlzU3BpbmJveH19J1xuICAgICsgJyAgPGRpdiBjbGFzcz1cInR1aS10aW1lcGlja2VyLWNvbHVtbiB0dWktdGltZXBpY2tlci1jaGVja2JveCB0dWktdGltZXBpY2tlci1tZXJpZGllbVwiPidcbiAgICArICcgICAgPGRpdiBjbGFzcz1cInR1aS10aW1lcGlja2VyLWNoZWNrLWFyZWFcIj4nXG4gICAgKyAnICAgICAgPHVsIGNsYXNzPVwidHVpLXRpbWVwaWNrZXItY2hlY2stbHN0XCI+J1xuICAgICsgJyAgICAgICAgPGxpIGNsYXNzPVwidHVpLXRpbWVwaWNrZXItY2hlY2tcIj4nXG4gICAgKyAnICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0dWktdGltZXBpY2tlci1yYWRpb1wiPidcbiAgICArICcgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCInXG4gICAgKyAnICAgICAgICAgICAgICAgICAgbmFtZT1cIm9wdGlvbnNSYWRpb3Mte3tyYWRpb0lkfX1cIidcbiAgICArICcgICAgICAgICAgICAgICAgICB2YWx1ZT1cIkFNXCInXG4gICAgKyAnICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0dWktdGltZXBpY2tlci1yYWRpby1hbVwiJ1xuICAgICsgJyAgICAgICAgICAgICAgICAgIGlkPVwidHVpLXRpbWVwaWNrZXItcmFkaW8tYW0te3tyYWRpb0lkfX1cIj4nXG4gICAgKyAnICAgICAgICAgICAgPGxhYmVsIGZvcj1cInR1aS10aW1lcGlja2VyLXJhZGlvLWFtLXt7cmFkaW9JZH19XCIgY2xhc3M9XCJ0dWktdGltZXBpY2tlci1yYWRpby1sYWJlbFwiPidcbiAgICArICcgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidHVpLXRpbWVwaWNrZXItaW5wdXQtcmFkaW9cIj48L3NwYW4+e3thbX19J1xuICAgICsgJyAgICAgICAgICAgIDwvbGFiZWw+J1xuICAgICsgJyAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICA8L2xpPidcbiAgICArICcgICAgICAgIDxsaSBjbGFzcz1cInR1aS10aW1lcGlja2VyLWNoZWNrXCI+J1xuICAgICsgJyAgICAgICAgICA8ZGl2IGNsYXNzPVwidHVpLXRpbWVwaWNrZXItcmFkaW9cIj4nXG4gICAgKyAnICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiJ1xuICAgICsgJyAgICAgICAgICAgICAgICAgIG5hbWU9XCJvcHRpb25zUmFkaW9zLXt7cmFkaW9JZH19XCInXG4gICAgKyAnICAgICAgICAgICAgICAgICAgdmFsdWU9XCJQTVwiJ1xuICAgICsgJyAgICAgICAgICAgICAgICAgIGNsYXNzPVwidHVpLXRpbWVwaWNrZXItcmFkaW8tcG1cIidcbiAgICArICcgICAgICAgICAgICAgICAgICBpZD1cInR1aS10aW1lcGlja2VyLXJhZGlvLXBtLXt7cmFkaW9JZH19XCI+J1xuICAgICsgJyAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ0dWktdGltZXBpY2tlci1yYWRpby1wbS17e3JhZGlvSWR9fVwiIGNsYXNzPVwidHVpLXRpbWVwaWNrZXItcmFkaW8tbGFiZWxcIj4nXG4gICAgKyAnICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInR1aS10aW1lcGlja2VyLWlucHV0LXJhZGlvXCI+PC9zcGFuPnt7cG19fSdcbiAgICArICcgICAgICAgICAgICA8L2xhYmVsPidcbiAgICArICcgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgPC9saT4nXG4gICAgKyAnICAgICAgPC91bD4nXG4gICAgKyAnICAgIDwvZGl2PidcbiAgICArICcgIDwvZGl2PidcbiAgICArICd7e2Vsc2V9fSdcbiAgICArICcgIDxkaXYgY2xhc3M9XCJ0dWktdGltZXBpY2tlci1jb2x1bW4gdHVpLXRpbWVwaWNrZXItc2VsZWN0Ym94IHR1aS1pcy1hZGQtcGlja2VyIHR1aS10aW1lcGlja2VyLW1lcmlkaWVtXCI+J1xuICAgICsgJyAgICA8c2VsZWN0IGNsYXNzPVwidHVpLXRpbWVwaWNrZXItc2VsZWN0XCIgYXJpYS1sYWJlbD1cIkFNL1BNXCI+J1xuICAgICsgJyAgICAgIDxvcHRpb24gdmFsdWU9XCJBTVwiPnt7YW19fTwvb3B0aW9uPidcbiAgICArICcgICAgICA8b3B0aW9uIHZhbHVlPVwiUE1cIj57e3BtfX08L29wdGlvbj4nXG4gICAgKyAnICAgIDwvc2VsZWN0PidcbiAgICArICcgIDwvZGl2PidcbiAgICArICd7ey9pZn19JztcblxuICByZXR1cm4gdGVtcGxhdGUoc291cmNlLCBjb250ZXh0KTtcbn07XG5cblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///337\n")},240:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval("\n// EXTERNAL MODULE: ./node_modules/tui-calendar/dist/tui-calendar.js\nvar tui_calendar = __webpack_require__(583);\nvar tui_calendar_default = /*#__PURE__*/__webpack_require__.n(tui_calendar);\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/rng.js\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/regex.js\n/* harmony default export */ const regex = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/validate.js\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && regex.test(uuid);\n}\n\n/* harmony default export */ const esm_browser_validate = (validate);\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/stringify.js\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!esm_browser_validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ const esm_browser_stringify = (stringify);\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/v4.js\n\n\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return esm_browser_stringify(rnds);\n}\n\n/* harmony default export */ const esm_browser_v4 = (v4);\n;// CONCATENATED MODULE: ./src/index.js\n\ufeff /* ES6 */\r\n\r\n\r\n\r\n// If you use the default popups, use this.\r\n\r\n\r\n\r\n//UUID\r\n\r\n\r\n\r\n\r\n//JS Interop For Tui Calendar and Blazor\r\n//https://nhn.github.io/tui.calendar/latest/\r\n//\r\n\r\nwindow.TUICalendar = {\r\n    calendarRef: null,\r\n    dotNetRef: null,\r\n    initializeCalendar: function (dotNetObjectReference, options) {\r\n        TUICalendar.calendarRef = new (tui_calendar_default())('#calendar', options\r\n            /*{\r\n            defaultView: 'month', // monthly view option\r\n            useCreationPopup: true,\r\n            useDetailPopup: true\r\n        }*/);\r\n        TUICalendar.dotNetRef = dotNetObjectReference;\r\n        //how do I separate\r\n        //this.calendarRef.on('beforeUpdateSchedule', function (event) { beforeUpdateScheduleB(event); });\r\n        //this.calendarRef.on('beforeUpdateSchedule',beforeUpdateSchedule);\r\n        //this.calendarRef.beforeUpdateSchedule = beforeUpdateSchedule2;\r\n\r\n\r\n        //Events\r\n        https://nhn.github.io/tui.calendar/latest/Calendar#event-beforeUpdateSchedule\r\n        TUICalendar.calendarRef.on('beforeUpdateSchedule', function (event) {\r\n            var schedule = event.schedule;\r\n            var changes = event.changes;\r\n            TUICalendar.dotNetRef.invokeMethodAsync('UpdateSchedule', schedule, changes);\r\n            TUICalendar.calendarRef.updateSchedule(schedule.id, schedule.calendarId, changes);\r\n        });\r\n\r\n        //beforeCreateSchedule\r\n        TUICalendar.calendarRef.on(\"beforeCreateSchedule\", function (event) {\r\n            var id = esm_browser_v4();\r\n            var schedule =\r\n            {\r\n                id: esm_browser_v4(),\r\n                calendarId: event.calendarId,\r\n                title: event.title,\r\n                location: event.location,\r\n                start: event.start,\r\n                end: event.end,\r\n                state: event.state,\r\n                isAllDay: event.isAllDay,\r\n                isVisible: true,\r\n                category: event.isAllDay ? 'allday' : 'time',                \r\n            };\r\n            TUICalendar.dotNetRef.invokeMethodAsync('CreateSchedule', schedule);\r\n            TUICalendar.calendarRef.createSchedules([schedule]);\r\n            TUICalendar.calendarRef.render(true);\r\n        });\r\n\r\n        //beforeDeleteSchedule\r\n        TUICalendar.calendarRef.on('beforeDeleteSchedule', function (event) {\r\n            TUICalendar.dotNetRef.invokeMethodAsync('DeleteSchedule', event.schedule.id);\r\n            TUICalendar.calendarRef.deleteSchedule(event.schedule.id, event.schedule.calendarId);\r\n        });\r\n\r\n        //clickSchedule\r\n        TUICalendar.calendarRef.on('clickSchedule', function (event) {\r\n            TUICalendar.dotNetRef.invokeMethodAsync('OnClickSchedule', event.schedule.id);\r\n            /*\r\n            var triggerEventName = event.triggerEventName;\r\n            if (triggerEventName === 'click') {\r\n                TUICalendar.dotNetRef.invokeMethodAsync('OnClickSchedule', event.schedule.id);\r\n            } else if (triggerEventName === 'dblclick') {\r\n                TUICalendar.dotNetRef.invokeMethodAsync('OnDoubleClickSchedule', event.schedule.id);\r\n            }\r\n            */\r\n        });\r\n\r\n    },\r\n\r\n    createSchedules: function (schedules) {\r\n        TUICalendar.calendarRef.createSchedules(schedules);\r\n    },\r\n\r\n    setCalendars: function (calendars) {\r\n        TUICalendar.calendarRef.setCalendars(calendars, true);\r\n    },\r\n\r\n    changeView: function (viewName) {\r\n        TUICalendar.calendarRef.changeView(viewName);\r\n    },\r\n\r\n    moveToNextOrPreviousOrToday: function (val) {\r\n        if (val === -1) {\r\n            TUICalendar.calendarRef.prev();\r\n        }\r\n        else if (val === 1) {\r\n            TUICalendar.calendarRef.next();\r\n        }\r\n        else if (val === 0) {\r\n            TUICalendar.calendarRef.today();\r\n        }\r\n    },\r\n\r\n    deleteSchedule: function (calendarId, scheduleId) {\r\n        TUICalendar.calendarRef.deleteSchedule(scheduleId, calendarId);\r\n    },\r\n\r\n    setCalendarOptions: function (options) {\r\n        TUICalendar.calendarRef.setOptions(options);\r\n    },\r\n\r\n    hideShowCalendar: function (calendarId, hide) {\r\n        TUICalendar.calendarRef.toggleSchedules(calendarId, hide);\r\n    },\r\n\r\n    setDate: function (date) {\r\n        TUICalendar.calendarRef.setDate(date);\r\n    },\r\n\r\n    getDateRangeStart: function () {\r\n        return TUICalendar.calendarRef.getDateRangeStart();\r\n    },\r\n\r\n    getDateRangeEnd: function () {\r\n        return TUICalendar.calendarRef.getDateRangeEnd();\r\n    },\r\n\r\n    scrollToNowInView: function () {\r\n        if (TUICalendar.calendarRef.getViewName() !== 'month') {\r\n            TUICalendar.calendarRef.scrollToNow();\r\n            TUICalendar.calendarRef.render();\r\n        }\r\n    },\r\n\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTnBtSlMvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcz9kOGY4Iiwid2VicGFjazovL05wbUpTLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcz80MGQ2Iiwid2VicGFjazovL05wbUpTLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcz8wNmU0Iiwid2VicGFjazovL05wbUpTLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanM/NThjZiIsIndlYnBhY2s6Ly9OcG1KUy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanM/ZWMyNiIsIndlYnBhY2s6Ly9OcG1KUy8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxudmFyIGdldFJhbmRvbVZhbHVlcztcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLiBBbHNvLFxuICAgIC8vIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byAobXNDcnlwdG8pIG9uIElFMTEuXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSB8fCB0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO1xuXG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7IiwiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbnZhciBieXRlVG9IZXggPSBbXTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpKTtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5KGFycikge1xuICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAvLyBOb3RlOiBCZSBjYXJlZnVsIGVkaXRpbmcgdGhpcyBjb2RlISAgSXQncyBiZWVuIHR1bmVkIGZvciBwZXJmb3JtYW5jZVxuICAvLyBhbmQgd29ya3MgaW4gd2F5cyB5b3UgbWF5IG5vdCBleHBlY3QuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC80MzRcbiAgdmFyIHV1aWQgPSAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7Iiwi77u/aW1wb3J0IENhbGVuZGFyIGZyb20gJ3R1aS1jYWxlbmRhcic7IC8qIEVTNiAqL1xyXG5cclxuaW1wb3J0IFwidHVpLWNhbGVuZGFyL2Rpc3QvdHVpLWNhbGVuZGFyLmNzc1wiO1xyXG5cclxuLy8gSWYgeW91IHVzZSB0aGUgZGVmYXVsdCBwb3B1cHMsIHVzZSB0aGlzLlxyXG5pbXBvcnQgJ3R1aS1kYXRlLXBpY2tlci9kaXN0L3R1aS1kYXRlLXBpY2tlci5jc3MnO1xyXG5pbXBvcnQgJ3R1aS10aW1lLXBpY2tlci9kaXN0L3R1aS10aW1lLXBpY2tlci5jc3MnO1xyXG5cclxuLy9VVUlEXHJcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xyXG5cclxuXHJcblxyXG4vL0pTIEludGVyb3AgRm9yIFR1aSBDYWxlbmRhciBhbmQgQmxhem9yXHJcbi8vaHR0cHM6Ly9uaG4uZ2l0aHViLmlvL3R1aS5jYWxlbmRhci9sYXRlc3QvXHJcbi8vXHJcblxyXG53aW5kb3cuVFVJQ2FsZW5kYXIgPSB7XHJcbiAgICBjYWxlbmRhclJlZjogbnVsbCxcclxuICAgIGRvdE5ldFJlZjogbnVsbCxcclxuICAgIGluaXRpYWxpemVDYWxlbmRhcjogZnVuY3Rpb24gKGRvdE5ldE9iamVjdFJlZmVyZW5jZSwgb3B0aW9ucykge1xyXG4gICAgICAgIFRVSUNhbGVuZGFyLmNhbGVuZGFyUmVmID0gbmV3IENhbGVuZGFyKCcjY2FsZW5kYXInLCBvcHRpb25zXHJcbiAgICAgICAgICAgIC8qe1xyXG4gICAgICAgICAgICBkZWZhdWx0VmlldzogJ21vbnRoJywgLy8gbW9udGhseSB2aWV3IG9wdGlvblxyXG4gICAgICAgICAgICB1c2VDcmVhdGlvblBvcHVwOiB0cnVlLFxyXG4gICAgICAgICAgICB1c2VEZXRhaWxQb3B1cDogdHJ1ZVxyXG4gICAgICAgIH0qLyk7XHJcbiAgICAgICAgVFVJQ2FsZW5kYXIuZG90TmV0UmVmID0gZG90TmV0T2JqZWN0UmVmZXJlbmNlO1xyXG4gICAgICAgIC8vaG93IGRvIEkgc2VwYXJhdGVcclxuICAgICAgICAvL3RoaXMuY2FsZW5kYXJSZWYub24oJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywgZnVuY3Rpb24gKGV2ZW50KSB7IGJlZm9yZVVwZGF0ZVNjaGVkdWxlQihldmVudCk7IH0pO1xyXG4gICAgICAgIC8vdGhpcy5jYWxlbmRhclJlZi5vbignYmVmb3JlVXBkYXRlU2NoZWR1bGUnLGJlZm9yZVVwZGF0ZVNjaGVkdWxlKTtcclxuICAgICAgICAvL3RoaXMuY2FsZW5kYXJSZWYuYmVmb3JlVXBkYXRlU2NoZWR1bGUgPSBiZWZvcmVVcGRhdGVTY2hlZHVsZTI7XHJcblxyXG5cclxuICAgICAgICAvL0V2ZW50c1xyXG4gICAgICAgIGh0dHBzOi8vbmhuLmdpdGh1Yi5pby90dWkuY2FsZW5kYXIvbGF0ZXN0L0NhbGVuZGFyI2V2ZW50LWJlZm9yZVVwZGF0ZVNjaGVkdWxlXHJcbiAgICAgICAgVFVJQ2FsZW5kYXIuY2FsZW5kYXJSZWYub24oJ2JlZm9yZVVwZGF0ZVNjaGVkdWxlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBzY2hlZHVsZSA9IGV2ZW50LnNjaGVkdWxlO1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlcyA9IGV2ZW50LmNoYW5nZXM7XHJcbiAgICAgICAgICAgIFRVSUNhbGVuZGFyLmRvdE5ldFJlZi5pbnZva2VNZXRob2RBc3luYygnVXBkYXRlU2NoZWR1bGUnLCBzY2hlZHVsZSwgY2hhbmdlcyk7XHJcbiAgICAgICAgICAgIFRVSUNhbGVuZGFyLmNhbGVuZGFyUmVmLnVwZGF0ZVNjaGVkdWxlKHNjaGVkdWxlLmlkLCBzY2hlZHVsZS5jYWxlbmRhcklkLCBjaGFuZ2VzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9iZWZvcmVDcmVhdGVTY2hlZHVsZVxyXG4gICAgICAgIFRVSUNhbGVuZGFyLmNhbGVuZGFyUmVmLm9uKFwiYmVmb3JlQ3JlYXRlU2NoZWR1bGVcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgICAgICB2YXIgc2NoZWR1bGUgPVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogdXVpZHY0KCksXHJcbiAgICAgICAgICAgICAgICBjYWxlbmRhcklkOiBldmVudC5jYWxlbmRhcklkLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IGV2ZW50LnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGV2ZW50LmxvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IGV2ZW50LnN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgZW5kOiBldmVudC5lbmQsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogZXZlbnQuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICBpc0FsbERheTogZXZlbnQuaXNBbGxEYXksXHJcbiAgICAgICAgICAgICAgICBpc1Zpc2libGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogZXZlbnQuaXNBbGxEYXkgPyAnYWxsZGF5JyA6ICd0aW1lJywgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFRVSUNhbGVuZGFyLmRvdE5ldFJlZi5pbnZva2VNZXRob2RBc3luYygnQ3JlYXRlU2NoZWR1bGUnLCBzY2hlZHVsZSk7XHJcbiAgICAgICAgICAgIFRVSUNhbGVuZGFyLmNhbGVuZGFyUmVmLmNyZWF0ZVNjaGVkdWxlcyhbc2NoZWR1bGVdKTtcclxuICAgICAgICAgICAgVFVJQ2FsZW5kYXIuY2FsZW5kYXJSZWYucmVuZGVyKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2JlZm9yZURlbGV0ZVNjaGVkdWxlXHJcbiAgICAgICAgVFVJQ2FsZW5kYXIuY2FsZW5kYXJSZWYub24oJ2JlZm9yZURlbGV0ZVNjaGVkdWxlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIFRVSUNhbGVuZGFyLmRvdE5ldFJlZi5pbnZva2VNZXRob2RBc3luYygnRGVsZXRlU2NoZWR1bGUnLCBldmVudC5zY2hlZHVsZS5pZCk7XHJcbiAgICAgICAgICAgIFRVSUNhbGVuZGFyLmNhbGVuZGFyUmVmLmRlbGV0ZVNjaGVkdWxlKGV2ZW50LnNjaGVkdWxlLmlkLCBldmVudC5zY2hlZHVsZS5jYWxlbmRhcklkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9jbGlja1NjaGVkdWxlXHJcbiAgICAgICAgVFVJQ2FsZW5kYXIuY2FsZW5kYXJSZWYub24oJ2NsaWNrU2NoZWR1bGUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgVFVJQ2FsZW5kYXIuZG90TmV0UmVmLmludm9rZU1ldGhvZEFzeW5jKCdPbkNsaWNrU2NoZWR1bGUnLCBldmVudC5zY2hlZHVsZS5pZCk7XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIHZhciB0cmlnZ2VyRXZlbnROYW1lID0gZXZlbnQudHJpZ2dlckV2ZW50TmFtZTtcclxuICAgICAgICAgICAgaWYgKHRyaWdnZXJFdmVudE5hbWUgPT09ICdjbGljaycpIHtcclxuICAgICAgICAgICAgICAgIFRVSUNhbGVuZGFyLmRvdE5ldFJlZi5pbnZva2VNZXRob2RBc3luYygnT25DbGlja1NjaGVkdWxlJywgZXZlbnQuc2NoZWR1bGUuaWQpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXJFdmVudE5hbWUgPT09ICdkYmxjbGljaycpIHtcclxuICAgICAgICAgICAgICAgIFRVSUNhbGVuZGFyLmRvdE5ldFJlZi5pbnZva2VNZXRob2RBc3luYygnT25Eb3VibGVDbGlja1NjaGVkdWxlJywgZXZlbnQuc2NoZWR1bGUuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICBjcmVhdGVTY2hlZHVsZXM6IGZ1bmN0aW9uIChzY2hlZHVsZXMpIHtcclxuICAgICAgICBUVUlDYWxlbmRhci5jYWxlbmRhclJlZi5jcmVhdGVTY2hlZHVsZXMoc2NoZWR1bGVzKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0Q2FsZW5kYXJzOiBmdW5jdGlvbiAoY2FsZW5kYXJzKSB7XHJcbiAgICAgICAgVFVJQ2FsZW5kYXIuY2FsZW5kYXJSZWYuc2V0Q2FsZW5kYXJzKGNhbGVuZGFycywgdHJ1ZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNoYW5nZVZpZXc6IGZ1bmN0aW9uICh2aWV3TmFtZSkge1xyXG4gICAgICAgIFRVSUNhbGVuZGFyLmNhbGVuZGFyUmVmLmNoYW5nZVZpZXcodmlld05hbWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBtb3ZlVG9OZXh0T3JQcmV2aW91c09yVG9kYXk6IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICBpZiAodmFsID09PSAtMSkge1xyXG4gICAgICAgICAgICBUVUlDYWxlbmRhci5jYWxlbmRhclJlZi5wcmV2KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbCA9PT0gMSkge1xyXG4gICAgICAgICAgICBUVUlDYWxlbmRhci5jYWxlbmRhclJlZi5uZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbCA9PT0gMCkge1xyXG4gICAgICAgICAgICBUVUlDYWxlbmRhci5jYWxlbmRhclJlZi50b2RheSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZGVsZXRlU2NoZWR1bGU6IGZ1bmN0aW9uIChjYWxlbmRhcklkLCBzY2hlZHVsZUlkKSB7XHJcbiAgICAgICAgVFVJQ2FsZW5kYXIuY2FsZW5kYXJSZWYuZGVsZXRlU2NoZWR1bGUoc2NoZWR1bGVJZCwgY2FsZW5kYXJJZCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldENhbGVuZGFyT3B0aW9uczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICBUVUlDYWxlbmRhci5jYWxlbmRhclJlZi5zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgfSxcclxuXHJcbiAgICBoaWRlU2hvd0NhbGVuZGFyOiBmdW5jdGlvbiAoY2FsZW5kYXJJZCwgaGlkZSkge1xyXG4gICAgICAgIFRVSUNhbGVuZGFyLmNhbGVuZGFyUmVmLnRvZ2dsZVNjaGVkdWxlcyhjYWxlbmRhcklkLCBoaWRlKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0RGF0ZTogZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgICBUVUlDYWxlbmRhci5jYWxlbmRhclJlZi5zZXREYXRlKGRhdGUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXREYXRlUmFuZ2VTdGFydDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBUVUlDYWxlbmRhci5jYWxlbmRhclJlZi5nZXREYXRlUmFuZ2VTdGFydCgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXREYXRlUmFuZ2VFbmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gVFVJQ2FsZW5kYXIuY2FsZW5kYXJSZWYuZ2V0RGF0ZVJhbmdlRW5kKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNjcm9sbFRvTm93SW5WaWV3OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKFRVSUNhbGVuZGFyLmNhbGVuZGFyUmVmLmdldFZpZXdOYW1lKCkgIT09ICdtb250aCcpIHtcclxuICAgICAgICAgICAgVFVJQ2FsZW5kYXIuY2FsZW5kYXJSZWYuc2Nyb2xsVG9Ob3coKTtcclxuICAgICAgICAgICAgVFVJQ2FsZW5kYXIuY2FsZW5kYXJSZWYucmVuZGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///240\n")}},__webpack_module_cache__={};function __webpack_require__(n){var e=__webpack_module_cache__[n];if(void 0!==e)return e.exports;var t=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n].call(t.exports,t,t.exports,__webpack_require__),t.exports}__webpack_require__.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(n,e)=>{for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},__webpack_require__.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var __webpack_exports__=__webpack_require__(240)})();